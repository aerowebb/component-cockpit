<div *ngFor="let attributesNode of attributesNodes" class="section">
  <div *ngIf="attributesNode.label" class="section-title">
    <h4>
      <b>{{ attributesNode.label }}</b>
    </h4>
    <!-- <i
      *ngIf="showHistory"
      class="fa fa-fw fa-history aw-icon aw-icon-with-border"
      aria-hidden="true"
      pTooltip="{{ 'global.historic' | translate }}"
      tooltipPosition="top"
      (click)="openHistoricAttributes()"
    ></i> -->
  </div>
  <div *ngIf="!attributesNode.label" class="section-title">
    <h4>
      <b>{{ "global.attributes" | translate }}</b>
    </h4>
    <i
      *ngIf="showHistory"
      class="fa fa-fw fa-history aw-icon aw-icon-with-border"
      aria-hidden="true"
      pTooltip="{{ 'global.historic' | translate }}"
      tooltipPosition="top"
      (click)="openHistoricAttributes()"
    ></i>
  </div>

  <div *ngIf="attributesNode.attributes" class="section-content">
    <div class="row">
      <aw-dynamic-attribute
        *ngFor="let attribute of attributesNode.attributes"
        [attribute]="attribute"
        [workflowControl]="controlByAttributeId[attribute.id]"
        [isReadOpenMode]="isReadOpenMode"
        class="attributes-column-width-{{ columnWidth }}"
      ></aw-dynamic-attribute>
    </div>

    <div *ngFor="let attributesChildNode of attributesNode.children" class="sub-section">
      <div *ngIf="attributesChildNode.label" class="section-title">
        <h4>{{ attributesChildNode.label }}</h4>
      </div>
      <div class="row">
        <aw-dynamic-attribute
          *ngFor="let attribute of attributesChildNode.attributes"
          [attribute]="attribute"
          [workflowControl]="controlByAttributeId[attribute.id]"
          [isReadOpenMode]="isReadOpenMode"
          class="attributes-column-width-{{ columnWidth }}"
        ></aw-dynamic-attribute>
      </div>
    </div>
  </div>

  <aw-dynamic-attributes-history
    *ngIf="showDynamicAttributesHistoric"
    [attributes]="attributesNodes"
    [history]="historyObservable"
    [deleteApi]="deleteApi"
    showDelete="true"
    [(display)]="showDynamicAttributesHistoric"
  ></aw-dynamic-attributes-history>
</div>
