@import "constants";
@import "mixins";

$release-version-container-width: 8rem;
$tile-header-height: calc(#{$margin-value} * 4);
$tile-content-height: calc(#{$tile-header-height} + #{$tile-header-height} / 2);

@mixin tile() {
  background-color: rgb(245, 245, 245);
  border-radius: $border-radius;
  margin: $margin-value;
  width: calc(100% / 6 - #{$margin-value} * 2);

  @media screen and (max-width: 1280px) {
    width: calc(100% / 3 - #{$margin-value} * 2);
  }
}

:host {
  #home-component {
    background-attachment: fixed;
    background-image: url("../../../assets/img/home-background.jpg");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    height: calc(100vh - #{$topbar-height});
    margin-top: $topbar-height;

    .page-container {
      min-height: 100%;

      .page-content {
        margin: 0 auto;
        max-width: calc(100% - 2 * #{$release-version-container-width});
      }

      .release-version {
        bottom: $margin-value;
        position: absolute;
        right: $margin-value;
        text-align: right;
        width: $release-version-container-width;
      }
    }
  }

  .logo-container {
    @include flex-column();

    height: 60vh;
    align-items: center;
    justify-content: center;

    .logo-aw {
      width: 40rem;
    }

    .logo-client {
      margin-top: 32px;
      width: 24rem;
    }
  }

  .tiles-container {
    @include flex-row();
  }

  .tile {
    @include tile();

    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);
    position: relative;

    transition-duration: 200ms;
    transition-property: box-shadow;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);

    &:hover:not(:active),
    &:focus-within:not(:active) {
      box-shadow: 0 3px 8px 0 rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.08);
    }

    .tile-header {
      @include flex-row();

      align-items: center;
      border-top-left-radius: $border-radius;
      border-top-right-radius: $border-radius;
      background: rgb(250, 250, 250);
      height: $tile-header-height;
      padding: 0 calc(#{$margin-value} / 2);
      width: 100%;

      .tile-title {
        @include text-overflow-hidden();

        cursor: pointer;
        flex-grow: 1;
        font-size: 0.875rem;
        padding-left: calc(#{$margin-value} / 2);
      }

      .tile-favorite {
        cursor: pointer;

        & > i {
          &:hover::before {
            color: #707070;
            content: "\f005";
          }
        }
      }
    }

    .tile-content {
      @include flex-column();

      cursor: pointer;
      height: $tile-content-height;
      justify-content: center;
      width: 100%;
    }

    .tile-context {
      @include flex-row();

      line-height: 1;
      max-height: calc(#{$margin-value} * 2);
      min-height: calc(#{$margin-value} * 2);
      padding: 0 calc(#{$margin-value} / 2);

      & > span {
        @include text-overflow-hidden();

        max-width: 100%;
      }
    }
  }

  .tile:hover .tile-remove,
  .tile:focus .tile-remove {
    opacity: 1;

    transition-delay: 500ms;
  }

  .tile-remove {
    @include flex-row();

    align-items: center;
    background: linear-gradient(to left, rgb(250, 250, 250) 60%, transparent);
    border-top-right-radius: $border-radius;
    color: rgba(90, 90, 90, 0.7);
    cursor: pointer;
    height: $tile-header-height;
    justify-content: flex-end;
    opacity: 0;
    position: absolute;
    right: 0;
    width: 2.5rem;

    transition: opacity 150ms;

    &:hover,
    &:focus {
      opacity: 1;

      transition: none;
    }

    &:hover > i {
      color: rgb(90, 90, 90);
    }

    &:active > i {
      color: rgb(66, 133, 244);
    }

    & > i {
      font-size: 1.125rem;
      padding-right: calc(#{$margin-value} / 2);
    }
  }

  .tile-empty {
    @include tile();

    border: $border-width dashed $border-color;
    color: $secondary-text-color;
    cursor: default;
    height: calc(#{$tile-header-height} + #{$tile-content-height});
    padding: $margin-value;
    text-align: center;

    .favorite-icon {
      color: $accent-color;
    }
  }

  .favorites-tip {
    @include flex-row();

    align-items: baseline;
    color: #707070;
    cursor: default;
    font-size: 0.6875rem;
    justify-content: center;
    width: 100%;
  }
}
