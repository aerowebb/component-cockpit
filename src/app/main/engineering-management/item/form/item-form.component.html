<div class="page-header">
  <div class="page-info">
    <div>
      <h2 class="page-title">
        {{ "transaction." + componentData.componentId | translate }}
      </h2>

      <div class="page-subtitle">
        <div *ngIf="!isCreateOpenMode && componentData && componentData.objectId" class="page-subtitle">
          - {{ subtitle }}
        </div>
      </div>
    </div>
  </div>

  <div class="page-actions">
    <button *ngIf="isReadOpenMode && hasUpdateAccessRight" type="button" mat-raised-button (click)="editItem()">
      {{ "global.edit" | translate }}
    </button>

    <button
      *ngIf="!isReadOpenMode && !isCreateOpenMode"
      type="button"
      color="warn"
      mat-raised-button
      (click)="cancelItem()"
    >
      {{ "global.cancel" | translate }}
    </button>

    <button
      *ngIf="!isReadOpenMode"
      class="btn-with-spinner"
      color="primary"
      type="button"
      mat-raised-button
      (click)="saveItem()"
    >
      <span class="lds-hourglass" *ngIf="showSaveSpinner"></span>
      {{ "global.save" | translate }}
    </button>

    <button
      mat-icon-button
      *ngIf="!isCreateOpenMode"
      class="mat-elevation-z1"
      matTooltip="{{ 'global.showAllActionTooltip' | translate }}"
      matTooltipPosition="above"
      aria-label="Show all actions"
      [matMenuTriggerFor]="actions"
    >
      <mat-icon>more_horiz</mat-icon>
    </button>

    <mat-menu #actions="matMenu">
      <button
        *ngIf="isReadOpenMode && !isCreateOpenMode"
        type="button"
        mat-menu-item
        (click)="openStatusUpdatesPopup()"
      >
        {{ "global.updates" | translate }}
      </button>

      <button *ngIf="isReadOpenMode && !isCreateOpenMode" type="button" mat-menu-item (click)="refreshItem()">
        {{ "global.refresh" | translate }}
      </button>

      <button *ngIf="isReadOpenMode && !isCreateOpenMode" type="button" mat-menu-item (click)="updateFavoriteState()">
        {{ "page." + (isFavoriteEntry ? "removeFromFavorites" : "addToFavorites") | translate }}
      </button>
    </mat-menu>
  </div>
</div>

<div class="page-wrapper">
  <div class="page-container search-page-container">
    <div class="page-content">
      <mat-tab-group animationDuration="0ms" dynamicHeight>
        <!-- HOME -->
        <mat-tab>
          <ng-template mat-tab-label>
            {{ getComponentName() + ".home" | translate }}
          </ng-template>

          <!-- MAIN INFORMATION -->
          <div class="grid-row">
            <div #mainInfoAnchor class="grid-cell--12" (click)="selectPageTocEntry('mainInfoAnchor')">
              <div
                class="grid-cell grid-cell--container"
                [ngClass]="{ active: isPageTocEntrySelected('mainInfoAnchor') }"
              >
                <div class="grid-cell-header">
                  <div class="grid-cell-title-container">
                    <h3 class="grid-cell-title">{{ "page.mainData" | translate }}</h3>
                  </div>
                </div>

                <div class="grid-cell-content">
                  <div class="column">
                    <div class="row">
                      <div class="form-group flex--1" [ngClass]="{ required: !isReadOpenMode }">
                        <label class="form-label">
                          {{ componentData.componentId + ".familyVariant" | translate }}</label
                        >
                        <div class="form-control">
                          <p-dropdown
                            class="aw-dropdown fixed-width"
                            placeholder="&nbsp;"
                            [showClear]="true"
                            [disabled]="isReadOpenMode || !isCreateOpenMode"
                            [options]="familyVariantList"
                            [(ngModel)]="selectedFamilyVariant"
                          ></p-dropdown>
                        </div>
                      </div>

                      <div class="form-group flex--1" [ngClass]="{ required: !isReadOpenMode }">
                        <label class="form-label">{{ componentData.componentId + ".itemCode" | translate }}</label>
                        <div class="form-control">
                          <!-- {{ subtitle }} -->
                          <div class="row">
                            <input
                              type="text"
                              class="aw-input input-item-code"
                              maxlength="2"
                              [(ngModel)]="bireItemDTO.chapter"
                              [disabled]="isReadOpenMode || !isCreateOpenMode"
                              pTooltip="{{ componentData.componentId + '.chapter' | translate }}"
                              tooltipPosition="top"
                            />
                            <div class="tiret">-</div>
                            <input
                              type="text"
                              class="aw-input input-item-code"
                              maxlength="2"
                              [(ngModel)]="bireItemDTO.section"
                              [disabled]="isReadOpenMode || !isCreateOpenMode"
                              pTooltip="{{ componentData.componentId + '.section' | translate }}"
                              tooltipPosition="top"
                            />
                            <div class="tiret">-</div>
                            <input
                              type="text"
                              class="aw-input input-item-code"
                              maxlength="2"
                              [(ngModel)]="bireItemDTO.subject"
                              [disabled]="isReadOpenMode || !isCreateOpenMode"
                              pTooltip="{{ componentData.componentId + '.subject' | translate }}"
                              tooltipPosition="top"
                            />
                            <div class="tiret">-</div>
                            <input
                              type="text"
                              class="aw-input input-item-code-5"
                              maxlength="5"
                              [(ngModel)]="bireItemDTO.sheet"
                              [disabled]="isReadOpenMode || !isCreateOpenMode"
                              pTooltip="{{ componentData.componentId + '.sheet' | translate }}"
                              tooltipPosition="top"
                            />
                            <div class="tiret">-</div>
                            <input
                              type="text"
                              class="aw-input input-item-code-5"
                              maxlength="5"
                              [(ngModel)]="bireItemDTO.marks"
                              [disabled]="isReadOpenMode || !isCreateOpenMode"
                              pTooltip="{{ componentData.componentId + '.marks' | translate }}"
                              tooltipPosition="top"
                            />
                          </div>
                        </div>
                      </div>

                      <div class="form-group flex--1">
                        <label class="form-label"> {{ componentData.componentId + ".itemFamily" | translate }}</label>
                        <div class="form-control">
                          <p-dropdown
                            class="aw-dropdown fixed-width"
                            placeholder="&nbsp;"
                            [showClear]="true"
                            [options]="itemFamilyCodeList"
                            [disabled]="isReadOpenMode"
                            [(ngModel)]="bireItemDTO.itemFamilyCode"
                          >
                          </p-dropdown>
                        </div>
                      </div>

                      <div class="form-group flex--1">
                        <label class="form-label">{{ componentData.componentId + ".itemType" | translate }}</label>
                        <div class="form-control">
                          <p-dropdown
                            class="aw-dropdown fixed-width"
                            placeholder="&nbsp;"
                            [showClear]="true"
                            [(ngModel)]="bireItemDTO.itemType"
                            [options]="itemTypeList"
                            [disabled]="isReadOpenMode"
                          >
                          </p-dropdown>
                        </div>
                      </div>

                      <div class="form-group flex--1">
                        <label class="form-label"> {{ componentData.componentId + ".functionCode" | translate }}</label>
                        <div class="form-control">
                          <input
                            type="text"
                            class="aw-input"
                            maxlength="50"
                            [(ngModel)]="bireItemDTO.functionCode"
                            [disabled]="isReadOpenMode"
                          />
                        </div>
                      </div>

                      <div class="form-group flex--1">
                        <label class="form-label">{{
                          componentData.componentId + ".serializedPart" | translate
                        }}</label>

                        <div class="form-control">
                          <p-checkbox
                            class="aw-checkbox"
                            binary="true"
                            [disabled]="isReadOpenMode"
                            [(ngModel)]="bireItemDTO.serializedPart"
                          ></p-checkbox>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="form-group flex--3">
                        <label class="form-label">{{ getComponentName() + ".designation" | translate }}</label>

                        <div class="form-control">
                          <textarea
                            class="aw-textarea"
                            pInputTextarea
                            [rows]="3"
                            maxlength="300"
                            [(ngModel)]="bireItemDTO.name"
                            [disabled]="isReadOpenMode"
                          ></textarea>
                        </div>
                      </div>

                      <div class="form-group">
                        <label class="form-label">{{ componentData.componentId + ".flocType" | translate }}</label>

                        <div class="form-control">
                          <p-dropdown
                            class="aw-dropdown fixed-width"
                            placeholder="&nbsp;"
                            [showClear]="true"
                            [options]="flocTypeList"
                            [(ngModel)]="bireItemDTO.ippeNodeType"
                            [disabled]="isReadOpenMode"
                          >
                          </p-dropdown>
                        </div>
                      </div>

                      <div class="form-group">
                        <label class="form-label"> {{ componentData.componentId + ".itemNumber" | translate }}</label>

                        <div class="form-control">
                          <input
                            type="text"
                            class="aw-input"
                            maxlength="20"
                            [(ngModel)]="bireItemDTO.itemNumber"
                            [disabled]="isReadOpenMode"
                          />
                        </div>
                      </div>

                      <div class="form-group">
                        <label class="form-label">{{
                          componentData.componentId + ".lifeRestrictionType" | translate
                        }}</label>

                        <div class="form-control">
                          <p-dropdown
                            class="aw-dropdown fixed-width"
                            placeholder="&nbsp;"
                            [showClear]="true"
                            [disabled]="isReadOpenMode"
                            [(ngModel)]="bireItemDTO.lifeRestrictionType"
                            [options]="lifeRestrictionTypeList"
                          ></p-dropdown>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- PART NUMBER -->
          <div class="grid-row">
            <div class="grid-cell--12" #partNumber class="grid-cell--12" (click)="selectPageTocEntry('partNumber')">
              <div class="grid-cell grid-cell--container" [ngClass]="{ active: isPageTocEntrySelected('partNumber') }">
                <div class="grid-cell-header">
                  <div class="grid-cell-title-container">
                    <h3 class="grid-cell-title">
                      {{ componentData.componentId + ".partNumbers" | translate }}
                    </h3>
                  </div>
                </div>

                <div class="grid-cell-content grid-cell-content-with-section">
                  <div class="section">
                    <div class="section-content">
                      <div class="list-with-details">
                        <div class="list">
                          <p-tree
                            [value]="partNumberVersionList"
                            selectionMode="single"
                            [(selection)]="partNumberVersionSelected"
                            (onNodeSelect)="onSelectPartNumberVersion()"
                          >
                          </p-tree>
                        </div>

                        <div class="details">
                          <p-table
                            [resizableColumns]="true"
                            #ptablePart
                            class="aw-table2"
                            [columns]="partNumberTableCols"
                            [value]="partNumberTableList"
                            [scrollable]="true"
                            [(selection)]="selectedPartNumber"
                          >
                            <ng-template pTemplate="emptymessage">
                              <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                              <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                                <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                                <div class="lds-hourglass"></div>
                              </div>
                            </ng-template>

                            <ng-template pTemplate="colgroup" let-columns>
                              <colgroup>
                                <col class="aw-table-checkbox-wrapper" />
                                <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                              </colgroup>
                            </ng-template>

                            <ng-template pTemplate="header" let-columns>
                              <tr>
                                <th class="aw-table-checkbox-wrapper">
                                  <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                                </th>

                                <th
                                  pResizableColumn
                                  *ngFor="let col of columns"
                                  [ngStyle]="{ 'text-align': col.alignment }"
                                >
                                  {{ componentData.componentId + "." + col.field | translate }}
                                </th>
                              </tr>
                            </ng-template>

                            <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                              <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                                <td class="aw-table-checkbox-wrapper">
                                  <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                                </td>

                                <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                  {{ rowData[col.field] }}
                                </td>
                              </tr>
                            </ng-template>

                            <ng-template pTemplate="caption">
                              <div
                                class="aw-table-header"
                                [ngClass]="{ 'rows-selected': selectedPartNumber.length > 0 }"
                              >
                                <div class="aw-table-global-filter">
                                  <label class="aw-table-global-filter-label">
                                    <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                  </label>

                                  <input
                                    #ptableCusCustomerGlobalFilter
                                    class="aw-table-global-filter-input"
                                    type="text"
                                    placeholder="{{ 'table.globalFilterText' | translate }}"
                                    (input)="ptablePart.filterGlobal($event.target.value, 'contains')"
                                  />
                                </div>

                                <div class="aw-table-actions">
                                  <button
                                    *ngIf="!isReadOpenMode && selectedPartNumber.length > 0"
                                    type="button"
                                    mat-raised-button
                                    color="warn"
                                  >
                                    {{ componentData.componentId + ".duplicatePN" | translate }}
                                  </button>

                                  <button
                                    *ngIf="!isReadOpenMode && selectedPartNumber.length === 0"
                                    type="button"
                                    mat-raised-button
                                    color="warn"
                                    (click)="deleteVersion()"
                                  >
                                    {{ componentData.componentId + ".deleteVersion" | translate }}
                                  </button>

                                  <button
                                    *ngIf="!isReadOpenMode && selectedPartNumber.length > 0"
                                    type="button"
                                    mat-raised-button
                                    color="warn"
                                    (click)="deletePN()"
                                  >
                                    {{ componentData.componentId + ".deletePN" | translate }}
                                  </button>

                                  <button
                                    *ngIf="!isReadOpenMode && selectedPartNumber.length === 0"
                                    type="button"
                                    mat-raised-button
                                    (click)="createPartNumberVersion()"
                                  >
                                    {{ componentData.componentId + ".addVersion" | translate }}
                                  </button>

                                  <button
                                    *ngIf="
                                      !isReadOpenMode &&
                                      (selectedPartNumber.length === 1 || !!partNumberVersionSelected)
                                    "
                                    type="button"
                                    mat-raised-button
                                    (click)="createItemPN()"
                                  >
                                    {{ componentData.componentId + ".addPN" | translate }}
                                  </button>
                                  <button
                                    *ngIf="selectedPartNumber.length === 1"
                                    type="button"
                                    mat-raised-button
                                    (click)="editItemPN(selectedPartNumber[0])"
                                  >
                                    {{ "global.open" | translate }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>

                            <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                              <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                                <td class="aw-table-checkbox-wrapper">
                                  <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                                </td>
                                <td>
                                  <a (click)="editItemPN(rowData)">{{ rowData.pn }} </a>
                                </td>
                                <td>{{ rowData.isn }}</td>
                                <td>{{ rowData.ipcQuantity }}</td>
                                <td>{{ rowData.mplQuantity }}</td>
                                <td pTooltip="{{ rowData.alternatePn }}" tooltipPosition="top">
                                  {{ rowData.alternatePn }}
                                </td>
                              </tr>
                            </ng-template>
                          </p-table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- ADDITIONAL INFORMATION-->
        <mat-tab>
          <ng-template mat-tab-label>
            {{ componentData.componentId + ".general" | translate }}
          </ng-template>

          <div class="grid-row">
            <div class="grid-cell--12" #general class="grid-cell--12" (click)="selectPageTocEntry('general')">
              <div class="grid-cell grid-cell--container" [ngClass]="{ active: isPageTocEntrySelected('general') }">
                <div class="grid-cell-header">
                  <div class="grid-cell-title-container">
                    <h3 class="grid-cell-title">
                      {{ componentData.componentId + ".general" | translate }}
                    </h3>
                  </div>
                </div>

                <div class="grid-cell-content grid-cell-content-with-section">
                  <div class="section">
                    <div class="section-content">
                      <div class="column">
                        <!-- ROW 1 -->
                        <div class="row">
                          <div class="form-group">
                            <label class="form-label">{{
                              componentData.componentId + ".replacableUnitType" | translate
                            }}</label>

                            <div class="form-control">
                              <p-dropdown
                                class="aw-dropdown fixed-width"
                                placeholder="&nbsp;"
                                [showClear]="true"
                                [(ngModel)]="bireItemDTO.lruSru"
                                [disabled]="isReadOpenMode"
                                [options]="replacableUnitTypeList"
                              ></p-dropdown>
                            </div>
                          </div>

                          <div class="form-group">
                            <label class="form-label">{{
                              getComponentName() + ".dissassemblyGroup" | translate
                            }}</label>

                            <div class="form-control">
                              <p-dropdown
                                class="aw-dropdown fixed-width"
                                placeholder="&nbsp;"
                                [showClear]="true"
                                [options]="unmountCodeList"
                                [(ngModel)]="bireItemDTO.unmountCode"
                                (onChange)="changeDissassembly()"
                                [disabled]="isReadOpenMode"
                              ></p-dropdown>
                            </div>
                          </div>

                          <div class="form-group">
                            <label class="form-label"> {{ componentData.componentId + ".level" | translate }}</label>
                            <div class="form-control">
                              <p-dropdown
                                class="aw-dropdown fixed-width"
                                placeholder="&nbsp;"
                                [showClear]="true"
                                [options]="levelList"
                                [(ngModel)]="bireItemDTO.itemLevel"
                                [disabled]="isReadOpenMode"
                              >
                              </p-dropdown>
                            </div>
                          </div>

                          <div class="form-group">
                            <label class="form-label">{{
                              componentData.componentId + ".isHeadOfGroup" | translate
                            }}</label>

                            <div class="form-control">
                              <p-checkbox
                                class="aw-checkbox"
                                binary="true"
                                [disabled]="isReadOpenMode"
                                [(ngModel)]="bireItemDTO.isItemHeadOfGroup"
                              ></p-checkbox>
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="form-label">
                              {{ componentData.componentId + ".visibleOnInspection" | translate }}</label
                            >
                            <div class="form-control">
                              <p-checkbox
                                class="aw-checkbox"
                                binary="true"
                                [disabled]="isReadOpenMode"
                                [(ngModel)]="bireItemDTO.inventoryVisible"
                              ></p-checkbox>
                            </div>
                          </div>
                        </div>

                        <!-- ROW 2 -->
                        <div class="row">
                          <div class="form-group">
                            <label class="form-label"> {{ componentData.componentId + ".isMELCDL" | translate }}</label>
                            <div class="form-control">
                              <p-checkbox
                                class="aw-checkbox"
                                binary="true"
                                [(ngModel)]="isMelSelected"
                                [disabled]="isReadOpenMode"
                              ></p-checkbox>
                            </div>
                          </div>

                          <div class="form-group">
                            <label class="form-label">
                              {{ componentData.componentId + ".isIllustrated" | translate }}</label
                            >
                            <div class="form-control">
                              <p-checkbox
                                class="aw-checkbox"
                                [(ngModel)]="isillustratedSelected"
                                binary="true"
                                [disabled]="isReadOpenMode"
                                (onChange)="isIllustratedChange()"
                              ></p-checkbox>
                            </div>
                          </div>

                          <div class="form-group">
                            <label class="form-label">
                              {{ componentData.componentId + ".attachingPart" | translate }}</label
                            >
                            <div class="form-control">
                              <p-checkbox
                                class="aw-checkbox"
                                binary="true"
                                [disabled]="isReadOpenMode"
                                [(ngModel)]="bireItemDTO.attachingPart"
                              ></p-checkbox>
                            </div>
                          </div>

                          <div class="form-group">
                            <label class="form-label">
                              {{ componentData.componentId + ".configurableItem" | translate }}</label
                            >
                            <div class="form-control">
                              <p-checkbox
                                class="aw-checkbox"
                                binary="true"
                                [disabled]="isReadOpenMode"
                                [(ngModel)]="bireItemDTO.configurableArticle"
                                (onChange)="bindToc()"
                              ></p-checkbox>
                            </div>
                          </div>

                          <div class="form-group">
                            <label class="form-label">
                              {{ componentData.componentId + ".isClassItem" | translate }}</label
                            >
                            <div class="form-control">
                              <p-checkbox
                                class="aw-checkbox"
                                binary="true"
                                [disabled]="isReadOpenMode"
                                [(ngModel)]="bireItemDTO.isClassItem"
                              ></p-checkbox>
                            </div>
                          </div>
                        </div>

                        <!-- ROW 3 -->
                        <div class="row">
                          <div class="form-group flex--1">
                            <label class="form-label">&nbsp;</label>

                            <div class="form-control aw-selectbutton-wrapper">
                              <p-selectButton [(ngModel)]="referRadio" [options]="referList"></p-selectButton>
                            </div>
                          </div>

                          <div *ngIf="referRadio === 'referNHA'" class="form-group flex--1">
                            <label class="form-label">&nbsp;</label>

                            <div class="form-control form-control-with-modal" [ngClass]="{ disabled: isReadOpenMode }">
                              <div class="form-control-data" (click)="searchItems('referForNHA')">
                                <span *ngIf="bireItemDTO">
                                  {{ bireItemDTO.nhaChapter }}
                                  <span *ngIf="bireItemDTO.nhaSection">-{{ bireItemDTO.nhaSection }}</span>
                                  <span *ngIf="bireItemDTO.nhaSubject">-{{ bireItemDTO.nhaSubject }}</span>
                                  <span *ngIf="bireItemDTO.nhaSheet">-{{ bireItemDTO.nhaSheet }}</span>
                                  <span *ngIf="bireItemDTO.nhaMarks">-{{ bireItemDTO.nhaMarks }}</span>
                                </span>
                              </div>

                              <div
                                *ngIf="
                                  !isReadOpenMode &&
                                  bireItemDTO &&
                                  bireItemDTO.nhaChapter &&
                                  bireItemDTO.nhaSection &&
                                  bireItemDTO.nhaSubject &&
                                  bireItemDTO.nhaSheet &&
                                  bireItemDTO.nhaMarks
                                "
                                class="btn-clear-wrapper"
                              >
                                <i
                                  class="ui-dropdown-clear-icon pi pi-times aw-icon btn-clear"
                                  aria-hidden="true"
                                  (click)="
                                    bireItemDTO.nhaChapter = undefined;
                                    bireItemDTO.nhaSection = undefined;
                                    bireItemDTO.nhaSubject = undefined;
                                    bireItemDTO.nhaSheet = undefined;
                                    bireItemDTO.nhaMarks = undefined
                                  "
                                ></i>
                              </div>
                              <div *ngIf="!isReadOpenMode" class="btn-search-wrapper">
                                <i
                                  class="fa fa-fw fa-search aw-icon btn-search"
                                  aria-hidden="true"
                                  (click)="searchItems('referForNHA')"
                                ></i>
                              </div>
                            </div>
                          </div>

                          <div *ngIf="referRadio === 'referToVal'" class="form-group flex--1">
                            <label class="form-label">&nbsp;</label>

                            <div class="form-control form-control-with-modal" [ngClass]="{ disabled: isReadOpenMode }">
                              <div class="form-control-data" (click)="searchItems('referTo')">
                                <span *ngIf="bireItemDTO">
                                  {{ bireItemDTO.referChapter }}
                                  <span *ngIf="bireItemDTO.referSection">-{{ bireItemDTO.referSection }}</span>
                                  <span *ngIf="bireItemDTO.referSubject">-{{ bireItemDTO.referSubject }}</span>
                                  <span *ngIf="bireItemDTO.referSheet">-{{ bireItemDTO.referSheet }}</span>
                                  <span *ngIf="bireItemDTO.referMarks">-{{ bireItemDTO.referMarks }}</span>
                                </span>
                              </div>

                              <div
                                *ngIf="
                                  !isReadOpenMode &&
                                  bireItemDTO &&
                                  bireItemDTO.referChapter &&
                                  bireItemDTO.referSection &&
                                  bireItemDTO.referSubject &&
                                  bireItemDTO.referSheet &&
                                  bireItemDTO.referMarks
                                "
                                class="btn-clear-wrapper"
                              >
                                <i
                                  class="ui-dropdown-clear-icon pi pi-times aw-icon btn-clear"
                                  aria-hidden="true"
                                  (click)="
                                    bireItemDTO.referChapter = undefined;
                                    bireItemDTO.referSection = undefined;
                                    bireItemDTO.referSubject = undefined;
                                    bireItemDTO.referSheet = undefined;
                                    bireItemDTO.referMarks = undefined
                                  "
                                ></i>
                              </div>
                              <div *ngIf="!isReadOpenMode" class="btn-search-wrapper">
                                <i
                                  class="fa fa-fw fa-search aw-icon btn-search"
                                  aria-hidden="true"
                                  (click)="searchItems('referTo')"
                                ></i>
                              </div>
                            </div>
                          </div>

                          <div class="form-group flex--1">
                            <label class="form-label">
                              {{ componentData.componentId + ".fixedElement" | translate }}</label
                            >

                            <div class="form-control form-control-with-modal" [ngClass]="{ disabled: isReadOpenMode }">
                              <div class="form-control-data" (click)="searchItems('fixedElement')">
                                <span *ngIf="bireItemDTO">
                                  {{ bireItemDTO.fixChapter }}
                                  <span *ngIf="bireItemDTO.fixSection">-{{ bireItemDTO.fixSection }}</span>
                                  <span *ngIf="bireItemDTO.fixSubject">-{{ bireItemDTO.fixSubject }}</span>
                                  <span *ngIf="bireItemDTO.fixSheet">-{{ bireItemDTO.fixSheet }}</span>
                                  <span *ngIf="bireItemDTO.fixMarks">-{{ bireItemDTO.fixMarks }}</span>
                                </span>
                              </div>

                              <div
                                *ngIf="
                                  !isReadOpenMode &&
                                  bireItemDTO &&
                                  bireItemDTO.fixChapter &&
                                  bireItemDTO.fixSection &&
                                  bireItemDTO.fixSubject &&
                                  bireItemDTO.fixSheet &&
                                  bireItemDTO.fixMarks
                                "
                                class="btn-clear-wrapper"
                              >
                                <i
                                  class="ui-dropdown-clear-icon pi pi-times aw-icon btn-clear"
                                  aria-hidden="true"
                                  (click)="
                                    bireItemDTO.fixChapter = undefined;
                                    bireItemDTO.fixSection = undefined;
                                    bireItemDTO.fixSubject = undefined;
                                    bireItemDTO.fixSheet = undefined;
                                    bireItemDTO.fixMarks = undefined
                                  "
                                ></i>
                              </div>
                              <div *ngIf="!isReadOpenMode" class="btn-search-wrapper">
                                <i
                                  class="fa fa-fw fa-search aw-icon btn-search"
                                  aria-hidden="true"
                                  (click)="searchItems('fixedElement')"
                                ></i>
                              </div>
                            </div>
                          </div>

                          <div class="form-group flex--2">
                            <label class="form-label"> {{ componentData.componentId + ".comment" | translate }}</label>
                            <div class="form-control">
                              <textarea
                                class="aw-textarea"
                                pInputTextarea
                                [rows]="3"
                                maxlength="300"
                                [(ngModel)]="bireItemDTO.itemRemarks"
                                [disabled]="isReadOpenMode"
                              ></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- STRUCTURE -->
        <mat-tab>
          <ng-template mat-tab-label>
            {{ getComponentName() + ".structure" | translate }}
          </ng-template>

          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <!-- ITEM FATHERS -->
              <div
                class="grid-cell--equally"
                #structure
                class="grid-cell--equally"
                (click)="selectPageTocEntry('structure')"
              >
                <div class="grid-cell grid-cell--container" [ngClass]="{ active: isPageTocEntrySelected('structure') }">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".itemFather" | translate }}
                        ({{ itemFatherList ? itemFatherList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #itemFatherTable
                          class="aw-table2"
                          [columns]="itemSonFatherCols"
                          [value]="itemFatherList"
                          [(selection)]="selectedItemFathers"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                            <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div
                              class="aw-table-header"
                              [ngClass]="{ 'rows-selected': selectedItemFathers.length > 0 }"
                            >
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="itemFatherTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedItemFathers.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedFatherItem()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedItemFathers.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createItemFather()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td
                                *ngFor="let col of columns"
                                [ngSwitch]="col.field"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                <a *ngSwitchCase="'item'" (click)="openItemUC(rowData)">{{ rowData[col.field] }}</a>

                                <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- ITEM SONS -->
              <div
                class="grid-cell--equally"
                #structure
                class="grid-cell--equally"
                (click)="selectPageTocEntry('structure')"
              >
                <div class="grid-cell grid-cell--container" [ngClass]="{ active: isPageTocEntrySelected('structure') }">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".itemSons" | translate }}
                        ({{ itemSonList ? itemSonList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <div style="width: 100%">
                          <p-table
                            [resizableColumns]="true"
                            #itemSonsTable
                            class="aw-table2"
                            [columns]="itemSonFatherCols"
                            [value]="itemSonList"
                            [(selection)]="selectedItemSons"
                            [scrollable]="true"
                          >
                            <ng-template pTemplate="emptymessage">
                              <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                              <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                                <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                                <div class="lds-hourglass"></div>
                              </div>
                            </ng-template>

                            <ng-template pTemplate="caption">
                              <div class="aw-table-header" [ngClass]="{ 'rows-selected': selectedItemSons.length > 0 }">
                                <div class="aw-table-global-filter">
                                  <label class="aw-table-global-filter-label">
                                    <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                  </label>

                                  <input
                                    #ptableCusCustomerGlobalFilter
                                    class="aw-table-global-filter-input"
                                    type="text"
                                    placeholder="{{ 'table.globalFilterText' | translate }}"
                                    (input)="itemSonsTable.filterGlobal($event.target.value, 'contains')"
                                  />
                                </div>

                                <div class="aw-table-actions">
                                  <button
                                    *ngIf="!isReadOpenMode && selectedItemSons.length > 0"
                                    type="button"
                                    mat-raised-button
                                    color="warn"
                                    (click)="deleteSelectedSonItem()"
                                  >
                                    {{ "global.delete" | translate }}
                                  </button>

                                  <button
                                    *ngIf="!isReadOpenMode && selectedItemSons.length === 0"
                                    type="button"
                                    mat-raised-button
                                    (click)="createItemSon()"
                                  >
                                    {{ "global.add" | translate }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>

                            <ng-template pTemplate="colgroup" let-columns>
                              <colgroup>
                                <col class="aw-table-checkbox-wrapper" />
                                <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                              </colgroup>
                            </ng-template>

                            <ng-template pTemplate="header" let-columns>
                              <tr>
                                <th class="aw-table-checkbox-wrapper">
                                  <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                                </th>

                                <th
                                  pResizableColumn
                                  *ngFor="let col of columns"
                                  [ngStyle]="{ 'text-align': col.alignment }"
                                >
                                  {{ componentData.componentId + "." + col.field | translate }}
                                </th>
                              </tr>
                            </ng-template>

                            <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                              <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                                <td class="aw-table-checkbox-wrapper">
                                  <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                                </td>

                                <td
                                  *ngFor="let col of columns"
                                  [ngSwitch]="col.field"
                                  [ngStyle]="{ 'text-align': col.alignment }"
                                >
                                  <a *ngSwitchCase="'item'" (click)="openItemUC(rowData)">{{ rowData[col.field] }}</a>

                                  <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                                </td>
                              </tr>
                            </ng-template>
                          </p-table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- MEASURES -->
        <mat-tab>
          <ng-template mat-tab-label>
            {{ getComponentName() + ".measures" | translate }}
          </ng-template>

          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <div
                class="grid-cell--12"
                #refMeasurement
                class="grid-cell--12"
                (click)="selectPageTocEntry('refMeasurement')"
              >
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('refMeasurement') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".refMeasurement" | translate }}
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #refMeasurementTable
                          class="aw-table2"
                          [columns]="refMeasurementCols"
                          [value]="refMeasurementList"
                          [(selection)]="selectedRefMeasurement"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                            <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div
                              class="aw-table-header"
                              [ngClass]="{ 'rows-selected': selectedRefMeasurement.length > 0 }"
                            >
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="refMeasurementTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedRefMeasurement.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedRefMeasurement()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>
                                <button
                                  type="button"
                                  mat-raised-button
                                  *ngIf="!isReadOpenMode && selectedRefMeasurement.length === 1"
                                  (click)="editSelectedRefMeasurement()"
                                >
                                  {{ "global.edit" | translate }}
                                </button>
                                <button
                                  *ngIf="selectedRefMeasurement.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="openRefMeasurementDialog()"
                                >
                                  {{ "global.open" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedRefMeasurement.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createRefMeasurement()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>
                              <td
                                *ngFor="let col of columns"
                                [ngSwitch]="col.field"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- TASK DAMAGES and LOCALISATION -->
        <mat-tab>
          <ng-template mat-tab-label>
            {{ getComponentName() + ".taskDamagesLocalisation" | translate }}
          </ng-template>

          <!-- TASK -->
          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <div
                class="grid-cell--12"
                #taskDamagesLocalisation
                class="grid-cell--12"
                (click)="selectPageTocEntry('taskDamagesLocalisation')"
              >
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('taskDamagesLocalisation') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".tasks" | translate }}
                        ({{ tasksList ? tasksList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #tasksTable
                          class="aw-table2"
                          [columns]="tasksCols"
                          [value]="tasksList"
                          [(selection)]="selectedTasks"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                            <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div class="aw-table-header" [ngClass]="{ 'rows-selected': selectedTasks.length > 0 }">
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="tasksTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedTasks.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedItemTasks()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="selectedTasks.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="openItemTaskDialog()"
                                >
                                  {{ "global.open" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedTasks.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createItemTask()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td
                                *ngFor="let col of columns"
                                [ngSwitch]="col.field"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                <span *ngSwitchCase="'code'"
                                  ><a (click)="openTaskCode(rowData)">{{ rowData[col.field] }}</a></span
                                >
                                <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- DAMAGES and LOCATION -->
          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <!-- DAMAGES -->
              <div
                class="grid-cell--equally"
                #taskDamagesLocalisation
                (click)="selectPageTocEntry('taskDamagesLocalisation')"
              >
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('taskDamagesLocalisation') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".damages" | translate }}
                        ({{ damagesList ? damagesList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #damageTable
                          class="aw-table2"
                          [columns]="damagesCols"
                          [value]="damagesList"
                          [(selection)]="selectedDamages"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                            <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div class="aw-table-header" [ngClass]="{ 'rows-selected': selectedDamages.length > 0 }">
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="damageTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedDamages.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedDamages()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="selectedDamages.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="openDamageDialog()"
                                >
                                  {{ "global.open" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedDamages.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createDamage()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                {{ rowData[col.field] }}
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- LOCATION -->
              <div
                class="grid-cell--equally"
                #taskDamagesLocalisation
                (click)="selectPageTocEntry('taskDamagesLocalisation')"
              >
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('taskDamagesLocalisation') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".localisations" | translate }}
                        ({{ localisationList ? localisationList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #itemLocalisationTable
                          class="aw-table2"
                          [columns]="localisationCols"
                          [value]="localisationList"
                          [(selection)]="selectedLocalisation"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                            <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div
                              class="aw-table-header"
                              [ngClass]="{ 'rows-selected': selectedLocalisation.length > 0 }"
                            >
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="itemLocalisationTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedLocalisation.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedLocalisation()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="selectedLocalisation.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="openLocalisationDialog()"
                                >
                                  {{ "global.open" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedLocalisation.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createLocalisation()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                {{ rowData[col.field] }}
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- DAMAGES, LOCALISATION AND TASKS-->
          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <div
                class="grid-cell--12"
                #taskDamagesLocalisation
                (click)="selectPageTocEntry('taskDamagesLocalisation')"
              >
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('taskDamagesLocalisation') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".damagesLocalisationTasks" | translate }}
                        ({{ damLocTaskList ? damLocTaskList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #itemLocDamTable
                          class="aw-table2"
                          [columns]="damLocTasCols"
                          [value]="damLocTaskList"
                          [(selection)]="selectedDamLocTask"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                            <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div class="aw-table-header" [ngClass]="{ 'rows-selected': selectedDamLocTask.length > 0 }">
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="itemLocDamTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedDamLocTask.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedDamLocTask()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="selectedDamLocTask.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="openDamLocTaskDialog()"
                                >
                                  {{ "global.open" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedDamLocTask.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createDamLocTask()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                {{ rowData[col.field] }}
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- CONFIGURATION PACKS -->
        <mat-tab *ngIf="!(isCreateOpenMode == true || !bireItemDTO.configurableArticle)">
          <ng-template mat-tab-label>
            {{ getComponentName() + ".configurationPacks" | translate }}
          </ng-template>

          <div [hidden]="isCreateOpenMode == true || !bireItemDTO.configurableArticle">
            <div class="grid-row">
              <div #configurationPacks class="grid-cell--12" (click)="selectPageTocEntry('configurationPacks')">
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('configurationPacks') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".configurationPacks" | translate }}
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <div class="list-with-details">
                          <div class="list">
                            <p-tree
                              [value]="packNumberList"
                              selectionMode="single"
                              [(selection)]="packNumberSelected"
                              (onNodeSelect)="onSelectPackNumber()"
                            >
                            </p-tree>
                          </div>

                          <div class="details">
                            <div class="section">
                              <div class="section-content">
                                <div class="section-actions">
                                  <button
                                    (click)="deleteConfigPack()"
                                    type="button"
                                    mat-raised-button
                                    color="warn"
                                    *ngIf="!isReadOpenMode && packNumberSelected"
                                  >
                                    {{ componentData.componentId + ".deletePack" | translate }}
                                  </button>

                                  <button
                                    type="button"
                                    mat-raised-button
                                    *ngIf="!isReadOpenMode && packNumberSelected"
                                    (click)="editConfigPack()"
                                  >
                                    {{ componentData.componentId + ".editPack" | translate }}
                                  </button>

                                  <button
                                    type="button"
                                    *ngIf="!isReadOpenMode"
                                    mat-raised-button
                                    (click)="addConfigPack()"
                                  >
                                    {{ componentData.componentId + ".addPack" | translate }}
                                  </button>
                                </div>

                                <div class="display--flex-row flex--1">
                                  <div class="form-group">
                                    <label class="form-label">{{
                                      componentData.componentId + ".configPackType" | translate
                                    }}</label>

                                    <div class="form-control">
                                      <p-dropdown
                                        class="aw-dropdown fixed-width"
                                        [options]="packTypeList"
                                        [(ngModel)]="currentPackNumber.packType"
                                        [disabled]="true"
                                        appendTo="body"
                                        placeholder="&nbsp;"
                                      ></p-dropdown>
                                    </div>
                                  </div>

                                  <div class="form-group">
                                    <label class="form-label">{{
                                      componentData.componentId + ".configPackDescription" | translate
                                    }}</label>

                                    <div class="form-control">
                                      <textarea
                                        class="aw-textarea"
                                        [rows]="3"
                                        pInputTextarea
                                        [(ngModel)]="currentPackNumber.packDescription"
                                        [disabled]="true"
                                      ></textarea>
                                    </div>
                                  </div>
                                </div>

                                <!-- <p-table [resizableColumns]="true"
                                  #confPacktable
                                  class="aw-table2"
                                  [columns]="configurationPackCols"
                                  [value]="configurationPackList"
                                  [(selection)]="selectedConfigurationPacks"
                                  [scrollable]="true"
                                  scrollHeight="200px"
                                >
                                  <ng-template pTemplate="emptymessage">
                                    <span *ngIf="!isLoading"> &nbsp;</span>

                                    <div *ngIf="isLoading" class="aw-table-loading-indicator">
                                      <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                                      <div class="lds-hourglass"></div>
                                    </div>
                                  </ng-template>
                                  <ng-template pTemplate="caption">
                                    <div
                                      class="aw-table-header"
                                      [ngClass]="{ 'rows-selected': selectedConfigurationPacks.length > 0 }"
                                    >
                                      <div class="aw-table-global-filter">
                                        <label class="aw-table-global-filter-label">
                                          <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                        </label>

                                        <input
                                          #ptableResultsGlobalFilter
                                          class="aw-table-global-filter-input"
                                          type="text"
                                          placeholder="{{ 'table.globalFilterText' | translate }}"
                                          (input)="confPacktable.filterGlobal($event.target.value, 'contains')"
                                        />
                                      </div>

                                      <div class="aw-table-actions">
                                        <button
                                          type="button"
                                          mat-raised-button color="warn"
                                          *ngIf="!isReadOpenMode && selectedConfigurationPacks.length > 0"
                                        >
                                          {{ "global.delete" | translate }}
                                        </button>

                                        <button
                                          type="button"
                                          mat-raised-button
                                          *ngIf="!isReadOpenMode && selectedConfigurationPacks.length === 1"
                                        >
                                          {{ "global.edit" | translate }}
                                        </button>

                                        <button
                                          type="button"
                                          *ngIf="!isReadOpenMode && selectedConfigurationPacks.length === 0"
                                          mat-raised-button
                                        >
                                          {{ "global.add" | translate }}
                                        </button>
                                      </div>
                                    </div>
                                  </ng-template>
                                  <ng-template pTemplate="colgroup" let-columns>
                                    <colgroup>
                                      <col class="aw-table-checkbox-wrapper" />
                                      <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                                    </colgroup>
                                  </ng-template>

                                  <ng-template pTemplate="header" let-columns>
                                    <tr>
                                      <th class="aw-table-checkbox-wrapper">
                                        <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                                      </th>

                                      <th pResizableColumn *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                        {{ componentData.componentId + "." + col.field | translate }}
                                      </th>
                                    </tr>
                                  </ng-template>

                                  <ng-template
                                    pTemplate="body"
                                    let-rowData
                                    let-columns="columns"
                                    let-rowIndex="rowIndex"
                                  >
                                    <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                                      <td class="aw-table-checkbox-wrapper">
                                        <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                                      </td>

                                      <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                        <span [ngSwitch]="col.field">
                                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                                        </span>
                                      </td>
                                    </tr>
                                  </ng-template>
                                </p-table> -->
                              </div>
                            </div>
                            <div class="section">
                              <h4 class="section-title">
                                {{ componentData.componentId + ".packEvolutions" | translate }}
                                ({{ evolutionPacksTableList ? evolutionPacksTableList.length : 0 }})
                              </h4>
                              <div class="section-content">
                                <p-table
                                  [resizableColumns]="true"
                                  #ptablePackEvolution
                                  class="aw-table2"
                                  [columns]="evolutionPacksTableCols"
                                  [value]="evolutionPacksTableList"
                                  [scrollable]="true"
                                  [(selection)]="selectedEvolutionPacks"
                                  dataKey="evolutionNumber"
                                >
                                  <ng-template pTemplate="emptymessage">
                                    <span *ngIf="!isLoading"> &nbsp;</span>

                                    <div *ngIf="isLoading" class="aw-table-loading-indicator">
                                      <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                                      <div class="lds-hourglass"></div>
                                    </div>
                                  </ng-template>
                                  <ng-template pTemplate="caption">
                                    <div
                                      class="aw-table-header"
                                      [ngClass]="{ 'rows-selected': selectedEvolutionPacks.length > 0 }"
                                    >
                                      <div class="aw-table-global-filter">
                                        <label class="aw-table-global-filter-label">
                                          <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                        </label>

                                        <input
                                          #ptableResultsGlobalFilter
                                          class="aw-table-global-filter-input"
                                          type="text"
                                          placeholder="{{ 'table.globalFilterText' | translate }}"
                                          (input)="ptablePackEvolution.filterGlobal($event.target.value, 'contains')"
                                        />
                                      </div>

                                      <div class="aw-table-actions">
                                        <button
                                          type="button"
                                          mat-raised-button
                                          color="warn"
                                          *ngIf="
                                            !isReadOpenMode && packNumberSelected && selectedEvolutionPacks.length > 0
                                          "
                                          (click)="deleteConfigEvolution()"
                                        >
                                          {{ "global.delete" | translate }}
                                        </button>

                                        <button
                                          type="button"
                                          mat-raised-button
                                          *ngIf="
                                            !isReadOpenMode && packNumberSelected && selectedEvolutionPacks.length === 1
                                          "
                                          (click)="editConfigEvolution()"
                                        >
                                          {{ "global.edit" | translate }}
                                        </button>

                                        <button
                                          type="button"
                                          *ngIf="
                                            !isReadOpenMode && packNumberSelected && selectedEvolutionPacks.length === 0
                                          "
                                          mat-raised-button
                                          (click)="addConfigEvolution()"
                                        >
                                          {{ "global.add" | translate }}
                                        </button>
                                      </div>
                                    </div>
                                  </ng-template>

                                  <ng-template pTemplate="colgroup" let-columns>
                                    <colgroup>
                                      <col class="aw-table-checkbox-wrapper" />
                                      <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                                      <col [ngStyle]="{ width: '3%' }" />
                                    </colgroup>
                                  </ng-template>

                                  <ng-template pTemplate="header" let-columns>
                                    <tr>
                                      <th class="aw-table-checkbox-wrapper">
                                        <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                                      </th>

                                      <th
                                        pResizableColumn
                                        *ngFor="let col of columns"
                                        [ngStyle]="{ 'text-align': col.alignment, width: col.width }"
                                      >
                                        {{ componentData.componentId + "." + col.field | translate }}
                                      </th>
                                      <th [ngStyle]="{ width: '3%' }">&nbsp;</th>
                                    </tr>
                                  </ng-template>

                                  <ng-template
                                    pTemplate="body"
                                    let-rowData
                                    let-columns="columns"
                                    let-rowIndex="rowIndex"
                                  >
                                    <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                                      <td class="aw-table-checkbox-wrapper">
                                        <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                                      </td>
                                      <td
                                        *ngFor="let col of columns"
                                        [ngSwitch]="col.field"
                                        [ngStyle]="{ 'text-align': col.alignment, width: col.width }"
                                      >
                                        <span *ngSwitchCase="'control'" style="text-align: center">
                                          <span
                                            *ngIf="rowData[col.field] === null || rowData[col.field] === undefined"
                                            class="alert alert--ok"
                                          >
                                            {{ "global.alertOk" | translate }}
                                          </span>

                                          <span
                                            *ngIf="!!rowData[col.field]"
                                            class="alert alert--warning"
                                            pTooltip="{{ rowData.message | translate }}"
                                          >
                                            {{ "global.alertWarning" | translate }}
                                          </span>
                                        </span>
                                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                                      </td>
                                      <td
                                        class="row-expand-wrapper"
                                        [pRowToggler]="rowData"
                                        [ngStyle]="{ width: '3%', 'text-align': 'left' }"
                                      >
                                        <i
                                          class="fa fa-fw aw-icon aw-icon-with-border"
                                          [ngClass]="rowData.expand ? 'fa-minus' : 'fa-plus'"
                                          aria-hidden="true"
                                          pTooltip="{{ 'global.showTableRowDetails' | translate }}"
                                          tooltipPosition="top"
                                          (click)="toggleRowDetailsVisibility(rowData)"
                                        ></i>
                                      </td>
                                    </tr>
                                    <tr *ngIf="!!rowData.expand" class="row-expanded">
                                      <td [attr.colspan]="columns.length + 2">
                                        <div class="column forced-backgroung">
                                          <div class="row">
                                            <div class="form-group flex--1">
                                              <label class="form-label">
                                                {{ getComponentName() + "." + "vintageDate" | translate }}
                                              </label>

                                              <div class="form-control">
                                                <input
                                                  type="text"
                                                  class="aw-input"
                                                  [(ngModel)]="rowData.vintageDate"
                                                  [disabled]="true"
                                                />
                                              </div>
                                            </div>

                                            <div class="form-group flex--1">
                                              <label class="form-label">
                                                {{ getComponentName() + "." + "description" | translate }}
                                              </label>

                                              <div class="form-control">
                                                <input
                                                  type="text"
                                                  class="aw-input"
                                                  [(ngModel)]="rowData.description"
                                                  [disabled]="true"
                                                />
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </td>
                                    </tr>
                                  </ng-template>
                                </p-table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- MAINTENANCE -->
        <mat-tab>
          <ng-template mat-tab-label>
            {{ getComponentName() + ".maintenance" | translate }}
          </ng-template>

          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <!-- MAINTENANCE PROGRAMS-->
              <div class="grid-cell--4" #maintenance>
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('maintenance') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".maintenancePrograms" | translate }}
                        ({{ maintenanceProgramList ? maintenanceProgramList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #maintenanceProgramTable
                          class="aw-table2"
                          [columns]="maintenanceProgramCols"
                          [value]="maintenanceProgramList"
                          [(selection)]="selectedMaintenanceProgram"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingMaintenanceProgramTable"> &nbsp;</span>

                            <div *ngIf="isLoadingMaintenanceProgramTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div
                              class="aw-table-header"
                              [ngClass]="{ 'rows-selected': selectedMaintenanceProgram.length > 0 }"
                            >
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="maintenanceProgramTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                {{ rowData[col.field] }}
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- TECHNICAL LEVELS -->
              <div class="grid-cell--4" #maintenance>
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('maintenance') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".technicalLevels" | translate }}
                        ({{ technicalLevelList ? technicalLevelList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #technicalLevelTable
                          class="aw-table2"
                          [columns]="technicalLevelCols"
                          [value]="technicalLevelList"
                          [(selection)]="selectedTechnicalLevel"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingTechnicalLevelTable"> &nbsp;</span>

                            <div *ngIf="isLoadingTechnicalLevelTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div
                              class="aw-table-header"
                              [ngClass]="{ 'rows-selected': selectedTechnicalLevel.length > 0 }"
                            >
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="technicalLevelTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedTechnicalLevel.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedItem()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedTechnicalLevel.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createItem()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                {{ rowData[col.field] }}
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- REPAIR CENTERS -->
              <div class="grid-cell--4" #maintenance>
                <div
                  class="grid-cell grid-cell--container"
                  [ngClass]="{ active: isPageTocEntrySelected('maintenance') }"
                >
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".repairCenter" | translate }}
                        ({{ repairCentersList ? repairCentersList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #repairCenterTable
                          class="aw-table2"
                          [columns]="repairCentersCols"
                          [value]="repairCentersList"
                          [(selection)]="selectedRepairCenters"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingRepairCenterTable"> &nbsp;</span>

                            <div *ngIf="isLoadingRepairCenterTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div
                              class="aw-table-header"
                              [ngClass]="{ 'rows-selected': selectedRepairCenters.length > 0 }"
                            >
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="repairCenterTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedRepairCenters.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedRepairCenter()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedRepairCenters.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="editRepairCenterDialog()"
                                >
                                  {{ "global.edit" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedRepairCenters.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createRepairCenter()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                {{ rowData[col.field] }}
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- CAUSE OF REMOVAL -->
          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <div class="grid-cell--12">
                <div class="grid-cell grid-cell--container">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".causeOfRemoval" | translate }}
                        ({{ causeOfRemovalList ? causeOfRemovalList.length : 0 }})
                      </h3>
                    </div>
                  </div>
                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #causeOfRemovalTable
                          class="aw-table2"
                          [columns]="causeOfRemovalCols"
                          [value]="causeOfRemovalList"
                          [(selection)]="selectedCauseOfRemoval"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingCauseOfRemovalTable"> &nbsp;</span>

                            <div *ngIf="isLoadingCauseOfRemovalTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div
                              class="aw-table-header"
                              [ngClass]="{ 'rows-selected': selectedCauseOfRemoval.length > 0 }"
                            >
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="causeOfRemovalTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedCauseOfRemoval.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedRemovalCause()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedCauseOfRemoval.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createRemovalCause()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td *ngFor="let col of columns" [ngStyle]="{ 'text-align': col.alignment }">
                                {{ rowData[col.field] }}
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- STATISTICS -->
          <div [hidden]="isCreateOpenMode == true">
            <div class="grid-row">
              <div class="grid-cell--12">
                <div class="grid-cell grid-cell--container">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <h3 class="grid-cell-title">
                        {{ componentData.componentId + ".statistics" | translate }}
                        ({{ statisticsList ? statisticsList.length : 0 }})
                      </h3>
                    </div>
                  </div>

                  <div class="grid-cell-content grid-cell-content-with-section">
                    <div class="section">
                      <div class="section-content">
                        <p-table
                          [resizableColumns]="true"
                          #statisticsTable
                          class="aw-table2"
                          [columns]="statisticsCols"
                          [value]="statisticsList"
                          [(selection)]="selectedStatistics"
                          [scrollable]="true"
                        >
                          <ng-template pTemplate="emptymessage">
                            <span *ngIf="!isLoadingStatisticsTable"> &nbsp;</span>

                            <div *ngIf="isLoadingStatisticsTable" class="aw-table-loading-indicator">
                              <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                              <div class="lds-hourglass"></div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="caption">
                            <div class="aw-table-header" [ngClass]="{ 'rows-selected': selectedStatistics.length > 0 }">
                              <div class="aw-table-global-filter">
                                <label class="aw-table-global-filter-label">
                                  <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                </label>

                                <input
                                  #ptableCusCustomerGlobalFilter
                                  class="aw-table-global-filter-input"
                                  type="text"
                                  placeholder="{{ 'table.globalFilterText' | translate }}"
                                  (input)="statisticsTable.filterGlobal($event.target.value, 'contains')"
                                />
                              </div>

                              <div class="aw-table-actions">
                                <button
                                  *ngIf="!isReadOpenMode && selectedStatistics.length > 0"
                                  type="button"
                                  mat-raised-button
                                  color="warn"
                                  (click)="deleteSelectedStat()"
                                >
                                  {{ "global.delete" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedStatistics.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="editStat()"
                                >
                                  {{ "global.edit" | translate }}
                                </button>

                                <button
                                  *ngIf="selectedStatistics.length === 1"
                                  type="button"
                                  mat-raised-button
                                  (click)="openMaintenanceStatDialog()"
                                >
                                  {{ "global.open" | translate }}
                                </button>

                                <button
                                  *ngIf="!isReadOpenMode && selectedStatistics.length === 0"
                                  type="button"
                                  mat-raised-button
                                  (click)="createMaintenanceStats()"
                                >
                                  {{ "global.add" | translate }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                              <col class="aw-table-checkbox-wrapper" />
                              <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                            </colgroup>
                          </ng-template>

                          <ng-template pTemplate="header" let-columns>
                            <tr>
                              <th class="aw-table-checkbox-wrapper">
                                <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                              </th>

                              <th
                                pResizableColumn
                                *ngFor="let col of columns"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                {{ componentData.componentId + "." + col.field | translate }}
                              </th>
                            </tr>
                          </ng-template>

                          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                            <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                              <td class="aw-table-checkbox-wrapper">
                                <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                              </td>

                              <td
                                *ngFor="let col of columns"
                                [ngSwitch]="col.field"
                                [ngStyle]="{ 'text-align': col.alignment }"
                              >
                                <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                              </td>
                            </tr>
                          </ng-template>
                        </p-table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- ATTRIBUTES -->
        <mat-tab>
          <ng-template mat-tab-label>
            {{ getComponentName() + ".attributes" | translate }}
          </ng-template>

          <div class="grid-row">
            <div class="grid-cell--12" #partNumber class="grid-cell--12">
              <div class="grid-cell grid-cell--container">
                <div class="grid-cell-header">
                  <div class="grid-cell-title-container">
                    <h3 class="grid-cell-title">
                      {{ componentData.componentId + ".attributes" | translate }}
                    </h3>
                  </div>
                </div>

                <div class="grid-cell-content grid-cell-content-with-section">
                  <div class="section">
                    <div class="grid-cell--12">
                      <aw-dynamic-attributes
                        [attributes]="dynamicAttributesForItem"
                        [history]="dynamicAttributesHistoric"
                        [showHistory]="false"
                        [isReadOpenMode]="isReadOpenMode"
                      ></aw-dynamic-attributes>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>

        <!-- ILLUSTRATION -->
        <mat-tab *ngIf="!(isCreateOpenMode == true || !isillustratedSelected)">
          <ng-template mat-tab-label>
            {{ componentData.componentId + ".illustration" | translate }}
          </ng-template>

          <div class="grid-row">
            <div
              class="grid-cell--12"
              #illustrations
              class="grid-cell--12"
              (click)="selectPageTocEntry('illustrations')"
            >
              <div
                class="grid-cell grid-cell--container"
                [ngClass]="{ active: isPageTocEntrySelected('illustrations') }"
                *ngIf="isillustratedSelected"
              >
                <div class="grid-cell-header">
                  <div class="grid-cell-title-container">
                    <h3 class="grid-cell-title">
                      {{ componentData.componentId + ".illustrations" | translate }}
                    </h3>
                  </div>
                </div>

                <div class="grid-cell-content grid-cell-content-with-section">
                  <div class="section">
                    <div class="section-content">
                      <div class="row">
                        <div class="form-group">
                          <label class="form-label">{{ componentData.componentId + ".docURL" | translate }}</label>

                          <div class="form-control">
                            <input type="text" class="aw-input" [(ngModel)]="docURL" [disabled]="isReadOpenMode" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="form-label"></label>

                          <div class="form-control" style="margin-top: 2em">
                            <a *ngIf="isDocPresent" style="cursor: pointer;" (click)="openUrl()">{{
                              "global.open" | translate
                            }}</a>
                          </div>
                        </div>
                        <div class="form-group"></div>
                      </div>
                      <div class="section">
                        <h4 class="section-title">
                          {{ componentData.componentId + ".documentsMgmt" | translate }}
                        </h4>
                        <div class="section-content">
                          <p-table
                            [resizableColumns]="true"
                            #ptableDocument
                            class="aw-table2"
                            [columns]="documentsTableCols"
                            [value]="bireDocumentDisplayed"
                            [(selection)]="selectedDocuments"
                            dataKey="docName"
                            [scrollable]="true"
                          >
                            <ng-template pTemplate="emptymessage">
                              <span *ngIf="!isLoadingDocumentTable"> &nbsp;</span>

                              <div *ngIf="isLoadingDocumentTable" class="aw-table-loading-indicator">
                                <div class="loading-message">{{ "table.loadingData" | translate }}</div>
                                <div class="lds-hourglass"></div>
                              </div>
                            </ng-template>

                            <ng-template pTemplate="caption">
                              <div
                                class="aw-table-header"
                                [ngClass]="{ 'rows-selected': selectedDocuments.length > 0 }"
                              >
                                <div class="aw-table-global-filter">
                                  <label class="aw-table-global-filter-label">
                                    <i class="fa fa-fw fa-search" aria-hidden="true"></i>
                                  </label>

                                  <input
                                    #ptableDocumentGlobalFilter
                                    class="aw-table-global-filter-input"
                                    type="text"
                                    placeholder="{{ 'table.globalFilterText' | translate }}"
                                    (input)="ptableDocument.filterGlobal($event.target.value, 'contains')"
                                  />
                                </div>

                                <div class="aw-table-actions" *ngIf="!isFieldEnabled">
                                  <button
                                    *ngIf="!isReadOpenMode && selectedDocuments.length > 0"
                                    type="button"
                                    mat-raised-button
                                    color="warn"
                                    (click)="deleteDocuments()"
                                  >
                                    {{ "global.delete" | translate }}
                                  </button>

                                  <button
                                    *ngIf="!isReadOpenMode && selectedDocuments.length === 1"
                                    type="button"
                                    mat-raised-button
                                    (click)="editDocument()"
                                  >
                                    {{ "global.edit" | translate }}
                                  </button>

                                  <button
                                    *ngIf="!isReadOpenMode && selectedDocuments.length === 1"
                                    type="button"
                                    mat-raised-button
                                    (click)="openDocument()"
                                  >
                                    {{ "global.open" | translate }}
                                  </button>

                                  <button
                                    *ngIf="!isReadOpenMode && selectedDocuments.length == 0"
                                    type="button"
                                    mat-raised-button
                                    (click)="addDocument()"
                                  >
                                    {{ "global.add" | translate }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>

                            <ng-template pTemplate="colgroup" let-columns>
                              <colgroup>
                                <col
                                  class="aw-table-checkbox-wrapper"
                                  [ngClass]="{ 'display--none': isReadOpenMode }"
                                />
                                <col *ngFor="let col of columns" [ngStyle]="{ width: col.width }" />
                              </colgroup>
                            </ng-template>

                            <ng-template pTemplate="header" let-columns>
                              <tr>
                                <th class="aw-table-checkbox-wrapper" [ngClass]="{ 'display--none': isReadOpenMode }">
                                  <p-tableHeaderCheckbox class="aw-table-checkbox"></p-tableHeaderCheckbox>
                                </th>

                                <th
                                  pResizableColumn
                                  *ngFor="let col of columns"
                                  [ngStyle]="{ 'text-align': col.alignment }"
                                >
                                  {{ componentData.componentId + "." + col.field | translate }}
                                </th>
                              </tr>
                            </ng-template>

                            <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                              <tr [pSelectableRow]="rowData" [pSelectableRowIndex]="rowIndex">
                                <td class="aw-table-checkbox-wrapper" [ngClass]="{ 'display--none': isReadOpenMode }">
                                  <p-tableCheckbox class="aw-table-checkbox" [value]="rowData"></p-tableCheckbox>
                                </td>

                                <td
                                  *ngFor="let col of columns"
                                  [ngSwitch]="col.field"
                                  [ngStyle]="{ 'text-align': col.alignment }"
                                >
                                  <span *ngSwitchCase="'docEndOfValidityDate'">
                                    {{ rowData[col.field] | date: "yyyy/MM/dd":"":translateService.currentLang }}
                                  </span>

                                  <span *ngSwitchCase="'docName'">
                                    <span
                                      (click)="downloadDocument(rowData)"
                                      style="cursor: pointer; text-decoration: underline; color: blue"
                                    >
                                      {{ rowData[col.field] }}
                                    </span>
                                  </span>

                                  <span *ngSwitchCase="'docExtension'"> {{ showDocExtension(rowData) }} </span>

                                  <span *ngSwitchCase="'docPublicationDate'">
                                    {{ rowData[col.field] | date: "yyyy/MM/dd":"":translateService.currentLang }}
                                  </span>

                                  <span *ngSwitchDefault> {{ rowData[col.field] }} </span>
                                </td>
                              </tr>
                            </ng-template>
                          </p-table>
                        </div>
                      </div>
                      <div class="section">
                        <h4 class="section-title">
                          {{ componentData.componentId + ".notes" | translate }}
                        </h4>
                        <div class="section-content">
                          <div class="row">
                            <div class="form-group">
                              <label class="form-label">{{ componentData.componentId + ".note1" | translate }}</label>

                              <div class="form-control">
                                <textarea
                                  class="aw-textarea"
                                  pInputTextarea
                                  [rows]="3"
                                  maxlength="300"
                                  [(ngModel)]="note1"
                                  [disabled]="isReadOpenMode"
                                ></textarea>
                              </div>
                            </div>
                            <div class="form-group">
                              <label class="form-label">{{ componentData.componentId + ".note2" | translate }}</label>

                              <div class="form-control">
                                <textarea
                                  class="aw-textarea"
                                  pInputTextarea
                                  [rows]="3"
                                  maxlength="300"
                                  [(ngModel)]="note2"
                                  [disabled]="isReadOpenMode"
                                ></textarea>
                              </div>
                            </div>
                            <div class="form-group">
                              <label class="form-label">{{ componentData.componentId + ".note3" | translate }}</label>

                              <div class="form-control">
                                <textarea
                                  class="aw-textarea"
                                  pInputTextarea
                                  maxlength="300"
                                  [rows]="3"
                                  [(ngModel)]="note3"
                                  [disabled]="isReadOpenMode"
                                ></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>

      <!-- Item Dialog -->
      <aw-dialog-search-item
        *ngIf="showItemsDialog"
        [(display)]="showItemsDialog"
        (onValidated)="setSelectedItems($event)"
      ></aw-dialog-search-item>

      <!-- TIL Dialog -->
      <aw-til-popup
        *ngIf="showTILDialog"
        [(display)]="showTILDialog"
        [component-data]="dataItem"
        (onCreate)="addNewItem($event)"
      ></aw-til-popup>

      <!-- REPAIR CENTER Dialog-->
      <aw-repair-center-popup
        *ngIf="showRepairCenterDialog"
        [(display)]="showRepairCenterDialog"
        [component-data]="dataRepairCenter"
        (onCreate)="addNewRepairCenter($event)"
        (onUpdate)="updateRepairCenter($event)"
      ></aw-repair-center-popup>

      <!-- Cause of REMOVAL -->
      <aw-cause-of-removal-popup
        *ngIf="showCauseOfRemovalDialog"
        [(display)]="showCauseOfRemovalDialog"
        (onCreate)="addNewCause($event)"
      ></aw-cause-of-removal-popup>

      <!-- MAINTENANCE STATS -->
      <aw-statistics-popup
        *ngIf="showMaintenanceStatDialog"
        [(display)]="showMaintenanceStatDialog"
        [component-data]="dataMaintenanceStats"
        (onCreate)="addNewStat($event)"
        (onUpdate)="updateStat($event)"
      >
      </aw-statistics-popup>

      <!-- REFERENCE MEASUREMENT -->
      <aw-reference-measurement-popup
        *ngIf="showRefMeasurementDialog"
        [(display)]="showRefMeasurementDialog"
        [component-data]="dataRefMeasurement"
        (onCreate)="addNewRefMeasurement($event)"
        (onUpdate)="updateRefMeasurement($event)"
        [bireItemDTOId]="returnBireItemDTOId()"
      >
      </aw-reference-measurement-popup>

      <!-- ITEM SON -->
      <aw-dialog-search-item
        *ngIf="showItemSonDialog"
        [(display)]="showItemSonDialog"
        (onValidated)="addNewItemSon($event)"
      ></aw-dialog-search-item>

      <!-- ITEM FATHER -->
      <aw-dialog-search-item
        *ngIf="showItemFatherDialog"
        [(display)]="showItemFatherDialog"
        (onValidated)="addNewItemFather($event)"
      ></aw-dialog-search-item>

      <!-- ITEM VERSION -->
      <aw-item-version-popup
        *ngIf="openPartNumberVersionDialogFlag"
        [(display)]="openPartNumberVersionDialogFlag"
        [component-data]="dataItemVersion"
        (onCreate)="addNewItemVersion($event)"
      ></aw-item-version-popup>

      <!-- TASK -->
      <aw-task-popup
        *ngIf="showItemTaskDialog"
        [(display)]="showItemTaskDialog"
        [component-data]="dataItemTask"
        (onCreate)="addNewItemTask($event)"
        [bireItemDTOId]="returnBireItemDTOId()"
      ></aw-task-popup>

      <!-- DAMAGE -->
      <aw-damage-popup
        *ngIf="showDamageDialog"
        [(display)]="showDamageDialog"
        [component-data]="dataDamage"
        (onCreate)="addNewDamage($event)"
        [bireItemDTOId]="returnBireItemDTOId()"
      ></aw-damage-popup>

      <!-- LOCALISATION -->
      <aw-localisation-popup
        *ngIf="showLocalisationDialog"
        [(display)]="showLocalisationDialog"
        [component-data]="dataLocalisation"
        (onCreate)="addNewLocalisation($event)"
        [bireItemDTOId]="returnBireItemDTOId()"
      ></aw-localisation-popup>

      <!-- DAM LOC TASK-->
      <aw-dam-loc-task-popup
        *ngIf="showBireDamLocalisationDialog"
        [(display)]="showBireDamLocalisationDialog"
        [component-data]="dataBireDamLoc"
        (onCreate)="addNewDamLocTask($event)"
        [bireItemDTOId]="returnBireItemDTOId()"
      >
      </aw-dam-loc-task-popup>

      <!-- STATUS UPDATE HISTORY -->
      <aw-status-update-history
        *ngIf="showStatusUpdatesPopup"
        [object]="bireItemDTO"
        [data]="tableStatusUpdatesData"
        [deleteApi]="deleteApi"
        [(display)]="showStatusUpdatesPopup"
        [keyMap]="updatesKeyMap"
        [isStatusEditable]="!isReadOpenMode"
        (onUpdated)="updateObjectStatusFromStatusUpdatesHistory($event)"
      >
      </aw-status-update-history>

      <aw-dialog-bire-document
        *ngIf="showDocumentDialog"
        [document]="currentDocument"
        [(display)]="showDocumentDialog"
        [isReadOnlyForm]="isReadOnlyDocumentDialog"
        (onValidated)="updateDocument($event)"
      ></aw-dialog-bire-document>

      <aw-item-import-popup
        *ngIf="showAddDocumentDialog"
        [document]="currentDocument"
        [(display)]="showAddDocumentDialog"
        [isReadOnlyForm]="isReadOnlyDocumentDialog"
        [types]="documentTypes"
        (onValidated)="addNewDocument($event)"
      ></aw-item-import-popup>

      <aw-configuration-pack-popup
        *ngIf="showConfigPackDialog"
        [component-data]="currentPack"
        [typeList]="packTypeList"
        [(display)]="showConfigPackDialog"
        (onValidated)="updateConfigPack($event)"
      ></aw-configuration-pack-popup>

      <aw-edit-evolution-popup
        *ngIf="showEditEvolutionPackDialog"
        [component-data]="currentConfigEvolution"
        [(display)]="showEditEvolutionPackDialog"
        (onValidated)="updateConfigEvolution($event)"
      ></aw-edit-evolution-popup>

      <aw-add-evolution-popup
        *ngIf="showAddConfigPackDialog"
        [component-data]="currentPack"
        [(display)]="showAddConfigPackDialog"
        (onValidated)="validateConfigEvolution($event)"
      ></aw-add-evolution-popup>
    </div>
  </div>
</div>
