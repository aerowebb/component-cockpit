<div #page>
  <div class="page-header">
    <div class="page-info">
      <div>
        <h2 class="page-title">
          {{ "transaction." + componentData.componentId | translate }}
        </h2>

        <div class="page-subtitle">
          <div class="page-subtitle">- {{ isCreateOpenMode ? (componentContext | translate) : componentContext }}</div>
        </div>
      </div>

      <div class="object-status" *ngIf="missionEquipment.statusState" (click)="showStatus()">
        {{ missionEquipment.statusState | formatSelectOption: flightLabelStatusList }}
      </div>
    </div>

    <div class="page-actions">
      <button
        id="validateMeasures"
        *ngIf="isFlightStatusCompleted()"
        type="button"
        mat-raised-button
        (click)="validateMeasures()"
      >
        {{ getComponentName() + ".validateMeasures" | translate }}
      </button>

      <!-- Test GoNoGo-->
      <div
        *ngIf="!!gonogoValidationFormComponent"
        class="hover-div"
        pTooltip="{{ getComponentName() + '.gonogoHover' | translate }}"
        [tooltipDisabled]="!validateGonogoDisabling()"
        tooltipPosition="bottom"
      >
        <button
          id="validateGonogo"
          *ngIf="
            gonogoValidationFormComponent &&
            missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_SCHEDULED
          "
          type="button"
          mat-raised-button
          (click)="gonogoValidationFormComponent.validateGonogo()"
          (onValidate)="onReload()"
          [disabled]="validateGonogoDisabling()"
        >
          {{ "GonogoValidationFormComponent" + ".validateGonogo" | translate }}
        </button>
      </div>

      <button
        id="edit"
        *ngIf="
          isReadOpenMode &&
          hasUpdateAccessRight &&
          missionEquipment.statusState !== aWPropertiesConstants.FLIGHT_STATUS_VALIDATED
        "
        type="button"
        mat-raised-button
        (click)="onEdit()"
      >
        {{ "global.edit" | translate }}
      </button>

      <button
        id="cancel"
        *ngIf="!isReadOpenMode && !isCreateOpenMode"
        color="warn"
        type="button"
        mat-raised-button
        (click)="onCancel()"
      >
        {{ "global.cancel" | translate }}
      </button>

      <button
        id="save"
        *ngIf="!isReadOpenMode"
        class="btn-with-spinner"
        color="primary"
        type="button"
        mat-raised-button
        (click)="onSave($event)"
      >
        <span class="lds-hourglass" *ngIf="showSaveSpinner"></span>
        {{ "global.save" | translate }}
      </button>

      <button
        id="actions"
        mat-icon-button
        class="mat-elevation-z1"
        matTooltip="{{ 'global.showAllActionTooltip' | translate }}"
        matTooltipPosition="above"
        aria-label="Show all actions"
        [matMenuTriggerFor]="actions"
      >
        <mat-icon>more_horiz</mat-icon>
      </button>

      <mat-menu #actions="matMenu">
        <button id="goTo" mat-menu-item [matMenuTriggerFor]="navigations">
          {{ "global.goTo" | translate }}
        </button>

        <button id="updates" mat-menu-item (click)="openStatusUpdatesPopup()">
          {{ "global.updates" | translate }}
        </button>

        <button id="refresh" *ngIf="isReadOpenMode" type="button" mat-menu-item (click)="onReload($event)">
          {{ "global.refresh" | translate }}
        </button>

        <button id="favorites" mat-menu-item (click)="updateFavoriteState()">
          {{ (isFavoriteEntry ? "page.removeFromFavorites" : "page.addToFavorites") | translate }}
        </button>
      </mat-menu>

      <mat-menu #navigations="matMenu">
        <button id="assetReview" *ngIf="!isCreateOpenMode" type="button" mat-menu-item (click)="openAssetReview()">
          {{ getComponentName() + ".assetReview" | translate }}
        </button>
        <button
          id="lineMaintenance"
          *ngIf="!isCreateOpenMode"
          type="button"
          mat-menu-item
          (click)="openLineMaintenance()"
        >
          {{ getComponentName() + ".lineMaintenance" | translate }}
        </button>
      </mat-menu>
    </div>
  </div>

  <div class="page-wrapper">
    <div class="page-container">
      <div class="page-content">
        <mat-tab-group animationDuration="0ms" dynamicHeight>
          <!-- Home -->
          <mat-tab id="homeTab">
            <ng-template mat-tab-label>
              {{ "home" | translate }}
            </ng-template>

            <!-- Main Information -->
            <div class="grid-row">
              <div id="mainPanel" class="grid-cell--12">
                <div class="grid-cell grid-cell--container">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <div class="grid-cell-title">
                        <span>{{ "page.mainData" | translate }}</span>
                      </div>
                    </div>
                  </div>

                  <div class="grid-cell-content">
                    <div class="column">
                      <div class="row">
                        <div id="userFlightNumber" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".flightNumber" | translate }}
                          </label>

                          <div class="form-control">
                            <input
                              type="text"
                              class="aw-input"
                              [(ngModel)]="missionEquipment.userFlightNumber"
                              [disabled]="isReadOpenMode"
                            />
                          </div>
                        </div>

                        <div
                          id="aircraftRepresentation"
                          class="form-group"
                          [ngClass]="{
                            required:
                              !isReadOpenMode &&
                              missionEquipment.statusState != aWPropertiesConstants.FLIGHT_STATUS_DRAFT
                          }"
                        >
                          <label class="form-label">
                            {{ getComponentName() + ".aircraft" | translate }}
                          </label>

                          <div
                            class="form-control form-control-with-modal"
                            [ngClass]="{ disabled: isReadOpenMode && !isCreateOpenMode }"
                          >
                            <div
                              class="form-control-data"
                              (click)="(!isReadOpenMode || isCreateOpenMode) && selectAircraft($event)"
                            >
                              {{ aircraftRepresentation }}
                            </div>

                            <div *ngIf="!isReadOpenMode && showResetAircraft()" class="btn-clear-wrapper">
                              <i
                                class="ui-dropdown-clear-icon pi pi-times aw-icon btn-clear"
                                aria-hidden="true"
                                (click)="resetAircraft()"
                              ></i>
                            </div>
                            <div *ngIf="!isReadOpenMode && showUpdateAircraft()" class="btn-search-wrapper">
                              <i
                                class="fa fa-fw fa-search aw-icon btn-search"
                                aria-hidden="true"
                                (click)="selectAircraft($event)"
                              ></i>
                            </div>
                          </div>
                        </div>

                        <div id="flightType" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".flightType" | translate }}
                          </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="flightTypeList"
                              [(ngModel)]="missionEquipment.flightType"
                              [disabled]="isReadOpenMode"
                              [showClear]="true"
                              placeholder="&nbsp;"
                            ></p-dropdown>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div id="customerCode" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".customer" | translate }}
                          </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="flightCustomerList"
                              [(ngModel)]="missionEquipment.customerCode"
                              [disabled]="isReadOpenMode"
                              [showClear]="true"
                              placeholder="&nbsp;"
                            ></p-dropdown>
                          </div>
                        </div>
                        <div id="operatorCode" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".operator" | translate }}
                          </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="flightOperatorList"
                              [(ngModel)]="missionEquipment.customerOperatorCode"
                              [disabled]="isReadOpenMode"
                              [showClear]="true"
                              placeholder="&nbsp;"
                            ></p-dropdown>
                          </div>
                        </div>
                        <div id="requestedOpeConfigCode" *ngIf="isFunctionalItemStructure" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".operationalConfiguration" | translate }}
                          </label>

                          <div class="form-control form-control-with-modal" [ngClass]="{ disabled: isReadOpenMode }">
                            <div class="form-control-data" (click)="openOperationalConfigDialog()">
                              {{ getRequestedConfigLabel() }}
                            </div>
                            <div
                              *ngIf="!isReadOpenMode && missionEquipment.requestedOpeConfigCode"
                              class="btn-clear-wrapper"
                            >
                              <i
                                class="ui-dropdown-clear-icon pi pi-times aw-icon btn-clear"
                                aria-hidden="true"
                                (click)="resetConfig()"
                              ></i>
                            </div>
                            <div *ngIf="!isReadOpenMode" class="btn-search-wrapper">
                              <i
                                class="fa fa-fw fa-search aw-icon btn-search"
                                aria-hidden="true"
                                (click)="openOperationalConfigDialog()"
                              ></i>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div id="departureLocation" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".departureLocation" | translate }}
                          </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="flightBaseList"
                              [(ngModel)]="missionEquipment.departureLocation"
                              [disabled]="isReadOpenMode"
                              [showClear]="true"
                              placeholder="&nbsp;"
                            ></p-dropdown>
                          </div>
                        </div>

                        <div id="arrivalLocation" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".arrivalLocation" | translate }}
                          </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="flightBaseList"
                              [(ngModel)]="missionEquipment.arrivalLocation"
                              [disabled]="isReadOpenMode"
                              [showClear]="true"
                              placeholder="&nbsp;"
                            ></p-dropdown>
                          </div>
                        </div>

                        <div id="area" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".area" | translate }}
                          </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="areaList"
                              [(ngModel)]="missionEquipment.missionArea"
                              [disabled]="isReadOpenMode"
                              [showClear]="true"
                              placeholder="&nbsp;"
                            ></p-dropdown>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="grid-row">
              <!-- Dates and Duration-->
              <div id="datesAndDurationPanel" class="grid-cell--equally">
                <div class="grid-cell grid-cell--container">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <div class="grid-cell-title">
                        <span>{{ getComponentName() + ".datesAndDuration" | translate }}</span>
                      </div>
                    </div>
                  </div>

                  <div class="grid-cell-content">
                    <div class="column">
                      <div class="row">
                        <div class="row flex-row--justify-end action-list">
                          <button
                            *ngIf="
                              isCreateOpenMode && (mission.missionCode === undefined || mission.missionCode === null)
                            "
                            type="button"
                            mat-raised-button
                            (click)="createNewMission()"
                          >
                            {{ getComponentName() + ".createMission" | translate }}
                          </button>
                        </div>
                      </div>
                      <div class="row">
                        <!-- Mission -->
                        <div id="missionCode" class="form-group" [ngClass]="{ required: isCreateOpenMode }">
                          <label class="form-label">
                            {{ getComponentName() + ".mission" | translate }}
                          </label>

                          <div
                            class="form-control form-control-with-modal"
                            [ngClass]="{ disabled: isReadOpenMode && !isCreateOpenMode }"
                          >
                            <div
                              class="form-control-data"
                              (click)="(!isReadOpenMode || isCreateOpenMode) && selectMissionCode($event)"
                            >
                              {{ mission.missionCode }}
                            </div>
                            <div *ngIf="!isReadOpenMode" class="btn-search-wrapper">
                              <i
                                class="fa fa-fw fa-search aw-icon btn-search"
                                aria-hidden="true"
                                (click)="selectMissionCode($event)"
                              ></i>
                            </div>
                          </div>
                        </div>

                        <div class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".occurrence" | translate }}
                          </label>

                          <div class="form-control">
                            <input
                              type="number"
                              class="aw-input"
                              [(ngModel)]="missionEquipment.occurrence"
                              [disabled]="true"
                            />
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div
                          id="missionEquipmentStartDate"
                          class="form-group"
                          [ngClass]="{ required: !isReadOpenMode }"
                        >
                          <label class="form-label">{{
                            getComponentName() + ".startDateWithTimeZone" | translate
                          }}</label>

                          <div class="form-control">
                            <p-calendar
                              showButtonBar="true"
                              [monthNavigator]="true"
                              [yearNavigator]="true"
                              [yearRange]="sessionService.calendarYearRange"
                              class="aw-calendar"
                              [dateFormat]="sessionService.dateFormatPrimeNG"
                              [locale]="sessionService.calendarFormat"
                              [showTime]="true"
                              [(ngModel)]="missionEquipmentStartDate"
                              [disabled]="isReadOpenMode"
                              appendTo="body"
                            ></p-calendar>
                          </div>
                        </div>

                        <div id="missionEquipmentEndDate" class="form-group" [ngClass]="{ required: !isReadOpenMode }">
                          <label class="form-label">{{
                            getComponentName() + ".endDateWithTimeZone" | translate
                          }}</label>

                          <div class="form-control">
                            <p-calendar
                              showButtonBar="true"
                              [monthNavigator]="true"
                              [yearNavigator]="true"
                              [yearRange]="sessionService.calendarYearRange"
                              class="aw-calendar"
                              [dateFormat]="sessionService.dateFormatPrimeNG"
                              [locale]="sessionService.calendarFormat"
                              [showTime]="true"
                              [(ngModel)]="missionEquipmentEndDate"
                              [disabled]="isReadOpenMode"
                              (onSelect)="onSelectMissionEndDate()"
                              (onInput)="onSelectMissionEndDate()"
                              appendTo="body"
                            ></p-calendar>
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div
                          id="missionDuration"
                          class="form-group"
                          [ngClass]="{
                            required:
                              !isReadOpenMode &&
                              missionEquipment &&
                              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED
                          }"
                        >
                          <label class="form-label">
                            {{ getComponentName() + ".duration" | translate }}
                          </label>

                          <div class="form-control">
                            <input
                              type="text"
                              class="aw-input"
                              [(ngModel)]="missionEquipment.missionDuration"
                              [disabled]="isReadOpenMode"
                              (input)="onSelectDuration()"
                            />
                          </div>
                        </div>

                        <div
                          id="cycleNumber"
                          class="form-group"
                          [ngClass]="{
                            required:
                              !isReadOpenMode &&
                              missionEquipment &&
                              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED
                          }"
                        >
                          <label class="form-label">
                            {{ getComponentName() + ".cyclesNumber" | translate }}
                          </label>

                          <div class="form-control">
                            <input
                              type="text"
                              class="aw-input"
                              [(ngModel)]="missionEquipment.cycleNumber"
                              [disabled]="isReadOpenMode"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <!-- Manual Flight Entries -->
                        <!--                       <div *ngIf="sessionService.isSpecificDassault" class="form-group">
                        <label class="form-label">
                          {{ getComponentName() + ".manualFlightEntries" | translate }}
                        </label>

                        <div class="form-control">
                          <p-checkbox
                            binary="true"
                            class="aw-checkbox"
                            [(ngModel)]="manualFlightEntries"
                            [disabled]="isReadOpenMode"
                          ></p-checkbox>
                        </div>
                      </div> -->

                        <div
                          id="timeZoneSelected"
                          class="form-group"
                          [ngClass]="{ 'flex--3': sessionService.isSpecificDassault }"
                        >
                          <label class="form-label">
                            {{ getComponentName() + ".timezone" | translate }}
                          </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="timeZoneList"
                              [(ngModel)]="timeZoneSelected"
                              [disabled]="isReadOpenMode"
                              placeholder="&nbsp;"
                              appendTo="body"
                            ></p-dropdown>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div id="vertical" class="grid-cell--equally vertical">
                <!-- Fuel and GoNoGo-->
                <div class="grid-row">
                  <!-- Fuel -->
                  <div id="fuelPanel" class="grid-cell--grow2">
                    <div class="grid-cell grid-cell--container">
                      <div class="grid-cell-header">
                        <div class="grid-cell-title-container">
                          <div class="grid-cell-title">
                            <span>{{ "page.fuel" | translate }}</span>
                          </div>
                        </div>
                      </div>

                      <div class="grid-cell-content">
                        <div class="column">
                          <div class="row">
                            <div id="fuelLoadFactual" class="form-group">
                              <label class="form-label">
                                {{ "FuelComponent.fuelLoadFactual" | translate }}
                                <span *ngIf="fuelComponent.defaultVolumeUnit"
                                  >({{ "FuelComponent.defaultVolumeUnit" | translate }})</span
                                >
                              </label>

                              <div class="form-control">
                                <input
                                  type="number"
                                  class="aw-input"
                                  [(ngModel)]="fuelComponent.fuelLoadFactual"
                                  [disabled]="true"
                                />
                              </div>
                            </div>

                            <div id="fuelLoadDesiredTotal" class="form-group">
                              <label class="form-label">
                                {{ "FuelComponent.fuelLoadDesiredTotal" | translate }}
                                <span *ngIf="fuelComponent.defaultVolumeUnit"
                                  >({{ "FuelComponent.defaultVolumeUnit" | translate }})</span
                                >
                              </label>

                              <div class="form-control">
                                <input
                                  type="number"
                                  class="aw-input"
                                  [(ngModel)]="fuelComponent.fuelLoadDesiredTotal"
                                  [disabled]="true"
                                />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- GoNoGo Validation -->
                  <div id="goNoGoPanel" class="grid-cell--equally">
                    <div class="grid-cell grid-cell--container">
                      <aw-flight-gonogo-validation-status
                        [userWorkflow]="userWorkflow"
                        [componentEltRef]="gonogoValidationStatusComponent"
                        [equipmentCode]="equipmentCode"
                        [missionCode]="missionCode"
                        [missionEquipment]="missionEquipment"
                        [occurrence]="occurrence"
                        [openMode]="openMode"
                        (updateFlightStatus)="updateFlightStatus($event)"
                      ></aw-flight-gonogo-validation-status>
                    </div>
                  </div>

                  <div
                    id="humsPanel"
                    class="grid-cell--12"
                    [ngClass]="{
                      'hums-min-height': sessionService.isSpecificDassault && isCreateOpenMode,
                      'visibility--hidden': !sessionService.isSpecificDassault
                    }"
                  >
                    <div *ngIf="sessionService.isSpecificDassault" class="grid-cell grid-cell--container">
                      <aw-flight-hums
                        [userWorkflow]="userWorkflow"
                        [componentEltRef]="humsEltRef"
                        [openMode]="openMode"
                        (onSendFscToHums)="sendFscToHums()"
                      ></aw-flight-hums>
                    </div>
                  </div>
                </div>

                <!-- Engines -->
                <div class="grid-row">
                  <div id="enginesPanel" class="grid-cell--12">
                    <div class="grid-cell grid-cell--container">
                      <aw-flight-engines
                        [userWorkflow]="userWorkflow"
                        [componentEltRef]="enginesEltRef"
                        [missionEquipment]="missionEquipment"
                        [openMode]="openMode"
                      ></aw-flight-engines>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </mat-tab>

          <!-- Additional Information -->
          <mat-tab id="additionalDataTab">
            <ng-template mat-tab-label>
              {{ "additionalData" | translate }}
            </ng-template>
            <!--Ex Additional Information -->
            <div class="grid-row">
              <div id="additionalDataPanel" class="grid-cell--12">
                <div class="grid-cell grid-cell--container">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <div class="grid-cell-title">
                        <span>{{ "page.additionalData" | translate }}</span>
                      </div>
                    </div>
                  </div>

                  <div class="grid-cell-content">
                    <div class="column">
                      <div class="row">
                        <div id="missionComment" class="form-group flex--2">
                          <label class="form-label">
                            {{ getComponentName() + ".comments" | translate }}
                          </label>

                          <div class="form-control">
                            <textarea
                              class="aw-textarea"
                              pInputTextarea
                              [rows]="3"
                              [(ngModel)]="missionEquipment.missionComment"
                              [disabled]="isReadOpenMode"
                            ></textarea>
                          </div>
                        </div>

                        <div id="sourceSystemId" class="form-group">
                          <label class="form-label"> {{ getComponentName() + ".sourceSystemId" | translate }} </label>

                          <div class="form-control">
                            <p-dropdown
                              class="aw-dropdown fixed-width"
                              [options]="sourceSystemIdList"
                              [(ngModel)]="sourceSystemId.attributeValue"
                              [showClear]="true"
                              placeholder="&nbsp;"
                              [disabled]="isReadOpenMode"
                            ></p-dropdown>
                          </div>
                        </div>

                        <div id="sourceSystemReference" class="form-group">
                          <label class="form-label">
                            {{ getComponentName() + ".sourceSystemReference" | translate }}
                          </label>

                          <div class="form-control">
                            <input
                              type="text"
                              class="aw-input"
                              [(ngModel)]="sourceSystemReference.attributeValue"
                              [disabled]="isReadOpenMode"
                            />
                          </div>
                        </div>

                        <!-- Commentaires -->
                        <!-- <div class="form-group">
                        <label class="form-label">
                          {{ getComponentName() + ".comments" | translate }}
                        </label>

                        <div class="form-control">
                          <textarea
                            class="aw-textarea"
                            pInputTextarea
                            [rows]="3"
                            [(ngModel)]="missionEquipment.missionComment"
                            [disabled]="isReadOpenMode"
                          ></textarea>
                        </div>
                      </div> -->
                      </div>

                      <!-- A supprimer/remplacer par Area-->
                      <!--                     <div class="row">
                      <div class="form-group">
                        <label class="form-label">
                          {{ getComponentName() + ".environment" | translate }}
                        </label>

                        <div class="form-control">
                          <textarea
                            class="aw-textarea"
                            pInputTextarea
                            [rows]="3"
                            [(ngModel)]="mission.environment"
                            [disabled]="isReadOpenMode"
                          ></textarea>
                        </div>
                      </div>
                    </div> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="grid-row">
              <!-- Crew -->
              <div id="crewPanel" class="grid-cell--grow3">
                <div class="grid-cell grid-cell--container">
                  <aw-flight-crew
                    [userWorkflow]="userWorkflow"
                    [componentEltRef]="crewEltRef"
                    [openMode]="openMode"
                  ></aw-flight-crew>
                </div>
              </div>

              <!-- Passengers/Loads -->
              <div id="passengersLoadsPanel" class="grid-cell--grow2">
                <div class="grid-cell grid-cell--container">
                  <aw-flight-passengers-loads
                    [userWorkflow]="userWorkflow"
                    [componentEltRef]="passengersLoadsEltRef"
                    [openMode]="openMode"
                  ></aw-flight-passengers-loads>
                </div>
              </div>

              <!-- Conditions de vol -->
              <div id="flightConditionsPanel" class="grid-cell--equally">
                <div class="grid-cell grid-cell--container">
                  <div class="grid-cell-header">
                    <div class="grid-cell-title-container">
                      <div class="grid-cell-title">
                        <span>{{ "page.flightConditions" | translate }}</span>
                      </div>
                    </div>
                  </div>

                  <div class="grid-cell-content">
                    <div class="column">
                      <div class="row">
                        <div class="row">
                          <div id="ifrDuration" class="form-group">
                            <label class="form-label">
                              {{ getComponentName() + ".ifrDuration" | translate }}
                            </label>

                            <div class="form-control">
                              <input
                                type="text"
                                class="aw-input"
                                [(ngModel)]="missionEquipment.ifrDuration"
                                [disabled]="isReadOpenMode"
                              />
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div id="nightMission" class="form-group">
                            <label class="form-label">{{ getComponentName() + ".nightMission" | translate }}</label>

                            <div class="form-control">
                              <p-checkbox
                                binary="true"
                                class="aw-checkbox"
                                [(ngModel)]="missionEquipment.nightMission"
                                [disabled]="isReadOpenMode"
                              ></p-checkbox>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </mat-tab>

          <!-- GoNoGo Validation -->
          <mat-tab id="gonogoValidationTab" *ngIf="!isCreateOpenMode && !!aircraftRepresentation">
            <ng-template mat-tab-label>
              {{ getComponentName() + ".gonogoValidation" | translate }}
            </ng-template>
            <div class="grid-row">
              <aw-gonogo-validation-form
                [userWorkflow]="userWorkflow"
                [equipmentCode]="equipmentCode"
                [missionCode]="missionCode"
                [occurrence]="occurrence"
                (onValidate)="onReload()"
              ></aw-gonogo-validation-form>
            </div>
          </mat-tab>

          <!-- Fuel -->
          <!-- Supprimer Used-->
          <mat-tab id="fuelTab">
            <ng-template mat-tab-label>
              {{ "FuelComponent.fuel" | translate }}
            </ng-template>
            <div class="grid-row">
              <div id="fuelLoadDesiredPanel" class="grid-cell--12">
                <div class="grid-cell grid-cell--container">
                  <aw-flight-fuel
                    [userWorkflow]="userWorkflow"
                    [componentEltRef]="fuelEltRef"
                    [openMode]="openMode"
                    [showFuelTotal]="false"
                  ></aw-flight-fuel>
                </div>
              </div>
            </div>
          </mat-tab>

          <!-- Measures -->
          <mat-tab id="measuresTab">
            <ng-template mat-tab-label>
              {{ "ReplenishmentsComponent.measures" | translate }}
            </ng-template>
            <!-- Measures -->
            <div class="grid-row">
              <div id="measuresPanel" class="grid-cell--12">
                <div class="grid-cell grid-cell--container">
                  <aw-flight-flight-measures
                    [userWorkflow]="userWorkflow"
                    [componentEltRef]="flightMeasuresEltRef"
                    [measureReferenceList]="measureReferenceList"
                    [missionCode]="missionCode"
                  ></aw-flight-flight-measures>
                </div>
              </div>
            </div>

            <!-- Other Measures -->
            <div class="grid-row">
              <div id="otherMeasuresPanel" class="grid-cell--12">
                <div class="grid-cell grid-cell--container">
                  <aw-flight-other-measures
                    [userWorkflow]="userWorkflow"
                    [componentEltRef]="otherMeasuresEltRef"
                    [measureReferenceList]="measureReferenceList"
                    [openMode]="openMode"
                  ></aw-flight-other-measures>
                </div>
              </div>
            </div>
          </mat-tab>

          <!-- Post Flight Records -->
          <mat-tab
            id="postFlightRecordsTab"
            *ngIf="
              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_VALIDATED ||
              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED ||
              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_ARRIVED
            "
          >
            <ng-template mat-tab-label>
              {{ "PostFlightRecordsComponent.postFlightRecords" | translate }}
            </ng-template>

            <!-- Post-->
            <div class="grid-row">
              <aw-post-flight-records
                [userWorkflow]="userWorkflow"
                [componentEltRef]="postFlightRecordsEltRef"
                [openMode]="openMode"
                [missionEquipment]="missionEquipment"
              ></aw-post-flight-records>
            </div>
          </mat-tab>
        </mat-tab-group>
      </div>
    </div>

    <aw-dialog-search-aircraft
      *ngIf="dialogAircraftVisible"
      [(display)]="dialogAircraftVisible"
      (onValidated)="onSelectedAircraft($event)"
    ></aw-dialog-search-aircraft>

    <aw-dialog-search-mission
      *ngIf="dialogMissionVisible"
      [(display)]="dialogMissionVisible"
      (onValidated)="onSelectedMission($event)"
    ></aw-dialog-search-mission>

    <aw-dialog-search-operational-config
      *ngIf="showOperationalConfigDialog"
      [(display)]="showOperationalConfigDialog"
      [config-name]="configName"
      [operationalConfigs]="operationalConfigs"
      (requestedOpeConfigCodeSelected)="setSelectedConfig($event)"
    ></aw-dialog-search-operational-config>

    <!-- STATUS UPDATE HISTORY -->
    <aw-status-update-history
      *ngIf="showStatusUpdatesPopup"
      [object]="missionEquipment"
      [data]="tableStatusUpdatesData"
      [(display)]="showStatusUpdatesPopup"
      [keyMap]="updatesKeyMap"
      [isStatusEditable]="false"
    >
    </aw-status-update-history>
  </div>
</div>
