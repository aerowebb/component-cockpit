{"version":3,"sources":["webpack:///./node_modules/primeng/dragdrop.js","webpack:///./node_modules/primeng/radiobutton.js","webpack:///./src/app/main/maintenance/maintenance.module.ts","webpack:///./src/app/main/maintenance/referential-dashboard/referential-dashboard-search.component.html","webpack:///./src/app/main/maintenance/referential-dashboard/referential-dashboard-search.component.scss","webpack:///./src/app/main/maintenance/referential-dashboard/referential-dashboard-search.component.ts","webpack:///./src/app/main/maintenance/referential-dashboard/referential-dashboard-search.service.ts","webpack:///./src/app/main/maintenance/unit-conversion-matrix/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.html","webpack:///./src/app/main/maintenance/unit-conversion-matrix/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.scss","webpack:///./src/app/main/maintenance/unit-conversion-matrix/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.ts","webpack:///./src/app/main/maintenance/unit-conversion-matrix/import-report-popup/import-report-popup.component.html","webpack:///./src/app/main/maintenance/unit-conversion-matrix/import-report-popup/import-report-popup.component.scss","webpack:///./src/app/main/maintenance/unit-conversion-matrix/import-report-popup/import-report-popup.component.ts","webpack:///./src/app/main/maintenance/unit-conversion-matrix/unit-conversion-matrix.component.html","webpack:///./src/app/main/maintenance/unit-conversion-matrix/unit-conversion-matrix.component.scss","webpack:///./src/app/main/maintenance/unit-conversion-matrix/unit-conversion-matrix.component.ts","webpack:///./src/app/main/maintenance/unit-conversion-matrix/unit-conversion-matrix.service.ts","webpack:///./src/app/main/maintenance/work-package-scheduling/work-package-scheduling.component.html","webpack:///./src/app/main/maintenance/work-package-scheduling/work-package-scheduling.component.ts","webpack:///./src/app/main/maintenance/workshop-home/workshop-home.component.html","webpack:///./src/app/main/maintenance/workshop-home/workshop-home.component.scss","webpack:///./src/app/main/maintenance/workshop-home/workshop-home.component.ts","webpack:///./src/app/main/maintenance/workshop-home/workshop-home.service.ts","webpack:///./src/app/shared/api/unit-matrix-conversion.api.ts","webpack:///./src/app/shared/components/work-scheduling/work-scheduling.component.html","webpack:///./src/app/shared/components/work-scheduling/work-scheduling.component.scss","webpack:///./src/app/shared/components/work-scheduling/work-scheduling.component.ts","webpack:///./src/app/shared/components/work-scheduling/work-scheduling.module.ts","webpack:///./src/app/shared/services/work-scheduling.service.ts"],"names":[],"mappings":"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","file":"maintenance-maintenance-module.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/dragdrop/dragdrop\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/radiobutton/radiobutton\"));","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { DragDropModule } from 'primeng/dragdrop';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\r\nimport { RadioButtonModule } from 'primeng/radiobutton';\r\nimport { SelectButtonModule } from 'primeng/selectbutton';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TreeModule } from 'primeng/tree';\r\nimport { TreeTableModule } from 'primeng/treetable';\r\nimport { TriStateCheckboxModule } from 'primeng/tristatecheckbox';\r\n\r\nimport { AngularCommonSharedModule } from '../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../shared/angular-generic-templates-shared-module';\r\nimport { UnitConversionMatrixApi } from '../../shared/api/unit-matrix-conversion.api';\r\nimport { AppCommonSharedModule } from '../../shared/app-common-shared.module';\r\nimport { DefectListModule } from '../../shared/components/defect-list/defect-list.module';\r\nimport { ModalModule } from '../../shared/components/modal/modal.module';\r\nimport { TableModule } from '../../shared/components/table/table.module';\r\nimport { WorkOrderListModule } from '../../shared/components/work-order-list/work-order-list.module';\r\nimport { WorkSchedulingModule } from '../../shared/components/work-scheduling/work-scheduling.module';\r\nimport { WorkSchedulingService } from '../../shared/services/work-scheduling.service';\r\nimport { DynamicComponentLoaderModule } from '../dynamic-component-loader/dynamic-component-loader.module';\r\nimport { ItemSearchService } from '../engineering-management/item/search/item-search.service';\r\n\r\nimport { ProcurementRequestsTableModule } from './procurement-request/procurement-requests-table.module';\r\nimport { ReferentialDashboardSearchComponent } from './referential-dashboard/referential-dashboard-search.component';\r\nimport { ReferentialDashboardSearchService } from './referential-dashboard/referential-dashboard-search.service';\r\nimport { DialogUnitConversionMatrixComponent } from './unit-conversion-matrix/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component';\r\nimport { ImportReportPopupComponent } from './unit-conversion-matrix/import-report-popup/import-report-popup.component';\r\nimport { UnitConversionMatrixComponent } from './unit-conversion-matrix/unit-conversion-matrix.component';\r\nimport { UnitConversionMatrixService } from './unit-conversion-matrix/unit-conversion-matrix.service';\r\nimport { WorkOrdersCalendarModule } from './work-orders-calendar/work-orders-calendar.module';\r\nimport { WorkPackageSchedulingComponent } from './work-package-scheduling/work-package-scheduling.component';\r\nimport { DialogWorkOrderEditService } from './work-package/form/popups/dialog-work-order-edition/dialog-work-order-edition.service';\r\nimport { WorkshopHomeComponent } from './workshop-home/workshop-home.component';\r\nimport { WorkshopHomeService } from './workshop-home/workshop-home.service';\r\n\r\nconst PRIMENG_MODULES = [\r\n  CalendarModule,\r\n  CheckboxModule,\r\n  DialogModule,\r\n  DropdownModule,\r\n  InputTextareaModule,\r\n  RadioButtonModule,\r\n  SplitButtonModule,\r\n  PrimeNgTableModule,\r\n  SelectButtonModule,\r\n  TooltipModule,\r\n  TriStateCheckboxModule,\r\n  FileUploadModule,\r\n  DragDropModule,\r\n  OverlayPanelModule,\r\n  TreeTableModule,\r\n  TreeModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [\r\n  ProcurementRequestsTableModule,\r\n  DefectListModule,\r\n  TableModule,\r\n  WorkSchedulingModule,\r\n  WorkOrdersCalendarModule,\r\n  WorkOrderListModule\r\n];\r\n\r\nconst OTHER_LIBS_MODULES = [];\r\n\r\nconst COMPONENTS = [ImportReportPopupComponent, DialogUnitConversionMatrixComponent];\r\n\r\nconst DYNAMIC_COMPONENTS = [\r\n  UnitConversionMatrixComponent,\r\n  WorkPackageSchedulingComponent,\r\n  WorkshopHomeComponent,\r\n  ReferentialDashboardSearchComponent\r\n];\r\n\r\nconst SERVICES = [\r\n  UnitConversionMatrixService,\r\n  ReferentialDashboardSearchService,\r\n  UnitConversionMatrixApi,\r\n  WorkSchedulingService,\r\n  WorkshopHomeService,\r\n  ItemSearchService,\r\n  DialogWorkOrderEditService\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ModalModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...PRIMENG_MODULES,\r\n    ...OTHER_LIBS_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class MaintenanceModule {}\r\n","module.exports = \"<div class=\\\"page-header-container\\\">\\r\\n  <div class=\\\"page-context\\\">\\r\\n    <div class=\\\"page-title-container\\\">\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-secondary-actions\\\">\\r\\n        <i\\r\\n          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n          [ngClass]=\\\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          (click)=\\\"updateFavoriteState()\\\"\\r\\n          pTooltip=\\\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n\\r\\n        <i\\r\\n          class=\\\"fa fa-fw fa-info aw-icon aw-icon-with-border\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          pTooltip=\\\"{{ 'page.info' | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-subtitle-container\\\">\\r\\n      <div class=\\\"page-subtitle\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-primary-actions\\\"><!-- Remove enclosing tag if empty --></div>\\r\\n\\r\\n  <div class=\\\"page-close\\\"><i class=\\\"material-icons\\\" (click)=\\\"closeComponent()\\\">close</i></div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      Received File List ({{ refrentialTableDataSource ? refrentialTableDataSource.dataCount : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"refrentialTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"refrentialTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"downloadFile()\\\">\\r\\n                        {{ \\\"global.download\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        *ngIf=\\\"hasManageAccessRight && refrentialTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"deleteFiles()\\\">\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"reportName\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a class=\\\"report-name-text\\\">{{ rowData.reportName | uppercase }} </a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .report-name-text {\\n  text-decoration: underline;\\n  color: blue; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9yZWZlcmVudGlhbC1kYXNoYm9hcmQvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcbWFpbnRlbmFuY2VcXHJlZmVyZW50aWFsLWRhc2hib2FyZFxccmVmZXJlbnRpYWwtZGFzaGJvYXJkLXNlYXJjaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLDBCQUEwQjtFQUMxQixXQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL21haW50ZW5hbmNlL3JlZmVyZW50aWFsLWRhc2hib2FyZC9yZWZlcmVudGlhbC1kYXNoYm9hcmQtc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC5yZXBvcnQtbmFtZS10ZXh0IHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgY29sb3I6IGJsdWU7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { ReferentialDashboardDTO } from '../../../shared/types/api-types/referential-dashboard-dto.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { FileUtils } from '../../../shared/utils/file-utils';\r\n\r\nimport { ReferentialDashboardSearchService } from './referential-dashboard-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-referential-dashboard-search',\r\n  styleUrls: ['./referential-dashboard-search.component.scss'],\r\n  templateUrl: './referential-dashboard-search.component.html'\r\n})\r\nexport class ReferentialDashboardSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public refrentialTableDataSource: TableDataSource<ReferentialDashboardDTO>;\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly refrentialDashboardSearchService: ReferentialDashboardSearchService,\r\n    private readonly confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n    this.initReferentialTableDataSource();\r\n    this.getAllFiles();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'ReferentialDashboardSearchComponent';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n  }\r\n\r\n  private initReferentialTableDataSource(): void {\r\n    this.refrentialTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'reportName',\r\n          translateKey: this.getTranslateKey('reportName')\r\n        },\r\n        {\r\n          field: 'folderName',\r\n          translateKey: this.getTranslateKey('folderName')\r\n        },\r\n        {\r\n          field: 'date',\r\n          translateKey: this.getTranslateKey('date')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  /** Search Contact By Criteria */\r\n  public getAllFiles(): void {\r\n    this.refrentialDashboardSearchService.getAllFiles().subscribe((result) => {\r\n      this.renderTable(result);\r\n      this.refrentialTableDataSource.dataSelection = [];\r\n    });\r\n  }\r\n\r\n  /** Filling contact table */\r\n  private renderTable(result): void {\r\n    const fileListDTO: ReferentialDashboardDTO[] = [];\r\n    result.forEach((results) => {\r\n      results.folderName = results.folderName.substring(0,\r\n        parseInt(results.folderName.lastIndexOf('\\\\'), 10));\r\n      const fileCreationDate = new Date(results.date);\r\n      const pipe = new DatePipe('en-US');\r\n      results.date = pipe.transform(fileCreationDate, 'd/M/yy hh:mm:ss');\r\n      fileListDTO.push(results);\r\n    });\r\n    this.refrentialTableDataSource.setData(fileListDTO);\r\n  }\r\n\r\n  /** delete files By Criteria */\r\n  public deleteFiles(): void {\r\n    const referentialDashboardDto: ReferentialDashboardDTO = {};\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedFile'),\r\n      accept: () => {\r\n        this.refrentialTableDataSource.dataSelection.forEach((referentialDoc) => {\r\n          if (referentialDoc.folderName && !!referentialDoc.date) {\r\n            referentialDashboardDto.reportName = referentialDoc.reportName;\r\n            referentialDashboardDto.folderName = referentialDoc.folderName;\r\n            referentialDashboardDto.date = new Date(referentialDoc.date);\r\n            referentialDashboardDto.folderPath = referentialDoc.folderPath;\r\n          }\r\n          this.refrentialDashboardSearchService.deleteFile(referentialDashboardDto).subscribe(\r\n            (result) => {\r\n              this.getAllFiles();\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteFile'));\r\n            },\r\n            (error) => {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteFile'));\r\n            }\r\n          );\r\n          this.refrentialTableDataSource.dataSelection = [];\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /** download functionality */\r\n  public downloadFile(): void {\r\n    const referentialDashboardDto: ReferentialDashboardDTO[] = [];\r\n    const fileName: string[] = [];\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDownloadSelectedFiles'),\r\n      accept: () => {\r\n        this.refrentialTableDataSource.dataSelection.forEach((referentialDoc, index) => {\r\n          if (!!referentialDoc.reportName && !!referentialDoc.folderName && !!referentialDoc.date) {\r\n            fileName[index] = referentialDoc.reportName;\r\n            referentialDashboardDto[index] = {};\r\n            referentialDashboardDto[index].reportName = referentialDoc.reportName;\r\n            referentialDashboardDto[index].folderName = referentialDoc.folderName;\r\n            referentialDashboardDto[index].date = new Date(referentialDoc.date);\r\n            referentialDashboardDto[index].folderPath = referentialDoc.folderPath;\r\n          }\r\n          this.refrentialDashboardSearchService.downloadNDeleteFiles(referentialDashboardDto[index]).subscribe(\r\n            (result) => {\r\n              this.downLoadFiles(result, fileName[index]);\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('successOnDownloadFile'));\r\n              this.refrentialDashboardSearchService.deleteFile(referentialDashboardDto[index]).subscribe(\r\n                (deleteresult) => {\r\n                  this.getAllFiles();\r\n                  this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteFile'));\r\n                },\r\n                (error) => {\r\n                  this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteFile'));\r\n                }\r\n              );\r\n            },\r\n            (error) => {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('errorOnDownloadFile'));\r\n            }\r\n          );\r\n          this.refrentialTableDataSource.dataSelection = [];\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /** download files */\r\n  public downLoadFiles(docFile: Uint8Array, docName: string): void {\r\n    FileUtils.downloadFile(docFile, docName);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { ReferentialManagementApi } from '../../../shared/api/referential-managment.api';\r\nimport { AbstractAwDassaultHttpService } from '../../../shared/http/abstract-aw-dassault-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { ReferentialDashboardDTO } from '../../../shared/types/api-types/referential-dashboard-dto.interface';\r\n\r\n@Injectable()\r\nexport class ReferentialDashboardSearchService extends AbstractAwDassaultHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly referentialApi: ReferentialManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public deleteFile(referntials: ReferentialDashboardDTO) {\r\n    return super.post<ReferentialDashboardDTO, void>(this.referentialApi.deletFiles, referntials);\r\n  }\r\n\r\n  public downloadNDeleteFiles(referntials: ReferentialDashboardDTO) {\r\n    return super.post<ReferentialDashboardDTO, Uint8Array>(this.referentialApi.downloadFiles, referntials);\r\n  }\r\n\r\n  public getAllFiles() {\r\n    return super.get(this.referentialApi.getFilesFromMediation);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".unit\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-dropdown\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          [options]=\\\"unitCodes\\\"\\r\\n          [(ngModel)]=\\\"measure.unit\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n          [showClear]=\\\"true\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".fhEquivalent\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\"><input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"measure.fhEquivalent\\\" /></div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [ngClass]=\\\"{ inactive: !enableValidate() }\\\"\\r\\n      [disabled]=\\\"!enableValidate()\\\"\\r\\n    >\\r\\n      <span>{{ \\\"global.validate\\\" | translate }}</span>\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2UvdW5pdC1jb252ZXJzaW9uLW1hdHJpeC9kaWFsb2ctdW5pdC1jb252ZXJzaW9uLW1hdHJpeC9kaWFsb2ctdW5pdC1jb252ZXJzaW9uLW1hdHJpeC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { BireMeasureReferenceDTO } from '../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { UnitConversionMatrixRowDTO } from '../../../../shared/types/api-types/unit-conversion-matrix-row-dto.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { UnitConversionMatrixService } from '../unit-conversion-matrix.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-unit-conversion-matrix',\r\n  templateUrl: './dialog-unit-conversion-matrix.component.html',\r\n  styleUrls: ['./dialog-unit-conversion-matrix.component.scss']\r\n})\r\nexport class DialogUnitConversionMatrixComponent extends DialogComponent implements OnInit {\r\n  @Output()\r\n  public displayChange: EventEmitter<boolean>;\r\n\r\n  @Input()\r\n  public ucm: UnitConversionMatrixRowDTO;\r\n\r\n  @Input()\r\n  public newUcm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<UnitConversionMatrixRowDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<UnitConversionMatrixRowDTO>;\r\n\r\n  public readonly componentId: string;\r\n\r\n  public displayValue: boolean;\r\n\r\n  public unitCodes: LabelValue<string>[];\r\n\r\n  public measure: UnitConversionMatrixRowDTO;\r\n\r\n  public constructor(public unitConversionMatrixService: UnitConversionMatrixService) {\r\n    super(ComponentOpenMode.Write, 'DialogUnitConversionMatrixComponent');\r\n\r\n    this.onCreate = new EventEmitter<UnitConversionMatrixRowDTO>();\r\n    this.onUpdate = new EventEmitter<UnitConversionMatrixRowDTO>();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.measure = {};\r\n    this.unitCodes = [];\r\n    this.loadDropdown();\r\n  }\r\n\r\n  private loadDropdown() {\r\n    this.unitConversionMatrixService.findAllBireMeasureReferences().subscribe((results) => {\r\n      const list: BireMeasureReferenceDTO[] = results;\r\n\r\n      list.sort((a, b) => {\r\n        if (a.counterCode && b.counterCode) {\r\n          const counterCodeA = a.counterCode.toLowerCase();\r\n          const counterCodeB = b.counterCode.toLowerCase();\r\n          if (counterCodeA < counterCodeB) {\r\n            return -1;\r\n          }\r\n          if (counterCodeA > counterCodeB) {\r\n            return 1;\r\n          }\r\n        }\r\n\r\n        return 0;\r\n      });\r\n\r\n      list.forEach((element) => {\r\n        const labelValue: LabelValue<string> = {\r\n          label: !!element.counterCode ? element.counterCode : '',\r\n          value: !!element.counterCode ? element.counterCode : ''\r\n        };\r\n        this.unitCodes.push(labelValue);\r\n      });\r\n\r\n      if (!!this.ucm) {\r\n        this.measure = this.ucm;\r\n      }\r\n    });\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public validate(): void {\r\n    if (!!this.measure) {\r\n      if (this.newUcm) {\r\n        this.onCreate.emit(this.measure);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.measure);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      super.throwUnboundLocalError('validate', 'this.measure');\r\n    }\r\n  }\r\n\r\n  public enableValidate(): boolean {\r\n    if (\r\n      !!this.measure &&\r\n      !!this.measure.unit &&\r\n      this.measure.unit !== '' &&\r\n      !!this.measure.fhEquivalent &&\r\n      this.measure.fhEquivalent !== ''\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"displayValue\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ componentId + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\"></label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" style=\\\"height: auto\\\">\\r\\n        <textarea\\r\\n          pInputTextArea\\r\\n          [cols]=\\\"60\\\"\\r\\n          [rows]=\\\"15\\\"\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-textarea\\\"\\r\\n          [(ngModel)]=\\\"importReportMessage\\\"\\r\\n          disabled\\r\\n        ></textarea>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"close()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \".textbox {\\n  background-color: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS91bml0LWNvbnZlcnNpb24tbWF0cml4L2ltcG9ydC1yZXBvcnQtcG9wdXAvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcbWFpbnRlbmFuY2VcXHVuaXQtY29udmVyc2lvbi1tYXRyaXhcXGltcG9ydC1yZXBvcnQtcG9wdXBcXGltcG9ydC1yZXBvcnQtcG9wdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBdUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2UvdW5pdC1jb252ZXJzaW9uLW1hdHJpeC9pbXBvcnQtcmVwb3J0LXBvcHVwL2ltcG9ydC1yZXBvcnQtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dGJveCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuIl19 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'aw-import-report-popup',\r\n  templateUrl: './import-report-popup.component.html',\r\n  styleUrls: ['./import-report-popup.component.scss']\r\n})\r\nexport class ImportReportPopupComponent implements OnInit {\r\n  @Input()\r\n  public get display() {\r\n    return this.displayValue;\r\n  }\r\n\r\n  public set display(displayValue) {\r\n    this.displayValue = displayValue;\r\n    this.displayChange.emit(this.displayValue);\r\n  }\r\n\r\n  @Output() public displayChange: EventEmitter<boolean>;\r\n\r\n  @Input() public importReportMessage: string | null;\r\n\r\n  public readonly componentId: string;\r\n  public displayValue: boolean;\r\n\r\n  public constructor() {\r\n    this.componentId = 'ImportReportPopupComponent';\r\n    this.displayChange = new EventEmitter<boolean>();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.importReportMessage === '') {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  public close(): void {\r\n    this.display = false;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"save()\\\">\\r\\n      {{ componentData.componentId + \\\".save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      *ngIf=\\\"!isCreateOpenMode\\\"\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"openTemplate()\\\">\\r\\n        {{ \\\"global.export\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"reloadMatrix()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ \\\"page.\\\" + (isFavoriteEntry ? \\\"removeFromFavorites\\\" : \\\"addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #ucTable\\r\\n                    [columns]=\\\"ucmTableCols\\\"\\r\\n                    [value]=\\\"ucmTable\\\"\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [style]=\\\"{ margin: '0 auto', width: '100%' }\\\"\\r\\n                    [(selection)]=\\\"selectedUcmRows\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                    scrollHeight=\\\"400px\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedUcmRows.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableResultsGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ucTable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            type=\\\"button\\\"\\r\\n                            *ngIf=\\\"selectedUcmRows.length === 0\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createUcmRecord()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedUcmRows.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editUcmRecord()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedUcmRows.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"deleteUcmRecord()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ rowData[col.field] }}\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".importTab\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <!-- Import -->\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".importTab\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"grid-cell--12\\\">\\r\\n                    <div class=\\\"grid-cell-content\\\">\\r\\n                      <div class=\\\"column\\\">\\r\\n                        <div class=\\\"row grid-cell--6\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ componentData.componentId + \\\".fileToImport\\\" | translate }}\\r\\n                            </label>\\r\\n                            <div class=\\\"form-control form-control-with-modal\\\">\\r\\n                              <div class=\\\"form-control-data\\\">\\r\\n                                {{ fileName }}\\r\\n                              </div>\\r\\n\\r\\n                              <div class=\\\"btn-file-upload-wrapper\\\">\\r\\n                                <p-fileUpload\\r\\n                                  #fileUploader\\r\\n                                  class=\\\"aw-fileupload\\\"\\r\\n                                  name=\\\"document[]\\\"\\r\\n                                  customUpload=\\\"true\\\"\\r\\n                                  mode=\\\"basic\\\"\\r\\n                                  auto=\\\"true\\\"\\r\\n                                  chooseLabel=\\\"\\\"\\r\\n                                  (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n                                ></p-fileUpload>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"row search-criteria-footer\\\">\\r\\n                          <div class=\\\"search-actions\\\">\\r\\n                            <button\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"import()\\\"\\r\\n                              [ngClass]=\\\"{ inactive: fileName === '' }\\\"\\r\\n                            >\\r\\n                              <i class=\\\"fa fa-fw fa-plus\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              <span>{{ componentData.componentId + \\\".importFile\\\" | translate }}</span>\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!-- Archived Report -->\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".archivedImportTab\\\" | translate }} ({{\\r\\n                        archivedImportReportTable ? archivedImportReportTable.length : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #table\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [columns]=\\\"archivedImportReportTableCols\\\"\\r\\n                    [value]=\\\"archivedImportReportTable\\\"\\r\\n                    [style]=\\\"{ margin: '0 auto', width: '100%' }\\\"\\r\\n                    [(selection)]=\\\"selectedArchivedImportReports\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                    scrollHeight=\\\"400px\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingImport\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingImport\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div\\r\\n                        class=\\\"aw-table-header\\\"\\r\\n                        [ngClass]=\\\"{ 'rows-selected': selectedArchivedImportReports.length > 0 }\\\"\\r\\n                      >\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableResultsGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"table.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            pTooltip=\\\"{{ 'global.delete' | translate }}\\\"\\r\\n                            tooltipPosition=\\\"top\\\"\\r\\n                            (click)=\\\"deleteArchivedImportReports()\\\"\\r\\n                            *ngIf=\\\"selectedArchivedImportReports.length !== 0\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <div *ngSwitchCase=\\\"'reportName'\\\">\\r\\n                            <span\\r\\n                              (click)=\\\"openReportDetail(rowData)\\\"\\r\\n                              style=\\\"cursor: pointer; text-decoration: underline; color: blue\\\"\\r\\n                            >\\r\\n                              {{ rowData[col.field] }}\\r\\n                            </span>\\r\\n                          </div>\\r\\n                          <div *ngSwitchCase=\\\"'statusDate'\\\">\\r\\n                            <span> {{ rowData[col.field] | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang }} </span>\\r\\n                          </div>\\r\\n                          <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-import-report-popup\\r\\n  *ngIf=\\\"showImportReportMessage\\\"\\r\\n  [importReportMessage]=\\\"importReportMessage\\\"\\r\\n  [(display)]=\\\"showImportReportMessage\\\"\\r\\n></aw-import-report-popup>\\r\\n\\r\\n<aw-dialog-unit-conversion-matrix\\r\\n  *ngIf=\\\"showDialogUnitConversionMatrix\\\"\\r\\n  [ucm]=\\\"currentUcm\\\"\\r\\n  [(display)]=\\\"showDialogUnitConversionMatrix\\\"\\r\\n  [newUcm]=\\\"isNewUcm\\\"\\r\\n  (onCreate)=\\\"addNewUcm($event)\\\"\\r\\n  (onUpdate)=\\\"updateUcm($event)\\\"\\r\\n></aw-dialog-unit-conversion-matrix>\\r\\n\"","module.exports = \":host #unit-component .main-data .form-group {\\n  width: 15rem; }\\n  :host #unit-component .main-data .form-group .star {\\n    color: red; }\\n  :host #unit-component .attributes-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .plus-field {\\n  margin-right: 20px;\\n  max-width: 35rem;\\n  min-width: 25rem;\\n  width: 20%; }\\n  :host #unit-component .ucmTab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .ucmTab .ucm-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .ucmTab .ucm-tables .align-right {\\n      margin-left: 93%; }\\n  :host #unit-component .ucmTab .ucm-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .ucmTab .ucm-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .ucmTab .ucm-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .ucmTab .ucm-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .ucmTab .ucm-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .fields-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .fields-tab .fields-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #unit-component .fields-tab .fields-fields .fields-field {\\n      width: 15rem; }\\n  :host #unit-component .fields-tab .fields-fields .cost-field {\\n      width: 6rem; }\\n  :host #unit-component .fields-tab .fields-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #unit-component .fields-tab .fields-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #unit-component .fields-tab .fields-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #unit-component .fields-tab .fields-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .fields-tab .fields-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .import-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .import-tab .import-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #unit-component .import-tab .import-fields .import-field {\\n      width: 10rem; }\\n  :host #unit-component .import-tab .import-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #unit-component .import-tab .import-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #unit-component .import-tab .import-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #unit-component .import-tab .tasks-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .import-tab .tasks-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .evolution-form-popup {\\n  display: flex;\\n  flex-direction: row;\\n  transition: width 0.3s;\\n  width: 20vw; }\\n  :host #unit-component .evolution-form-popup > div:nth-of-type(2) {\\n    flex: 1; }\\n  :host #unit-component .evolution-form-popup.active-right-panel {\\n    width: 70vw; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\\n      background-color: #e5e5e5; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .form-group {\\n      padding: 20px; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .right-panel {\\n      border-left: 1px solid #bdbdbd;\\n      padding: 20px 0 20px 20px; }\\n  :host #unit-component .evolution-number-panel {\\n  margin-bottom: 1rem;\\n  height: 409px;\\n  transition: height 0.5s ease-in-out; }\\n  :host #unit-component .evolution-number-panel .form-group {\\n    margin-bottom: 5px;\\n    margin-left: 0;\\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\\n  :host #unit-component .evolution-number-panel .table-container {\\n    -webkit-animation: fade 1s;\\n            animation: fade 1s;\\n    opacity: 1; }\\n  :host #unit-component .evolution-number-panel.collapsed {\\n    box-shadow: none;\\n    height: 56px; }\\n  :host #unit-component .evolution-number-panel.collapsed .panel-content {\\n      padding-bottom: 0; }\\n  :host #unit-component .evolution-number-panel.collapsed .form-group {\\n      margin-bottom: 0;\\n      margin-left: -24px;\\n      margin-top: -24px; }\\n  :host #unit-component .evolution-number-panel.collapsed .table-container {\\n      -webkit-animation: fade-out 1s;\\n              animation: fade-out 1s; }\\n  ::ng-deep .export-methods {\\n  list-style-type: none;\\n  margin: 0;\\n  min-width: 100px;\\n  padding: 0; }\\n  ::ng-deep .export-methods .export-method-wrapper {\\n    cursor: pointer;\\n    font-size: 0.8rem;\\n    padding: 5px 0; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method {\\n      padding-left: 5px; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method:hover {\\n        text-decoration: underline; }\\n  ::ng-deep #visit-form-component .aw-dialog .ui-dialog {\\n  max-width: 90%; }\\n  @-webkit-keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @-webkit-keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n  @keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS91bml0LWNvbnZlcnNpb24tbWF0cml4L0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXG1haW50ZW5hbmNlXFx1bml0LWNvbnZlcnNpb24tbWF0cml4XFx1bml0LWNvbnZlcnNpb24tbWF0cml4LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00sWUFBWSxFQUFBO0VBSGxCO0lBTVEsVUFBVSxFQUFBO0VBTmxCO0VBV00sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBWjVCO0VBZ0JNLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLFVBQVUsRUFBQTtFQW5CaEI7RUF1Qk0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBeEI1QjtJQTJCUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBN0J6QjtNQWdDVSxnQkFBZ0IsRUFBQTtFQWhDMUI7TUFvQ1UsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUF0Q3pCO1FBeUNZLG1CQUFtQixFQUFBO0VBekMvQjtRQTZDWSxVQUFVLEVBQUE7RUE3Q3RCO1VBZ0RjLG1CQUFtQixFQUFBO0VBaERqQztVQW9EYyxrQkFBa0IsRUFBQTtFQXBEaEM7RUE0RE0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBN0Q1QjtJQWdFUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQWxFbkI7TUFxRVUsWUFBWSxFQUFBO0VBckV0QjtNQXlFVSxXQUFXLEVBQUE7RUF6RXJCO01BNkVVLGFBQWE7TUFDYixzQkFBc0I7TUFDdEIsVUFBVSxFQUFBO0VBL0VwQjtRQWtGWSxtQkFBbUIsRUFBQTtFQWxGL0I7UUFzRlksa0JBQWtCLEVBQUE7RUF0RjlCO0lBNEZRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUE5RnpCO01BaUdVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBO0VBbkd6QjtRQXNHWSxtQkFBbUIsRUFBQTtFQXRHL0I7UUEwR1ksVUFBVSxFQUFBO0VBMUd0QjtVQTZHYyxtQkFBbUIsRUFBQTtFQTdHakM7VUFpSGMsa0JBQWtCLEVBQUE7RUFqSGhDO0VBeUhNLGFBQWE7RUFDYixzQkFBc0IsRUFBQTtFQTFINUI7SUE2SFEsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixXQUFXLEVBQUE7RUEvSG5CO01Ba0lVLFlBQVksRUFBQTtFQWxJdEI7TUFzSVUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7RUF4SXBCO1FBMklZLG1CQUFtQixFQUFBO0VBM0kvQjtRQStJWSxrQkFBa0IsRUFBQTtFQS9JOUI7SUFxSlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTtFQXZKekI7TUEwSlUsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUE1SnpCO1FBK0pZLG1CQUFtQixFQUFBO0VBL0ovQjtRQW1LWSxVQUFVLEVBQUE7RUFuS3RCO1VBc0tjLG1CQUFtQixFQUFBO0VBdEtqQztVQTBLYyxrQkFBa0IsRUFBQTtFQTFLaEM7RUFrTE0sYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixzQkFBc0I7RUFDdEIsV0FBVyxFQUFBO0VBckxqQjtJQXdMUSxPQUFPLEVBQUE7RUF4TGY7SUE0TFEsV0FBVyxFQUFBO0VBNUxuQjtNQWdNWSx5QkFBeUIsRUFBQTtFQWhNckM7TUFvTVksYUFBYSxFQUFBO0VBcE16QjtNQXlNVSw4QkFBOEI7TUFDOUIseUJBQXlCLEVBQUE7RUExTW5DO0VBZ05NLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsbUNBQW1DLEVBQUE7RUFsTnpDO0lBcU5RLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2Qsc0VBQXNFLEVBQUE7RUF2TjlFO0lBMk5RLDBCQUFrQjtZQUFsQixrQkFBa0I7SUFDbEIsVUFBVSxFQUFBO0VBNU5sQjtJQWdPUSxnQkFBZ0I7SUFDaEIsWUFBWSxFQUFBO0VBak9wQjtNQW9PVSxpQkFBaUIsRUFBQTtFQXBPM0I7TUF3T1UsZ0JBQWdCO01BQ2hCLGtCQUFrQjtNQUNsQixpQkFBaUIsRUFBQTtFQTFPM0I7TUE4T1UsOEJBQXNCO2NBQXRCLHNCQUFzQixFQUFBO0VBT2hDO0VBQ0UscUJBQXFCO0VBQ3JCLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBSlo7SUFPSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGNBQWMsRUFBQTtFQVRsQjtNQVlNLGlCQUFpQixFQUFBO0VBWnZCO1FBZVEsMEJBQTBCLEVBQUE7RUFNbEM7RUFDRSxjQUFjLEVBQUE7RUFHaEI7RUFDRTtJQUNFLGFBQWE7SUFDYixVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBO0VBUGQ7RUFDRTtJQUNFLGFBQWE7SUFDYixVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBO0VBSWQ7RUFDRTtJQUNFLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFOZDtFQUNFO0lBQ0UsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2UvdW5pdC1jb252ZXJzaW9uLW1hdHJpeC91bml0LWNvbnZlcnNpb24tbWF0cml4LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICN1bml0LWNvbXBvbmVudCB7XHJcbiAgICAubWFpbi1kYXRhIC5mb3JtLWdyb3VwIHtcclxuICAgICAgd2lkdGg6IDE1cmVtO1xyXG5cclxuICAgICAgLnN0YXIge1xyXG4gICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXR0cmlidXRlcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgIC5wbHVzLWZpZWxkIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICBtYXgtd2lkdGg6IDM1cmVtO1xyXG4gICAgICBtaW4td2lkdGg6IDI1cmVtO1xyXG4gICAgICB3aWR0aDogMjAlO1xyXG4gICAgfVxyXG5cclxuICAgIC51Y21UYWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLnVjbS10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLmFsaWduLXJpZ2h0IHtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiA5MyU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZmllbGRzLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuZmllbGRzLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuZmllbGRzLWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiAxNXJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5jb3N0LWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiA2cmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmZpZWxkcy10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmltcG9ydC10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmltcG9ydC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmltcG9ydC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTByZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAudGFza3MtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5ldm9sdXRpb24tZm9ybS1wb3B1cCB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7XHJcbiAgICAgIHdpZHRoOiAyMHZ3O1xyXG5cclxuICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgZmxleDogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5hY3RpdmUtcmlnaHQtcGFuZWwge1xyXG4gICAgICAgIHdpZHRoOiA3MHZ3O1xyXG5cclxuICAgICAgICAubGVmdC1wYW5lbCB7XHJcbiAgICAgICAgICAuZXZvbHV0aW9uLW51bWJlciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNWU1ZTU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnJpZ2h0LXBhbmVsIHtcclxuICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2JkYmRiZDtcclxuICAgICAgICAgIHBhZGRpbmc6IDIwcHggMCAyMHB4IDIwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmV2b2x1dGlvbi1udW1iZXItcGFuZWwge1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICBoZWlnaHQ6IDQwOXB4O1xyXG4gICAgICB0cmFuc2l0aW9uOiBoZWlnaHQgMC41cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogbWFyZ2luLWxlZnQgMC41cyBlYXNlLWluLW91dCwgbWFyZ2luLXRvcCAwLjI1cyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBmYWRlIDFzO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuY29sbGFwc2VkIHtcclxuICAgICAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgICAgIGhlaWdodDogNTZweDtcclxuXHJcbiAgICAgICAgLnBhbmVsLWNvbnRlbnQge1xyXG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IC0yNHB4O1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogLTI0cHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAudGFibGUtY29udGFpbmVyIHtcclxuICAgICAgICAgIGFuaW1hdGlvbjogZmFkZS1vdXQgMXM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG46Om5nLWRlZXAgLmV4cG9ydC1tZXRob2RzIHtcclxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIG1pbi13aWR0aDogMTAwcHg7XHJcbiAgcGFkZGluZzogMDtcclxuXHJcbiAgLmV4cG9ydC1tZXRob2Qtd3JhcHBlciB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBmb250LXNpemU6IDAuOHJlbTtcclxuICAgIHBhZGRpbmc6IDVweCAwO1xyXG5cclxuICAgIC5leHBvcnQtbWV0aG9kIHtcclxuICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOjpuZy1kZWVwICN2aXNpdC1mb3JtLWNvbXBvbmVudCAuYXctZGlhbG9nIC51aS1kaWFsb2cge1xyXG4gIG1heC13aWR0aDogOTAlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGUge1xyXG4gIDAlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gIH1cclxuXHJcbiAgMTAwJSB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlLW91dCB7XHJcbiAgMCUge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { SaveExcelDataInput } from '../../../shared/types/api-input-types/fleet-data-exchange/save-excel-data-input.interface';\r\nimport { BidoDocumentationDTO } from '../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { BireReportDTOId } from '../../../shared/types/api-types/bire-report-dto-id.interface';\r\nimport { BireReportDTO } from '../../../shared/types/api-types/bire-report-dto.interface';\r\nimport { FileContent } from '../../../shared/types/api-types/file-content.interface';\r\nimport { UnitConversionMatrixRowDTO } from '../../../shared/types/api-types/unit-conversion-matrix-row-dto.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { FileUtils } from '../../../shared/utils/file-utils';\r\n\r\nimport { UnitConversionMatrixService } from './unit-conversion-matrix.service';\r\n\r\n@Component({\r\n  selector: 'aw-unit-conversion-matrix',\r\n  templateUrl: './unit-conversion-matrix.component.html',\r\n  styleUrls: ['./unit-conversion-matrix.component.scss']\r\n})\r\nexport class UnitConversionMatrixComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public readonly tabUnitConversionMatrixId: string;\r\n  public readonly tabImportId: string;\r\n  public readonly tabArchivedImportReportsId: string;\r\n\r\n  public currentTabId: string;\r\n\r\n  public templateFile: FileContent;\r\n\r\n  public ucmTable: UnitConversionMatrixRowDTO[] | undefined;\r\n  public ucmTableCols: TableColumn[];\r\n  public selectedUcmRows: UnitConversionMatrixRowDTO[];\r\n  public currentUcm: UnitConversionMatrixRowDTO | undefined;\r\n  public currentUcmIndex: number;\r\n\r\n  public isNewUcm: boolean;\r\n  public showDialogUnitConversionMatrix: boolean;\r\n\r\n  public file: BidoDocumentationDTO | undefined;\r\n  public fileName: string | undefined;\r\n\r\n  public archivedImportReportTable: BireReportDTO[] | undefined;\r\n  public archivedImportReportTableCols: TableColumn[];\r\n  public selectedArchivedImportReports: BireReportDTO[];\r\n\r\n  private unitConversionMatrixRowAddedList: UnitConversionMatrixRowDTO[];\r\n\r\n  public importReportMessage: string;\r\n  public showImportReportMessage: boolean;\r\n\r\n  public isLoading: boolean;\r\n  public isLoadingImport: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public translateService: TranslateService,\r\n    public unitConversionMatrixService: UnitConversionMatrixService,\r\n    public confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Read, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.tabUnitConversionMatrixId = 'ucm';\r\n    this.tabImportId = 'import';\r\n    this.tabArchivedImportReportsId = 'archImportReport';\r\n    this.currentUcm = undefined;\r\n\r\n    this.showDialogUnitConversionMatrix = false;\r\n\r\n    this.currentTabId = this.tabUnitConversionMatrixId;\r\n\r\n    this.templateFile = {};\r\n\r\n    this.ucmTable = undefined;\r\n    this.ucmTableCols = [{ field: 'unit', alignment: 'center' }, { field: 'fhEquivalent', alignment: 'center' }];\r\n    this.selectedUcmRows = [];\r\n\r\n    this.file = undefined;\r\n    this.fileName = undefined;\r\n\r\n    this.archivedImportReportTable = undefined;\r\n    this.archivedImportReportTableCols = [\r\n      { field: 'reportCode', alignment: 'center' },\r\n      { field: 'reportName', alignment: 'center' },\r\n      { field: 'statusUser', alignment: 'center' },\r\n      { field: 'statusDate', alignment: 'center' }\r\n    ];\r\n    this.selectedArchivedImportReports = [];\r\n    this.unitConversionMatrixRowAddedList = [];\r\n\r\n    this.loadUnitConversionMatrixTable();\r\n\r\n    this.loadArchivedImportReports();\r\n\r\n    this.isLoadingImport = false;\r\n    this.isLoading = false;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'UnitConversionMatrixComponent';\r\n  }\r\n\r\n  // Downloads excel template\r\n  public openTemplate(): void {\r\n    this.unitConversionMatrixService.getExcelTemplate().subscribe(\r\n      (result) => {\r\n        this.templateFile = result;\r\n        if (!!this.templateFile.fileContent && !!this.templateFile.fileName) {\r\n          this.downLoadFiles(this.templateFile.fileContent, this.templateFile.fileName);\r\n        } else {\r\n          super.throwUnboundLocalError('openTemplate', 'this.template');\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetTemplate'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadUnitConversionMatrixTable(): void {\r\n    this.isLoading = true;\r\n    this.unitConversionMatrixService.getUnitConversionMatrixRows().subscribe(\r\n      (results) => {\r\n        this.ucmTable = results || [];\r\n        this.isLoading = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetUcmRows'));\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  public downLoadFiles(docFile: Uint8Array, docName: string): void {\r\n    FileUtils.downloadFile(docFile, docName);\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (event.files) {\r\n      const file: File = event.files[0];\r\n      {\r\n        FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n          if (fileContent) {\r\n            this.file = {\r\n              docFile: fileContent,\r\n              docName: file.name,\r\n              docPublicationDate: new Date()\r\n            };\r\n            this.fileName = this.file.docName;\r\n          }\r\n        });\r\n      }\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public import(): void {\r\n    if (!!this.file) {\r\n      const input: SaveExcelDataInput = {\r\n        fileName: this.fileName,\r\n        excelSource: this.file.docFile\r\n      };\r\n\r\n      this.unitConversionMatrixService.importUnitConversionMatrixFromExcel(input).subscribe((result) => {\r\n        this.fileName = '';\r\n        this.file = undefined;\r\n        this.importReportMessage = result;\r\n        this.showImportReportMessage = true;\r\n        this.loadUnitConversionMatrixTable();\r\n        this.loadArchivedImportReports();\r\n      });\r\n    }\r\n  }\r\n\r\n  public loadArchivedImportReports(): void {\r\n    this.isLoadingImport = true;\r\n    this.unitConversionMatrixService.loadArchivedImportReports().subscribe(\r\n      (results) => {\r\n        this.archivedImportReportTable = results || [];\r\n        this.isLoadingImport = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetArchivedImportReports'));\r\n        this.isLoadingImport = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  public deleteArchivedImportReports(): void {\r\n    if (this.selectedArchivedImportReports !== []) {\r\n      const partialMessageKey =\r\n        this.selectedArchivedImportReports.length > 1 ? 'confirmDeleteSelectedReports' : 'confirmDeleteSelectedReport';\r\n\r\n      const reports = new Array<BireReportDTOId>();\r\n\r\n      this.selectedArchivedImportReports.forEach((report) => {\r\n        if (report && report.reportId) {\r\n          const reportId: BireReportDTOId = {\r\n            reportId: report.reportId\r\n          };\r\n          reports.push(reportId);\r\n        }\r\n      });\r\n\r\n      this.confirmationService.confirmDelete({\r\n        messageKey: this.getTranslateKey(partialMessageKey),\r\n        accept: () => {\r\n          this.unitConversionMatrixService.deleteReportEntry(reports).subscribe(\r\n            (results) => {\r\n              const messageKey =\r\n                partialMessageKey === 'confirmDeleteSelectedReports'\r\n                  ? this.getTranslateKey('successOnDeleteReports')\r\n                  : this.getTranslateKey('successOnDeleteReport');\r\n\r\n              this.messageService.showSuccessMessage(messageKey);\r\n\r\n              this.selectedArchivedImportReports = [];\r\n              this.loadArchivedImportReports();\r\n            },\r\n            () => {\r\n              const messageKey =\r\n                partialMessageKey === 'confirmDeleteSelectedReports'\r\n                  ? this.getTranslateKey('errorOnDeleteReports')\r\n                  : this.getTranslateKey('errorOnDeleteReport');\r\n\r\n              this.messageService.showSuccessMessage(messageKey);\r\n            }\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public openReportDetail(object: BireReportDTO): void {\r\n    const partialMessageKey = this.getTranslateKey('openReport');\r\n    this.confirmationService.confirm({\r\n      interpolateParams: { 'openReport.reportName': object.reportName },\r\n      contextKeys: [this.getTranslateKey('openReport.line1')],\r\n      messageKey: partialMessageKey,\r\n      accept: () => {\r\n        if (!!object.reportId) {\r\n          const bireReportDTOId: BireReportDTOId = {\r\n            reportId: object.reportId\r\n          };\r\n          this.unitConversionMatrixService.openImportReportContent(bireReportDTOId).subscribe((result) => {\r\n            if (!!object.reportName) {\r\n              this.downLoadFiles(result, object.reportName);\r\n            } else {\r\n              super.throwUnboundLocalError('openReportDetail', 'object.reportName');\r\n            }\r\n          });\r\n        } else {\r\n          super.throwUnboundLocalError('openReportDetail', 'object.reportId');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public save(): void {\r\n    this.unitConversionMatrixService.saveBidoPreferenceUser(this.unitConversionMatrixRowAddedList).subscribe(() => {\r\n      this.unitConversionMatrixRowAddedList = [];\r\n      this.messageService.showSuccessMessage(this.getTranslateKey('successOnSaveUnitConversionMatrix'));\r\n    });\r\n  }\r\n\r\n  /***********\r\n   * Open tabs\r\n   ***********/\r\n\r\n  public openUCMTab(): void {\r\n    this.currentTabId = this.tabUnitConversionMatrixId;\r\n  }\r\n\r\n  public openImportTab(): void {\r\n    this.currentTabId = this.tabImportId;\r\n  }\r\n\r\n  public openArchImportReportTab(): void {\r\n    this.currentTabId = this.tabArchivedImportReportsId;\r\n  }\r\n\r\n  /************************************\r\n   * Unit Conversion Matrix Tab Actions\r\n   ************************************/\r\n\r\n  public createUcmRecord(): void {\r\n    this.currentUcm = undefined;\r\n    this.isNewUcm = true;\r\n    this.showDialogUnitConversionMatrix = true;\r\n  }\r\n\r\n  public editUcmRecord(): void {\r\n    if (!!this.ucmTable && this.selectedUcmRows.length === 1) {\r\n      this.currentUcm = { ...this.selectedUcmRows[0] };\r\n      this.isNewUcm = false;\r\n      this.currentUcmIndex = this.ucmTable.indexOf(this.selectedUcmRows[0]);\r\n      this.showDialogUnitConversionMatrix = true;\r\n    }\r\n  }\r\n\r\n  public deleteUcmRecord(): void {\r\n    const partialMessageKey =\r\n      this.selectedUcmRows.length > 1 ? 'confirmDeleteSelectedRows' : 'confirmDeleteSelectedRow';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        const idArr: number[] = [];\r\n        this.selectedUcmRows.forEach((res) => {\r\n          if (!!res.preferenceUserId) {\r\n            idArr.push(res.preferenceUserId);\r\n          }\r\n        });\r\n        this.unitConversionMatrixService.removeBidoPreferenceUser(idArr).subscribe(() => {\r\n          if (!!this.ucmTable) {\r\n            const messageKey = this.selectedUcmRows.length > 1 ? 'successOnDeleteRows' : 'successOnDeleteRow';\r\n            this.messageService.showSuccessMessage(this.getTranslateKey(messageKey));\r\n            this.ucmTable = this.ucmTable.filter((ucmRow) => {\r\n              return !this.selectedUcmRows.includes(ucmRow);\r\n            });\r\n            this.selectedUcmRows = [];\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public addNewUcm(ucm: UnitConversionMatrixRowDTO): void {\r\n    if (!!ucm && !!this.ucmTable) {\r\n      this.unitConversionMatrixRowAddedList.push(ucm);\r\n      this.ucmTable = [...this.ucmTable, ucm];\r\n    }\r\n  }\r\n\r\n  public updateUcm(ucm: UnitConversionMatrixRowDTO): void {\r\n    if (!!ucm && !!this.ucmTable) {\r\n      const foundIndex = this.unitConversionMatrixRowAddedList.findIndex(\r\n        (value) => value.preferenceUserId === ucm.preferenceUserId\r\n      );\r\n\r\n      if (foundIndex !== -1) {\r\n        this.unitConversionMatrixRowAddedList[foundIndex] = ucm;\r\n      } else {\r\n        this.unitConversionMatrixRowAddedList.push(ucm);\r\n      }\r\n\r\n      this.ucmTable[this.currentUcmIndex] = ucm;\r\n      this.selectedUcmRows = [];\r\n    }\r\n  }\r\n\r\n  public reloadMatrix() {\r\n    this.selectedArchivedImportReports = [];\r\n    this.unitConversionMatrixRowAddedList = [];\r\n\r\n    this.loadUnitConversionMatrixTable();\r\n    this.loadArchivedImportReports();\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetBusinessApi } from '../../../shared/api/fleet-business.api';\r\nimport { FleetManagementApi } from '../../../shared/api/fleet-management.api';\r\nimport { StandardImportApi } from '../../../shared/api/standard-import.api';\r\nimport { UnitConversionMatrixApi } from '../../../shared/api/unit-matrix-conversion.api';\r\nimport { UserProfileManagementApi } from '../../../shared/api/user-profile-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { SaveExcelDataInput } from '../../../shared/types/api-input-types/fleet-data-exchange/save-excel-data-input.interface';\r\nimport { SaveBireConversionMatrixInputDTO } from '../../../shared/types/api-input-types/unit-conversion-matrix/bire-unit-conversion-matrix-create-dto.interface';\r\nimport { SearchBireConversionMatrixInput } from '../../../shared/types/api-input-types/unit-conversion-matrix/bire-unit-conversion-matrix-dto.interface';\r\nimport { BireConversionMatrixDTO } from '../../../shared/types/api-output-types/unit-conversion-matrix/bire-unit-conversion-matrix-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { BireReportDTOId } from '../../../shared/types/api-types/bire-report-dto-id.interface';\r\nimport { BireReportDTO } from '../../../shared/types/api-types/bire-report-dto.interface';\r\nimport { FileContent } from '../../../shared/types/api-types/file-content.interface';\r\nimport { UnitConversionMatrixRowDTO } from '../../../shared/types/api-types/unit-conversion-matrix-row-dto.interface';\r\n\r\n@Injectable()\r\nexport class UnitConversionMatrixService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly unitMatrixConversionApi: UnitConversionMatrixApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly fleetBusinessApi: FleetBusinessApi,\r\n    private readonly standardImportApi: StandardImportApi,\r\n    private readonly userProfileManagementApi: UserProfileManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public searchUnitMatrixConversion(input: SearchBireConversionMatrixInput): Observable<BireConversionMatrixDTO[]> {\r\n    return super.post<SearchBireConversionMatrixInput, BireConversionMatrixDTO[]>(\r\n      this.unitMatrixConversionApi.searchUnitMatrixConversion,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getUnitConversionMatrix(id: number): Observable<BireConversionMatrixDTO> {\r\n    return super.post<number, BireConversionMatrixDTO>(this.unitMatrixConversionApi.getUnitMatrixConversion, id);\r\n  }\r\n\r\n  public deleteUnitConversionMatrix(id: number): Observable<boolean> {\r\n    return super.post<number, boolean>(this.unitMatrixConversionApi.deleteUnitMatrixConversion, id);\r\n  }\r\n\r\n  public saveConversionMatrix(input: SaveBireConversionMatrixInputDTO): Observable<BireConversionMatrixDTO> {\r\n    return super.post<SaveBireConversionMatrixInputDTO, BireConversionMatrixDTO>(\r\n      this.unitMatrixConversionApi.saveConversionMatrix,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getUnitConversionMatrixRows(): Observable<UnitConversionMatrixRowDTO[]> {\r\n    return super.post<void, UnitConversionMatrixRowDTO[]>(this.fleetManagementApi.getUnitConversionMatrixRows);\r\n  }\r\n\r\n  public getExcelTemplate(): Observable<FileContent> {\r\n    return super.post<void, FileContent>(this.fleetBusinessApi.getXlsUnitConversionMatrixReport);\r\n  }\r\n\r\n  public importUnitConversionMatrixFromExcel(input: SaveExcelDataInput): Observable<string> {\r\n    return super.post<SaveExcelDataInput, string>(this.standardImportApi.importUnitConversionMatrixFromExcel, input);\r\n  }\r\n\r\n  public loadArchivedImportReports(): Observable<BireReportDTO[]> {\r\n    return super.post<void, BireReportDTO[]>(this.fleetManagementApi.findBidoReportsUnitMatrixConversion);\r\n  }\r\n\r\n  public openImportReportContent(reportId: BireReportDTOId): Observable<Uint8Array> {\r\n    return super.post<BireReportDTOId, Uint8Array>(this.fleetManagementApi.findBidoReportContentOfBidoReport, reportId);\r\n  }\r\n\r\n  public deleteReportEntry(reports: BireReportDTOId[]) {\r\n    return super.post<BireReportDTOId[], void>(this.fleetManagementApi.removeBidoReport, reports);\r\n  }\r\n\r\n  public saveBidoPreferenceUser(rowList: UnitConversionMatrixRowDTO[]) {\r\n    return super.post<UnitConversionMatrixRowDTO[], void>(\r\n      this.userProfileManagementApi.saveBidoPreferenceUser,\r\n      rowList\r\n    );\r\n  }\r\n\r\n  public removeBidoPreferenceUser(id: Number[]) {\r\n    return super.post<Number[], void>(this.userProfileManagementApi.removeBidoPreferenceUser, id);\r\n  }\r\n\r\n  public findAllBireMeasureReferences(): Observable<BireMeasureReferenceDTO[]> {\r\n    return super.post<void, BireMeasureReferenceDTO[]>(this.fleetManagementApi.findAllBireMeasureReferences);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"reloadData()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <aw-work-scheduling\\r\\n          [firstColumnName]=\\\"'projectNumber'\\\"\\r\\n          [workPackageStatusList]=\\\"statusList\\\"\\r\\n          [tableData]=\\\"treeTable\\\"\\r\\n          [isTableLoading]=\\\"isTableLoading\\\"\\r\\n          (onRowClick)=\\\"openWorkPackageDetail($event)\\\"\\r\\n          [ngStyle]=\\\"{ width: '100%' }\\\"\\r\\n        ></aw-work-scheduling>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { WorkSchedulingService } from '../../../shared/services/work-scheduling.service';\r\nimport { BidmProjectDTO } from '../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { WsTreeNode } from '../../../shared/types/api-types/ws-tree-node-dto.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { ListUtils } from '../../../shared/utils/list-utils';\r\n\r\n@Component({\r\n  selector: 'aw-work-package-scheduling',\r\n  templateUrl: './work-package-scheduling.component.html'\r\n})\r\nexport class WorkPackageSchedulingComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public isTableLoading: boolean;\r\n  public statusList: SelectItem[];\r\n  public treeTable: WsTreeNode[];\r\n  private refreshButton: (() => void) | undefined;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly workSchedulingService: WorkSchedulingService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n    this.loadWorkPackageStatusList();\r\n    this.registerRefreshButton();\r\n    this.refreshButton = undefined;\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_MY_JOBS_CARDS_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.loadWorkSchdulingTable();\r\n  }\r\n\r\n  public loadWorkSchdulingTable(): void {\r\n    this.isTableLoading = true;\r\n    this.workSchedulingService.getWorkPackageSchedulingList().subscribe((result) => {\r\n      if (result) {\r\n        this.treeTable = result.filter((wp) => {\r\n          const bidmProjectDTO = wp.data as BidmProjectDTO;\r\n\r\n          return !(\r\n            bidmProjectDTO.statusState === '6-clo' &&\r\n            !!bidmProjectDTO.projectEndDate &&\r\n            new Date(bidmProjectDTO.projectEndDate as Date).valueOf() < new Date().valueOf()\r\n          );\r\n        });\r\n\r\n        this.isTableLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private registerRefreshButton(): void {\r\n    this.workSchedulingService.refreshButton$.pipe(takeUntil(this.unsubscribe)).subscribe((f) => {\r\n      this.refreshButton = f;\r\n    });\r\n  }\r\n\r\n  private loadWorkPackageStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.AIRM_PROJECT_STATUS_MAP).subscribe((result) => {\r\n      this.statusList = ListUtils.orEmpty(result);\r\n    });\r\n  }\r\n\r\n  public reloadData(): void {\r\n    if (this.refreshButton) {\r\n      this.refreshButton();\r\n      this.loadWorkSchdulingTable();\r\n    }\r\n  }\r\n\r\n  public openWorkPackageDetail(rowData: BidmProjectDTO) {\r\n    if (!!rowData) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.MAI_WORK_PACKAGE_FORM,\r\n        openMode: ComponentOpenMode.Write,\r\n        objectId: this.serializationService.serialize({ wpId: rowData.projectId })\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">{{ componentData.componentId + \\\".workshop\\\" | translate }} {{ bidtWarehouse.whName }}</h2>\\r\\n\\r\\n      <div class=\\\"hr-style\\\">\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell-style\\\">\\r\\n            <div class=\\\"grid-cell--3\\\">\\r\\n              {{ componentData.componentId + \\\".humanResourceLabel\\\" | translate }}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"grid-cell-style\\\">\\r\\n            <div class=\\\"grid-cell--3\\\">\\r\\n              {{ humanResourceOutputDTO.nbPrevisionalDaysEmployeeWorkedOnWO }}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"grid-cell-style\\\">\\r\\n            <div class=\\\"grid-cell--3\\\">\\r\\n              {{ humanResourceOutputDTO.nbPrevisionalDaysEmployeeArePresent }}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"grid-cell-style\\\">\\r\\n            <div class=\\\"grid-cell--3\\\">\\r\\n              {{ humanResourceOutputDTO.nbEmployee }}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\" style=\\\"max-width: 25%\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".reportingDate\\\" | translate }} </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [(ngModel)]=\\\"date\\\"\\r\\n            (ngModelChange)=\\\"onDateValueChange()\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          - {{ subtitle }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"general\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div id=\\\"workloadPanel\\\" class=\\\"grid-cell--6\\\">\\r\\n            <div #workloadAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".workloadTab\\\" | translate }}\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <a-table id=\\\"workloadTable\\\" [dataSource]=\\\"workloadTableDataSource\\\">\\r\\n                  <ng-template columnDef=\\\"workloadKey\\\" let-rowData=\\\"rowData\\\">\\r\\n                    {{ rowData.workloadKey | translate }}\\r\\n                  </ng-template>\\r\\n                  <ng-template columnDef=\\\"validationOk\\\" let-rowData=\\\"rowData\\\">\\r\\n                    <span [ngClass]=\\\"{ 'alert--ok': rowData.isValidationOk }\\\">\\r\\n                      {{ rowData.validationOk }}\\r\\n                    </span>\\r\\n                  </ng-template>\\r\\n                  <ng-template columnDef=\\\"alert\\\" let-rowData=\\\"rowData\\\">\\r\\n                    <span [ngClass]=\\\"{ 'alert--warning': rowData.isAlert }\\\">\\r\\n                      {{ rowData.alert }}\\r\\n                    </span>\\r\\n                  </ng-template>\\r\\n                  <ng-template columnDef=\\\"validationNok\\\" let-rowData=\\\"rowData\\\">\\r\\n                    <span [ngClass]=\\\"{ 'alert--nok': rowData.isValidationNok }\\\">\\r\\n                      {{ rowData.validationNok }}\\r\\n                    </span>\\r\\n                  </ng-template>\\r\\n                </a-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div id=\\\"qualificationsStatusPanel\\\" class=\\\"grid-cell--6\\\">\\r\\n            <div #qualificationsStatusAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".qualificationsStatusTab\\\" | translate }} ({{\\r\\n                      qualificationStatusTableDataSource ? qualificationStatusTableDataSource.dataCount : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <a-table id=\\\"qualificationsStatusTable\\\" [dataSource]=\\\"qualificationStatusTableDataSource\\\">\\r\\n                  <ng-template columnDef=\\\"qualificationOk\\\" let-rowData=\\\"rowData\\\">\\r\\n                    <span [ngClass]=\\\"{ 'alert--ok': rowData.isQualificationOk }\\\">\\r\\n                      {{ rowData.qualificationOk }}\\r\\n                    </span>\\r\\n                  </ng-template>\\r\\n                  <ng-template columnDef=\\\"qualificationAlert\\\" let-rowData=\\\"rowData\\\">\\r\\n                    <span [ngClass]=\\\"{ 'alert--warning': rowData.isQualificationAlert }\\\">\\r\\n                      {{ rowData.qualificationAlert }}\\r\\n                    </span>\\r\\n                  </ng-template>\\r\\n                  <ng-template columnDef=\\\"qualificationNok\\\" let-rowData=\\\"rowData\\\">\\r\\n                    <span [ngClass]=\\\"{ 'alert--nok': rowData.isQualificationNok }\\\">\\r\\n                      {{ rowData.qualificationNok }}\\r\\n                    </span>\\r\\n                  </ng-template>\\r\\n                </a-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div id=\\\"partsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n            <aw-procurement-requests-table\\r\\n              [procurementRequests]=\\\"procurementRequestAndIndicatorsParts\\\"\\r\\n              [requestManagementKey]=\\\"articleTitleKey\\\"\\r\\n            ></aw-procurement-requests-table>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div id=\\\"toolsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n            <aw-procurement-requests-table\\r\\n              [procurementRequests]=\\\"procurementRequestAndIndicatorsTools\\\"\\r\\n              [requestManagementKey]=\\\"supportResourcesTitleKey\\\"\\r\\n            ></aw-procurement-requests-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n      <mat-tab id=\\\"workOrdersTab\\\">\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"workOrders\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div id=\\\"workOrdersPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\" *ngIf=\\\"!!woDisplayedList\\\">\\r\\n              <aw-work-order-list [workOrderInputList]=\\\"woDisplayedList\\\" [hideWOTableAction]=\\\"true\\\">\\r\\n              </aw-work-order-list>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n    </mat-tab-group>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .calendar-style {\\n  position: absolute;\\n  right: 60px; }\\n\\n:host .grid-cell-style {\\n  border: 1px solid black; }\\n\\n:host .hr-style {\\n  margin-left: auto;\\n  margin-right: auto; }\\n\\n:host .alert--ok {\\n  display: block;\\n  background-color: #4caf50; }\\n\\n:host .alert--warning {\\n  display: block;\\n  background-color: #ffc107; }\\n\\n:host .alert--nok {\\n  display: block;\\n  background-color: #f6685e; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS93b3Jrc2hvcC1ob21lL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXG1haW50ZW5hbmNlXFx3b3Jrc2hvcC1ob21lXFx3b3Jrc2hvcC1ob21lLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL21haW50ZW5hbmNlL3dvcmtzaG9wLWhvbWUvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXHN0eWxlc1xcX2NvbnN0YW50cy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUksa0JBQWtCO0VBQ2xCLFdBQVcsRUFBQTs7QUFIZjtFQU1JLHVCQUF1QixFQUFBOztBQU4zQjtFQVNJLGlCQUFpQjtFQUNqQixrQkFBa0IsRUFBQTs7QUFWdEI7RUFjSSxjQUFjO0VBQ2QseUJDSWtCLEVBQUE7O0FEbkJ0QjtFQW1CSSxjQUFjO0VBQ2QseUJDQVksRUFBQTs7QURwQmhCO0VBd0JJLGNBQWM7RUFDZCx5QkNIZ0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2Uvd29ya3Nob3AtaG9tZS93b3Jrc2hvcC1ob21lLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5AaW1wb3J0IFwibWl4aW5zXCI7XHJcbjpob3N0IHtcclxuICAuY2FsZW5kYXItc3R5bGUge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcmlnaHQ6IDYwcHg7XHJcbiAgfVxyXG4gIC5ncmlkLWNlbGwtc3R5bGUge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgfVxyXG4gIC5oci1zdHlsZSB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICB9XHJcblxyXG4gIC5hbGVydC0tb2sge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLmFsZXJ0LS13YXJuaW5nIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZTtcclxuICB9XHJcblxyXG4gIC5hbGVydC0tbm9rIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgfVxyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { PageTocService } from '../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { ColumnAlignment, TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { WorkShopManagerInputDTO } from '../../../shared/types/api-input-types/manager/workshop-manager-input-dto';\r\nimport { HoursByIndicatorsOutputDTO } from '../../../shared/types/api-output-types/manager/hours-by-indicators-output-dto.interface';\r\nimport { HumanResourceOutputDTO } from '../../../shared/types/api-output-types/manager/human-resource-output-dto.interface';\r\nimport { QualificationEmployeeOutputDTO } from '../../../shared/types/api-output-types/manager/qualification-employee-output-dto.interface';\r\nimport { QuantityIndicatorOutputDTO } from '../../../shared/types/api-output-types/manager/quantity-indicato-output-dto.interface';\r\nimport { WorkloadOutputDTO } from '../../../shared/types/api-output-types/manager/workload-output-dto-.interface';\r\nimport { ProcurementRequestAndIndicatorsOutputDTO } from '../../../shared/types/api-output-types/product-structure-management/procurement-request-and-indicators-output-dto';\r\nimport { BidmWorkOrderDTOId } from '../../../shared/types/api-types/bidm-work-order-dto-id.interface';\r\nimport { BidtWarehouseDTO } from '../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\n\r\nimport { WorkshopHomeService } from './workshop-home.service';\r\n\r\ninterface WorkloadRow {\r\n  workloadKey?: string;\r\n  validationOk?: number;\r\n  alert?: number;\r\n  validationNok?: number;\r\n  isValidationOk?: boolean;\r\n  isAlert?: boolean;\r\n  isValidationNok?: boolean;\r\n}\r\n\r\ninterface QualificationsStatusRow {\r\n  qualificationName?: string;\r\n  qualificationDisponibility?: number;\r\n  qualificationOk?: number;\r\n  qualificationAlert?: number;\r\n  qualificationNok?: number;\r\n  isQualificationOk?: boolean;\r\n  isQualificationAlert?: boolean;\r\n  isQualificationNok?: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-workshop-home',\r\n  styleUrls: ['./workshop-home.component.scss'],\r\n  templateUrl: './workshop-home.component.html'\r\n})\r\nexport class WorkshopHomeComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public toc: PageTocEntry[];\r\n\r\n  public bidtWarehouse: BidtWarehouseDTO;\r\n\r\n  // Workload table\r\n  public workloadTableDataSource: TableDataSource<WorkloadRow>;\r\n\r\n  // Qualifications status table\r\n  public qualificationStatusTableDataSource: TableDataSource<QualificationsStatusRow>;\r\n\r\n  // Calendar selected\r\n  public date: Date;\r\n\r\n  private workloadOutputDTO: WorkloadOutputDTO;\r\n  public humanResourceOutputDTO: HumanResourceOutputDTO;\r\n  public woDisplayedList: BidmWorkOrderDTOId[];\r\n  public procurementRequestAndIndicatorsParts: ProcurementRequestAndIndicatorsOutputDTO[];\r\n  public procurementRequestAndIndicatorsTools: ProcurementRequestAndIndicatorsOutputDTO[];\r\n  public articleTitleKey: string;\r\n  public supportResourcesTitleKey: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    pageTocService: PageTocService,\r\n    public translateService: TranslateService,\r\n    public workshopHomeService: WorkshopHomeService,\r\n    public sessionService: SessionService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n    this.loadTablesHeader();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.DAS_WORKSHOP_HOME;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    this.init();\r\n    if (!!this.componentData) {\r\n      // this.setTableOfContent();\r\n\r\n      this.updateOpenMode(this.componentData.openMode);\r\n    }\r\n    this.loadTables();\r\n  }\r\n\r\n  private init() {\r\n    this.date = new Date();\r\n    this.humanResourceOutputDTO = {\r\n      nbEmployee: 0,\r\n      nbPrevisionalDaysEmployeeArePresent: 0,\r\n      nbPrevisionalDaysEmployeeWorkedOnWO: 0\r\n    };\r\n    this.humanResourceOutputDTO = {};\r\n    this.bidtWarehouse = { whName: ' ' };\r\n    this.articleTitleKey = 'articleTitleKey';\r\n    this.supportResourcesTitleKey = 'supportResourcesTitleKey';\r\n  }\r\n\r\n  public loadTablesHeader(): void {\r\n    this.initWorkloadTableDataSource();\r\n    this.initQualificationsStatusTableDataSource();\r\n  }\r\n\r\n  private initWorkloadTableDataSource(): void {\r\n    this.workloadTableDataSource = new TableDataSource({\r\n      allowMultiSelect: false,\r\n      enableSelection: false,\r\n      columns: [\r\n        { field: 'workloadKey', translateKey: ' ' },\r\n        {\r\n          field: 'validationOk',\r\n          translateKey: this.getTranslateKey('validationOk'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        { field: 'alert', translateKey: this.getTranslateKey('alert'), alignment: ColumnAlignment.CENTER },\r\n        {\r\n          field: 'validationNok',\r\n          translateKey: this.getTranslateKey('validationNok'),\r\n          alignment: ColumnAlignment.CENTER\r\n        }\r\n      ],\r\n      data: [\r\n        {\r\n          workloadKey: this.getTranslateKey('workOrders'),\r\n          validationOk: 0,\r\n          alert: 0,\r\n          validationNok: 0\r\n        },\r\n        {\r\n          workloadKey: this.getTranslateKey('workOrdersHours'),\r\n          validationOk: 0,\r\n          alert: 0,\r\n          validationNok: 0\r\n        },\r\n        {\r\n          workloadKey: this.getTranslateKey('articles'),\r\n          validationOk: 0,\r\n          alert: 0,\r\n          validationNok: 0\r\n        },\r\n        {\r\n          workloadKey: this.getTranslateKey('supportResources'),\r\n          validationOk: 0,\r\n          alert: 0,\r\n          validationNok: 0\r\n        }\r\n      ]\r\n    });\r\n  }\r\n\r\n  private initQualificationsStatusTableDataSource(): void {\r\n    this.qualificationStatusTableDataSource = new TableDataSource({\r\n      allowMultiSelect: false,\r\n      enableSelection: false,\r\n      columns: [\r\n        { field: 'qualificationName', translateKey: ' ' },\r\n        {\r\n          field: 'qualificationDisponibility',\r\n          translateKey: this.getTranslateKey('qualificationDisponibility'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'qualificationOk',\r\n          translateKey: this.getTranslateKey('qualificationOk'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'qualificationAlert',\r\n          translateKey: this.getTranslateKey('qualificationAlert'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'qualificationNok',\r\n          translateKey: this.getTranslateKey('qualificationNok'),\r\n          alignment: ColumnAlignment.CENTER\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public onCalendarOptions(): void {\r\n    this.loadTables();\r\n  }\r\n\r\n  public onDateValueChange(): void {\r\n    this.loadTables();\r\n  }\r\n\r\n  public loadTables(): void {\r\n    const workShopManagerInputDTO: WorkShopManagerInputDTO = {\r\n      startDate: this.date\r\n    };\r\n    this.workshopHomeService.getWorkShopManagerInfo(workShopManagerInputDTO).subscribe(\r\n      (result) => {\r\n        if (!!result) {\r\n          this.workloadOutputDTO = result;\r\n          this.humanResourceOutputDTO = this.workloadOutputDTO.humanResourceOutputDTO;\r\n          this.bidtWarehouse = !!this.workloadOutputDTO.bidtWarehouse\r\n            ? this.workloadOutputDTO.bidtWarehouse\r\n            : { whName: ' ' };\r\n          const worksOrdersHoursOutputDTO: HoursByIndicatorsOutputDTO = this.workloadOutputDTO\r\n            .worksOrdersHoursOutputDTO;\r\n          const worksOrdersPartsAvailabilityOutputDTO: QuantityIndicatorOutputDTO = this.workloadOutputDTO\r\n            .worksOrdersPartsAvailabilityOutputDTO;\r\n          const worksOrdersToolsAvailabilityOutputDTO: QuantityIndicatorOutputDTO = this.workloadOutputDTO\r\n            .worksOrdersToolsAvailabilityOutputDTO;\r\n\r\n          this.procurementRequestAndIndicatorsParts = this.workloadOutputDTO.procurementRequestAndIndicatorsPartsList;\r\n\r\n          this.procurementRequestAndIndicatorsTools = this.workloadOutputDTO.procurementRequestAndIndicatorsToolsList;\r\n\r\n          this.woDisplayedList = this.workloadOutputDTO.woDisplayedList;\r\n\r\n          if (\r\n            !!worksOrdersHoursOutputDTO &&\r\n            !!worksOrdersPartsAvailabilityOutputDTO &&\r\n            !!worksOrdersToolsAvailabilityOutputDTO\r\n          ) {\r\n            this.workloadTableDataSource.setData([\r\n              {\r\n                workloadKey: this.getTranslateKey('workOrders'),\r\n                validationOk: worksOrdersHoursOutputDTO.ok,\r\n                alert: worksOrdersHoursOutputDTO.warning,\r\n                validationNok: worksOrdersHoursOutputDTO.notOk,\r\n                isValidationOk: worksOrdersHoursOutputDTO.ok > 0,\r\n                isAlert: worksOrdersHoursOutputDTO.warning > 0,\r\n                isValidationNok: worksOrdersHoursOutputDTO.notOk > 0\r\n              },\r\n              {\r\n                workloadKey: this.getTranslateKey('workOrdersHours'),\r\n                validationOk: worksOrdersHoursOutputDTO.hoursOk,\r\n                alert: worksOrdersHoursOutputDTO.hoursWarning,\r\n                validationNok: worksOrdersHoursOutputDTO.hoursNOk,\r\n                isValidationOk: worksOrdersHoursOutputDTO.hoursOk > 0,\r\n                isAlert: worksOrdersHoursOutputDTO.hoursWarning > 0,\r\n                isValidationNok: worksOrdersHoursOutputDTO.hoursNOk > 0\r\n              },\r\n              {\r\n                workloadKey: this.getTranslateKey('articles'),\r\n                validationOk: worksOrdersPartsAvailabilityOutputDTO.ok,\r\n                alert: worksOrdersPartsAvailabilityOutputDTO.warning,\r\n                validationNok: worksOrdersPartsAvailabilityOutputDTO.notOk,\r\n                isValidationOk: worksOrdersPartsAvailabilityOutputDTO.ok > 0,\r\n                isAlert: worksOrdersPartsAvailabilityOutputDTO.warning > 0,\r\n                isValidationNok: worksOrdersPartsAvailabilityOutputDTO.notOk > 0\r\n              },\r\n              {\r\n                workloadKey: this.getTranslateKey('supportResources'),\r\n                validationOk: worksOrdersToolsAvailabilityOutputDTO.ok,\r\n                alert: worksOrdersToolsAvailabilityOutputDTO.warning,\r\n                validationNok: worksOrdersToolsAvailabilityOutputDTO.notOk,\r\n                isValidationOk: worksOrdersToolsAvailabilityOutputDTO.ok > 0,\r\n                isAlert: worksOrdersToolsAvailabilityOutputDTO.warning > 0,\r\n                isValidationNok: worksOrdersToolsAvailabilityOutputDTO.notOk > 0\r\n              }\r\n            ]);\r\n          }\r\n          const qualificationEmployeeOutputDTO: QualificationEmployeeOutputDTO[] = this.workloadOutputDTO\r\n            .qualificationEmployeeOutputDTO;\r\n\r\n          const qualRowData: QualificationsStatusRow[] = qualificationEmployeeOutputDTO.map((elt) => {\r\n            return {\r\n              qualificationName: elt.qualificationTitle,\r\n              qualificationDisponibility: elt.nbHoursAvailability,\r\n              qualificationOk: elt.ok,\r\n              qualificationAlert: elt.warning,\r\n              qualificationNok: elt.notOk,\r\n              isQualificationOk: elt.ok > 0,\r\n              isQualificationAlert: elt.warning > 0,\r\n              isQualificationNok: elt.notOk > 0\r\n            };\r\n          });\r\n          this.qualificationStatusTableDataSource.setData(qualRowData);\r\n        }\r\n      },\r\n      (_error) => {\r\n        this.messageService.showErrorMessage(_error.message);\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ManagerApi } from '../../../shared/api/manager.api';\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { BireActionTypeConstants } from '../../../shared/constants/bire-action-type-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { WorkShopManagerInputDTO } from '../../../shared/types/api-input-types/manager/workshop-manager-input-dto';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { SavePartNumberInput } from '../../../shared/types/api-input-types/product-structure-management/save-part-number-input.interface';\r\nimport { BireMaintenanceProgramPnTableDTO } from '../../../shared/types/api-input-types/task-management/bire-maintenance-program-pn-table.inteface';\r\nimport { WorkloadOutputDTO } from '../../../shared/types/api-output-types/manager/workload-output-dto-.interface';\r\nimport { BireAttributeDTOId } from '../../../shared/types/api-types/bire-attribute-dto-id.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireItemDTO } from '../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BirePnAttributeDTO } from '../../../shared/types/api-types/bire-pn-attribute-dto.interface';\r\nimport { BirePnDTOId } from '../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BirePnMeasureDTO } from '../../../shared/types/api-types/bire-pn-measure-dto.interface';\r\nimport { BireUnitMeasureDTO } from '../../../shared/types/api-types/bire-unit-measure-dto.interface';\r\nimport { BireVersionPnDTO } from '../../../shared/types/api-types/bire-version-pn-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { FindBireEvolutionPnsByPnCodeDTO } from '../../../shared/types/api-types/find-bire-evolution-pns-by-pn-code-dto.interface';\r\nimport { FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO } from '../../../shared/types/api-types/find-bire-item-pn-evolutions-by-pn-code-or-pn-pn-code-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class WorkshopHomeService extends AbstractAwHttpService {\r\n  public getWorkLoad;\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly mannagerApi: ManagerApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBirePn(pn: BirePnDTOId): Observable<BirePnDTO> {\r\n    return super.post<BirePnDTOId, BirePnDTO>(this.productStructureManagementApi.findBirePn, pn);\r\n  }\r\n\r\n  public findBirePnDocs(pn: BirePnDTOId): Observable<BireDocumentDTO[]> {\r\n    return super.post<BirePnDTOId, BireDocumentDTO[]>(this.productStructureManagementApi.findBirePnDocs, pn);\r\n  }\r\n\r\n  public findAllBireVariantVersions(): Observable<FamilyVariantDTO[]> {\r\n    return super.post<void, FamilyVariantDTO[]>(this.productStructureManagementApi.findAllBireVariantVersions);\r\n  }\r\n\r\n  public findAllBireUnitMeasures(): Observable<BireUnitMeasureDTO[]> {\r\n    return super.post<void, BireUnitMeasureDTO[]>(this.productStructureManagementApi.findAllBireUnitMeasures);\r\n  }\r\n\r\n  public savePnData(savePartNumberInput: SavePartNumberInput): Observable<string> {\r\n    return super.post<SavePartNumberInput, string>(\r\n      this.productStructureManagementApi.savePartNumber,\r\n      savePartNumberInput\r\n    );\r\n  }\r\n\r\n  // public upgradeBireEvolution(bireEvolutionDTO: BireEvolutionDTO, targetRevisionNumber: string): Observable<BireEvolutionDTO> {\r\n  //     const upgradeBireEvolutionInput: UpgradeBireEvolutionInput = {\r\n  //         bireEvolutionDTO: bireEvolutionDTO,\r\n  //         targetRevisionNumber : targetRevisionNumber\r\n  //     };\r\n  //     return super.post<UpgradeBireEvolutionInput, BireEvolutionDTO>\r\n  //         (this.productStructureManagementApi.upgradeBireEvolution, upgradeBireEvolutionInput);\r\n  // }\r\n\r\n  public findBireAttribute(attributeId: BireAttributeDTOId): Observable<BireAttributeDTO> {\r\n    return super.post<BireAttributeDTOId, BireAttributeDTO>(\r\n      this.productStructureManagementApi.findBireAttribute,\r\n      attributeId\r\n    );\r\n  }\r\n\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n\r\n  public findBireEvolutionPnsByPnCode(birePn: BirePnDTOId): Observable<FindBireEvolutionPnsByPnCodeDTO[]> {\r\n    return super.post<BirePnDTOId, FindBireEvolutionPnsByPnCodeDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionPnsByPnCode,\r\n      birePn\r\n    );\r\n  }\r\n\r\n  public findBireItemPnEvolutionsByPnCodeOrPnPnCode(\r\n    birePn: BirePnDTOId\r\n  ): Observable<FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO[]> {\r\n    return super.post<BirePnDTOId, FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO[]>(\r\n      this.productStructureManagementApi.findBireItemPnEvolutionsByPnCodeOrPnPnCode,\r\n      birePn\r\n    );\r\n  }\r\n\r\n  public findBirePnMeasuresByPnCode(birePn: BirePnDTOId): Observable<BirePnMeasureDTO[]> {\r\n    return super.post<BirePnDTOId, BirePnMeasureDTO[]>(\r\n      this.productStructureManagementApi.findBirePnMeasuresByPnCode,\r\n      birePn\r\n    );\r\n  }\r\n\r\n  public findBirePnAttributesByPn(pnCode: string): Observable<BirePnAttributeDTO[]> {\r\n    const birePnId: BirePnDTOId = {\r\n      pnCode\r\n    };\r\n\r\n    return super.post<BirePnDTOId, BirePnAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBirePnAttributesByPn,\r\n      birePnId\r\n    );\r\n  }\r\n\r\n  public getFuncObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.FUNC_OBJECT_STATUS_MAP);\r\n  }\r\n\r\n  public getObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.OBJECT_STATUS_MAP);\r\n  }\r\n\r\n  public getPnTraceabilityMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.PN_TRACEABILITY_MAP);\r\n  }\r\n\r\n  public getRefMeasureCategoryMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.REF_MEASURE_CATEGORY_MAP);\r\n  }\r\n\r\n  // Bind Items Table\r\n  public findBireItemsBySearchCriteria(pnCode: string): Observable<BireItemDTO[]> {\r\n    return super.post<string, BireItemDTO[]>(\r\n      this.productStructureManagementApi.findAllBireItemByPnCodeAndFamilyVariantAndItemNumberAndFunctionCode,\r\n      pnCode\r\n    );\r\n  }\r\n\r\n  public findBireItemsBySearchCriteriaPartNumber(\r\n    attribute: MapConstructor,\r\n    bireItemDTOCriteria: BireItemDTO,\r\n    pnCode: string\r\n  ): Observable<BireItemDTO[]> {\r\n    const criteria: FindBireItemsBySearchCriteriaInput = {\r\n      attribute,\r\n      bireItemDTOCriteria,\r\n      pnCode\r\n    };\r\n\r\n    return super.post<FindBireItemsBySearchCriteriaInput, BireItemDTO[]>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteriaPartNumber,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public getStructureTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.STRUCTURE_TYPE_MAP);\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCodeA(): Observable<LabelValue<string>[]> {\r\n    const item: string = BireActionTypeConstants.ACTION_TYPE_A;\r\n\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCodeB(): Observable<LabelValue<string>[]> {\r\n    const item: string = BireActionTypeConstants.ACTION_TYPE_B;\r\n\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findBireVersionPnsByPnCode(pnCode: string): Observable<BireVersionPnDTO[]> {\r\n    return super.post<string, BireVersionPnDTO[]>(\r\n      this.productStructureManagementApi.findBireVersionPnsByPnCode,\r\n      pnCode\r\n    );\r\n  }\r\n\r\n  public findBireMaintenancePlansByPn(pnCode: BirePnDTOId): Observable<BireMaintenanceProgramPnTableDTO[]> {\r\n    return super.post<BirePnDTOId, BireMaintenanceProgramPnTableDTO[]>(\r\n      this.taskManagementApi.findBireMaintenanceProgramByPn,\r\n      pnCode\r\n    );\r\n  }\r\n\r\n  public findQuantityUnitMap(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findQuantityUnitMap);\r\n  }\r\n\r\n  public getWorkShopManagerInfo(workShopManagerInputDTO: WorkShopManagerInputDTO): Observable<WorkloadOutputDTO> {\r\n    return super.post<WorkShopManagerInputDTO, WorkloadOutputDTO>(\r\n      this.mannagerApi.getWorkShopManagerInfo,\r\n      workShopManagerInputDTO\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { AbstractApi } from './abstract.api';\r\n\r\n@Injectable()\r\nexport class UnitConversionMatrixApi extends AbstractApi {\r\n  private static readonly baseUrl: string = '/bire_conversion_matrix';\r\n\r\n  public readonly searchUnitMatrixConversion: string = super.appendToBaseUrl('/search');\r\n  public readonly getUnitMatrixConversion: string = super.appendToBaseUrl('/get_by_id');\r\n  public readonly getDefaultMatrixByFamilyVariant: string = super.appendToBaseUrl('/get_default_by_family_variant');\r\n  public readonly deleteUnitMatrixConversion: string = super.appendToBaseUrl('/delete');\r\n  public readonly saveConversionMatrix: string = super.appendToBaseUrl('/save');\r\n\r\n  public constructor() {\r\n    super(UnitConversionMatrixApi.baseUrl);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ nbResultsFiltered!=undefined ? nbResultsFiltered : !!treeTable ? treeTable.length : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"slider-row\\\">\\r\\n                <div class=\\\"time-resolution\\\">\\r\\n                  <p-slider\\r\\n                    [max]=\\\"component.TIME_RESOLUTION_MAX_ZOOM\\\"\\r\\n                    [min]=\\\"component.TIME_RESOLUTION_MIN_ZOOM\\\"\\r\\n                    [(ngModel)]=\\\"schedulerZoomLevel\\\"\\r\\n                    (onChange)=\\\"onChangeTimeResolution($event)\\\"\\r\\n                  ></p-slider>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"scheduler-wrap\\\" [ngClass]=\\\"{ show: true }\\\">\\r\\n                  <bry-scheduler\\r\\n                    [eventColor]=\\\"schedulerConfig['eventColor']\\\"\\r\\n                    [barMargin]=\\\"barMargin\\\"\\r\\n                    [columns]=\\\"schedulerConfig['columns']\\\"\\r\\n                    [startDate]=\\\"schedulerConfig['startDate']\\\"\\r\\n                    [endDate]=\\\"schedulerConfig['endDate']\\\"\\r\\n                    [timeRanges]=\\\"schedulerConfig['timeRanges']\\\"\\r\\n                    [timeRangesFeature]=\\\"schedulerConfig['timeRangesFeature']\\\"\\r\\n                    [viewPreset]=\\\"schedulerConfig['viewPreset']\\\"\\r\\n                    [resources]=\\\"resourcesProjectNumber\\\"\\r\\n                    [filterBarFeature]=\\\"true\\\"\\r\\n                    [events]=\\\"events\\\"\\r\\n                    [eventTooltipFeature]=\\\"schedulerConfig['eventTooltip']\\\"\\r\\n                    [contextMenuFeature]=\\\"schedulerConfig['contextMenu']\\\"\\r\\n                    [readOnly]=\\\"schedulerConfig['readOnly']\\\"\\r\\n                    [zoomKeepsOriginalTimespan]=\\\"schedulerConfig['zoomKeepsOriginalTimespan']\\\"\\r\\n                    [zoomOnMouseWheel]=\\\"schedulerConfig['zoomOnMouseWheel']\\\"\\r\\n                    [zoomOnTimeAxisDoubleClick]=\\\"schedulerConfig['zoomOnTimeAxisDoubleClick']\\\"\\r\\n                    (onSchedulerEvents)=\\\"onSchedulerEvents($event)\\\"\\r\\n                  >\\r\\n                  </bry-scheduler>\\r\\n                </div>\\r\\n              </div>\\r\\n          </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host ::ng-deep div.slider-row {\\n  display: flex;\\n  justify-content: flex-end; }\\n\\n:host ::ng-deep .grid-cell-content {\\n  flex-direction: column !important; }\\n\\n:host ::ng-deep a {\\n  color: #01579b; }\\n\\n:host ::ng-deep a.project-number-select {\\n    border-bottom-color: transparent;\\n    border-bottom-width: 1px;\\n    border-bottom-style: solid;\\n    color: #01579b;\\n    cursor: pointer;\\n    transition: border-bottom-color 0.25s ease-in-out; }\\n\\n:host ::ng-deep a:hover {\\n    text-decoration: underline; }\\n\\n:host ::ng-deep .b-sch-event {\\n  cursor: default; }\\n\\n:host ::ng-deep .b-sch-event.undefinedDueDate {\\n    background: repeating-linear-gradient(-45deg, #f6685e, #f6685e 7px, white 7px, white 14px) !important; }\\n\\n:host ::ng-deep .b-sch-event.undefinedDueDate:hover {\\n      background: #f6685e !important; }\\n\\n:host ::ng-deep .b-sch-event.gray {\\n    background-color: #c8d4d6 !important; }\\n\\n:host ::ng-deep .b-sch-event.green {\\n    background-color: #4caf50 !important; }\\n\\n:host ::ng-deep .b-sch-event.yellow {\\n    background-color: #dddf00 !important; }\\n\\n:host ::ng-deep .b-sch-event.red {\\n    background-color: #f6685e !important; }\\n\\n:host ::ng-deep .b-sch-event.blue {\\n    background-color: #b8d0e8 !important; }\\n\\n:host ::ng-deep .time-resolution {\\n  align-items: center;\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0 calc(2 * 8px);\\n  margin-bottom: 1em; }\\n\\n:host ::ng-deep .time-resolution p-slider {\\n    width: 10rem; }\\n\\n:host .aw-tree-table2 tr:not(.read-only):not(.ui-state-highlight):hover > td {\\n  background-color: transparent !important;\\n  border-bottom: 0px !important;\\n  border-top: 0px !important; }\\n\\n:host .aw-tree-table2 .aw-table-actions {\\n  margin-right: 3%; }\\n\\n:host .scheduler-wrap {\\n  height: 75vh;\\n  visibility: hidden; }\\n\\n:host .scheduler-wrap.show {\\n    visibility: visible; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvd29yay1zY2hlZHVsaW5nL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXHNoYXJlZFxcY29tcG9uZW50c1xcd29yay1zY2hlZHVsaW5nXFx3b3JrLXNjaGVkdWxpbmcuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL3dvcmstc2NoZWR1bGluZy9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcc3R5bGVzXFxfY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFFSSxhQUFhO0VBQ2IseUJBQXlCLEVBQUE7O0FBSDdCO0VBT0ksaUNBQWlDLEVBQUE7O0FBUHJDO0VBV0ksY0NUa0IsRUFBQTs7QURGdEI7SUFjTSxnQ0FBZ0M7SUFDaEMsd0JBQXdCO0lBQ3hCLDBCQUEwQjtJQUMxQixjQUFjO0lBQ2QsZUFBZTtJQUNmLGlEQUNGLEVBQUE7O0FBcEJKO0lBdUJNLDBCQUEwQixFQUFBOztBQXZCaEM7RUE0QkksZUFBZSxFQUFBOztBQTVCbkI7SUErQk0scUdBQTZHLEVBQUE7O0FBL0JuSDtNQWtDUSw4QkFBaUMsRUFBQTs7QUFsQ3pDO0lBdUNNLG9DQUFtQyxFQUFBOztBQXZDekM7SUEyQ00sb0NBQTBDLEVBQUE7O0FBM0NoRDtJQStDTSxvQ0FBcUMsRUFBQTs7QUEvQzNDO0lBbURNLG9DQUF3QyxFQUFBOztBQW5EOUM7SUF1RE0sb0NBQXlDLEVBQUE7O0FBdkQvQztFQTRESSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBb0M7RUFDcEMsa0JBQWtCLEVBQUE7O0FBaEV0QjtJQWtFTSxZQUFZLEVBQUE7O0FBbEVsQjtFQXVFSSx3Q0FBd0M7RUFDeEMsNkJBQTZCO0VBQzdCLDBCQUEwQixFQUFBOztBQXpFOUI7RUE4RU0sZ0JBQWdCLEVBQUE7O0FBOUV0QjtFQW1GSSxZQUFZO0VBQ1osa0JBQWtCLEVBQUE7O0FBcEZ0QjtJQXVGTSxtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL3dvcmstc2NoZWR1bGluZy93b3JrLXNjaGVkdWxpbmcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiY29uc3RhbnRzXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgOjpuZy1kZWVwIGRpdi5zbGlkZXItcm93e1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgLmdyaWQtY2VsbC1jb250ZW50e1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbiAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgOjpuZy1kZWVwIGEge1xyXG4gICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcblxyXG4gICAgJi5wcm9qZWN0LW51bWJlci1zZWxlY3Qge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4O1xyXG4gICAgICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcclxuICAgICAgY29sb3I6ICMwMTU3OWI7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dFxyXG4gICAgfVxyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCAuYi1zY2gtZXZlbnR7XHJcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcblxyXG4gICAgJi51bmRlZmluZWREdWVEYXRlIHtcclxuICAgICAgYmFja2dyb3VuZDogcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgtNDVkZWcsICRyZWQtbGlnaHQxLCAkcmVkLWxpZ2h0MSA3cHgsIHdoaXRlIDdweCwgd2hpdGUgMTRweCkgIWltcG9ydGFudDtcclxuXHJcbiAgICAgICY6aG92ZXJ7XHJcbiAgICAgICAgYmFja2dyb3VuZDokcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi5ncmF5IHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGdyZXkxICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgJi5ncmVlbiB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDEgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAmLnllbGxvdyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR5ZWxsb3cxICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgJi5yZWQge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgICYuYmx1ZSB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRibHVlLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgOjpuZy1kZWVwIC50aW1lLXJlc29sdXRpb24ge1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgbWFyZ2luOiAwIGNhbGMoMiAqICN7JG1hcmdpbi12YWx1ZX0pO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMWVtO1xyXG4gICAgcC1zbGlkZXIge1xyXG4gICAgICB3aWR0aDogMTByZW07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuYXctdHJlZS10YWJsZTIgdHI6bm90KC5yZWFkLW9ubHkpOm5vdCgudWktc3RhdGUtaGlnaGxpZ2h0KTpob3ZlciA+IHRkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItYm90dG9tOiAwcHggIWltcG9ydGFudDtcclxuICAgIGJvcmRlci10b3A6IDBweCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmF3LXRyZWUtdGFibGUyIHtcclxuICAgIC5hdy10YWJsZS1hY3Rpb25zIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAzJTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5zY2hlZHVsZXItd3JhcCB7XHJcbiAgICBoZWlnaHQ6IDc1dmg7XHJcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcblxyXG4gICAgJi5zaG93IHtcclxuICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */\"","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep as _cloneDeep } from 'lodash-es';\r\nimport * as moment from 'moment';\r\nimport { TreeNode } from 'primeng/api';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { AWPropertiesConstants } from '../../constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../constants/bido-function-type-constants';\r\nimport { GenericPropertyConstants } from '../../constants/generic-property-constants';\r\nimport { LangConstants } from '../../constants/lang-constants';\r\nimport { BidmProjectService } from '../../services/bidm-project.service';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { ResourceModel, WorkSchedulingService } from '../../services/work-scheduling.service';\r\nimport { StaffPlanningViewBySiteQualificationAvailabilityTableOutput } from '../../types/api-output-types/bidt-employee/staff-planning-view-by-site-qualification-availability-table-output.interface';\r\nimport { BidmProjectDTO } from '../../types/api-types/bidm-project-dto.interface';\r\nimport { WsTreeNode } from '../../types/api-types/ws-tree-node-dto.interface';\r\nimport { GenericComponent } from '../../types/generic-component';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { ListUtils } from '../../utils/list-utils';\r\nimport { StringUtils } from '../../utils/string-utils';\r\nimport { EventModel as GenericEventModel } from '../scheduler/event-model.interface';\r\nimport { SchedulerComponent } from '../scheduler/scheduler.component';\r\nimport { SchedulerService } from '../scheduler/scheduler.service';\r\n\r\nenum CellColor {\r\n  Grey = 'gray',\r\n  Green = 'green',\r\n  Red = 'red',\r\n  Yellow = 'yellow',\r\n  Blue = 'blue'\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-work-scheduling',\r\n  templateUrl: './work-scheduling.component.html',\r\n  styleUrls: ['./work-scheduling.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class WorkSchedulingComponent extends GenericComponent implements OnInit, AfterViewInit {\r\n  public static readonly dayAndWeek: string = 'dayAndWeek';\r\n  public static readonly hourAndDay: string = 'hourAndDay';\r\n  public static readonly day: string = 'day';\r\n  public static readonly dateFormat: string = 'DD/MM/YYYY';\r\n  public static readonly displayDateFormat: string = 'DD/MM/YYYY';\r\n  public static readonly TIME_RESOLUTION_MAX_ZOOM: number = 10;\r\n  public static readonly TIME_RESOLUTION_MIN_ZOOM: number = 0;\r\n  public readonly component: typeof WorkSchedulingComponent;\r\n  private readonly dateDiff = 86400000; // 1000 * 3600 * 24;\r\n  private readonly noOfDays = 7;\r\n\r\n  // Bryntum variables\r\n  // Scheduler\r\n  @ViewChild(SchedulerComponent)\r\n  public scheduler: SchedulerComponent;\r\n  public barMargin: number = 10;\r\n  public schedulerConfig: object;\r\n  public resourcesProjectNumber:  ResourceModel[];\r\n  public nbResultsFiltered: number;\r\n  private resourcesProjectNumberCounter: number = 0;\r\n  private eventCounter: number = 0;\r\n  public events: GenericEventModel[];\r\n  public schedulerZoomLevel: number;\r\n  private readonly schedulerTimeResolutionChanged: Subject<number>;\r\n\r\n  public timeRanges: boolean = true;\r\n  public qualificationList: LabelValue<StaffPlanningViewBySiteQualificationAvailabilityTableOutput>[];\r\n\r\n  public selectedQualification: StaffPlanningViewBySiteQualificationAvailabilityTableOutput;\r\n\r\n  @Output()\r\n  public onRowClick: EventEmitter<BidmProjectDTO>;\r\n\r\n  @Input()\r\n  public firstColumnName: string | undefined;\r\n\r\n  @Input()\r\n  public workPackageStatusList: LabelValue<string>[];\r\n\r\n  @Input()\r\n  public isTableLoading: boolean | false;\r\n\r\n  @Input()\r\n  public set tableData(value: WsTreeNode[]) {\r\n    if (!!value) {\r\n      this.treeTable = value;\r\n      this.treeTableTemp = _cloneDeep(this.treeTable);\r\n      this.buildSchedulerProjectNumberList();\r\n      this.buildSchedulerEventsList();\r\n    }\r\n  }\r\n\r\n  public get tableData(): WsTreeNode[] {\r\n    return this.treeTable;\r\n  }\r\n  public treeTable: WsTreeNode[];\r\n\r\n  private treeTableTemp: WsTreeNode[];\r\n\r\n  private mroCenterList: LabelValue<string>[];\r\n  private typeList: LabelValue<string>[];\r\n\r\n  private userList: LabelValue<string>[];\r\n  public searchGlobalFilter: string;\r\n  public searchGlobalFilterChanged: Subject<string>;\r\n\r\n  public constructor(\r\n    private readonly dateService: DateService,\r\n    private readonly workSchedulingService: WorkSchedulingService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly bidmProjectService: BidmProjectService,\r\n    private readonly schedulerService: SchedulerService,\r\n    private readonly translateService: TranslateService,\r\n  ) {\r\n    super(ComponentOpenMode.Write);\r\n\r\n    // For bryntum scheduler\r\n    this.component = WorkSchedulingComponent;\r\n    this.schedulerZoomLevel = WorkSchedulingComponent.TIME_RESOLUTION_MAX_ZOOM;\r\n    this.schedulerTimeResolutionChanged = new Subject<number>();\r\n\r\n    this.init();\r\n    this.loadMroCenterList();\r\n    this.loadTypeList();\r\n    this.loadUserList();\r\n    this.workSchedulingService.setRefreshButton(this.refresh.bind(this));\r\n  }\r\n\r\n  private refresh(): void {\r\n    this.treeTable = [];\r\n  }\r\n\r\n  private init(): void {\r\n    this.mroCenterList = [];\r\n    this.typeList = [];\r\n    this.userList = [];\r\n    this.treeTable = [];\r\n    this.treeTableTemp = [];\r\n    this.onRowClick = new EventEmitter<BidmProjectDTO>();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'WorkSchedulingComponent';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    if (!this.firstColumnName) {\r\n      super.throwUnboundLocalError('ngOnInit', 'firstColumnName');\r\n    }\r\n    this.setGlobalFilter();\r\n\r\n    // Bryntum scheduler init\r\n    this.setSchedulerConfig();\r\n  }\r\n\r\n  public showToday(): void {\r\n    this.scheduler.schedulerEngine.zoomTo({\r\n      centerDate: new Date(),\r\n      preset: this.scheduler.schedulerEngine.viewPreset\r\n    });\r\n  }\r\n\r\n  private registerSchedulerTimeResolutionObservable(): void {\r\n    this.schedulerTimeResolutionChanged\r\n      .pipe(\r\n        distinctUntilChanged(),\r\n        takeUntil(this.unsubscribe)\r\n      )\r\n      .subscribe({\r\n        next: (value) => {\r\n          this.scheduler.schedulerEngine.zoomTo(value);\r\n        }\r\n      });\r\n  }\r\n\r\n  public onChangeTimeResolution(event: { value: number }): void {\r\n    this.schedulerTimeResolutionChanged.next(event.value);\r\n  }\r\n\r\n  private generateSchedulerColumnsProjectNumberId(): number {\r\n    return this.resourcesProjectNumberCounter++;\r\n  }\r\n\r\n  private setSchedulerConfig(): void {\r\n    this.schedulerConfig = {\r\n      eventColor: 'transparent',\r\n\r\n      readOnly: true,\r\n      timeRanges: true,\r\n      timeRangesFeature: {\r\n        showCurrentTimeLine: true\r\n      },\r\n      zoomKeepsOriginalTimespan: true,\r\n      zoomOnMouseWheel: false,\r\n      zoomOnTimeAxisDoubleClick: false,\r\n    };\r\n\r\n    this.registerSchedulerTimeResolutionObservable();\r\n    this.setSchedulerDate();\r\n    this.setSchedulerWOColumn();\r\n    this.setSchedulerViewPreset();\r\n    this.setTooltipFeature();\r\n    this.setContextMenuFeature();\r\n  }\r\n\r\n  private setContextMenuFeature(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      contextMenu: {\r\n        items: {\r\n          addEvent: false\r\n        },\r\n        processHeaderItems: () => false\r\n      }\r\n    };\r\n  }\r\n\r\n  private setTooltipFeature(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      eventTooltip : {\r\n        template: (data) => {\r\n          const foundData = this.treeTable\r\n            .find((value) => value.data.projectId === data.eventRecord.data.resourceId);\r\n          let returnValue = '';\r\n          if (!!foundData) {\r\n            returnValue = this.showTooltip(foundData.data);\r\n          }\r\n\r\n          return returnValue;\r\n        },\r\n        anchorToTarget : false\r\n      }\r\n    };\r\n  }\r\n\r\n  private buildSchedulerEventsList(): void {\r\n    this.events = this.treeTable.map( (obj) => {\r\n        const farEndDate = 2999;\r\n        const farEndMonth = 1;\r\n\r\n        return {id: this.generateSchedulerEventId(),\r\n                resourceId: obj.data.projectId,\r\n                startDate: obj.data.projectStartDate,\r\n                endDate: obj.data.projectDueDate != undefined ? obj.data.projectDueDate\r\n                                                              : new Date(farEndDate, farEndMonth),\r\n                eventType: '',\r\n                cls: obj.data.projectDueDate != undefined ? this.getCellColor(obj.data) : this.getCellColor(obj.data)\r\n                                                                                        + ' undefinedDueDate',\r\n                draggable: false,\r\n                resizable: false\r\n        };\r\n      });\r\n  }\r\n\r\n  private buildSchedulerProjectNumberList(): void {\r\n    this.resourcesProjectNumber = this.treeTable.map((obj) => (\r\n       { id: obj.data.projectId,\r\n         generatedId : this.generateSchedulerColumnsProjectNumberId(),\r\n         projectNumber: '' +  ( obj.data.projectNumber as string )\r\n                           +  ' (' + this.dateService.dateToString(obj.data.projectStartDate as Date) + ')',\r\n         children: []\r\n       }\r\n    ));\r\n }\r\n\r\n  private setSchedulerViewPreset(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      viewPreset: {\r\n        name: WorkSchedulingComponent.dayAndWeek,\r\n        displayDateFormat: WorkSchedulingComponent.displayDateFormat,\r\n        timeResolution: {\r\n          unit: WorkSchedulingComponent.day,\r\n          increment: 1\r\n        },\r\n        headerConfig: {\r\n          middle: {\r\n            unit: WorkSchedulingComponent.day,\r\n            dateFormat: WorkSchedulingComponent.dateFormat\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  private setSchedulerWOColumn(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      columns: [\r\n        {\r\n          text: this.translateService.instant(this.getTranslateKey('projectNumber')),\r\n          field: 'projectNumber',\r\n          width: 140,\r\n          htmlEncode: false,\r\n          sortable : true,\r\n          editor: false,\r\n          enableCellContextMenu: false,\r\n          renderer: ({ record }: { record: { data: ResourceModel } }) => `\r\n            <div class=\"info\">\r\n                    <a id=\"${record.data.generatedId}\" class=\"project-number-select\">${record.data.projectNumber}</a>\r\n            </div>\r\n          `\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  private setSchedulerDate(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      startDate: !! this.events ? this.schedulerService.getFirstEventStartDate(this.events)\r\n                                         : moment().startOf('year').toDate(),\r\n      endDate: !! this.events ? this.schedulerService.getLastEventEndDate(this.events)\r\n                                        : moment().endOf('year').toDate()\r\n    };\r\n  }\r\n\r\n  public onSchedulerEvents($event: object) : void {\r\n    const action = 'action';\r\n    const records = 'records';\r\n    const type = 'type';\r\n    const target = 'target';\r\n\r\n    // Update number of results\r\n    if (!!$event && !!$event[action] && $event[action] === 'filter' && !!$event[records]) {\r\n      this.nbResultsFiltered = $event[records].length;\r\n    }\r\n    if ($event[type] === 'cellclick' && $event[target].matches('.project-number-select')) {\r\n      const projectResource: ResourceModel | undefined = this.resourcesProjectNumber.find((resource) => {\r\n        return resource.generatedId.toString() === $event[target].id;\r\n      });\r\n      if (!!projectResource) {\r\n        const projectFromTreeTable : WsTreeNode | undefined = this.treeTable.find((resource) => {\r\n          return resource.data.projectId === projectResource.id;\r\n        });\r\n        if (!!projectFromTreeTable) {\r\n          this.openDetailsPage(projectFromTreeTable.data);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private generateSchedulerEventId() {\r\n    return this.eventCounter++;\r\n  }\r\n\r\n  public getCellColor(rowData: BidmProjectDTO): string {\r\n    let returnColor = '';\r\n    if (!!rowData.projectStartDate) {\r\n      if (rowData.statusState === AWPropertiesConstants.AIRM_PROJECT_STATUS_SIMULATED\r\n                                  || rowData.statusState === AWPropertiesConstants.AIRM_PROJECT_STATUS_SCHEDULED) {\r\n        returnColor = CellColor.Grey;\r\n      } else if (rowData.statusState === AWPropertiesConstants.AIRM_PROJECT_STATUS_CLOSE) {\r\n        returnColor = CellColor.Green;\r\n      } else if (!!rowData.projectDueDate && rowData.statusState !== AWPropertiesConstants.AIRM_PROJECT_STATUS_CLOSE) {\r\n        if (new Date(rowData.projectDueDate.toDateString()).valueOf() < new Date().valueOf()) {\r\n          returnColor = CellColor.Red;\r\n        }\r\n        const dateDiffernce = this.getDateDiffInDays(new Date(), rowData.projectDueDate);\r\n        if (dateDiffernce > 0 && dateDiffernce < this.noOfDays) {\r\n          returnColor = CellColor.Yellow;\r\n        } else {\r\n          returnColor = CellColor.Blue;\r\n        }\r\n      } else if (!rowData.projectDueDate) {\r\n        returnColor = CellColor.Red;\r\n      } else {\r\n        returnColor = CellColor.Blue;\r\n      }\r\n    }\r\n\r\n    return returnColor;\r\n  }\r\n\r\n  public showTooltip(rowData: BidmProjectDTO): string {\r\n    return this.bidmProjectService.getRepresentationAsHtml(\r\n      rowData,\r\n      this.mroCenterList,\r\n      this.workPackageStatusList,\r\n      this.typeList,\r\n      this.userList\r\n    );\r\n  }\r\n\r\n  public openDetailsPage(rowData) {\r\n    if (!!rowData) {\r\n      this.onRowClick.emit(rowData);\r\n    }\r\n  }\r\n\r\n  private setGlobalFilter(): void {\r\n    this.searchGlobalFilterChanged = new Subject<string>();\r\n    this.searchGlobalFilterChanged\r\n      .pipe(\r\n        // tslint:disable-next-line: no-magic-numbers\r\n        debounceTime(500),\r\n        distinctUntilChanged(),\r\n        takeUntil(this.unsubscribe)\r\n      )\r\n      .subscribe((searchTextValue) => {\r\n        this.filterWorkSchedulingStructure(searchTextValue);\r\n      });\r\n  }\r\n\r\n  private filterWorkSchedulingStructure(searchTextValue?: string): void {\r\n    this.treeTable = _cloneDeep(this.treeTableTemp);\r\n    this.treeTable = this.treeTable.filter((elt) =>\r\n      this.matchTreeStructureNode(elt, !!searchTextValue ? searchTextValue.toLowerCase() : undefined)\r\n    );\r\n  }\r\n\r\n  private matchTreeStructureNode(node: WsTreeNode, searchText: string | undefined): boolean {\r\n    if (!ListUtils.isNullOrEmpty(node.children)) {\r\n      node.children = (node.children as TreeNode[]).filter((child) => this.matchTreeStructureNode(child, searchText));\r\n    }\r\n\r\n    const nodeData = node.data as BidmProjectDTO;\r\n\r\n    // Work Package\r\n    const workPackage = StringUtils.orEmpty((nodeData.projectNumber as number).toString()).toLowerCase();\r\n    const workPackageMatch = StringUtils.isNullOrEmpty(searchText) || workPackage.includes(searchText as string);\r\n\r\n    // Start Date\r\n    const startDate = StringUtils.orEmpty(this.dateService.dateToString(nodeData.projectStartDate));\r\n    const startDateMatch = StringUtils.isNullOrEmpty(searchText) || startDate.includes(searchText as string);\r\n\r\n    return ListUtils.orEmpty(node.children).length > 0 || (workPackageMatch || startDateMatch);\r\n  }\r\n\r\n  private getDateDiffInDays(date1: Date, date2: Date): number {\r\n    const timeDiff = date2.getTime() - date1.getTime();\r\n\r\n    return timeDiff / this.dateDiff;\r\n  }\r\n\r\n  private loadMroCenterList(): void {\r\n    this.workSchedulingService.findAllBireSite().subscribe((results) => {\r\n      this.mroCenterList = ListUtils.orEmpty(results);\r\n    });\r\n  }\r\n\r\n  private loadTypeList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.WORK_PACKAGE_TYPE_MAP).subscribe((results) => {\r\n      this.typeList = ListUtils.orEmpty(results);\r\n    });\r\n  }\r\n\r\n  private loadUserList(): void {\r\n    this.workSchedulingService\r\n      .findBidoUsersWithUseCase(BidoFunctionTypeConstants.UC_AIRM_RECEPTION)\r\n      .subscribe((results) => {\r\n        this.userList = ListUtils.orEmpty(results)\r\n          .filter((elt) => !StringUtils.isNullOrEmpty(elt.userId))\r\n          .map((result) => {\r\n            const userName = `${StringUtils.orEmpty(result.firstname)} ${StringUtils.orEmpty(result.lastname)}`;\r\n\r\n            return {\r\n              label: userName.trim(),\r\n              value: result.userId as string\r\n            };\r\n          });\r\n      });\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    if (this.translateService.currentLang === LangConstants.FRENCH_CODE) {\r\n      this.scheduler.schedulerEngine.localeManager.locale = 'Fr';\r\n    } else {\r\n      this.scheduler.schedulerEngine.localeManager.locale = 'En';\r\n    }\r\n    this.showToday();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { SliderModule } from 'primeng/primeng';\r\nimport { TableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TreeTableModule } from 'primeng/treetable';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { WorkSchedulingService } from '../../services/work-scheduling.service';\r\nimport { ModalModule } from '../modal/modal.module';\r\nimport { SchedulerModule } from '../scheduler/scheduler.module';\r\nimport { WorkSchedulingComponent } from '../work-scheduling/work-scheduling.component';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule, CalendarModule, TreeTableModule, TooltipModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [WorkSchedulingComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [WorkSchedulingService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES,\r\n    SchedulerModule,\r\n    SliderModule\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class WorkSchedulingModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\nimport { AMProjectManagementApi } from '../api/am-project-management.api';\r\nimport { ProductStructureManagementApi } from '../api/product-structure-management.api';\r\nimport { UserProfileManagementApi } from '../api/user-profile-management.api';\r\nimport { EventModel as GenericEventModel } from '../components/scheduler/event-model.interface';\r\nimport { ResourceModel as GenericResourceModel } from '../components/scheduler/resource-model.interface';\r\nimport { AbstractAwHttpService } from '../http/abstract-aw-http';\r\nimport { BidmProjectDTO } from '../types/api-types/bidm-project-dto.interface';\r\nimport { BidoUserDTO } from '../types/api-types/bido-user-dto.interface';\r\nimport { WsTreeNode } from '../types/api-types/ws-tree-node-dto.interface';\r\nimport { LabelValue } from '../types/label-value.interface';\r\n\r\nimport { AppConfigService } from './app-config.service';\r\n\r\nexport interface ResourceModel extends GenericResourceModel {\r\n  generatedId: number;\r\n  projectNumber: string;\r\n}\r\n\r\nexport interface EventSchedulerModel extends GenericEventModel {\r\n  desc: string;\r\n  children: ResourceModel[];\r\n}\r\n\r\n@Injectable()\r\nexport class WorkSchedulingService extends AbstractAwHttpService {\r\n  private readonly _refreshButtonSource: Subject<() => void>;\r\n  private readonly _refreshButton$: Observable<() => void>;\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly userProfileManagementApi: UserProfileManagementApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly amProjectManagementApi: AMProjectManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n    this._refreshButtonSource = new Subject<() => void>();\r\n    this._refreshButton$ = this._refreshButtonSource.asObservable();\r\n  }\r\n\r\n  public findAllBireSite(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireSite);\r\n  }\r\n\r\n  public findBidoUsersWithUseCase(useCase: string): Observable<BidoUserDTO[]> {\r\n    return super.post<string, BidoUserDTO[]>(this.userProfileManagementApi.findBidoUsersWithUseCase, useCase);\r\n  }\r\n\r\n  public getServerDate(): Observable<Date> {\r\n    return super.post<undefined, Date>(this.productStructureManagementApi.getServerDate, undefined);\r\n  }\r\n\r\n  public getWorkPackageSchedulingList(): Observable<WsTreeNode[]> {\r\n    const bidmProjectDTO: BidmProjectDTO = {};\r\n\r\n    return super.post<BidmProjectDTO, WsTreeNode[]>(\r\n      this.amProjectManagementApi.findWorkPackageSchedulingList,\r\n      bidmProjectDTO\r\n    );\r\n  }\r\n\r\n  public get refreshButton$(): Observable<() => void> {\r\n    return this._refreshButton$;\r\n  }\r\n\r\n  public setRefreshButton(f: () => void): void {\r\n    this._refreshButtonSource.next(f);\r\n  }\r\n}\r\n"],"sourceRoot":""}