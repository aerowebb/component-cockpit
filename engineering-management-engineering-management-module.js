(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["engineering-management-engineering-management-module"],{

/***/ "./src/app/main/engineering-management/additional-maintenance-guideline/form/additional-maintenance-guideline-form.component.ts":
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/additional-maintenance-guideline/form/additional-maintenance-guideline-form.component.ts ***!
  \**************************************************************************************************************************************/
/*! exports provided: AdditionalMaintenanceGuidelineFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdditionalMaintenanceGuidelineFormComponent", function() { return AdditionalMaintenanceGuidelineFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/api/update-historic.api */ "./src/app/shared/api/update-historic.api.ts");
/* harmony import */ var _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/components/component-sidebar/page-toc.service */ "./src/app/shared/components/component-sidebar/page-toc.service.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../shared/services/update-historic.service */ "./src/app/shared/services/update-historic.service.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _sbad_form_sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../sbad-form/sbad-form-mhiael.service */ "./src/app/main/engineering-management/sbad-form/sbad-form-mhiael.service.ts");
/* harmony import */ var _sbad_form_sbad_form_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../sbad-form/sbad-form.component */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.ts");
/* harmony import */ var _sbad_form_sbad_form_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../sbad-form/sbad-form.service */ "./src/app/main/engineering-management/sbad-form/sbad-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};

























var AdditionalMaintenanceGuidelineFormComponent = /** @class */ (function (_super) {
    __extends(AdditionalMaintenanceGuidelineFormComponent, _super);
    function AdditionalMaintenanceGuidelineFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, inputValidationService, sbadFormService, sbadFormMhiaelService, propertiesService, translateService, dynamicAttributesService, confirmationService, sessionService, dateService, updateHistoricService, updateHistoricApi, pageTocService, _overlayService, _formatSelectOption) {
        var _this = _super.call(this, favoriteService, loaderService, messageService, serializationService, tabService, inputValidationService, sbadFormService, sbadFormMhiaelService, propertiesService, translateService, dynamicAttributesService, confirmationService, sessionService, dateService, updateHistoricService, updateHistoricApi, pageTocService, _overlayService, _formatSelectOption) || this;
        _this.translateService = translateService;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.sessionService = sessionService;
        _this.dateService = dateService;
        _this.isAD = true;
        return _this;
    }
    AdditionalMaintenanceGuidelineFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.bireSbDisplayed.sbType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].SB_TYPE_AMG_KEY;
    };
    AdditionalMaintenanceGuidelineFormComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__["ComponentConstants"].ENG_ADDITIONAL_MAINTENANCE_GUIDELINE_FORM;
    };
    AdditionalMaintenanceGuidelineFormComponent.prototype.showSubType = function () {
        return true;
    };
    AdditionalMaintenanceGuidelineFormComponent.prototype.showUpgrade = function () {
        return false;
    };
    AdditionalMaintenanceGuidelineFormComponent.prototype.showContext = function () {
        return true;
    };
    AdditionalMaintenanceGuidelineFormComponent.prototype.showGuideline = function () {
        return true;
    };
    AdditionalMaintenanceGuidelineFormComponent.prototype.getLimitRefernceDateEndpointRef = function () {
        return _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__["GenericPropertyConstants"].ADDITIONAL_GUIDELINE_EFFECTIVE_DATE;
    };
    AdditionalMaintenanceGuidelineFormComponent.prototype.getLimitAndPeriodicityLists = function (callback) {
        var _this = this;
        var counterCode$ = this.sbadFormService.findAllColunterCode();
        var limitType$ = this.propertiesService.getValue('getSbCounterLimitTypeMap');
        var limitRefernceDate$ = this.propertiesService.getValue(this.getLimitRefernceDateEndpointRef());
        Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])([counterCode$, limitType$, limitRefernceDate$]).subscribe(function (_a) {
            var _b = __read(_a, 3), counterCode = _b[0], types = _b[1], refernceType = _b[2];
            _this.counterCodeList = counterCode;
            _this.limitType = types;
            _this.limitRefernceType = refernceType;
            if (callback) {
                callback();
            }
        });
    };
    AdditionalMaintenanceGuidelineFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-additional-maintenance-guideline-form',
            template: __webpack_require__(/*! ../../sbad-form/sbad-form.component.html */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.html"),
            styles: [__webpack_require__(/*! ../../sbad-form/sbad-form.component.scss */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_14__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_15__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_17__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_19__["TabService"],
            _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_13__["InputValidationService"],
            _sbad_form_sbad_form_service__WEBPACK_IMPORTED_MODULE_24__["SbadFormService"],
            _sbad_form_sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_22__["SbadFormMhiaelService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_16__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_5__["DynamicAttributesService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_10__["ConfirmationService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_18__["SessionService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_11__["DateService"],
            _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_20__["UpdateHistoricService"],
            _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_3__["UpdateHistoricApi"],
            _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_4__["PageTocService"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_21__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_9__["FormatSelectOptionPipe"]])
    ], AdditionalMaintenanceGuidelineFormComponent);
    return AdditionalMaintenanceGuidelineFormComponent;
}(_sbad_form_sbad_form_component__WEBPACK_IMPORTED_MODULE_23__["SbadFormComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/additional-maintenance-guideline/search/additional-maintenance-guideline-search.component.ts":
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/additional-maintenance-guideline/search/additional-maintenance-guideline-search.component.ts ***!
  \******************************************************************************************************************************************/
/*! exports provided: AdditionalMaintenanceGuidelineSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdditionalMaintenanceGuidelineSearchComponent", function() { return AdditionalMaintenanceGuidelineSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/constants/app-constants */ "./src/app/shared/constants/app-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _airworthiness_document_search_airworthiness_document_search_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../airworthiness-document-search/airworthiness-document-search.component */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.ts");
/* harmony import */ var _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../airworthiness-document-search/airworthiness-document-search.service */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var AdditionalMaintenanceGuidelineSearchComponent = /** @class */ (function (_super) {
    __extends(AdditionalMaintenanceGuidelineSearchComponent, _super);
    function AdditionalMaintenanceGuidelineSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, confirmationService, exportService, propertiesService, translateService, dateService, airworthinessDocumentSearchService) {
        var _this = _super.call(this, favoriteService, loaderService, messageService, serializationService, tabService, sessionService, confirmationService, exportService, propertiesService, translateService, dateService, airworthinessDocumentSearchService) || this;
        _this.SEARCH_CRITERIA_ID = _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_3__["AppConstants"].ADDITIONAL_MAINTENANCE_GUIDELINE_SEARCH_CRITERIA_ID;
        return _this;
    }
    AdditionalMaintenanceGuidelineSearchComponent_1 = AdditionalMaintenanceGuidelineSearchComponent;
    AdditionalMaintenanceGuidelineSearchComponent.prototype.initAdTableDataSource = function () {
        this.adTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'sbNumber', translateKey: this.getTranslateKey('sbNumber'), width: '12%' },
                { field: 'sbRevisionNumber', translateKey: this.getTranslateKey('sbRevisionNumber'), width: '10%' },
                { field: 'sbTitle', translateKey: this.getTranslateKey('sbTitle'), width: '28%' },
                { field: 'statusState', translateKey: this.getTranslateKey('statusState'), width: '10%' },
                { field: 'sbSubType', translateKey: this.getTranslateKey('sbSubType'), width: '10%' },
                { field: 'sbCompliance', translateKey: this.getTranslateKey('sbCompliance'), width: '10%' },
                { field: 'sbPublicationDate', translateKey: this.getTranslateKey('sbPublicationDate'), width: '10%' },
                { field: 'sbEffectiveDate', translateKey: this.getTranslateKey('sbEffectiveDate'), width: '10%' }
            ],
            data: []
        });
    };
    AdditionalMaintenanceGuidelineSearchComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__["ComponentConstants"].ENG_ADDITIONAL_MAINTENANCE_GUIDELINE_SEARCH;
    };
    AdditionalMaintenanceGuidelineSearchComponent.prototype.getTableExportName = function () {
        return AdditionalMaintenanceGuidelineSearchComponent_1.TABLE_EXPORT_NAME;
    };
    AdditionalMaintenanceGuidelineSearchComponent.prototype.isAD = function () {
        return false;
    };
    AdditionalMaintenanceGuidelineSearchComponent.prototype.getFormComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__["ComponentConstants"].ENG_ADDITIONAL_MAINTENANCE_GUIDELINE_FORM;
    };
    AdditionalMaintenanceGuidelineSearchComponent.prototype.showSubType = function () {
        return true;
    };
    AdditionalMaintenanceGuidelineSearchComponent.prototype.findAirworthinessDocumentByCriteria = function (familyCode, structureType, variantCode) {
        return this.airworthinessDocumentSearchService.findBireSbsBySbCriteriaAmg(this.searchObject, familyCode || '', structureType || '', variantCode || '', this.sbPublicationDateFrom, this.sbPublicationDateTo, this.sbEffectiveDateFrom, this.sbEffectiveDateTo);
    };
    var AdditionalMaintenanceGuidelineSearchComponent_1;
    AdditionalMaintenanceGuidelineSearchComponent.TABLE_EXPORT_NAME = 'Additional Maintenance Guideline list';
    AdditionalMaintenanceGuidelineSearchComponent = AdditionalMaintenanceGuidelineSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sbad-search',
            template: __webpack_require__(/*! ../../airworthiness-document-search/airworthiness-document-search.component.html */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__["TabService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__["SessionService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_5__["ConfirmationService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__["ExportService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_6__["DateService"],
            _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_16__["AirworthinessDocumentSearchService"]])
    ], AdditionalMaintenanceGuidelineSearchComponent);
    return AdditionalMaintenanceGuidelineSearchComponent;
}(_airworthiness_document_search_airworthiness_document_search_component__WEBPACK_IMPORTED_MODULE_15__["AirworthinessDocumentSearchComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/airworthiness-directive-form/airworthiness-directive-form.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/airworthiness-directive-form/airworthiness-directive-form.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: AirworthinessDirectiveFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AirworthinessDirectiveFormComponent", function() { return AirworthinessDirectiveFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/update-historic.api */ "./src/app/shared/api/update-historic.api.ts");
/* harmony import */ var _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/component-sidebar/page-toc.service */ "./src/app/shared/components/component-sidebar/page-toc.service.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/update-historic.service */ "./src/app/shared/services/update-historic.service.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _sbad_form_sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../sbad-form/sbad-form-mhiael.service */ "./src/app/main/engineering-management/sbad-form/sbad-form-mhiael.service.ts");
/* harmony import */ var _sbad_form_sbad_form_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../sbad-form/sbad-form.component */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.ts");
/* harmony import */ var _sbad_form_sbad_form_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../sbad-form/sbad-form.service */ "./src/app/main/engineering-management/sbad-form/sbad-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};























var AirworthinessDirectiveFormComponent = /** @class */ (function (_super) {
    __extends(AirworthinessDirectiveFormComponent, _super);
    function AirworthinessDirectiveFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, inputValidationService, sbadFormService, sbadFormMhiaelService, propertiesService, translateService, dynamicAttributesService, confirmationService, sessionService, dateService, updateHistoricService, updateHistoricApi, pageTocService, _overlayService, _formatSelectOption) {
        var _this = _super.call(this, favoriteService, loaderService, messageService, serializationService, tabService, inputValidationService, sbadFormService, sbadFormMhiaelService, propertiesService, translateService, dynamicAttributesService, confirmationService, sessionService, dateService, updateHistoricService, updateHistoricApi, pageTocService, _overlayService, _formatSelectOption) || this;
        _this.translateService = translateService;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.sessionService = sessionService;
        _this.dateService = dateService;
        _this.isAD = true;
        return _this;
    }
    AirworthinessDirectiveFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.bireSbDisplayed.sbType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].SB_TYPE_AD_KEY;
    };
    AirworthinessDirectiveFormComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__["ComponentConstants"].ENG_AIRWORTHINESS_DIRECTIVE_FORM;
    };
    AirworthinessDirectiveFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-airworthiness-directive-form',
            template: __webpack_require__(/*! ../sbad-form/sbad-form.component.html */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.html"),
            styles: [__webpack_require__(/*! ../sbad-form/sbad-form.component.scss */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_10__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_12__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_13__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_15__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_17__["TabService"],
            _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_11__["InputValidationService"],
            _sbad_form_sbad_form_service__WEBPACK_IMPORTED_MODULE_22__["SbadFormService"],
            _sbad_form_sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_20__["SbadFormMhiaelService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_14__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_4__["DynamicAttributesService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_8__["ConfirmationService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_16__["SessionService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_9__["DateService"],
            _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_18__["UpdateHistoricService"],
            _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_2__["UpdateHistoricApi"],
            _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_3__["PageTocService"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_19__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_7__["FormatSelectOptionPipe"]])
    ], AirworthinessDirectiveFormComponent);
    return AirworthinessDirectiveFormComponent;
}(_sbad_form_sbad_form_component__WEBPACK_IMPORTED_MODULE_21__["SbadFormComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/airworthiness-directive-search/airworthiness-directive-search.component.ts":
/*!************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/airworthiness-directive-search/airworthiness-directive-search.component.ts ***!
  \************************************************************************************************************************/
/*! exports provided: AirworthinessDirectiveSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AirworthinessDirectiveSearchComponent", function() { return AirworthinessDirectiveSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/constants/app-constants */ "./src/app/shared/constants/app-constants.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _airworthiness_document_search_airworthiness_document_search_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../airworthiness-document-search/airworthiness-document-search.component */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.ts");
/* harmony import */ var _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../airworthiness-document-search/airworthiness-document-search.service */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



















var AirworthinessDirectiveSearchComponent = /** @class */ (function (_super) {
    __extends(AirworthinessDirectiveSearchComponent, _super);
    function AirworthinessDirectiveSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, confirmationService, exportService, propertiesService, translateService, dateService, airworthinessDocumentSearchService) {
        var _this = _super.call(this, favoriteService, loaderService, messageService, serializationService, tabService, sessionService, confirmationService, exportService, propertiesService, translateService, dateService, airworthinessDocumentSearchService) || this;
        _this.SEARCH_CRITERIA_ID = _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_3__["AppConstants"].AIRWORTHINESS_SEARCH_CRITERIA_ID;
        return _this;
    }
    AirworthinessDirectiveSearchComponent_1 = AirworthinessDirectiveSearchComponent;
    AirworthinessDirectiveSearchComponent.prototype.initAdTableDataSource = function () {
        this.adTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'sbNumber', translateKey: this.getTranslateKey('sbNumber'), width: '15%' },
                { field: 'sbRevisionNumber', translateKey: this.getTranslateKey('sbRevisionNumber'), width: '12%' },
                { field: 'sbTitle', translateKey: this.getTranslateKey('sbTitle'), width: '25%' },
                { field: 'statusState', translateKey: this.getTranslateKey('statusState'), width: '12%' },
                { field: 'sbCompliance', translateKey: this.getTranslateKey('sbCompliance'), width: '12%' },
                { field: 'sbPublicationDate', translateKey: this.getTranslateKey('sbPublicationDate'), width: '12%' },
                { field: 'sbEffectiveDate', translateKey: this.getTranslateKey('sbEffectiveDate'), width: '12%' }
            ],
            data: []
        });
    };
    AirworthinessDirectiveSearchComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__["ComponentConstants"].ENG_AIRWORTHINESS_DIRECTIVE_SEARCH;
    };
    AirworthinessDirectiveSearchComponent.prototype.getTableExportName = function () {
        return AirworthinessDirectiveSearchComponent_1.TABLE_EXPORT_NAME;
    };
    AirworthinessDirectiveSearchComponent.prototype.isAD = function () {
        return true;
    };
    AirworthinessDirectiveSearchComponent.prototype.openNewSbad = function () {
        this.openSbad(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_6__["ComponentOpenMode"].Create);
    };
    AirworthinessDirectiveSearchComponent.prototype.getFormComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__["ComponentConstants"].ENG_AIRWORTHINESS_DIRECTIVE_FORM;
    };
    AirworthinessDirectiveSearchComponent.prototype.findAirworthinessDocumentByCriteria = function (familyCode, structureType, variantCode) {
        this.searchObject.sbType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_4__["AWPropertiesConstants"].SB_TYPE_AD_KEY;
        return this.airworthinessDocumentSearchService.findBireSbsBySbCriteria(this.searchObject, familyCode, structureType, variantCode, this.sbPublicationDateFrom, this.sbPublicationDateTo, this.sbEffectiveDateFrom, this.sbEffectiveDateTo);
    };
    var AirworthinessDirectiveSearchComponent_1;
    AirworthinessDirectiveSearchComponent.TABLE_EXPORT_NAME = 'Airworthiness directive list';
    AirworthinessDirectiveSearchComponent = AirworthinessDirectiveSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-airworthiness-directive-search',
            template: __webpack_require__(/*! ../airworthiness-document-search/airworthiness-document-search.component.html */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_10__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_11__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_12__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_14__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_16__["TabService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_15__["SessionService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_7__["ConfirmationService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_9__["ExportService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_13__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_8__["DateService"],
            _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_18__["AirworthinessDocumentSearchService"]])
    ], AirworthinessDirectiveSearchComponent);
    return AirworthinessDirectiveSearchComponent;
}(_airworthiness_document_search_airworthiness_document_search_component__WEBPACK_IMPORTED_MODULE_17__["AirworthinessDocumentSearchComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.html":
/*!************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.html ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"openNewSbad()\" *ngIf=\"hasUpdateAccessRight\">\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <div class=\"column\">\r\n                <div class=\"row search-criteria-header\">\r\n                  <aw-manage-search-criteria\r\n                    [componentId]=\"SEARCH_CRITERIA_ID\"\r\n                    (onSelected)=\"loadSearchCriteria($event)\"\r\n                    (onSavedAsked)=\"saveSearchCriteriaAsked()\"\r\n                    [objectFromPage]=\"criteriaToSave\"\r\n                    [canChange]=\"!hasBeenCalculated\"\r\n                  ></aw-manage-search-criteria>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".familyVariant\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertyVariant\"\r\n                        [(ngModel)]=\"familyVariant\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".sbNumber\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.sbNumber\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".statusState\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertyStatus\"\r\n                        [(ngModel)]=\"searchObject.statusState\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"!isAD() && !showSubType()\" class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".sbType\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertyType\"\r\n                        [(ngModel)]=\"searchObject.sbType\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div id=\"sbSubType\" *ngIf=\"showSubType()\" class=\"form-group flex--1\">\r\n                    <label class=\"form-label\">{{ componentData.componentId + \".sbSubType\" | translate }}</label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertySubType\"\r\n                        [(ngModel)]=\"searchObject.sbSubType\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"isAD()\" class=\"form-group\"></div>\r\n                </div>\r\n\r\n                <div class=\"advanced-criteria\" [ngClass]=\"{ 'display--none': !showAdvancedCriteria }\">\r\n                  <div class=\"row\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".sbRevisionNumber\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.sbRevisionNumber\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".sbTitle\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.sbTitle\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".sbCompliance\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-dropdown\r\n                          class=\"aw-dropdown fixed-width\"\r\n                          [options]=\"propertyCompliance\"\r\n                          [(ngModel)]=\"searchObject.sbCompliance\"\r\n                          [showClear]=\"true\"\r\n                          (keyup.enter)=\"search()\"\r\n                          placeholder=\"&nbsp;\"\r\n                        ></p-dropdown>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".sbClass\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-dropdown\r\n                          class=\"aw-dropdown fixed-width\"\r\n                          [options]=\"propertyClass\"\r\n                          [(ngModel)]=\"searchObject.sbClass\"\r\n                          [showClear]=\"true\"\r\n                          (keyup.enter)=\"search()\"\r\n                          placeholder=\"&nbsp;\"\r\n                        ></p-dropdown>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"row\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".sbPublicationDateFrom\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-calendar\r\n                          showButtonBar=\"true\"\r\n                          [monthNavigator]=\"true\"\r\n                          [yearNavigator]=\"true\"\r\n                          [yearRange]=\"sessionService.calendarYearRange\"\r\n                          class=\"aw-calendar\"\r\n                          [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                          [locale]=\"sessionService.calendarFormat\"\r\n                          [(ngModel)]=\"sbPublicationDateFrom\"\r\n                        ></p-calendar>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".sbPublicationDateTo\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-calendar\r\n                          showButtonBar=\"true\"\r\n                          [monthNavigator]=\"true\"\r\n                          [yearNavigator]=\"true\"\r\n                          [yearRange]=\"sessionService.calendarYearRange\"\r\n                          class=\"aw-calendar\"\r\n                          [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                          [locale]=\"sessionService.calendarFormat\"\r\n                          [(ngModel)]=\"sbPublicationDateTo\"\r\n                        ></p-calendar>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".sbEffectiveDateFrom\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-calendar\r\n                          showButtonBar=\"true\"\r\n                          [monthNavigator]=\"true\"\r\n                          [yearNavigator]=\"true\"\r\n                          [yearRange]=\"sessionService.calendarYearRange\"\r\n                          class=\"aw-calendar\"\r\n                          [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                          [locale]=\"sessionService.calendarFormat\"\r\n                          [(ngModel)]=\"sbEffectiveDateFrom\"\r\n                        ></p-calendar>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".sbEffectiveDateTo\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-calendar\r\n                          showButtonBar=\"true\"\r\n                          [monthNavigator]=\"true\"\r\n                          [yearNavigator]=\"true\"\r\n                          [yearRange]=\"sessionService.calendarYearRange\"\r\n                          class=\"aw-calendar\"\r\n                          [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                          [locale]=\"sessionService.calendarFormat\"\r\n                          [(ngModel)]=\"sbEffectiveDateTo\"\r\n                        ></p-calendar>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row search-criteria-footer\">\r\n                  <button mat-button (click)=\"showAdvancedCriteria = !showAdvancedCriteria\">\r\n                    <ng-container *ngIf=\"showAdvancedCriteria\">\r\n                      <mat-icon>remove</mat-icon>\r\n                      {{ \"global.collapseCriteria\" | translate }}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!showAdvancedCriteria\">\r\n                      <mat-icon>add</mat-icon>\r\n                      {{ \"global.expandCriteria\" | translate }}\r\n                    </ng-container>\r\n                  </button>\r\n\r\n                  <div class=\"search-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      class=\"btn-with-spinner\"\r\n                      (click)=\"search()\"\r\n                      color=\"primary\"\r\n                      appKeyPress\r\n                      [keyCode]=\"'Enter'\"\r\n                      (keyPress)=\"search()\"\r\n                    >\r\n                      <span *ngIf=\"isLoading\" class=\"lds-hourglass\"></span>\r\n                      {{ \"global.toSearch\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{ adTableDataSource ? adTableDataSource.dataCount : 0 }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <a-table [dataSource]=\"adTableDataSource\">\r\n                <ng-template columnDef=\"sbSubType\" let-rowData=\"rowData\" *ngIf=\"showSubType()\">\r\n                  {{ rowData[\"sbSubType\"] | formatSelectOption: propertySubType }}\r\n                </ng-template>\r\n                <ng-template tableActionsDef>\r\n                  <button\r\n                    *ngIf=\"adTableDataSource && adTableDataSource.hasData && !adTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"exportTable()\"\r\n                  >\r\n                    {{ \"global.export\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"\r\n                      hasManageAccessRight &&\r\n                      adTableDataSource &&\r\n                      adTableDataSource.hasData &&\r\n                      adTableDataSource.hasDataSelection\r\n                    \"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    color=\"warn\"\r\n                    (click)=\"deleteSelectedSbad()\"\r\n                  >\r\n                    {{ \"global.delete\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"adTableDataSource && adTableDataSource.hasData && adTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"openSelectedSbad()\"\r\n                  >\r\n                    {{ \"global.open\" | translate }}\r\n                  </button>\r\n                </ng-template>\r\n                <ng-template columnDef=\"sbNumber\" let-rowData=\"rowData\">\r\n                  <a (click)=\"openSbadNumber(rowData)\"> {{ rowData.sbNumber }}</a>\r\n                </ng-template>\r\n\r\n                <ng-template rowExpansionDef let-rowData=\"rowData\">\r\n                  <div class=\"column forced-backgroung\">\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ getComponentName() + \".\" + \"sbDocumentUrl\" | translate }}\r\n                        </label>\r\n                        <div class=\"form-control\">\r\n                          <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"rowData.sbDocumentUrl\" [disabled]=\"true\" />\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ getComponentName() + \".\" + \"sbClass\" | translate }}\r\n                        </label>\r\n                        <div class=\"form-control\">\r\n                          <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"rowData.sbClass\" [disabled]=\"true\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.ts":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: AirworthinessDocumentSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AirworthinessDocumentSearchComponent", function() { return AirworthinessDocumentSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/utils/label-value-utils */ "./src/app/shared/utils/label-value-utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};








var AirworthinessDocumentSearchComponent = /** @class */ (function (_super) {
    __extends(AirworthinessDocumentSearchComponent, _super);
    function AirworthinessDocumentSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, confirmationService, exportService, propertiesService, translateService, dateService, airworthinessDocumentSearchService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.sessionService = sessionService;
        _this.confirmationService = confirmationService;
        _this.exportService = exportService;
        _this.propertiesService = propertiesService;
        _this.translateService = translateService;
        _this.dateService = dateService;
        _this.airworthinessDocumentSearchService = airworthinessDocumentSearchService;
        _this.showAdvancedCriteria = false;
        _this.isLoading = false;
        _this.propertyStatus = [];
        _this.searchObject = {};
        _this.exportMethods = [];
        _this.propertyVariant = [];
        _this.initAdTableDataSource();
        _this.setExportMethods();
        // DropDown
        _this.loadDropDownLists();
        _this.translateService.onLangChange.subscribe(function (_) {
            _this.setExportMethods();
            _this.loadDropDownLists();
        });
        return _this;
    }
    AirworthinessDocumentSearchComponent.prototype.showSubType = function () {
        return false;
    };
    AirworthinessDocumentSearchComponent.prototype.initAdTableDataSource = function () {
        this.adTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'sbNumber', translateKey: this.getTranslateKey('sbNumber'), width: '12%' },
                { field: 'sbRevisionNumber', translateKey: this.getTranslateKey('sbRevisionNumber'), width: '10%' },
                { field: 'sbTitle', translateKey: this.getTranslateKey('sbTitle'), width: '28%' },
                { field: 'statusState', translateKey: this.getTranslateKey('statusState'), width: '10%' },
                { field: 'sbType', translateKey: this.getTranslateKey('sbType'), width: '10%' },
                { field: 'sbCompliance', translateKey: this.getTranslateKey('sbCompliance'), width: '10%' },
                { field: 'sbPublicationDate', translateKey: this.getTranslateKey('sbPublicationDate'), width: '10%' },
                { field: 'sbEffectiveDate', translateKey: this.getTranslateKey('sbEffectiveDate'), width: '10%' }
            ],
            data: []
        });
    };
    AirworthinessDocumentSearchComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__["ComponentConstants"].ENG_SBAD_SEARCH;
    };
    AirworthinessDocumentSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
    };
    AirworthinessDocumentSearchComponent.prototype.deleteSelectedSbad = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedSbs'),
            accept: function () {
                var selectedObj = _this.adTableDataSource.dataSelection.map(function (obj) {
                    return obj._obj;
                });
                _this.airworthinessDocumentSearchService.removeBireSbs(selectedObj).subscribe(function (result) {
                    _this.messageService.showSuccessMessage(_this.getTranslateKey('onSuccessDeleteSbad'));
                    _this.adTableDataSource.dataSelection = [];
                    _this.search();
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeleteSbad'));
                });
            }
        });
    };
    AirworthinessDocumentSearchComponent.prototype.moreResult = function () {
        // TODO: Implement the button when it will be available
    };
    AirworthinessDocumentSearchComponent.prototype.openNewSbad = function () {
        this.openSbad(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Create);
    };
    AirworthinessDocumentSearchComponent.prototype.openSelectedSbad = function () {
        var _this = this;
        this.adTableDataSource.dataSelection.forEach(function (sbad) {
            if (sbad && sbad.sbNumber && sbad.sbRevisionNumber) {
                var bireSbId = { sbNumber: sbad.sbNumber, sbRevisionNumber: sbad.sbRevisionNumber };
                _this.openSbad(bireSbId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Read);
            }
        });
    };
    AirworthinessDocumentSearchComponent.prototype.resetResultsTable = function (table) {
        table.reset();
        table.filters = {};
    };
    AirworthinessDocumentSearchComponent.prototype.resetSearchCriteria = function () {
        this.searchObject = {};
        this.sbPublicationDateFrom = undefined;
        this.sbPublicationDateTo = undefined;
        this.sbEffectiveDateFrom = undefined;
        this.sbEffectiveDateTo = undefined;
        this.familyVariant = undefined;
        this.criteriaName = undefined;
    };
    AirworthinessDocumentSearchComponent.prototype.loadSearchCriteria = function (event) {
        var criteria = event.criteria;
        if (!criteria) {
            this.resetSearchCriteria();
            return;
        }
        this.criteriaName = event.name;
        this.searchObject = criteria.bireSbDTO || {};
        this.sbPublicationDateFrom = criteria.publicationDateFrom;
        this.sbPublicationDateTo = criteria.publicationDateTo;
        this.sbEffectiveDateFrom = criteria.effectiveDateFrom;
        this.sbEffectiveDateTo = criteria.effectiveDateTo;
        this.familyVariant = criteria.familyCode;
        this.variantCode = criteria.variantCode;
        this.structureType = criteria.structureType;
        this.familyCode = criteria.fCode;
        this.searchByFavorite();
    };
    AirworthinessDocumentSearchComponent.prototype.saveSearchCriteriaAsked = function () {
        var _this = this;
        var familyCode;
        var structureType;
        var variantCode;
        if (this.familyVariantDTOList) {
            var familyVariantObject = this.familyVariantDTOList.find(function (family) { return !!family.labelValueDTO && family.labelValueDTO.label === _this.familyVariant; });
            if (familyVariantObject) {
                familyCode = familyVariantObject.familyCode;
                structureType = familyVariantObject.structureType;
                variantCode = familyVariantObject.variantCode;
            }
            else {
                familyCode = undefined;
                structureType = undefined;
                variantCode = undefined;
            }
        }
        else {
            familyCode = undefined;
            structureType = undefined;
            variantCode = undefined;
        }
        this.familyCode = familyCode;
        this.variantCode = variantCode;
        this.structureType = structureType;
        var criteriaToSave = {
            bireSbDTO: this.searchObject,
            publicationDateFrom: this.sbPublicationDateFrom,
            publicationDateTo: this.sbPublicationDateTo,
            effectiveDateFrom: this.sbEffectiveDateFrom,
            effectiveDateTo: this.sbEffectiveDateTo,
            familyCode: this.familyVariant,
            fCode: this.familyCode,
            variantCode: this.variantCode,
            structureType: this.structureType
        };
        this.criteriaToSave = criteriaToSave;
    };
    AirworthinessDocumentSearchComponent.prototype.loadDropDownLists = function () {
        this.loadStatus(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].OBJECT_STATUS_LOADED_KEY);
        this.loadClassifications();
        this.loadTypes();
        this.loadSubTypes();
        this.loadCompliances();
        this.loadFamilyVariants();
    };
    AirworthinessDocumentSearchComponent.prototype.loadStatus = function (statusState) {
        var _this = this;
        this.propertiesService.getObjectStatusList(true, false, false, statusState, false).subscribe(function (results) {
            if (results) {
                results.forEach(function (element) {
                    if (_this.propertyStatus.filter(function (status) { return status.value === element.value; }).length === 0) {
                        _this.propertyStatus.push(element);
                    }
                });
                _this.propertyStatus = __spread(_this.propertyStatus);
                _this.adTableDataSource.dataSrc.forEach(function (element) {
                    _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element._obj, 'statusState', _this.propertyStatus);
                });
                _this.adTableDataSource.setData(_this.adTableDataSource.dataSrc);
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetStatusList'));
        });
    };
    AirworthinessDocumentSearchComponent.prototype.loadTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getSbTypeMap').subscribe(function (results) {
            _this.propertyType = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSbTypeList'));
        });
    };
    AirworthinessDocumentSearchComponent.prototype.loadSubTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getAdditionalGuidelineSubTypeMap').subscribe(function (results) {
            if (results) {
                _this.propertySubType = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSbTypeList'));
        });
    };
    AirworthinessDocumentSearchComponent.prototype.loadCompliances = function () {
        var _this = this;
        this.propertiesService.getValue('getComplianceMap').subscribe(function (results) {
            if (results) {
                _this.propertyCompliance = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnComplianceList'));
        });
    };
    AirworthinessDocumentSearchComponent.prototype.loadClassifications = function () {
        var _this = this;
        this.propertiesService.getValue('getSbClassificationMap').subscribe(function (results) {
            if (results) {
                _this.propertyClass = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnClassificationList'));
        });
    };
    AirworthinessDocumentSearchComponent.prototype.loadFamilyVariants = function () {
        var _this = this;
        var familyVariantInput = {
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        this.airworthinessDocumentSearchService.getFamilyVariants(familyVariantInput).subscribe(function (results) {
            var list = [];
            results.forEach(function (element) {
                if (!!element.labelValueDTO) {
                    list.push(element.labelValueDTO);
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'loadFamilyVariants', 'element.labelValueDTO');
                }
            });
            _this.propertyVariant = list;
            _this.familyVariantDTOList = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
    };
    AirworthinessDocumentSearchComponent.prototype.exportTable = function () {
        this.exportService.toExcel(this.adTableDataSource.sanitizedData, this.getTableExportName(), this.componentData.componentId);
    };
    AirworthinessDocumentSearchComponent.prototype.openSbad = function (objectId, openMode) {
        var serializedObjectId;
        if (objectId != undefined) {
            serializedObjectId = this.serializationService.serialize(objectId);
        }
        var formComponentName = this.getFormComponentName();
        var labelKey = 'transaction.' + formComponentName;
        var data = {
            id: this.tabService.generateId(),
            componentId: formComponentName,
            objectId: serializedObjectId,
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    AirworthinessDocumentSearchComponent.prototype.setExportMethods = function () {
        this.exportMethods = [
            {
                label: this.translateService.instant('global.excel'),
                icon: 'fa-file-excel-o'
                // command: () => {
                //   // TODO ?
                // }
            },
            {
                label: this.translateService.instant('global.pdf'),
                icon: 'fa-file-pdf-o'
                // command: () => {
                //   // TODO ?
                // }
            }
        ];
    };
    // TODO add the publicationDateFrom/To and effectiveDateFrom/To
    AirworthinessDocumentSearchComponent.prototype.search = function () {
        var _this = this;
        this.adTableDataSource.setData([]);
        _super.prototype.scrollToAnchor.call(this, this.resultsContainerAnchor);
        var familyCode;
        var structureType;
        var variantCode;
        if (this.familyVariantDTOList) {
            var familyVariantObject = this.familyVariantDTOList.find(function (family) { return !!family.labelValueDTO && family.labelValueDTO.value === _this.familyVariant; });
            if (familyVariantObject) {
                familyCode = familyVariantObject.familyCode;
                structureType = familyVariantObject.structureType;
                variantCode = familyVariantObject.variantCode;
            }
            else {
                familyCode = undefined;
                structureType = undefined;
                variantCode = undefined;
            }
        }
        else {
            familyCode = undefined;
            structureType = undefined;
            variantCode = undefined;
        }
        this.isLoading = true;
        this.findAirworthinessDocumentByCriteria(familyCode, structureType, variantCode).subscribe(function (results) {
            // Modifying the value into the label for statusState, sbCompliance and sbType
            if (results) {
                results.list.forEach(function (element) {
                    if (!_shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'statusState', _this.propertyStatus) &&
                        !!element.statusState) {
                        _this.loadStatus(element.statusState);
                    }
                    _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'sbCompliance', _this.propertyCompliance);
                    _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'sbType', _this.propertyType);
                });
                var adList = results.list.map(function (obj) {
                    var row = {
                        sbNumber: obj.sbNumber || '',
                        sbRevisionNumber: obj.sbRevisionNumber || '',
                        statusState: obj.statusState,
                        sbType: obj.sbType,
                        sbSubType: obj.sbSubType,
                        sbCompliance: obj.sbCompliance,
                        sbClass: obj.sbClass,
                        sbPublicationDate: _this.dateService.dateToString(obj.sbPublicationDate),
                        sbEffectiveDate: _this.dateService.dateToString(obj.sbEffectiveDate),
                        sbDocumentUrl: obj.sbDocumentUrl,
                        sbTitle: obj.sbTitle,
                        _obj: obj,
                        expand: false,
                        dataKey: obj.sbNumber + " " + obj.sbRevisionNumber
                    };
                    return row;
                });
                _this.adTableDataSource.setData(adList);
            }
            _this.isLoading = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetResults'));
            _this.isLoading = false;
        });
    };
    AirworthinessDocumentSearchComponent.prototype.searchByFavorite = function () {
        var _this = this;
        _super.prototype.scrollToAnchor.call(this, this.resultsContainerAnchor);
        if (this.isAD()) {
            this.searchObject.sbType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].SB_TYPE_AD_KEY;
            this.airworthinessDocumentSearchService
                .findBireSbsBySbCriteria(this.searchObject, this.familyCode, this.structureType, this.variantCode, this.sbPublicationDateFrom, this.sbPublicationDateTo, this.sbEffectiveDateFrom, this.sbEffectiveDateTo)
                .subscribe(function (results) {
                // Modifying the value into the label for statusState, sbCompliance and sbType
                if (results) {
                    results.list.forEach(function (element) {
                        if (!_shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'statusState', _this.propertyStatus) &&
                            !!element.statusState) {
                            _this.loadStatus(element.statusState);
                        }
                        _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'sbCompliance', _this.propertyCompliance);
                        _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'sbType', _this.propertyType);
                    });
                    var adList = results.list.map(function (obj) {
                        var row = {
                            sbNumber: obj.sbNumber || '',
                            sbRevisionNumber: obj.sbRevisionNumber || '',
                            statusState: obj.statusState,
                            sbType: obj.sbType,
                            sbSubType: obj.sbSubType,
                            sbCompliance: obj.sbCompliance,
                            sbClass: obj.sbClass,
                            sbPublicationDate: _this.dateService.dateToString(obj.sbPublicationDate),
                            sbEffectiveDate: _this.dateService.dateToString(obj.sbEffectiveDate),
                            sbDocumentUrl: obj.sbDocumentUrl,
                            sbTitle: obj.sbTitle,
                            _obj: obj,
                            expand: false,
                            dataKey: obj.sbNumber + " " + obj.sbRevisionNumber
                        };
                        return row;
                    });
                    _this.adTableDataSource.setData(adList);
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetResults'));
            });
        }
        else {
            this.familyCode = !!this.familyCode ? this.familyCode : '';
            this.structureType = !!this.structureType ? this.structureType : '';
            this.variantCode = !!this.variantCode ? this.variantCode : '';
            this.airworthinessDocumentSearchService
                .findBireSbsBySbCriteriaAd(this.searchObject, this.familyCode, this.structureType, this.variantCode, this.sbPublicationDateFrom, this.sbPublicationDateTo, this.sbEffectiveDateFrom, this.sbEffectiveDateTo)
                .subscribe(function (results) {
                // Modifying the value into the label for statusState, sbCompliance and sbType
                if (results) {
                    results.list.forEach(function (element) {
                        if (!_shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'statusState', _this.propertyStatus) &&
                            !!element.statusState) {
                            _this.loadStatus(element.statusState);
                        }
                        _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'sbCompliance', _this.propertyCompliance);
                        _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_7__["LabelValueUtils"].stringValueToLabel(element, 'sbType', _this.propertyType);
                    });
                    var adList = results.list.map(function (obj) {
                        var row = {
                            sbNumber: obj.sbNumber || '',
                            sbRevisionNumber: obj.sbRevisionNumber || '',
                            statusState: obj.statusState,
                            sbType: obj.sbType,
                            sbSubType: obj.sbSubType,
                            sbCompliance: obj.sbCompliance,
                            sbClass: obj.sbClass,
                            sbPublicationDate: _this.dateService.dateToString(obj.sbPublicationDate),
                            sbEffectiveDate: _this.dateService.dateToString(obj.sbEffectiveDate),
                            sbDocumentUrl: obj.sbDocumentUrl,
                            sbTitle: obj.sbTitle,
                            _obj: obj,
                            expand: false,
                            dataKey: obj.sbNumber + " " + obj.sbRevisionNumber
                        };
                        return row;
                    });
                    _this.adTableDataSource.setData(adList);
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetResults'));
            });
        }
    };
    AirworthinessDocumentSearchComponent.prototype.toggleRowDetailsVisibility = function (row) {
        row.expand = !row.expand;
    };
    AirworthinessDocumentSearchComponent.prototype.openSbadNumber = function (sbad) {
        if (sbad && sbad.sbNumber && sbad.sbRevisionNumber) {
            var bireSbId = { sbNumber: sbad.sbNumber, sbRevisionNumber: sbad.sbRevisionNumber };
            this.openSbad(bireSbId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Read);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('resultsContainerAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], AirworthinessDocumentSearchComponent.prototype, "resultsContainerAnchor", void 0);
    return AirworthinessDocumentSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_6__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.service.ts":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.service.ts ***!
  \********************************************************************************************************************/
/*! exports provided: AirworthinessDocumentSearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AirworthinessDocumentSearchService", function() { return AirworthinessDocumentSearchService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AirworthinessDocumentSearchService = /** @class */ (function (_super) {
    __extends(AirworthinessDocumentSearchService, _super);
    function AirworthinessDocumentSearchService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    AirworthinessDocumentSearchService.prototype.removeBireSbs = function (selectedBireSbs) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.removeBireSbs, selectedBireSbs);
    };
    AirworthinessDocumentSearchService.prototype.findBireSbsBySbCriteria = function (criteria, familyCode, structureType, variantCode, publicationDateFrom, publicationDateTo, effectiveDateFrom, effectiveDateTo) {
        var params = {
            bireSbDTO: criteria,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode,
            publicationDateFrom: publicationDateFrom,
            publicationDateTo: publicationDateTo,
            effectiveDateFrom: effectiveDateFrom,
            effectiveDateTo: effectiveDateTo
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbsBySbCriteria, params);
    };
    AirworthinessDocumentSearchService.prototype.getSBObjectStatusValue = function (key) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.getSBObjectStatusValue, key);
    };
    AirworthinessDocumentSearchService.prototype.getFamilyVariants = function (familyVariantInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariant, familyVariantInput);
    };
    AirworthinessDocumentSearchService.prototype.findBireSbsBySbCriteriaAd = function (criteria, familyCode, structureType, variantCode, publicationDateFrom, publicationDateTo, effectiveDateFrom, effectiveDateTo) {
        var params = {
            bireSbDTO: criteria,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode,
            publicationDateFrom: publicationDateFrom,
            publicationDateTo: publicationDateTo,
            effectiveDateFrom: effectiveDateFrom,
            effectiveDateTo: effectiveDateTo
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbsBySbCriteriaAd, params);
    };
    AirworthinessDocumentSearchService.prototype.findBireSbsBySbCriteriaAmg = function (criteria, familyCode, structureType, variantCode, publicationDateFrom, publicationDateTo, effectiveDateFrom, effectiveDateTo) {
        var params = {
            bireSbDTO: criteria,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode,
            publicationDateFrom: publicationDateFrom,
            publicationDateTo: publicationDateTo,
            effectiveDateFrom: effectiveDateFrom,
            effectiveDateTo: effectiveDateTo
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbsBySbCriteriaAmg, params);
    };
    AirworthinessDocumentSearchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], AirworthinessDocumentSearchService);
    return AirworthinessDocumentSearchService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/engineering-management.module.ts":
/*!******************************************************************************!*\
  !*** ./src/app/main/engineering-management/engineering-management.module.ts ***!
  \******************************************************************************/
/*! exports provided: EngineeringManagamentModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EngineeringManagamentModule", function() { return EngineeringManagamentModule; });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var primeng_calendar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/calendar */ "./node_modules/primeng/calendar.js");
/* harmony import */ var primeng_calendar__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(primeng_calendar__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var primeng_checkbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/checkbox */ "./node_modules/primeng/checkbox.js");
/* harmony import */ var primeng_checkbox__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primeng_checkbox__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var primeng_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primeng/dialog */ "./node_modules/primeng/dialog.js");
/* harmony import */ var primeng_dialog__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(primeng_dialog__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primeng/dropdown */ "./node_modules/primeng/dropdown.js");
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(primeng_dropdown__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var primeng_fileupload__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primeng/fileupload */ "./node_modules/primeng/fileupload.js");
/* harmony import */ var primeng_fileupload__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(primeng_fileupload__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var primeng_inputtextarea__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primeng/inputtextarea */ "./node_modules/primeng/inputtextarea.js");
/* harmony import */ var primeng_inputtextarea__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(primeng_inputtextarea__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var primeng_keyfilter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primeng/keyfilter */ "./node_modules/primeng/keyfilter.js");
/* harmony import */ var primeng_keyfilter__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(primeng_keyfilter__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var primeng_listbox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primeng/listbox */ "./node_modules/primeng/listbox.js");
/* harmony import */ var primeng_listbox__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(primeng_listbox__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var primeng_message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primeng/message */ "./node_modules/primeng/message.js");
/* harmony import */ var primeng_message__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(primeng_message__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primeng/overlaypanel */ "./node_modules/primeng/overlaypanel.js");
/* harmony import */ var primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var primeng_radiobutton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primeng/radiobutton */ "./node_modules/primeng/radiobutton.js");
/* harmony import */ var primeng_radiobutton__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(primeng_radiobutton__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var primeng_splitbutton__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeng/splitbutton */ "./node_modules/primeng/splitbutton.js");
/* harmony import */ var primeng_splitbutton__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(primeng_splitbutton__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! primeng/table */ "./node_modules/primeng/table.js");
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(primeng_table__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! primeng/tooltip */ "./node_modules/primeng/tooltip.js");
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(primeng_tooltip__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var primeng_tree__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! primeng/tree */ "./node_modules/primeng/tree.js");
/* harmony import */ var primeng_tree__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(primeng_tree__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var primeng_treetable__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! primeng/treetable */ "./node_modules/primeng/treetable.js");
/* harmony import */ var primeng_treetable__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(primeng_treetable__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var primeng_tristatecheckbox__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! primeng/tristatecheckbox */ "./node_modules/primeng/tristatecheckbox.js");
/* harmony import */ var primeng_tristatecheckbox__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(primeng_tristatecheckbox__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _shared_angular_common_shared_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../shared/angular-common-shared.module */ "./src/app/shared/angular-common-shared.module.ts");
/* harmony import */ var _shared_angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../shared/angular-generic-templates-shared-module */ "./src/app/shared/angular-generic-templates-shared-module.ts");
/* harmony import */ var _shared_api_unit_matrix_conversion_api__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../shared/api/unit-matrix-conversion.api */ "./src/app/shared/api/unit-matrix-conversion.api.ts");
/* harmony import */ var _shared_app_common_shared_module__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../shared/app-common-shared.module */ "./src/app/shared/app-common-shared.module.ts");
/* harmony import */ var _shared_components_ata_code_input_ata_code_input_module__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../shared/components/ata-code-input/ata-code-input.module */ "./src/app/shared/components/ata-code-input/ata-code-input.module.ts");
/* harmony import */ var _shared_components_component_sidebar_component_sidebar_mdule__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../shared/components/component-sidebar/component-sidebar.mdule */ "./src/app/shared/components/component-sidebar/component-sidebar.mdule.ts");
/* harmony import */ var _shared_components_dialog_bire_document_dialog_bire_document_module__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../shared/components/dialog-bire-document/dialog-bire-document.module */ "./src/app/shared/components/dialog-bire-document/dialog-bire-document.module.ts");
/* harmony import */ var _shared_components_dialog_generate_comment_dialog_generate_comment_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../shared/components/dialog-generate-comment/dialog-generate-comment.module */ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.module.ts");
/* harmony import */ var _shared_components_dialog_search_evolution_dialog_search_evolution_module__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../shared/components/dialog-search-evolution/dialog-search-evolution.module */ "./src/app/shared/components/dialog-search-evolution/dialog-search-evolution.module.ts");
/* harmony import */ var _shared_components_dialog_search_functional_location_dialog_search_functional_location_module__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../shared/components/dialog-search-functional-location/dialog-search-functional-location.module */ "./src/app/shared/components/dialog-search-functional-location/dialog-search-functional-location.module.ts");
/* harmony import */ var _shared_components_dialog_search_item_dialog_search_item_module__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../shared/components/dialog-search-item/dialog-search-item.module */ "./src/app/shared/components/dialog-search-item/dialog-search-item.module.ts");
/* harmony import */ var _shared_components_dialog_search_model_dialog_search_model_module__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../shared/components/dialog-search-model/dialog-search-model.module */ "./src/app/shared/components/dialog-search-model/dialog-search-model.module.ts");
/* harmony import */ var _shared_components_dialog_search_part_dialog_search_part_module__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../shared/components/dialog-search-part/dialog-search-part.module */ "./src/app/shared/components/dialog-search-part/dialog-search-part.module.ts");
/* harmony import */ var _shared_components_dialog_search_qualification_dialog_search_qualification_module__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../shared/components/dialog-search-qualification/dialog-search-qualification.module */ "./src/app/shared/components/dialog-search-qualification/dialog-search-qualification.module.ts");
/* harmony import */ var _shared_components_dialog_search_sbad_dialog_search_sbad_module__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../shared/components/dialog-search-sbad/dialog-search-sbad.module */ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.module.ts");
/* harmony import */ var _shared_components_dialog_search_task_dialog_search_task_module__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../shared/components/dialog-search-task/dialog-search-task.module */ "./src/app/shared/components/dialog-search-task/dialog-search-task.module.ts");
/* harmony import */ var _shared_components_dialog_status_dialog_status_module__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../shared/components/dialog-status/dialog-status.module */ "./src/app/shared/components/dialog-status/dialog-status.module.ts");
/* harmony import */ var _shared_components_dialog_table_dialog_table_module__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../shared/components/dialog-table/dialog-table.module */ "./src/app/shared/components/dialog-table/dialog-table.module.ts");
/* harmony import */ var _shared_components_dynamic_attributes_history_dynamic_attributes_history_module__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../shared/components/dynamic-attributes-history/dynamic-attributes-history.module */ "./src/app/shared/components/dynamic-attributes-history/dynamic-attributes-history.module.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_module__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../shared/components/dynamic-attributes/dynamic-attributes.module */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.module.ts");
/* harmony import */ var _shared_components_manage_search_criteria_manage_search_criteria_module__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../shared/components/manage-search-criteria/manage-search-criteria.module */ "./src/app/shared/components/manage-search-criteria/manage-search-criteria.module.ts");
/* harmony import */ var _shared_components_modal_modal_module__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../shared/components/modal/modal.module */ "./src/app/shared/components/modal/modal.module.ts");
/* harmony import */ var _shared_components_status_update_history_status_update_history_module__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../shared/components/status-update-history/status-update-history.module */ "./src/app/shared/components/status-update-history/status-update-history.module.ts");
/* harmony import */ var _shared_components_table_table_module__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../shared/components/table/table.module */ "./src/app/shared/components/table/table.module.ts");
/* harmony import */ var _dynamic_component_loader_dynamic_component_loader_module__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../dynamic-component-loader/dynamic-component-loader.module */ "./src/app/main/dynamic-component-loader/dynamic-component-loader.module.ts");
/* harmony import */ var _logistics_procurement_request_search_procurement_request_popup_procurement_request_popup_module__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../logistics/procurement-request/search/procurement-request-popup/procurement-request-popup.module */ "./src/app/main/logistics/procurement-request/search/procurement-request-popup/procurement-request-popup.module.ts");
/* harmony import */ var _logistics_transfer_order_search_transfer_order_popup_transfer_order_popup_module__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../logistics/transfer-order/search/transfer-order-popup/transfer-order-popup.module */ "./src/app/main/logistics/transfer-order/search/transfer-order-popup/transfer-order-popup.module.ts");
/* harmony import */ var _additional_maintenance_guideline_form_additional_maintenance_guideline_form_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./additional-maintenance-guideline/form/additional-maintenance-guideline-form.component */ "./src/app/main/engineering-management/additional-maintenance-guideline/form/additional-maintenance-guideline-form.component.ts");
/* harmony import */ var _additional_maintenance_guideline_search_additional_maintenance_guideline_search_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./additional-maintenance-guideline/search/additional-maintenance-guideline-search.component */ "./src/app/main/engineering-management/additional-maintenance-guideline/search/additional-maintenance-guideline-search.component.ts");
/* harmony import */ var _airworthiness_directive_form_airworthiness_directive_form_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./airworthiness-directive-form/airworthiness-directive-form.component */ "./src/app/main/engineering-management/airworthiness-directive-form/airworthiness-directive-form.component.ts");
/* harmony import */ var _airworthiness_directive_search_airworthiness_directive_search_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./airworthiness-directive-search/airworthiness-directive-search.component */ "./src/app/main/engineering-management/airworthiness-directive-search/airworthiness-directive-search.component.ts");
/* harmony import */ var _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./airworthiness-document-search/airworthiness-document-search.service */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.service.ts");
/* harmony import */ var _dea_dia_dialog_bire_document_dialog_bire_doc_pug_module__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./dea-dia/dialog-bire-document/dialog-bire-doc-pug.module */ "./src/app/main/engineering-management/dea-dia/dialog-bire-document/dialog-bire-doc-pug.module.ts");
/* harmony import */ var _evolution_form_evolution_form_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./evolution-form/evolution-form.component */ "./src/app/main/engineering-management/evolution-form/evolution-form.component.ts");
/* harmony import */ var _evolution_form_evolution_form_service__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./evolution-form/evolution-form.service */ "./src/app/main/engineering-management/evolution-form/evolution-form.service.ts");
/* harmony import */ var _evolution_form_popups_applicabilities_popup_form_applicabilities_popup_form_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_applicabilities_popup_form_applicabilities_popup_form_service__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.service.ts");
/* harmony import */ var _evolution_form_popups_assets_popup_form_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./evolution-form/popups/assets-popup-form/assets-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_assets_popup_form_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./evolution-form/popups/assets-popup-form/assets-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.service.ts");
/* harmony import */ var _evolution_form_popups_evol_import_popup_evol_import_popup_component__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./evolution-form/popups/evol-import-popup/evol-import-popup.component */ "./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.ts");
/* harmony import */ var _evolution_form_popups_impacts_evol_popup_form_impacts_evol_popup_form_component__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_impacts_evol_popup_form_impacts_evol_popup_form_service__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.service.ts");
/* harmony import */ var _evolution_form_popups_impacts_item_popup_form_impacts_item_popup_form_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_impacts_item_popup_form_impacts_item_popup_form_service__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service.ts");
/* harmony import */ var _evolution_form_popups_impacts_popup_form_impacts_popup_form_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./evolution-form/popups/impacts-popup-form/impacts-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_impacts_popup_form_impacts_popup_form_service__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./evolution-form/popups/impacts-popup-form/impacts-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.service.ts");
/* harmony import */ var _evolution_form_popups_interdependences_popup_form_interdependences_popup_form_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_interdependences_popup_form_interdependences_popup_form_service__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./evolution-form/popups/interdependences-popup-form/interdependences-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.service.ts");
/* harmony import */ var _evolution_form_popups_modifications_popup_form_modifications_popup_form_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./evolution-form/popups/modifications-popup-form/modifications-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_modifications_popup_form_modifications_popup_form_service__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./evolution-form/popups/modifications-popup-form/modifications-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.service.ts");
/* harmony import */ var _evolution_form_popups_sbad_popup_form_sbad_popup_form_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./evolution-form/popups/sbad-popup-form/sbad-popup-form.component */ "./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.ts");
/* harmony import */ var _evolution_form_popups_sbad_popup_form_sbad_popup_form_service__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./evolution-form/popups/sbad-popup-form/sbad-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.service.ts");
/* harmony import */ var _evolution_search_evolution_search_component__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./evolution-search/evolution-search.component */ "./src/app/main/engineering-management/evolution-search/evolution-search.component.ts");
/* harmony import */ var _evolution_search_evolution_search_service__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./evolution-search/evolution-search.service */ "./src/app/main/engineering-management/evolution-search/evolution-search.service.ts");
/* harmony import */ var _family_form_family_form_component__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./family-form/family-form.component */ "./src/app/main/engineering-management/family-form/family-form.component.ts");
/* harmony import */ var _family_form_family_form_service__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./family-form/family-form.service */ "./src/app/main/engineering-management/family-form/family-form.service.ts");
/* harmony import */ var _family_form_popups_family_modification_popup_family_modification_popup_component__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./family-form/popups/family-modification-popup/family-modification-popup.component */ "./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.ts");
/* harmony import */ var _family_form_popups_family_rating_popup_family_rating_popup_component__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./family-form/popups/family-rating-popup/family-rating-popup.component */ "./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.ts");
/* harmony import */ var _family_search_family_search_component__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./family-search/family-search.component */ "./src/app/main/engineering-management/family-search/family-search.component.ts");
/* harmony import */ var _family_search_family_search_service__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./family-search/family-search.service */ "./src/app/main/engineering-management/family-search/family-search.service.ts");
/* harmony import */ var _functional_location_form_functional_location_form_component__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./functional-location-form/functional-location-form.component */ "./src/app/main/engineering-management/functional-location-form/functional-location-form.component.ts");
/* harmony import */ var _functional_location_form_functional_location_form_service__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./functional-location-form/functional-location-form.service */ "./src/app/main/engineering-management/functional-location-form/functional-location-form.service.ts");
/* harmony import */ var _functional_location_form_popups_family_variant_popup_form_component__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./functional-location-form/popups/family-variant-popup-form.component */ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.ts");
/* harmony import */ var _functional_location_form_popups_family_variant_popup_form_service__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ./functional-location-form/popups/family-variant-popup-form.service */ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.service.ts");
/* harmony import */ var _functional_location_form_popups_model_popup_form_model_popup_form_component__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ./functional-location-form/popups/model-popup-form/model-popup-form.component */ "./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.ts");
/* harmony import */ var _functional_location_form_popups_model_popup_form_model_popup_form_service__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ./functional-location-form/popups/model-popup-form/model-popup-form.service */ "./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.service.ts");
/* harmony import */ var _functional_location_search_functional_location_search_component__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ./functional-location-search/functional-location-search.component */ "./src/app/main/engineering-management/functional-location-search/functional-location-search.component.ts");
/* harmony import */ var _functional_location_search_functional_location_search_service__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ./functional-location-search/functional-location-search.service */ "./src/app/main/engineering-management/functional-location-search/functional-location-search.service.ts");
/* harmony import */ var _item_search_item_search_service__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ./item/search/item-search.service */ "./src/app/main/engineering-management/item/search/item-search.service.ts");
/* harmony import */ var _maintenance_program_form_maintenance_program_form_mhiael_service__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ./maintenance-program-form/maintenance-program-form-mhiael.service */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form-mhiael.service.ts");
/* harmony import */ var _maintenance_program_form_maintenance_program_form_component__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ./maintenance-program-form/maintenance-program-form.component */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.ts");
/* harmony import */ var _maintenance_program_form_maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ./maintenance-program-form/maintenance-program-form.service */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.service.ts");
/* harmony import */ var _maintenance_program_form_popups_assign_assets_popup_form_assign_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ./maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component */ "./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.ts");
/* harmony import */ var _maintenance_program_form_popups_report_popup_form_report_popup_form_component__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ./maintenance-program-form/popups/report-popup-form/report-popup-form.component */ "./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.ts");
/* harmony import */ var _maintenance_program_form_popups_task_visit_popup_form_task_visit_popup_form_component__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ./maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component */ "./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.ts");
/* harmony import */ var _maintenance_program_form_popups_upgrade_popup_form_upgrade_popup_form_component__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ./maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component */ "./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.ts");
/* harmony import */ var _maintenance_program_search_change_record_form_change_record_form_component__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ./maintenance-program-search/change-record-form/change-record-form.component */ "./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.ts");
/* harmony import */ var _maintenance_program_search_change_record_form_change_record_form_service__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ./maintenance-program-search/change-record-form/change-record-form.service */ "./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.service.ts");
/* harmony import */ var _maintenance_program_search_dialog_compare_maintenance_programs_dialog_compare_maintenance_programs_component__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! ./maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component */ "./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.ts");
/* harmony import */ var _maintenance_program_search_maintenance_program_search_component__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! ./maintenance-program-search/maintenance-program-search.component */ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.ts");
/* harmony import */ var _maintenance_program_search_maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! ./maintenance-program-search/maintenance-program-search.service */ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.service.ts");
/* harmony import */ var _maintenance_program_updates_list_maintenance_program_updates_list_component__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! ./maintenance-program-updates-list/maintenance-program-updates-list.component */ "./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.ts");
/* harmony import */ var _maintenance_program_updates_list_maintenance_program_updates_list_service__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! ./maintenance-program-updates-list/maintenance-program-updates-list.service */ "./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.service.ts");
/* harmony import */ var _modification_form_modification_form_component__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! ./modification-form/modification-form.component */ "./src/app/main/engineering-management/modification-form/modification-form.component.ts");
/* harmony import */ var _modification_form_modification_form_service__WEBPACK_IMPORTED_MODULE_103__ = __webpack_require__(/*! ./modification-form/modification-form.service */ "./src/app/main/engineering-management/modification-form/modification-form.service.ts");
/* harmony import */ var _modification_form_popups_modification_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_104__ = __webpack_require__(/*! ./modification-form/popups/modification-assets-popup-form.component */ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.ts");
/* harmony import */ var _modification_form_popups_modification_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_105__ = __webpack_require__(/*! ./modification-form/popups/modification-assets-popup-form.service */ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.service.ts");
/* harmony import */ var _modification_search_modification_search_component__WEBPACK_IMPORTED_MODULE_106__ = __webpack_require__(/*! ./modification-search/modification-search.component */ "./src/app/main/engineering-management/modification-search/modification-search.component.ts");
/* harmony import */ var _modification_search_modification_search_service__WEBPACK_IMPORTED_MODULE_107__ = __webpack_require__(/*! ./modification-search/modification-search.service */ "./src/app/main/engineering-management/modification-search/modification-search.service.ts");
/* harmony import */ var _part_number_form_part_number_form_component__WEBPACK_IMPORTED_MODULE_108__ = __webpack_require__(/*! ./part-number-form/part-number-form.component */ "./src/app/main/engineering-management/part-number-form/part-number-form.component.ts");
/* harmony import */ var _part_number_form_part_number_form_service__WEBPACK_IMPORTED_MODULE_109__ = __webpack_require__(/*! ./part-number-form/part-number-form.service */ "./src/app/main/engineering-management/part-number-form/part-number-form.service.ts");
/* harmony import */ var _part_number_form_popups_ref_measurements_popup_form_component__WEBPACK_IMPORTED_MODULE_110__ = __webpack_require__(/*! ./part-number-form/popups/ref-measurements-popup-form.component */ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.ts");
/* harmony import */ var _part_number_form_popups_ref_measurements_popup_form_service__WEBPACK_IMPORTED_MODULE_111__ = __webpack_require__(/*! ./part-number-form/popups/ref-measurements-popup-form.service */ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.service.ts");
/* harmony import */ var _part_number_search_part_number_search_component__WEBPACK_IMPORTED_MODULE_112__ = __webpack_require__(/*! ./part-number-search/part-number-search.component */ "./src/app/main/engineering-management/part-number-search/part-number-search.component.ts");
/* harmony import */ var _part_number_search_part_number_search_service__WEBPACK_IMPORTED_MODULE_113__ = __webpack_require__(/*! ./part-number-search/part-number-search.service */ "./src/app/main/engineering-management/part-number-search/part-number-search.service.ts");
/* harmony import */ var _sbad_form_popups_dialog_search_maintenance_program_dialog_search_maintenance_program_module__WEBPACK_IMPORTED_MODULE_114__ = __webpack_require__(/*! ./sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module */ "./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module.ts");
/* harmony import */ var _sbad_form_popups_sb_ad_applicabilities_popup_sb_ad_applicabilities_popup_component__WEBPACK_IMPORTED_MODULE_115__ = __webpack_require__(/*! ./sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.ts");
/* harmony import */ var _sbad_form_popups_sb_ad_applicabilities_popup_sb_ad_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_116__ = __webpack_require__(/*! ./sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.service */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.service.ts");
/* harmony import */ var _sbad_form_popups_sb_ad_asset_popup_sb_ad_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_117__ = __webpack_require__(/*! ./sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.ts");
/* harmony import */ var _sbad_form_popups_sb_ad_import_popup_sb_ad_import_popup_component__WEBPACK_IMPORTED_MODULE_118__ = __webpack_require__(/*! ./sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.ts");
/* harmony import */ var _sbad_form_popups_sb_ad_limits_periodicities_popup_sb_ad_limits_periodicities_popup_form_component__WEBPACK_IMPORTED_MODULE_119__ = __webpack_require__(/*! ./sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.ts");
/* harmony import */ var _sbad_form_popups_sb_ad_limits_periodicities_popup_sb_ad_limits_periodicities_popup_form_service__WEBPACK_IMPORTED_MODULE_120__ = __webpack_require__(/*! ./sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.service */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.service.ts");
/* harmony import */ var _sbad_form_sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_121__ = __webpack_require__(/*! ./sbad-form/sbad-form-mhiael.service */ "./src/app/main/engineering-management/sbad-form/sbad-form-mhiael.service.ts");
/* harmony import */ var _sbad_form_sbad_form_component__WEBPACK_IMPORTED_MODULE_122__ = __webpack_require__(/*! ./sbad-form/sbad-form.component */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.ts");
/* harmony import */ var _sbad_form_sbad_form_service__WEBPACK_IMPORTED_MODULE_123__ = __webpack_require__(/*! ./sbad-form/sbad-form.service */ "./src/app/main/engineering-management/sbad-form/sbad-form.service.ts");
/* harmony import */ var _sbad_search_sbad_search_component__WEBPACK_IMPORTED_MODULE_124__ = __webpack_require__(/*! ./sbad-search/sbad-search.component */ "./src/app/main/engineering-management/sbad-search/sbad-search.component.ts");
/* harmony import */ var _unit_conversion_matrix_form_cm_applicabilities_popup_cm_applicabilities_popup_component__WEBPACK_IMPORTED_MODULE_125__ = __webpack_require__(/*! ./unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component */ "./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.ts");
/* harmony import */ var _unit_conversion_matrix_form_cm_applicabilities_popup_cm_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_126__ = __webpack_require__(/*! ./unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.service */ "./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.service.ts");
/* harmony import */ var _unit_conversion_matrix_form_dialog_unit_conversion_matrix_dialog_unit_conversion_matrix_component__WEBPACK_IMPORTED_MODULE_127__ = __webpack_require__(/*! ./unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component */ "./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.ts");
/* harmony import */ var _unit_conversion_matrix_form_unit_conversion_matrix_form_component__WEBPACK_IMPORTED_MODULE_128__ = __webpack_require__(/*! ./unit-conversion-matrix/form/unit-conversion-matrix-form.component */ "./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.ts");
/* harmony import */ var _unit_conversion_matrix_import_report_popup_import_report_popup_component__WEBPACK_IMPORTED_MODULE_129__ = __webpack_require__(/*! ./unit-conversion-matrix/import-report-popup/import-report-popup.component */ "./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.ts");
/* harmony import */ var _unit_conversion_matrix_search_unit_conversion_matrix_search_component__WEBPACK_IMPORTED_MODULE_130__ = __webpack_require__(/*! ./unit-conversion-matrix/search/unit-conversion-matrix-search.component */ "./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.ts");
/* harmony import */ var _unit_conversion_matrix_unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_131__ = __webpack_require__(/*! ./unit-conversion-matrix/unit-conversion-matrix.service */ "./src/app/main/engineering-management/unit-conversion-matrix/unit-conversion-matrix.service.ts");
/* harmony import */ var _visit_form_dialog_associated_tasks_maintenance_dialog_associated_tasks_maintenance_component__WEBPACK_IMPORTED_MODULE_132__ = __webpack_require__(/*! ./visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component */ "./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.ts");
/* harmony import */ var _visit_form_visit_form_component__WEBPACK_IMPORTED_MODULE_133__ = __webpack_require__(/*! ./visit-form/visit-form.component */ "./src/app/main/engineering-management/visit-form/visit-form.component.ts");
/* harmony import */ var _visit_form_visit_form_service__WEBPACK_IMPORTED_MODULE_134__ = __webpack_require__(/*! ./visit-form/visit-form.service */ "./src/app/main/engineering-management/visit-form/visit-form.service.ts");
/* harmony import */ var _visit_search_visit_search_component__WEBPACK_IMPORTED_MODULE_135__ = __webpack_require__(/*! ./visit-search/visit-search.component */ "./src/app/main/engineering-management/visit-search/visit-search.component.ts");
/* harmony import */ var _visit_search_visit_search_service__WEBPACK_IMPORTED_MODULE_136__ = __webpack_require__(/*! ./visit-search/visit-search.service */ "./src/app/main/engineering-management/visit-search/visit-search.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};









































































































































var PRIMENG_MODULES = [
    primeng_calendar__WEBPACK_IMPORTED_MODULE_2__["CalendarModule"],
    primeng_checkbox__WEBPACK_IMPORTED_MODULE_3__["CheckboxModule"],
    primeng_dialog__WEBPACK_IMPORTED_MODULE_4__["DialogModule"],
    primeng_dropdown__WEBPACK_IMPORTED_MODULE_5__["DropdownModule"],
    primeng_listbox__WEBPACK_IMPORTED_MODULE_9__["ListboxModule"],
    primeng_inputtextarea__WEBPACK_IMPORTED_MODULE_7__["InputTextareaModule"],
    primeng_radiobutton__WEBPACK_IMPORTED_MODULE_12__["RadioButtonModule"],
    primeng_splitbutton__WEBPACK_IMPORTED_MODULE_13__["SplitButtonModule"],
    primeng_table__WEBPACK_IMPORTED_MODULE_14__["TableModule"],
    primeng_tooltip__WEBPACK_IMPORTED_MODULE_15__["TooltipModule"],
    primeng_tree__WEBPACK_IMPORTED_MODULE_16__["TreeModule"],
    primeng_tristatecheckbox__WEBPACK_IMPORTED_MODULE_18__["TriStateCheckboxModule"],
    primeng_fileupload__WEBPACK_IMPORTED_MODULE_6__["FileUploadModule"],
    primeng_keyfilter__WEBPACK_IMPORTED_MODULE_8__["KeyFilterModule"],
    primeng_overlaypanel__WEBPACK_IMPORTED_MODULE_11__["OverlayPanelModule"],
    primeng_treetable__WEBPACK_IMPORTED_MODULE_17__["TreeTableModule"],
    primeng_message__WEBPACK_IMPORTED_MODULE_10__["MessageModule"]
];
var COMPONENTS = [
    _modification_form_popups_modification_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_104__["ModificationAssetsPopupFormComponent"],
    _sbad_form_popups_sb_ad_asset_popup_sb_ad_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_117__["SbAdAssetsPopupFormComponent"],
    _sbad_form_popups_sb_ad_applicabilities_popup_sb_ad_applicabilities_popup_component__WEBPACK_IMPORTED_MODULE_115__["SbadApplicabilitiesPopupFormComponent"],
    _evolution_form_popups_sbad_popup_form_sbad_popup_form_component__WEBPACK_IMPORTED_MODULE_69__["SbadPopupFormComponent"],
    _evolution_form_popups_modifications_popup_form_modifications_popup_form_component__WEBPACK_IMPORTED_MODULE_67__["ModificationsPopupFormComponent"],
    _evolution_form_popups_applicabilities_popup_form_applicabilities_popup_form_component__WEBPACK_IMPORTED_MODULE_54__["ApplicabilitiesPopupFormComponent"],
    _evolution_form_popups_assets_popup_form_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_56__["AssetsPopupFormComponent"],
    _evolution_form_popups_interdependences_popup_form_interdependences_popup_form_component__WEBPACK_IMPORTED_MODULE_65__["InterdependencesPopupFormComponent"],
    _evolution_form_popups_impacts_evol_popup_form_impacts_evol_popup_form_component__WEBPACK_IMPORTED_MODULE_59__["ImpactsEvolPopupFormComponent"],
    _evolution_form_popups_impacts_item_popup_form_impacts_item_popup_form_component__WEBPACK_IMPORTED_MODULE_61__["ImpactsItemPopupFormComponent"],
    _evolution_form_popups_impacts_popup_form_impacts_popup_form_component__WEBPACK_IMPORTED_MODULE_63__["ImpactsPopupFormComponent"],
    _visit_form_dialog_associated_tasks_maintenance_dialog_associated_tasks_maintenance_component__WEBPACK_IMPORTED_MODULE_132__["DialogAssociatedTasksMaintenanceComponent"],
    _family_form_popups_family_modification_popup_family_modification_popup_component__WEBPACK_IMPORTED_MODULE_75__["FamilyModificationPopupFormComponent"],
    _family_form_popups_family_rating_popup_family_rating_popup_component__WEBPACK_IMPORTED_MODULE_76__["FamilyRatingPopupFormComponent"],
    _part_number_form_popups_ref_measurements_popup_form_component__WEBPACK_IMPORTED_MODULE_110__["ReferenceMeasurementsPopupFormComponent"],
    _maintenance_program_search_dialog_compare_maintenance_programs_dialog_compare_maintenance_programs_component__WEBPACK_IMPORTED_MODULE_97__["DialogCompareMaintenanceProgramsComponent"],
    _maintenance_program_form_popups_task_visit_popup_form_task_visit_popup_form_component__WEBPACK_IMPORTED_MODULE_93__["TaskVisitPopupFormComponent"],
    _maintenance_program_form_popups_upgrade_popup_form_upgrade_popup_form_component__WEBPACK_IMPORTED_MODULE_94__["UpgradePopupFormComponent"],
    _maintenance_program_form_popups_assign_assets_popup_form_assign_assets_popup_form_component__WEBPACK_IMPORTED_MODULE_91__["AssignAssetsPopupFormComponent"],
    _maintenance_program_form_popups_report_popup_form_report_popup_form_component__WEBPACK_IMPORTED_MODULE_92__["ReportPopupFormComponent"],
    _sbad_form_popups_sb_ad_import_popup_sb_ad_import_popup_component__WEBPACK_IMPORTED_MODULE_118__["SbadImportPopupComponent"],
    _sbad_form_popups_sb_ad_import_popup_sb_ad_import_popup_component__WEBPACK_IMPORTED_MODULE_118__["SbadImportPopupComponent"],
    _sbad_form_popups_sb_ad_limits_periodicities_popup_sb_ad_limits_periodicities_popup_form_component__WEBPACK_IMPORTED_MODULE_119__["SbAdLimitsPeriodicitiesPopupFormComponent"],
    _evolution_form_popups_evol_import_popup_evol_import_popup_component__WEBPACK_IMPORTED_MODULE_58__["EvolImportPopupComponent"],
    _unit_conversion_matrix_import_report_popup_import_report_popup_component__WEBPACK_IMPORTED_MODULE_129__["ImportReportPopupComponent"],
    _unit_conversion_matrix_form_dialog_unit_conversion_matrix_dialog_unit_conversion_matrix_component__WEBPACK_IMPORTED_MODULE_127__["DialogUnitConversionMatrixComponent"],
    _unit_conversion_matrix_form_cm_applicabilities_popup_cm_applicabilities_popup_component__WEBPACK_IMPORTED_MODULE_125__["ConversionMatrixApplicabilitiesPopupFormComponent"]
];
var DYNAMIC_COMPONENTS = [
    _additional_maintenance_guideline_form_additional_maintenance_guideline_form_component__WEBPACK_IMPORTED_MODULE_46__["AdditionalMaintenanceGuidelineFormComponent"],
    _additional_maintenance_guideline_search_additional_maintenance_guideline_search_component__WEBPACK_IMPORTED_MODULE_47__["AdditionalMaintenanceGuidelineSearchComponent"],
    _airworthiness_directive_form_airworthiness_directive_form_component__WEBPACK_IMPORTED_MODULE_48__["AirworthinessDirectiveFormComponent"],
    _airworthiness_directive_search_airworthiness_directive_search_component__WEBPACK_IMPORTED_MODULE_49__["AirworthinessDirectiveSearchComponent"],
    _evolution_form_evolution_form_component__WEBPACK_IMPORTED_MODULE_52__["EvolutionFormComponent"],
    _evolution_search_evolution_search_component__WEBPACK_IMPORTED_MODULE_71__["EvolutionSearchComponent"],
    _sbad_search_sbad_search_component__WEBPACK_IMPORTED_MODULE_124__["SbadSearchComponent"],
    _sbad_form_sbad_form_component__WEBPACK_IMPORTED_MODULE_122__["SbadFormComponent"],
    _visit_search_visit_search_component__WEBPACK_IMPORTED_MODULE_135__["VisitSearchComponent"],
    _visit_form_visit_form_component__WEBPACK_IMPORTED_MODULE_133__["VisitFormComponent"],
    _modification_search_modification_search_component__WEBPACK_IMPORTED_MODULE_106__["ModificationSearchComponent"],
    _modification_form_modification_form_component__WEBPACK_IMPORTED_MODULE_102__["ModificationFormComponent"],
    _maintenance_program_search_maintenance_program_search_component__WEBPACK_IMPORTED_MODULE_98__["MaintenanceProgramSearchComponent"],
    _maintenance_program_form_maintenance_program_form_component__WEBPACK_IMPORTED_MODULE_89__["MaintenanceProgramFormComponent"],
    _maintenance_program_updates_list_maintenance_program_updates_list_component__WEBPACK_IMPORTED_MODULE_100__["MaintenanceProgramUpdatesListComponent"],
    _family_search_family_search_component__WEBPACK_IMPORTED_MODULE_77__["FamilySearchComponent"],
    _family_form_family_form_component__WEBPACK_IMPORTED_MODULE_73__["FamilyFormComponent"],
    _part_number_search_part_number_search_component__WEBPACK_IMPORTED_MODULE_112__["PartNumberSearchComponent"],
    _part_number_form_part_number_form_component__WEBPACK_IMPORTED_MODULE_108__["PartNumberFormComponent"],
    _functional_location_search_functional_location_search_component__WEBPACK_IMPORTED_MODULE_85__["FunctionalLocationSearchComponent"],
    _functional_location_form_functional_location_form_component__WEBPACK_IMPORTED_MODULE_79__["FunctionalLocationFormComponent"],
    _maintenance_program_search_change_record_form_change_record_form_component__WEBPACK_IMPORTED_MODULE_95__["ChangeRecordFormComponent"],
    _unit_conversion_matrix_search_unit_conversion_matrix_search_component__WEBPACK_IMPORTED_MODULE_130__["UnitConversionMatrixSearchComponent"],
    _unit_conversion_matrix_form_unit_conversion_matrix_form_component__WEBPACK_IMPORTED_MODULE_128__["UnitConversionMatrixFormComponent"],
    // Dont place your new DYNAMIC_COMPONENT after FamilyVariantPopupFormComponent and ModelPopupFormComponent which are popUp so with a different loader
    _functional_location_form_popups_family_variant_popup_form_component__WEBPACK_IMPORTED_MODULE_81__["FamilyVariantPopupFormComponent"],
    _functional_location_form_popups_model_popup_form_model_popup_form_component__WEBPACK_IMPORTED_MODULE_83__["ModelPopupFormComponent"]
];
var SERVICES = [
    _evolution_form_evolution_form_service__WEBPACK_IMPORTED_MODULE_53__["EvolutionFormService"],
    _evolution_search_evolution_search_service__WEBPACK_IMPORTED_MODULE_72__["EvolutionSearchService"],
    _visit_search_visit_search_service__WEBPACK_IMPORTED_MODULE_136__["VisitSearchService"],
    _visit_form_visit_form_service__WEBPACK_IMPORTED_MODULE_134__["VisitFormService"],
    _sbad_form_sbad_form_service__WEBPACK_IMPORTED_MODULE_123__["SbadFormService"],
    _sbad_form_sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_121__["SbadFormMhiaelService"],
    _sbad_form_popups_sb_ad_applicabilities_popup_sb_ad_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_116__["SbadApplicabilitiesPopupFormService"],
    _evolution_form_popups_sbad_popup_form_sbad_popup_form_service__WEBPACK_IMPORTED_MODULE_70__["SbadPopupFormService"],
    _evolution_form_popups_modifications_popup_form_modifications_popup_form_service__WEBPACK_IMPORTED_MODULE_68__["ModificationsPopupFormService"],
    _evolution_form_popups_applicabilities_popup_form_applicabilities_popup_form_service__WEBPACK_IMPORTED_MODULE_55__["ApplicabilitiesPopupFormService"],
    _evolution_form_popups_interdependences_popup_form_interdependences_popup_form_service__WEBPACK_IMPORTED_MODULE_66__["InterdependencesPopupFormService"],
    _evolution_form_popups_assets_popup_form_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_57__["AssetsPopupFormService"],
    _evolution_form_popups_impacts_evol_popup_form_impacts_evol_popup_form_service__WEBPACK_IMPORTED_MODULE_60__["ImpactsEvolPopupFormService"],
    _evolution_form_popups_impacts_item_popup_form_impacts_item_popup_form_service__WEBPACK_IMPORTED_MODULE_62__["ImpactsItemPopupFormService"],
    _evolution_form_popups_impacts_popup_form_impacts_popup_form_service__WEBPACK_IMPORTED_MODULE_64__["ImpactsPopupFormService"],
    _item_search_item_search_service__WEBPACK_IMPORTED_MODULE_87__["ItemSearchService"],
    _modification_search_modification_search_service__WEBPACK_IMPORTED_MODULE_107__["ModificationSearchService"],
    _modification_form_modification_form_service__WEBPACK_IMPORTED_MODULE_103__["ModificationFormService"],
    _modification_form_popups_modification_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_105__["ModificationAssetsPopupFormService"],
    _family_search_family_search_service__WEBPACK_IMPORTED_MODULE_78__["FamilySearchService"],
    _family_form_family_form_service__WEBPACK_IMPORTED_MODULE_74__["FamilyFormService"],
    _part_number_search_part_number_search_service__WEBPACK_IMPORTED_MODULE_113__["PartNumberSearchService"],
    _part_number_form_part_number_form_service__WEBPACK_IMPORTED_MODULE_109__["PartNumberFormService"],
    _functional_location_search_functional_location_search_service__WEBPACK_IMPORTED_MODULE_86__["FunctionalLocationSearchService"],
    _functional_location_form_functional_location_form_service__WEBPACK_IMPORTED_MODULE_80__["FunctionalLocationFormService"],
    _functional_location_form_popups_family_variant_popup_form_service__WEBPACK_IMPORTED_MODULE_82__["FamilyVariantPopupFormService"],
    _functional_location_form_popups_model_popup_form_model_popup_form_service__WEBPACK_IMPORTED_MODULE_84__["ModelPopupFormService"],
    _part_number_form_popups_ref_measurements_popup_form_service__WEBPACK_IMPORTED_MODULE_111__["ReferenceMeasurementsPopupFormService"],
    _maintenance_program_search_maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_99__["MaintenanceProgramSearchService"],
    _maintenance_program_form_maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_90__["MaintenanceProgramFormService"],
    _maintenance_program_form_maintenance_program_form_mhiael_service__WEBPACK_IMPORTED_MODULE_88__["MaintenanceProgramFormMhiaelService"],
    _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_50__["AirworthinessDocumentSearchService"],
    _sbad_form_popups_sb_ad_limits_periodicities_popup_sb_ad_limits_periodicities_popup_form_service__WEBPACK_IMPORTED_MODULE_120__["SbAdLimitsPeriodicitiesPopupFormService"],
    _maintenance_program_updates_list_maintenance_program_updates_list_service__WEBPACK_IMPORTED_MODULE_101__["MaintenanceProgramUpdatesListService"],
    _maintenance_program_search_change_record_form_change_record_form_service__WEBPACK_IMPORTED_MODULE_96__["ChangeRecordFormService"],
    _unit_conversion_matrix_unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_131__["UnitConversionMatrixService"],
    _shared_api_unit_matrix_conversion_api__WEBPACK_IMPORTED_MODULE_21__["UnitConversionMatrixApi"],
    _unit_conversion_matrix_form_cm_applicabilities_popup_cm_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_126__["ConversionMatrixApplicabilitiesPopupFormService"]
];
var INTERNAL_MODULES = [_shared_components_table_table_module__WEBPACK_IMPORTED_MODULE_42__["TableModule"], _dea_dia_dialog_bire_document_dialog_bire_doc_pug_module__WEBPACK_IMPORTED_MODULE_51__["DialogBireDocPugModule"]];
var EngineeringManagamentModule = /** @class */ (function () {
    function EngineeringManagamentModule() {
    }
    EngineeringManagamentModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: __spread(COMPONENTS, DYNAMIC_COMPONENTS),
            imports: __spread([
                _shared_angular_common_shared_module__WEBPACK_IMPORTED_MODULE_19__["AngularCommonSharedModule"],
                _shared_angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_20__["AngularGenericTemplatesSharedModule"],
                _shared_app_common_shared_module__WEBPACK_IMPORTED_MODULE_22__["AppCommonSharedModule"],
                _shared_components_modal_modal_module__WEBPACK_IMPORTED_MODULE_40__["ModalModule"],
                _shared_components_ata_code_input_ata_code_input_module__WEBPACK_IMPORTED_MODULE_23__["AtaCodeInputModule"],
                _shared_components_component_sidebar_component_sidebar_mdule__WEBPACK_IMPORTED_MODULE_24__["ComponentSidebarModule"],
                _shared_components_dialog_bire_document_dialog_bire_document_module__WEBPACK_IMPORTED_MODULE_25__["DialogBireDocumentModule"],
                _shared_components_dialog_search_item_dialog_search_item_module__WEBPACK_IMPORTED_MODULE_29__["DialogSearchItemModule"],
                _shared_components_dialog_search_model_dialog_search_model_module__WEBPACK_IMPORTED_MODULE_30__["DialogSearchModelModule"],
                _shared_components_dialog_search_part_dialog_search_part_module__WEBPACK_IMPORTED_MODULE_31__["DialogSearchPartModule"],
                _shared_components_dialog_search_qualification_dialog_search_qualification_module__WEBPACK_IMPORTED_MODULE_32__["DialogSearchQualificationModule"],
                _shared_components_dialog_search_task_dialog_search_task_module__WEBPACK_IMPORTED_MODULE_34__["DialogSearchTaskModule"],
                _shared_components_dialog_search_evolution_dialog_search_evolution_module__WEBPACK_IMPORTED_MODULE_27__["DialogSearchEvolutionModule"],
                _shared_components_dialog_search_functional_location_dialog_search_functional_location_module__WEBPACK_IMPORTED_MODULE_28__["DialogSearchFunctionalLocationModule"],
                _shared_components_dialog_status_dialog_status_module__WEBPACK_IMPORTED_MODULE_35__["DialogStatusModule"],
                _sbad_form_popups_dialog_search_maintenance_program_dialog_search_maintenance_program_module__WEBPACK_IMPORTED_MODULE_114__["DialogSearchMaintenanceProgramModule"],
                _shared_components_manage_search_criteria_manage_search_criteria_module__WEBPACK_IMPORTED_MODULE_39__["ManageSearchCriteriaModule"],
                _shared_components_dialog_table_dialog_table_module__WEBPACK_IMPORTED_MODULE_36__["DialogTableModule"],
                _shared_components_dialog_search_sbad_dialog_search_sbad_module__WEBPACK_IMPORTED_MODULE_33__["DialogSearchSbAdModule"],
                _shared_components_dynamic_attributes_history_dynamic_attributes_history_module__WEBPACK_IMPORTED_MODULE_37__["DynamicAttributesHistoryModule"],
                _shared_components_dynamic_attributes_dynamic_attributes_module__WEBPACK_IMPORTED_MODULE_38__["DynamicAttributesModule"],
                _shared_components_status_update_history_status_update_history_module__WEBPACK_IMPORTED_MODULE_41__["StatusUpdateHistoryModule"],
                _shared_components_dialog_generate_comment_dialog_generate_comment_module__WEBPACK_IMPORTED_MODULE_26__["DialogGenerateCommentModule"],
                _shared_components_table_table_module__WEBPACK_IMPORTED_MODULE_42__["TableModule"],
                _logistics_procurement_request_search_procurement_request_popup_procurement_request_popup_module__WEBPACK_IMPORTED_MODULE_44__["ProcurementRequestPopupModule"],
                _logistics_transfer_order_search_transfer_order_popup_transfer_order_popup_module__WEBPACK_IMPORTED_MODULE_45__["TransferOrderPopupModule"],
                _dynamic_component_loader_dynamic_component_loader_module__WEBPACK_IMPORTED_MODULE_43__["DynamicComponentLoaderModule"].forChild(DYNAMIC_COMPONENTS)
            ], PRIMENG_MODULES, INTERNAL_MODULES),
            providers: __spread(SERVICES, [_angular_common__WEBPACK_IMPORTED_MODULE_0__["DatePipe"]])
        })
    ], EngineeringManagamentModule);
    return EngineeringManagamentModule;
}());



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/evolution-form.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/evolution-form.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\" *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\">\r\n          - {{ subtitle }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"object-status\" *ngIf=\"evolution.statusState\" (click)=\"showStatus()\">\r\n      {{ evolution.statusState | formatSelectOption: propertyStatus }}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button *ngIf=\"isReadOpenMode && hasUpdateAccessRight\" type=\"button\" mat-raised-button (click)=\"edit()\">\r\n      {{ \"global.edit\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"warn\"\r\n      (click)=\"refresh()\"\r\n    >\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      class=\"btn-with-spinner\"\r\n      color=\"primary\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"saveEvolutionData()\"\r\n    >\r\n      <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n      {{ \"global.save\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button\r\n        mat-menu-item\r\n        *ngIf=\"!isReadOpenMode && evolution.evolutionNumber != null\"\r\n        (click)=\"confirmUpgradeEvolution()\"\r\n      >\r\n        {{ \"global.upgrade\" | translate }}\r\n      </button>\r\n\r\n      <button mat-menu-item *ngIf=\"!isCreateOpenMode\" (click)=\"openStatusUpdatesPopup()\">\r\n        {{ \"updates\" | translate }}\r\n      </button>\r\n\r\n      <button mat-menu-item *ngIf=\"isReadOpenMode && !isCreateOpenMode\" (click)=\"refresh()\">\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n\r\n      <button mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-content\">\r\n    <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n      <!-- Home -->\r\n      <mat-tab>\r\n        <ng-template mat-tab-label>\r\n          {{ \"home\" | translate }}\r\n        </ng-template>\r\n\r\n        <!-- Main data -->\r\n        <div class=\"grid-row\">\r\n          <div #mainInfoAnchor class=\"grid-cell--4\" (click)=\"selectPageTocEntry('mainInfoAnchor')\">\r\n            <div\r\n              class=\"grid-cell grid-cell--container\"\r\n              [ngClass]=\"{ active: isPageTocEntrySelected('mainInfoAnchor') }\"\r\n            >\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">{{ \"page.mainData\" | translate }}</h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"grid-cell-content\">\r\n                <div class=\"column\">\r\n                  <div class=\"row\">\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group flex--2\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".evolutionNumber\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"evolution.evolutionNumber\"\r\n                            maxlength=\"100\"\r\n                            [disabled]=\"isReadOpenMode || !isEditable\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group flex--2\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".evolutionRevisionNumber\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"evolution.evolutionRevisionNumber\"\r\n                            maxlength=\"10\"\r\n                            [disabled]=\"isReadOpenMode || !isEditable\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group flex--2\">\r\n                        <label class=\"form-label\">{{ \"global.comments\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"3\"\r\n                            [(ngModel)]=\"evolution.evolutionSummary\"\r\n                            pInputTextarea\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            maxlength=\"300\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group flex--2\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".evolutionType\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertyType\"\r\n                            [(ngModel)]=\"evolution.evolutionType\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group flex--2\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".evolutionCompliance\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertyCompliance\"\r\n                            [(ngModel)]=\"evolution.evolutionCompliance\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <!--Ex-Additional Information-->\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".evolutionLevel\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertyLevel\"\r\n                            [(ngModel)]=\"evolution.evolutionLevel\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".tracked\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-checkbox\r\n                            class=\"aw-checkbox\"\r\n                            binary=\"true\"\r\n                            [(ngModel)]=\"evolution.tracked\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-checkbox>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"vertical\" class=\"grid-cell--8 column-cell\">\r\n            <!-- Airworthiness Documents associated with Evolution -->\r\n            <div #airworthiDocAnchor class=\"grid-cell--12\" (click)=\"selectPageTocEntry('airworthiDocAnchor')\">\r\n              <div\r\n                class=\"grid-cell grid-cell--container\"\r\n                [ngClass]=\"{ active: isPageTocEntrySelected('airworthiDocAnchor') }\"\r\n              >\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".sbadAssociated\" | translate }} ({{\r\n                        bireSbadDisplayed ? bireSbadDisplayed.length : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n                <p-table\r\n                  [resizableColumns]=\"true\"\r\n                  #ptableSbad\r\n                  class=\"aw-table2\"\r\n                  [columns]=\"evolutionTableCols\"\r\n                  [value]=\"bireSbadDisplayed\"\r\n                  [(selection)]=\"selectedEvolutions\"\r\n                  [scrollable]=\"true\"\r\n                >\r\n                  <ng-template pTemplate=\"emptymessage\">\r\n                    <span *ngIf=\"!isLoadingSbadTable\"> &nbsp;</span>\r\n\r\n                    <div *ngIf=\"isLoadingSbadTable\" class=\"aw-table-loading-indicator\">\r\n                      <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                      <div class=\"lds-hourglass\"></div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"caption\">\r\n                    <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedEvolutions.length > 0 }\">\r\n                      <div class=\"aw-table-global-filter\">\r\n                        <label class=\"aw-table-global-filter-label\">\r\n                          <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                        </label>\r\n\r\n                        <input\r\n                          #ptableSbadGlobalFilter\r\n                          class=\"aw-table-global-filter-input\"\r\n                          type=\"text\"\r\n                          placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                          (input)=\"ptableSbad.filterGlobal($event.target.value, 'contains')\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div class=\"aw-table-actions\">\r\n                        <button\r\n                          *ngIf=\"!isReadOpenMode && selectedEvolutions.length > 0\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          color=\"warn\"\r\n                          (click)=\"confirmDeleteSbad()\"\r\n                        >\r\n                          {{ \"global.delete\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          *ngIf=\"selectedEvolutions.length === 1\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"openSbad()\"\r\n                        >\r\n                          {{ \"global.open\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          *ngIf=\"!isReadOpenMode && selectedEvolutions.length === 0\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"createSbad()\"\r\n                        >\r\n                          {{ \"global.add\" | translate }}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"colgroup\" let-columns>\r\n                    <colgroup>\r\n                      <col class=\"aw-table-checkbox-wrapper\" />\r\n                      <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                    </colgroup>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"header\" let-columns>\r\n                    <tr>\r\n                      <th class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                      </th>\r\n\r\n                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                        {{ componentData.componentId + \".\" + col.field | translate }}\r\n                      </th>\r\n                    </tr>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                    <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                      <td class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                      </td>\r\n\r\n                      <td\r\n                        *ngFor=\"let col of columns\"\r\n                        [ngSwitch]=\"col.field\"\r\n                        [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                      >\r\n                        <a *ngSwitchCase=\"'sbNumber'\" (click)=\"openRevisionNumber(rowData)\">{{ rowData[col.field] }}</a>\r\n                        <i\r\n                          *ngSwitchCase=\"'statusInfo'\"\r\n                          class=\"fa fa-fw fa-info-circle aw-icon\"\r\n                          aria-hidden=\"true\"\r\n                          (click)=\"openStatusPopupSbad(rowData)\"\r\n                        ></i>\r\n\r\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                </p-table>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Modifications associated with Evolution -->\r\n            <div #airworthiDocAnchor class=\"grid-cell--12\" (click)=\"selectPageTocEntry('airworthiDocAnchor')\">\r\n              <div\r\n                class=\"grid-cell grid-cell--container\"\r\n                [ngClass]=\"{ active: isPageTocEntrySelected('airworthiDocAnchor') }\"\r\n              >\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".modificationAssociated\" | translate }} ({{\r\n                        bireModificationDisplayed ? bireModificationDisplayed.length : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n                <p-table\r\n                  [resizableColumns]=\"true\"\r\n                  #ptableModification\r\n                  class=\"aw-table2\"\r\n                  [columns]=\"modificationsTableCols\"\r\n                  [value]=\"bireModificationDisplayed\"\r\n                  [(selection)]=\"selectedModifications\"\r\n                  [scrollable]=\"true\"\r\n                >\r\n                  <ng-template pTemplate=\"emptymessage\">\r\n                    <span *ngIf=\"!isLoadingModificationTable\"> &nbsp;</span>\r\n\r\n                    <div *ngIf=\"isLoadingModificationTable\" class=\"aw-table-loading-indicator\">\r\n                      <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                      <div class=\"lds-hourglass\"></div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"caption\">\r\n                    <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedModifications.length > 0 }\">\r\n                      <div class=\"aw-table-global-filter\">\r\n                        <label class=\"aw-table-global-filter-label\">\r\n                          <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                        </label>\r\n\r\n                        <input\r\n                          #ptableModificationGlobalFilter\r\n                          class=\"aw-table-global-filter-input\"\r\n                          type=\"text\"\r\n                          placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                          (input)=\"ptableModification.filterGlobal($event.target.value, 'contains')\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div class=\"aw-table-actions\">\r\n                        <button\r\n                          *ngIf=\"!isReadOpenMode && selectedModifications.length > 0\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          color=\"warn\"\r\n                          (click)=\"confirmDeleteModification()\"\r\n                        >\r\n                          {{ \"global.delete\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          *ngIf=\"selectedModifications.length === 1\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"openModification()\"\r\n                        >\r\n                          {{ \"global.open\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          *ngIf=\"!isReadOpenMode && selectedModifications.length === 0\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"createModification()\"\r\n                        >\r\n                          {{ \"global.add\" | translate }}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"colgroup\" let-columns>\r\n                    <colgroup>\r\n                      <col class=\"aw-table-checkbox-wrapper\" />\r\n                      <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                    </colgroup>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"header\" let-columns>\r\n                    <tr>\r\n                      <th class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                      </th>\r\n\r\n                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                        {{ componentData.componentId + \".\" + col.field | translate }}\r\n                      </th>\r\n                    </tr>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                    <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                      <td class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                      </td>\r\n\r\n                      <td\r\n                        *ngFor=\"let col of columns\"\r\n                        [ngSwitch]=\"col.field\"\r\n                        [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                      >\r\n                        <a *ngSwitchCase=\"'modificationNumber'\" (click)=\"openModificationNumber(rowData)\">{{\r\n                          rowData[col.field]\r\n                        }}</a>\r\n                        <i\r\n                          *ngSwitchCase=\"'statusInfo'\"\r\n                          class=\"fa fa-fw fa-info-circle aw-icon\"\r\n                          aria-hidden=\"true\"\r\n                          (click)=\"openStatusPopupModification(rowData)\"\r\n                        ></i>\r\n\r\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                </p-table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- Applicability -->\r\n      <mat-tab>\r\n        <ng-template mat-tab-label>\r\n          {{ \"global.applicabilities\" | translate }}\r\n        </ng-template>\r\n\r\n        <!-- Concerned Families OR Applicabilities associated with Evolution -->\r\n        <div class=\"grid-row\">\r\n          <div #applicabilityAnchor class=\"grid-cell--equally\" (click)=\"selectPageTocEntry('applicabilityAnchor')\">\r\n            <div\r\n              class=\"grid-cell grid-cell--container\"\r\n              [ngClass]=\"{ active: isPageTocEntrySelected('applicabilityAnchor') }\"\r\n            >\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ componentData.componentId + \".concernedFamilies\" | translate }} ({{\r\n                      bireApplicabilityDisplayed ? bireApplicabilityDisplayed.length : 0\r\n                    }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"section\">\r\n                <div class=\"section-content\">\r\n                  <p-table\r\n                    [resizableColumns]=\"true\"\r\n                    #ptableApplicability\r\n                    class=\"aw-table2\"\r\n                    [columns]=\"applicabilitiesTableCols\"\r\n                    [value]=\"bireApplicabilityDisplayed\"\r\n                    [(selection)]=\"selectedApplicabilities\"\r\n                    [scrollable]=\"true\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoadingApplicabilityTable\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoadingApplicabilityTable\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedApplicabilities.length > 0 }\">\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptableApplicabilityGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"ptableApplicability.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedApplicabilities.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            color=\"warn\"\r\n                            (click)=\"confirmDeleteApplicability()\"\r\n                          >\r\n                            {{ \"global.delete\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"selectedApplicabilities.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openStatusPopupApplicability()\"\r\n                          >\r\n                            {{ componentData.componentId + \".displayStatus\" | translate }}\r\n                          </button>\r\n\r\n                          <!-- <button\r\n                            *ngIf=\"!isReadOpenMode && selectedApplicabilities.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"editApplicability()\"\r\n                          >\r\n                            {{ \"global.edit\" | translate }}\r\n                          </button> -->\r\n\r\n                          <button\r\n                            *ngIf=\"selectedApplicabilities.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openApplicability()\"\r\n                          >\r\n                            {{ \"global.open\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedApplicabilities.length === 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"createApplicability()\"\r\n                          >\r\n                            {{ \"global.add\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                      <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                        </td>\r\n\r\n                        <td\r\n                          *ngFor=\"let col of columns\"\r\n                          [ngSwitch]=\"col.field\"\r\n                          [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                        >\r\n                          <span *ngSwitchCase=\"'variantStructureTypeFamily'\">\r\n                            {{ rowData.familyCode + \"-\" + rowData.structureType + \"-\" + rowData.variantCode }}\r\n                          </span>\r\n\r\n                          <span *ngSwitchCase=\"'evolutionApplicabilityDate'\">\r\n                            {{ rowData[col.field] | date: \"shortDate\":\"\":translateService.currentLang }}\r\n                          </span>\r\n\r\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                        </td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Concerned Assets OR Assets Concerned by the Evolution -->\r\n          <div #applicabilityAnchor class=\"grid-cell--equally\" (click)=\"selectPageTocEntry('applicabilityAnchor')\">\r\n            <div\r\n              class=\"grid-cell grid-cell--container\"\r\n              [ngClass]=\"{ active: isPageTocEntrySelected('applicabilityAnchor') }\"\r\n            >\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ componentData.componentId + \".concernedAssets\" | translate }} ({{\r\n                      bireConcernedAssetDisplayed ? bireConcernedAssetDisplayed.length : 0\r\n                    }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"section\">\r\n                <div class=\"section-content\">\r\n                  <p-table\r\n                    [resizableColumns]=\"true\"\r\n                    #ptableAsset\r\n                    class=\"aw-table2\"\r\n                    [columns]=\"assetsTableCols\"\r\n                    [value]=\"bireConcernedAssetDisplayed\"\r\n                    [(selection)]=\"selectedAssets\"\r\n                    [scrollable]=\"true\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoadingAssetTable\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoadingAssetTable\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedAssets.length > 0 }\">\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptableAssetGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"ptableAsset.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedAssets.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            color=\"warn\"\r\n                            (click)=\"confirmDeleteAsset()\"\r\n                          >\r\n                            {{ \"global.delete\" | translate }}\r\n                          </button>\r\n\r\n                          <!-- <button\r\n                            *ngIf=\"!isReadOpenMode && selectedAssets.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"editAsset()\"\r\n                          >\r\n                            {{ \"global.edit\" | translate }}\r\n                          </button> -->\r\n\r\n                          <button\r\n                            *ngIf=\"selectedAssets.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openAsset()\"\r\n                          >\r\n                            {{ \"global.open\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedAssets.length === 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"createAsset()\"\r\n                          >\r\n                            {{ \"global.add\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                      <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                        </td>\r\n\r\n                        <td *ngFor=\"let col of columns\">{{ rowData[col.field] }}</td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Interdependances associated with Evolution -->\r\n        <div class=\"grid-row\">\r\n          <div #applicabilityAnchor class=\"grid-cell--12\" (click)=\"selectPageTocEntry('applicabilityAnchor')\">\r\n            <div\r\n              class=\"grid-cell grid-cell--container\"\r\n              [ngClass]=\"{ active: isPageTocEntrySelected('applicabilityAnchor') }\"\r\n            >\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ componentData.componentId + \".interdependencesAssociated\" | translate }} ({{\r\n                      bireInterdependenceDisplayed ? bireInterdependenceDisplayed.length : 0\r\n                    }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                <div class=\"section\">\r\n                  <div class=\"section-content\">\r\n                    <p-table\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableInterdependence\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"interdependencesTableCols\"\r\n                      [value]=\"bireInterdependenceDisplayed\"\r\n                      [(selection)]=\"selectedInterdependences\"\r\n                      [scrollable]=\"true\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingInterdependenceTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingInterdependenceTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div\r\n                          class=\"aw-table-header\"\r\n                          [ngClass]=\"{ 'rows-selected': selectedInterdependences.length > 0 }\"\r\n                        >\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptableInterdependenceGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"ptableInterdependence.filterGlobal($event.target.value, 'contains')\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <button\r\n                              *ngIf=\"!isReadOpenMode && selectedInterdependences.length > 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              color=\"warn\"\r\n                              (click)=\"confirmDeleteInterdependence()\"\r\n                            >\r\n                              {{ \"global.delete\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              *ngIf=\"selectedInterdependences.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"openStatusPopupInterdependence()\"\r\n                            >\r\n                              {{ componentData.componentId + \".displayStatus\" | translate }}\r\n                            </button>\r\n\r\n                            <!-- <button\r\n                              *ngIf=\"!isReadOpenMode && selectedInterdependences.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"editInterdependence()\"\r\n                            >\r\n                              {{ \"global.edit\" | translate }}\r\n                            </button> -->\r\n\r\n                            <button\r\n                              *ngIf=\"selectedInterdependences.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"openInterdependence()\"\r\n                            >\r\n                              {{ \"global.open\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              *ngIf=\"!isReadOpenMode && selectedInterdependences.length === 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"createInterdependence()\"\r\n                            >\r\n                              {{ \"global.add\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td\r\n                            *ngFor=\"let col of columns\"\r\n                            [ngSwitch]=\"col.field\"\r\n                            [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                          >\r\n                            <a *ngSwitchCase=\"'evoEvolutionNumber'\" (click)=\"openEvolutionNumber(rowData)\">{{\r\n                              rowData[col.field]\r\n                            }}</a>\r\n                            <span *ngSwitchCase=\"'variantCode'\">\r\n                              {{ rowData.familyCode }}-{{ rowData.structureType }}-{{ rowData.variantCode }}\r\n                            </span>\r\n                            <span *ngSwitchCase=\"'way'\">\r\n                              <i\r\n                                *ngIf=\"arrowOrientation.get(rowData)\"\r\n                                class=\"fa fa-fw fa-chevron-right aw-icon\"\r\n                                aria-hidden=\"true\"\r\n                              ></i>\r\n                              <i\r\n                                *ngIf=\"!arrowOrientation.get(rowData)\"\r\n                                class=\"fa fa-fw fa-chevron-left aw-icon\"\r\n                                aria-hidden=\"true\"\r\n                              ></i>\r\n                            </span>\r\n\r\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- Impact -->\r\n      <mat-tab>\r\n        <ng-template mat-tab-label>\r\n          {{ \"global.impacts\" | translate }}\r\n        </ng-template>\r\n\r\n        <!-- Associated Impacts on P N Evolution -->\r\n        <div class=\"grid-row\">\r\n          <div #impactAnchor class=\"grid-cell--12\" (click)=\"selectPageTocEntry('impactAnchor')\">\r\n            <div class=\"grid-cell grid-cell--container\" [ngClass]=\"{ active: isPageTocEntrySelected('impactAnchor') }\">\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ componentData.componentId + \".impactsAssociatedOnEvolution\" | translate }} ({{\r\n                      bireImpactEvolDisplayed ? bireImpactEvolDisplayed.length : 0\r\n                    }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                <div class=\"section\">\r\n                  <div class=\"section-content\">\r\n                    <p-table\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableImpactEvol\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"impactsEvolTableCols\"\r\n                      [value]=\"bireImpactEvolDisplayed\"\r\n                      [(selection)]=\"selectedImpactsEvol\"\r\n                      [scrollable]=\"true\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingImpactEvolTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingImpactEvolTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedImpactsEvol.length > 0 }\">\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptableImpactEvolGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"ptableImpactEvol.filterGlobal($event.target.value, 'contains')\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <!-- <button *ngIf=\"!isReadOpenMode && selectedImpactsEvol.length === 1\" type=\"button\" mat-raised-button\r\n                              (click)=\"duplicateImpactEvol()\">\r\n                              {{'global.duplicate' | translate}}\r\n                            </button> -->\r\n\r\n                            <button\r\n                              *ngIf=\"!isReadOpenMode && selectedImpactsEvol.length > 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              color=\"warn\"\r\n                              (click)=\"confirmDeleteImpactEvol()\"\r\n                            >\r\n                              {{ \"global.delete\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              *ngIf=\"selectedImpactsEvol.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"openStatusPopupImpactEvol()\"\r\n                            >\r\n                              {{ componentData.componentId + \".displayStatus\" | translate }}\r\n                            </button>\r\n\r\n                            <!-- <button\r\n                              *ngIf=\"!isReadOpenMode && selectedImpactsEvol.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"editImpactEvol()\"\r\n                            >\r\n                              {{ \"global.edit\" | translate }}\r\n                            </button> -->\r\n\r\n                            <button\r\n                              *ngIf=\"selectedImpactsEvol.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"openImpactEvol()\"\r\n                            >\r\n                              {{ \"global.open\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              *ngIf=\"!isReadOpenMode && selectedImpactsEvol.length === 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"createImpactEvol()\"\r\n                            >\r\n                              {{ \"global.add\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td\r\n                            *ngFor=\"let col of columns\"\r\n                            [ngSwitch]=\"col.field\"\r\n                            [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                          >\r\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Associated Impacts on P N  -->\r\n        <div class=\"grid-row\">\r\n          <div #impactAnchor class=\"grid-cell--12\" (click)=\"selectPageTocEntry('impactAnchor')\">\r\n            <div class=\"grid-cell grid-cell--container\" [ngClass]=\"{ active: isPageTocEntrySelected('impactAnchor') }\">\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ componentData.componentId + \".impactsAssociated\" | translate }} ({{\r\n                      bireImpactDisplayed ? bireImpactDisplayed.length : 0\r\n                    }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"section\">\r\n                <div class=\"section-content\">\r\n                  <p-table\r\n                    [resizableColumns]=\"true\"\r\n                    #ptableImpact\r\n                    class=\"aw-table2\"\r\n                    [columns]=\"impactsTableCols\"\r\n                    [value]=\"bireImpactDisplayed\"\r\n                    [(selection)]=\"selectedImpacts\"\r\n                    [scrollable]=\"true\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoadingImpactTable\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoadingImpactTable\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedImpacts.length > 0 }\">\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptableImpactGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"ptableImpact.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedImpacts.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            color=\"warn\"\r\n                            (click)=\"confirmDeleteImpact()\"\r\n                          >\r\n                            {{ \"global.delete\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"selectedImpacts.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openStatusPopupImpact()\"\r\n                          >\r\n                            {{ componentData.componentId + \".displayStatus\" | translate }}\r\n                          </button>\r\n\r\n                          <!-- <button\r\n                            *ngIf=\"!isReadOpenMode && selectedImpacts.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"editImpact()\"\r\n                          >\r\n                            {{ \"global.edit\" | translate }}\r\n                          </button> -->\r\n\r\n                          <button\r\n                            *ngIf=\"selectedImpacts.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openImpact()\"\r\n                          >\r\n                            {{ \"global.open\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedImpacts.length === 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"createImpact()\"\r\n                          >\r\n                            {{ \"global.add\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                      <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                        </td>\r\n\r\n                        <td\r\n                          *ngFor=\"let col of columns\"\r\n                          [ngSwitch]=\"col.field\"\r\n                          [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                        >\r\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                        </td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Associated Impacts on Item -->\r\n        <div class=\"grid-row\">\r\n          <div #impactAnchor class=\"grid-cell--12\" (click)=\"selectPageTocEntry('impactAnchor')\">\r\n            <div class=\"grid-cell grid-cell--container\" [ngClass]=\"{ active: isPageTocEntrySelected('impactAnchor') }\">\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ componentData.componentId + \".impactsAssociatedItem\" | translate }} ({{\r\n                      bireImpactItemDisplayed ? bireImpactItemDisplayed.length : 0\r\n                    }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"section\">\r\n                <div class=\"section-content\">\r\n                  <p-table\r\n                    [resizableColumns]=\"true\"\r\n                    #ptableImpactItem\r\n                    class=\"aw-table2\"\r\n                    [columns]=\"impactsItemTableCols\"\r\n                    [value]=\"bireImpactItemDisplayed\"\r\n                    [(selection)]=\"selectedImpactsItem\"\r\n                    [scrollable]=\"true\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoadingImpactItemTable\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoadingImpactItemTable\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedImpactsItem.length > 0 }\">\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptableImpactItemGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"ptableImpactItem.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedImpactsItem.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            color=\"warn\"\r\n                            (click)=\"confirmDeleteImpactItem()\"\r\n                          >\r\n                            {{ \"global.delete\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"selectedImpactsItem.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openStatusPopupImpactItem()\"\r\n                          >\r\n                            {{ componentData.componentId + \".displayStatus\" | translate }}\r\n                          </button>\r\n\r\n                          <!-- <button\r\n                            *ngIf=\"!isReadOpenMode && selectedImpactsItem.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"editImpactItem()\"\r\n                          >\r\n                            {{ \"global.edit\" | translate }}\r\n                          </button> -->\r\n\r\n                          <button\r\n                            *ngIf=\"selectedImpactsItem.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openImpactItem()\"\r\n                          >\r\n                            {{ \"global.open\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedImpactsItem.length === 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"createImpactItem()\"\r\n                          >\r\n                            {{ \"global.add\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                      <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                        </td>\r\n\r\n                        <td\r\n                          *ngFor=\"let col of columns\"\r\n                          [ngSwitch]=\"col.field\"\r\n                          [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                        >\r\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                        </td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- Tasks -->\r\n      <mat-tab>\r\n        <ng-template mat-tab-label>\r\n          {{ \"global.tasks\" | translate }}\r\n        </ng-template>\r\n\r\n        <div class=\"grid-row\">\r\n          <div #tasksAnchor class=\"grid-cell--12\" (click)=\"selectPageTocEntry('tasksAnchor')\">\r\n            <div class=\"grid-cell grid-cell--container\" [ngClass]=\"{ active: isPageTocEntrySelected('tasksAnchor') }\">\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ \"global.tasks\" | translate }} ({{ tasksTable ? tasksTable.length : 0 }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"grid-cell-content\">\r\n                <p-table\r\n                  [resizableColumns]=\"true\"\r\n                  #ptableTask\r\n                  class=\"aw-table2\"\r\n                  [columns]=\"tasksTableCols\"\r\n                  [value]=\"tasksTable\"\r\n                  [(selection)]=\"selectedTask\"\r\n                  [scrollable]=\"true\"\r\n                >\r\n                  <ng-template pTemplate=\"emptymessage\">\r\n                    <span *ngIf=\"!isLoadingTaskTable\"> &nbsp;</span>\r\n\r\n                    <div *ngIf=\"isLoadingTaskTable\" class=\"aw-table-loading-indicator\">\r\n                      <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                      <div class=\"lds-hourglass\"></div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"caption\">\r\n                    <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedTask.length > 0 }\">\r\n                      <div class=\"aw-table-global-filter\">\r\n                        <label class=\"aw-table-global-filter-label\">\r\n                          <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                        </label>\r\n\r\n                        <input\r\n                          #ptableTaskGlobalFilter\r\n                          class=\"aw-table-global-filter-input\"\r\n                          type=\"text\"\r\n                          placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                          (input)=\"ptableTask.filterGlobal($event.target.value, 'contains')\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"colgroup\" let-columns>\r\n                    <colgroup>\r\n                      <col class=\"aw-table-checkbox-wrapper\" />\r\n                      <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                    </colgroup>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"header\" let-columns>\r\n                    <tr>\r\n                      <th class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                      </th>\r\n\r\n                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                        {{ componentData.componentId + \".\" + col.field | translate }}\r\n                      </th>\r\n                    </tr>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                    <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                      <td class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                      </td>\r\n\r\n                      <td *ngFor=\"let col of columns\" [ngSwitch]=\"col.field\">\r\n                        <a *ngSwitchCase=\"'taskCode'\" (click)=\"openTaskCode(rowData)\">{{ rowData[col.field] }}</a>\r\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                </p-table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- Attributes -->\r\n      <mat-tab id=\"documentsTab\">\r\n        <ng-template mat-tab-label>\r\n          <ng-container *ngIf=\"dynamicAttributesForEvolution && dynamicAttributesForEvolution.length > 0\">\r\n            {{ \"attributes\" | translate }} &amp;\r\n          </ng-container>\r\n          {{ \"documents\" | translate }}\r\n        </ng-template>\r\n\r\n        <div *ngIf=\"dynamicAttributesForEvolution && dynamicAttributesForEvolution.length > 0\" class=\"grid-row\">\r\n          <div id=\"attributesPanel\" class=\"grid-cell--12\">\r\n            <div class=\"grid-cell grid-cell--container\">\r\n              <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                <aw-dynamic-attributes\r\n                  [attributes]=\"dynamicAttributesForEvolution\"\r\n                  [deleteApi]=\"productStructureHistoryApi.removeHBireEvolutionAttribute\"\r\n                  [history]=\"dynamicAttributesHistoric\"\r\n                  [showHistory]=\"true\"\r\n                  [isReadOpenMode]=\"isReadOpenMode\"\r\n                ></aw-dynamic-attributes>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"documents\" class=\"grid-row\">\r\n          <div id=\"documentsPanel\" class=\"grid-cell--12\">\r\n            <div class=\"grid-cell grid-cell--container\">\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 id=\"bireDocumentDisplayedTitle\" class=\"grid-cell-title\">\r\n                    {{ \"global.documents\" | translate }} ({{\r\n                      bireDocumentDisplayed ? bireDocumentDisplayed.length : 0\r\n                    }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"grid-cell-content\">\r\n                <p-table\r\n                  id=\"bireDocumentDisplayed\"\r\n                  [resizableColumns]=\"true\"\r\n                  #ptableDocuments\r\n                  class=\"aw-table2\"\r\n                  [columns]=\"documentsTableCols\"\r\n                  [value]=\"bireDocumentDisplayed\"\r\n                  [(selection)]=\"selectedDocuments\"\r\n                  dataKey=\"docName\"\r\n                  [scrollable]=\"true\"\r\n                >\r\n                  <ng-template pTemplate=\"caption\">\r\n                    <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedDocuments.length > 0 }\">\r\n                      <div class=\"aw-table-global-filter\">\r\n                        <label class=\"aw-table-global-filter-label\">\r\n                          <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                        </label>\r\n\r\n                        <input\r\n                          #ptableDocumentsGlobalFilter\r\n                          class=\"aw-table-global-filter-input\"\r\n                          type=\"text\"\r\n                          placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                          (input)=\"ptableDocuments.filterGlobal($event.target.value, 'contains')\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div class=\"aw-table-actions\">\r\n                        <button\r\n                          id=\"downloadBireDocumentDisplayed\"\r\n                          *ngIf=\"selectedDocuments.length > 0\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"downloadFiles()\"\r\n                        >\r\n                          {{ \"global.download\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          id=\"deleteBireDocumentDisplayed\"\r\n                          *ngIf=\"!isReadOpenMode && selectedDocuments.length > 0\"\r\n                          type=\"button\"\r\n                          color=\"warn\"\r\n                          mat-raised-button\r\n                          (click)=\"deleteSelectedDocuments()\"\r\n                        >\r\n                          {{ \"global.delete\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          id=\"editBireDocumentDisplayed\"\r\n                          *ngIf=\"!isReadOpenMode && selectedDocuments.length === 1\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"editDocument()\"\r\n                        >\r\n                          {{ \"global.edit\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          id=\"openBireDocumentDisplayed\"\r\n                          *ngIf=\"!isReadOpenMode && selectedDocuments.length === 1\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"openDocument()\"\r\n                        >\r\n                          {{ \"global.open\" | translate }}\r\n                        </button>\r\n\r\n                        <button\r\n                          id=\"addBireDocumentDisplayed\"\r\n                          *ngIf=\"!isReadOpenMode && selectedDocuments.length == 0\"\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          (click)=\"addDocuments()\"\r\n                        >\r\n                          {{ \"global.add\" | translate }}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"colgroup\" let-columns>\r\n                    <colgroup>\r\n                      <col class=\"aw-table-checkbox-wrapper\" />\r\n                      <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                    </colgroup>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"header\" let-columns>\r\n                    <tr>\r\n                      <th class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                      </th>\r\n\r\n                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                        {{ componentData.componentId + \".\" + col.field | translate }}\r\n                      </th>\r\n                    </tr>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                    <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                      <td class=\"aw-table-checkbox-wrapper\">\r\n                        <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                      </td>\r\n\r\n                      <td *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                        <span> {{ rowData[col.field] }} </span>\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                </p-table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n  </div>\r\n\r\n  <aw-sbad-popup-form\r\n    *ngIf=\"showSbadDialog\"\r\n    [(display)]=\"showSbadDialog\"\r\n    [component-data]=\"dataSb\"\r\n    [isReadOnlyForm]=\"isReadOnlySbadDialog\"\r\n    (onCreate)=\"addNewSbad($event)\"\r\n    (onUpdate)=\"updateSbad($event)\"\r\n    [isNewSbad]=\"isNewSbad\"\r\n  ></aw-sbad-popup-form>\r\n\r\n  <aw-modifications-popup-form\r\n    *ngIf=\"showModificationDialog\"\r\n    [(display)]=\"showModificationDialog\"\r\n    [component-data]=\"dataModif\"\r\n    [isReadOnlyForm]=\"isReadOnlyModificationDialog\"\r\n    (onCreate)=\"addNewModification($event)\"\r\n    (onUpdate)=\"updateModification($event)\"\r\n    [isNewModification]=\"isNewModification\"\r\n  ></aw-modifications-popup-form>\r\n\r\n  <aw-applicabilities-popup-form\r\n    *ngIf=\"showApplicabilitiesDialog\"\r\n    [(display)]=\"showApplicabilitiesDialog\"\r\n    [component-data]=\"dataAppli\"\r\n    [isReadOnlyForm]=\"isReadOnlyApplicabilityDialog\"\r\n    (onCreate)=\"addNewApplicability($event)\"\r\n    (onUpdate)=\"updateApplicability($event)\"\r\n    [isNewApplicability]=\"isNewApplicability\"\r\n  ></aw-applicabilities-popup-form>\r\n\r\n  <aw-assets-popup-form\r\n    *ngIf=\"showAssetDialog\"\r\n    [(display)]=\"showAssetDialog\"\r\n    [component-data]=\"dataAssets\"\r\n    [isReadOnlyForm]=\"isReadOnlyAssetDialog\"\r\n    (onCreate)=\"addNewAsset($event)\"\r\n    (onUpdate)=\"updateConcernedAsset($event)\"\r\n    [isNewAsset]=\"isNewAsset\"\r\n  ></aw-assets-popup-form>\r\n\r\n  <aw-interdependences-popup-form\r\n    *ngIf=\"showInterdependanceDialog\"\r\n    [(display)]=\"showInterdependanceDialog\"\r\n    [component-data]=\"dataInterdep\"\r\n    [isReadOnlyForm]=\"isReadOnlyInterdependenceDialog\"\r\n    (onCreate)=\"addNewInterdependence($event)\"\r\n    (onUpdate)=\"updateInterdependence($event)\"\r\n    [isNewInterdependence]=\"isNewInterdependence\"\r\n  ></aw-interdependences-popup-form>\r\n\r\n  <aw-impacts-evol-popup-form\r\n    *ngIf=\"showEvolDialog\"\r\n    [(display)]=\"showEvolDialog\"\r\n    [component-data]=\"dataImpactsEvol\"\r\n    [isReadOnlyForm]=\"isReadOnlyImpactEvolDialog\"\r\n    (onCreate)=\"addNewImpactEvol($event)\"\r\n    (onUpdate)=\"updateImpactEvol($event)\"\r\n    [isNewImpactsEvol]=\"isNewImpactEvol\"\r\n  ></aw-impacts-evol-popup-form>\r\n\r\n  <aw-impacts-popup-form\r\n    *ngIf=\"showImpactDialog\"\r\n    [(display)]=\"showImpactDialog\"\r\n    [component-data]=\"dataImpacts\"\r\n    [isReadOnlyForm]=\"isReadOnlyImpactDialog\"\r\n    (onCreate)=\"addNewImpact($event)\"\r\n    (onUpdate)=\"updateImpact($event)\"\r\n    [isNewImpacts]=\"isNewImpact\"\r\n  ></aw-impacts-popup-form>\r\n\r\n  <aw-impacts-item-popup-form\r\n    *ngIf=\"showItemDialog\"\r\n    [(display)]=\"showItemDialog\"\r\n    [component-data]=\"dataImpactsItem\"\r\n    [isReadOnlyForm]=\"isReadOnlyImpactItemDialog\"\r\n    (onCreate)=\"addNewImpactItem($event)\"\r\n    (onUpdate)=\"updateImpactItem($event)\"\r\n    [isNewImpactsItem]=\"isNewImpactItem\"\r\n  ></aw-impacts-item-popup-form>\r\n\r\n  <aw-evol-import-popup\r\n    *ngIf=\"showDocumentDialog\"\r\n    [document]=\"currentDocument\"\r\n    [(display)]=\"showDocumentDialog\"\r\n    [isReadOnlyForm]=\"isReadOnlyDocumentDialog\"\r\n    (onValidated)=\"updateDocument($event)\"\r\n  ></aw-evol-import-popup>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopupSb\"\r\n    [isObjectTypeOfBireSbDTO]=\"true\"\r\n    [item]=\"bireSb\"\r\n    [itemId]=\"bireSbId\"\r\n    [(display)]=\"displayStatusPopupSb\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopupModif\"\r\n    [item]=\"bireModif\"\r\n    [itemId]=\"bireModifId\"\r\n    [(display)]=\"displayStatusPopupModif\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopupAppli\"\r\n    [item]=\"bireAppli\"\r\n    [itemId]=\"bireAppliId\"\r\n    [(display)]=\"displayStatusPopupAppli\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopupInterdep\"\r\n    [item]=\"bireInterdep\"\r\n    [itemId]=\"bireInterdepId\"\r\n    [(display)]=\"displayStatusPopupInterdep\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopupImpact\"\r\n    [item]=\"bireImpact\"\r\n    [itemId]=\"bireImpactId\"\r\n    [(display)]=\"displayStatusPopupImpact\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopupImpactEvol\"\r\n    [item]=\"bireImpactEvol\"\r\n    [itemId]=\"bireImpactEvolId\"\r\n    [(display)]=\"displayStatusPopupImpactEvol\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopupImpactItem\"\r\n    [item]=\"bireImpactItem\"\r\n    [itemId]=\"bireImpactItemId\"\r\n    [(display)]=\"displayStatusPopupImpactItem\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-status-update-history\r\n    *ngIf=\"showStatusUpdatesPopup\"\r\n    [isObjectTypeOfBireEvolutionDTO]=\"true\"\r\n    [object]=\"evolution\"\r\n    [data]=\"tableStatusUpdatesData\"\r\n    [deleteApi]=\"deleteApi\"\r\n    [(display)]=\"showStatusUpdatesPopup\"\r\n    [keyMap]=\"updatesKeyMap\"\r\n  ></aw-status-update-history>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/evolution-form.component.scss":
/*!******************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/evolution-form.component.scss ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".alert-icon-yellow {\n  background-color: transparent;\n  color: #ff9800;\n  padding: 2px;\n  text-align: center; }\n  .alert-icon-yellow:hover {\n    background-color: #ff9800;\n    color: #fff;\n    border-radius: 5px; }\n  .grid-cell--8.column-cell {\n  padding-top: 0px !important;\n  padding-bottom: 0px !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2V2b2x1dGlvbi1mb3JtL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXGV2b2x1dGlvbi1mb3JtXFxldm9sdXRpb24tZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDZCQUE2QjtFQUM3QixjQUFjO0VBQ2QsWUFBWTtFQUNaLGtCQUFrQixFQUFBO0VBSnBCO0lBT0kseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxrQkFBa0IsRUFBQTtFQUl0QjtFQUNFLDJCQUEyQjtFQUMzQiw4QkFBOEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9ldm9sdXRpb24tZm9ybS9ldm9sdXRpb24tZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hbGVydC1pY29uLXllbGxvdyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgY29sb3I6ICNmZjk4MDA7XHJcbiAgcGFkZGluZzogMnB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY5ODAwO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgfVxyXG59XHJcblxyXG4uZ3JpZC1jZWxsLS04LmNvbHVtbi1jZWxsIHtcclxuICBwYWRkaW5nLXRvcDogMHB4ICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZy1ib3R0b206IDBweCAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/evolution-form.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/evolution-form.component.ts ***!
  \****************************************************************************************/
/*! exports provided: EvolutionFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvolutionFormComponent", function() { return EvolutionFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-history.api */ "./src/app/shared/api/product-structure-history.api.ts");
/* harmony import */ var _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/update-historic.api */ "./src/app/shared/api/update-historic.api.ts");
/* harmony import */ var _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/component-sidebar/page-toc.service */ "./src/app/shared/components/component-sidebar/page-toc.service.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/constants/bire-action-type-constants */ "./src/app/shared/constants/bire-action-type-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../shared/services/update-historic.service */ "./src/app/shared/services/update-historic.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
/* harmony import */ var _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../shared/utils/tab-object-id-utils */ "./src/app/shared/utils/tab-object-id-utils.ts");
/* harmony import */ var _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../object-status/object-status.component */ "./src/app/main/object-status/object-status.component.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _evolution_search_evolution_search_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../evolution-search/evolution-search.service */ "./src/app/main/engineering-management/evolution-search/evolution-search.service.ts");
/* harmony import */ var _evolution_form_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./evolution-form.service */ "./src/app/main/engineering-management/evolution-form/evolution-form.service.ts");
// TODO: clean code
// tslint:disable:no-string-literal
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};






























var EvolutionFormComponent = /** @class */ (function (_super) {
    __extends(EvolutionFormComponent, _super);
    function EvolutionFormComponent(favoriteService, loaderService, messageService, pageTocService, serializationService, tabService, productStructureHistoryApi, dateService, evolutionFormService, confirmationService, translateService, dynamicAttributesService, updateHistoricService, sessionService, updateHistoricApi, evolutionSearchService, propertiesService, _overlayService, _formatSelectOption) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService, pageTocService) || this;
        _this.productStructureHistoryApi = productStructureHistoryApi;
        _this.dateService = dateService;
        _this.evolutionFormService = evolutionFormService;
        _this.confirmationService = confirmationService;
        _this.translateService = translateService;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.updateHistoricService = updateHistoricService;
        _this.sessionService = sessionService;
        _this.updateHistoricApi = updateHistoricApi;
        _this.evolutionSearchService = evolutionSearchService;
        _this.propertiesService = propertiesService;
        _this._overlayService = _overlayService;
        _this._formatSelectOption = _formatSelectOption;
        _this.isCreateMode = true;
        _super.prototype.registerPageTocEntryObservable.call(_this);
        // For status/updates popup
        _this.showStatusUpdatesPopup = false;
        _this.deleteApi = _this.updateHistoricApi.removeBireEvolutionHistory;
        _this.updatesKeyMap = new Map();
        _this.tabModificationsId = 'modifications';
        _this.tabImpactsId = 'impacts';
        _this.tabGeneralId = 'general';
        _this.tabApplicabilitiesId = 'applicabilities';
        _this.tabTaskId = 'task';
        _this.attributeIdValueMap = new Map();
        _this.bireAttributesForEvolution = [];
        _this.dynamicAttributesForEvolution = [];
        _this.bireEvolutionAttributes = [];
        _this.opeAttributesTableCols = [];
        _this.showDynamicAttributesHistoric = false;
        _this.rightArrow = false;
        _this.displayStatusPopup = false;
        _this.bireDocumentDisplayed = [];
        _this.bireDocumentAddedList = [];
        _this.bireDocumentUpdatedList = [];
        _this.bireDocDeletedList = [];
        _this.selectedDocuments = [];
        _this.bireDocument = [];
        _this.getBireAttributesForEvolution();
        _this.selectedEvolutions = [];
        _this.selectedModifications = [];
        _this.selectedInterdependences = [];
        _this.selectedApplicabilities = [];
        _this.selectedTask = [];
        _this.tasksTable = [];
        _this.selectedAssets = [];
        _this.selectedImpactsEvol = [];
        _this.selectedImpacts = [];
        _this.selectedImpactsItem = [];
        _this.isEditable = false;
        _this.evolution = {};
        _this.currentTabId = _this.tabGeneralId;
        _this.evolutionTableFilteredRowsNb = 0;
        _this.modificationsTableFilteredRowsNb = 0;
        _this.interdependencesTableFilteredRowsNb = 0;
        _this.applicabilitiesTableFilteredRowsNb = 0;
        _this.assetsTableFilteredRowsNb = 0;
        _this.tasksTableFilteredRowsNb = 0;
        _this.impactsEvolTableFilteredRowsNb = 0;
        _this.impactsTableFilteredRowsNb = 0;
        _this.impactsItemTableFilteredRowsNb = 0;
        _this.familyVariantMap = new Map();
        _this.arrowOrientation = new Map();
        _this.bireSbadDisplayed = [];
        _this.bireConcernedAssetAddedList = [];
        _this.bireConcernedAssetDisplayed = [];
        _this.bireModificationDisplayed = [];
        _this.bireApplicabilityDisplayed = [];
        _this.bireInterdependenceDisplayed = [];
        _this.bireImpactDisplayed = [];
        _this.bireImpactItemDisplayed = [];
        _this.bireImpactEvolDisplayed = [];
        _this.instructions = [];
        // POPUP Show Boolean init
        _this.showApplicabilitiesDialog = false;
        _this.showAssetDialog = false;
        _this.showEvolDialog = false;
        _this.showItemDialog = false;
        _this.showImpactDialog = false;
        _this.showInterdependanceDialog = false;
        _this.showModificationDialog = false;
        _this.showSbadDialog = false;
        _this.selectedAnchor = undefined;
        _this.resultsTable = [];
        _this.initLists();
        _this.propertyActionType = [];
        _this.loadTablesHeader();
        _this.fillDropDown();
        _this.translateService.onLangChange.subscribe(function (_) {
            // Change the DropDownList content regarding the langage
            _this.fillDropDown();
        });
        return _this;
    }
    EvolutionFormComponent.prototype.getComponentName = function () {
        return 'EvolutionFormComponent';
    };
    EvolutionFormComponent.prototype.initLists = function () {
        var _this = this;
        this.bireSbadAddedList = [];
        this.bireSbadDeletedList = [];
        this.bireSbadUpdatedList = [];
        this.bireModificationAddedList = [];
        this.bireModificationDeletedList = [];
        this.bireModificationUpdatedList = [];
        this.bireApplicabilityAddedList = [];
        this.bireApplicabilityDeletedList = [];
        this.bireApplicabilityUpdatedList = [];
        this.bireInterdependenceAddedList = [];
        this.bireInterdependenceDeletedList = [];
        this.bireInterdependenceUpdatedList = [];
        this.bireImpactAddedList = [];
        this.bireImpactDeletedList = [];
        this.bireImpactUpdatedList = [];
        this.bireImpactItemAddedList = [];
        this.bireImpactItemDeletedList = [];
        this.bireImpactItemUpdatedList = [];
        this.bireImpactEvolAddedList = [];
        this.bireImpactEvolDeletedList = [];
        this.bireImpactEvolUpdatedList = [];
        // Lang change events
        this.translateService.onLangChange.subscribe(function (_) {
            // Reset the right attribute name regarding the langage
            _this.dynamicAttributesForEvolution = _this.dynamicAttributesService.from(_this.bireAttributesForEvolution);
        });
    };
    EvolutionFormComponent.prototype.ngOnInit = function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        if (this.componentData) {
            var context_1 = '';
            this.updateOpenMode(this.componentData.openMode);
            if (this.componentData.objectId &&
                this.componentData.objectId !== 'null' &&
                this.componentData.objectId.length > 0) {
                this.isEditable = false;
                var evolutionId = {};
                if (this.componentData.objectId.indexOf(';') !== -1) {
                    evolutionId = {
                        evolutionNumber: this.componentData.objectId.split(';')[0],
                        evolutionRevisionNumber: this.componentData.objectId.split(';')[1]
                    };
                    this.componentData.objectId = this.serializationService.serialize(evolutionId);
                }
                var tempContext = _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_25__["TabObjectIdUtils"].bireEvolutionDTOIdToString(this.serializationService.deserialize(this.componentData.objectId)).split('|');
                tempContext.forEach(function (element) {
                    context_1 += element + _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_25__["TabObjectIdUtils"].CONTEXT_SEPARATOR;
                });
                context_1 = context_1.substring(0, context_1.length - 1);
                this.subtitle = context_1;
                this.displayComponentContext(context_1, this.isCreateOpenMode);
                this.loadEvolution();
            }
            else {
                this.isEditable = true;
            }
            this.evolutionList();
        }
        var mainDataKey = 'page.mainData';
        var impactKey = 'global.impacts';
        var generalKey = 'global.general';
        var airworthiDocKey = 'global.sbadMod';
        var applicabilityKey = 'global.applicabilities';
        var tasksKey = 'global.tasks';
        this.translateService
            .get([mainDataKey, impactKey, generalKey, airworthiDocKey, applicabilityKey, tasksKey])
            .subscribe(function (results) {
            var mainDataLabel = !!results ? results[mainDataKey] : 'Main data';
            var impactLabel = !!results ? results[impactKey] : 'Impacts';
            var generalLabel = !!results ? results[generalKey] : 'Additional information';
            var airworthiDocLabel = !!results ? results[airworthiDocKey] : 'Airworthiness Documents/MODs';
            var applicabilityLabel = !!results ? results[applicabilityKey] : 'Applicabilities';
            var tasksLabel = !!results ? results[tasksKey] : 'Tasks';
            _this.toc = [
                {
                    id: 'mainInfoAnchor',
                    anchor: _this.mainInfoAnchor,
                    label: mainDataLabel
                },
                {
                    id: 'impactAnchor',
                    anchor: _this.impactAnchor,
                    label: impactLabel
                },
                {
                    id: 'generalAnchor',
                    anchor: _this.generalAnchor,
                    label: generalLabel
                },
                {
                    id: 'airworthiDocAnchor',
                    anchor: _this.airworthiDocAnchor,
                    label: airworthiDocLabel
                },
                {
                    id: 'applicabilityAnchor',
                    anchor: _this.applicabilityAnchor,
                    label: applicabilityLabel
                },
                {
                    id: 'tasksAnchor',
                    anchor: _this.tasksAnchor,
                    label: tasksLabel
                }
            ];
        });
        _super.prototype.selectPageTocEntry.call(this, 'mainInfoAnchor');
    };
    EvolutionFormComponent.prototype.refresh = function () {
        if (this.isCreateOpenMode && this.isCreateMode) {
            this.initOnCreate();
        }
        else {
            this.loadDocuments();
            this.reloadEvolution();
            this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
        }
    };
    EvolutionFormComponent.prototype.loadDocuments = function () {
        var _this = this;
        this.bireDocumentAddedList = [];
        this.bireDocumentUpdatedList = [];
        this.bireDocument = [];
        this.bireDocumentDisplayed.forEach(function (obj) {
            _this.bireDocument.push(__assign({}, obj._obj));
        });
        this.findBireDocumentsByEvol();
    };
    EvolutionFormComponent.prototype.edit = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Write);
    };
    EvolutionFormComponent.prototype.reloadEvolution = function () {
        this.init();
        this.loadEvolution();
    };
    EvolutionFormComponent.prototype.init = function () {
        this.evolution = {};
        this.selectedApplicabilities = [];
        this.selectedAssets = [];
        this.selectedEvolutions = [];
        this.selectedImpacts = [];
        this.selectedImpactsEvol = [];
        this.selectedImpactsItem = [];
        this.selectedInterdependences = [];
        this.selectedModifications = [];
        this.selectedTask = [];
        this.bireDocumentDisplayed = [];
        this.bireDocumentAddedList = [];
        this.bireDocumentUpdatedList = [];
        this.bireDocDeletedList = [];
        this.selectedDocuments = [];
        this.loadTablesHeader();
        this.fillDropDown();
    };
    EvolutionFormComponent.prototype.initOnCreate = function () {
        this.evolution = {};
        this.selectedApplicabilities = [];
        this.selectedAssets = [];
        this.selectedEvolutions = [];
        this.selectedImpacts = [];
        this.selectedImpactsEvol = [];
        this.selectedImpactsItem = [];
        this.selectedInterdependences = [];
        this.selectedModifications = [];
        this.selectedTask = [];
        this.initAttributeValue();
    };
    EvolutionFormComponent.prototype.initAttributeValue = function () {
        var leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesForEvolution);
        leafs.forEach(function (attribute) {
            attribute.value = undefined;
        });
    };
    EvolutionFormComponent.prototype.loadEvolution = function () {
        var _this = this;
        if (!!this.componentData && !!this.componentData.objectId) {
            var evolutionId = {};
            if (this.componentData.objectId.indexOf(';') !== -1) {
                evolutionId = {
                    evolutionNumber: this.componentData.objectId.split(';')[0],
                    evolutionRevisionNumber: this.componentData.objectId.split(';')[1]
                };
            }
            else {
                evolutionId = this.serializationService.deserialize(this.componentData.objectId);
            }
            this.evolutionFormService.findBireEvolution(evolutionId).subscribe(function (result) {
                _this.evolution = result;
                if (_this.evolution) {
                    _this.loadTablesAssociated();
                    _this.getBireEvolutionAttributes();
                    _this.findBireDocumentsByEvol();
                    if (_this.evolution.statusState === '3-loa' || _this.evolution.statusState === '9-upd') {
                        _this.evolution.statusState = '1-ong';
                    }
                }
                _this.openHistoricAttributes();
            });
        }
    };
    /**************************************************************************
     * Tabs management
     *************************************************************************/
    EvolutionFormComponent.prototype.openModificationsTab = function () {
        this.currentTabId = this.tabModificationsId;
    };
    EvolutionFormComponent.prototype.openGeneralTab = function () {
        this.currentTabId = this.tabGeneralId;
    };
    EvolutionFormComponent.prototype.openTaskTab = function () {
        this.currentTabId = this.tabTaskId;
    };
    EvolutionFormComponent.prototype.openApplicabilitiesTab = function () {
        this.currentTabId = this.tabApplicabilitiesId;
    };
    EvolutionFormComponent.prototype.openImpactsTab = function () {
        this.currentTabId = this.tabImpactsId;
    };
    /**************************************************************************
     * Tables management
     *************************************************************************/
    // tslint:disable-next-line:no-any
    EvolutionFormComponent.prototype.onFilterTable = function (event) {
        this.evolutionTableFilteredRowsNb = event.filteredValue.length;
    };
    EvolutionFormComponent.prototype.resetResultsTable = function (table) {
        table.reset();
        table.filters = {};
    };
    EvolutionFormComponent.prototype.resetForm = function () {
        this.evolution = {};
    };
    /**************************************************************************
     * Show popup functions
     *************************************************************************/
    EvolutionFormComponent.prototype.openStatus = function (rowData) {
        // StatusManagementApi?
        /*this.dataStatus = {
                componentId: 'StatusPopupFormComponent',
                selectedRow: rowData,
                object: null,
                openMode: ComponentOpenMode.Read
            };*/
    };
    EvolutionFormComponent.prototype.openHistoricAttributes = function () {
        if (!!this.evolution.evolutionNumber && !!this.evolution.evolutionRevisionNumber) {
            this.showDynamicAttributesHistoric = true;
            var attributeIds = this.dynamicAttributesService.toBireEvolutionAttributeId(this.evolution.evolutionNumber, this.evolution.evolutionRevisionNumber, this.dynamicAttributesForEvolution);
            this.dynamicAttributesHistoric = this.evolutionFormService.findHBireEvolutionAttributesByAttributeId(attributeIds);
        }
    };
    EvolutionFormComponent.prototype.openEvolution = function (objectId) {
        var labelKey = 'transaction.EvolutionFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'EvolutionFormComponent',
            objectId: objectId,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    /**************************************************************************
     * Duplicate functions
     *************************************************************************/
    EvolutionFormComponent.prototype.duplicateImpactEvol = function () {
        // this.updateImpactEvol(true);
    };
    EvolutionFormComponent.prototype.duplicateImpact = function () {
        // this.updateImpact();
    };
    EvolutionFormComponent.prototype.duplicateImpactItem = function () {
        // this.updateImpactItem(true);
    };
    /**************************************************************************
     * Loading tables and dropdown
     *************************************************************************/
    EvolutionFormComponent.prototype.loadTablesHeader = function () {
        this.evolutionTableCols = [
            { field: 'sbNumber', alignment: 'left' },
            { field: 'sbRevisionNumber', alignment: 'left' },
            { field: 'sbTitle', alignment: 'left', width: '40%' },
            { field: 'sbType', alignment: 'left' }
        ];
        this.modificationsTableCols = [
            { field: 'modificationNumber', alignment: 'left' },
            { field: 'modificationRevisionNumber', alignment: 'left' },
            { field: 'modificationTitle', alignment: 'left', width: '40%' },
            { field: 'modificationType', alignment: 'left' }
        ];
        this.interdependencesTableCols = [
            { field: 'variantCode', alignment: 'left' },
            { field: 'way', alignment: 'left' },
            { field: 'interdependenceCode', alignment: 'left' },
            { field: 'evoEvolutionNumber', alignment: 'left' },
            { field: 'evoEvolutionRevisionNumber', alignment: 'left' }
        ];
        this.applicabilitiesTableCols = [
            { field: 'variantStructureTypeFamily', alignment: 'left' },
            { field: 'evolutionApplicabilityDate', alignment: 'left' },
            { field: 'statusStatePerPartner', alignment: 'left' }
        ];
        this.assetsTableCols = [
            { field: 'assetPn', alignment: 'left' },
            { field: 'assetSn', alignment: 'left' },
            { field: 'assetActionType', alignment: 'left' }
        ];
        this.tasksTableCols = [
            { field: 'taskCode', alignment: 'left' },
            { field: 'taskVersion', alignment: 'left' },
            { field: 'taskEvolutionTypeCode', alignment: 'left' }
        ];
        this.impactsEvolTableCols = [
            { field: 'variant', alignment: 'left' },
            { field: 'item', alignment: 'left' },
            { field: 'pnCode', alignment: 'left' },
            { field: 'pnPnCode', alignment: 'left' },
            { field: 'actionTypeCode', alignment: 'left' },
            { field: 'quantityBefore', alignment: 'left' },
            { field: 'quantityAfter', alignment: 'left' },
            { field: 'interchangeability', alignment: 'left' },
            { field: 'applicability', alignment: 'left' }
        ];
        this.impactsTableCols = [
            { field: 'variant', alignment: 'left' },
            { field: 'item', alignment: 'left' },
            { field: 'assetPn', alignment: 'left' },
            { field: 'actionTypeCode', alignment: 'left' },
            { field: 'applicability', alignment: 'left' }
        ];
        this.impactsItemTableCols = [
            { field: 'variant', alignment: 'left' },
            { field: 'itemFather', alignment: 'left' },
            { field: 'inGroup', alignment: 'left' },
            { field: 'item', alignment: 'left' },
            { field: 'actionTypeCode', alignment: 'left' }
        ];
        this.opeAttributesTableCols = [
            { field: 'dateAndHour', alignment: 'left', width: '5rem' },
            { field: 'author', alignment: 'left', width: '5rem' },
            { field: 'state', alignment: 'left', width: '5rem' },
            { field: 'value', alignment: 'left', width: '5rem' },
            { field: 'downloadDate', alignment: 'left', width: '5rem' }
        ];
        this.documentsTableCols = [
            { field: 'docName', alignment: 'left' },
            { field: 'docSource', alignment: 'left' },
            { field: 'docExtension', alignment: 'left' },
            { field: 'docSize', alignment: 'left' },
            { field: 'docPublicationDate', alignment: 'left' }
        ];
    };
    EvolutionFormComponent.prototype.loadTablesAssociated = function () {
        var _this = this;
        this.showStatusNotMatchedWarning = false;
        this.statusNotMatchedWarning = '';
        var evolutionId = {
            evolutionNumber: this.evolution.evolutionNumber,
            evolutionRevisionNumber: this.evolution.evolutionRevisionNumber
        };
        this.evolutionFormService.findBireEvolutionSbsByEvolution(this.evolution).subscribe(function (results) {
            if (results) {
                _this.bireSbadDisplayed = results;
                results.forEach(function (element) {
                    if (_this.evolution.statusState !== element.statusState) {
                        _this.showStatusNotMatchedWarning = true;
                        var statusKey = _this.getTranslateKey('statusNotMatchedMessage');
                        _this.translateService.get(statusKey).subscribe(function (result) {
                            _this.statusNotMatchedWarning = result;
                        });
                    }
                    if (_this.propertyStatusSbad.filter(function (status) { return status.value === element.statusState; }).length !== 0) {
                        element.statusState = _this.propertyStatusSbad.filter(function (status) { return status.value === element.statusState; })[0].label;
                    }
                    // TODO: Appends when the evolution is upgraded, but why the SB/AD Status change too?
                    if (element.statusState === '9-upd') {
                        element.statusState = 'Updated';
                    }
                    _this.propertiesService
                        .getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__["GenericPropertyConstants"].SB_TYPE_MAP)
                        .subscribe(function (sbTypes) {
                        sbTypes.forEach(function (tmp) {
                            if (element.sbType === tmp.value) {
                                element.sbType = tmp.label;
                            }
                        });
                    });
                });
                _this.evolutionTableFilteredRowsNb = _this.bireSbadDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetSBADResults'));
        });
        this.evolutionFormService.findBireModificationEvolutionsByEvolution(this.evolution).subscribe(function (results) {
            if (results) {
                _this.bireModificationDisplayed = results;
                _this.modificationsTableFilteredRowsNb = _this.bireModificationDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetModificationsResults'));
        });
        this.evolutionFormService.findBireEvolutionEvolutionsByEvolution(this.evolution).subscribe(function (results) {
            if (results) {
                _this.bireInterdependenceDisplayed = results;
                results.forEach(function (element) {
                    if (element.interdependenceCode) {
                        element.interdependenceCode = _this.interdependence.filter(function (status) { return status.value === element.interdependenceCode; })[0].label;
                    }
                    if (_this.evolution.evolutionNumber === element.evolutionNumber &&
                        _this.evolution.evolutionRevisionNumber === element.evolutionRevisionNumber) {
                        _this.arrowOrientation.set(element, true);
                    }
                    else {
                        _this.arrowOrientation.set(element, false);
                        element.evoEvolutionNumber = element.evolutionNumber;
                        element.evoEvolutionRevisionNumber = element.evolutionRevisionNumber;
                    }
                });
                _this.interdependencesTableFilteredRowsNb = _this.bireInterdependenceDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInterdependencesResults'));
        });
        this.evolutionFormService.findBireEvolutionVariantsByEvolutionNumbers(evolutionId).subscribe(function (results) {
            if (results) {
                _this.bireApplicabilityDisplayed = results;
                _this.applicabilitiesTableFilteredRowsNb = _this.bireApplicabilityDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetApplicabilitiesResults'));
        });
        this.evolutionFormService.findBireConcernedAssetsByEvolution(evolutionId).subscribe(function (results) {
            if (results) {
                results.forEach(function (element) {
                    if (element.assetActionType) {
                        element.assetActionType = _this.instructions.filter(function (actionType) { return actionType.value === element.assetActionType; })[0].label;
                    }
                });
                _this.bireConcernedAssetDisplayed = results;
                _this.assetsTableFilteredRowsNb = _this.bireConcernedAssetDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetAssetsResults'));
        });
        this.evolutionFormService.findBireEvolutionPnsByEvolution(evolutionId).subscribe(function (results) {
            if (results) {
                _this.bireImpactDisplayed = results;
                results.forEach(function (element) {
                    element.actionTypeCode = _this.propertyActionTypeImpact.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
                    element['item'] = element.chapter + "-" + element.section + "-" + element.subject + "-" + element.sheet + "-" + element.marks;
                    element['variant'] = element.familyCode + "-" + element.structureType + "-" + element.variantCode;
                    element['assetPn'] = "" + element.pnCode;
                });
                _this.bireImpactDisplayed = results;
                _this.impactsTableFilteredRowsNb = _this.bireImpactDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetImpactsOnPNResults'));
        });
        this.evolutionFormService.findBireEvolutionItemsByEvolution(evolutionId).subscribe(function (results) {
            if (results) {
                // this.bireImpactItemDisplayed = results;
                _this.bireImpactItemDisplayed = [];
                results.forEach(function (element) {
                    if (element.actionTypeCode) {
                        element.actionTypeCode = _this.propertyActionTypeImpactItem.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
                    }
                    element['item'] = element.chapter + "-" + element.section + "-" + element.subject + "-" + element.sheet + "-" + element.marks;
                    element['variant'] = element.familyCode + "-" + element.structureType + "-" + element.variantCode;
                    _this.findBireItemItemsByItemSon(element, function (result) {
                        if (!!result && result.length !== 0) {
                            var itemFather = result[0].fatherChapter + "-" + result[0].fatherSection + "-";
                            itemFather += result[0].fatherSheet + "-" + result[0].fatherSubject + "-" + result[0].fatherMarks;
                            element['itemFather'] = itemFather;
                        }
                        _this.bireImpactItemDisplayed.push(element);
                    });
                });
                _this.impactsItemTableFilteredRowsNb = _this.bireImpactItemDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetImpactsOnItemResults'));
        });
        this.evolutionFormService.findBireItemPnEvolutionsByEvolution(evolutionId).subscribe(function (results) {
            if (results) {
                _this.bireImpactEvolDisplayed = results;
                results.forEach(function (element) {
                    if (element.actionTypeCode) {
                        element.actionTypeCode = _this.propertyActionType.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
                    }
                    if (element.interchangeability) {
                        element.interchangeability = _this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.value === element.interchangeability; })[0].label;
                    }
                    element['item'] = element.chapter + "-" + element.section + "-" + element.subject + "-" + element.sheet + "-" + element.marks;
                    element['variant'] = element.familyCode + "-" + element.structureType + "-" + element.variantCode;
                });
                _this.bireImpactEvolDisplayed = results;
                _this.impactsEvolTableFilteredRowsNb = _this.bireImpactEvolDisplayed.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetImpactsOnEvolResults'));
        });
        this.evolutionFormService.findBireTaskEvolutionsByEvolution(evolutionId).subscribe(function (results) {
            if (results) {
                _this.tasksTable = results;
                _this.tasksTableFilteredRowsNb = _this.tasksTable.length;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetTasksResults'));
        });
    };
    // Get differents attributes list for this object
    EvolutionFormComponent.prototype.getBireAttributesForEvolution = function () {
        var _this = this;
        this.evolutionFormService
            .findBireAttributesByCategory(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_ALL_KEY)
            .subscribe(function (results) {
            var _a;
            (_a = _this.bireAttributesForEvolution).push.apply(_a, __spread(results));
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByCategory'));
        });
        this.evolutionFormService
            .findBireAttributesByCategory(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_EVOLUTION_KEY)
            .subscribe(function (results) {
            var _a;
            (_a = _this.bireAttributesForEvolution).push.apply(_a, __spread(results));
            setTimeout(function () {
                _this.dynamicAttributesForEvolution = _this.dynamicAttributesService.from(_this.bireAttributesForEvolution);
                _this.getBireEvolutionAttributes();
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByCategory'));
        });
    };
    EvolutionFormComponent.prototype.getBireEvolutionAttributes = function () {
        var _this = this;
        this.evolutionFormService.findBireEvolutionAttributesByEvolution(this.evolution).subscribe(function (results) {
            _this.bireEvolutionAttributes = results;
            _this.dynamicAttributesService.setValues(_this.dynamicAttributesForEvolution, _this.bireEvolutionAttributes);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByEvolution'));
        });
    };
    EvolutionFormComponent.prototype.initAttributeIdValueMap = function () {
        var _this = this;
        // Real code
        this.bireEvolutionAttributes.forEach(function (element) {
            if (!!element.attributeId && !!element.attributeValue) {
                _this.attributeIdValueMap.set(element.attributeId, element.attributeValue);
            }
            else {
                _super.prototype.throwUnboundLocalError.call(_this, 'initAttributeValueMap', 'element');
            }
        });
    };
    EvolutionFormComponent.prototype.fillDropDown = function () {
        var _this = this;
        this.evolutionFormService.getFuncObjectStatusMap().subscribe(function (results) {
            _this.propertyStatus = results;
            // this.propertyStatusSbad = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetObjectStatus'));
        });
        this.evolutionFormService.getFunctionObjectionStatus('3-loa').subscribe(function (results) {
            _this.propertyStatusSbad = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetObjectStatus'));
        });
        this.evolutionFormService.getObjectStatusMap().subscribe(function (results) {
            _this.propertyObjectStatus = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetStatus'));
        });
        this.evolutionFormService.getEvolutionTypeMap().subscribe(function (results) {
            _this.propertyType = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetEvolutionType'));
        });
        this.evolutionFormService.getEvolutionLevelMap().subscribe(function (results) {
            _this.propertyLevel = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetEvolutionLevel'));
        });
        this.evolutionFormService.getComplianceMap().subscribe(function (results) {
            _this.propertyCompliance = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetEvolutionCompliance'));
        });
        this.evolutionFormService.findAllBireInterdependences().subscribe(function (results) {
            _this.interdependence = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInterdependences'));
        });
        this.evolutionFormService.getAssetActionType().subscribe(function (results) {
            _this.instructions = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInstructions'));
        });
        this.evolutionFormService.findBireActionTypesByActionTypeCode(_shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_7__["BireActionTypeConstants"].ACTION_TYPE_B).subscribe(function (results) {
            _this.propertyActionType = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetActionTypes'));
        });
        this.evolutionFormService.findBireActionTypesByActionTypeCode(_shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_7__["BireActionTypeConstants"].ACTION_TYPE_A).subscribe(function (results) {
            _this.propertyActionTypeImpact = results;
            _this.propertyActionTypeImpactItem = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetActionTypes'));
        });
        this.evolutionFormService.findAllBireVariantVersions().subscribe(function (results) {
            var list = new Array();
            results.forEach(function (element) {
                if (!!element.labelValueDTO) {
                    list.push(element.labelValueDTO);
                    _this.familyVariantMap.set(element.labelValueDTO, element);
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'fillDropdown', 'element.labelValueDTO');
                }
            });
            _this.propertyVariant = list;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.evolutionFormService.getPnInterchangeabilityMap().subscribe(function (results) {
            _this.propertyInterchangeability = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInterchangeability'));
        });
        if (!this.evolution.statusState) {
            this.evolution.statusState = '1-ong';
        }
    };
    /**************************************************************************
     * SBAD table
     *************************************************************************/
    EvolutionFormComponent.prototype.confirmDeleteSbad = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationSbad';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedSbad();
            }
        });
    };
    EvolutionFormComponent.prototype.createSbad = function () {
        this.showSbadDialog = true;
        this.isNewSbad = true;
        this.isReadOnlySbadDialog = false;
        this.dataSb = {
            componentId: 'SbadPopupDialog',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editSbad = function () {
        this.isNewSbad = false;
        this.isReadOnlySbadDialog = false;
        if (this.selectedEvolutions.length === 1) {
            this.currentSbad = __assign({}, this.selectedEvolutions[0]);
            this.currentSbadIndex = this.bireSbadDisplayed.indexOf(this.selectedEvolutions[0]);
            this.showSbadDialog = true;
            this.dataSb = {
                componentId: 'SbadPopupDialog',
                selectedRow: this.selectedEvolutions,
                object: this.currentSbad,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openSbad = function () {
        this.isReadOnlySbadDialog = true;
        if (this.selectedEvolutions.length === 1) {
            this.currentSbad = __assign({}, this.selectedEvolutions[0]);
            this.currentSbadIndex = this.bireSbadDisplayed.indexOf(this.selectedEvolutions[0]);
            this.showSbadDialog = true;
            this.dataSb = {
                componentId: 'SbadPopupDialog',
                selectedRow: this.selectedEvolutions,
                object: this.currentSbad,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.addNewSbad = function (newSbad) {
        if (newSbad.statusState) {
            newSbad.statusState = this.propertyStatusSbad.filter(function (status) { return status.value === newSbad.statusState; })[0].label;
        }
        var searchInDisplayedList = this.bireSbadDisplayed.find(function (value) {
            return value.sbNumber === newSbad.sbNumber &&
                value.sbRevisionNumber === newSbad.sbRevisionNumber &&
                value.statusState === newSbad.statusState;
        });
        if (!searchInDisplayedList) {
            this.bireSbadAddedList.push(newSbad);
            this.bireSbadDisplayed.push(newSbad);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('SbadAlreadyExists'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedSbad = function () {
        var _this = this;
        this.selectedEvolutions.forEach(function (element) {
            if (!!element.evolutionNumber &&
                !!element.evolutionRevisionNumber &&
                !!element.sbNumber &&
                !!element.sbRevisionNumber) {
                var sbadId = {
                    evolutionNumber: element.evolutionNumber,
                    evolutionRevisionNumber: element.evolutionRevisionNumber,
                    sbNumber: element.sbNumber,
                    sbRevisionNumber: element.sbRevisionNumber
                };
                var searchInAddedList = _this.bireSbadAddedList.find(function (value) { return value.sbNumber === element.sbNumber && value.sbRevisionNumber === element.sbRevisionNumber; });
                var searchInUpdatedList = _this.bireSbadAddedList.find(function (value) { return value.sbNumber === element.sbNumber && value.sbRevisionNumber === element.sbRevisionNumber; });
                if (searchInAddedList) {
                    var indexInAddedList = _this.bireSbadAddedList.indexOf(searchInAddedList);
                    _this.bireSbadAddedList.splice(indexInAddedList, 1);
                }
                else if (searchInUpdatedList) {
                    var indexInUpdatedList = _this.bireSbadUpdatedList.indexOf(searchInUpdatedList);
                    _this.bireSbadUpdatedList.splice(indexInUpdatedList, 1);
                    _this.bireSbadDeletedList.push(sbadId);
                }
                else {
                    _this.bireSbadDeletedList.push(sbadId);
                }
                var indexInDisplayedList = _this.bireSbadDisplayed.indexOf(element);
                _this.bireSbadDisplayed.splice(indexInDisplayedList, 1);
            }
            else {
                // super.throwUnboundLocalError('deleteSelectedSbad', 'element');
                var searchInAddedList = _this.bireSbadAddedList.find(function (value) { return value.sbNumber === element.sbNumber && value.sbRevisionNumber === element.sbRevisionNumber; });
                if (searchInAddedList) {
                    var indexInAddedList = _this.bireSbadAddedList.indexOf(searchInAddedList);
                    _this.bireSbadAddedList.splice(indexInAddedList, 1);
                }
                var indexInDisplayedList = _this.bireSbadDisplayed.indexOf(element);
                _this.bireSbadDisplayed.splice(indexInDisplayedList, 1);
            }
        });
        this.selectedEvolutions = [];
    };
    EvolutionFormComponent.prototype.updateSbad = function (udpatedSbad) {
        if (udpatedSbad.statusState) {
            udpatedSbad.statusState = this.propertyStatusSbad.filter(function (status) { return status.value === udpatedSbad.statusState; })[0].label;
        }
        var previousSbadObject = this.bireSbadDisplayed[this.currentSbadIndex];
        var searchInAddedList = this.bireSbadAddedList.find(function (value) {
            return value.sbNumber === previousSbadObject.sbNumber && value.sbRevisionNumber === previousSbadObject.sbRevisionNumber;
        });
        var searchInUpdatedList = this.bireSbadUpdatedList.find(function (value) {
            return value.sbNumber === previousSbadObject.sbNumber && value.sbRevisionNumber === previousSbadObject.sbRevisionNumber;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireSbadAddedList.indexOf(searchInAddedList);
            this.bireSbadAddedList[indexInAddedList] = udpatedSbad;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireSbadUpdatedList.indexOf(searchInUpdatedList);
            this.bireSbadUpdatedList[indexInUpdatedList] = udpatedSbad;
        }
        else {
            this.bireSbadUpdatedList.push(udpatedSbad);
        }
        this.selectedEvolutions = [];
        this.bireSbadDisplayed[this.currentSbadIndex] = udpatedSbad;
    };
    /**************************************************************************
     * Assets table
     *************************************************************************/
    EvolutionFormComponent.prototype.confirmDeleteAsset = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationAsset';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedConcernedAssets();
            }
        });
    };
    EvolutionFormComponent.prototype.createAsset = function () {
        this.showAssetDialog = true;
        this.isNewAsset = true;
        this.isReadOnlyAssetDialog = false;
        this.dataAssets = {
            componentId: 'AssetPopupDialog',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editAsset = function () {
        var _this = this;
        this.isNewAsset = false;
        this.isReadOnlyAssetDialog = false;
        if (this.selectedAssets.length === 1) {
            this.currentAsset = __assign({}, this.selectedAssets[0]);
            if (this.currentAsset.assetActionType) {
                this.currentAsset.assetActionType = this.instructions.filter(function (actionType) { return actionType.label === _this.currentAsset.assetActionType; })[0].value;
            }
            this.currentConcernedAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);
            this.showAssetDialog = true;
            this.dataAssets = {
                componentId: 'AssetPopupDialog',
                selectedRow: this.selectedAssets,
                object: this.currentAsset,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openAsset = function () {
        var _this = this;
        this.isReadOnlyAssetDialog = true;
        if (this.selectedAssets.length === 1) {
            this.currentAsset = __assign({}, this.selectedAssets[0]);
            if (this.currentAsset.assetActionType) {
                this.currentAsset.assetActionType = this.instructions.filter(function (actionType) { return actionType.label === _this.currentAsset.assetActionType; })[0].value;
            }
            this.currentConcernedAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);
            this.showAssetDialog = true;
            this.dataAssets = {
                componentId: 'AssetPopupDialog',
                selectedRow: this.selectedAssets,
                object: this.currentAsset,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedConcernedAssets = function () {
        var _this = this;
        this.selectedAssets.forEach(function (element) {
            var indexInDisplayedList = _this.bireConcernedAssetDisplayed.indexOf(element);
            _this.bireConcernedAssetDisplayed.splice(indexInDisplayedList, 1);
        });
        this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;
        this.selectedAssets = [];
    };
    EvolutionFormComponent.prototype.addNewAsset = function (concernedAsset) {
        var _this = this;
        if (concernedAsset.assetActionType) {
            concernedAsset.assetActionType = this.instructions.filter(function (actionType) { return actionType.value === concernedAsset.assetActionType; })[0].label;
        }
        var searchInDisplayedList = this.bireConcernedAssetDisplayed.find(function (value) {
            return _this.isConcernedAssetTheSame(value, concernedAsset);
        });
        if (!searchInDisplayedList) {
            this.bireConcernedAssetDisplayed.push(concernedAsset);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyConcernedAssetExist'));
        }
        this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;
    };
    EvolutionFormComponent.prototype.updateConcernedAsset = function (concernedAsset) {
        if (concernedAsset.assetActionType) {
            concernedAsset.assetActionType = this.instructions.filter(function (actionType) { return actionType.value === concernedAsset.assetActionType; })[0].label;
        }
        this.bireConcernedAssetDisplayed[this.currentConcernedAssetIndex] = concernedAsset;
        this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;
        this.selectedAssets = [];
    };
    EvolutionFormComponent.prototype.isConcernedAssetTheSame = function (concernedAsset1, concernedAsset2) {
        if (concernedAsset1.assetPn === concernedAsset2.assetPn &&
            concernedAsset1.assetSn === concernedAsset2.assetSn &&
            concernedAsset1.assetActionType === concernedAsset2.assetActionType) {
            return true;
        }
        else {
            return false;
        }
    };
    /**************************************************************************
     * Modifications table
     *************************************************************************/
    EvolutionFormComponent.prototype.confirmDeleteModification = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationModif';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedModification();
            }
        });
    };
    EvolutionFormComponent.prototype.createModification = function () {
        this.showModificationDialog = true;
        this.isNewModification = true;
        this.isReadOnlyModificationDialog = false;
        this.dataModif = {
            componentId: 'ModificationsPopupDialog',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editModification = function () {
        this.isNewModification = false;
        this.isReadOnlyModificationDialog = false;
        if (this.selectedModifications.length === 1) {
            this.currentModification = __assign({}, this.selectedModifications[0]);
            this.currentModificationIndex = this.bireModificationDisplayed.indexOf(this.selectedModifications[0]);
            this.showModificationDialog = true;
            this.dataModif = {
                componentId: 'ModificationsPopupDialog',
                selectedRow: this.selectedModifications,
                object: this.currentModification,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openModification = function () {
        this.isReadOnlyModificationDialog = true;
        if (this.selectedModifications.length === 1) {
            this.currentModification = __assign({}, this.selectedModifications[0]);
            this.currentModificationIndex = this.bireModificationDisplayed.indexOf(this.selectedModifications[0]);
            this.showModificationDialog = true;
            this.dataModif = {
                componentId: 'ModificationsPopupDialog',
                selectedRow: this.selectedModifications,
                object: this.currentModification,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.addNewModification = function (newModification) {
        var searchInDisplayedList = this.bireModificationDisplayed.find(function (value) {
            return value.modificationNumber === newModification.modificationNumber &&
                value.modificationRevisionNumber === newModification.modificationRevisionNumber &&
                value.familyCode === newModification.familyCode &&
                value.structureType === newModification.structureType;
        });
        if (!searchInDisplayedList) {
            this.bireModificationAddedList.push(newModification);
            this.bireModificationDisplayed.push(newModification);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('ModificationAlreadyExists'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedModification = function () {
        var _this = this;
        this.selectedModifications.forEach(function (element) {
            var searchInAddedList = _this.bireModificationAddedList.find(function (value) {
                return value.modificationNumber === element.modificationNumber &&
                    value.modificationRevisionNumber === element.modificationRevisionNumber &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType;
            });
            var searchInUpdatedList = _this.bireModificationAddedList.find(function (value) {
                return value.modificationNumber === element.modificationNumber &&
                    value.modificationRevisionNumber === element.modificationRevisionNumber &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType;
            });
            if (searchInAddedList) {
                var indexInAddedList = _this.bireModificationAddedList.indexOf(searchInAddedList);
                _this.bireModificationAddedList.splice(indexInAddedList, 1);
            }
            else {
                if (!!element.modificationType &&
                    !!element.evolutionNumber &&
                    !!element.evolutionRevisionNumber &&
                    !!element.familyCode &&
                    !!element.structureType &&
                    !!element.modificationNumber &&
                    !!element.modificationRevisionNumber) {
                    var modifId = {
                        modificationType: element.modificationType,
                        evolutionNumber: element.evolutionNumber,
                        evolutionRevisionNumber: element.evolutionRevisionNumber,
                        familyCode: element.familyCode,
                        structureType: element.structureType,
                        modificationNumber: element.modificationNumber,
                        modificationRevisionNumber: element.modificationRevisionNumber
                    };
                    if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireModificationUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireModificationUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireModificationDeletedList.push(modifId);
                    }
                    else {
                        _this.bireModificationDeletedList.push(modifId);
                    }
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'deleteSelectedModification', 'element');
                }
            }
            var indexInDisplayedList = _this.bireModificationDisplayed.indexOf(element);
            _this.bireModificationDisplayed.splice(indexInDisplayedList, 1);
        });
        this.selectedModifications = [];
    };
    EvolutionFormComponent.prototype.updateModification = function (udpatedModification) {
        var previousModificationObject = this.bireModificationDisplayed[this.currentModificationIndex];
        var searchInAddedList = this.bireModificationAddedList.find(function (value) {
            return value.modificationNumber === previousModificationObject.modificationNumber &&
                value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber &&
                value.familyCode === previousModificationObject.familyCode &&
                value.structureType === previousModificationObject.structureType;
        });
        var searchInUpdatedList = this.bireModificationUpdatedList.find(function (value) {
            return value.modificationNumber === previousModificationObject.modificationNumber &&
                value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber &&
                value.familyCode === previousModificationObject.familyCode &&
                value.structureType === previousModificationObject.structureType;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireModificationAddedList.indexOf(searchInAddedList);
            this.bireModificationAddedList[indexInAddedList] = udpatedModification;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireModificationUpdatedList.indexOf(searchInUpdatedList);
            this.bireModificationUpdatedList[indexInUpdatedList] = udpatedModification;
        }
        else {
            this.bireModificationUpdatedList.push(udpatedModification);
        }
        this.selectedModifications = [];
        this.bireModificationDisplayed[this.currentModificationIndex] = udpatedModification;
    };
    /**************************************************************************
     * Applicabilities table
     *************************************************************************/
    EvolutionFormComponent.prototype.confirmDeleteApplicability = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationAppli';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedApplicability();
            }
        });
    };
    EvolutionFormComponent.prototype.createApplicability = function () {
        this.showApplicabilitiesDialog = true;
        this.isNewApplicability = true;
        this.isReadOnlyApplicabilityDialog = false;
        this.dataAppli = {
            componentId: 'ApplicabilityPopupDialog',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editApplicability = function () {
        this.isNewApplicability = false;
        this.isReadOnlyApplicabilityDialog = false;
        if (this.selectedApplicabilities.length === 1) {
            this.currentApplicability = __assign({}, this.selectedApplicabilities[0]);
            this.currentApplicabilityIndex = this.bireApplicabilityDisplayed.indexOf(this.selectedApplicabilities[0]);
            this.showApplicabilitiesDialog = true;
            this.dataAppli = {
                componentId: 'ApplicabilityPopupDialog',
                selectedRow: this.selectedApplicabilities,
                object: this.currentApplicability,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openApplicability = function () {
        this.isReadOnlyApplicabilityDialog = true;
        if (this.selectedApplicabilities.length === 1) {
            this.currentApplicability = __assign({}, this.selectedApplicabilities[0]);
            this.currentApplicabilityIndex = this.bireApplicabilityDisplayed.indexOf(this.selectedApplicabilities[0]);
            this.showApplicabilitiesDialog = true;
            this.dataAppli = {
                componentId: 'ApplicabilityPopupDialog',
                selectedRow: this.selectedApplicabilities,
                object: this.currentApplicability,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.addNewApplicability = function (newApplicability) {
        var searchInDisplayedList = this.bireApplicabilityDisplayed.find(function (value) {
            return value.variantCode === newApplicability.variantCode &&
                value.familyCode === newApplicability.familyCode &&
                value.structureType === newApplicability.structureType;
        });
        if (!searchInDisplayedList) {
            if (newApplicability.evolutionApplicabilityDate) {
                newApplicability.evolutionApplicabilityDate = new Date(newApplicability.evolutionApplicabilityDate.toString());
            }
            this.bireApplicabilityAddedList.push(newApplicability);
            newApplicability['variantStructureTypeFamily'] = newApplicability.familyCode + "-" + newApplicability.structureType + "\n      -" + newApplicability.familyCode + "-" + newApplicability.variantCode;
            this.bireApplicabilityDisplayed.push(newApplicability);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('ApplicabilityAlreadyExists'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedApplicability = function () {
        var _this = this;
        this.selectedApplicabilities.forEach(function (element) {
            var searchInAddedList = _this.bireApplicabilityAddedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType;
            });
            var searchInUpdatedList = _this.bireApplicabilityUpdatedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType;
            });
            if (searchInAddedList) {
                var indexInAddedList = _this.bireApplicabilityAddedList.indexOf(searchInAddedList);
                _this.bireApplicabilityAddedList.splice(indexInAddedList, 1);
            }
            else {
                if (!!element.evolutionNumber &&
                    !!element.evolutionRevisionNumber &&
                    !!element.variantCode &&
                    !!element.familyCode &&
                    !!element.structureType) {
                    var appliId = {
                        evolutionNumber: element.evolutionNumber,
                        evolutionRevisionNumber: element.evolutionRevisionNumber,
                        variantCode: element.variantCode,
                        familyCode: element.familyCode,
                        structureType: element.structureType
                    };
                    if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireApplicabilityUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireApplicabilityUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireApplicabilityDeletedList.push(appliId);
                    }
                    else {
                        _this.bireApplicabilityDeletedList.push(appliId);
                    }
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'deleteSelectedApplicability', 'element');
                }
            }
            var indexInDisplayedList = _this.bireApplicabilityDisplayed.indexOf(element);
            _this.bireApplicabilityDisplayed.splice(indexInDisplayedList, 1);
        });
        this.selectedApplicabilities = [];
    };
    EvolutionFormComponent.prototype.updateApplicability = function (udpatedApplicability) {
        var previousSbVariantObject = this.bireApplicabilityDisplayed[this.currentApplicabilityIndex];
        var searchInAddedList = this.bireApplicabilityAddedList.find(function (value) {
            return value.variantCode === previousSbVariantObject.variantCode &&
                value.familyCode === previousSbVariantObject.familyCode &&
                value.structureType === previousSbVariantObject.structureType;
        });
        var searchInUpdatedList = this.bireApplicabilityUpdatedList.find(function (value) {
            return value.variantCode === previousSbVariantObject.variantCode &&
                value.familyCode === previousSbVariantObject.familyCode &&
                value.structureType === previousSbVariantObject.structureType;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireApplicabilityAddedList.indexOf(searchInAddedList);
            this.bireApplicabilityAddedList[indexInAddedList] = udpatedApplicability;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireApplicabilityUpdatedList.indexOf(searchInUpdatedList);
            this.bireApplicabilityUpdatedList[indexInUpdatedList] = udpatedApplicability;
        }
        else {
            this.bireApplicabilityUpdatedList.push(udpatedApplicability);
        }
        this.selectedApplicabilities = [];
        this.bireApplicabilityDisplayed[this.currentApplicabilityIndex] = udpatedApplicability;
    };
    /**************************************************************************
     * Interdependence table
     *************************************************************************/
    EvolutionFormComponent.prototype.confirmDeleteInterdependence = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationInterdependence';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedInterdependence();
            }
        });
    };
    EvolutionFormComponent.prototype.createInterdependence = function () {
        this.showInterdependanceDialog = true;
        this.isNewInterdependence = true;
        this.isReadOnlyInterdependenceDialog = false;
        this.currentInterdependence = {
            evolutionNumber: this.evolution.evolutionNumber,
            evolutionRevisionNumber: this.evolution.evolutionRevisionNumber
        };
        this.dataInterdep = {
            componentId: 'InterdependencePopupDialog',
            selectedRow: [],
            object: this.currentInterdependence,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editInterdependence = function () {
        var _this = this;
        this.isNewInterdependence = false;
        this.isReadOnlyInterdependenceDialog = false;
        if (this.selectedInterdependences.length === 1) {
            this.currentInterdependence = __assign({}, this.selectedInterdependences[0]);
            this.currentInterdependence.interdependenceCode = this.interdependence.filter(function (interdep) { return interdep.label === _this.currentInterdependence.interdependenceCode; })[0].value;
            this.currentInterdependenceIndex = this.bireInterdependenceDisplayed.indexOf(this.selectedInterdependences[0]);
            this.currentInterdependence.evolutionNumber = this.evolution.evolutionNumber;
            this.currentInterdependence.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;
            this.showInterdependanceDialog = true;
            this.dataInterdep = {
                componentId: 'InterdependencePopupDialog',
                selectedRow: this.selectedInterdependences,
                object: this.currentInterdependence,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openInterdependence = function () {
        var _this = this;
        this.isReadOnlyInterdependenceDialog = true;
        if (this.selectedInterdependences.length === 1) {
            this.currentInterdependence = __assign({}, this.selectedInterdependences[0]);
            this.currentInterdependence.interdependenceCode = this.interdependence.filter(function (interdep) { return interdep.label === _this.currentInterdependence.interdependenceCode; })[0].value;
            this.currentInterdependenceIndex = this.bireInterdependenceDisplayed.indexOf(this.selectedInterdependences[0]);
            this.currentInterdependence.evolutionNumber = this.evolution.evolutionNumber;
            this.currentInterdependence.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;
            this.showInterdependanceDialog = true;
            this.dataInterdep = {
                componentId: 'InterdependencePopupDialog',
                selectedRow: this.selectedInterdependences,
                object: this.currentInterdependence,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.addNewInterdependence = function (newInterdependence) {
        newInterdependence.interdependenceCode = this.interdependence.filter(function (status) { return status.value === newInterdependence.interdependenceCode; })[0].label;
        var searchInDisplayedList = this.bireInterdependenceDisplayed.find(function (value) {
            return value.variantCode === newInterdependence.variantCode &&
                value.familyCode === newInterdependence.familyCode &&
                value.structureType === newInterdependence.structureType &&
                value.interdependenceCode === newInterdependence.interdependenceCode;
        });
        if (!searchInDisplayedList) {
            this.bireInterdependenceAddedList.push(newInterdependence);
            this.bireInterdependenceDisplayed.push(newInterdependence);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('InterdependenceAlreadyExists'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedInterdependence = function () {
        var _this = this;
        this.selectedInterdependences.forEach(function (element) {
            var searchInAddedList = _this.bireInterdependenceAddedList.find(function (value) {
                return value.interdependenceCode === element.interdependenceCode &&
                    value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.evoEvolutionNumber === element.evoEvolutionNumber &&
                    value.evoEvolutionRevisionNumber === element.evoEvolutionRevisionNumber;
            });
            var searchInUpdatedList = _this.bireInterdependenceAddedList.find(function (value) {
                return value.evolutionRevisionNumber === element.evolutionRevisionNumber &&
                    value.interdependenceCode === element.interdependenceCode &&
                    value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.evoEvolutionNumber === element.evoEvolutionNumber &&
                    value.evoEvolutionRevisionNumber === element.evoEvolutionRevisionNumber;
            });
            if (searchInAddedList) {
                var indexInAddedList = _this.bireInterdependenceAddedList.indexOf(searchInAddedList);
                _this.bireInterdependenceAddedList.splice(indexInAddedList, 1);
            }
            else {
                if (!!element.evolutionNumber &&
                    !!element.evolutionRevisionNumber &&
                    !!element.familyCode &&
                    !!element.structureType &&
                    !!element.interdependenceCode &&
                    !!element.variantCode &&
                    !!element.evoEvolutionNumber &&
                    !!element.evoEvolutionRevisionNumber) {
                    var interdepId = {
                        evolutionNumber: element.evolutionNumber,
                        evolutionRevisionNumber: element.evolutionRevisionNumber,
                        familyCode: element.familyCode,
                        structureType: element.structureType,
                        interdependenceCode: element.interdependenceCode,
                        variantCode: element.variantCode,
                        evoEvolutionNumber: element.evoEvolutionNumber,
                        evoEvolutionRevisionNumber: element.evoEvolutionRevisionNumber
                    };
                    if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireInterdependenceUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireInterdependenceUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireInterdependenceDeletedList.push(interdepId);
                    }
                    else {
                        _this.bireInterdependenceDeletedList.push(interdepId);
                    }
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'deleteSelectedInterdependence', 'element');
                }
            }
            var indexInDisplayedList = _this.bireInterdependenceDisplayed.indexOf(element);
            _this.bireInterdependenceDisplayed.splice(indexInDisplayedList, 1);
        });
        this.selectedInterdependences = [];
    };
    EvolutionFormComponent.prototype.updateInterdependence = function (udpatedInterdependence) {
        var previousInterdependenceObject = this.bireInterdependenceDisplayed[this.currentInterdependenceIndex];
        var searchInAddedList = this.bireInterdependenceAddedList.find(function (value) {
            return value.variantCode === previousInterdependenceObject.variantCode &&
                value.interdependenceCode === previousInterdependenceObject.interdependenceCode &&
                value.familyCode === previousInterdependenceObject.familyCode &&
                value.structureType === previousInterdependenceObject.structureType &&
                value.evoEvolutionNumber === previousInterdependenceObject.evoEvolutionNumber &&
                value.evoEvolutionRevisionNumber === previousInterdependenceObject.evoEvolutionRevisionNumber;
        });
        var searchInUpdatedList = this.bireInterdependenceUpdatedList.find(function (value) {
            return value.variantCode === previousInterdependenceObject.variantCode &&
                value.interdependenceCode === previousInterdependenceObject.interdependenceCode &&
                value.familyCode === previousInterdependenceObject.familyCode &&
                value.structureType === previousInterdependenceObject.structureType &&
                value.evoEvolutionNumber === previousInterdependenceObject.evoEvolutionNumber &&
                value.evoEvolutionRevisionNumber === previousInterdependenceObject.evoEvolutionRevisionNumber;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireInterdependenceAddedList.indexOf(searchInAddedList);
            this.bireInterdependenceAddedList[indexInAddedList] = udpatedInterdependence;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireInterdependenceUpdatedList.indexOf(searchInUpdatedList);
            this.bireInterdependenceUpdatedList[indexInUpdatedList] = udpatedInterdependence;
        }
        else {
            this.bireInterdependenceUpdatedList.push(udpatedInterdependence);
        }
        this.selectedInterdependences = [];
        this.bireInterdependenceDisplayed[this.currentInterdependenceIndex] = udpatedInterdependence;
    };
    /**************************************************************************
     * Impacts table
     *************************************************************************/
    EvolutionFormComponent.prototype.confirmDeleteImpact = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationImpact';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedImpact();
            }
        });
    };
    EvolutionFormComponent.prototype.createImpact = function () {
        this.showImpactDialog = true;
        this.isNewImpact = true;
        this.isReadOnlyImpactDialog = false;
        this.dataImpacts = {
            componentId: 'ImpactsPopupDialog',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editImpact = function () {
        var _this = this;
        this.isNewImpact = false;
        this.isReadOnlyImpactDialog = false;
        if (this.selectedImpacts.length === 1) {
            this.currentImpact = __assign({}, this.selectedImpacts[0]);
            this.currentImpact.actionTypeCode = this.propertyActionTypeImpact.filter(function (action) { return action.label === _this.currentImpact.actionTypeCode; })[0].value;
            this.currentImpactIndex = this.bireImpactDisplayed.indexOf(this.selectedImpacts[0]);
            this.showImpactDialog = true;
            this.dataImpacts = {
                componentId: 'ImpactsPopupDialog',
                selectedRow: this.selectedImpacts,
                object: this.currentImpact,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openImpact = function () {
        var _this = this;
        this.isReadOnlyImpactDialog = true;
        if (this.selectedImpacts.length === 1) {
            this.currentImpact = __assign({}, this.selectedImpacts[0]);
            this.currentImpact.actionTypeCode = this.propertyActionTypeImpact.filter(function (action) { return action.label === _this.currentImpact.actionTypeCode; })[0].value;
            this.currentImpactIndex = this.bireImpactDisplayed.indexOf(this.selectedImpacts[0]);
            this.showImpactDialog = true;
            this.dataImpacts = {
                componentId: 'ImpactsPopupDialog',
                selectedRow: this.selectedImpacts,
                object: this.currentImpact,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.addNewImpact = function (newImpact) {
        newImpact.actionTypeCode = this.propertyActionTypeImpact.filter(function (action) { return action.value === newImpact.actionTypeCode; })[0].label;
        var searchInDisplayedList = this.bireImpactDisplayed.find(function (value) {
            return value.variantCode === newImpact.variantCode &&
                value.familyCode === newImpact.familyCode &&
                value.structureType === newImpact.structureType &&
                value.actionTypeCode === newImpact.actionTypeCode &&
                value.chapter === newImpact.chapter &&
                value.section === newImpact.section &&
                value.sheet === newImpact.sheet &&
                value.subject === newImpact.subject &&
                value.marks === newImpact.marks &&
                value.pnCode === newImpact.pnCode;
        });
        if (!searchInDisplayedList) {
            this.bireImpactAddedList.push(newImpact);
            newImpact['item'] = newImpact.chapter + "-" + newImpact.section + "-" + newImpact.subject + "-" + newImpact.sheet + "-" + newImpact.marks;
            newImpact['variant'] = newImpact.familyCode + "-" + newImpact.structureType + "-" + newImpact.variantCode;
            newImpact['assetPn'] = "" + newImpact.pnCode;
            this.bireImpactDisplayed.push(newImpact);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('ImpactAlreadyExists'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedImpact = function () {
        var _this = this;
        this.selectedImpacts.forEach(function (element) {
            var searchInAddedList = _this.bireImpactAddedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.chapter === element.chapter &&
                    value.section === element.section &&
                    value.sheet === element.sheet &&
                    value.subject === element.subject &&
                    value.marks === element.marks &&
                    value.pnCode === element.pnCode;
            });
            var searchInUpdatedList = _this.bireImpactAddedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.chapter === element.chapter &&
                    value.section === element.section &&
                    value.sheet === element.sheet &&
                    value.subject === element.subject &&
                    value.marks === element.marks &&
                    value.pnCode === element.pnCode;
            });
            if (searchInAddedList) {
                var indexInAddedList = _this.bireImpactAddedList.indexOf(searchInAddedList);
                _this.bireImpactAddedList.splice(indexInAddedList, 1);
            }
            else {
                if (!!element.evolutionNumber &&
                    !!element.evolutionRevisionNumber &&
                    !!element.familyCode &&
                    !!element.structureType &&
                    !!element.actionTypeCode &&
                    !!element.variantCode &&
                    !!element.chapter &&
                    !!element.sheet &&
                    !!element.section &&
                    !!element.subject &&
                    !!element.marks &&
                    !!element.pnCode) {
                    var impactId = {
                        evolutionNumber: element.evolutionNumber,
                        evolutionRevisionNumber: element.evolutionRevisionNumber,
                        familyCode: element.familyCode,
                        structureType: element.structureType,
                        variantCode: element.variantCode,
                        actionTypeCode: element.actionTypeCode,
                        chapter: element.chapter,
                        sheet: element.sheet,
                        section: element.section,
                        subject: element.subject,
                        marks: element.marks,
                        pnCode: element.pnCode
                    };
                    if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireImpactUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireImpactUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireImpactDeletedList.push(impactId);
                    }
                    else {
                        _this.bireImpactDeletedList.push(impactId);
                    }
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'deleteSelectedImpact', 'element');
                }
            }
            var indexInDisplayedList = _this.bireImpactDisplayed.indexOf(element);
            _this.bireImpactDisplayed.splice(indexInDisplayedList, 1);
        });
        this.selectedImpacts = [];
    };
    EvolutionFormComponent.prototype.updateImpact = function (udpatedImpact) {
        udpatedImpact.actionTypeCode = this.propertyActionTypeImpact.filter(function (action) { return action.value === udpatedImpact.actionTypeCode; })[0].label;
        var previousImpactObject = this.bireImpactDisplayed[this.currentImpactIndex];
        var searchInAddedList = this.bireImpactAddedList.find(function (value) {
            return value.variantCode === previousImpactObject.variantCode &&
                value.familyCode === previousImpactObject.familyCode &&
                value.structureType === previousImpactObject.structureType &&
                value.chapter === previousImpactObject.chapter &&
                value.section === previousImpactObject.section &&
                value.sheet === previousImpactObject.sheet &&
                value.subject === previousImpactObject.subject &&
                value.marks === previousImpactObject.marks &&
                value.pnCode === previousImpactObject.pnCode;
        });
        var searchInUpdatedList = this.bireImpactUpdatedList.find(function (value) {
            return value.variantCode === previousImpactObject.variantCode &&
                value.familyCode === previousImpactObject.familyCode &&
                value.structureType === previousImpactObject.structureType &&
                value.chapter === previousImpactObject.chapter &&
                value.section === previousImpactObject.section &&
                value.sheet === previousImpactObject.sheet &&
                value.subject === previousImpactObject.subject &&
                value.marks === previousImpactObject.marks &&
                value.pnCode === previousImpactObject.pnCode;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireImpactAddedList.indexOf(searchInAddedList);
            this.bireImpactAddedList[indexInAddedList] = udpatedImpact;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireImpactUpdatedList.indexOf(searchInUpdatedList);
            this.bireImpactUpdatedList[indexInUpdatedList] = udpatedImpact;
        }
        else {
            this.bireImpactUpdatedList.push(udpatedImpact);
        }
        this.selectedImpacts = [];
        this.bireImpactDisplayed[this.currentImpactIndex] = udpatedImpact;
        this.bireImpactAddedList[this.currentImpactIndex]['assetPn'] = "" + udpatedImpact.pnCode;
    };
    /**************************************************************************
     * Impacts on pn evol table
     *************************************************************************/
    EvolutionFormComponent.prototype.confirmDeleteImpactEvol = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationImpactEvol';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedImpactEvol();
            }
        });
    };
    EvolutionFormComponent.prototype.createImpactEvol = function () {
        this.isNewImpactEvol = true;
        this.isReadOnlyImpactEvolDialog = false;
        this.showEvolDialog = true;
        this.dataImpactsEvol = {
            componentId: 'ImpactsEvolPopupDialog',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editImpactEvol = function () {
        var _this = this;
        this.isNewImpactEvol = false;
        this.isReadOnlyImpactEvolDialog = false;
        if (this.selectedImpactsEvol.length === 1) {
            this.currentImpactEvol = __assign({}, this.selectedImpactsEvol[0]);
            this.currentImpactEvol.actionTypeCode = this.propertyActionType.filter(function (action) { return action.label === _this.currentImpactEvol.actionTypeCode; })[0].value;
            if (this.currentImpactEvol.interchangeability) {
                this.currentImpactEvol.interchangeability = this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.label === _this.currentImpactEvol.interchangeability; })[0].value;
            }
            this.currentImpactEvolIndex = this.bireImpactEvolDisplayed.indexOf(this.selectedImpactsEvol[0]);
            this.showEvolDialog = true;
            this.dataImpactsEvol = {
                componentId: 'ImpactsEvolPopupDialog',
                selectedRow: this.selectedImpactsEvol,
                object: this.currentImpactEvol,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openImpactEvol = function () {
        var _this = this;
        this.isReadOnlyImpactEvolDialog = true;
        if (this.selectedImpactsEvol.length === 1) {
            this.currentImpactEvol = __assign({}, this.selectedImpactsEvol[0]);
            this.currentImpactEvol.actionTypeCode = this.propertyActionType.filter(function (action) { return action.label === _this.currentImpactEvol.actionTypeCode; })[0].value;
            if (this.currentImpactEvol.interchangeability) {
                this.currentImpactEvol.interchangeability = this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.label === _this.currentImpactEvol.interchangeability; })[0].value;
            }
            this.currentImpactEvolIndex = this.bireImpactEvolDisplayed.indexOf(this.selectedImpactsEvol[0]);
            this.showEvolDialog = true;
            this.dataImpactsEvol = {
                componentId: 'ImpactsEvolPopupDialog',
                selectedRow: this.selectedImpactsEvol,
                object: this.currentImpactEvol,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.addNewImpactEvol = function (newImpactEvol) {
        if (newImpactEvol.actionTypeCode) {
            newImpactEvol.actionTypeCode = this.propertyActionType.filter(function (action) { return action.value === newImpactEvol.actionTypeCode; })[0].label;
        }
        if (newImpactEvol.interchangeability) {
            newImpactEvol.interchangeability = this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.value === newImpactEvol.interchangeability; })[0].label;
        }
        var searchInDisplayedList = this.bireImpactEvolDisplayed.find(function (value) {
            return value.variantCode === newImpactEvol.variantCode &&
                value.familyCode === newImpactEvol.familyCode &&
                value.structureType === newImpactEvol.structureType &&
                value.pnCode === newImpactEvol.pnCode &&
                value.pnPnCode === newImpactEvol.pnPnCode &&
                value.chapter === newImpactEvol.chapter &&
                value.section === newImpactEvol.section &&
                value.sheet === newImpactEvol.sheet &&
                value.subject === newImpactEvol.subject &&
                value.marks === newImpactEvol.marks;
        });
        if (!searchInDisplayedList) {
            this.bireImpactEvolAddedList.push(newImpactEvol);
            var item = newImpactEvol.chapter + "-" + newImpactEvol.section + "-";
            item += newImpactEvol.subject + "-" + newImpactEvol.sheet + "-" + newImpactEvol.marks;
            newImpactEvol['item'] = item;
            newImpactEvol['variant'] = newImpactEvol.familyCode + "-" + newImpactEvol.structureType + "-" + newImpactEvol.variantCode;
            this.bireImpactEvolDisplayed.push(newImpactEvol);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('ImpactEvolAlreadyExists'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedImpactEvol = function () {
        var _this = this;
        this.selectedImpactsEvol.forEach(function (element) {
            var impactId = {
                pnPnCode: element.pnPnCode,
                evolutionNumber: element.evolutionNumber,
                evolutionRevisionNumber: element.evolutionRevisionNumber,
                familyCode: element.familyCode,
                structureType: element.structureType,
                variantCode: element.variantCode,
                actionTypeCode: element.actionTypeCode,
                chapter: element.chapter,
                sheet: element.sheet,
                section: element.section,
                subject: element.subject,
                marks: element.marks,
                pnCode: element.pnCode,
                applicability: element.applicability,
                versionNumber: element.versionNumber,
                interchangeability: element.interchangeability
            };
            var searchInAddedList = _this.bireImpactEvolAddedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.versionNumber === element.versionNumber &&
                    value.actionTypeCode === element.actionTypeCode &&
                    value.chapter === element.chapter &&
                    value.section === element.section &&
                    value.sheet === element.sheet &&
                    value.subject === element.subject &&
                    value.marks === element.marks;
            });
            var searchInUpdatedList = _this.bireImpactEvolAddedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.versionNumber === element.versionNumber &&
                    value.actionTypeCode === element.actionTypeCode &&
                    value.chapter === element.chapter &&
                    value.section === element.section &&
                    value.sheet === element.sheet &&
                    value.subject === element.subject &&
                    value.marks === element.marks;
            });
            if (searchInAddedList) {
                var indexInAddedList = _this.bireImpactEvolAddedList.indexOf(searchInAddedList);
                _this.bireImpactEvolAddedList.splice(indexInAddedList, 1);
            }
            else if (searchInUpdatedList) {
                var indexInUpdatedList = _this.bireImpactEvolUpdatedList.indexOf(searchInUpdatedList);
                _this.bireImpactEvolUpdatedList.splice(indexInUpdatedList, 1);
                _this.bireImpactEvolDeletedList.push(impactId);
            }
            else {
                _this.bireImpactEvolDeletedList.push(impactId);
            }
            var indexInDisplayedList = _this.bireImpactEvolDisplayed.indexOf(element);
            _this.bireImpactEvolDisplayed.splice(indexInDisplayedList, 1);
        });
        this.selectedImpactsEvol = [];
    };
    EvolutionFormComponent.prototype.updateImpactEvol = function (udpatedImpactEvol) {
        if (udpatedImpactEvol.actionTypeCode) {
            udpatedImpactEvol.actionTypeCode = this.propertyActionType.filter(function (action) { return action.value === udpatedImpactEvol.actionTypeCode; })[0].label;
        }
        if (udpatedImpactEvol.interchangeability) {
            udpatedImpactEvol.interchangeability = this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.value === udpatedImpactEvol.interchangeability; })[0].label;
        }
        var previousImpactEvolObject = this.bireImpactEvolDisplayed[this.currentImpactEvolIndex];
        var searchInAddedList = this.bireImpactEvolAddedList.find(function (value) {
            return value.variantCode === previousImpactEvolObject.variantCode &&
                value.familyCode === previousImpactEvolObject.familyCode &&
                value.structureType === previousImpactEvolObject.structureType &&
                value.versionNumber === previousImpactEvolObject.versionNumber &&
                value.actionTypeCode === previousImpactEvolObject.actionTypeCode &&
                value.chapter === previousImpactEvolObject.chapter &&
                value.section === previousImpactEvolObject.section &&
                value.sheet === previousImpactEvolObject.sheet &&
                value.subject === previousImpactEvolObject.subject &&
                value.marks === previousImpactEvolObject.marks;
        });
        var searchInUpdatedList = this.bireImpactEvolUpdatedList.find(function (value) {
            return value.variantCode === previousImpactEvolObject.variantCode &&
                value.familyCode === previousImpactEvolObject.familyCode &&
                value.structureType === previousImpactEvolObject.structureType &&
                value.versionNumber === previousImpactEvolObject.versionNumber &&
                value.actionTypeCode === previousImpactEvolObject.actionTypeCode &&
                value.chapter === previousImpactEvolObject.chapter &&
                value.section === previousImpactEvolObject.section &&
                value.sheet === previousImpactEvolObject.sheet &&
                value.subject === previousImpactEvolObject.subject &&
                value.marks === previousImpactEvolObject.marks;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireImpactEvolAddedList.indexOf(searchInAddedList);
            this.bireImpactEvolAddedList[indexInAddedList] = udpatedImpactEvol;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireImpactEvolUpdatedList.indexOf(searchInUpdatedList);
            this.bireImpactEvolUpdatedList[indexInUpdatedList] = udpatedImpactEvol;
        }
        else {
            this.bireImpactEvolUpdatedList.push(udpatedImpactEvol);
        }
        this.selectedImpactsEvol = [];
        this.bireImpactEvolDisplayed[this.currentImpactEvolIndex] = udpatedImpactEvol;
    };
    /**************************************************************************
     * Impacts on item table
     *************************************************************************/
    EvolutionFormComponent.prototype.findBireItemItemsByItemSon = function (bireEvolutionItemDTO, callback) {
        var _this = this;
        this.evolutionFormService.findBireItemItemsByItemSon(bireEvolutionItemDTO).subscribe(function (result) {
            _this.fatherItem = result;
            callback(result);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFather'));
        });
    };
    EvolutionFormComponent.prototype.confirmDeleteImpactItem = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationImpactItem';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedImpactItem();
            }
        });
    };
    EvolutionFormComponent.prototype.createImpactItem = function () {
        this.showItemDialog = true;
        this.isNewImpactItem = true;
        this.isReadOnlyImpactDialog = false;
        this.dataImpactsItem = {
            componentId: 'ImpactsItemPopupDialog',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create
        };
    };
    EvolutionFormComponent.prototype.editImpactItem = function () {
        var _this = this;
        this.isNewImpactItem = false;
        this.isReadOnlyImpactItemDialog = false;
        if (this.selectedImpactsItem.length === 1) {
            this.currentImpactItem = __assign({}, this.selectedImpactsItem[0]);
            this.currentImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(function (action) { return action.label === _this.currentImpactItem.actionTypeCode; })[0].value;
            this.currentImpactItemIndex = this.bireImpactItemDisplayed.indexOf(this.selectedImpactsItem[0]);
            this.showItemDialog = true;
            this.dataImpactsItem = {
                componentId: 'ImpactsItemPopupDialog',
                selectedRow: this.selectedImpactsItem,
                object: this.currentImpactItem,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.openImpactItem = function () {
        var _this = this;
        this.isReadOnlyImpactItemDialog = true;
        if (this.selectedImpactsItem.length === 1) {
            this.currentImpactItem = __assign({}, this.selectedImpactsItem[0]);
            this.currentImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(function (action) { return action.label === _this.currentImpactItem.actionTypeCode; })[0].value;
            this.currentImpactItemIndex = this.bireImpactItemDisplayed.indexOf(this.selectedImpactsItem[0]);
            this.showItemDialog = true;
            this.dataImpactsItem = {
                componentId: 'ImpactsItemPopupDialog',
                selectedRow: this.selectedImpactsItem,
                object: this.currentImpactItem,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
        }
    };
    EvolutionFormComponent.prototype.addNewImpactItem = function (newImpactItem) {
        var _this = this;
        if (newImpactItem.actionTypeCode) {
            newImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(function (action) { return action.value === newImpactItem.actionTypeCode; })[0].label;
        }
        var searchInDisplayedList = this.bireImpactItemDisplayed.find(function (value) {
            return value.variantCode === newImpactItem.variantCode &&
                value.familyCode === newImpactItem.familyCode &&
                value.structureType === newImpactItem.structureType &&
                value.chapter === newImpactItem.chapter &&
                value.sheet === newImpactItem.sheet &&
                value.section === newImpactItem.section &&
                value.marks === newImpactItem.marks &&
                value.subject === newImpactItem.subject &&
                value.actionTypeCode === newImpactItem.actionTypeCode;
        });
        if (!searchInDisplayedList) {
            this.bireImpactItemAddedList.push(newImpactItem);
            var item = newImpactItem.chapter + "-" + newImpactItem.section + "-";
            item += newImpactItem.subject + "-" + newImpactItem.sheet + "-" + newImpactItem.marks;
            newImpactItem['item'] = item;
            newImpactItem['variant'] = newImpactItem.familyCode + "-" + newImpactItem.structureType + "-" + newImpactItem.variantCode;
            this.findBireItemItemsByItemSon(newImpactItem, function (result) {
                if (!!result && result.length !== 0) {
                    var itemFather = result[0].fatherChapter + "-" + result[0].fatherSection + "-" + result[0].fatherSheet;
                    itemFather += "-" + result[0].fatherSubject + "-" + result[0].fatherMarks;
                    newImpactItem['itemFather'] = itemFather;
                }
                _this.bireImpactItemDisplayed.push(newImpactItem);
            });
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('ImpactItemAlreadyExists'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedImpactItem = function () {
        var _this = this;
        this.selectedImpactsItem.forEach(function (element) {
            var searchInAddedList = _this.bireImpactItemAddedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.chapter === element.chapter &&
                    value.section === element.section &&
                    value.sheet === element.sheet &&
                    value.subject === element.subject &&
                    value.marks === element.marks &&
                    value.actionTypeCode === element.actionTypeCode;
            });
            var searchInUpdatedList = _this.bireImpactItemAddedList.find(function (value) {
                return value.variantCode === element.variantCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.chapter === element.chapter &&
                    value.section === element.section &&
                    value.sheet === element.sheet &&
                    value.subject === element.subject &&
                    value.marks === element.marks &&
                    value.actionTypeCode === element.actionTypeCode;
            });
            if (searchInAddedList) {
                var indexInAddedList = _this.bireImpactItemAddedList.indexOf(searchInAddedList);
                _this.bireImpactItemAddedList.splice(indexInAddedList, 1);
            }
            else {
                if (!!element.evolutionNumber &&
                    !!element.evolutionRevisionNumber &&
                    !!element.familyCode &&
                    !!element.structureType &&
                    !!element.actionTypeCode &&
                    !!element.variantCode &&
                    !!element.chapter &&
                    !!element.sheet &&
                    !!element.section &&
                    !!element.subject &&
                    !!element.marks) {
                    var impactId = {
                        evolutionNumber: element.evolutionNumber,
                        evolutionRevisionNumber: element.evolutionRevisionNumber,
                        familyCode: element.familyCode,
                        structureType: element.structureType,
                        variantCode: element.variantCode,
                        actionTypeCode: element.actionTypeCode,
                        chapter: element.chapter,
                        sheet: element.sheet,
                        section: element.section,
                        subject: element.subject,
                        marks: element.marks
                    };
                    if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireImpactItemUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireImpactItemUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireImpactItemDeletedList.push(impactId);
                    }
                    else {
                        _this.bireImpactItemDeletedList.push(impactId);
                    }
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'deleteSelectedImpactItem', 'element');
                }
            }
            var indexInDisplayedList = _this.bireImpactItemDisplayed.indexOf(element);
            _this.bireImpactItemDisplayed.splice(indexInDisplayedList, 1);
        });
        this.selectedImpactsItem = [];
    };
    EvolutionFormComponent.prototype.updateImpactItem = function (udpatedImpactItem) {
        if (udpatedImpactItem.actionTypeCode) {
            udpatedImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(function (action) { return action.value === udpatedImpactItem.actionTypeCode; })[0].label;
        }
        var previousImpactItemObject = this.bireImpactItemDisplayed[this.currentImpactItemIndex];
        var searchInAddedList = this.bireImpactItemAddedList.find(function (value) {
            return value.variantCode === previousImpactItemObject.variantCode &&
                value.familyCode === previousImpactItemObject.familyCode &&
                value.structureType === previousImpactItemObject.structureType &&
                value.chapter === previousImpactItemObject.chapter &&
                value.section === previousImpactItemObject.section &&
                value.sheet === previousImpactItemObject.sheet &&
                value.subject === previousImpactItemObject.subject &&
                value.marks === previousImpactItemObject.marks &&
                value.actionTypeCode === previousImpactItemObject.actionTypeCode;
        });
        var searchInUpdatedList = this.bireImpactItemUpdatedList.find(function (value) {
            return value.variantCode === previousImpactItemObject.variantCode &&
                value.familyCode === previousImpactItemObject.familyCode &&
                value.structureType === previousImpactItemObject.structureType &&
                value.chapter === previousImpactItemObject.chapter &&
                value.section === previousImpactItemObject.section &&
                value.sheet === previousImpactItemObject.sheet &&
                value.subject === previousImpactItemObject.subject &&
                value.marks === previousImpactItemObject.marks &&
                value.actionTypeCode === previousImpactItemObject.actionTypeCode;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireImpactItemAddedList.indexOf(searchInAddedList);
            this.bireImpactItemAddedList[indexInAddedList] = udpatedImpactItem;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireImpactItemUpdatedList.indexOf(searchInUpdatedList);
            this.bireImpactItemUpdatedList[indexInUpdatedList] = udpatedImpactItem;
        }
        else {
            this.bireImpactItemUpdatedList.push(udpatedImpactItem);
        }
        this.selectedImpactsItem = [];
        this.bireImpactItemDisplayed[this.currentImpactItemIndex] = udpatedImpactItem;
    };
    /***********************************************************************************
     * Documents Tab
     ***********************************************************************************/
    /*
          Documents handler functions
      */
    EvolutionFormComponent.prototype.getCustomDocumentRow = function (newDocument) {
        return {
            _obj: newDocument,
            docCode: newDocument.docCode,
            docExtension: this.showDocExtension(newDocument),
            docName: newDocument.docName,
            docPublicationDate: this.dateService.dateToString(newDocument.docPublicationDate),
            docSize: this.showDocSize(newDocument),
            docSource: newDocument.docSource
        };
    };
    EvolutionFormComponent.prototype.addNewDocument = function (newDocument) {
        var searchInDisplayedList = this.bireDocumentDisplayed.find(function (value) { return value.docName === newDocument.docName; });
        if (!searchInDisplayedList) {
            this.bireDocumentAddedList.push(newDocument);
            this.bireDocumentDisplayed.push(this.getCustomDocumentRow(newDocument));
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorFileAlreadyExist'));
        }
    };
    EvolutionFormComponent.prototype.deleteSelectedDocuments = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedDocuments'),
            accept: function () {
                _this.selectedDocuments.forEach(function (element) {
                    var searchInAddedList = _this.bireDocumentAddedList.find(function (value) { return value.docName === element.docName; });
                    var searchInUpdatedList = _this.bireDocumentUpdatedList.find(function (value) { return value.docName === element.docName; });
                    if (searchInAddedList) {
                        var indexInAddedList = _this.bireDocumentAddedList.indexOf(searchInAddedList);
                        _this.bireDocumentAddedList.splice(indexInAddedList, 1);
                    }
                    else if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireDocumentUpdatedList.splice(indexInUpdatedList, 1);
                        if (!!_this.evolution.evolutionNumber && !!_this.evolution.evolutionRevisionNumber) {
                            var bireDocEvolId = {
                                evolutionNumber: _this.evolution.evolutionNumber,
                                evolutionRevisionNumber: _this.evolution.evolutionRevisionNumber,
                                docCode: element.docCode || ''
                            };
                            _this.bireDocDeletedList.push(bireDocEvolId);
                        }
                    }
                    else {
                        if (!!_this.evolution.evolutionNumber && !!_this.evolution.evolutionRevisionNumber) {
                            var bireDocEvolId = {
                                evolutionNumber: _this.evolution.evolutionNumber,
                                evolutionRevisionNumber: _this.evolution.evolutionRevisionNumber,
                                docCode: element.docCode || ''
                            };
                            _this.bireDocDeletedList.push(bireDocEvolId);
                        }
                    }
                    var indexInDisplayedList = _this.bireDocumentDisplayed.indexOf(element);
                    _this.bireDocumentDisplayed.splice(indexInDisplayedList, 1);
                });
                _this.bireDocDeletedList = __spread(_this.bireDocDeletedList);
                _this.selectedDocuments = [];
            }
        });
    };
    EvolutionFormComponent.prototype.updateDocument = function (updatedDocument) {
        if (this.currentDocumentIndex === undefined || this.currentDocumentIndex < 0) {
            this.addNewDocument(updatedDocument);
        }
        else {
            var previousDocumentObject_1 = this.bireDocumentDisplayed[this.currentDocumentIndex];
            var searchInAddedList = this.bireDocumentAddedList.find(function (value) { return value.docName === previousDocumentObject_1.docName; });
            var searchInUpdatedList = this.bireDocumentUpdatedList.find(function (value) { return value.docCode === previousDocumentObject_1.docCode; });
            if (searchInAddedList) {
                var indexInAddedList = this.bireDocumentAddedList.indexOf(searchInAddedList);
                this.bireDocumentAddedList[indexInAddedList] = updatedDocument;
            }
            else if (searchInUpdatedList) {
                var indexInUpdatedList = this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);
                this.bireDocumentUpdatedList[indexInUpdatedList] = updatedDocument;
            }
            else {
                this.bireDocumentUpdatedList.push(updatedDocument);
            }
            this.bireDocumentDisplayed[this.currentDocumentIndex] = this.getCustomDocumentRow(updatedDocument);
            this.selectedDocuments = [];
        }
    };
    // File handler utilities
    EvolutionFormComponent.prototype.showDocExtension = function (document) {
        return _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_24__["FileUtils"].getExtension(document.docName).toUpperCase();
    };
    EvolutionFormComponent.prototype.showDocSize = function (document) {
        return document.docFile ? _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_24__["FileUtils"].getFormattedSize(document.docFile.length) : '';
    };
    EvolutionFormComponent.prototype.editDocument = function () {
        var _this = this;
        if (this.selectedDocuments.length === 1) {
            this.currentDocumentIndex = this.bireDocumentDisplayed.findIndex(function (document) {
                return document === _this.selectedDocuments[0];
            });
            this.currentDocument = __assign({}, this.selectedDocuments[0]._obj);
            this.isReadOnlyDocumentDialog = false;
            this.showDocumentDialog = true;
        }
    };
    EvolutionFormComponent.prototype.openDocument = function () {
        if (this.selectedDocuments.length === 1) {
            this.currentDocument = this.selectedDocuments[0]._obj;
            this.isReadOnlyDocumentDialog = true;
            this.showDocumentDialog = true;
        }
    };
    EvolutionFormComponent.prototype.findBireDocumentsByEvol = function () {
        var _this = this;
        this.evolutionFormService.findBireDocumentsByEvol(this.evolution).subscribe(function (results) {
            _this.bireDocument = results;
            _this.bireDocument.forEach(function (element) {
                if (element && element.docPublicationDate) {
                    element.docPublicationDate = new Date(element.docPublicationDate.toString());
                }
                else {
                    _this.bireDocument.pop();
                }
            });
            _this.bireDocumentDisplayed = [];
            _this.bireDocument.forEach(function (doc) {
                _this.bireDocumentDisplayed.push(_this.getCustomDocumentRow(doc));
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireDocEvolsByEvol'));
        });
    };
    EvolutionFormComponent.prototype.addDocuments = function () {
        this.currentDocument = {};
        this.selectedDocuments = [];
        this.currentDocumentIndex = -1;
        this.isReadOnlyDocumentDialog = false;
        this.showDocumentDialog = true;
    };
    EvolutionFormComponent.prototype.downloadFiles = function () {
        this.selectedDocuments.forEach(function (documentRow) {
            _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_24__["FileUtils"].downloadFile(documentRow._obj.docFile, documentRow._obj.docName);
        });
    };
    EvolutionFormComponent.prototype.confirmUpgradeEvolution = function () {
        var _this = this;
        var partialMessageKey = 'confirmCreateEvolutionUpgrade';
        this.confirmationService.confirm({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.evolutionFormService.checkAndReturnNewRevisionNumberByEvolution(_this.evolution).subscribe(function (revisionNumber) {
                    if (!!revisionNumber && !!_this.evolution.evolutionRevisionNumber) {
                        var evolRevisionNumber = (parseInt(_this.evolution.evolutionRevisionNumber, 10) + 1).toString();
                        _this.evolutionFormService.upgradeBireEvolution(_this.evolution, evolRevisionNumber).subscribe(function (result) {
                            _this.evolution = result;
                            if (!!_this.componentData) {
                                _this.componentData.objectId = "" + _this.evolution.evolutionNumber;
                                _this.componentData.objectId += ";" + _this.evolution.evolutionRevisionNumber;
                            }
                            _this.getEvolution();
                            _this.ngOnInit();
                            _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnUpgradeEvolution'));
                        });
                    }
                    else {
                        _this.messageService.showErrorMessage(_this.getTranslateKey('upgradeAlreadyExists'));
                    }
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnUpgradeEvolution'));
                });
            }
        });
    };
    EvolutionFormComponent.prototype.getEvolution = function () {
        var _this = this;
        var bireEvolutionDTOId = {
            evolutionNumber: this.evolution.evolutionNumber,
            evolutionRevisionNumber: this.evolution.evolutionRevisionNumber
        };
        this.evolutionFormService.findBireEvolution(bireEvolutionDTOId).subscribe(function (data) {
            _this.evolution.evolutionCompliance = data.evolutionCompliance;
            _this.evolution.evolutionLevel = data.evolutionLevel;
            _this.evolution.evolutionSummary = data.evolutionSummary;
            _this.evolution.evolutionType = data.evolutionType;
            _this.evolution.tracked = data.tracked;
            _this.evolution.statusState = data.statusState;
            _this.evolution.statusDate = data.statusDate;
            _this.evolution.statusUser = data.statusUser;
        });
    };
    EvolutionFormComponent.prototype.updateListsAttributes = function () {
        var _this = this;
        this.bireApplicabilityAddedList.forEach(function (element) {
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
        });
        this.bireModificationAddedList.forEach(function (element) {
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
        });
        this.bireInterdependenceAddedList.forEach(function (element) {
            element.interdependenceCode = _this.interdependence.filter(function (status) { return status.label === element.interdependenceCode; })[0].value;
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
        });
        this.bireInterdependenceDeletedList.forEach(function (element) {
            element.interdependenceCode = _this.interdependence.filter(function (status) { return status.label === element.interdependenceCode; })[0].value;
        });
        this.bireImpactAddedList.forEach(function (element) {
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpact.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
        });
        this.bireImpactUpdatedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpact.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
        });
        this.bireImpactDeletedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpact.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
        });
        this.bireImpactEvolAddedList.forEach(function (element) {
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionType.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
            if (element.interchangeability) {
                element.interchangeability = _this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.label === element.interchangeability; })[0].value;
            }
        });
        this.bireImpactEvolDeletedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionType.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
            if (element.interchangeability) {
                element.interchangeability = _this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.label === element.interchangeability; })[0].value;
            }
        });
        this.bireImpactEvolUpdatedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionType.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
            if (element.interchangeability) {
                element.interchangeability = _this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.label === element.interchangeability; })[0].value;
            }
        });
        this.bireImpactItemAddedList.forEach(function (element) {
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpactItem.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
        });
        this.bireImpactItemUpdatedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpactItem.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
            }
        });
        this.bireImpactItemDeletedList.forEach(function (element) {
            if (!!_this.evolution.evolutionNumber && !!_this.evolution.evolutionRevisionNumber) {
                element.evolutionNumber = _this.evolution.evolutionNumber;
                element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
                if (element.actionTypeCode) {
                    element.actionTypeCode = _this.propertyActionTypeImpactItem.filter(function (action) { return action.label === element.actionTypeCode; })[0].value;
                }
            }
            else {
                _super.prototype.throwUnboundLocalError.call(_this, 'getEvolution', 'this.evolution');
            }
        });
        this.bireSbadAddedList.forEach(function (element) {
            element.statusState = _this.propertyStatusSbad.filter(function (status) { return status.label === element.statusState; })[0].value;
            if (element.statusState !== _this.evolution.statusState) {
                _this.messageService.showWarningMessage(_this.getTranslateKey('Warning'));
            }
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
        });
        this.bireConcernedAssetAddedList.forEach(function (element) {
            element.evolutionNumber = _this.evolution.evolutionNumber;
            element.evolutionRevisionNumber = _this.evolution.evolutionRevisionNumber;
            if (element.assetActionType) {
                element.assetActionType = _this.instructions.filter(function (actionType) { return actionType.label === element.assetActionType; })[0].value;
            }
        });
    };
    EvolutionFormComponent.prototype.transformDdlValueToLabel = function () {
        var _this = this;
        this.bireSbadAddedList.forEach(function (element) {
            element.statusState = _this.propertyStatusSbad.filter(function (status) { return status.value === element.statusState; })[0].label;
        });
        this.bireInterdependenceAddedList.forEach(function (element) {
            element.interdependenceCode = _this.interdependence.filter(function (status) { return status.value === element.interdependenceCode; })[0].label;
        });
        this.bireConcernedAssetAddedList.forEach(function (element) {
            if (element.assetActionType) {
                element.assetActionType = _this.instructions.filter(function (actionType) { return actionType.value === element.assetActionType; })[0].label;
            }
        });
        this.bireImpactEvolAddedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionType.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
            }
            if (element.interchangeability) {
                element.interchangeability = _this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.value === element.interchangeability; })[0].label;
            }
        });
        this.bireImpactEvolUpdatedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionType.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
            }
            if (element.interchangeability) {
                element.interchangeability = _this.propertyInterchangeability.filter(function (interchangeability) { return interchangeability.value === element.interchangeability; })[0].label;
            }
        });
        this.bireImpactItemAddedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpactItem.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
            }
        });
        this.bireImpactItemUpdatedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpactItem.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
            }
        });
        this.bireImpactAddedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpact.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
            }
        });
        this.bireImpactUpdatedList.forEach(function (element) {
            if (element.actionTypeCode) {
                element.actionTypeCode = _this.propertyActionTypeImpact.filter(function (action) { return action.value === element.actionTypeCode; })[0].label;
            }
        });
    };
    EvolutionFormComponent.prototype.saveEvolutionData = function () {
        var _this = this;
        if (this.evolution.evolutionNumber && this.evolution.evolutionRevisionNumber) {
            if (!this.isEvolutionAlreadyExist(this.evolution.evolutionNumber, this.evolution.evolutionRevisionNumber)) {
                this.updateListsAttributes();
                this.bireEvolutionAttributes = this.dynamicAttributesService.toBireEvolutionAttribute(this.evolution.evolutionNumber, this.evolution.evolutionRevisionNumber, this.dynamicAttributesForEvolution);
                var saveEvolutionDateInput = {
                    evolution: this.evolution,
                    bireApplicabilityAddedList: this.bireApplicabilityAddedList,
                    bireApplicabilityUpdatedList: this.bireApplicabilityUpdatedList,
                    bireApplicabilityDeletedList: this.bireApplicabilityDeletedList,
                    bireConcernedAssetAddedList: this.bireConcernedAssetAddedList,
                    bireImpactAddedList: this.bireImpactAddedList,
                    bireImpactUpdatedList: this.bireImpactUpdatedList,
                    bireImpactDeletedList: this.bireImpactDeletedList,
                    bireImpactEvolAddedList: this.bireImpactEvolAddedList,
                    bireImpactEvolUpdatedList: this.bireImpactEvolUpdatedList,
                    bireImpactEvolDeletedList: this.bireImpactEvolDeletedList,
                    bireImpactItemAddedList: this.bireImpactItemAddedList,
                    bireImpactItemUpdatedList: this.bireImpactItemUpdatedList,
                    bireImpactItemDeletedList: this.bireImpactItemDeletedList,
                    bireInterdependenceAddedList: this.bireInterdependenceAddedList,
                    bireInterdependenceUpdatedList: this.bireInterdependenceUpdatedList,
                    bireInterdependenceDeletedList: this.bireInterdependenceDeletedList,
                    bireModificationAddedList: this.bireModificationAddedList,
                    bireModificationUpdatedList: this.bireModificationUpdatedList,
                    bireModificationDeletedList: this.bireModificationDeletedList,
                    bireSbadAddedList: this.bireSbadAddedList,
                    bireSbadUpdatedList: this.bireSbadUpdatedList,
                    bireSbadDeletedList: this.bireSbadDeletedList,
                    bireEvolutionAttributes: this.bireEvolutionAttributes,
                    bireDocumentAddedList: this.bireDocumentAddedList,
                    bireDocumentUpdatedList: this.bireDocumentUpdatedList,
                    bireDocDeletedList: this.bireDocDeletedList
                };
                this.showSaveSpinner = true;
                this.evolutionFormService.saveEvolutionData(saveEvolutionDateInput).subscribe(function (result) {
                    _this.isCreateMode = false;
                    _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnSavedEvolution'));
                    _this.initLists();
                    _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
                    if (!!_this.componentData && !_this.componentData.objectId) {
                        // this.componentData.objectId = `${this.evolution.evolutionNumber};${this.evolution.evolutionRevisionNumber}`;
                        _this.isEditable = false;
                    }
                    var bireEvolutionId = {
                        evolutionNumber: _this.evolution.evolutionNumber,
                        evolutionRevisionNumber: _this.evolution.evolutionRevisionNumber
                    };
                    _this.componentData.objectId = _this.serializationService.serialize(bireEvolutionId);
                    _this.refresh();
                    _this.showSaveSpinner = false;
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSaveEvolution'));
                    _this.showSaveSpinner = false;
                });
                this.transformDdlValueToLabel();
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('evolutionAlreadyExist'));
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    EvolutionFormComponent.prototype.openStatusPopupSbad = function (bireEvolution) {
        var _this = this;
        this.bireSb = __assign({}, bireEvolution);
        if (this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireSb.statusState; }).length !== 0) {
            this.bireSb.statusState = this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireSb.statusState; })[0].value;
        }
        if (this.bireSb.statusDate) {
            this.bireSb.statusDate = new Date(this.bireSb.statusDate);
        }
        var id = this.evolution.evolutionNumber + "-" + this.evolution.evolutionRevisionNumber + "/";
        id += this.bireSb.sbNumber + "-" + this.bireSb.sbRevisionNumber;
        this.bireSbId = id;
        this.displayStatusPopupSb = true;
    };
    EvolutionFormComponent.prototype.openStatusPopupModification = function (bireEvolution) {
        var _this = this;
        this.bireModif = __assign({}, bireEvolution);
        if (this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireModif.statusState; }).length !== 0) {
            this.bireModif.statusState = this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireModif.statusState; })[0].value;
        }
        if (this.bireModif.statusDate) {
            this.bireModif.statusDate = new Date(this.bireModif.statusDate);
        }
        if (!!this.evolution) {
            var id = this.bireModif.modificationType + "-" + this.bireModif.modificationNumber;
            id += "-" + this.bireModif.modificationRevisionNumber + "/";
            id += this.evolution.evolutionNumber + "-" + this.evolution.evolutionRevisionNumber;
            this.bireModifId = id;
        }
        this.displayStatusPopupModif = true;
    };
    EvolutionFormComponent.prototype.openStatusPopupApplicability = function () {
        var _this = this;
        if (!!this.selectedApplicabilities && this.selectedApplicabilities.length === 1) {
            this.bireAppli = __assign({}, this.selectedApplicabilities[0]);
            if (this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireAppli.statusState; }).length !== 0) {
                this.bireAppli.statusState = this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireAppli.statusState; })[0].value;
            }
            if (this.bireAppli.statusDate) {
                this.bireAppli.statusDate = new Date(this.bireAppli.statusDate);
            }
            var id = this.bireAppli.familyCode + "-" + this.bireAppli.variantCode + "/";
            id += this.bireAppli.evolutionNumber + "-" + this.bireAppli.evolutionRevisionNumber;
            this.bireAppliId = id;
            this.displayStatusPopupAppli = true;
        }
    };
    EvolutionFormComponent.prototype.openStatusPopupInterdependence = function () {
        var _this = this;
        if (!!this.selectedInterdependences && this.selectedInterdependences.length === 1) {
            this.bireInterdep = __assign({}, this.selectedInterdependences[0]);
            if (this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireInterdep.statusState; }).length !== 0) {
                this.bireInterdep.statusState = this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireInterdep.statusState; })[0].value;
            }
            if (this.bireInterdep.statusDate) {
                this.bireInterdep.statusDate = new Date(this.bireInterdep.statusDate);
            }
            this.bireInterdepId = this.bireInterdep.evolutionNumber + "-" + this.bireInterdep.evolutionRevisionNumber + "/\n    " + this.bireInterdep.evoEvolutionNumber + "-" + this.bireInterdep.evoEvolutionRevisionNumber;
            this.displayStatusPopupInterdep = true;
        }
    };
    EvolutionFormComponent.prototype.openStatusPopupImpact = function () {
        var _this = this;
        if (!!this.selectedImpacts && this.selectedImpacts.length === 1) {
            this.bireImpact = __assign({}, this.selectedImpacts[0]);
            if (this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireImpact.statusState; }).length !== 0) {
                this.bireImpact.statusState = this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireImpact.statusState; })[0].value;
            }
            if (this.bireImpact.statusDate) {
                this.bireImpact.statusDate = new Date(this.bireImpact.statusDate);
            }
            var id = this.bireImpact.pnCode + "/";
            id += this.bireImpact.evolutionNumber + "-" + this.bireImpact.evolutionRevisionNumber;
            this.bireImpactId = id;
            this.displayStatusPopupImpact = true;
        }
    };
    EvolutionFormComponent.prototype.openStatusPopupImpactItem = function () {
        var _this = this;
        if (!!this.selectedImpactsItem && this.selectedImpactsItem.length === 1) {
            this.bireImpactItem = __assign({}, this.selectedImpactsItem[0]);
            if (this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireImpactItem.statusState; }).length !== 0) {
                this.bireImpactItem.statusState = this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireImpactItem.statusState; })[0].value;
            }
            if (this.bireImpactItem.statusDate) {
                this.bireImpactItem.statusDate = new Date(this.bireImpactItem.statusDate);
            }
            var id = this.bireImpactItem.familyCode + "-" + this.bireImpactItem.variantCode + "/";
            id += this.bireImpactItem.evolutionNumber + "-" + this.bireImpactItem.evolutionRevisionNumber;
            this.bireImpactItemId = id;
            this.displayStatusPopupImpactItem = true;
        }
    };
    EvolutionFormComponent.prototype.openStatusPopupImpactEvol = function () {
        var _this = this;
        if (this.selectedImpactsEvol && this.selectedImpactsEvol.length === 1) {
            this.bireImpactEvol = __assign({}, this.selectedImpactsEvol[0]);
            if (this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireImpactEvol.statusState; }).length !== 0) {
                this.bireImpactEvol.statusState = this.propertyObjectStatus.filter(function (status) { return status.value === _this.bireImpactEvol.statusState; })[0].value;
            }
            if (this.bireImpactEvol.statusDate) {
                this.bireImpactEvol.statusDate = new Date(this.bireImpactEvol.statusDate);
            }
            var actionTypeCode = this.propertyActionType.filter(function (action) { return action.label === _this.bireImpactEvol.actionTypeCode; })[0].value;
            var id = this.bireImpactEvol.familyCode + "-" + this.bireImpactEvol.variantCode;
            id += "-" + this.bireImpactEvol.chapter + "-" + this.bireImpactEvol.section + "-";
            id += this.bireImpactEvol.subject + "-" + this.bireImpactEvol.sheet + "-" + this.bireImpactEvol.marks + "/";
            id += this.bireImpactEvol.pnCode + "/" + this.bireImpactEvol.pnPnCode + "/";
            id += this.evolution.evolutionNumber + "-" + this.evolution.evolutionRevisionNumber + "/" + actionTypeCode;
            this.bireImpactEvolId = id;
            this.displayStatusPopupImpactEvol = true;
        }
    };
    EvolutionFormComponent.prototype.openStatusUpdatesPopup = function () {
        var _this = this;
        // Test of the popup (not the real history)
        this.showStatusUpdatesPopup = true;
        this.evolutionStatus = __assign({}, this.evolution);
        if (this.evolutionStatus.statusState) {
            this.evolutionStatus.statusState = this.propertyStatus.filter(function (status) { return status.value === _this.evolutionStatus.statusState; })[0].value;
        }
        if (!!this.evolutionStatus.statusState) {
            this.evolutionStatus.statusDate = new Date(this.evolutionStatus.statusState.toString());
        }
        var columns = [
            { field: 'timestamp', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, isDate: true, alignment: 'left' },
            { field: 'statusUser', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'action', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'statusState', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'evolutionType', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'evolutionSummary', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'evolutionLevel', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'evolutionCompliance', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'tracked', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'left' }
        ];
        var evolutionId = {
            evolutionNumber: this.evolution.evolutionNumber,
            evolutionRevisionNumber: this.evolution.evolutionRevisionNumber
        };
        this.updatesKeyMap.set('evolutionCompliance', this.evolutionFormService.getComplianceMap());
        this.updatesKeyMap.set('evolutionType', this.evolutionFormService.getEvolutionTypeMap());
        this.updatesKeyMap.set('evolutionLevel', this.evolutionFormService.getEvolutionLevelMap());
        this.tableStatusUpdatesData = {
            componentId: 'EvolutionFormComponent',
            tableCols: columns,
            tableRows: this.updateHistoricService.findBireEvolutionHistoric(evolutionId),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableSelectionMode"].Multiple,
            globalFilter: false
        };
    };
    EvolutionFormComponent.prototype.isSelectedAnchor = function (anchorId) {
        return anchorId === this.selectedAnchor;
    };
    EvolutionFormComponent.prototype.setSelectedAnchor = function (anchorId) {
        this.pageTocService.setAnchorSelected(anchorId);
        this.selectedAnchor = anchorId;
    };
    EvolutionFormComponent.prototype.isEvolutionAlreadyExist = function (evolutionNumber, evolutionRevisionNumber) {
        var isFound = false;
        if (this.componentData && this.componentData.objectId) {
            return false;
        }
        this.resultsTable.forEach(function (res) {
            if (res.evolutionNumber === evolutionNumber && res.evolutionRevisionNumber === evolutionRevisionNumber) {
                isFound = true;
            }
        });
        return isFound;
    };
    EvolutionFormComponent.prototype.evolutionList = function () {
        var _this = this;
        this.evolutionSearchService.findBireEvolutionsByEvolutionCriteria({}, '', '', '').subscribe(function (results) {
            _this.resultsTable = results.list;
        });
    };
    /**
     * Event on Modification row click
     * param modification
     */
    EvolutionFormComponent.prototype.openModificationNumber = function (modification) {
        var selectedObjectId = {
            familyCode: modification.familyCode,
            structureType: modification.structureType,
            modificationType: modification.modificationType,
            modificationNumber: modification.modificationNumber,
            modificationRevisionNumber: modification.modificationRevisionNumber
        };
        this.openModificationForm(selectedObjectId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
    };
    EvolutionFormComponent.prototype.openModificationForm = function (objectId, openMode) {
        var labelKey = 'transaction.ModificationFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'ModificationFormComponent',
            objectId: objectId ? this.serializationService.serialize(objectId) : undefined,
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    /**
     * Event on Evolution row click
     * param modification
     */
    EvolutionFormComponent.prototype.openEvolutionNumber = function (ev) {
        if (ev && ev.evoEvolutionNumber && ev.evoEvolutionRevisionNumber) {
            var bireEvId = {
                evolutionNumber: ev.evoEvolutionNumber,
                evolutionRevisionNumber: ev.evoEvolutionRevisionNumber
            };
            this.openEvolution(this.serializationService.serialize(bireEvId));
        }
    };
    /**
     * Event on Task row click
     * param modification
     */
    EvolutionFormComponent.prototype.openTaskCode = function (task) {
        if (task) {
            this.openTask(task, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
        }
    };
    EvolutionFormComponent.prototype.openTask = function (object, openMode) {
        if (object != undefined) {
            var labelKey = 'transaction.TaskFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'TaskFormComponent',
                objectId: this.serializationService.serialize(object),
                openMode: openMode
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
    };
    /**
     * Event on SbAD row click
     * param modification
     */
    EvolutionFormComponent.prototype.openRevisionNumber = function (row) {
        if (row && row.sbNumber && row.sbRevisionNumber) {
            var bireSbId = { sbNumber: row.sbNumber, sbRevisionNumber: row.sbRevisionNumber };
            if (row.sbType === 'AD') {
                this.openADForm(bireSbId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
            }
            else {
                this.openSBForm(bireSbId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
            }
        }
    };
    EvolutionFormComponent.prototype.openSBForm = function (objectId, openMode) {
        if (objectId != undefined) {
            var labelKey = 'transaction.SbadFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'SbadFormComponent',
                objectId: this.serializationService.serialize(objectId),
                openMode: openMode
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
    };
    EvolutionFormComponent.prototype.openADForm = function (objectId, openMode) {
        if (objectId != undefined) {
            var labelKey = 'transaction.AirworthinessDirectiveFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'AirworthinessDirectiveFormComponent',
                objectId: this.serializationService.serialize(objectId),
                openMode: openMode
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
    };
    EvolutionFormComponent.prototype.showStatus = function () {
        var _this = this;
        var overlayRef = this._overlayService.openWithPositionCenter({
            content: _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_26__["ObjectStatusComponent"],
            data: {
                currentAuthor: this.evolution.statusUser,
                currentDate: this.evolution.statusDate,
                currentStatus: {
                    label: this._formatSelectOption.transform(this.evolution.statusState, this.propertyStatus),
                    value: this.evolution.statusState
                },
                nextStatuses: this.propertyStatus
            }
        });
        overlayRef.afterClosed$.subscribe({
            next: function (event) {
                if (event.data) {
                    _this.evolution.statusState = event.data;
                    _this.saveEvolutionData();
                }
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('mainInfoAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], EvolutionFormComponent.prototype, "mainInfoAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('generalAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], EvolutionFormComponent.prototype, "generalAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('airworthiDocAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], EvolutionFormComponent.prototype, "airworthiDocAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('applicabilityAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], EvolutionFormComponent.prototype, "applicabilityAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('impactAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], EvolutionFormComponent.prototype, "impactAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('tasksAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], EvolutionFormComponent.prototype, "tasksAnchor", void 0);
    EvolutionFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-evolution-form',
            template: __webpack_require__(/*! ./evolution-form.component.html */ "./src/app/main/engineering-management/evolution-form/evolution-form.component.html"),
            styles: [__webpack_require__(/*! ./evolution-form.component.scss */ "./src/app/main/engineering-management/evolution-form/evolution-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_15__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_16__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_17__["MessageService"],
            _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_4__["PageTocService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_19__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_21__["TabService"],
            _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureHistoryApi"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_14__["DateService"],
            _evolution_form_service__WEBPACK_IMPORTED_MODULE_29__["EvolutionFormService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_13__["ConfirmationService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_5__["DynamicAttributesService"],
            _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_22__["UpdateHistoricService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_20__["SessionService"],
            _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_3__["UpdateHistoricApi"],
            _evolution_search_evolution_search_service__WEBPACK_IMPORTED_MODULE_28__["EvolutionSearchService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_18__["PropertiesService"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_27__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_12__["FormatSelectOptionPipe"]])
    ], EvolutionFormComponent);
    return EvolutionFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_23__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/evolution-form.service.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/evolution-form.service.ts ***!
  \**************************************************************************************/
/*! exports provided: EvolutionFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvolutionFormService", function() { return EvolutionFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-history.api */ "./src/app/shared/api/product-structure-history.api.ts");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/api/task-management.api */ "./src/app/shared/api/task-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var EvolutionFormService = /** @class */ (function (_super) {
    __extends(EvolutionFormService, _super);
    function EvolutionFormService(http, appConfigService, productStructureHistoryApi, productStructureManagementApi, taskManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureHistoryApi = productStructureHistoryApi;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.taskManagementApi = taskManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    EvolutionFormService.prototype.findBireEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolution, evolution);
    };
    EvolutionFormService.prototype.getFuncObjectStatusMap = function () {
        return this.propertiesService.getValue('getFuncObjectStatusMap');
    };
    EvolutionFormService.prototype.getEvolutionTypeMap = function () {
        return this.propertiesService.getValue('getEvolutionTypeMap');
    };
    EvolutionFormService.prototype.getComplianceMap = function () {
        return this.propertiesService.getValue('getComplianceMap');
    };
    EvolutionFormService.prototype.getEvolutionLevelMap = function () {
        return this.propertiesService.getValue('getEvolutionLevelMap');
    };
    EvolutionFormService.prototype.getFunctionObjectionStatus = function (status) {
        return this.propertiesService.getObjectStatusList(true, false, false, status, false);
    };
    // SB/AD
    EvolutionFormService.prototype.findBireEvolutionSbsByEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionSbsByEvolution, evolution);
    };
    // Modifications Table
    EvolutionFormService.prototype.findBireModificationEvolutionsByEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModificationEvolutionsByEvolution, evolution);
    };
    // Interdependences
    EvolutionFormService.prototype.findBireEvolutionEvolutionsByEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionEvolutionsByEvolution, evolution);
    };
    // Applicabilities
    EvolutionFormService.prototype.findBireEvolutionVariantsByEvolutionNumbers = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionVariantsByEvolutionNumbers, evolution);
    };
    // Assets
    EvolutionFormService.prototype.findBireConcernedAssetsByEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireConcernedAssetsByEvolution, evolution);
    };
    // Retrieve the instruction dropdownlist in the Asset table
    EvolutionFormService.prototype.getAssetActionType = function () {
        return this.propertiesService.getValue('getAssetActionTypeMap');
    };
    // Impacts on P/N Evolution
    EvolutionFormService.prototype.findBireItemPnEvolutionsByEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemPnEvolutionsByEvolution, evolution);
    };
    // Impacts on P/N
    EvolutionFormService.prototype.findBireEvolutionPnsByEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionPnsByEvolution, evolution);
    };
    // Impacts on Item
    EvolutionFormService.prototype.findBireEvolutionItemsByEvolution = function (evolution) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionItemsByEvolution, evolution);
    };
    EvolutionFormService.prototype.getPnInterchangeabilityMap = function () {
        return this.propertiesService.getValue('getPnInterchangeabilityMap');
    };
    EvolutionFormService.prototype.findBireActionTypesByActionTypeCode = function (item) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireActionTypesByActionTypeCode, item);
    };
    EvolutionFormService.prototype.findAllBireInterdependences = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireInterdependences);
    };
    EvolutionFormService.prototype.findAllBireVariantVersions = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireVariantVersions);
    };
    EvolutionFormService.prototype.findBireTaskEvolutionsByEvolution = function (evolutionId) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireTaskEvolutionsByEvolution, evolutionId);
    };
    EvolutionFormService.prototype.saveEvolutionData = function (saveEvolutionDateInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.saveEvolutionData, saveEvolutionDateInput);
    };
    EvolutionFormService.prototype.findBireItemItemsByItemSon = function (bireEvolutionItemDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemItemsByItemSon, bireEvolutionItemDTO);
    };
    EvolutionFormService.prototype.checkAndReturnNewRevisionNumberByEvolution = function (bireEvolutionDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.checkAndReturnNewRevisionNumberByEvolution, bireEvolutionDTO);
    };
    EvolutionFormService.prototype.upgradeBireEvolution = function (bireEvolutionDTO, targetRevisionNumber) {
        var upgradeBireEvolutionInput = {
            bireEvolutionDTO: bireEvolutionDTO,
            targetRevisionNumber: targetRevisionNumber
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.upgradeBireEvolution, upgradeBireEvolutionInput);
    };
    EvolutionFormService.prototype.findBireAttributesByCategory = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategory, category);
    };
    EvolutionFormService.prototype.findBireEvolutionAttributesByEvolution = function (bireEvolution) {
        var bireEvolutionId = {
            evolutionNumber: bireEvolution.evolutionNumber,
            evolutionRevisionNumber: bireEvolution.evolutionRevisionNumber
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionAttributesByEvolution, bireEvolutionId);
    };
    EvolutionFormService.prototype.findHBireEvolutionAttributesByAttributeId = function (ids) {
        return _super.prototype.post.call(this, this.productStructureHistoryApi.findHBireEvolutionAttributesByAttributeId, ids);
    };
    EvolutionFormService.prototype.findBireDocumentsByEvol = function (evolutionDto) {
        var bireEvolDtoId = {
            evolutionRevisionNumber: evolutionDto.evolutionRevisionNumber || '',
            evolutionNumber: evolutionDto.evolutionNumber || ''
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireDocumentByEvolution, bireEvolDtoId);
    };
    EvolutionFormService.prototype.getObjectStatusMap = function () {
        return this.propertiesService.getValue('getObjectStatusMap');
    };
    EvolutionFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureHistoryApi"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__["ProductStructureManagementApi"],
            _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_4__["TaskManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_7__["PropertiesService"]])
    ], EvolutionFormService);
    return EvolutionFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.html":
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.html ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"50\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"section\">\r\n        <div class=\"section-content\">\r\n          <div class=\"row\">\r\n            <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm && this.isEditable }\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".familyCode\" | translate }}</label>\r\n\r\n              <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm || !isEditable }\">\r\n                <div class=\"form-control-data\" (click)=\"showFamilyCode()\">{{ newEvol.familyCode }}</div>\r\n\r\n                <div *ngIf=\"newEvol.familyCode && !isReadOnlyForm\" class=\"btn-clear-wrapper\">\r\n                  <i\r\n                    class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                    aria-hidden=\"true\"\r\n                    (click)=\"\r\n                      newEvol.familyCode = undefined; newEvol.structureType = undefined; newEvol.variantCode = undefined\r\n                    \"\r\n                  ></i>\r\n                </div>\r\n                <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n                  <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showFamilyCode()\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\" [ngClass]=\"{ 'visibility--hidden': !newEvol.structureType }\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".structureType\" | translate }}</label>\r\n\r\n              <div class=\"form-control\">\r\n                <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newEvol.structureType\" [disabled]=\"true\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\" [ngClass]=\"{ 'visibility--hidden': !newEvol.variantCode }\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".variantCode\" | translate }}</label>\r\n\r\n              <div class=\"form-control\">\r\n                <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newEvol.variantCode\" [disabled]=\"true\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".approvalDate\" | translate }}</label>\r\n\r\n              <div class=\"form-control\">\r\n                <p-calendar\r\n                  showButtonBar=\"true\"\r\n                  [monthNavigator]=\"true\"\r\n                  [yearNavigator]=\"true\"\r\n                  [yearRange]=\"sessionService.calendarYearRange\"\r\n                  class=\"aw-calendar\"\r\n                  [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                  [locale]=\"sessionService.calendarFormat\"\r\n                  [disabled]=\"isReadOnlyForm\"\r\n                  [(ngModel)]=\"newEvol.evolutionApplicabilityDate\"\r\n                  appendTo=\"body\"\r\n                ></p-calendar>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group flex--2\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <h4 class=\"section-title\">{{ getComponentName() + \".applicabilitiesPartnerAssociated\" | translate }}</h4>\r\n\r\n        <div class=\"section-content\">\r\n          <div class=\"row\">\r\n            <p-table\r\n              [resizableColumns]=\"true\"\r\n              #ptable\r\n              class=\"aw-table2\"\r\n              [columns]=\"applicabilitiesPartnerTableCols\"\r\n              [value]=\"applicabilitiesPartnerTable\"\r\n              [(selection)]=\"selectedApplicabilitiesPartner\"\r\n              dataKey=\"rowData\"\r\n              [scrollable]=\"true\"\r\n            >\r\n              <ng-template pTemplate=\"emptymessage\">\r\n                <span *ngIf=\"!isLoading\"> &nbsp;</span>\r\n\r\n                <div *ngIf=\"isLoading\" class=\"aw-table-loading-indicator\">\r\n                  <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                  <div class=\"lds-hourglass\"></div>\r\n                </div>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"caption\">\r\n                <div class=\"aw-table-header\">\r\n                  <div class=\"aw-table-global-filter\">\r\n                    <label class=\"aw-table-global-filter-label\">\r\n                      <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                    </label>\r\n\r\n                    <input\r\n                      #ptableGlobalFilter\r\n                      class=\"aw-table-global-filter-input\"\r\n                      type=\"text\"\r\n                      placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                      (input)=\"ptable.filterGlobal($event.target.value, 'contains')\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"colgroup\" let-columns>\r\n                <colgroup>\r\n                  <col class=\"aw-table-checkbox-wrapper\" />\r\n                  <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                </colgroup>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"header\" let-columns>\r\n                <tr>\r\n                  <th class=\"aw-table-checkbox-wrapper\">\r\n                    <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                  </th>\r\n\r\n                  <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                    {{ getComponentName() + \".\" + col.field | translate }}\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                  <td class=\"aw-table-checkbox-wrapper\">\r\n                    <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                  </td>\r\n\r\n                  <td *ngFor=\"let col of columns\" [ngSwitch]=\"col.field\">\r\n                    <span *ngSwitchCase=\"'owner?'\">\r\n                      <p-checkbox name=\"owner\" value=\"0\" [(ngModel)]=\"rowData['owner']\" binary=\"true\"></p-checkbox>\r\n                    </span>\r\n                    <span *ngSwitchCase=\"'finished?'\">\r\n                      <p-checkbox\r\n                        name=\"finished\"\r\n                        value=\"1\"\r\n                        [disabled]=\"!rowData['owner']\"\r\n                        [(ngModel)]=\"rowData['finished']\"\r\n                        binary=\"true\"\r\n                      ></p-checkbox>\r\n                    </span>\r\n                    <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"newEvol.familyCode === undefined || newEvol.familyCode === null || newEvol.familyCode.length === 0\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-table\r\n  *ngIf=\"showFamilyCodeDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showFamilyCodeDialog\"\r\n  [data]=\"dialogTableDataFamilyCode\"\r\n  (onSelected)=\"setSelectedFamilyCode($event)\"\r\n></aw-dialog-table>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.ts":
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.ts ***!
  \**************************************************************************************************************************************/
/*! exports provided: ApplicabilitiesPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApplicabilitiesPopupFormComponent", function() { return ApplicabilitiesPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _applicabilities_popup_form_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./applicabilities-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ApplicabilitiesPopupFormComponent = /** @class */ (function (_super) {
    __extends(ApplicabilitiesPopupFormComponent, _super);
    function ApplicabilitiesPopupFormComponent(applicabilitiesPopupFormService, messageService, sessionService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'ApplicabilityPopupDialog') || this;
        _this.applicabilitiesPopupFormService = applicabilitiesPopupFormService;
        _this.messageService = messageService;
        _this.sessionService = sessionService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.showFamilyCodeDialog = false;
        _this.applicabilitiesPartnerTable = [];
        _this.applicabilitiesPartnerTableFilteredRowsNb = 0;
        _this.contentTable = [];
        _this.selectedEvolutions = [];
        _this.newEvol = {};
        _this.keyMap = new Map();
        _this.keyMap.set('familyFunction', _this.applicabilitiesPopupFormService.getFamilyFunctionMap());
        _this.keyMap.set('structureType', _this.applicabilitiesPopupFormService.getStructureTypeMap());
        _this.searchFamilyCode();
        return _this;
    }
    ApplicabilitiesPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData &&
            this.componentData.componentId &&
            this.componentData.object &&
            this.componentData.componentId.length > 0) {
            this.newEvol = this.componentData.object;
            if (!!this.componentData.selectedRow) {
                this.selectedEvolutions = this.componentData.selectedRow;
            }
            this.applicabilitiesPartnerTableCols = [
                { field: 'partnerCode', alignment: 'left' },
                { field: 'owner?', alignment: 'left' },
                { field: 'finished?', alignment: 'left' }
            ];
            if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {
                this.isEditable = true;
            }
            else {
                if (!!this.newEvol.evolutionApplicabilityDate) {
                    this.newEvol.evolutionApplicabilityDate = new Date(this.newEvol.evolutionApplicabilityDate);
                }
                this.isEditable = false;
            }
            this.loadApplicabilityPartner();
        }
    };
    ApplicabilitiesPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    ApplicabilitiesPopupFormComponent.prototype.alterEvolution = function (evol) {
        var oemPartner = '';
        this.applicabilitiesPartnerTable.forEach(function (rowData) {
            if (!rowData.owner) {
                rowData.finished = undefined;
            }
            if (!!rowData && rowData.partnerCode) {
                if (rowData.owner && !rowData.finished) {
                    // tslint:disable-next-line:no-string-literal
                    oemPartner = oemPartner + rowData.partnerCode.split('-')[0] + '=' + 'On going' + ' ';
                }
                else if (rowData.owner && rowData.finished) {
                    // tslint:disable-next-line:no-string-literal
                    oemPartner = oemPartner + rowData.partnerCode.split('-')[0] + '=' + 'Finished' + ' ';
                }
            }
        });
        // tslint:disable-next-line:no-string-literal
        evol.statusStatePerPartner = oemPartner;
        return evol;
    };
    ApplicabilitiesPopupFormComponent.prototype.onHide = function () {
        this.newEvol = {};
        this.display = false;
    };
    ApplicabilitiesPopupFormComponent.prototype.onValidate = function () {
        if (this.newEvol.familyCode) {
            if (this.isNewApplicability) {
                this.newEvol = this.alterEvolution(this.newEvol);
                this.onCreate.emit(this.newEvol);
                this.display = false;
            }
            else {
                this.newEvol = this.alterEvolution(this.newEvol);
                this.onUpdate.emit(this.newEvol);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    ApplicabilitiesPopupFormComponent.prototype.searchFamilyCode = function () {
        var test = [
            { field: 'familyCode', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'familyName', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'familyFunction', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'structureType', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'variantCode', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'variantName', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
        ];
        this.dialogTableDataFamilyCode = {
            componentId: 'ApplicabilityPopupDialog',
            tableCols: test,
            tableRows: this.applicabilitiesPopupFormService.findFamilyVariantVersion(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ApplicabilitiesPopupFormComponent.prototype.setSelectedFamilyCode = function (selectedObject) {
        if (selectedObject) {
            this.newEvol.familyCode = selectedObject.familyCode;
            this.newEvol.structureType = selectedObject.structureType;
            this.newEvol.variantCode = selectedObject.variantCode;
        }
        this.showFamilyCodeDialog = false;
        this.loadApplicabilityPartner();
    };
    ApplicabilitiesPopupFormComponent.prototype.showFamilyCode = function () {
        if (!this.isReadOnlyForm && this.isEditable) {
            this.showFamilyCodeDialog = true;
        }
    };
    ApplicabilitiesPopupFormComponent.prototype.loadApplicabilityPartner = function () {
        var _this = this;
        if (!!this.newEvol && !!this.newEvol.familyCode && !!this.newEvol.structureType && !!this.newEvol.variantCode) {
            var variantVersion = {
                familyCode: this.newEvol.familyCode,
                structureType: this.newEvol.structureType,
                variantCode: this.newEvol.variantCode
            };
            this.applicabilitiesPartnerTable = [];
            this.applicabilitiesPopupFormService.findBirePartnersByVariant(variantVersion).subscribe(function (results) {
                if (results) {
                    results.forEach(function (res) {
                        var dto = {
                            familyCode: res.familyCode,
                            partnerCode: res.partnerCode,
                            structureType: res.structureType,
                            variantCode: res.variantCode
                        };
                        if (_this.componentData &&
                            _this.componentData.componentId &&
                            _this.componentData.object &&
                            _this.componentData.object.statusStatePerPartner &&
                            _this.componentData.componentId.length > 0) {
                            var tableArr = _this.getArrayOfTableData(_this.componentData.object.statusStatePerPartner);
                            tableArr.forEach(function (result) {
                                if (!!dto.partnerCode) {
                                    if (result.indexOf(dto.partnerCode) !== -1) {
                                        var code = result.split('=')[1];
                                        if (code === 'On going') {
                                            dto.owner = true;
                                        }
                                        else if (code === 'Finished') {
                                            dto.owner = true;
                                            dto.finished = true;
                                        }
                                    }
                                }
                            });
                        }
                        _this.applicabilitiesPartnerTable.push(dto);
                    });
                    _this.applicabilitiesPartnerTableFilteredRowsNb = _this.applicabilitiesPartnerTable.length;
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetApplicabilityPartnerResults'));
            });
        }
    };
    ApplicabilitiesPopupFormComponent.prototype.getArrayOfTableData = function (tableString) {
        var b = tableString.split(' ');
        for (var i = 0; i < b.length; i++) {
            if (b[i].startsWith('going')) {
                b[i - 1] = b[i - 1] + ' ' + 'going';
                b.splice(i, 1);
            }
            if (b[i].length === 0) {
                b.splice(i, 1);
            }
        }
        return b;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ApplicabilitiesPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ApplicabilitiesPopupFormComponent.prototype, "isNewApplicability", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ApplicabilitiesPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ApplicabilitiesPopupFormComponent.prototype, "onUpdate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ApplicabilitiesPopupFormComponent.prototype, "componentData", void 0);
    ApplicabilitiesPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-applicabilities-popup-form',
            template: __webpack_require__(/*! ./applicabilities-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_applicabilities_popup_form_service__WEBPACK_IMPORTED_MODULE_7__["ApplicabilitiesPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"]])
    ], ApplicabilitiesPopupFormComponent);
    return ApplicabilitiesPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.service.ts":
/*!************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.service.ts ***!
  \************************************************************************************************************************************/
/*! exports provided: ApplicabilitiesPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApplicabilitiesPopupFormService", function() { return ApplicabilitiesPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ApplicabilitiesPopupFormService = /** @class */ (function (_super) {
    __extends(ApplicabilitiesPopupFormService, _super);
    function ApplicabilitiesPopupFormService(http, appConfigService, productStructureManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    ApplicabilitiesPopupFormService.prototype.removeBireApplicability = function (applicability) {
        // TODO
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(true);
    };
    ApplicabilitiesPopupFormService.prototype.findFamilyVariantVersion = function () {
        var familyVariantInput = {
            useCase: 'UC50',
            module: 'FAMILY'
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariantVersion, familyVariantInput);
    };
    // Applicability Partners
    ApplicabilitiesPopupFormService.prototype.findBirePartnersByVariant = function (bireVariantVersionDTOId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePartnersByVariant, bireVariantVersionDTOId);
    };
    ApplicabilitiesPopupFormService.prototype.getFamilyFunctionMap = function () {
        return this.propertiesService.getValue('getFamilyFunctionMap');
    };
    ApplicabilitiesPopupFormService.prototype.getStructureTypeMap = function () {
        return this.propertiesService.getValue('getStructureTypeMap');
    };
    ApplicabilitiesPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__["ProductStructureManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__["PropertiesService"]])
    ], ApplicabilitiesPopupFormService);
    return ApplicabilitiesPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.html ***!
  \**********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n\r\n    <div class=\"modal-subtitle\">{{ getComponentName() + \".informationAsset\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".pn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [disabled]=\"isReadOnlyForm\" [(ngModel)]=\"newEvol.assetPn\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".sn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [disabled]=\"isReadOnlyForm\" [(ngModel)]=\"newEvol.assetSn\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".instruction\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"instruction\"\r\n              [(ngModel)]=\"newEvol.assetActionType\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"!isScreenValid()\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: AssetsPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetsPopupFormComponent", function() { return AssetsPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _assets_popup_form_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./assets-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AssetsPopupFormComponent = /** @class */ (function (_super) {
    __extends(AssetsPopupFormComponent, _super);
    function AssetsPopupFormComponent(assetsPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'AssetPopupDialog') || this;
        _this.assetsPopupFormService = assetsPopupFormService;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayDialog = false;
        _this.selectedEvolutions = [];
        _this.newEvol = {};
        _this.loadInstructions();
        return _this;
    }
    AssetsPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData &&
            this.componentData.componentId &&
            this.componentData.object &&
            this.componentData.componentId.length > 0) {
            this.newEvol = this.componentData.object;
            if (!!this.componentData.selectedRow) {
                this.selectedEvolutions = this.componentData.selectedRow;
            }
        }
    };
    AssetsPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    AssetsPopupFormComponent.prototype.onHide = function () {
        this.newEvol = {};
        this.display = false;
    };
    AssetsPopupFormComponent.prototype.loadInstructions = function () {
        var _this = this;
        this.assetsPopupFormService.getAssetActionType().subscribe(function (results) {
            _this.instruction = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInstructions'));
        });
    };
    AssetsPopupFormComponent.prototype.onValidate = function () {
        if (this.isScreenValid()) {
            if (this.newEvol.assetPn || this.newEvol.assetSn) {
                if (this.isNewAsset) {
                    this.onCreate.emit(this.newEvol);
                    this.display = false;
                }
                else {
                    this.onUpdate.emit(this.newEvol);
                    this.display = false;
                }
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
            }
        }
        else {
            this.messageService.showErrorMessage('global.warningOnMissingRequiredFields');
        }
    };
    /**
     * Is screen valid
     */
    AssetsPopupFormComponent.prototype.isScreenValid = function () {
        if (this.newEvol.assetPn || this.newEvol.assetSn) {
            return true;
        }
        return false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], AssetsPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AssetsPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AssetsPopupFormComponent.prototype, "isNewAsset", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], AssetsPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], AssetsPopupFormComponent.prototype, "onUpdate", void 0);
    AssetsPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-assets-popup-form',
            template: __webpack_require__(/*! ./assets-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_4__["AssetsPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"]])
    ], AssetsPopupFormComponent);
    return AssetsPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.service.ts":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.service.ts ***!
  \******************************************************************************************************************/
/*! exports provided: AssetsPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetsPopupFormService", function() { return AssetsPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AssetsPopupFormService = /** @class */ (function (_super) {
    __extends(AssetsPopupFormService, _super);
    function AssetsPopupFormService(http, appConfigService, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.propertiesService = propertiesService;
        return _this;
    }
    AssetsPopupFormService.prototype.removeBireAsset = function (asset) {
        // TODO
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(true);
    };
    // Retrieve the instruction dropdownlist in the Asset dropdown list
    AssetsPopupFormService.prototype.getAssetActionType = function () {
        return this.propertiesService.getValue('getAssetActionTypeMap');
    };
    AssetsPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"]])
    ], AssetsPopupFormService);
    return AssetsPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.html ***!
  \**********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".docManagement\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docName\" | translate }}</label>\r\n\r\n        <div class=\"form-control form-control-with-btn\">\r\n          <input\r\n            class=\"aw-input\"\r\n            type=\"text\"\r\n            [(ngModel)]=\"document.docName\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n            style=\"width:79%\"\r\n          />\r\n          <p-fileUpload\r\n            #fileUploader\r\n            *ngIf=\"!isReadOnlyForm\"\r\n            name=\"document[]\"\r\n            customUpload=\"true\"\r\n            mode=\"basic\"\r\n            auto=\"true\"\r\n            chooseLabel=\"{{ 'global.upload' | translate }}\"\r\n            (uploadHandler)=\"uploadDocument($event, fileUploader)\"\r\n          ></p-fileUpload>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docSource\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <input class=\"aw-input\" type=\"text\" [(ngModel)]=\"document.docSource\" [disabled]=\"isReadOnlyForm\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docPublicationDate\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <p-calendar\r\n            showButtonBar=\"true\"\r\n            [monthNavigator]=\"true\"\r\n            [yearNavigator]=\"true\"\r\n            [yearRange]=\"sessionService.calendarYearRange\"\r\n            class=\"aw-calendar\"\r\n            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n            [locale]=\"sessionService.calendarFormat\"\r\n            [(ngModel)]=\"document.docPublicationDate\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n            appendTo=\"body\"\r\n          ></p-calendar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docDescription\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <textarea\r\n            class=\"aw-textarea\"\r\n            [rows]=\"3\"\r\n            pInputTextarea\r\n            autoResize=\"autoResize\"\r\n            [(ngModel)]=\"document.docDescription\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"closeDialog()\">{{ \"global.cancel\" | translate }}</button>\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"validate()\"\r\n      color=\"primary\"\r\n      [disabled]=\"!isValidateEnabled()\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: EvolImportPopupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvolImportPopupComponent", function() { return EvolImportPopupComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var EvolImportPopupComponent = /** @class */ (function (_super) {
    __extends(EvolImportPopupComponent, _super);
    function EvolImportPopupComponent(sessionService, messageService, propertiesService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Write, 'EvolutionFormComponent') || this;
        _this.sessionService = sessionService;
        _this.messageService = messageService;
        _this.propertiesService = propertiesService;
        _this.displayChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onValidated = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.loadTypes();
        return _this;
    }
    Object.defineProperty(EvolImportPopupComponent.prototype, "display", {
        get: function () {
            return this.displayValue;
        },
        set: function (displayValue) {
            this.displayValue = displayValue;
            this.displayChange.emit(this.displayValue);
        },
        enumerable: true,
        configurable: true
    });
    EvolImportPopupComponent.prototype.ngOnInit = function () {
        if (!this.document) {
            this.document = {};
        }
    };
    EvolImportPopupComponent.prototype.cancel = function () {
        this.display = false;
    };
    EvolImportPopupComponent.prototype.validate = function () {
        this.onValidated.emit(this.document);
        this.display = false;
    };
    EvolImportPopupComponent.prototype.loadTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__["GenericPropertyConstants"].DOC_PARTNER_CATEGORY_MAP).subscribe(function (results) {
            _this.types = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.componentId + '.errorOnGetTypes');
        });
    };
    EvolImportPopupComponent.prototype.uploadDocument = function (event, fileUploader) {
        var _this = this;
        if (event.files) {
            var file_1 = event.files[0];
            _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_7__["FileUtils"].getFileContentAsBase64(file_1, function (fileContent) {
                if (fileContent) {
                    _this.document.docFile = fileContent;
                    _this.document.docName = file_1.name;
                    _this.document.docPublicationDate = new Date();
                }
            });
            fileUploader.clear();
        }
    };
    EvolImportPopupComponent.prototype.isValidateEnabled = function () {
        return this.document.docName;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], EvolImportPopupComponent.prototype, "display", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], EvolImportPopupComponent.prototype, "displayChange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EvolImportPopupComponent.prototype, "document", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], EvolImportPopupComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], EvolImportPopupComponent.prototype, "onValidated", void 0);
    EvolImportPopupComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-evol-import-popup',
            template: __webpack_require__(/*! ./evol-import-popup.component.html */ "./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_3__["MessageService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_4__["PropertiesService"]])
    ], EvolImportPopupComponent);
    return EvolImportPopupComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.html ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"60\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\"></div>\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".item\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm || !isEditable }\">\r\n            <div class=\"form-control-data\" (click)=\"openItemTableDialog()\">\r\n              {{ bireItemDTO.chapter }}\r\n              <span *ngIf=\"bireItemDTO.section\"> - {{ bireItemDTO.section }}</span>\r\n              <span *ngIf=\"bireItemDTO.subject\"> - {{ bireItemDTO.subject }}</span>\r\n              <span *ngIf=\"bireItemDTO.sheet\"> - {{ bireItemDTO.sheet }}</span>\r\n              <span *ngIf=\"bireItemDTO.marks\"> - {{ bireItemDTO.marks }}</span>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"\r\n                bireItemDTO.chapter &&\r\n                bireItemDTO.section &&\r\n                bireItemDTO.subject &&\r\n                bireItemDTO.sheet &&\r\n                bireItemDTO.marks &&\r\n                !isReadOnlyForm\r\n              \"\r\n              class=\"btn-clear-wrapper\"\r\n            >\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"\r\n                  bireItemDTO.chapter = undefined;\r\n                  bireItemDTO.section = undefined;\r\n                  bireItemDTO.subject = undefined;\r\n                  bireItemDTO.sheet = undefined;\r\n                  bireItemDTO.marks = undefined;\r\n                  bireItemDTO.versionNumber = undefined\r\n                \"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"openItemTableDialog()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".pnBefore\" | translate }}</label>\r\n\r\n          <div *ngIf=\"selectedItem != null\" class=\"form-control\">\r\n            <p-dropdown\r\n              [ngClass]=\"{ inactive: isReadOnlyForm || !isEditable }\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              class=\"aw-dropdown fixed-width\"\r\n              [showClear]=\"true\"\r\n              [(ngModel)]=\"newEvol.pnCode\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"pnBefore\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n\r\n          <div\r\n            *ngIf=\"selectedItem == null\"\r\n            class=\"form-control form-control-with-modal\"\r\n            [ngClass]=\"{ disabled: isReadOpenMode }\"\r\n          >\r\n            <div class=\"form-control-data\" (click)=\"searchPnCodeBefore()\">{{ selectedPnBefore }}</div>\r\n\r\n            <div *ngIf=\"selectedPnBefore\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"selectedPnBefore = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"searchPnCodeBefore()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".existingPnAfter\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-radioButton\r\n              class=\"aw-radiobutton\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              value=\"existing\"\r\n              [(ngModel)]=\"optionExisting\"\r\n              inputId=\"existing\"\r\n              (onClick)=\"onChangeRadio()\"\r\n            ></p-radioButton>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".newPnAfter\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-radioButton\r\n              class=\"aw-radiobutton\"\r\n              value=\"new\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [(ngModel)]=\"optionExisting\"\r\n              inputId=\"new\"\r\n              (onClick)=\"onChangeRadio()\"\r\n            ></p-radioButton>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"optionExisting && optionExisting === 'existing'\"\r\n          class=\"form-group\"\r\n          [ngClass]=\"{ required: !isReadOpenMode }\"\r\n        >\r\n          <label class=\"form-label\">{{ \"global.pn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              [disabled]=\"optionExisting !== 'existing' || isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              class=\"aw-dropdown fixed-width\"\r\n              [options]=\"pnAfter\"\r\n              [(ngModel)]=\"pnPnCode\"\r\n              (onChange)=\"onChangePnPnCode()\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"optionExisting && optionExisting !== 'existing'\"\r\n          class=\"form-group\"\r\n          [ngClass]=\"{ required: !isReadOnlyForm }\"\r\n        >\r\n          <label class=\"form-label\">{{ \"global.pn\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"searchPnCodeAfter()\">{{ pnPnCodeInput }}</div>\r\n            <!-- <div class=\"form-control-data\">\r\n                <input\r\n                type=\"text\"\r\n                class=\"aw-input\"\r\n                [disabled]=\"isReadOnlyForm\"\r\n                [(ngModel)]=\"pnPnCodeInput\"\r\n                style=\"border-width: 0px\"\r\n              />\r\n            </div> -->\r\n            <div *ngIf=\"pnPnCodeInput\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"pnPnCodeInput = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"searchPnCodeAfter()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"optionExisting\" class=\"form-group\"></div>\r\n        <div *ngIf=\"!optionExisting\" class=\"form-group flex--2\"></div>\r\n      </div>\r\n\r\n      <div *ngIf=\"optionExisting == 'new'\" class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".itemVersion\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"versions\"\r\n              [(ngModel)]=\"newEvol.versionNumber\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".isn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [showClear]=\"true\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"isn\"\r\n              [(ngModel)]=\"selectedIsn\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".pnApplicability\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"searchApplicability(true)\">{{ pnApplicability }}</div>\r\n\r\n            <div *ngIf=\"newEvol.pnApplicability\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"newEvol.pnApplicability = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i\r\n                class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"searchApplicability(true)\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".duplicateISN\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-checkbox class=\"aw-checkbox\" [disabled]=\"isReadOnlyForm\" value=\"duplicateISN\" binary=\"true\"></p-checkbox>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".actionType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"actionType\"\r\n              [(ngModel)]=\"newEvol.actionTypeCode\"\r\n              (click)=\"onSelectedActionType()\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"actionInterchangeability\" class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".interchangeability\" | translate }} </label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"interchangeability\"\r\n              [(ngModel)]=\"newEvol.interchangeability\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"actionInterchangeability\" class=\"form-group flex--2\"></div>\r\n        <div *ngIf=\"!actionInterchangeability\" class=\"form-group flex--3\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".applicability\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"searchApplicability(false)\">{{ newEvol.applicability }}</div>\r\n\r\n            <div *ngIf=\"newEvol.applicability\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"newEvol.applicability = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n              <i\r\n                class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"searchApplicability(false)\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".quantBefore\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              type=\"text\"\r\n              maxlength=\"3\"\r\n              class=\"aw-input\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [(ngModel)]=\"newEvol.quantityBefore\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".quantAfter\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              type=\"text\"\r\n              maxlength=\"3\"\r\n              class=\"aw-input\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [(ngModel)]=\"newEvol.quantityAfter\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".comments\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <textarea\r\n              class=\"aw-textarea\"\r\n              [rows]=\"3\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              pInputTextarea\r\n              [(ngModel)]=\"newEvol.evolutionRemarks\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"!isValidateEnabled()\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-table\r\n  *ngIf=\"showPnBeforeDialog\"\r\n  [(display)]=\"showPnBeforeDialog\"\r\n  [data]=\"dialogTableDataPnBefore\"\r\n  (onSelected)=\"setSelectedPnBefore($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-search-part\r\n  *ngIf=\"showPnAfterDialog\"\r\n  [(display)]=\"showPnAfterDialog\"\r\n  (onValidated)=\"setSelectedPnAfter($event)\"\r\n  [searchObject]=\"partsSearch\"\r\n></aw-dialog-search-part>\r\n<aw-dialog-table\r\n  *ngIf=\"showPnApplicabilityDialog\"\r\n  [(display)]=\"showPnApplicabilityDialog\"\r\n  [data]=\"dialogTableDataApplicability\"\r\n  (onSelected)=\"setPnSelectedApplicability($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-table\r\n  *ngIf=\"showApplicabilityDialog\"\r\n  [(display)]=\"showApplicabilityDialog\"\r\n  [data]=\"dialogTableDataApplicability\"\r\n  (onSelected)=\"setSelectedApplicability($event)\"\r\n></aw-dialog-table>\r\n\r\n<aw-dialog-search-item\r\n  *ngIf=\"showItemTableDialog\"\r\n  [(display)]=\"showItemTableDialog\"\r\n  (onValidated)=\"onSelectedItem($event)\"\r\n></aw-dialog-search-item>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.ts":
/*!********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.ts ***!
  \********************************************************************************************************************************/
/*! exports provided: ImpactsEvolPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpactsEvolPopupFormComponent", function() { return ImpactsEvolPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_array_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/utils/array-utils */ "./src/app/shared/utils/array-utils.ts");
/* harmony import */ var _impacts_evol_popup_form_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./impacts-evol-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};








var ImpactsEvolPopupFormComponent = /** @class */ (function (_super) {
    __extends(ImpactsEvolPopupFormComponent, _super);
    function ImpactsEvolPopupFormComponent(impactsEvolPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'ImpactsEvolPopupDialog') || this;
        _this.impactsEvolPopupFormService = impactsEvolPopupFormService;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayDialog = false;
        _this.actionInterchangeability = false;
        _this.selectedPnBefore = undefined;
        _this.pnCode = undefined;
        _this.versions = [];
        _this.bireItemDTOList = [];
        _this.newEvol = {};
        _this.isEditable = true;
        _this.familyVariantMap = new Map();
        _this.partsSearch = {};
        _this.bireItemDTO = {};
        _this.showItemTableDialog = false;
        _this.showApplicabilityDialog = false;
        _this.showPnApplicabilityDialog = false;
        _this.loadDdl();
        return _this;
    }
    ImpactsEvolPopupFormComponent.prototype.openItemTableDialog = function () {
        if (!this.isReadOnlyForm) {
            this.showItemTableDialog = true;
        }
    };
    ImpactsEvolPopupFormComponent.prototype.onSelectedItem = function (item) {
        var _this = this;
        if (!item) {
            return;
        }
        var familyVariantDTO = {};
        this.familyVariantMap.forEach(function (variantElement) {
            if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === _this.variantCode) {
                familyVariantDTO = variantElement;
            }
        });
        this.selectedItem = item.chapter + "-" + item.section + "-" + item.subject + "-" + item.sheet + "-" + item.marks;
        var itemTab = this.selectedItem.split('-');
        var subjectPos = 2;
        var sheetPos = 3;
        var marksPos = 4;
        var itemNumberPosStart = 5;
        var itemNumberPosEnd = 6;
        var itemNumber = '';
        if (this.selectedItem.indexOf('(') !== -1) {
            itemNumber = this.selectedItem.split('(')[1].substr(0, itemTab[1].indexOf(')'));
        }
        var name = '';
        if (itemTab[itemNumberPosStart] && itemTab[itemNumberPosEnd]) {
            name = itemTab[itemNumberPosStart].trim() + itemTab[itemNumberPosEnd].split('(')[0];
        }
        this.newEvol.chapter = itemTab[0].trim();
        this.newEvol.section = itemTab[1].trim();
        this.newEvol.subject = itemTab[subjectPos].trim();
        this.newEvol.sheet = itemTab[sheetPos].trim();
        this.newEvol.marks = itemTab[marksPos].trim();
        this.newEvol.familyCode = item.familyCode;
        this.newEvol.variantCode = item.variantCode;
        this.newEvol.structureType = item.structureType;
        this.bireItemDTO = {
            variantCode: this.newEvol.variantCode,
            familyCode: this.newEvol.familyCode,
            structureType: this.newEvol.structureType,
            chapter: this.newEvol.chapter,
            section: this.newEvol.section,
            subject: this.newEvol.subject,
            sheet: this.newEvol.sheet,
            marks: this.newEvol.marks,
            name: name,
            itemNumber: itemNumber
        };
        this.loadVersionAndISN();
        this.searchPnCodeLabelValue(false);
        this.variantCode = item.variantCode;
        this.showItemTableDialog = false;
    };
    ImpactsEvolPopupFormComponent.prototype.fillPopup = function () {
        var _this = this;
        this.variantCode = this.newEvol.familyCode + "-" + this.newEvol.structureType + "-" + this.newEvol.variantCode;
        this.bireItemDTO = {
            variantCode: this.newEvol.variantCode,
            familyCode: this.newEvol.familyCode,
            structureType: this.newEvol.structureType,
            chapter: this.newEvol.chapter,
            sheet: this.newEvol.sheet,
            section: this.newEvol.section,
            marks: this.newEvol.marks,
            subject: this.newEvol.subject
        };
        var searchCriteria = {
            bireItemDTOCriteria: this.bireItemDTO,
            attribute: undefined,
            pnCode: undefined
        };
        this.loadBireItems(searchCriteria);
        this.impactsEvolPopupFormService.FindBireItemsBySearchCriteria(searchCriteria).subscribe(function (results) {
            _this.bireItemDTOList = results.list;
            _this.bireItemDTO = _this.bireItemDTOList.filter(function (item) {
                return item.structureType === _this.newEvol.structureType &&
                    item.variantCode === _this.newEvol.variantCode &&
                    item.familyCode === _this.newEvol.familyCode &&
                    item.chapter === _this.newEvol.chapter &&
                    item.sheet === _this.newEvol.sheet &&
                    item.subject === _this.newEvol.subject &&
                    item.marks === _this.newEvol.marks;
            })[0];
            _this.selectedItem = _this.newEvol.chapter + "\n          -\n          " + _this.newEvol.section + "\n          -\n          " + _this.newEvol.subject + "\n          -\n          " + _this.newEvol.sheet + "\n          -\n          " + _this.newEvol.marks;
            if (_this.bireItemDTO.name != undefined) {
                _this.selectedItem = _this.selectedItem + " - " + _this.bireItemDTO.name;
            }
            if (_this.bireItemDTO.itemNumber != undefined) {
                _this.selectedItem = "{this.selectedItem} (" + _this.bireItemDTO.itemNumber + ")";
            }
            _this.searchPnCodeLabelValue(true);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetItem'));
        });
        if (!!this.newEvol.interchangeability) {
            this.selectedInterchangeability = this.newEvol.interchangeability;
        }
        this.loadVersionAndISN();
    };
    ImpactsEvolPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData &&
            this.componentData.componentId &&
            this.componentData.object &&
            this.componentData.componentId.length > 0) {
            this.newEvol = this.componentData.object;
            if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {
                this.isEditable = true;
            }
            else {
                this.isEditable = false;
                this.fillPopup();
                this.pnCode = this.newEvol.pnCode;
                this.onSelectedActionType();
                this.selectedIsn = '_';
            }
        }
        this.optionExisting = 'existing';
    };
    ImpactsEvolPopupFormComponent.prototype.onShow = function () {
        this.displayDialog = true;
    };
    ImpactsEvolPopupFormComponent.prototype.onHide = function () {
        this.newEvol = {};
        this.display = false;
    };
    ImpactsEvolPopupFormComponent.prototype.onValidate = function () {
        var _this = this;
        // this.newEvol.interchangeability = this.selectedInterchangeability;
        if (this.newEvol.versionNumber === null) {
            if (!!this.bireItemDTO && !!this.newEvol.pnPnCode) {
                var findBireItemVersionByItemAndPnInput = {
                    bireItemDTO: this.bireItemDTO,
                    pnCode: this.newEvol.pnPnCode
                };
                this.impactsEvolPopupFormService
                    .findBireItemVersionsByItemAndPnCode(findBireItemVersionByItemAndPnInput)
                    .subscribe(function (results) {
                    _this.newEvol.versionNumber = results[0].versionNumber;
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetVersion'));
                });
            }
            else {
                _super.prototype.throwUnboundLocalError.call(this, 'onValidate', 'this.bireItemDTO && this.newEvol.pnPnCode');
            }
        }
        if (this.newEvol.familyCode &&
            this.newEvol.actionTypeCode &&
            this.newEvol.chapter &&
            this.newEvol.pnCode &&
            this.newEvol.pnPnCode &&
            ((this.optionExisting === 'new' && this.newEvol.versionNumber) || this.optionExisting === 'existing')) {
            if (this.isNewImpactsEvol) {
                this.onCreate.emit(this.newEvol);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.newEvol);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    // Load Variant, Interchangeability and Action Type
    ImpactsEvolPopupFormComponent.prototype.loadDdl = function () {
        var _this = this;
        this.impactsEvolPopupFormService.findAllBireVariantVersions().subscribe(function (results) {
            var list = [];
            results.forEach(function (variantElement) {
                if (!!variantElement.labelValueDTO) {
                    variantElement.labelValueDTO.label = variantElement.familyCode + "-\n              " + variantElement.labelValueDTO.label.substring(0, variantElement.labelValueDTO.label.lastIndexOf('-')) + "/" + variantElement.variantCode + "-\n              " + variantElement.labelValueDTO.label.substring(variantElement.labelValueDTO.label.lastIndexOf('-') + 1, variantElement.labelValueDTO.label.length);
                    list.push(variantElement.labelValueDTO);
                    _this.familyVariantMap.set(variantElement.labelValueDTO, variantElement);
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'loadDdl', 'variantElement.labelValueDTO');
                }
            });
            _this.variant = list;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetVariant'));
        });
        this.impactsEvolPopupFormService.getPnInterchangeabilityMap().subscribe(function (results) {
            _this.interchangeability = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInterchangeability'));
        });
        this.impactsEvolPopupFormService.findBireActionTypesByActionTypeCode().subscribe(function (results) {
            _this.actionType = results.sort(_shared_utils_array_utils__WEBPACK_IMPORTED_MODULE_6__["ArrayUtils"].compareValues('label'));
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetActionType'));
        });
    };
    ImpactsEvolPopupFormComponent.prototype.onChangeVariant = function () {
        var _this = this;
        this.pnCode = undefined;
        this.selectedPnBefore = undefined;
        this.selectedItem = undefined;
        if (!!this.variantCode) {
            var familyVariantDTO_1 = {};
            this.familyVariantMap.forEach(function (variantElement) {
                if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === _this.variantCode) {
                    familyVariantDTO_1 = variantElement;
                }
            });
            if (!!familyVariantDTO_1) {
                this.newEvol.familyCode = familyVariantDTO_1.familyCode;
                this.newEvol.variantCode = familyVariantDTO_1.variantCode;
                this.newEvol.structureType = familyVariantDTO_1.structureType;
                this.bireItemDTO = {
                    variantCode: familyVariantDTO_1.variantCode,
                    familyCode: familyVariantDTO_1.familyCode,
                    structureType: familyVariantDTO_1.structureType
                };
            }
            var pnCodeSelected = void 0;
            if (this.selectedPnBefore) {
                pnCodeSelected = this.selectedPnBefore;
            }
            var searchCriteria = {
                bireItemDTOCriteria: this.bireItemDTO,
                attribute: undefined,
                pnCode: pnCodeSelected
            };
            this.loadBireItems(searchCriteria);
        }
    };
    ImpactsEvolPopupFormComponent.prototype.loadBireItems = function (searchCriteria) {
        var _this = this;
        this.impactsEvolPopupFormService.FindBireItemsBySearchCriteriaToLVD(searchCriteria).subscribe(function (results) {
            _this.item = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetItem'));
        });
    };
    ImpactsEvolPopupFormComponent.prototype.onChangeItem = function () {
        var _this = this;
        if (this.selectedItem) {
            var familyVariantDTO_2 = {};
            this.familyVariantMap.forEach(function (variantElement) {
                if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === _this.variantCode) {
                    familyVariantDTO_2 = variantElement;
                }
            });
            var itemTab = this.selectedItem.split('-');
            var subjectPos = 2;
            var sheetPos = 3;
            var marksPos = 4;
            var itemNumberPosStart = 5;
            var itemNumberPosEnd = 6;
            var itemNumber = '';
            if (this.selectedItem.indexOf('(') !== -1) {
                itemNumber = this.selectedItem.split('(')[1].substr(0, itemTab[1].indexOf(')'));
            }
            var name_1 = '';
            if (itemTab[itemNumberPosStart] && itemTab[itemNumberPosEnd]) {
                name_1 = itemTab[itemNumberPosStart].trim() + itemTab[itemNumberPosEnd].split('(')[0];
            }
            this.newEvol.chapter = itemTab[0].trim();
            this.newEvol.section = itemTab[1].trim();
            this.newEvol.subject = itemTab[subjectPos].trim();
            this.newEvol.sheet = itemTab[sheetPos].trim();
            this.newEvol.marks = itemTab[marksPos].trim();
            this.bireItemDTO = {
                variantCode: familyVariantDTO_2.variantCode,
                familyCode: familyVariantDTO_2.familyCode,
                structureType: familyVariantDTO_2.structureType,
                chapter: this.newEvol.chapter,
                section: this.newEvol.section,
                subject: this.newEvol.subject,
                sheet: this.newEvol.sheet,
                marks: this.newEvol.marks,
                name: name_1,
                itemNumber: itemNumber
            };
            this.loadVersionAndISN();
            this.searchPnCodeLabelValue(false);
        }
    };
    ImpactsEvolPopupFormComponent.prototype.loadVersionAndISN = function () {
        var _this = this;
        this.impactsEvolPopupFormService.findEvolutionItemVersion(this.bireItemDTO).subscribe(function (results) {
            _this.versions = results;
            _this.newEvol.versionNumber = _this.versions[0].label;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetVersion'));
        });
        this.impactsEvolPopupFormService.findAllIsnAtasAsStrings().subscribe(function (results) {
            _this.isn = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetISN'));
        });
    };
    ImpactsEvolPopupFormComponent.prototype.onSelectedActionType = function () {
        this.actionInterchangeability = this.newEvol.actionTypeCode === 'B2' || this.newEvol.actionTypeCode === 'B3';
    };
    ImpactsEvolPopupFormComponent.prototype.searchPnCodeBefore = function () {
        if (!!this.variantCode) {
            this.showPnBeforeDialog = true;
            var pnCodeInput = this.selectedPnBefore === undefined ? undefined : this.selectedPnBefore + '%';
            var birePnDTOCriteria = {
                pnCode: pnCodeInput,
                pnType: undefined
            };
            var findBirePnsBySearchCriteriaInput = {
                birePnDTOCriteria: birePnDTOCriteria,
                familyCode: this.bireItemDTO.familyCode,
                structureType: this.bireItemDTO.structureType,
                variantCode: this.bireItemDTO.variantCode
            };
            this.dialogTableDataPnBefore = {
                componentId: 'ImpactsEvolPopupDialog',
                tableRows: this.impactsEvolPopupFormService.findBirePnsBySearchCriteria(findBirePnsBySearchCriteriaInput),
                tableCols: [
                    { field: 'pnCode', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                    { field: 'articleDesignation', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                    { field: 'manufacturerOtanCode', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                    { field: 'otanPnReference', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                    { field: 'quantityUnit', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
                ],
                exportExcel: true,
                globalFilter: true,
                dataKey: undefined,
                selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single
            };
        }
    };
    ImpactsEvolPopupFormComponent.prototype.searchPnCodeLabelValue = function (initData) {
        var _this = this;
        var birePnDTOCriteria = {
            pnCode: undefined
        };
        var findBirePnsBySearchCriteriaInput = {
            birePnDTOCriteria: birePnDTOCriteria,
            familyCode: this.bireItemDTO.familyCode,
            structureType: this.bireItemDTO.structureType,
            variantCode: this.bireItemDTO.variantCode,
            chapter: this.bireItemDTO.chapter,
            mark: this.bireItemDTO.marks,
            section: this.bireItemDTO.section,
            sheet: this.bireItemDTO.sheet,
            subject: this.bireItemDTO.subject
        };
        this.impactsEvolPopupFormService.findBirePnsBySearchCriteriaToLVD(findBirePnsBySearchCriteriaInput).subscribe(function (results) {
            var bireItemDTO = {
                familyCode: _this.bireItemDTO.familyCode,
                structureType: _this.bireItemDTO.structureType,
                variantCode: _this.bireItemDTO.variantCode,
                chapter: _this.bireItemDTO.chapter,
                section: _this.bireItemDTO.section,
                sheet: _this.bireItemDTO.sheet,
                subject: _this.bireItemDTO.subject,
                marks: _this.bireItemDTO.marks
            };
            results.forEach(function (res) {
                _this.impactsEvolPopupFormService.findBireVersionPnsByItem(bireItemDTO).subscribe(function (result) {
                    result.forEach(function (r) {
                        if (r.pnCode === res.value) {
                            var num = !r.rf ? " (" + r.versionNumber + ")" : '';
                            res.label = r.isnAta + " - " + r.pnCode + num;
                        }
                    });
                });
            });
            _this.pnAfter = __spread(results);
            _this.pnBefore = __spread(results);
            if (!!initData && !!_this.newEvol.pnPnCode) {
                if (!_this.pnAfter.find(function (value) { return _this.newEvol.pnPnCode === value.label; })) {
                    _this.optionExisting = 'new';
                    _this.pnPnCodeInput = _this.newEvol.pnPnCode;
                }
                else {
                    _this.optionExisting = 'existing';
                    _this.pnPnCode = _this.newEvol.pnPnCode;
                }
            }
            _this.pnAfter = __spread(_this.pnAfter);
            _this.pnBefore = __spread(_this.pnBefore);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetPN'));
        });
    };
    ImpactsEvolPopupFormComponent.prototype.searchPnCodeAfter = function () {
        if (this.optionExisting === 'new') {
            this.partsSearch = {
                pn: !!this.pnPnCodeInput ? this.pnPnCodeInput : undefined
            };
            this.showPnAfterDialog = true;
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('fillPnAfter'));
        }
    };
    ImpactsEvolPopupFormComponent.prototype.setSelectedPnBefore = function (selectedObject) {
        if (selectedObject) {
            this.selectedPnBefore = selectedObject.pnCode;
            this.pnCode = this.selectedPnBefore;
            this.newEvol.pnCode = this.selectedPnBefore;
            this.selectedPn();
        }
        this.searchPnCodeLabelValue(false);
        this.loadVersionAndISN();
        this.showPnBeforeDialog = false;
    };
    ImpactsEvolPopupFormComponent.prototype.selectedPn = function () {
        var _this = this;
        var searchCriteria = {
            bireItemDTOCriteria: this.bireItemDTO,
            attribute: undefined,
            pnCode: this.selectedPnBefore
        };
        this.impactsEvolPopupFormService.FindBireItemsBySearchCriteriaToLVD(searchCriteria).subscribe(function (result) {
            _this.selectedItem = result[0].label;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetItem'));
        });
        this.impactsEvolPopupFormService.FindBireItemsBySearchCriteria(searchCriteria).subscribe(function (result) {
            _this.newEvol.chapter = result.list[0].chapter;
            _this.newEvol.section = result.list[0].section;
            _this.newEvol.subject = result.list[0].subject;
            _this.newEvol.sheet = result.list[0].sheet;
            _this.newEvol.marks = result.list[0].marks;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetItem'));
        });
        if (!!this.selectedPnBefore) {
            this.selectedPnBeforeDdl = this.selectedPnBefore;
        }
    };
    ImpactsEvolPopupFormComponent.prototype.setSelectedPnAfter = function (selectedObject) {
        if (!!selectedObject && !!selectedObject.birePnDTO) {
            this.pnPnCodeInput = selectedObject.birePnDTO.pnCode;
            this.newEvol.pnPnCode = this.pnPnCodeInput;
        }
        this.showPnAfterDialog = false;
    };
    ImpactsEvolPopupFormComponent.prototype.onChangePnPnCode = function () {
        this.newEvol.pnPnCode = this.pnPnCode;
    };
    ImpactsEvolPopupFormComponent.prototype.searchApplicability = function (val) {
        if (!this.isReadOnlyForm && !!this.variantCode) {
            if (!!this.bireItemDTO.familyCode && !!this.bireItemDTO.structureType && !!this.bireItemDTO.variantCode) {
                var bireVariantVersionDTOId = {
                    familyCode: this.bireItemDTO.familyCode,
                    structureType: this.bireItemDTO.structureType,
                    variantCode: this.bireItemDTO.variantCode
                };
                val ? (this.showPnApplicabilityDialog = true) : (this.showApplicabilityDialog = true);
                this.dialogTableDataApplicability = {
                    componentId: 'ImpactsEvolPopupDialog',
                    tableRows: this.impactsEvolPopupFormService.findBireModelsByVariantPK(bireVariantVersionDTOId),
                    tableCols: [
                        { field: 'modelCode', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                        { field: 'modelName', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
                    ],
                    exportExcel: false,
                    globalFilter: true,
                    dataKey: undefined,
                    selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single
                };
            }
            else {
                _super.prototype.throwUnboundLocalError.call(this, 'searchApplicability', 'this.bireItemDTO');
            }
        }
    };
    ImpactsEvolPopupFormComponent.prototype.isValidateEnabled = function () {
        if (!this.variantCode || !this.selectedItem || !this.newEvol.pnCode || !this.newEvol.actionTypeCode) {
            return false;
        }
        if (this.optionExisting === 'existing' && !this.pnPnCode) {
            return false;
        }
        else if (this.optionExisting === 'new') {
            if (!this.pnPnCodeInput || !this.newEvol.versionNumber) {
                return false;
            }
        }
        return true;
    };
    ImpactsEvolPopupFormComponent.prototype.onChangeRadio = function () {
        this.pnPnCode = undefined;
        this.pnPnCodeInput = undefined;
        // this.newEvol.versionNumber = undefined;
        this.selectedIsn = undefined;
        this.pnApplicability = undefined;
    };
    ImpactsEvolPopupFormComponent.prototype.setPnSelectedApplicability = function (event) {
        this.pnApplicability = event.modelCode;
        this.showPnApplicabilityDialog = false;
    };
    ImpactsEvolPopupFormComponent.prototype.setSelectedApplicability = function (event) {
        this.newEvol.applicability = event.modelCode;
        this.showApplicabilityDialog = false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ImpactsEvolPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ImpactsEvolPopupFormComponent.prototype, "isNewImpactsEvol", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ImpactsEvolPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ImpactsEvolPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ImpactsEvolPopupFormComponent.prototype, "onUpdate", void 0);
    ImpactsEvolPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-impacts-evol-popup-form',
            template: __webpack_require__(/*! ./impacts-evol-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_impacts_evol_popup_form_service__WEBPACK_IMPORTED_MODULE_7__["ImpactsEvolPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"]])
    ], ImpactsEvolPopupFormComponent);
    return ImpactsEvolPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.service.ts":
/*!******************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.service.ts ***!
  \******************************************************************************************************************************/
/*! exports provided: ImpactsEvolPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpactsEvolPopupFormService", function() { return ImpactsEvolPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/constants/bire-action-type-constants */ "./src/app/shared/constants/bire-action-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ImpactsEvolPopupFormService = /** @class */ (function (_super) {
    __extends(ImpactsEvolPopupFormService, _super);
    function ImpactsEvolPopupFormService(http, appConfigService, productStructureManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    ImpactsEvolPopupFormService.prototype.isDuplicated = function (duplicate) {
        this.isDuplicate = duplicate;
    };
    ImpactsEvolPopupFormService.prototype.getPnInterchangeabilityMap = function () {
        return this.propertiesService.getValue('getPnInterchangeabilityMap');
    };
    ImpactsEvolPopupFormService.prototype.findBireActionTypesByActionTypeCode = function () {
        var item = _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_3__["BireActionTypeConstants"].ACTION_TYPE_B;
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireActionTypesByActionTypeCode, item);
    };
    ImpactsEvolPopupFormService.prototype.findAllBireVariantVersions = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireVariantVersions);
    };
    ImpactsEvolPopupFormService.prototype.FindBireItemsBySearchCriteria = function (findBireItemsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteria, findBireItemsBySearchCriteriaInput);
    };
    ImpactsEvolPopupFormService.prototype.FindBireItemsBySearchCriteriaToLVD = function (findBireItemsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteriaToLVD, findBireItemsBySearchCriteriaInput);
    };
    ImpactsEvolPopupFormService.prototype.findEvolutionItemVersion = function (itemDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findEvolutionItemVersion, itemDTO);
    };
    ImpactsEvolPopupFormService.prototype.findBireItemVersionsByItemAndPnCode = function (findBireItemVersionByItemAndPnInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemVersionsByItemAndPnCode, findBireItemVersionByItemAndPnInput);
    };
    ImpactsEvolPopupFormService.prototype.findAllIsnAtasAsStrings = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllIsnAtasAsStrings);
    };
    ImpactsEvolPopupFormService.prototype.findBirePnsBySearchCriteria = function (findBirePnsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnsBySearchCriteria, findBirePnsBySearchCriteriaInput);
    };
    ImpactsEvolPopupFormService.prototype.findBirePnsBySearchCriteriaToLVD = function (findBirePnsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnsBySearchCriteriaToLVD, findBirePnsBySearchCriteriaInput);
    };
    ImpactsEvolPopupFormService.prototype.findBireModelsByVariantPK = function (bireVariantVersionDTOId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModelsByVariantPK, bireVariantVersionDTOId);
    };
    ImpactsEvolPopupFormService.prototype.findBireVersionPnsByItem = function (bireItemDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireVersionPnsByItem, bireItemDTO);
    };
    ImpactsEvolPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__["PropertiesService"]])
    ], ImpactsEvolPopupFormService);
    return ImpactsEvolPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.html ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".item\" | translate }}</label>\r\n\r\n        <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm || !isEditable }\">\r\n          <div class=\"form-control-data\" (click)=\"searchItems()\">\r\n            {{ newEvol.chapter }} <span *ngIf=\"newEvol.section\">- {{ newEvol.section }}</span>\r\n            <span *ngIf=\"newEvol.subject\">- {{ newEvol.subject }}</span>\r\n            <span *ngIf=\"newEvol.sheet\">- {{ newEvol.sheet }}</span>\r\n            <span *ngIf=\"newEvol.marks\">- {{ newEvol.marks }}</span>\r\n          </div>\r\n\r\n          <div\r\n            *ngIf=\"\r\n              newEvol.chapter && newEvol.section && newEvol.subject && newEvol.sheet && newEvol.marks && !isReadOnlyForm\r\n            \"\r\n            class=\"btn-clear-wrapper\"\r\n          >\r\n            <i\r\n              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n              aria-hidden=\"true\"\r\n              (click)=\"\r\n                newEvol.chapter = undefined;\r\n                newEvol.section = undefined;\r\n                newEvol.subject = undefined;\r\n                newEvol.sheet = undefined;\r\n                newEvol.marks = undefined\r\n              \"\r\n            ></i>\r\n          </div>\r\n          <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n            <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"searchItems()\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".itemNumber\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <input type=\"text\" class=\"aw-input\" [disabled]=\"isReadOnlyForm\" [(ngModel)]=\"itemNumber\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".group\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <p-dropdown\r\n            class=\"aw-dropdown fixed-width\"\r\n            [showClear]=\"true\"\r\n            appendTo=\"body\"\r\n            placeholder=\"&nbsp;\"\r\n            [options]=\"group\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n            [(ngModel)]=\"newEvol.inGroup\"\r\n          ></p-dropdown>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".actionType\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <p-dropdown\r\n            class=\"aw-dropdown fixed-width\"\r\n            [showClear]=\"true\"\r\n            appendTo=\"body\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n            [options]=\"actionType\"\r\n            [(ngModel)]=\"newEvol.actionTypeCode\"\r\n          ></p-dropdown>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"\r\n        newEvol.chapter === undefined ||\r\n        newEvol.chapter === null ||\r\n        newEvol.section === undefined ||\r\n        newEvol.section === null ||\r\n        newEvol.sheet === undefined ||\r\n        newEvol.sheet === null ||\r\n        newEvol.subject === undefined ||\r\n        newEvol.subject === null ||\r\n        newEvol.marks === undefined ||\r\n        newEvol.marks === null ||\r\n        newEvol.actionTypeCode === undefined ||\r\n        newEvol.actionTypeCode === null\r\n      \"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-search-item\r\n  *ngIf=\"showItemsDialog\"\r\n  [(display)]=\"showItemsDialog\"\r\n  (onValidated)=\"setSelectedItems($event)\"\r\n></aw-dialog-search-item>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.ts":
/*!********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.ts ***!
  \********************************************************************************************************************************/
/*! exports provided: ImpactsItemPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpactsItemPopupFormComponent", function() { return ImpactsItemPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_array_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/utils/array-utils */ "./src/app/shared/utils/array-utils.ts");
/* harmony import */ var _impacts_item_popup_form_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./impacts-item-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ImpactsItemPopupFormComponent = /** @class */ (function (_super) {
    __extends(ImpactsItemPopupFormComponent, _super);
    function ImpactsItemPopupFormComponent(impactsItemPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'ImpactsItemPopupDialog') || this;
        _this.impactsItemPopupFormService = impactsItemPopupFormService;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayDialog = false;
        _this.newItem = false;
        _this.showItemsDialog = false;
        _this.newEvol = {};
        _this.familyVariantMap = new Map();
        _this.loadItems();
        return _this;
    }
    ImpactsItemPopupFormComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {
            this.newEvol = this.componentData.object;
            if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {
                this.isEditable = true;
                this.isReadOnlyForm = false;
            }
            else {
                this.isEditable = false;
                var bire = {
                    familyCode: this.newEvol.familyCode,
                    variantCode: this.newEvol.variantCode,
                    structureType: this.newEvol.structureType,
                    chapter: this.newEvol.chapter,
                    section: this.newEvol.section,
                    sheet: this.newEvol.sheet,
                    subject: this.newEvol.subject,
                    marks: this.newEvol.marks
                };
                var criteria = {
                    bireItemDTOCriteria: bire
                };
                this.impactsItemPopupFormService.findBireItemsBySearchCriteria(criteria).subscribe(function (results) {
                    _this.itemNumber = results.list[0].itemNumber;
                });
            }
        }
    };
    ImpactsItemPopupFormComponent.prototype.onShow = function () {
        this.displayDialog = true;
    };
    ImpactsItemPopupFormComponent.prototype.onHide = function () {
        this.newItem = false;
        this.newEvol = {};
        this.display = false;
    };
    ImpactsItemPopupFormComponent.prototype.onValidate = function () {
        if (this.newEvol.chapter &&
            this.newEvol.section &&
            this.newEvol.sheet &&
            this.newEvol.subject &&
            this.newEvol.marks &&
            this.newEvol.actionTypeCode) {
            if (this.isNewImpactsItem) {
                this.onCreate.emit(this.newEvol);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.newEvol);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    ImpactsItemPopupFormComponent.prototype.loadItems = function () {
        var _this = this;
        this.impactsItemPopupFormService.findAllBireVariantVersions().subscribe(function (results) {
            var variantList = new Array();
            results.forEach(function (element) {
                if (!!element.labelValueDTO) {
                    variantList.push(element.labelValueDTO);
                    _this.familyVariantMap.set(element.labelValueDTO, element);
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'loadItems', 'element.labelValueDTO');
                }
            });
            _this.variant = variantList;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetVariant'));
        });
        this.impactsItemPopupFormService.findBireActionTypesByActionTypeCode().subscribe(function (results) {
            _this.actionType = results.sort(_shared_utils_array_utils__WEBPACK_IMPORTED_MODULE_6__["ArrayUtils"].compareValues('label'));
            _this.newEvol.actionTypeCode = _this.actionType[0].value;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetActionType'));
        });
        var list = new Array();
        var groupSize = 10;
        for (var i = 0; i < groupSize; i++) {
            var group = {
                label: String(i),
                value: String(i)
            };
            list.push(group);
        }
        this.group = list;
    };
    ImpactsItemPopupFormComponent.prototype.searchItems = function () {
        if (!this.isReadOnlyForm && this.isEditable) {
            this.showItemsDialog = true;
            var itemCol = [
                { field: 'familyCode', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'structureType', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'variantCode', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'name', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'chapter', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'section', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'subject', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'sheet', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'marks', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'functionCode', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'itemNumber', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'itemType', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'flocType', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'itemFamily', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                { field: 'configurableItem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Tricheckbox }
            ];
            var chapter = !this.newEvol.chapter ? undefined : this.newEvol.chapter + '%';
            var section = !this.newEvol.section ? undefined : this.newEvol.section + '%';
            var sheet = !this.newEvol.sheet ? undefined : this.newEvol.sheet + '%';
            var subject = !this.newEvol.subject ? undefined : this.newEvol.subject + '%';
            var marks = !this.newEvol.marks ? undefined : this.newEvol.marks + '%';
            var bire = {
                familyCode: this.newEvol.familyCode,
                variantCode: this.newEvol.variantCode,
                structureType: this.newEvol.structureType,
                chapter: chapter,
                section: section,
                sheet: sheet,
                subject: subject,
                marks: marks
            };
            var criteria = {
                bireItemDTOCriteria: bire
            };
            this.dialogTableDataItems = {
                componentId: 'ImpactsItemPopupDialog',
                tableCols: itemCol,
                tableRows: this.impactsItemPopupFormService.findBireItemsBySearchCriteria(criteria),
                dataKey: undefined,
                selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single,
                globalFilter: true
            };
        }
    };
    ImpactsItemPopupFormComponent.prototype.setSelectedItems = function (selectedObject) {
        if (selectedObject) {
            this.newEvol.familyCode = selectedObject.familyCode;
            this.newEvol.structureType = selectedObject.structureType;
            this.newEvol.variantCode = selectedObject.variantCode;
            this.newEvol.section = selectedObject.section;
            this.newEvol.marks = selectedObject.marks;
            this.newEvol.chapter = selectedObject.chapter;
            this.newEvol.sheet = selectedObject.sheet;
            this.newEvol.subject = selectedObject.subject;
            this.newEvol.statusDate = selectedObject.statusDate;
            this.newEvol.statusUser = selectedObject.statusUser;
            this.newEvol.statusState = selectedObject.statusState;
            this.itemNumber = selectedObject.itemNumber;
        }
        this.showItemsDialog = false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ImpactsItemPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ImpactsItemPopupFormComponent.prototype, "isNewImpactsItem", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ImpactsItemPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ImpactsItemPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ImpactsItemPopupFormComponent.prototype, "onUpdate", void 0);
    ImpactsItemPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-impacts-item-popup-form',
            template: __webpack_require__(/*! ./impacts-item-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_impacts_item_popup_form_service__WEBPACK_IMPORTED_MODULE_7__["ImpactsItemPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"]])
    ], ImpactsItemPopupFormComponent);
    return ImpactsItemPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service.ts":
/*!******************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service.ts ***!
  \******************************************************************************************************************************/
/*! exports provided: ImpactsItemPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpactsItemPopupFormService", function() { return ImpactsItemPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/constants/bire-action-type-constants */ "./src/app/shared/constants/bire-action-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ImpactsItemPopupFormService = /** @class */ (function (_super) {
    __extends(ImpactsItemPopupFormService, _super);
    function ImpactsItemPopupFormService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    ImpactsItemPopupFormService.prototype.isDuplicated = function (duplicate) {
        this.isDuplicate = duplicate;
    };
    ImpactsItemPopupFormService.prototype.findBireItemsBySearchCriteria = function (criteria) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteria, criteria);
    };
    ImpactsItemPopupFormService.prototype.findBireItemsBySearchCriteriaToLVD = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteriaToLVD);
    };
    ImpactsItemPopupFormService.prototype.findBireActionTypesByActionTypeCode = function () {
        var item = _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_3__["BireActionTypeConstants"].ACTION_TYPE_A;
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireActionTypesByActionTypeCode, item);
    };
    ImpactsItemPopupFormService.prototype.findAllBireVariantVersions = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireVariantVersions);
    };
    ImpactsItemPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], ImpactsItemPopupFormService);
    return ImpactsItemPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.html":
/*!************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.html ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"60\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".item\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm || !isEditable }\">\r\n            <div class=\"form-control-data\" (click)=\"searchItems()\">\r\n              {{ newEvol.chapter }}\r\n              <span *ngIf=\"newEvol.section\"> - {{ newEvol.section }}</span>\r\n              <span *ngIf=\"newEvol.subject\"> - {{ newEvol.subject }}</span>\r\n              <span *ngIf=\"newEvol.sheet\"> - {{ newEvol.sheet }}</span>\r\n              <span *ngIf=\"newEvol.marks\"> - {{ newEvol.marks }}</span>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"\r\n                newEvol.chapter &&\r\n                newEvol.section &&\r\n                newEvol.subject &&\r\n                newEvol.sheet &&\r\n                newEvol.marks &&\r\n                !isReadOnlyForm\r\n              \"\r\n              class=\"btn-clear-wrapper\"\r\n            >\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"\r\n                  newEvol.chapter = undefined;\r\n                  newEvol.section = undefined;\r\n                  newEvol.subject = undefined;\r\n                  newEvol.sheet = undefined;\r\n                  newEvol.marks = undefined;\r\n                  newEvol.versionNumber = undefined\r\n                \"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"searchItems()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".itemNumber\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" [disabled]=\"isReadOnlyForm\" class=\"aw-input\" [(ngModel)]=\"itemNumber\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".existingPn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-radioButton\r\n              class=\"aw-radiobutton\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              value=\"existing\"\r\n              [(ngModel)]=\"optionExisting\"\r\n              inputId=\"existing\"\r\n              (onClick)=\"onChangeRadio()\"\r\n            ></p-radioButton>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".newPn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-radioButton\r\n              class=\"aw-radiobutton\"\r\n              value=\"new\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [(ngModel)]=\"optionExisting\"\r\n              inputId=\"new\"\r\n              (onClick)=\"onChangeRadio()\"\r\n            ></p-radioButton>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"optionExisting && optionExisting === 'existing'\" class=\"form-group\">\r\n          <label class=\"form-label\">{{ \"global.pn\" | translate }}</label>\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              [disabled]=\"optionExisting !== 'existing' || isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              class=\"aw-dropdown fixed-width\"\r\n              [options]=\"pnAfter\"\r\n              [(ngModel)]=\"pnCodeDdl\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"optionExisting && optionExisting !== 'existing'\" class=\"form-group\">\r\n          <label class=\"form-label\">{{ \"global.pn\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm || !isEditable }\">\r\n            <div class=\"form-control-data\" (click)=\"searchPnCode()\">{{ pnCodeInput }}</div>\r\n\r\n            <div *ngIf=\"pnCodeInput\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"pnCodeInput = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"searchPnCode()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"optionExisting\" class=\"form-group\"></div>\r\n        <div *ngIf=\"!optionExisting\" class=\"form-group flex--2\"></div>\r\n      </div>\r\n\r\n      <div *ngIf=\"optionExisting && optionExisting == 'new'\" class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".itemVersion\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"versions\"\r\n              [(ngModel)]=\"selectedVersion\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group \" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".isn\" | translate }}</label>\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"isn\"\r\n              [(ngModel)]=\"selectedIsn\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group \">\r\n          <label class=\"form-label\">{{ getComponentName() + \".pnApplicability\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"searchPnApplicability(true)\">{{ pnApplicability }}</div>\r\n\r\n            <div *ngIf=\"pnApplicability\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"pnApplicability = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i\r\n                class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"searchApplicability(true)\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group \">\r\n          <label class=\"form-label\">{{ getComponentName() + \".duplicateISN\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-checkbox\r\n              class=\"aw-checkbox\"\r\n              [(ngModel)]=\"duplicate\"\r\n              value=\"duplicateISN\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              binary=\"true\"\r\n            ></p-checkbox>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".action\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"actionType\"\r\n              [(ngModel)]=\"newEvol.actionTypeCode\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".applicability\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"searchApplicability(false)\">{{ newEvol.applicability }}</div>\r\n\r\n            <div *ngIf=\"newEvol.applicability\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"newEvol.applicability = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n              <i\r\n                class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"searchApplicability(false)\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ \"global.comment\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <textarea\r\n              class=\"aw-textarea\"\r\n              [rows]=\"3\"\r\n              pInputTextarea\r\n              [(ngModel)]=\"newEvol.evolutionRemarks\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\"></div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"!isValidateEnabled()\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n<aw-dialog-search-part\r\n  *ngIf=\"showPnDialog\"\r\n  [(display)]=\"showPnDialog\"\r\n  (onValidated)=\"setSelectedPn($event)\"\r\n  [searchObject]=\"partsSearch\"\r\n></aw-dialog-search-part>\r\n<aw-dialog-table\r\n  *ngIf=\"showPnApplicabilityDialog\"\r\n  [(display)]=\"showPnApplicabilityDialog\"\r\n  [data]=\"dialogTableDataApplicability\"\r\n  (onSelected)=\"setPnSelectedApplicability($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-table\r\n  *ngIf=\"showApplicabilityDialog\"\r\n  [(display)]=\"showApplicabilityDialog\"\r\n  [data]=\"dialogTableDataApplicability\"\r\n  (onSelected)=\"setSelectedApplicability($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-search-item\r\n  *ngIf=\"showItemsDialog\"\r\n  [(display)]=\"showItemsDialog\"\r\n  (onValidated)=\"setSelectedItems($event)\"\r\n></aw-dialog-search-item>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.ts":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: ImpactsPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpactsPopupFormComponent", function() { return ImpactsPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_array_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/utils/array-utils */ "./src/app/shared/utils/array-utils.ts");
/* harmony import */ var _impacts_item_popup_form_impacts_item_popup_form_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../impacts-item-popup-form/impacts-item-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service.ts");
/* harmony import */ var _impacts_popup_form_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./impacts-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ImpactsPopupFormComponent = /** @class */ (function (_super) {
    __extends(ImpactsPopupFormComponent, _super);
    function ImpactsPopupFormComponent(impactsPopupFormService, impactsItemPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'ImpactsPopupDialog') || this;
        _this.impactsPopupFormService = impactsPopupFormService;
        _this.impactsItemPopupFormService = impactsItemPopupFormService;
        _this.messageService = messageService;
        _this.showPnApplicabilityDialog = false;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayDialog = false;
        _this.selectedEvolutions = [];
        _this.optionExisting = 'existing';
        _this.newEvol = {};
        _this.familyVariantMap = new Map();
        _this.partsSearch = {};
        _this.loadItems();
        return _this;
    }
    ImpactsPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData &&
            this.componentData.componentId &&
            this.componentData.object &&
            this.componentData.componentId.length > 0) {
            this.newEvol = this.componentData.object;
            this.pnCodeDdl = this.componentData.object.pnCode;
            if (!!this.componentData.selectedRow) {
                this.selectedEvolutions = this.componentData.selectedRow;
            }
            this.duplicate = false;
            if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {
                this.isEditable = true;
            }
            else {
                this.isEditable = false;
                this.fillPopup();
            }
        }
    };
    ImpactsPopupFormComponent.prototype.fillPopup = function () {
        var _this = this;
        this.variantCode = this.newEvol.familyCode + "-" + this.newEvol.structureType + "-" + this.newEvol.variantCode;
        this.bireItemDTO = {
            variantCode: this.newEvol.variantCode,
            familyCode: this.newEvol.familyCode,
            structureType: this.newEvol.structureType,
            chapter: this.newEvol.chapter,
            subject: this.newEvol.subject,
            sheet: this.newEvol.sheet,
            marks: this.newEvol.marks,
            section: this.newEvol.section
        };
        var criteria = {
            bireItemDTOCriteria: this.bireItemDTO
        };
        this.impactsItemPopupFormService.findBireItemsBySearchCriteria(criteria).subscribe(function (results) {
            _this.itemNumber = results.list[0].itemNumber;
        });
        this.searchPnCodeLabelValue(true);
        this.loadVersionAndISN();
        this.selectedIsn = '_';
        this.selectedVersion = '1';
    };
    ImpactsPopupFormComponent.prototype.onShow = function () {
        this.displayDialog = true;
    };
    ImpactsPopupFormComponent.prototype.onHide = function () {
        this.newEvol = {};
        this.display = false;
    };
    ImpactsPopupFormComponent.prototype.onValidate = function () {
        this.newEvol.pnCode = this.pnCodeInput === null || !this.pnCodeInput ? this.pnCodeDdl : this.pnCodeInput;
        if (this.newEvol.variantCode &&
            this.newEvol.actionTypeCode &&
            this.newEvol.chapter &&
            this.newEvol.section &&
            this.newEvol.sheet &&
            this.newEvol.marks &&
            this.newEvol.subject &&
            this.newEvol.pnCode) {
            if (this.optionExisting === 'new') {
                this.newEvol.newPn = true;
                this.newEvol.duplicateFields = this.duplicate;
                this.newEvol.isn = this.selectedIsn;
                if (!!this.selectedVersion) {
                    this.newEvol.itemVersion = this.selectedVersion;
                }
            }
            else {
                this.newEvol.newPn = false;
            }
            if (this.isNewImpacts) {
                this.onCreate.emit(this.newEvol);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.newEvol);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    ImpactsPopupFormComponent.prototype.loadItems = function () {
        var _this = this;
        this.impactsPopupFormService.findAllBireVariantVersions().subscribe(function (results) {
            var list = new Array();
            results.forEach(function (element) {
                if (!!element.labelValueDTO) {
                    list.push(element.labelValueDTO);
                    _this.familyVariantMap.set(element.labelValueDTO, element);
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'loadItems', 'element.labelValueDTO');
                }
            });
            _this.variant = list;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetVariant'));
        });
        this.impactsPopupFormService.findBireActionTypesByActionTypeCode().subscribe(function (results) {
            _this.actionType = results.sort(_shared_utils_array_utils__WEBPACK_IMPORTED_MODULE_6__["ArrayUtils"].compareValues('label'));
        }, function () {
            _this.messageService.showErrorMessage('global.errorOnGetActionType');
        });
    };
    ImpactsPopupFormComponent.prototype.onChangeVariant = function () {
        var _this = this;
        this.newEvol = {};
        this.itemNumber = undefined;
        this.optionExisting = 'existing';
        this.onChangeRadio();
        if (this.variantCode != undefined) {
            var familyVariantDTO_1 = {};
            this.familyVariantMap.forEach(function (element) {
                if (!!element.labelValueDTO && element.labelValueDTO.value === _this.variantCode) {
                    familyVariantDTO_1 = element;
                }
            });
            this.bireItemDTO = {
                variantCode: familyVariantDTO_1.variantCode,
                familyCode: familyVariantDTO_1.familyCode,
                structureType: familyVariantDTO_1.structureType
            };
            this.newEvol.familyCode = familyVariantDTO_1.familyCode;
            this.newEvol.variantCode = familyVariantDTO_1.variantCode;
            this.newEvol.structureType = familyVariantDTO_1.structureType;
            var pnCode = this.pnCodeInput ? this.pnCodeInput : undefined;
            var searchCriteria = {
                bireItemDTOCriteria: this.bireItemDTO,
                attribute: undefined,
                pnCode: pnCode
            };
            this.impactsPopupFormService.findBireItemsBySearchCriteriaToLVD(searchCriteria).subscribe(function (results) {
                _this.item = results;
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetItem'));
            });
        }
    };
    ImpactsPopupFormComponent.prototype.onChangeRadio = function () {
        this.pnCodeDdl = undefined;
        this.pnCodeInput = undefined;
        this.selectedVersion = undefined;
        this.selectedIsn = undefined;
    };
    ImpactsPopupFormComponent.prototype.searchItems = function () {
        if (!this.isReadOnlyForm) {
            this.showItemsDialog = true;
        }
    };
    ImpactsPopupFormComponent.prototype.searchPnCode = function () {
        if (!this.isReadOnlyForm && this.isEditable) {
            if (this.optionExisting === 'new') {
                this.partsSearch = {
                    pn: !!this.pnCodeInput ? this.pnCodeInput : undefined
                };
                this.showPnDialog = true;
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearchPN'));
            }
        }
    };
    ImpactsPopupFormComponent.prototype.searchPnCodeLabelValue = function (initData) {
        var _this = this;
        var birePnDTOCriteria = {
            pnCode: undefined
        };
        var findBirePnsBySearchCriteriaInput = {
            birePnDTOCriteria: birePnDTOCriteria,
            familyCode: this.bireItemDTO.familyCode,
            structureType: this.bireItemDTO.structureType,
            variantCode: this.bireItemDTO.variantCode,
            chapter: this.bireItemDTO.chapter,
            mark: this.bireItemDTO.marks,
            section: this.bireItemDTO.section,
            sheet: this.bireItemDTO.sheet,
            subject: this.bireItemDTO.subject
        };
        this.impactsPopupFormService.findBirePnsBySearchCriteriaToLVD(findBirePnsBySearchCriteriaInput).subscribe(function (results) {
            _this.pnAfter = results;
            if (!!initData && !!_this.newEvol.pnCode) {
                if (!_this.pnAfter.find(function (value) { return _this.newEvol.pnCode === value.label; })) {
                    _this.optionExisting = 'new';
                    _this.pnCodeInput = _this.newEvol.pnCode;
                }
                else {
                    _this.optionExisting = 'existing';
                    _this.pnCodeDdl = _this.newEvol.pnCode;
                }
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetPN'));
        });
    };
    ImpactsPopupFormComponent.prototype.setSelectedItems = function (selectedObject) {
        if (selectedObject) {
            this.newEvol.chapter = selectedObject.chapter;
            this.newEvol.section = selectedObject.section;
            this.newEvol.subject = selectedObject.subject;
            this.newEvol.sheet = selectedObject.sheet;
            this.newEvol.marks = selectedObject.marks;
            this.newEvol.statusDate = selectedObject.statusDate;
            this.newEvol.statusUser = selectedObject.statusUser;
            this.newEvol.statusState = selectedObject.statusState;
            this.newEvol.variantCode = selectedObject.variantCode;
            this.newEvol.familyCode = selectedObject.familyCode;
            this.newEvol.structureType = selectedObject.structureType;
            this.itemNumber = selectedObject.itemNumber;
            this.variantCode = selectedObject.variantCode;
            this.bireItemDTO = selectedObject;
            this.loadVersionAndISN();
            this.searchPnCodeLabelValue(false);
        }
        this.showItemsDialog = false;
    };
    ImpactsPopupFormComponent.prototype.loadVersionAndISN = function () {
        var _this = this;
        this.impactsPopupFormService.findEvolutionItemVersion(this.bireItemDTO).subscribe(function (results) {
            _this.versions = results;
            _this.selectedVersion = results[0].value;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetVersion'));
        });
        this.impactsPopupFormService.findAllIsnAtasAsStrings().subscribe(function (results) {
            _this.isn = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetISN'));
        });
    };
    ImpactsPopupFormComponent.prototype.searchApplicability = function (val) {
        if (!this.isReadOnlyForm && !!this.variantCode) {
            if (!!this.bireItemDTO.familyCode && !!this.bireItemDTO.structureType && !!this.bireItemDTO.variantCode) {
                var bireVariantVersionDTOId = {
                    familyCode: this.bireItemDTO.familyCode,
                    structureType: this.bireItemDTO.structureType,
                    variantCode: this.bireItemDTO.variantCode
                };
                val ? (this.showPnApplicabilityDialog = true) : (this.showApplicabilityDialog = true);
                this.dialogTableDataApplicability = {
                    componentId: 'ImpactsPopupDialog',
                    tableRows: this.impactsPopupFormService.findBireModelsByVariantPK(bireVariantVersionDTOId),
                    tableCols: [
                        { field: 'modelCode', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
                        { field: 'modelName', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
                    ],
                    exportExcel: false,
                    globalFilter: true,
                    dataKey: undefined,
                    selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single
                };
            }
            else {
                _super.prototype.throwUnboundLocalError.call(this, 'searchAvailability', 'this.bireItemDTO');
            }
        }
    };
    ImpactsPopupFormComponent.prototype.setSelectedPn = function (selectedObject) {
        if (!!selectedObject && !!selectedObject.birePnDTO) {
            this.pnCodeInput = selectedObject.birePnDTO.pnCode;
        }
        this.loadVersionAndISN();
        this.showPnDialog = false;
    };
    ImpactsPopupFormComponent.prototype.setPnSelectedApplicability = function (event) {
        this.pnApplicability = event.modelCode;
        this.showPnApplicabilityDialog = false;
    };
    ImpactsPopupFormComponent.prototype.setSelectedApplicability = function (event) {
        this.newEvol.applicability = event.modelCode;
        this.showApplicabilityDialog = false;
    };
    ImpactsPopupFormComponent.prototype.isValidateEnabled = function () {
        if (!this.variantCode ||
            (!this.newEvol.chapter &&
                !this.newEvol.section &&
                !this.newEvol.subject &&
                !this.newEvol.sheet &&
                !this.newEvol.marks) ||
            !this.newEvol.actionTypeCode) {
            return false;
        }
        if (this.optionExisting === 'existing' && !this.pnCodeDdl) {
            return false;
        }
        else if (this.optionExisting === 'new') {
            if (!this.pnCodeInput || !this.selectedVersion || !this.selectedIsn) {
                return false;
            }
        }
        return true;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ImpactsPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ImpactsPopupFormComponent.prototype, "isNewImpacts", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ImpactsPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ImpactsPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ImpactsPopupFormComponent.prototype, "onUpdate", void 0);
    ImpactsPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-impacts-popup-form',
            template: __webpack_require__(/*! ./impacts-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_impacts_popup_form_service__WEBPACK_IMPORTED_MODULE_8__["ImpactsPopupFormService"],
            _impacts_item_popup_form_impacts_item_popup_form_service__WEBPACK_IMPORTED_MODULE_7__["ImpactsItemPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"]])
    ], ImpactsPopupFormComponent);
    return ImpactsPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.service.ts":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.service.ts ***!
  \********************************************************************************************************************/
/*! exports provided: ImpactsPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpactsPopupFormService", function() { return ImpactsPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/constants/bire-action-type-constants */ "./src/app/shared/constants/bire-action-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ImpactsPopupFormService = /** @class */ (function (_super) {
    __extends(ImpactsPopupFormService, _super);
    function ImpactsPopupFormService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    ImpactsPopupFormService.prototype.findBireItemsBySearchCriteriaToLVD = function (findBireItemsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteriaToLVD, findBireItemsBySearchCriteriaInput);
    };
    ImpactsPopupFormService.prototype.findBireActionTypesByActionTypeCode = function () {
        var item = _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_4__["BireActionTypeConstants"].ACTION_TYPE_A;
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireActionTypesByActionTypeCode, item);
    };
    ImpactsPopupFormService.prototype.findAllBireVariantVersions = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireVariantVersions);
    };
    ImpactsPopupFormService.prototype.removeBireImpact = function (impact) {
        // TODO
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(true);
    };
    ImpactsPopupFormService.prototype.findBirePnsBySearchCriteria = function (findBirePnsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnsBySearchCriteria, findBirePnsBySearchCriteriaInput);
    };
    ImpactsPopupFormService.prototype.findBirePnsBySearchCriteriaToLVD = function (findBirePnsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnsBySearchCriteriaToLVD, findBirePnsBySearchCriteriaInput);
    };
    ImpactsPopupFormService.prototype.findBireModelsByVariantPK = function (bireVariantVersionDTOId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModelsByVariantPK, bireVariantVersionDTOId);
    };
    ImpactsPopupFormService.prototype.findEvolutionItemVersion = function (itemDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findEvolutionItemVersion, itemDTO);
    };
    ImpactsPopupFormService.prototype.findAllIsnAtasAsStrings = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllIsnAtasAsStrings);
    };
    ImpactsPopupFormService.prototype.findBireItemsBySearchCriteria = function (criteria) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteria, criteria);
    };
    ImpactsPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__["ProductStructureManagementApi"]])
    ], ImpactsPopupFormService);
    return ImpactsPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.html":
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.html ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"50\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".familyCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"showFamilyCode()\">{{ newEvol.familyCode }}</div>\r\n\r\n            <div *ngIf=\"newEvol.familyCode && !isReadOnlyForm\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"\r\n                  newEvol.familyCode = undefined; newEvol.structureType = undefined; newEvol.variantCode = undefined\r\n                \"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showFamilyCode()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [ngClass]=\"{ 'visibility--hidden': !newEvol.structureType }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".structureType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newEvol.structureType\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [ngClass]=\"{ 'visibility--hidden': !newEvol.structureType }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".variantCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newEvol.variantCode\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".evolutionNumber\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"showEvolutionNumber()\">{{ newEvol.evoEvolutionNumber }}</div>\r\n\r\n            <div *ngIf=\"newEvol.evoEvolutionNumber && !isReadOnlyForm\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"newEvol.evoEvolutionNumber = undefined; newEvol.evoEvolutionRevisionNumber = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOnlyForm\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showEvolutionNumber()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [ngClass]=\"{ 'visibility--hidden': !newEvol.evoEvolutionRevisionNumber }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".evolutionRevisionNumber\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [disabled]=\"true\" [(ngModel)]=\"newEvol.evoEvolutionRevisionNumber\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".interdependence\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              [options]=\"interdependence\"\r\n              [(ngModel)]=\"newEvol.interdependenceCode\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group flex--2\"></div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"\r\n        newEvol.evoEvolutionNumber === undefined ||\r\n        newEvol.evoEvolutionNumber === null ||\r\n        newEvol.interdependenceCode === undefined ||\r\n        newEvol.interdependenceCode === null\r\n      \"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-table\r\n  *ngIf=\"showFamilyCodeDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showFamilyCodeDialog\"\r\n  [data]=\"dialogTableDataFamilyCode\"\r\n  (onSelected)=\"setSelectedFamilyCode($event)\"\r\n></aw-dialog-table>\r\n\r\n<aw-dialog-search-evolution\r\n  *ngIf=\"showEvolutionNumberDialog\"\r\n  [(display)]=\"showEvolutionNumberDialog\"\r\n  [evolutionNumber]=\"newEvol.evoEvolutionNumber\"\r\n  [evolutionRevisionNumber]=\"newEvol.evoEvolutionRevisionNumber\"\r\n  (onSelected)=\"setSelectedEvolutionNumber($event)\"\r\n>\r\n</aw-dialog-search-evolution>\r\n\r\n<!-- <aw-dialog-table\r\n  *ngIf=\"showEvolutionNumberDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showEvolutionNumberDialog\"\r\n  [data]=\"dialogTableDataEvolutionNumber\"\r\n  (onSelected)=\"setSelectedEvolutionNumber($event)\"\r\n></aw-dialog-table> -->\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.ts":
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.ts ***!
  \****************************************************************************************************************************************/
/*! exports provided: InterdependencesPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InterdependencesPopupFormComponent", function() { return InterdependencesPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _interdependences_popup_form_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./interdependences-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var InterdependencesPopupFormComponent = /** @class */ (function (_super) {
    __extends(InterdependencesPopupFormComponent, _super);
    function InterdependencesPopupFormComponent(interdependencesPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'InterdependencePopupDialog') || this;
        _this.interdependencesPopupFormService = interdependencesPopupFormService;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayDialog = false;
        _this.newItem = false;
        _this.showFamilyCodeDialog = false;
        _this.showEvolutionNumberDialog = false;
        _this.contentTable = [];
        _this.newEvol = {};
        _this.keyMap = new Map();
        _this.keyMap.set('familyFunction', _this.interdependencesPopupFormService.getFamilyFunctionMap());
        _this.keyMap.set('evolutionType', _this.interdependencesPopupFormService.getEvolutionTypeMap());
        _this.keyMap.set('evolutionCompliance', _this.interdependencesPopupFormService.getComplianceMap());
        _this.keyMap.set('evolutionLevel', _this.interdependencesPopupFormService.getEvolutionLevelMap());
        _this.keyMap.set('structureType', _this.interdependencesPopupFormService.getStructureTypeMap());
        _this.loadInterdependences();
        _this.searchFamilyCode();
        _this.searchEvolutionNumber();
        return _this;
    }
    InterdependencesPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData &&
            this.componentData.componentId &&
            this.componentData.object &&
            this.componentData.componentId.length > 0) {
            this.newEvol = this.componentData.object;
            this.isEditable = !!this.componentData.selectedRow && this.componentData.selectedRow.length === 0;
        }
    };
    InterdependencesPopupFormComponent.prototype.onShow = function () {
        this.displayDialog = true;
    };
    InterdependencesPopupFormComponent.prototype.onHide = function () {
        this.newItem = false;
        this.newEvol = {};
        this.display = false;
    };
    InterdependencesPopupFormComponent.prototype.onValidate = function () {
        if (!(this.newEvol.evolutionNumber === this.newEvol.evoEvolutionNumber &&
            this.newEvol.evolutionRevisionNumber === this.newEvol.evoEvolutionRevisionNumber)) {
            if (this.newEvol.familyCode && this.newEvol.evoEvolutionNumber && this.newEvol.interdependenceCode) {
                if (this.isNewInterdependence) {
                    this.onCreate.emit(this.newEvol);
                    this.display = false;
                }
                else {
                    this.onUpdate.emit(this.newEvol);
                    this.display = false;
                }
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('sameEvolutionNumber'));
        }
    };
    InterdependencesPopupFormComponent.prototype.searchFamilyCode = function () {
        var test = [
            { field: 'familyCode', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'familyName', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'familyFunction', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'structureType', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'variantCode', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'variantName', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
        ];
        this.dialogTableDataFamilyCode = {
            componentId: 'InterdependencePopupDialog',
            tableCols: test,
            tableRows: this.interdependencesPopupFormService.findFamilyVariantVersion(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    InterdependencesPopupFormComponent.prototype.searchEvolutionNumber = function () {
        var evolutionNumberCol = [
            { field: 'evolutionNumber', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'evolutionRevisionNumber', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'statusState', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'evolutionType', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'evolutionCompliance', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'evolutionLevel', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'tracked', width: '50px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Tricheckbox },
            { field: 'evolutionSummary', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
        ];
        this.dialogTableDataEvolutionNumber = {
            componentId: 'InterdependencePopupDialog',
            tableRows: this.interdependencesPopupFormService.findBireEvolutionsByEvolutionCriteria(this.newEvol.familyCode, this.newEvol.structureType, this.newEvol.variantCode),
            tableCols: evolutionNumberCol,
            globalFilter: true,
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single
        };
    };
    InterdependencesPopupFormComponent.prototype.showFamilyCode = function () {
        if (!this.isReadOnlyForm) {
            this.showFamilyCodeDialog = true;
        }
    };
    InterdependencesPopupFormComponent.prototype.showEvolutionNumber = function () {
        if (!this.isReadOnlyForm) {
            this.showEvolutionNumberDialog = true;
        }
    };
    InterdependencesPopupFormComponent.prototype.setSelectedFamilyCode = function (selectedObject) {
        if (selectedObject) {
            this.newEvol.familyCode = selectedObject.familyCode;
            this.newEvol.structureType = selectedObject.structureType;
            this.newEvol.variantCode = selectedObject.variantCode;
        }
        this.showFamilyCodeDialog = false;
    };
    InterdependencesPopupFormComponent.prototype.setSelectedEvolutionNumber = function (selectedObject) {
        if (selectedObject) {
            this.newEvol.evoEvolutionNumber = selectedObject.evolutionNumber;
            this.newEvol.evoEvolutionRevisionNumber = selectedObject.evolutionRevisionNumber;
        }
        this.showEvolutionNumberDialog = false;
    };
    InterdependencesPopupFormComponent.prototype.loadInterdependences = function () {
        var _this = this;
        this.interdependencesPopupFormService.findAllBireInterdependences().subscribe(function (results) {
            _this.interdependence = results;
        }, function () {
            _this.messageService.showErrorMessage('errorOnGetInterdependences');
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], InterdependencesPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], InterdependencesPopupFormComponent.prototype, "isNewInterdependence", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], InterdependencesPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], InterdependencesPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], InterdependencesPopupFormComponent.prototype, "onUpdate", void 0);
    InterdependencesPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-interdependences-popup-form',
            template: __webpack_require__(/*! ./interdependences-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_interdependences_popup_form_service__WEBPACK_IMPORTED_MODULE_6__["InterdependencesPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"]])
    ], InterdependencesPopupFormComponent);
    return InterdependencesPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.service.ts":
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.service.ts ***!
  \**************************************************************************************************************************************/
/*! exports provided: InterdependencesPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InterdependencesPopupFormService", function() { return InterdependencesPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var InterdependencesPopupFormService = /** @class */ (function (_super) {
    __extends(InterdependencesPopupFormService, _super);
    function InterdependencesPopupFormService(http, appConfigService, productStructureManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    InterdependencesPopupFormService.prototype.removeBireInterdependence = function (interdependence) {
        // TODO
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(true);
    };
    InterdependencesPopupFormService.prototype.findFamilyVariantVersion = function () {
        var familyVariantInput = {
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].MODULE_FAMILY,
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].UC_MCH_BOM
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariantVersion, familyVariantInput);
    };
    InterdependencesPopupFormService.prototype.findAllBireInterdependences = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireInterdependences);
    };
    InterdependencesPopupFormService.prototype.findBireEvolutionsByEvolutionCriteria = function (familyCode, structureType, variantCode) {
        var bireEvolutionDTO = {};
        var params = {
            bireEvolutionDTO: bireEvolutionDTO,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionsByEvolutionCriteria, params);
    };
    InterdependencesPopupFormService.prototype.getFamilyFunctionMap = function () {
        return this.propertiesService.getValue('getFamilyFunctionMap');
    };
    InterdependencesPopupFormService.prototype.getEvolutionTypeMap = function () {
        return this.propertiesService.getValue('getEvolutionTypeMap');
    };
    InterdependencesPopupFormService.prototype.getComplianceMap = function () {
        return this.propertiesService.getValue('getComplianceMap');
    };
    InterdependencesPopupFormService.prototype.getEvolutionLevelMap = function () {
        return this.propertiesService.getValue('getEvolutionLevelMap');
    };
    InterdependencesPopupFormService.prototype.getStructureTypeMap = function () {
        return this.propertiesService.getValue('getStructureTypeMap');
    };
    InterdependencesPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__["ProductStructureManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_7__["PropertiesService"]])
    ], InterdependencesPopupFormService);
    return InterdependencesPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.html ***!
  \************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".familyCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"showFamilyCode()\">{{ newEvol.familyCode }}</div>\r\n\r\n            <div *ngIf=\"newEvol.familyCode\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"\r\n                  newEvol.familyCode = undefined;\r\n                  newEvol.structureType = undefined;\r\n                  newEvol.modificationType = undefined;\r\n                  newEvol.modificationNumber = undefined;\r\n                  newEvol.modificationRevisionNumber = undefined\r\n                \"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showFamilyCode()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"newEvol.structureType\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".structureType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newEvol.structureType\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".modificationType\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"showType()\">{{ newEvol.modificationType }}</div>\r\n\r\n            <div *ngIf=\"newEvol.modificationType\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"\r\n                  newEvol.modificationType = undefined;\r\n                  newEvol.familyCode = undefined;\r\n                  newEvol.structureType = undefined;\r\n                  newEvol.modificationNumber = undefined;\r\n                  newEvol.modificationRevisionNumber = undefined\r\n                \"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showType()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".modificationNumber\" | translate }} </label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [disabled]=\"isReadOnlyForm\" [(ngModel)]=\"newEvol.modificationNumber\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"newEvol.modificationRevisionNumber\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".modificationRevisionNumber\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newEvol.modificationRevisionNumber\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"\r\n        newEvol.familyCode === undefined ||\r\n        newEvol.familyCode === null ||\r\n        newEvol.modificationType === undefined ||\r\n        newEvol.modificationType === null ||\r\n        newEvol.modificationNumber === undefined ||\r\n        newEvol.modificationNumber === null\r\n      \"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-table\r\n  *ngIf=\"showFamilyCodeDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showFamilyCodeDialog\"\r\n  [data]=\"dialogTableDataFamilyCode\"\r\n  (onSelected)=\"setSelectedObject($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-table\r\n  *ngIf=\"showModificationTypeDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showModificationTypeDialog\"\r\n  [data]=\"dialogTableDataModificationType\"\r\n  (onSelected)=\"setSelectedObjectType($event)\"\r\n></aw-dialog-table>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.ts":
/*!**********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.ts ***!
  \**********************************************************************************************************************************/
/*! exports provided: ModificationsPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationsPopupFormComponent", function() { return ModificationsPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _modifications_popup_form_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modifications-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ModificationsPopupFormComponent = /** @class */ (function (_super) {
    __extends(ModificationsPopupFormComponent, _super);
    function ModificationsPopupFormComponent(modificationsPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'ModificationsPopupDialog') || this;
        _this.modificationsPopupFormService = modificationsPopupFormService;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.dialogTableDataModificationType = undefined;
        _this.newItem = false;
        _this.showFamilyCodeDialog = false;
        _this.showModificationTypeDialog = false;
        _this.contentTable = [];
        _this.selectedEvolutions = [];
        _this.newEvol = {};
        _this.keyMap = new Map();
        _this.keyMap.set('familyFunction', _this.modificationsPopupFormService.getFuncObjectStatusMap());
        _this.keyMap.set('structureType', _this.modificationsPopupFormService.getStructureTypeMap());
        _this.searchFamilyCode();
        return _this;
    }
    ModificationsPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData &&
            this.componentData.componentId &&
            this.componentData.object &&
            this.componentData.componentId.length > 0) {
            this.newEvol = this.componentData.object;
            if (!!this.componentData.selectedRow) {
                this.selectedEvolutions = this.componentData.selectedRow;
            }
            this.searchModificationType();
        }
    };
    ModificationsPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    ModificationsPopupFormComponent.prototype.onHide = function () {
        this.newItem = false;
        this.newEvol = {};
        this.display = false;
    };
    ModificationsPopupFormComponent.prototype.onValidate = function () {
        if (this.newEvol.familyCode != undefined &&
            this.newEvol.modificationNumber != undefined &&
            this.newEvol.modificationType != undefined) {
            if (this.isNewModification) {
                this.onCreate.emit(this.newEvol);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.newEvol);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    ModificationsPopupFormComponent.prototype.searchFamilyCode = function () {
        var test = [
            { field: 'familyCode', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'familyName', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'structureType', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'familyFunction', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
        ];
        this.dialogTableDataFamilyCode = {
            componentId: 'ApplicabilityPopupDialog',
            tableCols: test,
            tableRows: this.modificationsPopupFormService.findAllBireFamilys(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ModificationsPopupFormComponent.prototype.searchModificationType = function () {
        var evolutionTableCols = [
            { field: 'familyCode', width: '80px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'structureType', width: '60px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'modificationType', width: '80px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'modificationNumber', width: '80px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'modificationRevisionNumber', width: '80px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'modificationDocumentUrl', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input },
            { field: 'modificationTitle', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input }
        ];
        this.dialogTableDataModificationType = {
            componentId: 'ModificationsPopupDialog',
            tableCols: evolutionTableCols,
            tableRows: this.modificationsPopupFormService.findBireModificationsByModificationPKAndDesignation(this.newEvol, this.newEvol.modificationNumber),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    // Fonctions popup
    ModificationsPopupFormComponent.prototype.showFamilyCode = function () {
        if (!this.isReadOnlyForm) {
            this.showFamilyCodeDialog = true;
        }
    };
    ModificationsPopupFormComponent.prototype.showType = function () {
        // if (!this.isReadOnlyForm && this.newEvol.familyCode != undefined) {
        if (!this.isReadOnlyForm) {
            this.showModificationTypeDialog = true;
        }
    };
    ModificationsPopupFormComponent.prototype.setSelectedObject = function (selectedObject) {
        if (selectedObject) {
            this.newEvol.familyCode = selectedObject.familyCode;
            this.newEvol.structureType = selectedObject.structureType;
            this.searchModificationType();
            this.newEvol.modificationType = undefined;
            this.newEvol.modificationNumber = undefined;
            this.newEvol.modificationRevisionNumber = undefined;
            this.newEvol.modificationDocumentUrl = undefined;
            this.newEvol.modificationTitle = undefined;
        }
        this.showFamilyCodeDialog = false;
    };
    ModificationsPopupFormComponent.prototype.setSelectedObjectType = function (selectedObject) {
        if (selectedObject) {
            this.newEvol.modificationType = selectedObject.modificationType;
            this.newEvol.modificationNumber = selectedObject.modificationNumber;
            this.newEvol.modificationRevisionNumber = selectedObject.modificationRevisionNumber;
            this.newEvol.modificationDocumentUrl = selectedObject.modificationDocumentUrl;
            this.newEvol.modificationTitle = selectedObject.modificationTitle;
            if (!this.newEvol.familyCode) {
                this.newEvol.familyCode = selectedObject.familyCode;
                this.newEvol.structureType = selectedObject.structureType;
            }
        }
        this.showModificationTypeDialog = false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ModificationsPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ModificationsPopupFormComponent.prototype, "isNewModification", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ModificationsPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ModificationsPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ModificationsPopupFormComponent.prototype, "onUpdate", void 0);
    ModificationsPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-modifications-popup-form',
            template: __webpack_require__(/*! ./modifications-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_modifications_popup_form_service__WEBPACK_IMPORTED_MODULE_6__["ModificationsPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"]])
    ], ModificationsPopupFormComponent);
    return ModificationsPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.service.ts":
/*!********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.service.ts ***!
  \********************************************************************************************************************************/
/*! exports provided: ModificationsPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationsPopupFormService", function() { return ModificationsPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ModificationsPopupFormService = /** @class */ (function (_super) {
    __extends(ModificationsPopupFormService, _super);
    function ModificationsPopupFormService(http, appConfigService, productStructureManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    ModificationsPopupFormService.prototype.findAllBireFamilys = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireFamilys);
    };
    ModificationsPopupFormService.prototype.findBireModificationsByModificationPKAndDesignation = function (bireModificationDTO, designation) {
        var findBireModificationsByModificationPKAndDesignationInput = {
            bireModificationDTO: bireModificationDTO,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY,
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_BOM
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModificationsByModificationPKAndDesignation, findBireModificationsByModificationPKAndDesignationInput);
    };
    ModificationsPopupFormService.prototype.getFuncObjectStatusMap = function () {
        return this.propertiesService.getValue('getFamilyFunctionMap');
    };
    ModificationsPopupFormService.prototype.getStructureTypeMap = function () {
        return this.propertiesService.getValue('getStructureTypeMap');
    };
    ModificationsPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__["PropertiesService"]])
    ], ModificationsPopupFormService);
    return ModificationsPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.html":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.html ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".sbNumber\" | translate }}</label>\r\n\r\n        <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n          <div class=\"form-control-data\" (click)=\"showDialog()\">{{ evolution.sbNumber }}</div>\r\n\r\n          <div *ngIf=\"evolution.sbNumber\" class=\"btn-clear-wrapper\">\r\n            <i\r\n              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n              aria-hidden=\"true\"\r\n              (click)=\"evolution.sbNumber = undefined\"\r\n            ></i>\r\n          </div>\r\n          <div class=\"btn-search-wrapper\">\r\n            <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showDialog()\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"evolution.sbRevisionNumber\" class=\"form-group general-field\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".sbRevisionNumber\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"evolution.sbRevisionNumber\" [disabled]=\"true\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"evolution.sbNumber === undefined || evolution.sbNumber === null\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-search-sbad\r\n  *ngIf=\"showSbadDialog\"\r\n  [(display)]=\"showSbadDialog\"\r\n  (onValidated)=\"setSelectedObject($event)\"\r\n  [revisionNumber]=\"evolution.sbNumber\"\r\n  [dialogType]=\"\"\r\n>\r\n</aw-dialog-search-sbad>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.ts":
/*!****************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.ts ***!
  \****************************************************************************************************************/
/*! exports provided: SbadPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadPopupFormComponent", function() { return SbadPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _sbad_popup_form_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sbad-popup-form.service */ "./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SbadPopupFormComponent = /** @class */ (function (_super) {
    __extends(SbadPopupFormComponent, _super);
    function SbadPopupFormComponent(sbadPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'SbadPopupDialog') || this;
        _this.sbadPopupFormService = sbadPopupFormService;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.showSbadDialog = false;
        _this.evolution = {};
        _this.keyMap = new Map();
        _this.keyMap.set('statusState', _this.sbadPopupFormService.getFuncObjectStatusMap());
        _this.keyMap.set('sbType', _this.sbadPopupFormService.getSbTypeMap());
        _this.keyMap.set('sbCompliance', _this.sbadPopupFormService.getComplianceMap());
        _this.keyMap.set('sbClass', _this.sbadPopupFormService.getSbClassificationMap());
        _this.loadDialog();
        return _this;
    }
    SbadPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData &&
            this.componentData.componentId &&
            this.componentData.object &&
            this.componentData.componentId.length > 0) {
            this.evolution = this.componentData.object;
        }
    };
    SbadPopupFormComponent.prototype.onHide = function () {
        this.evolution = {};
        this.display = false;
    };
    SbadPopupFormComponent.prototype.onValidate = function () {
        if (this.evolution.sbNumber) {
            if (this.isNewSbad) {
                this.onCreate.emit(this.evolution);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.evolution);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    // Fonctions popup
    SbadPopupFormComponent.prototype.showDialog = function () {
        if (!this.isReadOnlyForm) {
            this.showSbadDialog = true;
        }
    };
    SbadPopupFormComponent.prototype.loadDialog = function () {
        this.dialogTableData = {
            componentId: 'SbadPopupDialog',
            tableRows: this.sbadPopupFormService.findBireSbsBySbCriteria(),
            tableCols: [
                { field: 'sbNumber', width: '75px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
                { field: 'sbRevisionNumber', width: '75px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
                { field: 'statusState', width: '90px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
                { field: 'sbType', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
                { field: 'sbCompliance', width: '90px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
                { field: 'sbClass', width: '90px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
                {
                    field: 'sbPublicationDate',
                    width: '100px',
                    filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input,
                    isDate: true,
                    alignment: 'left'
                },
                {
                    field: 'sbEffectiveDate',
                    width: '100px',
                    filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input,
                    isDate: true,
                    alignment: 'left'
                },
                { field: 'sbDocumentUrl', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
                { field: 'sbTitle', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' }
            ],
            exportExcel: true,
            globalFilter: true,
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single
        };
    };
    SbadPopupFormComponent.prototype.setSelectedObject = function (selectedObject) {
        if (selectedObject) {
            this.evolution.statusState = selectedObject.statusState;
            this.evolution.sbNumber = selectedObject.sbNumber;
            this.evolution.sbRevisionNumber = selectedObject.sbRevisionNumber;
            this.evolution.statusDate = selectedObject.statusDate;
            this.evolution.statusUser = selectedObject.statusUser;
        }
        this.showSbadDialog = false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], SbadPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], SbadPopupFormComponent.prototype, "isNewSbad", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], SbadPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbadPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbadPopupFormComponent.prototype, "onUpdate", void 0);
    SbadPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sbad-popup-form',
            template: __webpack_require__(/*! ./sbad-popup-form.component.html */ "./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_sbad_popup_form_service__WEBPACK_IMPORTED_MODULE_6__["SbadPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"]])
    ], SbadPopupFormComponent);
    return SbadPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.service.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.service.ts ***!
  \**************************************************************************************************************/
/*! exports provided: SbadPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadPopupFormService", function() { return SbadPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SbadPopupFormService = /** @class */ (function (_super) {
    __extends(SbadPopupFormService, _super);
    function SbadPopupFormService(http, appConfigService, productStructureManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    SbadPopupFormService.prototype.removeBireSbad = function (sbadId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.createBireEvolutionSb, sbadId);
    };
    SbadPopupFormService.prototype.createBireEvolutionSb = function (sbad) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.createBireEvolutionSb, sbad);
    };
    SbadPopupFormService.prototype.findBireSbsBySbCriteria = function () {
        var bireSbDTO = {
            sbNumber: undefined
        };
        var criteria = {
            bireSbDTO: bireSbDTO,
            familyCode: undefined,
            structureType: undefined,
            variantCode: undefined,
            publicationDateFrom: undefined,
            publicationDateTo: undefined,
            effectiveDateFrom: undefined,
            effectiveDateTo: undefined
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbsBySbCriteria, criteria);
    };
    SbadPopupFormService.prototype.getFuncObjectStatusMap = function () {
        return this.propertiesService.getValue('getFuncObjectStatusMap');
    };
    SbadPopupFormService.prototype.getSbTypeMap = function () {
        return this.propertiesService.getValue('getSbTypeMap');
    };
    SbadPopupFormService.prototype.getComplianceMap = function () {
        return this.propertiesService.getValue('getComplianceMap');
    };
    SbadPopupFormService.prototype.getSbClassificationMap = function () {
        return this.propertiesService.getValue('getSbClassificationMap');
    };
    SbadPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"]])
    ], SbadPopupFormService);
    return SbadPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-search/evolution-search.component.html":
/*!**********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-search/evolution-search.component.html ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"openNewEvolution()\" *ngIf=\"hasUpdateAccessRight\">\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <div class=\"column\">\r\n                <div class=\"row search-criteria-header\">\r\n                  <i\r\n                    class=\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\"\r\n                    aria-hidden=\"true\"\r\n                    pTooltip=\"{{ 'global.reset' | translate }}\"\r\n                    tooltipPosition=\"top\"\r\n                    (click)=\"resetSearchCriteria()\"\r\n                  ></i>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group flex--2\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".familyVariant\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertyVariant\"\r\n                        [(ngModel)]=\"familyVariant\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group flex--2\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".evolutionNumber\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.evolutionNumber\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group flex--2\">\r\n                    <label class=\"form-label\">\r\n                      {{ componentData.componentId + \".evolutionSummary\" | translate }}\r\n                    </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.evolutionSummary\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group flex--2\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".statusState\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertyStatus\"\r\n                        [(ngModel)]=\"searchObject.statusState\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\">{{ componentData.componentId + \".tracked\" | translate }}</label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-checkbox class=\"aw-checkbox\" binary=\"true\" [(ngModel)]=\"searchObject.tracked\"></p-checkbox>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"advanced-criteria\" [ngClass]=\"{ 'display--none': !showAdvancedCriteria }\">\r\n                  <div class=\"row\">\r\n                    <div class=\"form-group flex--2\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".evolutionRevisionNumber\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.evolutionRevisionNumber\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group flex--2\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".evolutionType\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-dropdown\r\n                          class=\"aw-dropdown fixed-width\"\r\n                          [options]=\"propertyType\"\r\n                          [(ngModel)]=\"searchObject.evolutionType\"\r\n                          [showClear]=\"true\"\r\n                          (keyup.enter)=\"search()\"\r\n                          placeholder=\"&nbsp;\"\r\n                        ></p-dropdown>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group flex--2\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".evolutionCompliance\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-dropdown\r\n                          class=\"aw-dropdown fixed-width\"\r\n                          [options]=\"propertyCompliance\"\r\n                          [(ngModel)]=\"searchObject.evolutionCompliance\"\r\n                          [showClear]=\"true\"\r\n                          (keyup.enter)=\"search()\"\r\n                          placeholder=\"&nbsp;\"\r\n                        ></p-dropdown>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group flex--2\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".evolutionLevel\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-dropdown\r\n                          class=\"aw-dropdown fixed-width\"\r\n                          [options]=\"propertyLevel\"\r\n                          [(ngModel)]=\"searchObject.evolutionLevel\"\r\n                          [showClear]=\"true\"\r\n                          (keyup.enter)=\"search()\"\r\n                          placeholder=\"&nbsp;\"\r\n                        ></p-dropdown>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row search-criteria-footer\">\r\n                  <button mat-button (click)=\"showAdvancedCriteria = !showAdvancedCriteria\">\r\n                    <ng-container *ngIf=\"showAdvancedCriteria\">\r\n                      <mat-icon>remove</mat-icon>\r\n                      {{ \"global.collapseCriteria\" | translate }}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!showAdvancedCriteria\">\r\n                      <mat-icon>add</mat-icon>\r\n                      {{ \"global.expandCriteria\" | translate }}\r\n                    </ng-container>\r\n                  </button>\r\n\r\n                  <div class=\"search-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      class=\"btn-with-spinner\"\r\n                      (click)=\"search()\"\r\n                      color=\"primary\"\r\n                      appKeyPress\r\n                      [keyCode]=\"'Enter'\"\r\n                      (keyPress)=\"search()\"\r\n                    >\r\n                      <span *ngIf=\"isLoading\" class=\"lds-hourglass\"></span>\r\n                      {{ \"global.toSearch\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{ resultsTableDatasource ? resultsTableDatasource.dataCount : 0\r\n                  }}{{ moreResults ? \"+\" : \"\" }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <a-table [dataSource]=\"resultsTableDatasource\">\r\n                <ng-template tableActionsDef>\r\n                  <button\r\n                    *ngIf=\"\r\n                      resultsTableDatasource &&\r\n                      resultsTableDatasource.hasData &&\r\n                      !resultsTableDatasource.hasDataSelection\r\n                    \"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"exportTable()\"\r\n                  >\r\n                    {{ \"global.export\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"hasManageAccessRight && resultsTableDatasource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    color=\"warn\"\r\n                    (click)=\"deleteSelectedEvolution()\"\r\n                  >\r\n                    {{ \"global.delete\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"resultsTableDatasource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"openSelectedEvolution()\"\r\n                  >\r\n                    {{ \"global.open\" | translate }}\r\n                  </button>\r\n                </ng-template>\r\n                <ng-template columnDef=\"evolutionNumber\" let-rowData=\"rowData\">\r\n                  <a (click)=\"openEvolutionLink(rowData)\"> {{ rowData[\"evolutionNumber\"] }} </a>\r\n                </ng-template>\r\n                <ng-template columnDef=\"tracked\" let-rowData=\"rowData\">\r\n                  <i *ngIf=\"rowData['tracked']\" class=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/evolution-search/evolution-search.component.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-search/evolution-search.component.ts ***!
  \********************************************************************************************/
/*! exports provided: EvolutionSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvolutionSearchComponent", function() { return EvolutionSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/utils/label-value-utils */ "./src/app/shared/utils/label-value-utils.ts");
/* harmony import */ var _evolution_search_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./evolution-search.service */ "./src/app/main/engineering-management/evolution-search/evolution-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var EvolutionSearchComponent = /** @class */ (function (_super) {
    __extends(EvolutionSearchComponent, _super);
    /* ***************************************************************************/
    function EvolutionSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, evolutionSearchService, confirmationService, translateService, exportService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.evolutionSearchService = evolutionSearchService;
        _this.confirmationService = confirmationService;
        _this.translateService = translateService;
        _this.exportService = exportService;
        _this.isLoading = false;
        _this.showAdvancedCriteria = false;
        _this.familyVariantMap = new Map();
        _this.searchObject = {};
        _this.selectedEvolution = [];
        _this.exportMethods = [];
        _this.propertyVariant = [];
        _this.propertyStatus = [];
        _this.propertyType = [];
        _this.propertyCompliance = [];
        _this.propertyLevel = [];
        _this.setExportMethods();
        _this.translateService.onLangChange.subscribe(function (_) {
            _this.setExportMethods();
            _this.loadDropDownLists();
        });
        _this.initResultsTableDatasource();
        return _this;
    }
    EvolutionSearchComponent_1 = EvolutionSearchComponent;
    EvolutionSearchComponent.prototype.getComponentName = function () {
        return 'EvolutionSearchComponent';
    };
    EvolutionSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
        this.loadDropDownLists();
    };
    EvolutionSearchComponent.prototype.deleteSelectedEvolution = function () {
        var _this = this;
        var partialMessageKey = this.resultsTableDatasource.dataSelectionCount > 1
            ? 'confirmDeleteSelectedEvolutions'
            : 'confirmDeleteSelectedEvolution';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.resultsTableDatasource.dataSelection.forEach(function (evolution) {
                    if (evolution && evolution.evolutionNumber && evolution.evolutionRevisionNumber) {
                        var evolutionId = {
                            evolutionNumber: evolution.evolutionNumber,
                            evolutionRevisionNumber: evolution.evolutionRevisionNumber
                        };
                        _this.evolutionSearchService.removeBireEvolution(evolutionId).subscribe(function (result) {
                            if (result) {
                                _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnDeleteEvolution'));
                            }
                            else {
                                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeleteEvolution'));
                            }
                        }, function () {
                            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeleteEvolution'));
                        });
                    }
                });
                _this.resultsTableDatasource.deleteDataSelection();
            }
        });
    };
    EvolutionSearchComponent.prototype.openNewEvolution = function () {
        this.openEvolution(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Create);
    };
    EvolutionSearchComponent.prototype.openEvolutionLink = function (evolution) {
        if (evolution && evolution.evolutionNumber && evolution.evolutionRevisionNumber) {
            var bireEvolutionId = {
                evolutionNumber: evolution.evolutionNumber,
                evolutionRevisionNumber: evolution.evolutionRevisionNumber
            };
            this.openEvolution(bireEvolutionId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Read);
        }
    };
    EvolutionSearchComponent.prototype.openSelectedEvolution = function () {
        var _this = this;
        this.resultsTableDatasource.dataSelection.forEach(function (evolution) {
            if (evolution && evolution.evolutionNumber && evolution.evolutionRevisionNumber) {
                var bireEvolutionId = {
                    evolutionNumber: evolution.evolutionNumber,
                    evolutionRevisionNumber: evolution.evolutionRevisionNumber
                };
                _this.openEvolution(bireEvolutionId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Read);
            }
        });
    };
    EvolutionSearchComponent.prototype.resetResultsTable = function (table) {
        table.reset();
        table.filters = {};
    };
    EvolutionSearchComponent.prototype.resetSearchCriteria = function () {
        this.searchObject = {};
        this.familyVariant = undefined;
    };
    EvolutionSearchComponent.prototype.search = function () {
        var _this = this;
        var familyCode = '';
        var structureType = '';
        var variantCode = '';
        if (this.familyVariant) {
            var familyVariantDTO_1;
            this.familyVariantMap.forEach(function (variantElement) {
                if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === _this.familyVariant) {
                    familyVariantDTO_1 = variantElement;
                    if (!!familyVariantDTO_1.familyCode && !!familyVariantDTO_1.structureType && !!familyVariantDTO_1.variantCode) {
                        familyCode = familyVariantDTO_1.familyCode;
                        structureType = familyVariantDTO_1.structureType;
                        variantCode = familyVariantDTO_1.variantCode;
                    }
                }
            });
        }
        _super.prototype.scrollToAnchor.call(this, this.resultsContainerAnchor);
        this.isLoading = true;
        this.evolutionSearchService
            .findBireEvolutionsByEvolutionCriteria(this.searchObject, familyCode, structureType, variantCode)
            .subscribe(function (results) {
            if (results) {
                results.list.forEach(function (element) {
                    // if (element.evolutionLevel) {
                    //   element.evolutionLevel = this.propertyLevel.filter(
                    //     (level) => level.value === element.evolutionLevel
                    //   )[0].label;
                    // }
                    // if (element.evolutionCompliance) {
                    //   element.evolutionCompliance = this.propertyCompliance.filter(
                    //     (compliance) => compliance.value === element.evolutionCompliance
                    //   )[0].label;
                    // }
                    // if (element.evolutionType) {
                    //   element.evolutionType = this.propertyType.filter(
                    //     (type) => type.value === element.evolutionType
                    //   )[0].label;
                    // }
                    _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_12__["LabelValueUtils"].stringValueToLabel(element, 'evolutionLevel', _this.propertyLevel);
                    _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_12__["LabelValueUtils"].stringValueToLabel(element, 'evolutionCompliance', _this.propertyCompliance);
                    _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_12__["LabelValueUtils"].stringValueToLabel(element, 'evolutionType', _this.propertyType);
                });
                _this.resultsTableDatasource.setData(results.list);
                _this.moreResults = results.moreResults;
            }
            _super.prototype.differ.call(_this, function () {
                _super.prototype.scrollToAnchor.call(_this, _this.resultsContainerAnchor);
            });
            _this.isLoading = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetResults'));
            _this.isLoading = false;
        });
    };
    EvolutionSearchComponent.prototype.loadDropDownLists = function () {
        var _this = this;
        var familyVariantInput = {
            useCase: 'UC50',
            module: 'FAMILY'
        };
        this.evolutionSearchService.getFamilyVariant(familyVariantInput).subscribe(function (results) {
            var list = new Array();
            results.forEach(function (variantElement) {
                if (!!variantElement.labelValueDTO) {
                    list.push(variantElement.labelValueDTO);
                    _this.familyVariantMap.set(variantElement.labelValueDTO, variantElement);
                }
            });
            _this.propertyVariant = list;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.evolutionSearchService.getFuncObjectStatusMap().subscribe(function (results) {
            _this.propertyStatus = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetStatus'));
        });
        this.evolutionSearchService.getEvolutionTypeMap().subscribe(function (results) {
            _this.propertyType = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetEvolutionType'));
        });
        this.evolutionSearchService.getComplianceMap().subscribe(function (results) {
            _this.propertyCompliance = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetCompliance'));
        });
        this.evolutionSearchService.getEvolutionLevelMap().subscribe(function (results) {
            _this.propertyLevel = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetEvolutionLevel'));
        });
    };
    EvolutionSearchComponent.prototype.openEvolution = function (objectId, openMode) {
        var labelKey = 'transaction.EvolutionFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'EvolutionFormComponent',
            objectId: this.serializationService.serialize(objectId),
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
        this.selectedEvolution = [];
    };
    EvolutionSearchComponent.prototype.save = function () {
        // TODO
    };
    EvolutionSearchComponent.prototype.setExportMethods = function () {
        this.exportMethods = [
            {
                label: this.translateService.instant('global.excel'),
                icon: 'fa-file-excel-o',
                command: function () {
                    // TODO
                }
            },
            {
                label: this.translateService.instant('global.pdf'),
                icon: 'fa-file-pdf-o',
                command: function () {
                    // TODO
                }
            }
        ];
    };
    EvolutionSearchComponent.prototype.exportTable = function () {
        if (!!this.componentData) {
            this.exportService.toExcel(this.modifyExportColumns(this.resultsTableDatasource.dataSrc), EvolutionSearchComponent_1.RESULTS_TABLE_EXPORT_NAME, this.componentData.componentId);
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'exportTable', 'this.componentData');
        }
    };
    EvolutionSearchComponent.prototype.modifyExportColumns = function (resultArr) {
        var exportArr = [];
        resultArr.forEach(function (res) {
            var json = {};
            var keys = Object.keys(res);
            keys.forEach(function (key) {
                if (key !== 'statusUser' && key !== 'statusDate') {
                    json[key] = res[key];
                }
            });
            exportArr.push(json);
        });
        return exportArr;
    };
    EvolutionSearchComponent.prototype.initResultsTableDatasource = function () {
        this.resultsTableDatasource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'evolutionNumber',
                    translateKey: this.getTranslateKey('evolutionNumber'),
                    width: '11%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].LEFT
                },
                {
                    field: 'evolutionRevisionNumber',
                    translateKey: this.getTranslateKey('evolutionRevisionNumber'),
                    width: '11%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].LEFT
                },
                {
                    field: 'evolutionSummary',
                    translateKey: this.getTranslateKey('evolutionSummary'),
                    width: '23%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].LEFT
                },
                {
                    field: 'statusState',
                    translateKey: this.getTranslateKey('statusState'),
                    width: '11%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].LEFT
                },
                {
                    field: 'evolutionType',
                    translateKey: this.getTranslateKey('evolutionType'),
                    width: '11%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].LEFT
                },
                {
                    field: 'evolutionCompliance',
                    translateKey: this.getTranslateKey('evolutionCompliance'),
                    width: '11%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].LEFT
                },
                {
                    field: 'evolutionLevel',
                    translateKey: this.getTranslateKey('evolutionLevel'),
                    width: '11%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].LEFT
                },
                {
                    field: 'tracked',
                    translateKey: this.getTranslateKey('tracked'),
                    width: '11%',
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].CENTER
                }
            ],
            data: []
        });
    };
    var EvolutionSearchComponent_1;
    EvolutionSearchComponent.RESULTS_TABLE_EXPORT_NAME = 'evolution-list';
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('resultsContainerAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], EvolutionSearchComponent.prototype, "resultsContainerAnchor", void 0);
    EvolutionSearchComponent = EvolutionSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-evolution-search',
            template: __webpack_require__(/*! ./evolution-search.component.html */ "./src/app/main/engineering-management/evolution-search/evolution-search.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_6__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_7__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_8__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_9__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_10__["TabService"],
            _evolution_search_service__WEBPACK_IMPORTED_MODULE_13__["EvolutionSearchService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_4__["ConfirmationService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_5__["ExportService"]])
    ], EvolutionSearchComponent);
    return EvolutionSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_11__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/evolution-search/evolution-search.service.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/main/engineering-management/evolution-search/evolution-search.service.ts ***!
  \******************************************************************************************/
/*! exports provided: EvolutionSearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvolutionSearchService", function() { return EvolutionSearchService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var EvolutionSearchService = /** @class */ (function (_super) {
    __extends(EvolutionSearchService, _super);
    function EvolutionSearchService(http, appConfigService, productStructureManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    EvolutionSearchService.prototype.findBireEvolutionsByEvolutionCriteria = function (criteria, familyCode, structureType, variantCode) {
        var params = {
            bireEvolutionDTO: criteria,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionsByEvolutionCriteria, params);
    };
    EvolutionSearchService.prototype.removeBireEvolution = function (evolutionId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.removeBireEvolution, evolutionId);
    };
    EvolutionSearchService.prototype.getFamilyVariant = function (familyVariantInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariant, familyVariantInput);
    };
    EvolutionSearchService.prototype.getFuncObjectStatusMap = function () {
        return this.propertiesService.getValue('getFuncObjectStatusMap');
    };
    EvolutionSearchService.prototype.getEvolutionTypeMap = function () {
        return this.propertiesService.getValue('getEvolutionTypeMap');
    };
    EvolutionSearchService.prototype.getComplianceMap = function () {
        return this.propertiesService.getValue('getComplianceMap');
    };
    EvolutionSearchService.prototype.getEvolutionLevelMap = function () {
        return this.propertiesService.getValue('getEvolutionLevelMap');
    };
    EvolutionSearchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"]])
    ], EvolutionSearchService);
    return EvolutionSearchService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/family-form/family-form.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/family-form.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\" *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\">\r\n        - {{ subTitle }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button *ngIf=\"isReadOpenMode && hasUpdateAccessRight\" type=\"button\" mat-raised-button (click)=\"edit()\">\r\n      {{ \"global.edit\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n      color=\"warn\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"cancel()\"\r\n    >\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      class=\"btn-with-spinner\"\r\n      color=\"primary\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"saveFamilyData()\"\r\n    >\r\n      <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n      {{ \"global.save\" | translate }}\r\n    </button>\r\n    <button\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button mat-menu-item *ngIf=\"isReadOpenMode && !isCreateOpenMode\" type=\"button\" (click)=\"refresh()\">\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n      <button mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">{{ \"page.mainData\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"grid-row\">\r\n                    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".familyCode\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          maxlength=\"50\"\r\n                          [(ngModel)]=\"familyDisplayed.familyCode\"\r\n                          [disabled]=\"!isCreateOpenMode || isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".familyName\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"familyDisplayed.familyName\"\r\n                          maxlength=\"50\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".structureType\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        {{ familyStructureTypeDisplay }}\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".familyFunction\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-dropdown\r\n                          appendTo=\"body\"\r\n                          class=\"aw-dropdown fixed-width\"\r\n                          [showClear]=\"true\"\r\n                          [options]=\"propertyFamilyFunction\"\r\n                          [(ngModel)]=\"familyDisplayed.familyFunction\"\r\n                          [ngClass]=\"{ inactive: isReadOpenMode }\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                          placeholder=\"&nbsp;\"\r\n                        ></p-dropdown>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n                <!-- Modifications table -->\r\n\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".modification\" | translate }} ({{\r\n                        modificationsTableDataSource ? modificationsTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"modificationsTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        color=\"warn\"\r\n                        (click)=\"deleteSelectedModification()\"\r\n                        *ngIf=\"!isReadOpenMode && modificationsTableDataSource.hasDataSelection\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"editModification()\"\r\n                        *ngIf=\"!isReadOpenMode && modificationsTableDataSource.dataSelectionCount === 1\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        *ngIf=\"modificationsTableDataSource.dataSelectionCount === 1\"\r\n                        (click)=\"openModification()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        *ngIf=\"!isReadOpenMode && !modificationsTableDataSource.hasDataSelection\"\r\n                        mat-raised-button\r\n                        (click)=\"createModification()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"modificationDocumentUrl\" let-rowData=\"rowData\">\r\n                      <a (click)=\"redirectToURL(rowData.modificationDocumentUrl)\">\r\n                        {{ rowData.modificationDocumentUrl }}\r\n                      </a>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <mat-tab *ngIf=\"isEngine()\">\r\n          <ng-template mat-tab-label>\r\n            {{ componentData.componentId + \".rating\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div #resultsratingAnchor class=\"grid-cell grid-cell--container\">\r\n                <!-- Ratings table -->\r\n\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".rating\" | translate }} ({{\r\n                        ratingsTableDataSource ? ratingsTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"ratingsTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        type=\"button\"\r\n                        *ngIf=\"!isReadOpenMode && ratingsTableDataSource.hasDataSelection\"\r\n                        mat-raised-button\r\n                        color=\"warn\"\r\n                        (click)=\"deleteSelectedRating()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        *ngIf=\"!isReadOpenMode && ratingsTableDataSource.dataSelectionCount === 1\"\r\n                        mat-raised-button\r\n                        (click)=\"editRating()\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        *ngIf=\"ratingsTableDataSource.dataSelectionCount === 1\"\r\n                        (click)=\"openRating()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        *ngIf=\"!isReadOpenMode && !ratingsTableDataSource.hasDataSelection\"\r\n                        mat-raised-button\r\n                        (click)=\"createRating()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<p-overlayPanel #op1 [showCloseIcon]=\"false\" [dismissable]=\"true\" appendTo=\"body\">\r\n  <ul class=\"export-methods\">\r\n    <li class=\"export-method-wrapper\">\r\n      <i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i> <span class=\"export-method\">Excel</span>\r\n    </li>\r\n\r\n    <li class=\"export-method-wrapper\">\r\n      <i class=\"fa fa-file-pdf-o\" aria-hidden=\"true\"></i> <span class=\"export-method\">PDF</span>\r\n    </li>\r\n  </ul>\r\n</p-overlayPanel>\r\n\r\n<!-- POPUP ZONE -->\r\n<aw-family-modification-popup\r\n  *ngIf=\"showModificationPopup\"\r\n  [component-data]=\"dataModiciation\"\r\n  [(display)]=\"showModificationPopup\"\r\n  (onCreate)=\"addNewModfication($event)\"\r\n  (onUpdate)=\"updateModification($event)\"\r\n>\r\n</aw-family-modification-popup>\r\n<aw-family-rating-popup\r\n  *ngIf=\"showRatingPopup\"\r\n  [component-data]=\"dataRating\"\r\n  [(display)]=\"showRatingPopup\"\r\n  (onCreate)=\"addNewRating($event)\"\r\n  (onUpdate)=\"updateRating($event)\"\r\n></aw-family-rating-popup>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/family-form/family-form.component.scss":
/*!************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/family-form.component.scss ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host #sbad-form-component .main-data .form-group {\n  width: 15rem; }\n\n:host #sbad-form-component .attributes-tab {\n  display: flex;\n  flex-direction: column; }\n\n:host #sbad-form-component .attributes-tab .attribute-field {\n    width: 10rem; }\n\n:host #sbad-form-component .general-tab {\n  display: flex;\n  flex-direction: column; }\n\n:host #sbad-form-component .general-tab .general-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n\n:host #sbad-form-component .general-tab .general-fields .general-field {\n      width: 10rem; }\n\n:host #sbad-form-component .general-tab .general-fields .general-field .aw-checkbox {\n        margin-top: 30px;\n        margin-bottom: 8px; }\n\n:host #sbad-form-component .general-tab .general-fields .opt-field {\n      width: 8rem;\n      margin-left: 30px; }\n\n:host #sbad-form-component .general-tab .general-fields .opt-field .aw-checkbox {\n        margin-top: 30px;\n        margin-bottom: 8px; }\n\n:host #sbad-form-component .general-tab .general-fields .location-container {\n      display: flex;\n      flex-direction: row; }\n\n:host #sbad-form-component .general-tab .general-fields .sbad-form-group {\n      /*&:first-of-type {\r\n                        padding-right: 60px;\r\n                    }*/ }\n\n:host #sbad-form-component .general-tab .general-fields .sbad-form-group > div {\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        padding-left: 65px; }\n\n:host #sbad-form-component .general-tab .general-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 100%; }\n\n:host #sbad-form-component .general-tab .general-fields > div:first-of-type {\n        padding-right: 24px; }\n\n:host #sbad-form-component .general-tab .general-fields > div:nth-of-type(2) {\n        padding-right: 24px; }\n\n:host #sbad-form-component .general-tab .general-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n\n:host #sbad-form-component .general-tab .general-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n\n:host #sbad-form-component .general-tab .general-tables .row:first-of-type {\n        margin-bottom: 24px; }\n\n:host #sbad-form-component .general-tab .general-tables .row:nth-of-type(2) {\n        margin-bottom: 24px; }\n\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper {\n        width: 50%; }\n\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper-large {\n        width: 100%; }\n\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper:first-of-type,\n      :host #sbad-form-component .general-tab .general-tables .row .table-wrapper-large:first-of-type {\n        padding-right: 24px; }\n\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper:nth-of-type(2),\n      :host #sbad-form-component .general-tab .general-tables .row .table-wrapper-large:nth-of-type(2) {\n        padding-left: 24px; }\n\n:host .page-content .main-data {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap; }\n\n:host .page-content .main-data .form-group {\n    margin-right: 20px;\n    width: 20%; }\n\n:host .page-content .main-data .form-group:last-of-type {\n      margin-right: 0; }\n\n:host .page-content .main-data .search-criteria-primary {\n    justify-content: flex-start; }\n\n:host .page-content .main-data .search-criteria-primary .criteria-checkboxes {\n      display: flex;\n      flex-direction: column; }\n\n:host .page-content .main-data .search-criteria-primary .criteria-checkboxes p-checkbox:first-of-type {\n        margin-top: 30px; }\n\n:host .page-content .main-data .search-criteria-primary .criteria-checkboxes p-checkbox:nth-of-type(2) {\n        margin-top: 5px; }\n\n:host .page-content .info-tab {\n  display: flex;\n  flex-direction: column; }\n\n:host .page-content .info-tab .bp-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n\n:host .page-content .info-tab .bp-fields .bp-field {\n      width: 12rem; }\n\n:host .page-content .info-tab .bp-fields > div {\n      display: flex;\n      flex-direction: column; }\n\n:host .page-content .info-tab .bp-fields > div:first-of-type {\n        margin-right: 20px; }\n\n:host .page-content .info-tab .bp-fields > div:nth-of-type(2) {\n        margin-left: 20px; }\n\n:host .page-content .info-tab .bp-fields > div .tab-wrapper {\n        display: flex;\n        flex-direction: row; }\n\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div {\n          display: flex;\n          flex-direction: column; }\n\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div .aw-btn-group {\n            margin-top: 20px;\n            margin-bottom: 20px; }\n\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div:first-of-type {\n          margin-right: 50px; }\n\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div:nth-of-type(2) {\n          margin-left: 50px; }\n\n:host .page-content .general-tab {\n  display: flex;\n  flex-direction: column; }\n\n:host .page-content .general-tab .bp-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n\n:host .page-content .general-tab .bp-fields .label-comment {\n      margin-top: 17px; }\n\n:host .page-content .general-tab .bp-fields .bp-field {\n      width: 12rem; }\n\n:host .page-content .general-tab .bp-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n\n:host .page-content .general-tab .bp-fields > div:first-of-type {\n        margin-right: 20px; }\n\n:host .page-content .general-tab .bp-fields > div:nth-of-type(2) {\n        margin-left: 20px; }\n\n:host .page-content .general-tab .bp-fields > div .informations-wrapper {\n        display: flex;\n        flex-direction: column; }\n\n:host .page-content .general-tab .bp-fields > div .informations-wrapper > div {\n          display: flex;\n          flex-direction: row; }\n\n:host .page-content .general-tab .bp-fields > div .informations-wrapper > div > div:first-of-type {\n            margin-right: 20px; }\n\n:host .page-content .general-tab .bp-fields > div .informations-wrapper > div > div:nth-of-type(2) {\n            margin-left: 20px; }\n\n:host .page-content .general-tab .bp-fields > div .location-wrapper {\n        display: flex;\n        flex-direction: row; }\n\n:host .page-content .general-tab .bp-fields > div .location-wrapper > div {\n          display: flex;\n          flex-direction: column; }\n\n:host .page-content .general-tab .bp-fields > div .location-wrapper > div:first-of-type {\n          margin-right: 20px; }\n\n:host .page-content .general-tab .bp-fields > div .location-wrapper > div:nth-of-type(2) {\n          margin-left: 20px; }\n\n:host .page-content .general-tab .bp-fields > div .type-wrapper {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap; }\n\n:host .page-content .general-tab .tables {\n    display: flex;\n    flex-direction: row; }\n\n:host .page-content .general-tab .tables > div:first-of-type,\n    :host .page-content .general-tab .tables > div:nth-of-type(2) {\n      width: 30%; }\n\n:host .page-content .general-tab .tables > div:first-of-type {\n      padding-right: 20px; }\n\n:host .page-content .general-tab .tables > div:nth-of-type(2) {\n      padding-left: 20px;\n      padding-right: 20px; }\n\n:host .page-content .general-tab .tables > div:nth-of-type(3) {\n      width: 40%;\n      padding-left: 20px; }\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1mb3JtL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXGZhbWlseS1mb3JtXFxmYW1pbHktZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1mb3JtL2ZhbWlseS1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00sWUFBWSxFQUFBOztBQUhsQjtFQU9NLGFBQWE7RUFDYixzQkFBc0IsRUFBQTs7QUFSNUI7SUFXUSxZQUFZLEVBQUE7O0FBWHBCO0VBZ0JNLGFBQWE7RUFDYixzQkFBc0IsRUFBQTs7QUFqQjVCO0lBb0JRLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBOztBQXRCbkI7TUF5QlUsWUFBWSxFQUFBOztBQXpCdEI7UUE0QlksZ0JBQWdCO1FBQ2hCLGtCQUFrQixFQUFBOztBQTdCOUI7TUFrQ1UsV0FBVztNQUNYLGlCQUFpQixFQUFBOztBQW5DM0I7UUFzQ1ksZ0JBQWdCO1FBQ2hCLGtCQUFrQixFQUFBOztBQXZDOUI7TUE0Q1UsYUFBYTtNQUNiLG1CQUFtQixFQUFBOztBQTdDN0I7TUF3RFU7O3NCQ3ZCWSxFRHlCQzs7QUExRHZCO1FBa0RZLGFBQWE7UUFDYixzQkFBc0I7UUFDdEIsV0FBVztRQUNYLGtCQUFrQixFQUFBOztBQXJEOUI7TUE4RFUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixXQUFXLEVBQUE7O0FBaEVyQjtRQW1FWSxtQkFBbUIsRUFBQTs7QUFuRS9CO1FBdUVZLG1CQUFtQixFQUFBOztBQXZFL0I7SUE2RVEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTs7QUEvRXpCO01Ba0ZVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBOztBQXBGekI7UUF1RlksbUJBQW1CLEVBQUE7O0FBdkYvQjtRQTJGWSxtQkFBbUIsRUFBQTs7QUEzRi9CO1FBK0ZZLFVBQVUsRUFBQTs7QUEvRnRCO1FBbUdZLFdBQVcsRUFBQTs7QUFuR3ZCOztRQXlHYyxtQkFBbUIsRUFBQTs7QUF6R2pDOztRQTZHYyxrQkFBa0IsRUFBQTs7QUE3R2hDO0VBdUhNLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZUFBZSxFQUFBOztBQXpIckI7SUE0SFEsa0JBQWtCO0lBQ2xCLFVBQVUsRUFBQTs7QUE3SGxCO01BZ0lVLGVBQWUsRUFBQTs7QUFoSXpCO0lBcUlRLDJCQUEyQixFQUFBOztBQXJJbkM7TUF3SVUsYUFBYTtNQUNiLHNCQUFzQixFQUFBOztBQXpJaEM7UUE0SVksZ0JBQWdCLEVBQUE7O0FBNUk1QjtRQWdKWSxlQUFlLEVBQUE7O0FBaEozQjtFQXVKTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7O0FBeEo1QjtJQTJKUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTs7QUE3Sm5CO01BZ0tVLFlBQVksRUFBQTs7QUFoS3RCO01Bb0tVLGFBQWE7TUFDYixzQkFBc0IsRUFBQTs7QUFyS2hDO1FBeUtZLGtCQUFrQixFQUFBOztBQXpLOUI7UUE2S1ksaUJBQWlCLEVBQUE7O0FBN0s3QjtRQWlMWSxhQUFhO1FBQ2IsbUJBQW1CLEVBQUE7O0FBbEwvQjtVQXFMYyxhQUFhO1VBQ2Isc0JBQXNCLEVBQUE7O0FBdExwQztZQXlMZ0IsZ0JBQWdCO1lBQ2hCLG1CQUFtQixFQUFBOztBQTFMbkM7VUErTGMsa0JBQWtCLEVBQUE7O0FBL0xoQztVQW1NYyxpQkFBaUIsRUFBQTs7QUFuTS9CO0VBMk1NLGFBQWE7RUFDYixzQkFBc0IsRUFBQTs7QUE1TTVCO0lBK01RLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBOztBQWpObkI7TUFvTlUsZ0JBQWdCLEVBQUE7O0FBcE4xQjtNQXdOVSxZQUFZLEVBQUE7O0FBeE50QjtNQTROVSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLFVBQVUsRUFBQTs7QUE5TnBCO1FBaU9ZLGtCQUFrQixFQUFBOztBQWpPOUI7UUFxT1ksaUJBQWlCLEVBQUE7O0FBck83QjtRQXlPWSxhQUFhO1FBQ2Isc0JBQXNCLEVBQUE7O0FBMU9sQztVQTZPYyxhQUFhO1VBQ2IsbUJBQW1CLEVBQUE7O0FBOU9qQztZQWlQZ0Isa0JBQWtCLEVBQUE7O0FBalBsQztZQXFQZ0IsaUJBQWlCLEVBQUE7O0FBclBqQztRQTJQWSxhQUFhO1FBQ2IsbUJBQW1CLEVBQUE7O0FBNVAvQjtVQStQYyxhQUFhO1VBQ2Isc0JBQXNCLEVBQUE7O0FBaFFwQztVQW9RYyxrQkFBa0IsRUFBQTs7QUFwUWhDO1VBd1FjLGlCQUFpQixFQUFBOztBQXhRL0I7UUE2UVksYUFBYTtRQUNiLG1CQUFtQjtRQUNuQixlQUFlLEVBQUE7O0FBL1EzQjtJQXFSUSxhQUFhO0lBQ2IsbUJBQW1CLEVBQUE7O0FBdFIzQjs7TUEwUlUsVUFBVSxFQUFBOztBQTFScEI7TUE4UlUsbUJBQW1CLEVBQUE7O0FBOVI3QjtNQWtTVSxrQkFBa0I7TUFDbEIsbUJBQW1CLEVBQUE7O0FBblM3QjtNQXVTVSxVQUFVO01BQ1Ysa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvZmFtaWx5LWZvcm0vZmFtaWx5LWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgI3NiYWQtZm9ybS1jb21wb25lbnQge1xyXG4gICAgLm1haW4tZGF0YSAuZm9ybS1ncm91cCB7XHJcbiAgICAgIHdpZHRoOiAxNXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAuYXR0cmlidXRlcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmF0dHJpYnV0ZS1maWVsZCB7XHJcbiAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmdlbmVyYWwtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5nZW5lcmFsLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuZ2VuZXJhbC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTByZW07XHJcblxyXG4gICAgICAgICAgLmF3LWNoZWNrYm94IHtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLm9wdC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogOHJlbTtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG5cclxuICAgICAgICAgIC5hdy1jaGVja2JveCB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5sb2NhdGlvbi1jb250YWluZXIge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuc2JhZC1mb3JtLWdyb3VwIHtcclxuICAgICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA2NXB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8qJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogNjBweDtcclxuICAgICAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmdlbmVyYWwtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXItbGFyZ2Uge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlcixcclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyLWxhcmdlIHtcclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5wYWdlLWNvbnRlbnQge1xyXG4gICAgLm1haW4tZGF0YSB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgd2lkdGg6IDIwJTtcclxuXHJcbiAgICAgICAgJjpsYXN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlYXJjaC1jcml0ZXJpYS1wcmltYXJ5IHtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcblxyXG4gICAgICAgIC5jcml0ZXJpYS1jaGVja2JveGVzIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgICAgIHAtY2hlY2tib3g6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcC1jaGVja2JveDpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuaW5mby10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmJwLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuYnAtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEycmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIC8vd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWItd3JhcHBlciB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblxyXG4gICAgICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAgICAgICAgIC5hdy1idG4tZ3JvdXAge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmID4gZGl2OmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNTBweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDUwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZ2VuZXJhbC10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmJwLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAubGFiZWwtY29tbWVudCB7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxN3B4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmJwLWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiAxMnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmluZm9ybWF0aW9ucy13cmFwcGVyIHtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHJcbiAgICAgICAgICAgICAgJiA+IGRpdjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmxvY2F0aW9uLXdyYXBwZXIge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cclxuICAgICAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmID4gZGl2OmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudHlwZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cclxuICAgICAgICAmID4gZGl2OmZpcnN0LW9mLXR5cGUsXHJcbiAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICB3aWR0aDogMzAlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2Om50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcclxuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2Om50aC1vZi10eXBlKDMpIHtcclxuICAgICAgICAgIHdpZHRoOiA0MCU7XHJcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIjpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5tYWluLWRhdGEgLmZvcm0tZ3JvdXAge1xuICB3aWR0aDogMTVyZW07IH1cblxuOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmF0dHJpYnV0ZXMtdGFiIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuYXR0cmlidXRlcy10YWIgLmF0dHJpYnV0ZS1maWVsZCB7XG4gICAgd2lkdGg6IDEwcmVtOyB9XG5cbjpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHdpZHRoOiAxMDAlOyB9XG4gICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAuZ2VuZXJhbC1maWVsZCB7XG4gICAgICB3aWR0aDogMTByZW07IH1cbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLmdlbmVyYWwtZmllbGQgLmF3LWNoZWNrYm94IHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OyB9XG4gICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAub3B0LWZpZWxkIHtcbiAgICAgIHdpZHRoOiA4cmVtO1xuICAgICAgbWFyZ2luLWxlZnQ6IDMwcHg7IH1cbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLm9wdC1maWVsZCAuYXctY2hlY2tib3gge1xuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7IH1cbiAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5sb2NhdGlvbi1jb250YWluZXIge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7IH1cbiAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5zYmFkLWZvcm0tZ3JvdXAge1xuICAgICAgLyomOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA2MHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH0qLyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5zYmFkLWZvcm0tZ3JvdXAgPiBkaXYge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiA2NXB4OyB9XG4gICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyA+IGRpdiB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIHdpZHRoOiAxMDAlOyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzID4gZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4OyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDsgfVxuICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgcGFkZGluZy10b3A6IDI0cHg7IH1cbiAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICBmbGV4LXdyYXA6IHdyYXA7IH1cbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdzpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDsgfVxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDsgfVxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IC50YWJsZS13cmFwcGVyIHtcbiAgICAgICAgd2lkdGg6IDUwJTsgfVxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IC50YWJsZS13cmFwcGVyLWxhcmdlIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7IH1cbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlcjpmaXJzdC1vZi10eXBlLFxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IC50YWJsZS13cmFwcGVyLWxhcmdlOmZpcnN0LW9mLXR5cGUge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4OyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXI6bnRoLW9mLXR5cGUoMiksXG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXItbGFyZ2U6bnRoLW9mLXR5cGUoMikge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7IH1cblxuOmhvc3QgLnBhZ2UtY29udGVudCAubWFpbi1kYXRhIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgZmxleC13cmFwOiB3cmFwOyB9XG4gIDpob3N0IC5wYWdlLWNvbnRlbnQgLm1haW4tZGF0YSAuZm9ybS1ncm91cCB7XG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgIHdpZHRoOiAyMCU7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLmZvcm0tZ3JvdXA6bGFzdC1vZi10eXBlIHtcbiAgICAgIG1hcmdpbi1yaWdodDogMDsgfVxuICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLnNlYXJjaC1jcml0ZXJpYS1wcmltYXJ5IHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLnNlYXJjaC1jcml0ZXJpYS1wcmltYXJ5IC5jcml0ZXJpYS1jaGVja2JveGVzIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLnNlYXJjaC1jcml0ZXJpYS1wcmltYXJ5IC5jcml0ZXJpYS1jaGVja2JveGVzIHAtY2hlY2tib3g6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDMwcHg7IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLm1haW4tZGF0YSAuc2VhcmNoLWNyaXRlcmlhLXByaW1hcnkgLmNyaXRlcmlhLWNoZWNrYm94ZXMgcC1jaGVja2JveDpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDVweDsgfVxuXG46aG9zdCAucGFnZS1jb250ZW50IC5pbmZvLXRhYiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHdpZHRoOiAxMDAlOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyAuYnAtZmllbGQge1xuICAgICAgd2lkdGg6IDEycmVtOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyA+IGRpdiB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyA+IGRpdjpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5pbmZvLXRhYiAuYnAtZmllbGRzID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmluZm8tdGFiIC5icC1maWVsZHMgPiBkaXYgLnRhYi13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsgfVxuICAgICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5pbmZvLXRhYiAuYnAtZmllbGRzID4gZGl2IC50YWItd3JhcHBlciA+IGRpdiB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9XG4gICAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyA+IGRpdiAudGFiLXdyYXBwZXIgPiBkaXYgLmF3LWJ0bi1ncm91cCB7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsgfVxuICAgICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5pbmZvLXRhYiAuYnAtZmllbGRzID4gZGl2IC50YWItd3JhcHBlciA+IGRpdjpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDUwcHg7IH1cbiAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyA+IGRpdiAudGFiLXdyYXBwZXIgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiA1MHB4OyB9XG5cbjpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgd2lkdGg6IDEwMCU7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzIC5sYWJlbC1jb21tZW50IHtcbiAgICAgIG1hcmdpbi10b3A6IDE3cHg7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzIC5icC1maWVsZCB7XG4gICAgICB3aWR0aDogMTJyZW07IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgd2lkdGg6IDUwJTsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdjpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXYgLmluZm9ybWF0aW9ucy13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICAgICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2IC5pbmZvcm1hdGlvbnMtd3JhcHBlciA+IGRpdiB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93OyB9XG4gICAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiAuaW5mb3JtYXRpb25zLXdyYXBwZXIgPiBkaXYgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7IH1cbiAgICAgICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2IC5pbmZvcm1hdGlvbnMtd3JhcHBlciA+IGRpdiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiAubG9jYXRpb24td3JhcHBlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7IH1cbiAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiAubG9jYXRpb24td3JhcHBlciA+IGRpdiB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9XG4gICAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXYgLmxvY2F0aW9uLXdyYXBwZXIgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OyB9XG4gICAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXYgLmxvY2F0aW9uLXdyYXBwZXIgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4OyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2IC50eXBlLXdyYXBwZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7IH1cbiAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLnRhYmxlcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93OyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLnRhYmxlcyA+IGRpdjpmaXJzdC1vZi10eXBlLFxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xuICAgICAgd2lkdGg6IDMwJTsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4OyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLnRhYmxlcyA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4OyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLnRhYmxlcyA+IGRpdjpudGgtb2YtdHlwZSgzKSB7XG4gICAgICB3aWR0aDogNDAlO1xuICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4OyB9XG4iXX0= */"

/***/ }),

/***/ "./src/app/main/engineering-management/family-form/family-form.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/family-form.component.ts ***!
  \**********************************************************************************/
/*! exports provided: FamilyFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilyFormComponent", function() { return FamilyFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/utils/tab-object-id-utils */ "./src/app/shared/utils/tab-object-id-utils.ts");
/* harmony import */ var _family_search_family_search_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../family-search/family-search.service */ "./src/app/main/engineering-management/family-search/family-search.service.ts");
/* harmony import */ var _family_form_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./family-form.service */ "./src/app/main/engineering-management/family-form/family-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
















var FamilyFormComponent = /** @class */ (function (_super) {
    __extends(FamilyFormComponent, _super);
    function FamilyFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, familyFormService, propertiesService, confirmationService, familySearchService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.familyFormService = familyFormService;
        _this.propertiesService = propertiesService;
        _this.confirmationService = confirmationService;
        _this.familySearchService = familySearchService;
        _this.initObjects();
        // Fill table column information
        _this.initModificationsTableDataSource();
        _this.initRatingsTableDataSource();
        _this.delRow = 0;
        // Tab Id
        _this.tabModificationId = 'modification';
        _this.tabRatingId = 'rating';
        _this.currentTabId = _this.tabModificationId;
        _this.engineValue = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].FAMILY_FUNCTION_ENGINE_KEY;
        // Loading all DropDown list
        _this.loadDropDownLists();
        // Lang change events
        // this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {});
        _this.isLoadingRating = false;
        _this.isLoading = false;
        _this.dataModiciation = {
            componentId: 'FamilyFormComponent',
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write,
            object: {},
            selectedRow: undefined
        };
        _this.dataRating = {
            componentId: 'FamilyFormComponent',
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write,
            object: {},
            selectedRow: undefined
        };
        return _this;
    }
    FamilyFormComponent.prototype.getComponentName = function () {
        return 'FamilyFormComponent';
    };
    FamilyFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        if (this.componentData) {
            this.updateOpenMode(this.componentData.openMode);
            var context_1 = '';
            if (this.componentData.objectId) {
                var tempContext = _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_13__["TabObjectIdUtils"].bireFamilyDTOIdToString(this.serializationService.deserialize(this.componentData.objectId)).split(_shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_13__["TabObjectIdUtils"].DEFAULT_SEPARATOR);
                tempContext.forEach(function (element) {
                    context_1 += element + _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_13__["TabObjectIdUtils"].CONTEXT_SEPARATOR;
                });
                context_1 = context_1.substring(0, context_1.length - 1);
                this.subTitle = context_1;
                this.findBireFamily();
            }
            else {
                context_1 = 'tab.createMode';
            }
            this.displayComponentContext(context_1, this.isCreateOpenMode);
        }
        else {
            // TODO
        }
        this.getFamilyList();
    };
    FamilyFormComponent.prototype.initModificationsTableDataSource = function () {
        this.modificationsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'modificationType',
                    translateKey: this.getTranslateKey('modificationType')
                },
                {
                    field: 'modificationNumber',
                    translateKey: this.getTranslateKey('modificationNumber')
                },
                {
                    field: 'modificationRevisionNumber',
                    translateKey: this.getTranslateKey('modificationRevisionNumber')
                },
                {
                    field: 'modificationDocumentUrl',
                    translateKey: this.getTranslateKey('modificationDocumentUrl')
                },
                {
                    field: 'modificationTitle',
                    translateKey: this.getTranslateKey('modificationTitle')
                }
            ],
            data: []
        });
    };
    FamilyFormComponent.prototype.initRatingsTableDataSource = function () {
        this.ratingsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'ratingCode',
                    translateKey: this.getTranslateKey('ratingCode'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["ColumnAlignment"].LEFT,
                    width: '50%'
                },
                {
                    field: 'ratingName',
                    translateKey: this.getTranslateKey('ratingName'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["ColumnAlignment"].LEFT,
                    width: '50%'
                }
            ],
            data: []
        });
    };
    FamilyFormComponent.prototype.initObjects = function () {
        // Init DTO objects
        this.family = {};
        this.bireModifications = [];
        this.bireRatings = [];
        // Init Displayed Objects
        this.familyDisplayed = {};
        this.familyDisplayed.structureType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].STRUCTURE_TYPE_IPC_KEY;
        this.initDtoObjectForDatabase();
    };
    FamilyFormComponent.prototype.initDtoObjectForDatabase = function () {
        this.bireModificationAddedList = [];
        this.bireModificationUpdatedList = [];
        this.bireModificationDeletedList = [];
        this.bireRatingAddedList = [];
        this.bireRatingUpdatedList = [];
        this.bireRatingDeletedList = [];
    };
    FamilyFormComponent.prototype.cancel = function () {
        if (this.isCreateOpenMode) {
            this.initObjects();
        }
        else {
            this.initObjects();
            this.componentData.openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Read;
            this.ngOnInit();
            this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Read);
        }
    };
    FamilyFormComponent.prototype.edit = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write);
    };
    FamilyFormComponent.prototype.refresh = function () {
        this.ngOnInit();
    };
    /***********************************************************************************
     * Modification Tab
     ***********************************************************************************/
    FamilyFormComponent.prototype.openModificationTab = function () {
        this.currentTabId = this.tabModificationId;
    };
    FamilyFormComponent.prototype.createModification = function () {
        this.dataModiciation = {
            componentId: 'FamilyFormComponent',
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write,
            object: {},
            selectedRow: undefined
        };
        this.showModificationPopup = true;
    };
    FamilyFormComponent.prototype.editModification = function () {
        if (this.modificationsTableDataSource.dataSelectionCount === 1) {
            // Copy all the selectedModification[0] field into currentModification one by one
            this.currentModification = __assign({}, this.modificationsTableDataSource.dataSelection[0]);
            this.currentModificationIndex = this.modificationsTableDataSource.dataSrc.indexOf(this.modificationsTableDataSource.dataSelection[0]);
            this.dataModiciation = {
                componentId: 'FamilyFormComponent',
                selectedRow: undefined,
                object: this.currentModification,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write
            };
        }
        this.showModificationPopup = true;
    };
    FamilyFormComponent.prototype.openModification = function () {
        if (this.modificationsTableDataSource.dataSelectionCount === 1) {
            // Copy all the selectedModification[0] field into currentModification one by one
            this.currentModification = __assign({}, this.modificationsTableDataSource.dataSelection[0]);
            this.currentModificationIndex = this.modificationsTableDataSource.dataSrc.indexOf(this.modificationsTableDataSource.dataSelection[0]);
            this.dataModiciation = {
                componentId: 'FamilyFormComponent',
                selectedRow: undefined,
                object: this.currentModification,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Read
            };
        }
        this.showModificationPopup = true;
    };
    /*
          Modication handler functions
      */
    FamilyFormComponent.prototype.addNewModfication = function (modification) {
        var searchInDisplayedList = this.modificationsTableDataSource.dataSrc.find(function (value) {
            return value.modificationType === modification.modificationType &&
                value.modificationNumber === modification.modificationNumber &&
                value.modificationRevisionNumber === modification.modificationRevisionNumber;
        });
        if (!searchInDisplayedList) {
            this.bireModificationAddedList.push(modification);
            this.modificationsTableDataSource.addData([modification]);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));
        }
        this.showModificationPopup = false;
    };
    FamilyFormComponent.prototype.updateModification = function (udpatedModification) {
        var _this = this;
        var isFound = false;
        var previousModificationObject = this.modificationsTableDataSource[this.currentModificationIndex];
        var searchInAddedList = this.bireModificationAddedList.find(function (value) {
            return value.modificationType === previousModificationObject.modificationType &&
                value.modificationNumber === previousModificationObject.modificationNumber &&
                value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber;
        });
        var searchInUpdatedList = this.bireModificationUpdatedList.find(function (value) {
            return value.modificationType === previousModificationObject.modificationType &&
                value.modificationNumber === previousModificationObject.modificationNumber &&
                value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireModificationAddedList.indexOf(searchInAddedList);
            this.modificationsTableDataSource.dataSrc.forEach(function (res) {
                if (_this.modificationsTableDataSource.dataSelection[0].modificationNumber !==
                    udpatedModification.modificationNumber &&
                    _this.modificationsTableDataSource.dataSelection[0].modificationRevisionNumber !==
                        udpatedModification.modificationRevisionNumber &&
                    _this.modificationsTableDataSource.dataSelection[0].modificationType !==
                        udpatedModification.modificationType &&
                    res.modificationType === udpatedModification.modificationType &&
                    res.modificationRevisionNumber === udpatedModification.modificationRevisionNumber &&
                    res.modificationNumber === udpatedModification.modificationNumber) {
                    isFound = true;
                }
            });
            if (isFound) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));
            }
            else {
                this.bireModificationAddedList[indexInAddedList] = udpatedModification;
            }
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireModificationUpdatedList.indexOf(searchInUpdatedList);
            this.modificationsTableDataSource.dataSrc.forEach(function (res) {
                if (_this.modificationsTableDataSource.dataSelection[0].modificationNumber !==
                    udpatedModification.modificationNumber &&
                    _this.modificationsTableDataSource.dataSelection[0].modificationRevisionNumber !==
                        udpatedModification.modificationRevisionNumber &&
                    _this.modificationsTableDataSource.dataSelection[0].modificationType !==
                        udpatedModification.modificationType &&
                    res.modificationType === udpatedModification.modificationType &&
                    res.modificationRevisionNumber === udpatedModification.modificationRevisionNumber &&
                    res.modificationNumber === udpatedModification.modificationNumber) {
                    isFound = true;
                }
            });
            if (isFound) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));
            }
            else {
                this.bireModificationUpdatedList[indexInUpdatedList] = udpatedModification;
            }
        }
        else {
            this.modificationsTableDataSource.dataSrc.forEach(function (res) {
                if (_this.modificationsTableDataSource.dataSelection[0].modificationNumber !==
                    udpatedModification.modificationNumber &&
                    _this.modificationsTableDataSource.dataSelection[0].modificationRevisionNumber !==
                        udpatedModification.modificationRevisionNumber &&
                    _this.modificationsTableDataSource.dataSelection[0].modificationType !==
                        udpatedModification.modificationType &&
                    res.modificationType === udpatedModification.modificationType &&
                    res.modificationRevisionNumber === udpatedModification.modificationRevisionNumber &&
                    res.modificationNumber === udpatedModification.modificationNumber) {
                    isFound = true;
                }
            });
            if (isFound) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));
            }
            else {
                this.bireModificationUpdatedList.push(udpatedModification);
            }
        }
        this.modificationsTableDataSource.dataSelection = [];
        if (!isFound) {
            this.modificationsTableDataSource.replaceData(this.modificationsTableDataSource.dataSelection[0], udpatedModification);
        }
        this.showModificationPopup = false;
    };
    FamilyFormComponent.prototype.deleteSelectedModification = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedModifications'),
            accept: function () {
                _this.modificationsTableDataSource.dataSelection.forEach(function (element) {
                    var modificationId = {
                        familyCode: element.familyCode,
                        structureType: element.structureType,
                        modificationNumber: element.modificationNumber,
                        modificationRevisionNumber: element.modificationRevisionNumber,
                        modificationType: element.modificationType
                    };
                    var searchInAddedList = _this.bireModificationAddedList.find(function (value) {
                        return value.modificationType === element.modificationType &&
                            value.modificationNumber === element.modificationNumber &&
                            value.modificationRevisionNumber === element.modificationRevisionNumber;
                    });
                    var searchInUpdatedList = _this.bireModificationUpdatedList.find(function (value) {
                        return value.modificationType === element.modificationType &&
                            value.modificationNumber === element.modificationNumber &&
                            value.modificationRevisionNumber === element.modificationRevisionNumber;
                    });
                    if (searchInAddedList) {
                        var indexInAddedList = _this.bireModificationAddedList.indexOf(searchInAddedList);
                        _this.bireModificationAddedList.splice(indexInAddedList, 1);
                    }
                    else if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireModificationUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireModificationUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireModificationDeletedList.push(modificationId);
                    }
                    else {
                        _this.bireModificationDeletedList.push(modificationId);
                    }
                    var indexInDisplayedList = _this.modificationsTableDataSource.dataSrc.indexOf(element);
                    _this.modificationsTableDataSource.dataSrc.splice(indexInDisplayedList, 1);
                });
                _this.modificationsTableDataSource.dataSelection = [];
            }
        });
    };
    /***********************************************************************************
     * Rating Tab
     ***********************************************************************************/
    FamilyFormComponent.prototype.openRatingTab = function () {
        this.currentTabId = this.tabRatingId;
    };
    FamilyFormComponent.prototype.createRating = function () {
        this.dataRating = {
            componentId: 'FamilyFormComponent',
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write,
            object: {},
            selectedRow: undefined
        };
        this.showRatingPopup = true;
    };
    FamilyFormComponent.prototype.editRating = function () {
        if (this.ratingsTableDataSource.dataSelectionCount === 1) {
            this.currentRating = __assign({}, this.ratingsTableDataSource.dataSelection[0]);
            this.currentRatingIndex = this.ratingsTableDataSource.dataSrc.indexOf(this.ratingsTableDataSource.dataSelection[0]);
            this.dataRating = {
                componentId: 'SbadFormComponent',
                selectedRow: undefined,
                object: this.currentRating,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write
            };
        }
        this.showRatingPopup = true;
    };
    FamilyFormComponent.prototype.openRating = function () {
        if (this.ratingsTableDataSource.dataSelectionCount === 1) {
            this.currentRating = __assign({}, this.ratingsTableDataSource.dataSelection[0]);
            this.currentRatingIndex = this.ratingsTableDataSource.dataSrc.indexOf(this.ratingsTableDataSource.dataSelection[0]);
            this.dataRating = {
                componentId: 'SbadFormComponent',
                selectedRow: undefined,
                object: this.currentRating,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Read
            };
        }
        this.showRatingPopup = true;
    };
    /*
          Sb variant handler functions
      */
    FamilyFormComponent.prototype.addNewRating = function (newRating) {
        var searchInDisplayedList = this.ratingsTableDataSource.dataSrc.find(function (value) { return value.ratingCode === newRating.ratingCode && value.ratingName === newRating.ratingName; });
        if (!searchInDisplayedList) {
            this.bireRatingAddedList.push(newRating);
            this.ratingsTableDataSource.addData([newRating]);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyRatingExisting'));
        }
        this.showRatingPopup = false;
    };
    FamilyFormComponent.prototype.deleteSelectedRating = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedRatings'),
            accept: function () {
                _this.ratingsTableDataSource.dataSelection.forEach(function (element) {
                    var searchInAddedList = _this.bireRatingAddedList.find(function (value) { return value.ratingCode === element.ratingCode && value.ratingName === element.ratingName; });
                    var searchInUpdatedList = _this.bireRatingUpdatedList.find(function (value) { return value.ratingCode === element.ratingCode && value.ratingName === element.ratingName; });
                    if (searchInAddedList) {
                        var indexInAddedList = _this.bireRatingAddedList.indexOf(searchInAddedList);
                        _this.bireRatingAddedList.splice(indexInAddedList, 1);
                    }
                    else {
                        if (!!element.ratingCode && !!element.familyCode && !!element.structureType) {
                            var ratingId = {
                                ratingCode: element.ratingCode,
                                familyCode: element.familyCode,
                                structureType: element.structureType
                            };
                            if (searchInUpdatedList) {
                                var indexInUpdatedList = _this.bireRatingUpdatedList.indexOf(searchInUpdatedList);
                                _this.bireRatingUpdatedList.splice(indexInUpdatedList, 1);
                                _this.bireRatingDeletedList.push(ratingId);
                            }
                            else {
                                _this.bireRatingDeletedList.push(ratingId);
                            }
                        }
                        else {
                            _super.prototype.throwUnboundLocalError.call(_this, 'deleteSelectedRating', 'element');
                        }
                    }
                    var indexInDisplayedList = _this.ratingsTableDataSource.dataSrc.indexOf(element);
                    _this.ratingsTableDataSource.dataSrc.splice(indexInDisplayedList, 1);
                    _this.ratingsTableDataSource.setData(_this.ratingsTableDataSource.dataSrc);
                    _this.ratingsTableDataSource.update();
                });
                _this.ratingsTableDataSource.dataSelection = [];
            }
        });
    };
    FamilyFormComponent.prototype.updateRating = function (udpatedRating) {
        var _this = this;
        var previousRatingObject = this.ratingsTableDataSource.data[this.currentRatingIndex];
        var isFound = false;
        var searchInAddedList = this.bireRatingAddedList.find(function (value) {
            return value.ratingCode === previousRatingObject.ratingCode && value.ratingName === previousRatingObject.ratingName;
        });
        var searchInUpdatedList = this.bireRatingUpdatedList.find(function (value) {
            return value.ratingCode === previousRatingObject.ratingCode && value.ratingName === previousRatingObject.ratingName;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireRatingAddedList.indexOf(searchInAddedList);
            this.ratingsTableDataSource.dataSrc.forEach(function (res) {
                if (_this.ratingsTableDataSource.dataSelection[0].ratingCode !== udpatedRating.ratingCode &&
                    res.ratingCode === udpatedRating.ratingCode) {
                    isFound = true;
                }
            });
            if (isFound) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));
            }
            else {
                this.bireRatingAddedList[indexInAddedList] = udpatedRating;
            }
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireRatingUpdatedList.indexOf(searchInUpdatedList);
            this.ratingsTableDataSource.dataSrc.forEach(function (res) {
                if (_this.ratingsTableDataSource.dataSelection[0].ratingCode !== udpatedRating.ratingCode &&
                    res.ratingCode === udpatedRating.ratingCode) {
                    isFound = true;
                }
            });
            if (isFound) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));
            }
            else {
                this.bireRatingUpdatedList[indexInUpdatedList] = udpatedRating;
            }
        }
        else {
            this.ratingsTableDataSource.dataSrc.forEach(function (res) {
                if (_this.ratingsTableDataSource.dataSelection[0].ratingCode !== udpatedRating.ratingCode &&
                    res.ratingCode === udpatedRating.ratingCode) {
                    isFound = true;
                }
            });
            if (isFound) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));
            }
            else {
                this.bireRatingUpdatedList.push(udpatedRating);
            }
        }
        if (!isFound) {
            this.ratingsTableDataSource.replaceData(this.ratingsTableDataSource.dataSelection[0], udpatedRating);
        }
        this.ratingsTableDataSource.dataSelection = [];
        this.showRatingPopup = false;
    };
    /***********************************************************************************
     * BackEnd functions
     ***********************************************************************************/
    FamilyFormComponent.prototype.loadDropDownLists = function () {
        this.loadStructureTypeValue();
        this.loadFamilyFunctions();
    };
    FamilyFormComponent.prototype.loadStructureTypeValue = function () {
        var _this = this;
        this.propertiesService
            .getValueByKey(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_3__["GenericPropertyConstants"].STRUCTURE_TYPE_VALUE_BY_KEY, _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].STRUCTURE_TYPE_IPC_KEY)
            .subscribe(function (results) {
            if (results) {
                _this.familyStructureTypeDisplay = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnStructureType'));
        });
    };
    FamilyFormComponent.prototype.loadFamilyFunctions = function () {
        var _this = this;
        this.propertiesService.getValue('getFamilyFunctionMap').subscribe(function (results) {
            if (results) {
                _this.propertyFamilyFunction = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFamilyFunctionList'));
        });
    };
    FamilyFormComponent.prototype.findBireFamily = function () {
        var _this = this;
        // Retrieve the family Id object by deserialization
        if (!!this.componentData && !!this.componentData.objectId) {
            this.familyId = this.serializationService.deserialize(this.componentData.objectId);
            this.familyFormService.findBireFamilyByFamilyId(this.familyId.familyCode, this.familyId.structureType).subscribe(function (result) {
                _this.family = result;
                if (!!_this.family) {
                    _this.findBireModificationByBireFamily(_this.family);
                    if (!!_this.family && !!_this.family.familyCode && !!_this.family.structureType) {
                        _this.findBireRatingByBireFamily(_this.family);
                    }
                }
                _this.familyDisplayed = __assign({}, _this.family);
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireFamily'));
            });
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'findBireFamily', 'this.componentData.objectId');
        }
    };
    FamilyFormComponent.prototype.getFamilyList = function () {
        var _this = this;
        this.familySearchService.findAllBireFamilys().subscribe(function (result) {
            _this.resultsTable = result;
        });
    };
    FamilyFormComponent.prototype.findBireModificationByBireFamily = function (bireFamily) {
        var _this = this;
        this.isLoading = true;
        this.familyFormService.findBireModificationByBireFamily(bireFamily).subscribe(function (results) {
            _this.bireModifications = __spread(results);
            _this.modificationsTableDataSource.setData(results);
            _this.isLoading = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindModifications'));
            _this.isLoading = false;
        });
    };
    FamilyFormComponent.prototype.findBireRatingByBireFamily = function (bireFamily) {
        var _this = this;
        this.isLoadingRating = true;
        if (!!bireFamily && !!bireFamily.familyCode && !!bireFamily.structureType) {
            this.familyFormService.findBireRatingByBireFamily(bireFamily.familyCode, bireFamily.structureType).subscribe(function (results) {
                _this.bireRatings = __spread(results);
                _this.ratingsTableDataSource.setData(results);
                _this.isLoadingRating = false;
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindModifications'));
                _this.isLoadingRating = false;
            });
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'findBireRatingByBireFamily', 'bireFamily');
        }
    };
    FamilyFormComponent.prototype.isOneRequiredFieldNull = function () {
        return !this.familyDisplayed.familyCode || !this.familyDisplayed.structureType || !this.familyDisplayed.familyName;
    };
    FamilyFormComponent.prototype.saveFamilyData = function () {
        var _this = this;
        if (this.isOneRequiredFieldNull()) {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));
        }
        else {
            if (!this.validateDuplicateFamily()) {
                // Parse the familyId
                if (!!this.familyDisplayed.familyCode && !!this.familyDisplayed.structureType) {
                    this.familyId = {
                        familyCode: this.familyDisplayed.familyCode,
                        structureType: this.familyDisplayed.structureType
                    };
                    // Add the link between the family and the modification added elements
                    this.bireModificationAddedList.forEach(function (element) {
                        element.familyCode = _this.familyId.familyCode;
                        element.structureType = _this.familyId.structureType;
                    });
                    // Add the link between the family and the rating added elements
                    this.bireRatingAddedList.forEach(function (element) {
                        element.familyCode = _this.familyId.familyCode;
                        element.structureType = _this.familyId.structureType;
                    });
                    this.showSaveSpinner = true;
                    this.familyFormService
                        .saveFamilyData(this.familyDisplayed, this.bireModificationAddedList, this.bireModificationUpdatedList, this.bireModificationDeletedList, this.bireRatingAddedList, this.bireRatingUpdatedList, this.bireRatingDeletedList)
                        .subscribe(function (result) {
                        if (!!_this.familyDisplayed &&
                            !!_this.familyDisplayed.familyCode &&
                            !!_this.familyDisplayed.structureType) {
                            // SUCCEED CASE
                            var bireFamilyId = {
                                familyCode: _this.familyDisplayed.familyCode,
                                structureType: _this.familyDisplayed.structureType
                            };
                            var objectId = '';
                            if (!!bireFamilyId) {
                                objectId = _this.serializationService.serialize(bireFamilyId);
                            }
                            var context_2 = '';
                            var tempContext = _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_13__["TabObjectIdUtils"].bireFamilyDTOIdToString(_this.serializationService.deserialize(objectId)).split(_shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_13__["TabObjectIdUtils"].DEFAULT_SEPARATOR);
                            tempContext.forEach(function (element) {
                                context_2 += element + _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_13__["TabObjectIdUtils"].CONTEXT_SEPARATOR;
                            });
                            context_2 = context_2.substring(0, context_2.length - 1);
                            _this.subTitle = context_2;
                            _this.componentData.objectId = _this.serializationService.serialize(bireFamilyId);
                            _this.findBireFamily();
                            _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write);
                            _this.componentData.openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write;
                            _this.displayComponentContext(context_2, _this.isCreateOpenMode);
                            _this.initializeObjectsAfterSave();
                            // TODO: Update evolutions with a new callback ?
                            // Reload evolution
                            _this.messageService.showSuccessMessage(_this.getTranslateKey('onSuccessSave'));
                        }
                        _this.showSaveSpinner = false;
                    }, function () {
                        // FAILED
                        _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSave'));
                        _this.showSaveSpinner = false;
                    });
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(this, 'saveFamilyData', 'this.familyDisplayed');
                }
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('duplicateFamilyCode'));
            }
        }
    };
    FamilyFormComponent.prototype.validateDuplicateFamily = function () {
        var _this = this;
        var isFound = false;
        this.resultsTable.list.forEach(function (res) {
            if (res.familyCode === _this.familyDisplayed.familyCode) {
                isFound = true;
            }
        });
        if (isFound) {
            if (!this.componentData.objectId) {
                return true;
            }
            else {
                return false;
            }
        }
        else {
            return false;
        }
    };
    FamilyFormComponent.prototype.initializeObjectsAfterSave = function () {
        // Clean the added lists
        this.bireModificationAddedList = [];
        this.bireRatingAddedList = [];
        // Clean the udated lists
        this.bireModificationUpdatedList = [];
        this.bireRatingUpdatedList = [];
        // Reset database object with displayed object
        this.family = __assign({}, this.familyDisplayed);
        this.bireModifications = __spread(this.modificationsTableDataSource.dataSrc);
        this.bireRatings = __spread(this.ratingsTableDataSource.dataSrc);
    };
    FamilyFormComponent.prototype.isEngine = function () {
        return this.family.familyFunction === this.engineValue;
    };
    FamilyFormComponent.prototype.redirectToURL = function (site) {
        window.open(site);
    };
    FamilyFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-family-form',
            template: __webpack_require__(/*! ./family-form.component.html */ "./src/app/main/engineering-management/family-form/family-form.component.html"),
            styles: [__webpack_require__(/*! ./family-form.component.scss */ "./src/app/main/engineering-management/family-form/family-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_6__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_7__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_8__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_10__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_11__["TabService"],
            _family_form_service__WEBPACK_IMPORTED_MODULE_15__["FamilyFormService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_9__["PropertiesService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_5__["ConfirmationService"],
            _family_search_family_search_service__WEBPACK_IMPORTED_MODULE_14__["FamilySearchService"]])
    ], FamilyFormComponent);
    return FamilyFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_12__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/family-form/family-form.service.ts":
/*!********************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/family-form.service.ts ***!
  \********************************************************************************/
/*! exports provided: FamilyFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilyFormService", function() { return FamilyFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FamilyFormService = /** @class */ (function (_super) {
    __extends(FamilyFormService, _super);
    function FamilyFormService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    /**************************************************************************
     * Product structure management api
     *************************************************************************/
    FamilyFormService.prototype.findBireModificationByBireFamily = function (bireFamily) {
        var modificiation = {
            familyCode: bireFamily.familyCode,
            structureType: bireFamily.structureType
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModificationsByFamilyId, modificiation);
    };
    FamilyFormService.prototype.findBireRatingByBireFamily = function (familyCode, structureType) {
        var familyId = { familyCode: familyCode, structureType: structureType };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireRatingsByFamilyPK, familyId);
    };
    FamilyFormService.prototype.saveFamilyData = function (bireFamilyDTO, bireModificationAddedList, bireModificationUpdatedList, bireModificationRemovedList, bireRatingAddedList, bireRatingUpdatedList, bireRatingRemovedList) {
        var params = {
            bireFamilyDTO: bireFamilyDTO,
            bireModificationAddedList: bireModificationAddedList,
            bireModificationUpdatedList: bireModificationUpdatedList,
            bireModificationRemovedList: bireModificationRemovedList,
            bireRatingAddedList: bireRatingAddedList,
            bireRatingUpdatedList: bireRatingUpdatedList,
            bireRatingRemovedList: bireRatingRemovedList,
            bidoFunctionTypeAddedList: [],
            bidoFunctionTypeUpdatedList: [],
            bidoProfileFunctionAddedList: []
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.saveFamilyData, params);
    };
    FamilyFormService.prototype.findBireFamilyByFamilyId = function (familyCode, structureType) {
        var familyId = { familyCode: familyCode, structureType: structureType };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireFamilyByFamilyId, familyId);
    };
    FamilyFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], FamilyFormService);
    return FamilyFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.html":
/*!***********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.html ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".modificationManagement\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div *ngIf=\"!isReadOpenMode\" class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationType\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          maxlength=\"10\"\r\n          [(ngModel)]=\"bireModificationObject.modificationType\"\r\n          [disabled]=\"isReadOpenMode || !isEditable\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"!isReadOpenMode\" class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationNumber\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          maxlength=\"50\"\r\n          [(ngModel)]=\"bireModificationObject.modificationNumber\"\r\n          [disabled]=\"isReadOpenMode || !isEditable\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"!isReadOpenMode\" class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationRevisionNumber\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          [(ngModel)]=\"bireModificationObject.modificationRevisionNumber\"\r\n          maxlength=\"10\"\r\n          [disabled]=\"isReadOpenMode || !isEditable\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"isReadOpenMode\" class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationType\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          [(ngModel)]=\"bireModificationObject.modificationType\"\r\n          maxlength=\"10\"\r\n          [disabled]=\"isReadOpenMode || !isEditable\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"isReadOpenMode\" class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationNumber\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          maxlength=\"50\"\r\n          [(ngModel)]=\"bireModificationObject.modificationNumber\"\r\n          [disabled]=\"isReadOpenMode || !isEditable\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"isReadOpenMode\" class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationRevisionNumber\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          maxlength=\"10\"\r\n          [(ngModel)]=\"bireModificationObject.modificationRevisionNumber\"\r\n          [disabled]=\"isReadOpenMode || !isEditable\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationDocumentUrl\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          [(ngModel)]=\"bireModificationObject.modificationDocumentUrl\"\r\n          [disabled]=\"isReadOpenMode\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".modificationTitle\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <textarea\r\n          class=\"aw-textarea\"\r\n          [(ngModel)]=\"bireModificationObject.modificationTitle\"\r\n          maxlength=\"300\"\r\n          [disabled]=\"isReadOpenMode\"\r\n          [rows]=\"3\"\r\n          pInputTextarea\r\n        ></textarea>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"\r\n        !bireModificationObject.modificationType ||\r\n        !bireModificationObject.modificationNumber ||\r\n        !bireModificationObject.modificationRevisionNumber\r\n      \"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<!-- ZONE POPUP -->\r\n<!--\r\n  TODO: fix for AOT: Property 'showFamilyCodeDialog' does not exist on type 'FamilyModificationPopupFormComponent'.\r\n-->\r\n<!--\r\n  <aw-dialog-table *ngIf=\"showFamilyCodeDialog\" [(display)]=\"showFamilyCodeDialog\" [data]=\"dialogTableDataFamilyCode\" (onSelected)=\"setSelectedFamilyCode($event)\"></aw-dialog-table>\r\n-->\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.ts":
/*!*********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.ts ***!
  \*********************************************************************************************************************************/
/*! exports provided: FamilyModificationPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilyModificationPopupFormComponent", function() { return FamilyModificationPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var FamilyModificationPopupFormComponent = /** @class */ (function (_super) {
    __extends(FamilyModificationPopupFormComponent, _super);
    function FamilyModificationPopupFormComponent(messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'FamilyFormComponent') || this;
        _this.messageService = messageService;
        _this.isEditable = true;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    FamilyModificationPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData) {
            this.updateOpenMode(this.componentData.openMode);
            if (!!this.componentData && !!this.componentData.object && !this.isEmpty(this.componentData.object)) {
                this.bireModificationObject = this.componentData.object;
                this.isNewModification = false;
                this.isEditable = false;
            }
            else {
                this.bireModificationObject = {};
                this.isNewModification = true;
            }
        }
    };
    FamilyModificationPopupFormComponent.prototype.isEmpty = function (obj) {
        for (var prop in obj) {
            if (obj.hasOwnProperty(prop)) {
                return false;
            }
        }
        return true;
    };
    FamilyModificationPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    FamilyModificationPopupFormComponent.prototype.onCancel = function () {
        this.bireModificationObject = {};
        this.display = false;
    };
    FamilyModificationPopupFormComponent.prototype.isOneRequiredFieldNull = function () {
        return (!this.bireModificationObject.modificationNumber ||
            !this.bireModificationObject.modificationType ||
            !this.bireModificationObject.modificationRevisionNumber);
    };
    FamilyModificationPopupFormComponent.prototype.onValidate = function () {
        if (!this.isOneRequiredFieldNull()) {
            if (this.isValidURL(this.bireModificationObject.modificationDocumentUrl)) {
                if (this.isNewModification) {
                    this.onCreate.emit(this.bireModificationObject);
                }
                else {
                    this.onUpdate.emit(this.bireModificationObject);
                }
                this.display = false;
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('entryOfValidModificationURLisRequired'));
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));
        }
    };
    FamilyModificationPopupFormComponent.prototype.isValidURL = function (url) {
        if (!!url) {
            // tslint:disable-next-line:max-line-length
            var pattern = /^http(s{0,1}):\/\/\w+([a-zA-Z0-9_\/\-\.]+\.([A-Za-z\/]{2,5})|(6553[0-5]|655[0-2]|65[0-4]{0,2}|6[0-4]|5|[0-9]{0,3}))[a-zA-Z0-9_\/\&\?\=\-\.\~\%]*/;
            var regex = new RegExp(pattern);
            return regex.test(url);
        }
        return true;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], FamilyModificationPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FamilyModificationPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FamilyModificationPopupFormComponent.prototype, "onUpdate", void 0);
    FamilyModificationPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-family-modification-popup',
            template: __webpack_require__(/*! ./family-modification-popup.component.html */ "./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.html"),
            styles: [__webpack_require__(/*! ../popup-form.component.scss */ "./src/app/main/engineering-management/family-form/popups/popup-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"]])
    ], FamilyModificationPopupFormComponent);
    return FamilyModificationPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.html ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".ratingManagement\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div *ngIf=\"!isReadOpenMode\" class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".ratingCode\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          maxlength=\"50\"\r\n          [(ngModel)]=\"bireRatingObject.ratingCode\"\r\n          [disabled]=\"!isNewRating\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"isReadOpenMode\" class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".ratingCode\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          maxlength=\"50\"\r\n          [(ngModel)]=\"bireRatingObject.ratingCode\"\r\n          [disabled]=\"isReadOpenMode\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".ratingName\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          maxlength=\"100\"\r\n          [(ngModel)]=\"bireRatingObject.ratingName\"\r\n          [disabled]=\"isReadOpenMode\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      type=\"button\"\r\n      color=\"primary\"\r\n      mat-raised-button\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"!bireRatingObject.ratingCode\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.ts":
/*!*********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.ts ***!
  \*********************************************************************************************************************/
/*! exports provided: FamilyRatingPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilyRatingPopupFormComponent", function() { return FamilyRatingPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var FamilyRatingPopupFormComponent = /** @class */ (function (_super) {
    __extends(FamilyRatingPopupFormComponent, _super);
    function FamilyRatingPopupFormComponent(messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'FamilyFormComponent') || this;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    FamilyRatingPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData) {
            this.updateOpenMode(this.componentData.openMode);
            if (!!this.componentData && !!this.componentData.object && !this.isEmpty(this.componentData.object)) {
                this.bireRatingObject = this.componentData.object;
                this.isNewRating = false;
            }
            else {
                this.bireRatingObject = {};
                this.isNewRating = true;
            }
        }
    };
    FamilyRatingPopupFormComponent.prototype.isEmpty = function (obj) {
        for (var prop in obj) {
            if (obj.hasOwnProperty(prop)) {
                return false;
            }
        }
        return true;
    };
    FamilyRatingPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    FamilyRatingPopupFormComponent.prototype.onCancel = function () {
        this.bireRatingObject = {};
        this.display = false;
    };
    FamilyRatingPopupFormComponent.prototype.isOneRequiredFieldNull = function () {
        return !this.bireRatingObject.ratingCode;
    };
    FamilyRatingPopupFormComponent.prototype.onValidate = function () {
        if (!this.isOneRequiredFieldNull()) {
            if (this.isNewRating) {
                this.onCreate.emit(this.bireRatingObject);
            }
            else {
                this.onUpdate.emit(this.bireRatingObject);
            }
            this.display = false;
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], FamilyRatingPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FamilyRatingPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FamilyRatingPopupFormComponent.prototype, "onUpdate", void 0);
    FamilyRatingPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-family-rating-popup',
            template: __webpack_require__(/*! ./family-rating-popup.component.html */ "./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.html"),
            styles: [__webpack_require__(/*! ../popup-form.component.scss */ "./src/app/main/engineering-management/family-form/popups/popup-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"]])
    ], FamilyRatingPopupFormComponent);
    return FamilyRatingPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/family-form/popups/popup-form.component.scss":
/*!******************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-form/popups/popup-form.component.scss ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host #popup-form-component .general-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #popup-form-component .general-tab .general-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host #popup-form-component .general-tab .general-fields .general-field {\n      width: 10rem; }\n  :host #popup-form-component .general-tab .general-fields .general-field .aw-checkbox {\n        margin-top: 30px;\n        margin-bottom: 8px; }\n  :host #popup-form-component .general-tab .general-fields .general-field .popup-dropdown {\n        width: 222px; }\n  :host #popup-form-component .general-tab .general-fields .general-field .group-opt {\n        width: 222px; }\n  :host #popup-form-component .general-tab .general-fields .opt-field {\n      margin-left: 30px;\n      width: 180px; }\n  :host #popup-form-component .general-tab .general-fields .opt-field .aw-checkbox {\n        margin-bottom: 8px; }\n  :host #popup-form-component .general-tab .general-fields .opt-field .aw-input-group-popup {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap; }\n  :host #popup-form-component .general-tab .general-fields .opt-field .aw-input-group-popup .input-opt {\n          width: 140px; }\n  :host #popup-form-component .general-tab .general-fields .location-container {\n      display: flex;\n      flex-direction: row; }\n  :host #popup-form-component .general-tab .general-fields .popup-form-group {\n      /*&:first-of-type {\r\n                        padding-right: 60px;\r\n                    }*/ }\n  :host #popup-form-component .general-tab .general-fields .popup-form-group > div {\n        display: flex;\n        flex-direction: column;\n        width: 250px;\n        padding-left: 65px; }\n  :host #popup-form-component .general-tab .general-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 100%; }\n  :host #popup-form-component .general-tab .general-fields > div:first-of-type {\n        padding-right: 24px; }\n  :host #popup-form-component .general-tab .general-fields > div:nth-of-type(2) {\n        padding-left: 24px; }\n  :host #popup-form-component .general-tab .general-fields .aw-input-group-popup {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #popup-form-component .general-tab .general-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #popup-form-component .general-tab .general-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #popup-form-component .general-tab .general-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #popup-form-component .general-tab .general-tables .row:nth-of-type(2) {\n        margin-bottom: 24px; }\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper {\n        width: 50%; }\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper-large {\n        width: 100%; }\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper:first-of-type,\n      :host #popup-form-component .general-tab .general-tables .row .table-wrapper-large:first-of-type {\n        padding-right: 24px; }\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper:nth-of-type(2),\n      :host #popup-form-component .general-tab .general-tables .row .table-wrapper-large:nth-of-type(2) {\n        padding-left: 24px; }\n  :host .page-content .main-data {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap; }\n  :host .page-content .main-data .form-group {\n    margin-right: 20px;\n    width: 20%; }\n  :host .page-content .main-data .form-group:last-of-type {\n      margin-right: 0; }\n  :host .page-content .general-tab {\n  display: flex;\n  flex-direction: column; }\n  :host .page-content .general-tab .bp-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host .page-content .general-tab .bp-fields .label-comment {\n      margin-top: 17px; }\n  :host .page-content .general-tab .bp-fields .bp-field {\n      width: 12rem; }\n  :host .page-content .general-tab .bp-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n  :host .page-content .general-tab .bp-fields > div:first-of-type {\n        margin-right: 20px; }\n  :host .page-content .general-tab .bp-fields > div:nth-of-type(2) {\n        margin-left: 20px; }\n  :host .page-content .general-tab .tables {\n    display: flex;\n    flex-direction: row; }\n  :host .page-content .general-tab .tables > div:first-of-type,\n    :host .page-content .general-tab .tables > div:nth-of-type(2) {\n      width: 30%; }\n  :host .page-content .general-tab .tables > div:first-of-type {\n      padding-right: 20px; }\n  :host .page-content .general-tab .tables > div:nth-of-type(2) {\n      padding-left: 20px;\n      padding-right: 20px; }\n  :host .page-content .general-tab .tables > div:nth-of-type(3) {\n      width: 40%;\n      padding-left: 20px; }\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1mb3JtL3BvcHVwcy9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxmYW1pbHktZm9ybVxccG9wdXBzXFxwb3B1cC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvZmFtaWx5LWZvcm0vcG9wdXBzL3BvcHVwLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFKNUI7SUFPUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQVRuQjtNQVlVLFlBQVksRUFBQTtFQVp0QjtRQWVZLGdCQUFnQjtRQUNoQixrQkFBa0IsRUFBQTtFQWhCOUI7UUFvQlksWUFBWSxFQUFBO0VBcEJ4QjtRQXdCWSxZQUFZLEVBQUE7RUF4QnhCO01BOEJVLGlCQUFpQjtNQUNqQixZQUFZLEVBQUE7RUEvQnRCO1FBa0NZLGtCQUFrQixFQUFBO0VBbEM5QjtRQXNDWSxhQUFhO1FBQ2IsbUJBQW1CO1FBQ25CLGVBQWUsRUFBQTtFQXhDM0I7VUEyQ2MsWUFBWSxFQUFBO0VBM0MxQjtNQWlEVSxhQUFhO01BQ2IsbUJBQW1CLEVBQUE7RUFsRDdCO01BNkRVOztzQkM1QlksRUQ4QkM7RUEvRHZCO1FBdURZLGFBQWE7UUFDYixzQkFBc0I7UUFDdEIsWUFBWTtRQUNaLGtCQUFrQixFQUFBO0VBMUQ5QjtNQW1FVSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLFdBQVcsRUFBQTtFQXJFckI7UUF3RVksbUJBQW1CLEVBQUE7RUF4RS9CO1FBNEVZLGtCQUFrQixFQUFBO0VBNUU5QjtNQWlGVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQW5GekI7SUF3RlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTtFQTFGekI7TUE2RlUsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUEvRnpCO1FBa0dZLG1CQUFtQixFQUFBO0VBbEcvQjtRQXNHWSxtQkFBbUIsRUFBQTtFQXRHL0I7UUEwR1ksVUFBVSxFQUFBO0VBMUd0QjtRQThHWSxXQUFXLEVBQUE7RUE5R3ZCOztRQW9IYyxtQkFBbUIsRUFBQTtFQXBIakM7O1FBd0hjLGtCQUFrQixFQUFBO0VBeEhoQztFQWtJTSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGVBQWUsRUFBQTtFQXBJckI7SUF1SVEsa0JBQWtCO0lBQ2xCLFVBQVUsRUFBQTtFQXhJbEI7TUEySVUsZUFBZSxFQUFBO0VBM0l6QjtFQWlKTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFsSjVCO0lBcUpRLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBO0VBdkpuQjtNQTBKVSxnQkFBZ0IsRUFBQTtFQTFKMUI7TUE4SlUsWUFBWSxFQUFBO0VBOUp0QjtNQWtLVSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLFVBQVUsRUFBQTtFQXBLcEI7UUF1S1ksa0JBQWtCLEVBQUE7RUF2SzlCO1FBMktZLGlCQUFpQixFQUFBO0VBM0s3QjtJQWlMUSxhQUFhO0lBQ2IsbUJBQW1CLEVBQUE7RUFsTDNCOztNQXNMVSxVQUFVLEVBQUE7RUF0THBCO01BMExVLG1CQUFtQixFQUFBO0VBMUw3QjtNQThMVSxrQkFBa0I7TUFDbEIsbUJBQW1CLEVBQUE7RUEvTDdCO01BbU1VLFVBQVU7TUFDVixrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9mYW1pbHktZm9ybS9wb3B1cHMvcG9wdXAtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAjcG9wdXAtZm9ybS1jb21wb25lbnQge1xyXG4gICAgLmdlbmVyYWwtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5nZW5lcmFsLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuZ2VuZXJhbC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTByZW07XHJcblxyXG4gICAgICAgICAgLmF3LWNoZWNrYm94IHtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5wb3B1cC1kcm9wZG93biB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAyMjJweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAuZ3JvdXAtb3B0IHtcclxuICAgICAgICAgICAgd2lkdGg6IDIyMnB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLm9wdC1maWVsZCB7XHJcbiAgICAgICAgICAvL3dpZHRoOiA4cmVtO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbiAgICAgICAgICB3aWR0aDogMTgwcHg7XHJcblxyXG4gICAgICAgICAgLmF3LWNoZWNrYm94IHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5hdy1pbnB1dC1ncm91cC1wb3B1cCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAgIC5pbnB1dC1vcHQge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAxNDBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmxvY2F0aW9uLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5wb3B1cC1mb3JtLWdyb3VwIHtcclxuICAgICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICB3aWR0aDogMjUwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNjVweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvKiY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDYwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmF3LWlucHV0LWdyb3VwLXBvcHVwIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmdlbmVyYWwtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXItbGFyZ2Uge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlcixcclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyLWxhcmdlIHtcclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5wYWdlLWNvbnRlbnQge1xyXG4gICAgLm1haW4tZGF0YSB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgd2lkdGg6IDIwJTtcclxuXHJcbiAgICAgICAgJjpsYXN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5nZW5lcmFsLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuYnAtZmllbGRzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgIC5sYWJlbC1jb21tZW50IHtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IDE3cHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuYnAtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEycmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHJcbiAgICAgICAgJiA+IGRpdjpmaXJzdC1vZi10eXBlLFxyXG4gICAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgd2lkdGg6IDMwJTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgzKSB7XHJcbiAgICAgICAgICB3aWR0aDogNDAlO1xyXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCI6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHdpZHRoOiAxMDAlOyB9XG4gICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLmdlbmVyYWwtZmllbGQge1xuICAgICAgd2lkdGg6IDEwcmVtOyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAuZ2VuZXJhbC1maWVsZCAuYXctY2hlY2tib3gge1xuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5nZW5lcmFsLWZpZWxkIC5wb3B1cC1kcm9wZG93biB7XG4gICAgICAgIHdpZHRoOiAyMjJweDsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLmdlbmVyYWwtZmllbGQgLmdyb3VwLW9wdCB7XG4gICAgICAgIHdpZHRoOiAyMjJweDsgfVxuICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5vcHQtZmllbGQge1xuICAgICAgbWFyZ2luLWxlZnQ6IDMwcHg7XG4gICAgICB3aWR0aDogMTgwcHg7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5vcHQtZmllbGQgLmF3LWNoZWNrYm94IHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAub3B0LWZpZWxkIC5hdy1pbnB1dC1ncm91cC1wb3B1cCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDsgfVxuICAgICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAub3B0LWZpZWxkIC5hdy1pbnB1dC1ncm91cC1wb3B1cCAuaW5wdXQtb3B0IHtcbiAgICAgICAgICB3aWR0aDogMTQwcHg7IH1cbiAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAubG9jYXRpb24tY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93OyB9XG4gICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLnBvcHVwLWZvcm0tZ3JvdXAge1xuICAgICAgLyomOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA2MHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH0qLyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAucG9wdXAtZm9ybS1ncm91cCA+IGRpdiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIHdpZHRoOiAyNTBweDtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiA2NXB4OyB9XG4gICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgPiBkaXYge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB3aWR0aDogMTAwJTsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4OyB9XG4gICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLmF3LWlucHV0LWdyb3VwLXBvcHVwIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgZmxleC13cmFwOiB3cmFwOyB9XG4gIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgcGFkZGluZy10b3A6IDI0cHg7IH1cbiAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgZmxleC13cmFwOiB3cmFwOyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4OyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlciB7XG4gICAgICAgIHdpZHRoOiA1MCU7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXItbGFyZ2Uge1xuICAgICAgICB3aWR0aDogMTAwJTsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlcjpmaXJzdC1vZi10eXBlLFxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlci1sYXJnZTpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlcjpudGgtb2YtdHlwZSgyKSxcbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXItbGFyZ2U6bnRoLW9mLXR5cGUoMikge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7IH1cblxuOmhvc3QgLnBhZ2UtY29udGVudCAubWFpbi1kYXRhIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgZmxleC13cmFwOiB3cmFwOyB9XG4gIDpob3N0IC5wYWdlLWNvbnRlbnQgLm1haW4tZGF0YSAuZm9ybS1ncm91cCB7XG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgIHdpZHRoOiAyMCU7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLmZvcm0tZ3JvdXA6bGFzdC1vZi10eXBlIHtcbiAgICAgIG1hcmdpbi1yaWdodDogMDsgfVxuXG46aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHdpZHRoOiAxMDAlOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyAubGFiZWwtY29tbWVudCB7XG4gICAgICBtYXJnaW4tdG9wOiAxN3B4OyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyAuYnAtZmllbGQge1xuICAgICAgd2lkdGg6IDEycmVtOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIHdpZHRoOiA1MCU7IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4OyB9XG4gIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdzsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6Zmlyc3Qtb2YtdHlwZSxcbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgIHdpZHRoOiAzMCU7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzID4gZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgcGFkZGluZy1yaWdodDogMjBweDsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xuICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICAgICAgcGFkZGluZy1yaWdodDogMjBweDsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6bnRoLW9mLXR5cGUoMykge1xuICAgICAgd2lkdGg6IDQwJTtcbiAgICAgIHBhZGRpbmctbGVmdDogMjBweDsgfVxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/family-search/family-search.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-search/family-search.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"openNewFamily()\" *ngIf=\"hasUpdateAccessRight\">\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button type=\"button\" mat-menu-item (click)=\"refresh()\">\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <!-- Families table -->\r\n\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{ familyTableDataSource ? familyTableDataSource.dataCount : 0 }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <a-table [dataSource]=\"familyTableDataSource\">\r\n                <ng-template tableActionsDef>\r\n                  <button\r\n                    *ngIf=\"\r\n                      familyTableDataSource && familyTableDataSource.hasData && !familyTableDataSource.hasDataSelection\r\n                    \"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"exportTable()\"\r\n                  >\r\n                    {{ \"global.export\" | translate }}\r\n                  </button>\r\n                  <button\r\n                    *ngIf=\"hasManageAccessRight && familyTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    color=\"warn\"\r\n                    (click)=\"deleteSelectedFamily()\"\r\n                  >\r\n                    {{ \"global.delete\" | translate }}\r\n                  </button>\r\n                  <button\r\n                    *ngIf=\"familyTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"openSelectedFamily()\"\r\n                  >\r\n                    {{ \"global.open\" | translate }}\r\n                  </button>\r\n                </ng-template>\r\n                <ng-template columnDef=\"familyCode\" let-rowData=\"rowData\">\r\n                  <a (click)=\"openFamilyLink(rowData)\"> {{ rowData.familyCode }} </a>\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/family-search/family-search.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-search/family-search.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .criteria-checkboxes,\n:host .form-group {\n  margin-right: 20px;\n  max-width: 15rem;\n  min-width: 10rem;\n  width: 20%; }\n  :host .criteria-checkboxes:last-of-type,\n  :host .form-group:last-of-type {\n    margin-right: 0; }\n  :host .search-criteria-primary {\n  justify-content: flex-start; }\n  :host .search-criteria-primary .criteria-checkboxes {\n    display: flex;\n    flex-direction: column; }\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:first-of-type {\n      margin-top: 30px; }\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:nth-of-type(2) {\n      margin-top: 5px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1zZWFyY2gvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcZmFtaWx5LXNlYXJjaFxcZmFtaWx5LXNlYXJjaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFHSSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixVQUFVLEVBQUE7RUFOZDs7SUFTTSxlQUFlLEVBQUE7RUFUckI7RUFjSSwyQkFBMkIsRUFBQTtFQWQvQjtJQWlCTSxhQUFhO0lBQ2Isc0JBQXNCLEVBQUE7RUFsQjVCO01BcUJRLGdCQUFnQixFQUFBO0VBckJ4QjtNQXlCUSxlQUFlLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvZmFtaWx5LXNlYXJjaC9mYW1pbHktc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC5jcml0ZXJpYS1jaGVja2JveGVzLFxyXG4gIC5mb3JtLWdyb3VwIHtcclxuICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgIG1heC13aWR0aDogMTVyZW07XHJcbiAgICBtaW4td2lkdGg6IDEwcmVtO1xyXG4gICAgd2lkdGg6IDIwJTtcclxuXHJcbiAgICAmOmxhc3Qtb2YtdHlwZSB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5zZWFyY2gtY3JpdGVyaWEtcHJpbWFyeSB7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcblxyXG4gICAgLmNyaXRlcmlhLWNoZWNrYm94ZXMge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgcC1jaGVja2JveDpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwLWNoZWNrYm94Om50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/family-search/family-search.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-search/family-search.component.ts ***!
  \**************************************************************************************/
/*! exports provided: FamilySearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilySearchComponent", function() { return FamilySearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/utils/label-value-utils */ "./src/app/shared/utils/label-value-utils.ts");
/* harmony import */ var _family_search_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./family-search.service */ "./src/app/main/engineering-management/family-search/family-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var FamilySearchComponent = /** @class */ (function (_super) {
    __extends(FamilySearchComponent, _super);
    function FamilySearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, familySearchService, propertiesService, translateService, confirmationService, exportService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.familySearchService = familySearchService;
        _this.propertiesService = propertiesService;
        _this.translateService = translateService;
        _this.confirmationService = confirmationService;
        _this.exportService = exportService;
        _this.resultsTableExportName = 'Family list';
        _this.filteredRowsNb = 0;
        _this.exportMethods = [];
        _this.initFamilyTableDataSource();
        _this.setExportMethods();
        _this.translateService.onLangChange.subscribe(function (_) {
            _this.setExportMethods();
        });
        _this.isLoading = false;
        return _this;
    }
    FamilySearchComponent.prototype.getComponentName = function () {
        return 'FamilySearchComponent';
    };
    FamilySearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        _super.prototype.ngOnInit.call(this);
        this.isLoading = true;
        Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])({
            familyFunctionList: this.propertiesService.getValue('getFamilyFunctionMap'),
            structureTypeValue: this.propertiesService.getValueByKey('getStructureTypeValueByKey', _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_4__["AWPropertiesConstants"].STRUCTURE_TYPE_IPC_KEY),
            familyList: this.familySearchService.findAllBireFamilys()
        }).subscribe(function (result) {
            _this.propertyFamilyFunction = result.familyFunctionList;
            _this.familyStructureType = result.structureTypeValue;
            result.familyList.list.forEach(function (element) {
                element.structureTypeDisplay = _this.familyStructureType;
                _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_15__["LabelValueUtils"].stringValueToLabel(element, 'familyFunction', _this.propertyFamilyFunction);
            });
            _this.familyTableDataSource.setData(result.familyList.list);
            _this.familyTableDataSource.update();
            _this.familyTableDataSource.dataSrc.sort(function (a, b) {
                return !!a.familyCode && !!b.familyCode && a.familyCode > b.familyCode ? 1 : -1;
            });
            _this.filteredRowsNb = result.familyList.list.length;
            _this.isLoading = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSearchAllBireFamily'));
            _this.isLoading = false;
        });
        this.displayComponentContext('global.search', true);
    };
    FamilySearchComponent.prototype.initFamilyTableDataSource = function () {
        this.familyTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'familyCode',
                    translateKey: this.getTranslateKey('familyCode'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["ColumnAlignment"].LEFT,
                    width: '20%'
                },
                {
                    field: 'familyName',
                    translateKey: this.getTranslateKey('familyName'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["ColumnAlignment"].LEFT,
                    width: '40%'
                },
                {
                    field: 'structureTypeDisplay',
                    translateKey: this.getTranslateKey('structureTypeDisplay'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["ColumnAlignment"].LEFT,
                    width: '20%'
                },
                {
                    field: 'familyFunction',
                    translateKey: this.getTranslateKey('familyFunction'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["ColumnAlignment"].LEFT,
                    width: '20%'
                }
            ],
            data: []
        });
    };
    FamilySearchComponent.prototype.deleteSelectedFamily = function () {
        var _this = this;
        var deleteMessage = this.familyTableDataSource.dataSelectionCount > 1 ?
            'confirmDeleteSelectedFamilys' : 'confirmDeleteSelectedFamily';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(deleteMessage),
            accept: function () {
                _this.familySearchService.removeBireFamilys(_this.familyTableDataSource.dataSelection).subscribe(function (result) {
                    if (_this.familyTableDataSource.dataSelectionCount > 1) {
                        _this.messageService.showSuccessMessage(_this.getTranslateKey('onSuccessDeleteFamilies'));
                    }
                    else {
                        _this.messageService.showSuccessMessage(_this.getTranslateKey('onSuccessDeleteFamily'));
                    }
                    _this.familyTableDataSource.dataSelection = [];
                    _this.search();
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeleteFamily'));
                });
            }
        });
    };
    FamilySearchComponent.prototype.search = function () {
        var _this = this;
        this.isLoading = true;
        this.familySearchService.findAllBireFamilys().subscribe(function (results) {
            results.list.forEach(function (element) {
                element.structureTypeDisplay = _this.familyStructureType;
                _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_15__["LabelValueUtils"].stringValueToLabel(element, 'familyFunction', _this.propertyFamilyFunction);
            });
            _this.familyTableDataSource.setData(results.list);
            _this.familyTableDataSource.update();
            _this.familyTableDataSource.dataSrc.sort(function (a, b) {
                return !!a.familyCode && !!b.familyCode && a.familyCode > b.familyCode ? 1 : -1;
            });
            _this.filteredRowsNb = results.list.length;
            _this.isLoading = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSearchAllBireFamily'));
            _this.isLoading = false;
        });
    };
    FamilySearchComponent.prototype.refresh = function () {
        this.search();
    };
    FamilySearchComponent.prototype.openNewFamily = function () {
        this.openFamily(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Create);
    };
    FamilySearchComponent.prototype.openFamilyLink = function (bireFamily) {
        if (bireFamily && bireFamily.familyCode && bireFamily.structureType) {
            var bireFamilyId = {
                familyCode: bireFamily.familyCode,
                structureType: bireFamily.structureType
            };
            this.openFamily(bireFamilyId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Read);
        }
    };
    FamilySearchComponent.prototype.openSelectedFamily = function () {
        var _this = this;
        this.familyTableDataSource.dataSelection.forEach(function (bireFamily) {
            if (bireFamily && bireFamily.familyCode && bireFamily.structureType) {
                var bireFamilyId = {
                    familyCode: bireFamily.familyCode,
                    structureType: bireFamily.structureType
                };
                _this.openFamily(bireFamilyId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Read);
            }
        });
        this.familyTableDataSource.dataSelection = [];
    };
    // tslint:disable-next-line:no-any
    FamilySearchComponent.prototype.onFilter = function (event) {
        this.filteredRowsNb = event.filteredValue.length;
    };
    FamilySearchComponent.prototype.openFamily = function (objectId, openMode) {
        var labelKey = 'transaction.FamilyFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'FamilyFormComponent',
            openMode: openMode
        };
        if (!!objectId) {
            data.objectId = this.serializationService.serialize(objectId);
        }
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    FamilySearchComponent.prototype.exportTable = function () {
        if (!!this.componentData) {
            this.exportService.toExcel(this.modifyExportColumns(this.familyTableDataSource.dataSrc), this.resultsTableExportName, this.componentData.componentId);
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'exportTable', 'this.componentData');
        }
    };
    FamilySearchComponent.prototype.modifyExportColumns = function (resultArr) {
        var exportArr = [];
        resultArr.forEach(function (res) {
            var json = {};
            var keys = Object.keys(res);
            keys.forEach(function (key) {
                if (key !== 'variantName' && key !== 'variantCode' && key !== 'structureType') {
                    json[key] = res[key];
                }
            });
            exportArr.push(json);
        });
        return exportArr;
    };
    FamilySearchComponent.prototype.setExportMethods = function () {
        this.exportMethods = [
            {
                label: this.translateService.instant('global.excel'),
                icon: 'fa-file-excel-o'
                // command: () => {}
            },
            {
                label: this.translateService.instant('global.pdf'),
                icon: 'fa-file-pdf-o'
                // command: () => {}
            }
        ];
    };
    FamilySearchComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-family-search',
            template: __webpack_require__(/*! ./family-search.component.html */ "./src/app/main/engineering-management/family-search/family-search.component.html"),
            styles: [__webpack_require__(/*! ./family-search.component.scss */ "./src/app/main/engineering-management/family-search/family-search.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_13__["TabService"],
            _family_search_service__WEBPACK_IMPORTED_MODULE_16__["FamilySearchService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_6__["ConfirmationService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__["ExportService"]])
    ], FamilySearchComponent);
    return FamilySearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_14__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/family-search/family-search.service.ts":
/*!************************************************************************************!*\
  !*** ./src/app/main/engineering-management/family-search/family-search.service.ts ***!
  \************************************************************************************/
/*! exports provided: FamilySearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilySearchService", function() { return FamilySearchService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FamilySearchService = /** @class */ (function (_super) {
    __extends(FamilySearchService, _super);
    function FamilySearchService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    FamilySearchService.prototype.removeBireFamilys = function (selectedBireFamilys) {
        var selectedBireFamilysId = [];
        selectedBireFamilys.forEach(function (element) {
            if (!!element.familyCode && !!element.structureType) {
                var bireFamilyDTOId = {
                    familyCode: element.familyCode,
                    structureType: element.structureType
                };
                selectedBireFamilysId.push(bireFamilyDTOId);
            }
        });
        return _super.prototype.post.call(this, this.productStructureManagementApi.removeBireFamily, selectedBireFamilysId);
    };
    FamilySearchService.prototype.findAllBireFamilys = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireFamilys);
    };
    FamilySearchService.prototype.getSBObjectStatusValue = function (key) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.getSBObjectStatusValue, key);
    };
    FamilySearchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], FamilySearchService);
    return FamilySearchService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/functional-location-form.component.html":
/*!**************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/functional-location-form.component.html ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\" class=\"page-subtitle\">\r\n          - {{ subTitle }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"object-status\" *ngIf=\"statusDTO.statusState\" (click)=\"showStatus()\">\r\n      {{ statusDTO.statusState | formatSelectOption: statusList }}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button *ngIf=\"isReadOpenMode && hasUpdateAccessRight\" type=\"button\" mat-raised-button (click)=\"edit()\">\r\n      {{ \"global.edit\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n      type=\"button\"\r\n      color=\"warn\"\r\n      mat-raised-button\r\n      (click)=\"cancel()\"\r\n    >\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      class=\"btn-with-spinner\"\r\n      color=\"primary\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"save()\"\r\n    >\r\n      <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n      {{ \"global.save\" | translate }}\r\n    </button>\r\n    <button\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button mat-menu-item id=\"status\" (click)=\"openStatusUpdatesPopup()\">{{ \"updates\" | translate }}</button>\r\n      <button mat-menu-item *ngIf=\"isReadOpenMode && !isCreateOpenMode\" type=\"button\" (click)=\"refresh()\">\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n      <button mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div [ngClass]=\"isHardpointOrLoadFamily ? 'grid-cell--6' : 'grid-cell--12'\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">{{ \"page.mainData\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <ng-template [ngIf]=\"!isHardpointOrLoadFamily\" [ngIfElse]=\"hardpointOrLoadFamilyInformations\">\r\n                      <div class=\"row\">\r\n                        <ng-container *ngTemplateOutlet=\"flCode\"></ng-container>\r\n                        <ng-container *ngTemplateOutlet=\"flDescription\"></ng-container>\r\n                        <ng-container *ngTemplateOutlet=\"flFunction\"></ng-container>\r\n                        <div class=\"form-group\">\r\n                          <div *ngIf=\"showConfigurationSheet()\">\r\n                            <label class=\"form-label\">{{\r\n                              componentData.componentId + \".isInConfigurationSheet\" | translate\r\n                            }}</label>\r\n\r\n                            <div class=\"form-control\">\r\n                              <p-checkbox\r\n                                class=\"aw-checkbox\"\r\n                                binary=\"true\"\r\n                                [(ngModel)]=\"selectedFunctionalLocationComponent.flIsInConfSheet\"\r\n                                [disabled]=\"isReadOpenMode\"\r\n                              ></p-checkbox>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"row\">\r\n                        <div class=\"form-group general-field\">\r\n                          <label class=\"form-label\">{{\r\n                            componentData.componentId + \".flNominalQuantity\" | translate\r\n                          }}</label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <input\r\n                              #flNominalQuantity=\"ngModel\"\r\n                              type=\"number\"\r\n                              [pKeyFilter]=\"inputValidationService.validatorOfInteger()\"\r\n                              [pValidateOnly]=\"true\"\r\n                              name=\"flNominalQuantity\"\r\n                              [(ngModel)]=\"selectedFunctionalLocationComponent.flNominalQuantity\"\r\n                              class=\"aw-input\"\r\n                              [max]=\"2147483648\"\r\n                              [min]=\"-2147483648\"\r\n                              [disabled]=\"isReadOpenMode\"\r\n                              (keypress)=\"maxLengthCheck($event, selectedFunctionalLocationComponent.flNominalQuantity)\"\r\n                              [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                              required\r\n                            />\r\n                            <p-message\r\n                              *ngIf=\"\r\n                                flNominalQuantity.invalid && (flNominalQuantity.dirty || flNominalQuantity.touched)\r\n                              \"\r\n                              severity=\"error\"\r\n                              [text]=\"inputValidationService.formatOfInteger()\"\r\n                            ></p-message>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group general-field\">\r\n                          <label class=\"form-label\">{{\r\n                            componentData.componentId + \".flRequiredQuantity\" | translate\r\n                          }}</label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <input\r\n                              #flRequiredQuantity=\"ngModel\"\r\n                              type=\"number\"\r\n                              [pKeyFilter]=\"inputValidationService.validatorOfInteger()\"\r\n                              [pValidateOnly]=\"true\"\r\n                              name=\"flRequiredQuantity\"\r\n                              [(ngModel)]=\"selectedFunctionalLocationComponent.flRequiredQuantity\"\r\n                              class=\"aw-input\"\r\n                              [max]=\"2147483648\"\r\n                              [min]=\"-2147483648\"\r\n                              [disabled]=\"isReadOpenMode\"\r\n                              (keypress)=\"\r\n                                maxLengthCheckRequired($event, selectedFunctionalLocationComponent.flRequiredQuantity)\r\n                              \"\r\n                              [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                              required\r\n                            />\r\n                            <p-message\r\n                              *ngIf=\"\r\n                                flRequiredQuantity.invalid && (flRequiredQuantity.dirty || flRequiredQuantity.touched)\r\n                              \"\r\n                              severity=\"error\"\r\n                              [text]=\"inputValidationService.formatOfInteger()\"\r\n                            ></p-message>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                          <label class=\"form-label\">{{ componentData.componentId + \".flIsMel\" | translate }}</label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <p-checkbox\r\n                              class=\"aw-checkbox\"\r\n                              binary=\"true\"\r\n                              [(ngModel)]=\"selectedFunctionalLocationComponent.flIsMel\"\r\n                              value=\"val1\"\r\n                              (onChange)=\"onHandleFlIsMel($event)\"\r\n                              [disabled]=\"isReadOpenMode\"\r\n                            ></p-checkbox>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <ng-container *ngTemplateOutlet=\"flOrderNumber\"></ng-container>\r\n                      </div>\r\n                    </ng-template>\r\n                  </div>\r\n                  <ng-template #hardpointOrLoadFamilyInformations>\r\n                    <div class=\"column\">\r\n                      <div class=\"row\">\r\n                        <ng-container *ngTemplateOutlet=\"flCode\"></ng-container>\r\n                        <ng-container *ngTemplateOutlet=\"flDescription\"></ng-container>\r\n                      </div>\r\n                      <div class=\"row\">\r\n                        <ng-container *ngTemplateOutlet=\"flFunction\"></ng-container>\r\n                        <ng-container *ngTemplateOutlet=\"flOrderNumber\"></ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </ng-template>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"isHardpointOrLoadFamily\" class=\"grid-cell--6\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container loading-indicator\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".illustration\" | translate }}\r\n                      <div *ngIf=\"bireStructurePanelLoading\" class=\"lds-hourglass\"></div>\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Waiting for MCD changes -->\r\n                <div class=\"grid-cell-content\">\r\n                  <div>\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".positionX\" | translate }}</label>\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            maxlength=\"50\"\r\n                            [(ngModel)]=\"selectedFunctionalLocationComponent.flPositionX\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".positionY\" | translate }}</label>\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            maxlength=\"50\"\r\n                            [(ngModel)]=\"selectedFunctionalLocationComponent.flPositionY\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <!-- <div class=\"row\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".image\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input type=\"text\" class=\"aw-input\" [disabled]=\"true\" />\r\n                      </div>\r\n                    </div>\r\n                  </div> -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--5\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container loading-indicator\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".items\" | translate }} ({{\r\n                        familyVariantTableDataSource ? familyVariantTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                    <div *ngIf=\"familyVariantPanelLoading\" class=\"lds-hourglass\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"familyVariantTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        *ngIf=\"\r\n                          !isReadOpenMode &&\r\n                          familyVariantTableDataSource.hasDataSelection &&\r\n                          selectedFunctionalLocationComponent.flFunction !==\r\n                            aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY\r\n                        \"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        color=\"warn\"\r\n                        (click)=\"deleteSelectedFamilyVariant()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"\r\n                          !isReadOpenMode &&\r\n                          familyVariantTableDataSource.dataSelectionCount === 1 &&\r\n                          selectedFunctionalLocationComponent.flFunction !==\r\n                            aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY\r\n                        \"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"editFamilyVariant()\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"familyVariantTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"openFamilyVariant()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        type=\"button\"\r\n                        *ngIf=\"!isReadOpenMode && !familyVariantTableDataSource.hasDataSelection\"\r\n                        mat-raised-button\r\n                        (click)=\"createFamilyVariant()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"item\" let-rowData=\"rowData\">\r\n                      <a (click)=\"openItemForm(rowData)\">{{ rowData.item }}</a>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell--7\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container loading-indicator\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".structure\" | translate }} ({{\r\n                        bireStructureDisplayed ? bireStructureDisplayed.length : 0\r\n                      }})\r\n                      <div *ngIf=\"bireStructurePanelLoading\" class=\"lds-hourglass\"></div>\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <p-treeTable\r\n                    #ptreetableStructure\r\n                    class=\"aw-tree-table2\"\r\n                    [columns]=\"!isHardpointOrLoadFamily ? structureTableCols : structureTableColsHardpoint\"\r\n                    [value]=\"bireStructureDisplayed\"\r\n                    [(selection)]=\"selectedStructure\"\r\n                    selectionMode=\"checkBox\"\r\n                    [scrollable]=\"true\"\r\n                    (onNodeSelect)=\"onRowSelected($event.node)\"\r\n                    (onNodeUnselect)=\"onRowUnSelected($event.node)\"\r\n                    [resizableColumns]=\"true\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoadingStructureTable\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoadingStructureTable\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedStructure.length > 0 }\">\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptreetableStructureGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"ptreetableStructure.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedStructure.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            color=\"warn\"\r\n                            (click)=\"detachSelectedStructure()\"\r\n                          >\r\n                            {{ \"global.detach\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedStructure.length === 1 && !!selectedStructure[0].parent\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"editStructure()\"\r\n                          >\r\n                            {{ \"global.edit\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedStructure.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openStructure()\"\r\n                          >\r\n                            {{ \"global.open\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && this.bireStructureDisplayed.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"createStructure()\"\r\n                          >\r\n                            {{ \"global.add\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-treeTableHeaderCheckbox class=\"aw-table-checkbox\"></p-treeTableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th ttResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\" let-columns=\"columns\">\r\n                      <tr>\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-treeTableCheckbox class=\"aw-table-checkbox\" [value]=\"rowNode\"></p-treeTableCheckbox>\r\n                        </td>\r\n\r\n                        <td *ngFor=\"let col of columns; let i = index\" [ngSwitch]=\"col.field\">\r\n                          <p-treeTableToggler [rowNode]=\"rowNode\" *ngIf=\"i == 0\"></p-treeTableToggler>\r\n\r\n                          <span *ngSwitchCase=\"'flIsMel'\">\r\n                            <span *ngIf=\"rowData[col.field]\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> </span>\r\n                          </span>\r\n\r\n                          <span *ngSwitchCase=\"'flCode'\" pTooltip=\"{{ rowData[col.field] }}\" tooltipPosition=\"top\">\r\n                            {{ rowData[col.field] }}\r\n                          </span>\r\n\r\n                          <span *ngSwitchCase=\"'flFunction'\">\r\n                            <span> {{ getFlFunctionLabel(rowData) }} </span>\r\n                          </span>\r\n\r\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                        </td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-treeTable>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <mat-tab *ngIf=\"engineType\">\r\n          <ng-template mat-tab-label>\r\n            {{ componentData.componentId + \".models\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container loading-indicator\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".models\" | translate }} ({{ modelTable ? modelTable.length : 0 }})\r\n                    </h3>\r\n                    <div *ngIf=\"modelPanelLoading\" class=\"lds-hourglass\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"modelTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && modelTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        color=\"warn\"\r\n                        (click)=\"deleteSelectedModel()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && modelTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"openModel()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && !modelTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"createModel()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"modelCode\" let-rowData=\"rowData\">\r\n                      {{ rowData.bireModelDTO.modelCode }}\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"modelName\" let-rowData=\"rowData\">\r\n                      {{ rowData.bireModelDTO.modelName }}\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"ratingCode\" let-rowData=\"rowData\">\r\n                      {{ rowData.bireModelDTO.ratingCode }}\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ componentData.componentId + \".documentation\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">{{ componentData.componentId + \".documentation\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <div class=\"row documentation-actions\">\r\n                      <p-fileUpload\r\n                        *ngIf=\"!isReadOpenMode && !documentExists\"\r\n                        #fileUploader\r\n                        class=\"aw-fileupload marginRight\"\r\n                        name=\"document[]\"\r\n                        customUpload=\"true\"\r\n                        mode=\"basic\"\r\n                        auto=\"true\"\r\n                        chooseLabel=\"{{ 'global.upload' | translate }}\"\r\n                        (uploadHandler)=\"uploadDocument($event, fileUploader)\"\r\n                      ></p-fileUpload>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && documentExists\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        color=\"warn\"\r\n                        (click)=\"deleteDocuments()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button *ngIf=\"documentExists\" type=\"button\" mat-raised-button (click)=\"downloadFiles()\">\r\n                        {{ \"global.download\" | translate }}\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div *ngIf=\"flIsMelChecked\" class=\"form-group delay-category\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".delayCategory\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"delayCategories\"\r\n                            [(ngModel)]=\"selectedFunctionalLocationComponent.flDelayCategory\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".name\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input type=\"text\" class=\"aw-input\" [disabled]=\"true\" [(ngModel)]=\"docName\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".description\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            maxlength=\"300\"\r\n                            [rows]=\"3\"\r\n                            pInputTextarea\r\n                            [(ngModel)]=\"document.docDescription\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div *ngIf=\"flIsMelChecked\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".revisionNumber\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            maxlength=\"10\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            [(ngModel)]=\"document.docVersion\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div *ngIf=\"flIsMelChecked\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".revisionDate\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-calendar\r\n                            showButtonBar=\"true\"\r\n                            [monthNavigator]=\"true\"\r\n                            [yearNavigator]=\"true\"\r\n                            [yearRange]=\"sessionService.calendarYearRange\"\r\n                            class=\"aw-calendar\"\r\n                            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            [locale]=\"sessionService.calendarFormat\"\r\n                            [(ngModel)]=\"document.docPublicationDate\"\r\n                          >\r\n                          </p-calendar>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div *ngIf=\"flIsMelChecked\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".remarksAndExceptions\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"3\"\r\n                            maxlength=\"4000\"\r\n                            pInputTextarea\r\n                            [(ngModel)]=\"selectedFunctionalLocationComponent.flComments\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"displayStatusPopup\"\r\n    [item]=\"currentAsset\"\r\n    [itemId]=\"currentAssetId\"\r\n    [(display)]=\"displayStatusPopup\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"showStatusUpdatesPopup\"\r\n    [isStatusEditable]=\"false\"\r\n    [item]=\"statusDTO\"\r\n    [itemId]=\"statusTitle\"\r\n    [(display)]=\"showStatusUpdatesPopup\"\r\n  ></aw-dialog-status>\r\n\r\n  <aw-family-variant-popup-form\r\n    *ngIf=\"showOpenFamilyVariantPopup\"\r\n    [(display)]=\"showOpenFamilyVariantPopup\"\r\n    [component-data]=\"dataFamilyVariant\"\r\n    [isReadOnlyForm]=\"isReadOnlyFamilyVariantDialog\"\r\n    (onAdded)=\"onSaveFamilyVariant($event)\"\r\n    (onUpdate)=\"updateConcernedFunctionalLocation($event)\"\r\n    [isNewFunctionalLocation]=\"isNewFunctionalLocation\"\r\n  ></aw-family-variant-popup-form>\r\n  <aw-dialog-search-item\r\n    *ngIf=\"showFamilyVariantPopup\"\r\n    [(display)]=\"showFamilyVariantPopup\"\r\n    [searchObject]=\"{}\"\r\n    [autoFilterForFlFunction]=\"currentFamilyVariant.flFunction\"\r\n    (onValidated)=\"onValidate($event)\"\r\n  >\r\n  </aw-dialog-search-item>\r\n\r\n  <aw-model-popup-form\r\n    *ngIf=\"showModelDialog\"\r\n    [(display)]=\"showModelDialog\"\r\n    [isReadOnlyForm]=\"isReadOnlyModelDialog\"\r\n    [model]=\"currentModel\"\r\n    (onValidated)=\"onAddModel($event)\"\r\n  ></aw-model-popup-form>\r\n\r\n  <aw-dialog-search-functional-location\r\n    [title]=\"getComponentName() + '.popupFunctionalLocationTitle' | translate\"\r\n    [includeUndefinedFunction]=\"false\"\r\n    [familyVariant]=\"familyVariant\"\r\n    [(display)]=\"showFlCodeTableDialog\"\r\n    [authorizedFunctionsId]=\"propertyValueId\"\r\n    (onSelected)=\"addOrUpdateStructure($event)\"\r\n  ></aw-dialog-search-functional-location>\r\n</div>\r\n\r\n<ng-template #flCode>\r\n  <div class=\"form-group\" [ngClass]=\"{ required: isCreateOpenMode }\">\r\n    <label class=\"form-label\">{{ componentData.componentId + \".flCode\" | translate }}</label>\r\n\r\n    <div class=\"form-control\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"aw-input\"\r\n        [disabled]=\"!isCreateOpenMode\"\r\n        maxlength=\"50\"\r\n        [(ngModel)]=\"selectedFunctionalLocationComponent.flCode\"\r\n      />\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n<ng-template #flDescription>\r\n  <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n    <label class=\"form-label\">{{ componentData.componentId + \".flDescription\" | translate }}</label>\r\n\r\n    <div class=\"form-control\">\r\n      <textarea\r\n        class=\"aw-textarea\"\r\n        [rows]=\"3\"\r\n        pInputTextarea\r\n        [disabled]=\"isReadOpenMode\"\r\n        [(ngModel)]=\"selectedFunctionalLocationComponent.flDescription\"\r\n        maxlength=\"300\"\r\n      ></textarea>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n<ng-template #flFunction>\r\n  <div class=\"form-group\">\r\n    <label class=\"form-label\">{{ componentData.componentId + \".flFunction\" | translate }}</label>\r\n\r\n    <div class=\"form-control\">\r\n      <p-dropdown\r\n        class=\"aw-dropdown fixed-width\"\r\n        [options]=\"flFunctions\"\r\n        [(ngModel)]=\"selectedFunctionalLocationComponent.flFunction\"\r\n        [showClear]=\"true\"\r\n        placeholder=\"&nbsp;\"\r\n        [disabled]=\"isReadOpenMode\"\r\n        (onChange)=\"onFlFunctionsSelected($event)\"\r\n      ></p-dropdown>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n<ng-template #flOrderNumber>\r\n  <div class=\"form-group\">\r\n    <div\r\n      *ngIf=\"\r\n        selectedFunctionalLocationComponent.flFunction === aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY ||\r\n        isDisplayableOrderNumber()\r\n      \"\r\n    >\r\n      <label class=\"form-label\">{{ componentData.componentId + \".flOrderNumber\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"aw-input\"\r\n          [disabled]=\"isReadOpenMode\"\r\n          maxlength=\"50\"\r\n          [(ngModel)]=\"selectedFunctionalLocationComponent.flOrderNumber\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/functional-location-form.component.scss":
/*!**************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/functional-location-form.component.scss ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .marginRight {\n  margin-right: 8px; }\n\n:host .delay-category {\n  max-width: 8rem; }\n\n:host .documentation-actions {\n  justify-content: flex-end; }\n\n:host .documentation-actions .aw-btn {\n    margin-left: 8px; }\n\n:host .documentation-actions .aw-btn:first-of-type {\n      margin-left: 0; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2Z1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxmdW5jdGlvbmFsLWxvY2F0aW9uLWZvcm1cXGZ1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2Z1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcc3R5bGVzXFxfY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFFSSxpQkFBaUIsRUFBQTs7QUFGckI7RUFLSSxlQUFlLEVBQUE7O0FBTG5CO0VBU0kseUJBQXlCLEVBQUE7O0FBVDdCO0lBWU0sZ0JDOEJZLEVBQUE7O0FEMUNsQjtNQWVRLGNBQWMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9mdW5jdGlvbmFsLWxvY2F0aW9uLWZvcm0vZnVuY3Rpb25hbC1sb2NhdGlvbi1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5tYXJnaW5SaWdodCB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcclxuICB9XHJcbiAgLmRlbGF5LWNhdGVnb3J5IHtcclxuICAgIG1heC13aWR0aDogOHJlbTtcclxuICB9XHJcblxyXG4gIC5kb2N1bWVudGF0aW9uLWFjdGlvbnMge1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAuYXctYnRuIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iXX0= */"

/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/functional-location-form.component.ts":
/*!************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/functional-location-form.component.ts ***!
  \************************************************************************************************************/
/*! exports provided: FunctionalLocationFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FunctionalLocationFormComponent", function() { return FunctionalLocationFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
/* harmony import */ var _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../shared/utils/string-utils */ "./src/app/shared/utils/string-utils.ts");
/* harmony import */ var _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../object-status/object-status.component */ "./src/app/main/object-status/object-status.component.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _functional_location_search_functional_location_search_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../functional-location-search/functional-location-search.component */ "./src/app/main/engineering-management/functional-location-search/functional-location-search.component.ts");
/* harmony import */ var _functional_location_search_functional_location_search_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../functional-location-search/functional-location-search.service */ "./src/app/main/engineering-management/functional-location-search/functional-location-search.service.ts");
/* harmony import */ var _functional_location_form_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./functional-location-form.service */ "./src/app/main/engineering-management/functional-location-form/functional-location-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};




























var FunctionalLocationFormComponent = /** @class */ (function (_super) {
    __extends(FunctionalLocationFormComponent, _super);
    function FunctionalLocationFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, dateService, inputValidationService, sessionService, translateService, confirmationService, functionalLocationSearchService, functionalLocationFormService, propertiesService, _overlayService, _formatSelectOption) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.dateService = dateService;
        _this.inputValidationService = inputValidationService;
        _this.sessionService = sessionService;
        _this.translateService = translateService;
        _this.confirmationService = confirmationService;
        _this.functionalLocationSearchService = functionalLocationSearchService;
        _this.functionalLocationFormService = functionalLocationFormService;
        _this.propertiesService = propertiesService;
        _this._overlayService = _overlayService;
        _this._formatSelectOption = _formatSelectOption;
        _this.propertyValueId = 1092;
        _this.aWPropertiesConstants = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"];
        _this.isUpdate = false;
        _this.showFamilyVariantPopup = false;
        _this.showOpenFamilyVariantPopup = false;
        _this.displayStatusPopup = false;
        _this.subTitle = '';
        _this.selectedFunctionalLocationComponent = {};
        // Tab Id's
        _this.tabGeneralId = 'general';
        _this.tabStructureId = 'structure';
        _this.tabDocumentationId = 'documentation';
        _this.tabModelId = 'models';
        _this.tabAssetsId = 'assets';
        _this.currentTabId = _this.tabGeneralId;
        // General Tab
        _this.flFunctions = [];
        _this.loadFlFunction();
        _this.loadStatusList();
        _this.loadfamilyVariant();
        _this.loadDelayCategory();
        _this.initFamilyVariantTableDataSource();
        _this.bidoFlVariantDTOAddedList = [];
        _this.bidoFlVariantDTORemovedList = [];
        _this.flVariantInputAddedList = [];
        _this.flModelAddedList = [];
        _this.flModelRemovedList = [];
        _this.initAssetTableDataSource();
        _this.initModelTableDataSource();
        _this.modelTableDataSource.dataSelection = [];
        _this.engineType = false;
        // Structure Tab
        _this.structureTableCols = [
            { field: 'flCode', alignment: 'left', width: '15%' },
            { field: 'flDescription', alignment: 'left', width: '30%' },
            { field: 'flFunction', alignment: 'left', width: '20%' },
            { field: 'flIsMel', alignment: 'left', width: '15%' },
            { field: 'flNominalQuantity', alignment: 'left', width: '10%' },
            { field: 'flRequiredQuantity', alignment: 'left', width: '10%' }
        ];
        _this.structureTableColsHardpoint = [
            { field: 'flCode', alignment: 'left', width: '25%' },
            { field: 'flDescription', alignment: 'left', width: '50%' },
            { field: 'flFunction', alignment: 'left', width: '25%' }
        ];
        _this.bireStructureDisplayed = [];
        _this.bireStructureNodesStore = [];
        _this.structureTable = [];
        _this.selectedStructure = [];
        _this.structureTableAddedList = [];
        // Document Tab
        _this.flIsMelChecked = false;
        _this.documents = [];
        _this.document = {};
        _this.documentsAdded = undefined;
        _this.documentsRemoved = undefined;
        _this.docFile = undefined;
        _this.documentExists = false;
        _this.showStatusUpdatesPopup = false;
        _this.statusDTO = {};
        _this.assetTableDataSource.dataSelection = [];
        return _this;
    }
    FunctionalLocationFormComponent.prototype.getComponentName = function () {
        return 'FunctionalLocationFormComponent';
    };
    FunctionalLocationFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        if (this.componentData) {
            this.updateOpenMode(this.componentData.openMode);
            if (this.componentData.objectId && this.componentData.objectId.length > 0) {
                this.getFunctionalLocationComponentData(this.componentData.objectId);
                this.onInit();
            }
        }
        if (this.isCreateOpenMode) {
            this.statusDTO.statusState = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].OBJECT_STATUS_UPDATED_KEY;
        }
    };
    FunctionalLocationFormComponent.prototype.onInit = function () {
        this.isUpdate = true;
        this.loadTreeTableStructure();
        this.loadDocuments();
        this.findModelByFlCode();
        this.setSubTitle();
        this.selectedStructure = [];
        this.modelTableDataSource.dataSelection = [];
        this.assetTableDataSource.dataSelection = [];
    };
    FunctionalLocationFormComponent.prototype.initFamilyVariantTableDataSource = function () {
        this.familyVariantTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_4__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'familyVariantCode',
                    translateKey: this.getTranslateKey('familyVariantCode')
                },
                {
                    field: 'item',
                    translateKey: this.getTranslateKey('item')
                }
            ],
            data: []
        });
    };
    FunctionalLocationFormComponent.prototype.initAssetTableDataSource = function () {
        this.assetTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_4__["TableDataSource"]({
            allowMultiSelect: false,
            enableSelection: false,
            columns: [
                {
                    field: 'equipmentCode',
                    translateKey: this.getTranslateKey('equipmentCode')
                },
                {
                    field: 'pnCode',
                    translateKey: this.getTranslateKey('pnCode')
                },
                {
                    field: 'sn',
                    translateKey: this.getTranslateKey('sn')
                },
                {
                    field: 'appliedDateStr',
                    translateKey: this.getTranslateKey('appliedDateStr')
                },
                {
                    field: 'removedDateStr',
                    translateKey: this.getTranslateKey('removedDateStr')
                }
            ],
            data: []
        });
    };
    FunctionalLocationFormComponent.prototype.initModelTableDataSource = function () {
        this.modelTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_4__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'modelCode',
                    translateKey: this.getTranslateKey('modelCode')
                },
                {
                    field: 'modelName',
                    translateKey: this.getTranslateKey('modelName')
                },
                {
                    field: 'ratingCode',
                    translateKey: this.getTranslateKey('ratingCode')
                },
                {
                    field: 'ratingName',
                    translateKey: this.getTranslateKey('ratingName')
                }
            ],
            data: []
        });
    };
    FunctionalLocationFormComponent.prototype.refresh = function () {
        this.onInit();
    };
    FunctionalLocationFormComponent.prototype.cancel = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read);
        this.onInit();
    };
    FunctionalLocationFormComponent.prototype.maxLengthCheck = function (event, value) {
        var min = -21474836;
        var max = 214748364;
        if (value < min || value > max) {
            event.preventDefault();
        }
    };
    FunctionalLocationFormComponent.prototype.maxLengthCheckRequired = function (event, value) {
        var min = -21474836;
        var max = 214748364;
        if (value < min || value > max) {
            event.preventDefault();
        }
    };
    FunctionalLocationFormComponent.prototype.edit = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Write);
    };
    FunctionalLocationFormComponent.prototype.save = function () {
        var _this = this;
        if (!_shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_22__["StringUtils"].isNullOrEmpty(this.selectedFunctionalLocationComponent.flDescription) &&
            !_shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_22__["StringUtils"].isNullOrEmpty(this.selectedFunctionalLocationComponent.flCode)) {
            if (!this.validateHarpointAndLoadProperties()) {
                return;
            }
            if (this.validateQuantity()) {
                if (!!this.docName || !!this.document.docDescription) {
                    this.documentsAdded = {
                        docCode: this.document.docCode,
                        docDescription: this.document.docDescription,
                        docName: this.docName,
                        docFile: this.docFile,
                        docVersion: this.selectedFunctionalLocationComponent.flIsMel ? this.document.docVersion : undefined,
                        docPublicationDate: this.selectedFunctionalLocationComponent.flIsMel
                            ? this.document.docPublicationDate
                            : undefined
                    };
                }
                this.familyVariantTableDataSource.dataSrc.forEach(function (item) {
                    var bidoFlVariant = {
                        familyVariantCode: item.familyVariantCode
                    };
                    var flVariantInput = {
                        bidoFlVariantDTO: bidoFlVariant,
                        bireItemDTOId: item.item === '----' ? undefined : item.bireItemDTOId
                    };
                    if (item.isAdded) {
                        _this.flVariantInputAddedList.push(flVariantInput);
                    }
                });
                this.selectedFunctionalLocationComponent.flDelayCategory = this.selectedFunctionalLocationComponent.flIsMel
                    ? this.selectedFunctionalLocationComponent.flDelayCategory
                    : undefined;
                this.selectedFunctionalLocationComponent.flComments = this.selectedFunctionalLocationComponent.flIsMel
                    ? this.selectedFunctionalLocationComponent.flComments
                    : undefined;
                var saveFunctionalLocationInput = {
                    isUpdate: this.isUpdate,
                    bidoFlDTO: this.selectedFunctionalLocationComponent,
                    flVariantInputAddedList: this.flVariantInputAddedList,
                    flTreeList: this.bidoFlCodeInStructure,
                    bidoFlVariantDTORemovedList: this.bidoFlVariantDTORemovedList,
                    bidoDocumentationAdded: this.documentsAdded,
                    bidoDocumentationRemoved: this.documentsRemoved,
                    flModelAddedList: this.selectedFunctionalLocationComponent.flFunction === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].FAMILY_FUNCTION_ENGINE_KEY
                        ? this.flModelAddedList
                        : [],
                    flModelRemovedList: this.selectedFunctionalLocationComponent.flFunction === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].FAMILY_FUNCTION_ENGINE_KEY
                        ? this.flModelRemovedList
                        : []
                };
                this.showSaveSpinner = true;
                this.functionalLocationFormService.saveFlData(saveFunctionalLocationInput).subscribe(function (result) {
                    _this.messageService.showSuccessMessage('global.successOnSave');
                    _this.selectedFunctionalLocationComponent.flCode = result.flCode;
                    _this.document.docCode = result.docCode;
                    _this.onInit();
                    _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read);
                    _this.flVariantInputAddedList = [];
                    _this.bidoFlVariantDTORemovedList = [];
                    _this.flModelAddedList = [];
                    _this.flModelRemovedList = [];
                    _this.documentsAdded = undefined;
                    _this.documentsRemoved = undefined;
                    if (!!_this.componentData && !_this.componentData.objectId) {
                        _this.componentData.objectId = result.flCode;
                    }
                    _this.showSaveSpinner = false;
                }, function (err) {
                    var errorCode = 500;
                    if (err.error.errorCode === errorCode) {
                        _this.messageService.showErrorMessage(_this.getComponentName() + '.pkBidoFl');
                    }
                    else {
                        _this.messageService.showErrorMessage('global.errorOnSave');
                    }
                    _this.showSaveSpinner = false;
                });
            }
        }
        else {
            this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');
        }
    };
    FunctionalLocationFormComponent.prototype.validateHarpointAndLoadProperties = function () {
        var isValid = true;
        var regexAllExcludingZero = /^-?[1-9][0-9]*$/;
        if (this.selectedFunctionalLocationComponent.flOrderNumber &&
            !regexAllExcludingZero.test("" + this.selectedFunctionalLocationComponent.flOrderNumber)) {
            this.selectedFunctionalLocationComponent.flOrderNumber = undefined;
            this.messageService.showWarningMessage(this.getComponentName() + '.warnIncorrectOrderNumber');
        }
        var regexOnlyPositiveInteger = /^[0-9]*$/;
        if (this.selectedFunctionalLocationComponent.flPositionX &&
            !regexOnlyPositiveInteger.test("" + this.selectedFunctionalLocationComponent.flPositionX)) {
            this.messageService.showErrorMessage(this.getComponentName() + '.incorrectTypeOfXPosition');
            isValid = false;
        }
        if (this.selectedFunctionalLocationComponent.flPositionY &&
            !regexOnlyPositiveInteger.test("" + this.selectedFunctionalLocationComponent.flPositionY)) {
            this.messageService.showErrorMessage(this.getComponentName() + '.incorrectTypeOfYPosition');
            isValid = false;
        }
        return isValid;
    };
    FunctionalLocationFormComponent.prototype.validateQuantity = function () {
        if (!!this.selectedFunctionalLocationComponent &&
            !!this.selectedFunctionalLocationComponent.flNominalQuantity &&
            !!this.selectedFunctionalLocationComponent.flRequiredQuantity) {
            if (this.selectedFunctionalLocationComponent.flNominalQuantity <
                this.selectedFunctionalLocationComponent.flRequiredQuantity) {
                this.messageService.showErrorMessage(this.getComponentName() + '.reqQuantitySuperiorThanNominal');
                return false;
            }
        }
        return true;
    };
    // To fill the functional location data in the popup
    FunctionalLocationFormComponent.prototype.getFunctionalLocationComponentData = function (objectId) {
        if (this.componentData) {
            if (this.componentData.objectId && this.componentData.objectId.length > 0) {
                this.selectedFunctionalLocationComponent = this.serializationService.deserialize(this.componentData.objectId);
                this.flIsMelChecked = !!this.selectedFunctionalLocationComponent.flIsMel;
                this.selectedFunctionalLocationComponent.flFunction === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].FAMILY_FUNCTION_ENGINE_KEY
                    ? (this.engineType = true)
                    : (this.engineType = false);
                this.isHardpointOrLoadFamily =
                    this.selectedFunctionalLocationComponent.flFunction ===
                        this.aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY ||
                        this.selectedFunctionalLocationComponent.flFunction === this.aWPropertiesConstants.ITEM_FAMILY_CODE_LOAD_KEY;
            }
        }
    };
    FunctionalLocationFormComponent.prototype.setSubTitle = function () {
        this.subTitle =
            _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_22__["StringUtils"].orEmpty(this.selectedFunctionalLocationComponent.flCode) +
                _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_22__["StringUtils"].orEmpty(this.selectedFunctionalLocationComponent.flDescription);
        this.displayComponentContext(this.subTitle, false);
    };
    // Model tab binding
    FunctionalLocationFormComponent.prototype.findModelByFlCode = function () {
        var _this = this;
        this.modelTableDataSource.setData([]);
        this.modelTableDataSource.update();
        if (!!this.selectedFunctionalLocationComponent.flCode) {
            this.modelPanelLoading = true;
            this.functionalLocationFormService
                .findModelsByFlCode(this.selectedFunctionalLocationComponent.flCode)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["finalize"])(function () {
                _this.modelPanelLoading = false;
            }))
                .subscribe(function (results) {
                _this.modelTableDataSource.setData(results);
                _this.modelTableDataSource.update();
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindModelsByFlCode'));
            });
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'findModelByFlCode', 'this.selectedFunctionalLocationComponent.flCode');
        }
    };
    // Asset table binding by flCode
    FunctionalLocationFormComponent.prototype.findAssetsByFlCode = function () {
        var _this = this;
        this.assetTableDataSource.setData([]);
        this.assetTableDataSource.update();
        if (!!this.selectedFunctionalLocationComponent.flCode) {
            var bidoFlDTOId = {
                flCode: this.selectedFunctionalLocationComponent.flCode
            };
            this.assetPanelLoading = true;
            this.functionalLocationFormService
                .findAssetsByFlCode(bidoFlDTOId)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["finalize"])(function () {
                _this.assetPanelLoading = false;
            }))
                .subscribe(function (results) {
                _this.assetTableDataSource.setData(results);
                _this.assetTableDataSource.update();
                _this.assetTableDataSource.dataSrc.forEach(function (asset) {
                    asset.appliedDateStr = _this.dateService.dateToString(asset.appliedDate);
                    asset.removedDateStr = _this.dateService.dateToString(asset.removedDate);
                });
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAssetsByFlCode'));
            });
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'findAssetByFlCode', 'this.selectedFunctionalLocationComponent.flCode');
        }
        this.assetTableDataSource.setData(this.assetTableDataSource.dataSrc);
        this.assetTableDataSource.update();
    };
    FunctionalLocationFormComponent.prototype.displayStatusForAsset = function () {
        if (!!this.assetTableDataSource.dataSelection && this.assetTableDataSource.dataSelectionCount === 1) {
            this.currentAsset = __assign({}, this.assetTableDataSource.dataSelection[0]);
            this.currentAssetId = !!this.selectedFunctionalLocationComponent
                ? "Asset " + this.selectedFunctionalLocationComponent.flCode + " - " + this.currentAsset.equipmentCode
                : '';
            this.displayStatusPopup = true;
        }
    };
    FunctionalLocationFormComponent.prototype.openStatusPopup = function (bidoFlEquipmentDTO) {
        this.currentAsset = __assign({}, bidoFlEquipmentDTO);
        this.currentAssetId = !!this.selectedFunctionalLocationComponent
            ? "Asset " + this.selectedFunctionalLocationComponent.flCode + " - " + this.currentAsset.equipmentCode
            : '';
        this.displayStatusPopup = true;
    };
    // To bind dropdown function
    FunctionalLocationFormComponent.prototype.loadFlFunction = function () {
        var _this = this;
        Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])({
            flFunctions: this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_7__["GenericPropertyConstants"].ITEM_FAMILY_CODE_MAP),
            authorizedFunctions: this.functionalLocationSearchService.fetchPropertyValuesTableData(_functional_location_search_functional_location_search_component__WEBPACK_IMPORTED_MODULE_25__["FunctionalLocationSearchComponent"].PROPERTY_ID)
        }).subscribe(function (results) {
            var flFunctions = results.flFunctions || [];
            var authorizedFunctions = results.authorizedFunctions.find(function (cpt) { return "" + cpt.enPropertiesValueId === "" + _this.propertyValueId; });
            _this.flFunctions = flFunctions.filter(function (fl) {
                return authorizedFunctions &&
                    authorizedFunctions.propertiesValue &&
                    authorizedFunctions.propertiesValue.split(';').find(function (s) { return s === fl.value; });
            });
        });
    };
    FunctionalLocationFormComponent.prototype.loadStatusList = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_7__["GenericPropertyConstants"].OBJECT_STATUS_MAP).subscribe(function (results) {
            _this.statusList = results || [];
        });
    };
    // To bind dropdown delay category
    FunctionalLocationFormComponent.prototype.loadDelayCategory = function () {
        var _this = this;
        this.functionalLocationFormService.findFlDelayCategory().subscribe(function (results) {
            _this.delayCategories = results || [];
        });
    };
    FunctionalLocationFormComponent.prototype.onFlFunctionsSelected = function (functions) {
        var _this = this;
        functions.value === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].FAMILY_FUNCTION_ENGINE_KEY
            ? (this.engineType = true)
            : (this.engineType = false);
        if (this.isCreateOpenMode) {
            if (functions.value === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].ITEM_FAMILY_CODE_HARDPOINT_KEY) {
                this.functionalLocationSearchService
                    .findBireVariantVersionsByFamilyFunctionAlternative()
                    .subscribe(function (familyVariants) {
                    return familyVariants.map(function (familyVariant) {
                        _this.onSaveFamilyVariant({
                            familyVariantCode: familyVariant.labelValue.value,
                            bireItemDTOId: undefined
                        });
                    });
                });
            }
            else {
                this.familyVariantTableDataSource.setData([]);
            }
        }
        this.selectedFunctionalLocationComponent.flOrderNumber = undefined;
        this.selectedFunctionalLocationComponent.flIsInConfSheet = false;
    };
    FunctionalLocationFormComponent.prototype.onHandleFlIsMel = function (flIsMel) {
        flIsMel === true ? (this.flIsMelChecked = true) : (this.flIsMelChecked = false);
    };
    FunctionalLocationFormComponent.prototype.openItemForm = function (item) {
        // open item screen
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__["ComponentConstants"].ENG_ITEM_FORM,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read
        };
        if (!!item && item.bireItemDTOId) {
            var itemFormId = {
                familyCode: item.bireItemDTOId.familyCode,
                chapter: item.bireItemDTOId.chapter,
                section: item.bireItemDTOId.section,
                sheet: item.bireItemDTOId.sheet,
                marks: item.bireItemDTOId.marks,
                subject: item.bireItemDTOId.subject,
                structureType: item.bireItemDTOId.structureType,
                variantCode: item.bireItemDTOId.variantCode
            };
            data.objectId = this.serializationService.serialize(itemFormId);
        }
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    // Family-variant table binding by flCode
    FunctionalLocationFormComponent.prototype.findBidoFlVariantsByFlCode = function () {
        var _this = this;
        this.familyVariantTableDataSource.setData([]);
        this.familyVariantTableDataSource.update();
        this.familyVariantTableDataSource.dataSelection = [];
        if (!!this.selectedFunctionalLocationComponent.flCode) {
            var bidoFlDTOId = {
                flCode: this.selectedFunctionalLocationComponent.flCode
            };
            this.familyVariantPanelLoading = true;
            this.functionalLocationFormService
                .findFamilyVariantByFlCode(bidoFlDTOId)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["finalize"])(function () {
                _this.familyVariantPanelLoading = false;
            }))
                .subscribe(function (results) {
                if (results) {
                    results.forEach(function (item) {
                        item.isAdded = false;
                    });
                }
                _this.familyVariantTableDataSource.setData(results);
                _this.familyVariantTableDataSource.update();
                _this.computeFamilyVariantCodes();
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBidoFlVariantsByFlCode'));
            });
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'findBidoFlVariantsByFlCode', 'this.selectedFunctionalLocationComponent.flCode');
        }
    };
    FunctionalLocationFormComponent.prototype.computeFamilyVariantCodes = function () {
        this.familyVariant = this.familyVariantTableDataSource.dataSrc
            .map(function (fv) { return fv.familyVariantCode; })
            .filter(function (fv) { return !!fv; });
    };
    FunctionalLocationFormComponent.prototype.createFamilyVariant = function () {
        this.currentFamilyVariant = {
            bireItemDTOId: undefined,
            flFunction: this.selectedFunctionalLocationComponent.flFunction
        };
        this.isNewFunctionalLocation = true;
        this.isReadOnlyFamilyVariantDialog = false;
        this.showFamilyVariantPopup = true;
        this.dataFamilyVariant = {
            componentId: 'FunctionalLocationFormComponent',
            selectedRow: undefined,
            object: this.currentFamilyVariant,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Create
        };
    };
    FunctionalLocationFormComponent.prototype.editFamilyVariant = function () {
        if (this.familyVariantTableDataSource.dataSelection && this.familyVariantTableDataSource.hasDataSelection) {
            this.isNewFunctionalLocation = false;
            this.isReadOnlyFamilyVariantDialog = false;
            // Copy all the selectedfamilyVariant[0] field into currentFamilyVariant one by one
            this.currentFamilyVariant = __assign({}, this.familyVariantTableDataSource.dataSelection[0]);
            this.currentFamilyVariantIndex = this.familyVariantTableDataSource.dataSrc.indexOf(this.familyVariantTableDataSource.dataSelection[0]);
            this.showFamilyVariantPopup = true;
            this.dataFamilyVariant = {
                componentId: 'FunctionalLocationFormComponent',
                selectedRow: undefined,
                object: this.currentFamilyVariant,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Write
            };
        }
    };
    FunctionalLocationFormComponent.prototype.deleteSelectedFamilyVariant = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.deleteConfirmationMsg',
            accept: function () {
                _this.deleteSelectedFamilyVariants();
            }
        });
    };
    FunctionalLocationFormComponent.prototype.deleteSelectedFamilyVariants = function () {
        var _this = this;
        this.familyVariantTableDataSource.dataSelection.forEach(function (element) {
            if (!!element.familyVariantCode && !!_this.selectedFunctionalLocationComponent.flCode) {
                var interdepId = {
                    familyVariantCode: element.familyVariantCode,
                    flCode: _this.selectedFunctionalLocationComponent.flCode
                };
                _this.bidoFlVariantDTORemovedList.push(interdepId);
                var indexInDisplayedList = _this.familyVariantTableDataSource.dataSrc.indexOf(element);
                _this.familyVariantTableDataSource.dataSrc.splice(indexInDisplayedList, 1);
            }
        });
        this.familyVariantTableDataSource.dataSelection = [];
        this.familyVariantTableDataSource.setData(this.familyVariantTableDataSource.dataSrc);
        this.familyVariantTableDataSource.update();
        this.computeFamilyVariantCodes();
    };
    FunctionalLocationFormComponent.prototype.openFamilyVariant = function () {
        this.isReadOnlyFamilyVariantDialog = true;
        if (this.familyVariantTableDataSource.dataSelection && this.familyVariantTableDataSource.hasDataSelection) {
            this.currentFamilyVariant = __assign({}, this.familyVariantTableDataSource.dataSelection[0]);
            this.showOpenFamilyVariantPopup = true;
            this.dataFamilyVariant = {
                componentId: 'FunctionalLocationFormComponent',
                selectedRow: undefined,
                object: this.currentFamilyVariant,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read
            };
        }
    };
    FunctionalLocationFormComponent.prototype.onValidate = function (item) {
        var bidoFlVariant = this.computeSelectedItemToFindBidoFlVariantsByFlCodeDTO(item);
        if (this.isNewFunctionalLocation) {
            this.onSaveFamilyVariant(bidoFlVariant);
        }
        else {
            this.updateConcernedFunctionalLocation(bidoFlVariant);
        }
    };
    FunctionalLocationFormComponent.prototype.computeSelectedItemToFindBidoFlVariantsByFlCodeDTO = function (item) {
        if (!!item &&
            !!item.chapter &&
            !!item.section &&
            !!item.subject &&
            !!item.sheet &&
            !!item.marks &&
            !!item.structureType) {
            var familyVariantCode_1 = item.familyCode + "-" + item.variantCode;
            var bireItemDTO = {
                familyCode: item.familyCode,
                variantCode: item.variantCode,
                chapter: item.chapter,
                section: item.section,
                subject: item.subject,
                sheet: item.sheet,
                marks: item.marks,
                structureType: item.structureType
            };
            var selectedVariantCode = this.findBireVariantVersion.filter(function (x) { return !!familyVariantCode_1 && x.labelValue.value.includes(familyVariantCode_1); })[0];
            return {
                bireItemDTOId: bireItemDTO,
                item: bireItemDTO.chapter +
                    '-' +
                    bireItemDTO.section +
                    '-' +
                    bireItemDTO.subject +
                    '-' +
                    bireItemDTO.sheet +
                    '-' +
                    bireItemDTO.marks,
                familyVariantCode: selectedVariantCode.labelValue.value
            };
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'onSelectedItem', 'item && this.structureType');
            return {
                bireItemDTOId: {
                    chapter: '',
                    marks: '',
                    section: '',
                    sheet: '',
                    structureType: '',
                    subject: ''
                }
            };
        }
    };
    FunctionalLocationFormComponent.prototype.loadfamilyVariant = function () {
        var _this = this;
        this.functionalLocationSearchService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe(function (results) {
            _this.findBireVariantVersion = results;
            var list = [];
            results.forEach(function (element) {
                list.push(element.labelValue);
            });
        });
    };
    // To re-bind family variant, on addition of new family-variant
    FunctionalLocationFormComponent.prototype.onSaveFamilyVariant = function (familyvariantItems) {
        var _this = this;
        familyvariantItems.isAdded = true;
        var searchInDisplayedList = this.familyVariantTableDataSource.dataSrc.find(function (value) {
            return _this.isConcernedFunctionalLocationTheSame(value, familyvariantItems);
        });
        if (!searchInDisplayedList) {
            this.familyVariantTableDataSource.addData([familyvariantItems]);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyConcernedFunctionalLocationExist'));
        }
        this.familyVariantTableDataSource.setData(this.familyVariantTableDataSource.dataSrc);
        this.familyVariantTableDataSource.update();
        this.computeFamilyVariantCodes();
    };
    FunctionalLocationFormComponent.prototype.updateConcernedFunctionalLocation = function (familyvariantItems) {
        if (!this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex].isAdded) {
            if (!!this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex].familyVariantCode &&
                !!this.selectedFunctionalLocationComponent.flCode) {
                var interdepId = {
                    familyVariantCode: this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex].familyVariantCode || '',
                    flCode: this.selectedFunctionalLocationComponent.flCode
                };
                this.bidoFlVariantDTORemovedList.push(interdepId);
            }
        }
        familyvariantItems.isAdded = true;
        this.familyVariantTableDataSource.replaceData(this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex], familyvariantItems);
        this.familyVariantTableDataSource.setData(this.familyVariantTableDataSource.dataSrc);
        this.familyVariantTableDataSource.dataSelection = [];
        this.familyVariantTableDataSource.update();
        this.computeFamilyVariantCodes();
    };
    // To check for the duplicate entry in the table
    FunctionalLocationFormComponent.prototype.isConcernedFunctionalLocationTheSame = function (familyvariantItems1, familyvariantItems2) {
        if (familyvariantItems1.familyVariantCode === familyvariantItems2.familyVariantCode) {
            return true;
        }
        else {
            return false;
        }
    };
    // Tab - Model Starts
    FunctionalLocationFormComponent.prototype.createModel = function () {
        this.currentModel = undefined;
        this.isReadOnlyModelDialog = false;
        this.showModelDialog = true;
    };
    FunctionalLocationFormComponent.prototype.openModel = function () {
        if (this.modelTableDataSource.dataSelectionCount === 1) {
            this.currentModel = this.modelTableDataSource.dataSelection[0];
            this.currentModelIndex = undefined;
            this.isReadOnlyModelDialog = true;
            this.showModelDialog = true;
        }
    };
    FunctionalLocationFormComponent.prototype.onAddModel = function (modelData) {
        if (!!modelData) {
            if (this.validateEntry(this.modelTableDataSource, modelData)) {
                this.modelTableDataSource.setData(__spread(this.modelTableDataSource.dataSrc, [modelData]));
                this.modelTableDataSource.update();
                var bidoFlModelDTO = {
                    flCode: this.selectedFunctionalLocationComponent.flCode,
                    modelCode: modelData.bireModelDTO.modelCode,
                    familyCode: modelData.bireModelDTO.familyCode,
                    variantCode: modelData.bireModelDTO.variantCode
                };
                this.flModelAddedList.push(bidoFlModelDTO);
            }
            else {
                this.messageService.showErrorMessage('global.duplicate');
            }
        }
        this.modelTableDataSource.setData(this.modelTableDataSource.dataSrc);
        this.modelTableDataSource.update();
    };
    // Validate for duplicacy
    FunctionalLocationFormComponent.prototype.validateEntry = function (modelTableDataSource, modelData) {
        var isFound = false;
        this.modelTableDataSource.dataSrc.forEach(function (result) {
            if (result.bireModelDTO.familyCode === modelData.bireModelDTO.familyCode &&
                result.bireModelDTO.modelCode === modelData.bireModelDTO.modelCode &&
                result.bireModelDTO.modelName === modelData.bireModelDTO.modelName &&
                result.bireModelDTO.ratingCode === modelData.bireModelDTO.ratingCode &&
                result.bireModelDTO.structureType === modelData.bireModelDTO.structureType &&
                result.bireModelDTO.variantCode === modelData.bireModelDTO.variantCode) {
                isFound = true;
            }
        });
        return isFound ? false : true;
    };
    FunctionalLocationFormComponent.prototype.deleteSelectedModel = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.deleteConfirmationMsg',
            accept: function () {
                _this.deleteSelectedModels();
            }
        });
    };
    FunctionalLocationFormComponent.prototype.deleteSelectedModels = function () {
        var _this = this;
        this.modelTableDataSource.dataSelection.forEach(function (element) {
            if (!!element.bireModelDTO.familyCode && !!element.bireModelDTO.modelCode && !!element.bireModelDTO.variantCode) {
                var bidoFlModelDTOId = {
                    familyCode: element.bireModelDTO.familyCode,
                    modelCode: element.bireModelDTO.modelCode,
                    variantCode: element.bireModelDTO.variantCode,
                    flCode: !!_this.selectedFunctionalLocationComponent.flCode
                        ? _this.selectedFunctionalLocationComponent.flCode
                        : ''
                };
                _this.flModelRemovedList.push(bidoFlModelDTOId);
                var indexInDisplayedList = _this.modelTableDataSource.dataSrc.indexOf(element);
                _this.modelTableDataSource.dataSrc.splice(indexInDisplayedList, 1);
            }
        });
        this.modelTableDataSource.dataSelection = [];
        this.modelTableDataSource.setData(this.modelTableDataSource.dataSrc);
        this.modelTableDataSource.update();
    };
    // Tab - Structure starts
    // Structure table
    FunctionalLocationFormComponent.prototype.onRowSelected = function (node) {
        this.deactivePartialSelection(node);
        this.bireStructureNodesStore.push(node);
        this.selectedStructure = __spread(this.bireStructureNodesStore);
        this.bireStructureDisplayed = __spread(this.bireStructureDisplayed);
        this.selectedStructure = __spread(this.selectedStructure);
    };
    FunctionalLocationFormComponent.prototype.onRowUnSelected = function (node) {
        this.deactivePartialSelection(node);
        this.bireStructureNodesStore = this.bireStructureNodesStore.filter(function (value) { return value !== node; });
        this.selectedStructure = __spread(this.bireStructureNodesStore);
        this.bireStructureDisplayed = __spread(this.bireStructureDisplayed);
        this.selectedStructure = __spread(this.selectedStructure);
    };
    FunctionalLocationFormComponent.prototype.deactivePartialSelection = function (node) {
        // not to remove the null check
        if (node.parent !== null && node.parent !== undefined) {
            node.parent.partialSelected = false;
            this.deactivePartialSelection(node.parent);
        }
    };
    FunctionalLocationFormComponent.prototype.loadTreeTableStructure = function () {
        var _this = this;
        if (!!this.selectedFunctionalLocationComponent.flCode) {
            var bidoFlDTOId = {
                flCode: this.selectedFunctionalLocationComponent.flCode
            };
            if (bidoFlDTOId.flCode) {
                this.bireStructurePanelLoading = true;
                this.functionalLocationFormService
                    .findStructureByFlCode(bidoFlDTOId.flCode)
                    .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["finalize"])(function () {
                    _this.bireStructurePanelLoading = false;
                }))
                    .subscribe(function (results) {
                    if (!!results.data && !!results.children) {
                        _this.statusDTO = results.data;
                        _this.statusTitle = _this.statusDTO.flCode + " - " + _this.statusDTO.flDescription;
                        var treeTable = [
                            {
                                data: results.data,
                                children: _this.getChildren(results.children),
                                leaf: results.children.length === 0,
                                expanded: true
                            }
                        ];
                        _this.loadFunctionalLocationScreen(treeTable[0].data);
                        // this.updateFunctionalLocation(treeTable);
                        _this.bireStructureDisplayed = treeTable;
                        _this.fetchFlCodePresentInStructure();
                        _this.findBidoFlVariantsByFlCode();
                        _this.findAssetsByFlCode();
                    }
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetStructure'));
                });
            }
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'loadTreeTableStructure', 'this.selectedFunctionalLocationComponent.flCode');
        }
    };
    FunctionalLocationFormComponent.prototype.fetchFlCodePresentInStructure = function () {
        this.bidoFlCodeInStructure = [];
        this.fetchFlCodePresentInStructureRecursively(this.bireStructureDisplayed);
    };
    FunctionalLocationFormComponent.prototype.fetchFlCodePresentInStructureRecursively = function (trees) {
        var _this = this;
        trees.forEach(function (tree) {
            _this.bidoFlCodeInStructure.push(tree.data);
            if (tree.children && tree.children.length > 0) {
                _this.fetchFlCodePresentInStructureRecursively(tree.children);
            }
        });
    };
    FunctionalLocationFormComponent.prototype.getFlFunctionLabel = function (row) {
        var toReturn = '';
        if (row.flFunction) {
            this.flFunctions.forEach(function (elem) {
                if (row.flFunction === elem.value) {
                    toReturn = elem.label;
                }
            });
        }
        return toReturn;
    };
    FunctionalLocationFormComponent.prototype.loadFunctionalLocationScreen = function (data) {
        this.selectedFunctionalLocationComponent.flDescription = data.flDescription;
        this.selectedFunctionalLocationComponent.flFunction = data.flFunction;
        this.selectedFunctionalLocationComponent.flOrderNumber = data.flOrderNumber;
        this.selectedFunctionalLocationComponent.flIsMel = data.flIsMel;
        this.selectedFunctionalLocationComponent.flNominalQuantity = data.flNominalQuantity;
        this.selectedFunctionalLocationComponent.flRequiredQuantity = data.flRequiredQuantity;
        this.selectedFunctionalLocationComponent.flFlCode = data.flFlCode;
        this.selectedFunctionalLocationComponent.flItems = data.flItems;
        this.selectedFunctionalLocationComponent.flIsOpeConf = data.flIsOpeConf;
        this.selectedFunctionalLocationComponent.flPositionX = data.flPositionX;
        this.selectedFunctionalLocationComponent.flPositionY = data.flPositionY;
        this.selectedFunctionalLocationComponent.flIsInConfSheet = data.flIsInConfSheet;
    };
    // Function to update functional location
    FunctionalLocationFormComponent.prototype.updateFunctionalLocation = function (treeTable) {
        var table = treeTable;
        /* table.map((result) => {
          if (
            result.data.flFunction &&
            this.flFunctions.filter((flFunctions) => flFunctions.value === result.data.flFunction)[0]
          ) {
            result.data.flFunction = this.flFunctions.filter(
              (flFunctions) => flFunctions.value === result.data.flFunction
            )[0].label;
          }
    
          if (result.children) {
            this.updateFunctionalLocation(result.children);
          }
        }); */
        return table;
    };
    FunctionalLocationFormComponent.prototype.getChildren = function (results) {
        var _this = this;
        var childTreeNode = [];
        if (results) {
            results.sort(function (a, b) {
                if (!!a.data && !!a.data.flCode && !!b.data && !!b.data.flCode) {
                    var nameA = a.data.flCode.toLowerCase();
                    var nameB = b.data.flCode.toLowerCase();
                    if (nameA < nameB) {
                        return -1;
                    }
                    if (nameA > nameB) {
                        return 1;
                    }
                }
                return 0;
            });
            results.forEach(function (child) {
                var childTree = {
                    data: child.data,
                    leaf: !!child.children && child.children.length === 0,
                    expanded: true
                };
                childTree.children = child.children && child.children.length > 0 ? child.children : [];
                childTreeNode.push(childTree);
                if (childTree.children && childTree.children.length > 0) {
                    _this.getChildren(childTree.children);
                }
            });
        }
        return childTreeNode;
    };
    FunctionalLocationFormComponent.prototype.createStructure = function () {
        this.isNewStructure = true;
        this.showFlCodeTableDialog = true;
    };
    FunctionalLocationFormComponent.prototype.editStructure = function () {
        if (this.selectedStructure.length === 1) {
            this.isNewStructure = false;
            this.currentStructure = this.selectedStructure[0].data;
            this.showFlCodeTableDialog = true;
        }
    };
    FunctionalLocationFormComponent.prototype.openStructure = function () {
        this.currentTabId = this.tabStructureId;
    };
    FunctionalLocationFormComponent.prototype.addOrUpdateStructure = function (concernedStructure) {
        if (this.isNewStructure) {
            this.addNewStructure(concernedStructure);
        }
        else {
            this.updateConcernedStructure(concernedStructure);
        }
    };
    FunctionalLocationFormComponent.prototype.addNewStructure = function (concernedStructure) {
        var _this = this;
        if (this.selectedStructure[0] && this.selectedStructure[0].data.flCode && concernedStructure.flCode) {
            this.functionalLocationFormService.findStructureByFlCode(concernedStructure.flCode).subscribe(function (flTrees) {
                var tempTree = {};
                tempTree.data = flTrees.data;
                tempTree.children = flTrees.children;
                tempTree.data.flFlCode = _this.selectedStructure[0].data.flCode;
                var searchInStructureTableChildren = _this.findTreeFlCodeInStructure(flTrees);
                if (!searchInStructureTableChildren) {
                    var selectedStructureChild = _this.selectedStructure[0].children;
                    if (selectedStructureChild) {
                        selectedStructureChild.push(tempTree);
                        _this.bireStructureDisplayed = __spread(_this.updateFunctionalLocation(_this.bireStructureDisplayed));
                        _this.fetchFlCodePresentInStructure();
                    }
                }
                else {
                    _this.messageService.showErrorMessage(
                    // Change it to, create a master entry or something
                    _this.getTranslateKey('errorAlreadyConcernedStructureExist'), "(" + searchInStructureTableChildren.join(', ') + ")");
                }
                _this.selectedStructure = [];
                _this.bireStructureNodesStore = [];
            }, function (err) {
                _this.selectedStructure = [];
                _this.bireStructureNodesStore = [];
            });
        }
        else if (!this.selectedStructure[0] && this.bireStructureDisplayed.length > 0) {
            // If none selected, add entry to root FL Code
            this.selectedStructure[0] = this.bireStructureDisplayed[0];
            this.addNewStructure(concernedStructure);
        }
    };
    FunctionalLocationFormComponent.prototype.findTreeFlCodeInStructure = function (flTrees, result) {
        var _this = this;
        if (result === void 0) { result = { bidoFl: undefined }; }
        if (flTrees.data &&
            this.bidoFlCodeInStructure.find(function (value) { return value.flCode === flTrees.data.flCode; })) {
            if (flTrees.data.flCode) {
                if (!result.bidoFl) {
                    result.bidoFl = [];
                }
                result.bidoFl.push(flTrees.data.flCode);
            }
        }
        if (flTrees.children && flTrees.children.length > 0) {
            flTrees.children.forEach(function (treeNode) {
                _this.findTreeFlCodeInStructure(treeNode, result);
            });
        }
        return result.bidoFl;
    };
    FunctionalLocationFormComponent.prototype.updateConcernedStructure = function (concernedStructure) {
        this.selectedStructure[0].data = {
            flCode: concernedStructure.flCode,
            flDescription: concernedStructure.flDescription,
            flFunction: concernedStructure.flFunction,
            flFlCode: this.selectedStructure[0].data.flFlCode,
            flIsMel: concernedStructure.flIsMel,
            flIsOpeConf: concernedStructure.flIsOpeConf,
            flNominalQuantity: concernedStructure.flNominalQuantity,
            flRequiredQuantity: concernedStructure.flRequiredQuantity
        };
        if (this.selectedStructure[0].children) {
            this.selectedStructure[0].children.forEach(function (fl) {
                fl.data.flFlCode = concernedStructure.flCode;
            });
        }
        this.bireStructureDisplayed = __spread(this.updateFunctionalLocation(this.bireStructureDisplayed));
        this.fetchFlCodePresentInStructure();
        this.selectedStructure = [];
        this.bireStructureNodesStore = [];
    };
    FunctionalLocationFormComponent.prototype.detachSelectedStructure = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.detachConfirmationMsg',
            accept: function () {
                _this.selectedStructure.forEach(function (element) {
                    element.data.flFlCode = undefined;
                    if (!!element.parent && !!element.parent.children) {
                        element.parent.children = __spread(element.parent.children.filter(function (child) { return child.data.flCode !== element.data.flCode; }));
                    }
                    _this.bireStructureDisplayed = __spread(_this.bireStructureDisplayed);
                    _this.fetchFlCodePresentInStructure();
                });
                _this.selectedStructure = [];
                _this.bireStructureNodesStore = [];
            }
        });
    };
    /* Tab structure Ends */
    /* Tab Documentation Starts*/
    FunctionalLocationFormComponent.prototype.loadDocuments = function () {
        var _this = this;
        if (!!this.selectedFunctionalLocationComponent.flCode) {
            this.functionalLocationFormService
                .findBidoDocumentationsByFleetCode(this.selectedFunctionalLocationComponent.flCode)
                .subscribe(function (results) {
                _this.documents = results || [];
                var docName = !!_this.documents[0] ? _this.documents[0].docName : undefined;
                if (results.length > 0) {
                    _this.documentExists = !!_this.documents[0].docFile ? true : false;
                    _this.docName = docName;
                    _this.document.docDescription = _this.documents[0].docDescription;
                    _this.document.docCode = _this.documents[0].docCode;
                    _this.docFile = _this.documents[0].docFile;
                    var pubDate = _this.documents[0].docPublicationDate;
                    if (!!pubDate) {
                        _this.document.docPublicationDate = new Date(pubDate);
                    }
                    _this.document.docVersion = _this.documents[0].docVersion;
                }
            });
        }
    };
    FunctionalLocationFormComponent.prototype.uploadDocument = function (event, fileUploader) {
        var _this = this;
        if (event.files) {
            var file_1 = event.files[0];
            // Check if the file already exists
            var fileExists = this.documents.some(function (document) {
                if (document.docFile) {
                    return true;
                }
                else {
                    return false;
                }
            });
            if (fileExists) {
                this.messageService.showWarningMessage(this.getTranslateKey('warningOnFileExists'));
            }
            else {
                _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_21__["FileUtils"].getFileContentAsBase64(file_1, function (fileContent) {
                    if (fileContent) {
                        _this.documentExists = true;
                        var document_1 = {
                            docFile: fileContent,
                            docName: file_1.name,
                            docPublicationDate: new Date()
                        };
                        _this.documents = __spread(_this.documents, [document_1]);
                        _this.documentsAdded = document_1;
                        if (!!document_1.docName) {
                            _this.docName = document_1.docName;
                        }
                        _this.docFile = document_1.docFile;
                    }
                });
            }
            fileUploader.clear();
        }
    };
    FunctionalLocationFormComponent.prototype.downloadFiles = function () {
        _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_21__["FileUtils"].downloadFile(this.docFile, this.docName);
    };
    FunctionalLocationFormComponent.prototype.deleteDocuments = function () {
        var _this = this;
        var partialMessageKey = 'confirmDeleteSelectedDocuments';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                var docCode;
                if (_this.documents.length > 0) {
                    var temp = _this.documents[0].docCode;
                    if (!!temp) {
                        docCode = temp;
                        if (!!docCode) {
                            _this.documentsRemoved = {
                                docCode: docCode
                            };
                        }
                    }
                }
                docCode = '';
                _this.documents = [];
                _this.docName = '';
                _this.docFile = undefined;
                _this.selectedFunctionalLocationComponent.flComments = '';
                if (!!_this.document) {
                    _this.document.docPublicationDate = undefined;
                    _this.document.docDescription = '';
                    _this.document.docCode = undefined;
                    _this.document.docVersion = '';
                }
                _this.documentExists = false;
            }
        });
    };
    FunctionalLocationFormComponent.prototype.showStatus = function () {
        var _this = this;
        var overlayRef = this._overlayService.openWithPositionCenter({
            content: _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_23__["ObjectStatusComponent"],
            data: {
                currentAuthor: this.statusDTO.statusUser,
                currentDate: this.statusDTO.statusDate,
                currentStatus: {
                    label: this._formatSelectOption.transform(this.statusDTO.statusState, this.statusList),
                    value: this.statusDTO.statusState
                },
                nextStatuses: this.statusList
            }
        });
        overlayRef.afterClosed$.subscribe({
            next: function (event) {
                if (event.data) {
                    _this.selectedFunctionalLocationComponent.statusState = event.data;
                    _this.save();
                }
            }
        });
    };
    /*Tab Documentation Ends*/
    FunctionalLocationFormComponent.prototype.openGeneralTab = function () {
        this.currentTabId = this.tabGeneralId;
    };
    FunctionalLocationFormComponent.prototype.openStructureTab = function () {
        this.currentTabId = this.tabStructureId;
    };
    FunctionalLocationFormComponent.prototype.openDocumentationTab = function () {
        this.currentTabId = this.tabDocumentationId;
    };
    FunctionalLocationFormComponent.prototype.openModelsTab = function () {
        this.currentTabId = this.tabModelId;
    };
    FunctionalLocationFormComponent.prototype.openStatusUpdatesPopup = function () {
        this.showStatusUpdatesPopup = true;
    };
    FunctionalLocationFormComponent.prototype.openAssetsTab = function () {
        this.currentTabId = this.tabAssetsId;
    };
    FunctionalLocationFormComponent.prototype.isDisplayableOrderNumber = function () {
        if (this.selectedFunctionalLocationComponent) {
            return (this.sessionService.isSpecificDassault &&
                this.selectedFunctionalLocationComponent.flFunction === this.aWPropertiesConstants.FAMILY_FUNCTION_OME_KEY);
        }
        return false;
    };
    FunctionalLocationFormComponent.prototype.showConfigurationSheet = function () {
        if (this.selectedFunctionalLocationComponent) {
            return (this.selectedFunctionalLocationComponent.flFunction === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].FAMILY_FUNCTION_OME_KEY ||
                this.selectedFunctionalLocationComponent.flFunction === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_5__["AWPropertiesConstants"].FAMILY_FUNCTION_OME_COMPONENT_KEY);
        }
    };
    FunctionalLocationFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-functional-location-form',
            template: __webpack_require__(/*! ./functional-location-form.component.html */ "./src/app/main/engineering-management/functional-location-form/functional-location-form.component.html"),
            styles: [__webpack_require__(/*! ./functional-location-form.component.scss */ "./src/app/main/engineering-management/functional-location-form/functional-location-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_14__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_15__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_17__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_19__["TabService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_11__["DateService"],
            _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_13__["InputValidationService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_18__["SessionService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_10__["ConfirmationService"],
            _functional_location_search_functional_location_search_service__WEBPACK_IMPORTED_MODULE_26__["FunctionalLocationSearchService"],
            _functional_location_form_service__WEBPACK_IMPORTED_MODULE_27__["FunctionalLocationFormService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_16__["PropertiesService"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_24__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_9__["FormatSelectOptionPipe"]])
    ], FunctionalLocationFormComponent);
    return FunctionalLocationFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_20__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.html ***!
  \**********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"20\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <!-- <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".familyVariantCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [options]=\"familyVariants\"\r\n              [(ngModel)]=\"familyVariantCode\"\r\n              [disabled]=\"isReadOpenMode\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              (onChange)=\"onFamilyVariantSelected($event)\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOnlyForm }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".item\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" *ngIf=\"!isReadOpenMode\">\r\n            <div class=\"form-control-data\" (click)=\"openItemTableDialog()\">\r\n              {{ bireItemDTO.chapter }}\r\n              <span *ngIf=\"bireItemDTO.section\"> - {{ bireItemDTO.section }}</span>\r\n              <span *ngIf=\"bireItemDTO.subject\"> - {{ bireItemDTO.subject }}</span>\r\n              <span *ngIf=\"bireItemDTO.sheet\"> - {{ bireItemDTO.sheet }}</span>\r\n              <span *ngIf=\"bireItemDTO.marks\"> - {{ bireItemDTO.marks }}</span>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"\r\n                bireItemDTO.chapter &&\r\n                bireItemDTO.section &&\r\n                bireItemDTO.subject &&\r\n                bireItemDTO.sheet &&\r\n                bireItemDTO.marks\r\n              \"\r\n              class=\"btn-clear-wrapper\"\r\n            >\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"\r\n                  bireItemDTO.chapter = undefined;\r\n                  bireItemDTO.section = undefined;\r\n                  bireItemDTO.subject = undefined;\r\n                  bireItemDTO.sheet = undefined;\r\n                  bireItemDTO.marks = undefined;\r\n                  bireItemDTO.versionNumber = undefined\r\n                \"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"openItemTableDialog()\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-control form-control-with-modal\" *ngIf=\"isReadOpenMode\">\r\n            <div class=\"form-control-data\" (click)=\"openItemTableDialog()\">\r\n              {{ bireItemDTO.chapter }}\r\n              <span *ngIf=\"bireItemDTO.section\"> - {{ bireItemDTO.section }}</span>\r\n              <span *ngIf=\"bireItemDTO.subject\"> - {{ bireItemDTO.subject }}</span>\r\n              <span *ngIf=\"bireItemDTO.sheet\"> - {{ bireItemDTO.sheet }}</span>\r\n              <span *ngIf=\"bireItemDTO.marks\"> - {{ bireItemDTO.marks }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" color=\"primary\" type=\"button\" mat-raised-button (click)=\"onSave()\">\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-search-item\r\n  *ngIf=\"showItemTableDialog\"\r\n  [(display)]=\"showItemTableDialog\"\r\n  [searchObject]=\"bireItemDTO\"\r\n  (onValidated)=\"onSelectedItem($event)\"\r\n></aw-dialog-search-item>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.scss":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.scss ***!
  \**********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .separator {\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2Z1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS9wb3B1cHMvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcZnVuY3Rpb25hbC1sb2NhdGlvbi1mb3JtXFxwb3B1cHNcXGZhbWlseS12YXJpYW50LXBvcHVwLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9mdW5jdGlvbmFsLWxvY2F0aW9uLWZvcm0vcG9wdXBzL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxzdHlsZXNcXF9taXhpbnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQ3FCRSxhQUFhO0VBQ2IsbUJBQW1CO0VEbEJqQixtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9mdW5jdGlvbmFsLWxvY2F0aW9uLWZvcm0vcG9wdXBzL2ZhbWlseS12YXJpYW50LXBvcHVwLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwibWl4aW5zXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgLnNlcGFyYXRvciB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG59XHJcbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gVXRpbHMgLy9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuQG1peGluIGJ1dHRvbi1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yOiBudWxsKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgYm9yZGVyLWNvbG9yOiAkY29sb3I7XHJcbiAgY29sb3I6ICRjb2xvcjtcclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlcixcclxuICAmOm5vdCg6ZGlzYWJsZWQpLmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7XHJcbiAgICBib3JkZXItY29sb3I6IGlmKCRib3JkZXItY29sb3IgPT0gbnVsbCwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yKTtcclxuICAgIGNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LWNvbHVtbigpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LXJvdygpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dCgpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG4gIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICBjb2xvcjogaW5oZXJpdDtcclxuICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHBhZGRpbmc6IDJweCAwIDRweCAwO1xyXG5cclxuICB0cmFuc2l0aW9uOiBib3JkZXItYm90dG9tLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtZGlzYWJsZWQoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ7XHJcbiAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuQG1peGluIGlucHV0LWZvY3VzKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtaG92ZXIoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbn1cclxuXHJcbkBtaXhpbiBwbGFjZWhvbGRlciB7XHJcbiAgJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzZWFyY2gtY3JpdGVyaWEtY29udGFpbmVyIHtcclxuICAuYWR2YW5jZWQtY3JpdGVyaWEge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1jcml0ZXJpYS1mb290ZXIge1xyXG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xyXG4gICAgbWFyZ2luLXRvcDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcblxyXG4gICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXIge1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLW1vcmUge1xyXG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1tb3JlIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAvIDIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnNlYXJjaC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAgIC5hdy1idG4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc2VjdGlvbi1jb250YWluZXIge1xyXG4gIG1hcmdpbi10b3A6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDQpO1xyXG5cclxuICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLXRpdGxlIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICBsaW5lLWhlaWdodDogMS43NXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuXHJcbiAgICAmLnJlcXVpcmVkIHtcclxuICAgICAgQGluY2x1ZGUgZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQoKTtcclxuICAgICAgJjo6YWZ0ZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmFsZXJ0IHtcclxuICAgICAgICBjb2xvcjogJHJlZC1kYXJrMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgbGluZS1oZWlnaHQ6IDEuNzVyZW07XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcblxyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tY29udGVudCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LWNvbHVtbigpO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gICAgJiA+IGJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHRleHQtb3ZlcmZsb3ctaGlkZGVuIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gR3JpZCBmb3JtIGNvbnRyb2xzIC8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tY29udHJvbCB7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYk1lZGl1bVwiO1xyXG5cclxuICAmID4gaW5wdXQgKyBwLW1lc3NhZ2UgPiAudWktbWVzc2FnZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAmOmZvY3VzLFxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgICYgPiAuZm9ybS1jb250cm9sLWFjdGlvbnMge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBsZWZ0LCByZ2IoMjU1LCAyNTUsIDI1NSkgNjAlLCB0cmFuc3BhcmVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmZvcm0tY29udHJvbC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIGJvdHRvbTogMDtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMDtcclxuICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgLmF3LWljb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3M7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWJ0bixcclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcblxyXG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAmLmRpc2FibGVkIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYnRuIHtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuXHJcbiAgICAgICYuYXctY2FsZW5kYXIgLnVpLWlucHV0dGV4dCxcclxuICAgICAgJi5hdy1kcm9wZG93biAudWktZHJvcGRvd24sXHJcbiAgICAgICYuYXctaW5wdXQsXHJcbiAgICAgICYuYXctdGV4dGFyZWEge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWNhbGVuZGFyIHtcclxuICAgICAgLy8gRklYTUU6IGZpeCBhbiBVSSBpc3N1ZSBvbiBQcmltZU5HIGNhbGVuZGFyIGNvbXBvbmVudDsgdG8gcmVtb3ZlIHdoZW4gaXNzdWUgd2lsbCBiZSBmaXhlZCB1cHN0cmVhbVxyXG4gICAgICBvdmVyZmxvdzogaW5pdGlhbDtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWljb24ge1xyXG4gICAgICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1heC1oZWlnaHQ6IDMwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAzMHB4O1xyXG5cclxuICAgICYuZGlzYWJsZWQge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG5cclxuICAgICAgLmF3LWljb246bm90KC5yZWFkLW9ubHktbGluaykge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyAvLyBub25lXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1jb250cm9sLWRhdGEge1xyXG4gICAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICAgICAgcGFkZGluZzogMnB4IDAgNHB4IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1uaW1wLFxyXG4gICAgLmJ0bi1leHRlcm5hbC1saW5rLXdyYXBwZXIsXHJcbiAgICAuYnRuLWNsZWFyLXdyYXBwZXIsXHJcbiAgICAuYnRuLWZpbGUtdXBsb2FkLXdyYXBwZXIsXHJcbiAgICAuYnRuLXNlYXJjaC13cmFwcGVyIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1maWxlLXVwbG9hZC13cmFwcGVyIHtcclxuICAgICAgLmF3LWZpbGV1cGxvYWQge1xyXG4gICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG5cclxuICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnVpLWJ1dHRvbiB7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC51aS1idXR0b24taWNvbi1sZWZ0IHtcclxuICAgICAgICAgICAgZGlzcGxheTogY29udGVudHM7XHJcbiAgICAgICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogaW5pdGlhbDtcclxuICAgICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAgICY6OmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgY29udGVudDogXCJcXGU5MzRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1jbGVhciB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1zZWFyY2gge1xyXG4gICAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLXJhZGlvYnV0dG9uIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgJiA+IC5hdy1yYWRpb2J1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogY2FsYygyICogI3skbWFyZ2luLXZhbHVlfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtZ2VuZXJpYyB7XHJcbiAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcblxyXG4gICYgPiBhIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmID4gLmFsZXJ0IHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNXJlbTtcclxuXHJcbiAgICAmLmFsZXJ0LS1ub2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MTtcclxuICAgIH1cclxuXHJcbiAgICAmLmFsZXJ0LS1vayB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0td2FybmluZyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQge1xyXG4gICY6OmFmdGVyIHtcclxuICAgIGNvbG9yOiAkcmVkLWRhcmsxO1xyXG4gICAgY29udGVudDogXCIqXCI7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtNHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtY2FsZW5kYXIge1xyXG4gICYudWktaW5wdXR3cmFwcGVyLWZvY3VzIHtcclxuICAgIC51aS1jYWxlbmRhciAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC51aS1jYWxlbmRhciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgJjpkaXNhYmxlZCB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1sYWJlbCB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1jaGVja2JveCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGhlaWdodDogJGNoZWNrYm94LWhlaWdodDtcclxuICB3aWR0aDogJGNoZWNrYm94LWhlaWdodDtcclxuXHJcbiAgLnVpLWNoa2JveCB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktY2hrYm94LWJveCB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgIGNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgICYudWktc3RhdGUtZGlzYWJsZWQge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWFjdGl2ZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWRyb3Bkb3duIHtcclxuICAudWktZHJvcGRvd24ge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi1sYWJlbCB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtZm9jdXMge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWNsZWFyLWljb24sXHJcbiAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1jbGVhci1pY29uIHtcclxuICAgICAgcmlnaHQ6IDEuNzVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tbGFiZWwge1xyXG4gICAgICBAaW5jbHVkZSB0ZXh0LW92ZXJmbG93LWhpZGRlbigpO1xyXG5cclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIgKiAxLjc1cmVtKTtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZml4ZWQtd2lkdGggLnVpLWRyb3Bkb3duIHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1maWxldXBsb2FkIHtcclxuICBAZXh0ZW5kIC5hdy1idG47XHJcblxyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC51aS1maWxldXBsb2FkLWNob29zZSB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgIHBhZGRpbmc6IDAgJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAudWktYnV0dG9uLWljb24tbGVmdCB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWJ1dHRvbi10ZXh0IHtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1pbnB1dCgpIHtcclxuICBAaW5jbHVkZSBpbnB1dCgpO1xyXG5cclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgJjpkaXNhYmxlZCB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1kaXNhYmxlZCgpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpmb2N1cyB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtdGV4dGFyZWEge1xyXG4gIEBpbmNsdWRlIGdyaWQtaW5wdXQoKTtcclxuXHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWluLWhlaWdodDogJGZvcm0tY29udHJvbC1oZWlnaHQ7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxufVxyXG5cclxuQG1peGluIGdyaWQtcmFkaW9idXR0b24ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBoZWlnaHQ6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcbiAgd2lkdGg6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcblxyXG4gIC51aS1yYWRpb2J1dHRvbiB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktcmFkaW9idXR0b24tYm94IHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICBjb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1hY3RpdmUge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuXHJcbiAgICAgICAgLnVpLXJhZGlvYnV0dG9uLWljb24ge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBjYWxlbmRhci1wYW5lbCB7XHJcbiAgLnVpLWRhdGVwaWNrZXI6bm90KC51aS1kYXRlcGlja2VyLWlubGluZSkge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICAgIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZHJvcGRvd24tcGFuZWwge1xyXG4gIC51aS1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICBib3JkZXI6ICRib3JkZXItd2lkdGggJGJvcmRlci1zdHlsZSAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWl0ZW1zLXdyYXBwZXIgLnVpLWRyb3Bkb3duLWxpc3Qge1xyXG4gICAgICAudWktZHJvcGRvd24taXRlbSB7XHJcbiAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBwYWRkaW5nOiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYudWktc3RhdGUtaGlnaGxpZ2h0IHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.ts":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.ts ***!
  \********************************************************************************************************************/
/*! exports provided: FamilyVariantPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilyVariantPopupFormComponent", function() { return FamilyVariantPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _family_variant_popup_form_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./family-variant-popup-form.service */ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FamilyVariantPopupFormComponent = /** @class */ (function (_super) {
    __extends(FamilyVariantPopupFormComponent, _super);
    function FamilyVariantPopupFormComponent(familyVariantPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'FunctionalLocationFormComponent') || this;
        _this.familyVariantPopupFormService = familyVariantPopupFormService;
        _this.messageService = messageService;
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.findBireVariantVersion = [];
        _this.findBireVariantVersionFilter = [];
        _this.loadfamilyVariant();
        _this.familyCode = undefined;
        _this.familyVariantCode = undefined;
        _this.familyVariants = [];
        _this.onAdded = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.familyvariantItems = undefined;
        _this.bireItemDTO = {
            familyCode: !!_this.familyCode ? _this.familyCode : '',
            variantCode: !!_this.variantCode ? _this.variantCode : '',
            chapter: '',
            section: '',
            subject: '',
            sheet: '',
            marks: '',
            structureType: !!_this.structureType ? _this.structureType : ''
        };
        return _this;
        // this.chapter = undefined;
        // this.section = undefined;
        // this.subject = undefined;
        // this.sheet = undefined;
        // this.marks = undefined;
    }
    FamilyVariantPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.object) {
            this.updateOpenMode(this.componentData.openMode);
            this.familyVariantCode = this.componentData.object.familyVariantCode;
            if (this.componentData.object.bireItemDTOId) {
                this.bireItemDTO = this.componentData.object.bireItemDTOId;
            }
            if (!!this.componentData.object.flFunction) {
                this.flFunction = this.componentData.object.flFunction;
            }
        }
    };
    // To bind drop-down
    FamilyVariantPopupFormComponent.prototype.loadfamilyVariant = function () {
        var _this = this;
        this.familyVariantPopupFormService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe(function (results) {
            _this.findBireVariantVersion = results;
            var list = [];
            results.forEach(function (element) {
                list.push(element.labelValue);
            });
            _this.familyVariants = list;
            // To fetch the value of familyCode and VariantCode
            if (_this.familyVariantCode) {
                _this.familyCode = results.filter(function (x) { return x.labelValue.value === _this.familyVariantCode; })[0].bireVariantVersionDTO.familyCode;
                var strType = results.filter(function (x) { return x.labelValue.value === _this.familyVariantCode; })[0].bireVariantVersionDTO
                    .structureType;
                if (!!strType) {
                    _this.structureType = strType;
                }
                var varCode = results.filter(function (x) { return x.labelValue.value === _this.familyVariantCode; })[0].bireVariantVersionDTO
                    .variantCode;
                if (!!varCode) {
                    _this.variantCode = varCode;
                }
                if (!!_this.familyvariantItems) {
                    _this.familyvariantItems.familyVariantCode = _this.variantCode;
                }
            }
        });
    };
    // To split the value of family-variant, as they are used in search parameter
    FamilyVariantPopupFormComponent.prototype.onFamilyVariantSelected = function (event) {
        this.findBireVariantVersionFilter = [];
        this.familyCode = undefined;
        this.structureType = undefined;
        this.variantCode = undefined;
        this.bireItemDTO.chapter = '';
        this.bireItemDTO.section = '';
        this.bireItemDTO.sheet = '';
        this.bireItemDTO.subject = '';
        this.bireItemDTO.marks = '';
        // this.bireItemDTO = {
        //   familyCode: undefined,
        //   variantCode: undefined,
        //   chapter: '',
        //   section: '',
        //   subject: '',
        //   sheet: '',
        //   marks: '',
        //   structureType: undefined
        // };
        if (event.value) {
            this.findBireVariantVersionFilter = this.findBireVariantVersion.filter(function (x) { return x.labelValue.value === event.value; });
            this.familyCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.familyCode;
            this.structureType = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.structureType;
            this.variantCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.variantCode;
        }
    };
    FamilyVariantPopupFormComponent.prototype.onCancel = function () {
        this.display = false;
    };
    FamilyVariantPopupFormComponent.prototype.onSave = function () {
        var _this = this;
        if (!this.familyVariantCode || this.familyVariantCode.trim().length === 0) {
            this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');
        }
        else {
            this.familyvariantItems = {
                bireItemDTOId: this.bireItemDTO,
                item: this.bireItemDTO.chapter +
                    '-' +
                    this.bireItemDTO.section +
                    '-' +
                    this.bireItemDTO.subject +
                    '-' +
                    this.bireItemDTO.sheet +
                    '-' +
                    this.bireItemDTO.marks
            };
            // tslint:disable-next-line:max-line-length
            var selectedVariantCode = this.findBireVariantVersion.filter(function (x) { return !!_this.familyVariantCode && x.labelValue.value.includes(_this.familyVariantCode); })[0];
            this.familyvariantItems.familyVariantCode = selectedVariantCode.labelValue.value;
            if (this.isNewFunctionalLocation) {
                this.onAdded.emit(this.familyvariantItems);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.familyvariantItems);
                this.display = false;
            }
        }
    };
    // To open item dialog
    FamilyVariantPopupFormComponent.prototype.openItemTableDialog = function () {
        if (!this.isReadOpenMode) {
            this.showItemTableDialog = true;
        }
    };
    FamilyVariantPopupFormComponent.prototype.onSelectedItem = function (item) {
        if (!!item &&
            !!item.chapter &&
            !!item.section &&
            !!item.subject &&
            !!item.sheet &&
            !!item.marks &&
            !!item.structureType) {
            this.familyCode = item.familyCode;
            this.structureType = item.structureType;
            this.variantCode = item.variantCode;
            this.familyVariantCode = item.familyCode + "-" + item.variantCode;
            this.bireItemDTO = {
                familyCode: item.familyCode,
                variantCode: item.variantCode,
                chapter: item.chapter,
                section: item.section,
                subject: item.subject,
                sheet: item.sheet,
                marks: item.marks,
                structureType: item.structureType
            };
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'onSelectedItem', 'item && this.structureType');
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], FamilyVariantPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FamilyVariantPopupFormComponent.prototype, "familyvariantItems", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FamilyVariantPopupFormComponent.prototype, "onAdded", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FamilyVariantPopupFormComponent.prototype, "onUpdate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], FamilyVariantPopupFormComponent.prototype, "isNewFunctionalLocation", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], FamilyVariantPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    FamilyVariantPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-family-variant-popup-form',
            template: __webpack_require__(/*! ./family-variant-popup-form.component.html */ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.html"),
            styles: [__webpack_require__(/*! ./family-variant-popup-form.component.scss */ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_family_variant_popup_form_service__WEBPACK_IMPORTED_MODULE_4__["FamilyVariantPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"]])
    ], FamilyVariantPopupFormComponent);
    return FamilyVariantPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.service.ts":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.service.ts ***!
  \******************************************************************************************************************/
/*! exports provided: FamilyVariantPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FamilyVariantPopupFormService", function() { return FamilyVariantPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FamilyVariantPopupFormService = /** @class */ (function (_super) {
    __extends(FamilyVariantPopupFormService, _super);
    function FamilyVariantPopupFormService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    // To populate values into family-variant dropdown
    FamilyVariantPopupFormService.prototype.findBireVariantVersionsByFamilyFunctionAlternative = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireVariantVersionsByFamilyFunctionAlternative);
    };
    // To get all items by family-variant
    FamilyVariantPopupFormService.prototype.findBireItemsBySearchCriteria = function (familyCode, structureType, variantCode) {
        var params = {
            bireItemDTOCriteria: {
                familyCode: familyCode,
                structureType: structureType,
                variantCode: variantCode
            },
            pnCode: undefined,
            attribute: undefined
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteria, params);
    };
    FamilyVariantPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], FamilyVariantPopupFormService);
    return FamilyVariantPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.html ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".familyVariant\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [options]=\"familyVariants\"\r\n              [(ngModel)]=\"familyVariantCode\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n              (onChange)=\"onFamilyVariantSelected($event)\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".modelCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOnlyForm }\">\r\n            <div class=\"form-control-data\" (click)=\"showDialog()\">{{ model.bireModelDTO.modelCode }}</div>\r\n\r\n            <div *ngIf=\"model.bireModelDTO.modelCode\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"\r\n                  model.bireModelDTO.modelCode = undefined;\r\n                  model.bireModelDTO.modelName = undefined;\r\n                  model.bireModelDTO.ratingCode = undefined;\r\n                  model.ratingName = undefined\r\n                \"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showDialog()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div *ngIf=\"model.bireModelDTO.modelName\" class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".modelName\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              name=\"modelName\"\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [(ngModel)]=\"model.bireModelDTO.modelName\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div *ngIf=\"model.bireModelDTO.ratingCode\" class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".ratingCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              name=\"ratingCode\"\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [(ngModel)]=\"model.bireModelDTO.ratingCode\"\r\n              disabled=\"true\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div *ngIf=\"model.ratingName\" class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".ratingName\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"model.ratingName\" disabled=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"validate()\"\r\n      [disabled]=\"\r\n        !familyVariantCode ||\r\n        familyVariantCode.length === 0 ||\r\n        !model.bireModelDTO.modelCode ||\r\n        model.bireModelDTO.modelCode.length === 0\r\n      \"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-search-model\r\n  *ngIf=\"displayModelPopin\"\r\n  [(display)]=\"displayModelPopin\"\r\n  [model-code]=\"this.model.modelCode\"\r\n  [family-code]=\"this.model.bireModelDTO.familyCode\"\r\n  [variant-code]=\"this.model.bireModelDTO.variantCode\"\r\n  (onSelected)=\"setSelectedCode($event, 'model')\"\r\n></aw-dialog-search-model>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.ts":
/*!****************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.ts ***!
  \****************************************************************************************************************************/
/*! exports provided: ModelPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModelPopupFormComponent", function() { return ModelPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _model_popup_form_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model-popup-form.service */ "./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ModelPopupFormComponent = /** @class */ (function (_super) {
    __extends(ModelPopupFormComponent, _super);
    function ModelPopupFormComponent(modelPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'DialogModelComponent') || this;
        _this.modelPopupFormService = modelPopupFormService;
        _this.messageService = messageService;
        _this.onValidated = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayModelPopin = false;
        _this.loadfamilyVariant();
        return _this;
    }
    ModelPopupFormComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.model) {
            this.model = { bireModelDTO: {}, ratingName: undefined };
        }
        else {
            this.modelPopupFormService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe(function (results) {
                _this.familyVariantCode = _this.findBireVariantVersion.filter(function (x) {
                    return x.bireVariantVersionDTO.familyCode === _this.model.bireModelDTO.familyCode &&
                        x.bireVariantVersionDTO.variantCode === _this.model.bireModelDTO.variantCode;
                })[0].labelValue.value;
            });
        }
    };
    // To bind drop-down
    ModelPopupFormComponent.prototype.loadfamilyVariant = function () {
        var _this = this;
        this.modelPopupFormService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe(function (results) {
            _this.findBireVariantVersion = results;
            var list = [];
            results.forEach(function (element) {
                list.push(element.labelValue);
            });
            _this.familyVariants = list;
        });
    };
    ModelPopupFormComponent.prototype.onFamilyVariantSelected = function (event) {
        this.model = { bireModelDTO: {}, ratingName: undefined };
        if (event.value) {
            this.findBireVariantVersionFilter = this.findBireVariantVersion.filter(function (x) { return x.labelValue.value === event.value; });
            this.model.bireModelDTO.familyCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.familyCode;
            this.model.bireModelDTO.structureType = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.structureType;
            this.model.bireModelDTO.variantCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.variantCode;
        }
    };
    ModelPopupFormComponent.prototype.showDialog = function () {
        this.displayModelPopin = true;
    };
    ModelPopupFormComponent.prototype.setSelectedCode = function (returnedObject, type) {
        if (type === 'model') {
            this.model.bireModelDTO.modelCode = returnedObject.modelCode;
            this.model.bireModelDTO.modelName = returnedObject.modelName;
            this.model.bireModelDTO.ratingCode = returnedObject.ratingCode;
            this.model.ratingName = returnedObject.ratingName;
            this.displayModelPopin = false;
        }
    };
    ModelPopupFormComponent.prototype.cancel = function () {
        this.display = false;
    };
    ModelPopupFormComponent.prototype.validate = function () {
        if (!this.familyVariantCode ||
            this.familyVariantCode.trim().length === 0 ||
            (!this.model.bireModelDTO.modelCode || this.model.bireModelDTO.modelCode.trim().length === 0)) {
            this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');
        }
        else {
            this.onValidated.emit(this.model);
            this.display = false;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ModelPopupFormComponent.prototype, "model", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ModelPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ModelPopupFormComponent.prototype, "onValidated", void 0);
    ModelPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-model-popup-form',
            template: __webpack_require__(/*! ./model-popup-form.component.html */ "./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_model_popup_form_service__WEBPACK_IMPORTED_MODULE_4__["ModelPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"]])
    ], ModelPopupFormComponent);
    return ModelPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.service.ts":
/*!**************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.service.ts ***!
  \**************************************************************************************************************************/
/*! exports provided: ModelPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModelPopupFormService", function() { return ModelPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ModelPopupFormService = /** @class */ (function (_super) {
    __extends(ModelPopupFormService, _super);
    function ModelPopupFormService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    ModelPopupFormService.prototype.displayPopup = function (display) {
        this.displayDialog = display;
    };
    ModelPopupFormService.prototype.findBireVariantVersionsByFamilyFunctionAlternative = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireVariantVersionsByFamilyFunctionAlternative);
    };
    ModelPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], ModelPopupFormService);
    return ModelPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-search/functional-location-search.component.html":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-search/functional-location-search.component.html ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"openNewFunctionalLocation()\" *ngIf=\"hasUpdateAccessRight\">\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <div class=\"column\">\r\n                <div class=\"row search-criteria-header\">\r\n                  <i\r\n                    class=\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\"\r\n                    aria-hidden=\"true\"\r\n                    pTooltip=\"{{ 'global.reset' | translate }}\"\r\n                    tooltipPosition=\"top\"\r\n                    (click)=\"resetSearchCriteria()\"\r\n                  ></i>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group flex--3\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".familyVariant\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"familyVariants\"\r\n                        [(ngModel)]=\"familyVariant\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group flex--3\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".flCode\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.bidoFlDTOCriteria.flCode\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group flex--3\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".flFunction\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"flFunctions\"\r\n                        [(ngModel)]=\"searchObject.bidoFlDTOCriteria.flFunction\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        (onChange)=\"onFlFunctionsSelected()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group flex--3\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".flDescription\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.bidoFlDTOCriteria.flDescription\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group flex--3\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".model\" | translate }} </label>\r\n\r\n                    <div class=\"form-control form-control-with-btn\" [ngClass]=\"{ disabled: isReadOpenMode }\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"this.searchObject.modelCode\" />\r\n                      <i class=\"fa fa-fw fa-search aw-icon\" aria-hidden=\"true\" (click)=\"showDialog()\"></i>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".onlyMel\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-checkbox\r\n                        class=\"aw-checkbox\"\r\n                        binary=\"true\"\r\n                        [(ngModel)]=\"searchObject.bidoFlDTOCriteria.flIsMel\"\r\n                      ></p-checkbox>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"showConfigurationSheet()\" class=\"form-group\">\r\n                    <label class=\"form-label\">\r\n                      {{ componentData.componentId + \".isInConfigurationSheet\" | translate }}\r\n                    </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-checkbox\r\n                        class=\"aw-checkbox\"\r\n                        binary=\"true\"\r\n                        [(ngModel)]=\"searchObject.bidoFlDTOCriteria.flIsInConfSheet\"\r\n                      ></p-checkbox>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row search-criteria-footer\">\r\n                  <div class=\"search-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      class=\"btn-with-spinner\"\r\n                      (click)=\"search()\"\r\n                      color=\"primary\"\r\n                      appKeyPress\r\n                      [keyCode]=\"'Enter'\"\r\n                      (keyPress)=\"search()\"\r\n                    >\r\n                      <span *ngIf=\"isLoading\" class=\"lds-hourglass\"></span>\r\n                      {{ \"global.toSearch\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{\r\n                    resultsTableDataSource ? resultsTableDataSource.dataCount : 0\r\n                  }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <a-table [dataSource]=\"resultsTableDataSource\">\r\n                <ng-template tableActionsDef>\r\n                  <button\r\n                    *ngIf=\"\r\n                      hasOneSelectedDataAndTypeOfHardpointOrOME() &&\r\n                      resultsTableDataSource.dataSelection[0].flOrderNumber > 1\r\n                    \"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"decOrderNumber()\"\r\n                  >\r\n                    {{ componentData.componentId + \".up\" | translate }}\r\n                  </button>\r\n                  <button\r\n                    *ngIf=\"hasOneSelectedDataAndTypeOfHardpointOrOME()\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"incOrderNumber()\"\r\n                  >\r\n                    {{ componentData.componentId + \".down\" | translate }}\r\n                  </button>\r\n                  <button\r\n                    *ngIf=\"!resultsTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"exportTable()\"\r\n                  >\r\n                    {{ \"global.export\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"hasManageAccessRight && resultsTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    color=\"warn\"\r\n                    mat-raised-button\r\n                    (click)=\"deleteSelectedFunctionalLocation()\"\r\n                  >\r\n                    {{ \"global.delete\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"resultsTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"openSelectedFunctionalLocation()\"\r\n                  >\r\n                    {{ \"global.open\" | translate }}\r\n                  </button>\r\n                </ng-template>\r\n                <ng-template columnDef=\"flCode\" let-rowData=\"rowData\">\r\n                  <a (click)=\"openFunctionalLocationLink(rowData)\"> {{ rowData.flCode }} </a>\r\n                </ng-template>\r\n                <ng-template columnDef=\"flIsMel\" let-rowData=\"rowData\">\r\n                  <i *ngIf=\"rowData.flIsMel\" class=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <aw-dialog-search-model\r\n    *ngIf=\"displayModelPopin\"\r\n    [(display)]=\"displayModelPopin\"\r\n    [model-code]=\"this.searchObject.modelCode\"\r\n    (onSelected)=\"setSelectedCode($event, 'model')\"\r\n  ></aw-dialog-search-model>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/functional-location-search/functional-location-search.component.ts":
/*!****************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/functional-location-search/functional-location-search.component.ts ***!
  \****************************************************************************************************************/
/*! exports provided: FunctionalLocationSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FunctionalLocationSearchComponent", function() { return FunctionalLocationSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/utils/object-utils */ "./src/app/shared/utils/object-utils.ts");
/* harmony import */ var _functional_location_search_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./functional-location-search.service */ "./src/app/main/engineering-management/functional-location-search/functional-location-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var FunctionalLocationSearchComponent = /** @class */ (function (_super) {
    __extends(FunctionalLocationSearchComponent, _super);
    function FunctionalLocationSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, functionalLocationSearchService, propertiesService, exportService, confirmationService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.sessionService = sessionService;
        _this.functionalLocationSearchService = functionalLocationSearchService;
        _this.propertiesService = propertiesService;
        _this.exportService = exportService;
        _this.confirmationService = confirmationService;
        _this.propertyValueId = 1092;
        _this.aWPropertiesConstants = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__["AWPropertiesConstants"];
        _this.isLoading = false;
        _this.familyVariants = [];
        _this.flFunctions = [];
        _this.searchObject = {
            bidoFlDTOCriteria: {},
            familyVariantCode: undefined,
            modelCode: undefined
        };
        _this.isReadOnlyForm = false;
        _this.displayModelPopin = false;
        _this.loadfamilyVariant();
        _this.loadFlFunction();
        _this.showFunctionalLocationModelDialog = false;
        _this.resultsTableExportName = 'functionLocation-search-list';
        _this.initResultsTableDataSource();
        return _this;
    }
    FunctionalLocationSearchComponent_1 = FunctionalLocationSearchComponent;
    FunctionalLocationSearchComponent.prototype.getComponentName = function () {
        return 'FunctionalLocationSearchComponent';
    };
    // To bind dropdown family variant
    FunctionalLocationSearchComponent.prototype.loadfamilyVariant = function () {
        var _this = this;
        this.functionalLocationSearchService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe(function (results) {
            var list = [];
            results.forEach(function (element) {
                list.push(element.labelValue);
            });
            // this.searchObject.familyVariantCode = list[0].value;
            _this.familyVariants = list || [];
        });
    };
    // To bind dropdown function
    FunctionalLocationSearchComponent.prototype.loadFlFunction = function () {
        var _this = this;
        Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])({
            flFunctions: this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].ITEM_FAMILY_CODE_MAP),
            authorizedFunctions: this.functionalLocationSearchService.fetchPropertyValuesTableData(FunctionalLocationSearchComponent_1.PROPERTY_ID)
        }).subscribe(function (results) {
            var flFunctions = results.flFunctions || [];
            var authorizedFunctions = results.authorizedFunctions.find(function (cpt) { return "" + cpt.enPropertiesValueId === "" + _this.propertyValueId; });
            _this.flFunctions = flFunctions.filter(function (fl) {
                return authorizedFunctions &&
                    authorizedFunctions.propertiesValue &&
                    authorizedFunctions.propertiesValue.split(';').find(function (s) { return s === fl.value; });
            });
        });
    };
    FunctionalLocationSearchComponent.prototype.showDialog = function () {
        this.displayModelPopin = true;
        this.searchObject = this.searchObject;
    };
    /*
       <summary>Set selected customer code in corresponding input box</summary>
       */
    FunctionalLocationSearchComponent.prototype.setSelectedCode = function (returnedObject, type) {
        if (type === 'model') {
            this.searchObject.modelCode = returnedObject.modelCode;
            this.displayModelPopin = false;
        }
    };
    FunctionalLocationSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
    };
    FunctionalLocationSearchComponent.prototype.initResultsTableDataSource = function () {
        var _this = this;
        var defaultSortMethod = function (data1, data2, field) {
            var value1;
            var value2;
            value1 = data1[field];
            value2 = data2[field];
            var result;
            if (field === 'flOrderNumber') {
                result = _this.sortByOrderNumber(data1, data2);
            }
            else {
                if (!_shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_16__["ObjectUtils"].isDefined(value1) && _shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_16__["ObjectUtils"].isDefined(value2)) {
                    result = -1;
                }
                else if (_shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_16__["ObjectUtils"].isDefined(value1) && !_shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_16__["ObjectUtils"].isDefined(value2)) {
                    result = 1;
                }
                else if (!_shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_16__["ObjectUtils"].isDefined(value1) && !_shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_16__["ObjectUtils"].isDefined(value2)) {
                    result = 0;
                }
                else if (typeof value1 === 'string' && typeof value2 === 'string') {
                    result = value1.localeCompare(value2);
                }
                else {
                    result = JSON.stringify(value1).localeCompare(JSON.stringify(value2));
                }
            }
            return result;
        };
        this.resultsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'flCode',
                    translateKey: this.getTranslateKey('flCode'),
                    width: '15%'
                },
                {
                    field: 'flDescription',
                    translateKey: this.getTranslateKey('flDescription'),
                    width: '25%'
                },
                {
                    field: 'flFunction',
                    translateKey: this.getTranslateKey('flFunction'),
                    width: '15%'
                },
                {
                    field: 'flIsMel',
                    translateKey: this.getTranslateKey('flIsMel'),
                    width: '7%'
                },
                {
                    field: 'flNominalQuantity',
                    translateKey: this.getTranslateKey('flNominalQuantity'),
                    width: '14%'
                },
                {
                    field: 'flRequiredQuantity',
                    translateKey: this.getTranslateKey('flRequiredQuantity'),
                    width: '14%'
                },
                {
                    field: 'flOrderNumber',
                    translateKey: this.getTranslateKey('flOrderNumber'),
                    width: '10%'
                }
            ],
            data: [],
            itemsPerPage: 30,
            customSort: defaultSortMethod
        });
    };
    FunctionalLocationSearchComponent.prototype.resetSearchCriteria = function () {
        this.searchObject = {
            bidoFlDTOCriteria: {},
            familyVariantCode: undefined,
            modelCode: undefined
        };
        this.loadfamilyVariant();
    };
    /* Search functional location */
    FunctionalLocationSearchComponent.prototype.search = function () {
        this.loadFunctionalLocations();
    };
    // To bind the table function locations
    FunctionalLocationSearchComponent.prototype.loadFunctionalLocations = function (bidoFlCriteria) {
        var _this = this;
        var criteria;
        if (bidoFlCriteria) {
            criteria = {
                bidoFlDTOCriteria: bidoFlCriteria
            };
        }
        else {
            criteria = {
                bidoFlDTOCriteria: this.searchObject.bidoFlDTOCriteria,
                familyVariantCode: this.familyVariant ? [this.familyVariant] : undefined,
                modelCode: this.searchObject.modelCode
            };
        }
        this.isLoading = true;
        this.functionalLocationSearchService.searchFunctionalLocationList(criteria).subscribe(function (results) {
            if (results) {
                results.list.forEach(function (result) {
                    if (result.flFunction &&
                        _this.flFunctions.filter(function (flFunctions) { return flFunctions.value === result.flFunction; })[0]) {
                        result.flFunction = _this.flFunctions.filter(function (flFunctions) { return flFunctions.value === result.flFunction; })[0].label;
                    }
                });
                if (criteria.bidoFlDTOCriteria.flFunction &&
                    (_this.isHardpoint(criteria.bidoFlDTOCriteria.flFunction) ||
                        _this.isOMESpecifDassault(criteria.bidoFlDTOCriteria.flFunction))) {
                    var tmpNullOrder = results.list.filter(function (fl) { return !fl.flOrderNumber && fl.flOrderNumber !== 0; });
                    results.list = results.list.filter(function (fl) { return !!fl.flOrderNumber; });
                    results.list.sort(_this.sortByOrderNumber);
                    results.list = results.list.concat(tmpNullOrder);
                }
                _this.resultsTableDataSource.setData(results.list);
            }
            _this.isLoading = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFLResults'));
            _this.isLoading = false;
        });
    };
    FunctionalLocationSearchComponent.prototype.sortByOrderNumber = function (fl1, fl2) {
        if (fl1 && fl1.flOrderNumber) {
            if (fl2 && fl2.flOrderNumber) {
                return fl1.flOrderNumber > fl2.flOrderNumber ? 1 : -1;
            }
        }
        return 0;
    };
    FunctionalLocationSearchComponent.prototype.openFunctionalLocationLink = function (functionLocation) {
        if (functionLocation) {
            var matchingFlFunction = this.flFunctions.find(function (flFunction) { return flFunction.label === functionLocation.flFunction; });
            var selectedObjectId = {
                flCode: functionLocation.flCode,
                flDescription: functionLocation.flDescription,
                flFunction: matchingFlFunction ? matchingFlFunction.value : undefined,
                flIsMel: functionLocation.flIsMel,
                flNominalQuantity: functionLocation.flNominalQuantity,
                flRequiredQuantity: functionLocation.flRequiredQuantity,
                flComments: functionLocation.flComments,
                flDelayCategory: functionLocation.flDelayCategory
            };
            this.openFunctionalLocation(selectedObjectId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Read);
        }
    };
    /* Open Functional Location form for selected rows in consult mode */
    FunctionalLocationSearchComponent.prototype.openSelectedFunctionalLocation = function () {
        var _this = this;
        this.resultsTableDataSource.dataSelection.forEach(function (functionLocation) {
            if (functionLocation) {
                var matchingFlFunction = _this.flFunctions.find(function (flFunction) { return flFunction.label === functionLocation.flFunction; });
                var selectedObjectId = {
                    flCode: functionLocation.flCode,
                    flDescription: functionLocation.flDescription,
                    flFunction: matchingFlFunction ? matchingFlFunction.value : undefined,
                    flIsMel: functionLocation.flIsMel,
                    flNominalQuantity: functionLocation.flNominalQuantity,
                    flRequiredQuantity: functionLocation.flRequiredQuantity,
                    flComments: functionLocation.flComments,
                    flDelayCategory: functionLocation.flDelayCategory
                };
                _this.openFunctionalLocation(selectedObjectId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Read);
            }
        });
    };
    /* Delete selected functional location */
    FunctionalLocationSearchComponent.prototype.deleteSelectedFunctionalLocation = function () {
        var _this = this;
        if (this.resultsTableDataSource.hasDataSelection) {
            this.confirmationService.confirmDelete({
                messageKey: 'global.deleteConfirmationMsg',
                accept: function () {
                    var selectedBireFunctionalLocationDTOId = new Array();
                    _this.resultsTableDataSource.dataSelection.forEach(function (functionLocation) {
                        if (functionLocation) {
                            if (!!functionLocation.flCode) {
                                var bireFunctionalLocationDTOId = {
                                    flCode: functionLocation.flCode
                                };
                                selectedBireFunctionalLocationDTOId.push(bireFunctionalLocationDTOId);
                            }
                            else {
                                _super.prototype.throwUnboundLocalError.call(_this, 'deleteSelectedFunctionalLocation', 'functionLocation.flCode');
                            }
                        }
                    });
                    _this.functionalLocationSearchService.removeFunctionalLocation(selectedBireFunctionalLocationDTOId).subscribe(function (result) {
                        _this.messageService.showSuccessMessage('global.deleteSuccessMsg');
                    }, function () {
                        _this.messageService.showErrorMessage('global.deleteErrorMsg');
                    });
                    _this.resultsTableDataSource.deleteDataSelection();
                }
            });
        }
    };
    FunctionalLocationSearchComponent.prototype.exportTable = function () {
        if (!!this.componentData) {
            this.exportService.toExcel(this.resultsTableDataSource.sanitizedData.map(function (data) {
                var fieldsLess = __assign({}, data);
                delete fieldsLess.flFlCode;
                delete fieldsLess.flItems;
                delete fieldsLess.flDelayCategory;
                delete fieldsLess.flComments;
                delete fieldsLess.statusDate;
                delete fieldsLess.statusState;
                delete fieldsLess.statusUser;
                return fieldsLess;
            }), this.resultsTableExportName, this.componentData.componentId);
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'exportTable', 'this.componentData');
        }
    };
    // To open create popup for function location
    FunctionalLocationSearchComponent.prototype.openNewFunctionalLocation = function () {
        this.openFunctionalLocation(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Create);
    };
    // tslint:disable-next-line:no-any
    FunctionalLocationSearchComponent.prototype.openFunctionalLocation = function (objectId, openMode) {
        var labelKey = 'transaction.FunctionalLocationFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'FunctionalLocationFormComponent',
            objectId: objectId != undefined ? this.serializationService.serialize(objectId) : undefined,
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
        this.resultsTableDataSource.dataSelection = [];
    };
    FunctionalLocationSearchComponent.prototype.resetFilter = function () {
        this.globalFilterTxt = undefined;
    };
    FunctionalLocationSearchComponent.prototype.hasOneSelectedDataAndTypeOfHardpointOrOME = function () {
        if (this.flFunctions && this.resultsTableDataSource.dataSelectionCount === 1) {
            var flFunction = this.getFlFunctionValueFromLabel(this.resultsTableDataSource.dataSelection[0].flFunction);
            if (flFunction) {
                return !!((this.isHardpoint(flFunction) || this.isOMESpecifDassault(flFunction)) &&
                    this.resultsTableDataSource.dataSelection[0].flOrderNumber);
            }
        }
        return false;
    };
    FunctionalLocationSearchComponent.prototype.getFlFunctionValueFromLabel = function (flFunction) {
        var _this = this;
        return this.flFunctions
            .filter(function (fl) { return fl.label === _this.resultsTableDataSource.dataSelection[0].flFunction; })
            .map(function (fl) { return fl.value; })[0];
    };
    FunctionalLocationSearchComponent.prototype.isHardpoint = function (flFunction) {
        return flFunction === this.aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY;
    };
    FunctionalLocationSearchComponent.prototype.isOMESpecifDassault = function (flFunction) {
        return this.sessionService.isSpecificDassault && flFunction === this.aWPropertiesConstants.FAMILY_FUNCTION_OME_KEY;
    };
    FunctionalLocationSearchComponent.prototype.decOrderNumber = function () {
        if (this.hasOneSelectedDataAndTypeOfHardpointOrOME()) {
            var fl = __assign({}, this.resultsTableDataSource.dataSelection[0]);
            if (fl.flOrderNumber && fl.flOrderNumber > 1) {
                fl.flOrderNumber = fl.flOrderNumber - 1;
                this.updateFl(fl);
            }
        }
    };
    FunctionalLocationSearchComponent.prototype.incOrderNumber = function () {
        if (this.hasOneSelectedDataAndTypeOfHardpointOrOME()) {
            var fl = __assign({}, this.resultsTableDataSource.dataSelection[0]);
            if (fl.flOrderNumber) {
                fl.flOrderNumber = fl.flOrderNumber + 1;
                this.updateFl(fl);
            }
        }
    };
    FunctionalLocationSearchComponent.prototype.updateFl = function (fl) {
        var _this = this;
        var flFunction = this.flFunctions.find(function (_fl) { return _fl.label === _this.resultsTableDataSource.dataSelection[0].flFunction; });
        if (flFunction) {
            fl.flFunction = flFunction.value;
        }
        this.functionalLocationSearchService.createUpdateFl(fl).subscribe(function (_fl) {
            var bidoFlDTOCriteria = { flFunction: _this.getFlFunctionValueFromLabel(fl.flFunction) };
            _this.loadFunctionalLocations(bidoFlDTOCriteria);
        });
    };
    FunctionalLocationSearchComponent.prototype.showConfigurationSheet = function () {
        if (this.searchObject.bidoFlDTOCriteria) {
            return (this.searchObject.bidoFlDTOCriteria.flFunction === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__["AWPropertiesConstants"].FAMILY_FUNCTION_OME_KEY ||
                this.searchObject.bidoFlDTOCriteria.flFunction === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__["AWPropertiesConstants"].FAMILY_FUNCTION_OME_COMPONENT_KEY);
        }
        return false;
    };
    FunctionalLocationSearchComponent.prototype.onFlFunctionsSelected = function () {
        this.searchObject.bidoFlDTOCriteria.flIsInConfSheet = false;
    };
    var FunctionalLocationSearchComponent_1;
    FunctionalLocationSearchComponent.PROPERTY_ID = 1;
    FunctionalLocationSearchComponent = FunctionalLocationSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-functional-location-search',
            template: __webpack_require__(/*! ./functional-location-search.component.html */ "./src/app/main/engineering-management/functional-location-search/functional-location-search.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__["TabService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__["SessionService"],
            _functional_location_search_service__WEBPACK_IMPORTED_MODULE_17__["FunctionalLocationSearchService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__["PropertiesService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__["ExportService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_6__["ConfirmationService"]])
    ], FunctionalLocationSearchComponent);
    return FunctionalLocationSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_15__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form-mhiael.service.ts":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form-mhiael.service.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: MaintenanceProgramFormMhiaelService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaintenanceProgramFormMhiaelService", function() { return MaintenanceProgramFormMhiaelService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_mhiael_mass_updates_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/mhiael/mass-updates.api */ "./src/app/shared/api/mhiael/mass-updates.api.ts");
/* harmony import */ var _shared_http_abstract_aw_mhiael_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-mhiael-http */ "./src/app/shared/http/abstract-aw-mhiael-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var MaintenanceProgramFormMhiaelService = /** @class */ (function (_super) {
    __extends(MaintenanceProgramFormMhiaelService, _super);
    function MaintenanceProgramFormMhiaelService(http, appConfigService, massUpdatesApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.massUpdatesApi = massUpdatesApi;
        return _this;
    }
    MaintenanceProgramFormMhiaelService.prototype.updateInMassRMPSubObjectStatus = function (bireMaintenancePlan) {
        return _super.prototype.post.call(this, this.massUpdatesApi.updateInMassRMPObjectStatus, bireMaintenancePlan);
    };
    MaintenanceProgramFormMhiaelService.prototype.updateRMPCsv = function (bireMaintenancePlan) {
        return _super.prototype.post.call(this, this.massUpdatesApi.updateRMPCsv, bireMaintenancePlan);
    };
    MaintenanceProgramFormMhiaelService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_mhiael_mass_updates_api__WEBPACK_IMPORTED_MODULE_2__["MassUpdatesApi"]])
    ], MaintenanceProgramFormMhiaelService);
    return MaintenanceProgramFormMhiaelService;
}(_shared_http_abstract_aw_mhiael_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwMhiaelHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.html":
/*!**************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.html ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\" class=\"page-subtitle\">\r\n          {{ displayName }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"object-status\" *ngIf=\"currentMaintenancePlan.statusState\" (click)=\"showStatus()\">\r\n      {{ currentMaintenancePlan.statusState | formatSelectOption: status }}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button *ngIf=\"showCreateAmpButton\" type=\"button\" mat-raised-button (click)=\"createAmp()\">\r\n      {{ getComponentName() + \".createAMP\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"isReadOpenMode && !isConsultMode && hasUpdateAccessRight\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"editMaintenanceProgram()\"\r\n    >\r\n      {{ \"global.edit\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n      color=\"warn\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"cancelMaintenanceProgram()\"\r\n    >\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      class=\"btn-with-spinner\"\r\n      color=\"primary\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"save()\"\r\n    >\r\n      <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n      {{ \"global.save\" | translate }}\r\n    </button>\r\n    <button\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button *ngIf=\"showAssignAssetsButton\" type=\"button\" mat-menu-item (click)=\"assignAssets()\">\r\n        {{ componentData.componentId + \".assignAssets\" | translate }}\r\n      </button>\r\n\r\n      <button type=\"button\" mat-menu-item (click)=\"openStatusUpdatesPopup()\">\r\n        {{ \"global.updates\" | translate }}\r\n      </button>\r\n      <button *ngIf=\"showUpgradeButton\" type=\"button\" mat-menu-item (click)=\"checkUpgradeMaintenancePlan()\">\r\n        {{ componentData.componentId + \".upgrade\" | translate }}\r\n      </button>\r\n\r\n      <button\r\n        *ngIf=\"isReadOpenMode && !isCreateOpenMode && !isConsultMode\"\r\n        type=\"button\"\r\n        mat-menu-item\r\n        (click)=\"reloadMaintenanceProgram()\"\r\n      >\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n\r\n      <button mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n          <!-- Main information -->\r\n          <div class=\"grid-row\">\r\n            <div #mainDataAnchor class=\"grid-cell--4\" (click)=\"setSelectedAnchor('mainDataAnchor')\">\r\n              <div class=\"grid-cell grid-cell--container\" [ngClass]=\"{ active: isSelectedAnchor('mainDataAnchor') }\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ \"page.mainData\" | translate }}\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".code\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            maxlength=\"50\"\r\n                            [(ngModel)]=\"currentMaintenancePlan.planCode\"\r\n                            [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".name\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            maxlength=\"100\"\r\n                            [(ngModel)]=\"currentMaintenancePlan.planName\"\r\n                            [disabled]=\"isReadOpenMode || disableMpEdit\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".revisionNumber\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            maxlength=\"10\"\r\n                            [(ngModel)]=\"currentMaintenancePlan.planRevisionNumber\"\r\n                            [disabled]=\"isReadOpenMode || disableMpEdit\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".revisionDate\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-calendar\r\n                            showButtonBar=\"true\"\r\n                            [monthNavigator]=\"true\"\r\n                            [yearNavigator]=\"true\"\r\n                            [yearRange]=\"sessionService.calendarYearRange\"\r\n                            class=\"aw-calendar\"\r\n                            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                            [locale]=\"sessionService.calendarFormat\"\r\n                            [(ngModel)]=\"currentMaintenancePlan.planRevisionDate\"\r\n                            [disabled]=\"isReadOpenMode || disableMpEdit\"\r\n                            appendTo=\"body\"\r\n                          ></p-calendar>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".approvalNumber\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            maxlength=\"10\"\r\n                            [(ngModel)]=\"currentMaintenancePlan.planApprovalNumber\"\r\n                            [disabled]=\"isReadOpenMode || disableMpEdit\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".approvalDate\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-calendar\r\n                            showButtonBar=\"true\"\r\n                            [monthNavigator]=\"true\"\r\n                            [yearNavigator]=\"true\"\r\n                            [yearRange]=\"sessionService.calendarYearRange\"\r\n                            class=\"aw-calendar\"\r\n                            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                            [locale]=\"sessionService.calendarFormat\"\r\n                            [(ngModel)]=\"currentMaintenancePlan.planApprovalDate\"\r\n                            [disabled]=\"isReadOpenMode || disableMpEdit\"\r\n                            appendTo=\"body\"\r\n                          ></p-calendar>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".validityEndDate\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-calendar\r\n                            showButtonBar=\"true\"\r\n                            [monthNavigator]=\"true\"\r\n                            [yearNavigator]=\"true\"\r\n                            [yearRange]=\"sessionService.calendarYearRange\"\r\n                            class=\"aw-calendar\"\r\n                            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                            [locale]=\"sessionService.calendarFormat\"\r\n                            [(ngModel)]=\"currentMaintenancePlan.planValidityEndDate\"\r\n                            [disabled]=\"isReadOpenMode || disableMpEdit\"\r\n                            appendTo=\"body\"\r\n                          ></p-calendar>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div *ngIf=\"relatedApplicableMaintenancePlanCode\" class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".applicableMaintenancePlan\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control span-padding\">\r\n                          <a\r\n                            (click)=\"openMaintenanceProgram(relatedApplicableMaintenancePlanCode)\"\r\n                            style=\"cursor: pointer;\"\r\n                            >{{ relatedApplicableMaintenancePlanCode }}</a\r\n                          >\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\" *ngIf=\"relatedRecommendedMaintenancePlanCode\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".recommendedMaintenancePlan\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control span-padding\">\r\n                          <a\r\n                            (click)=\"openMaintenanceProgram(relatedRecommendedMaintenancePlanCode)\"\r\n                            style=\"cursor: pointer;\"\r\n                            >{{ relatedRecommendedMaintenancePlanCode }}</a\r\n                          >\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div *ngIf=\"relatedRecommendedMaintenancePlanCode\" class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".complianceStatus\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control span-padding\">\r\n                          <span\r\n                            *ngIf=\"complianceColor === COMPLIANCE_GREEN\"\r\n                            class=\"airworthiness-alert airworthiness-alert--ok\"\r\n                          >\r\n                            {{ \"global.alertOk\" | translate }}\r\n                          </span>\r\n\r\n                          <span\r\n                            *ngIf=\"complianceColor === COMPLIANCE_RED\"\r\n                            class=\"airworthiness-alert airworthiness-alert--nok\"\r\n                          >\r\n                            {{ \"global.alertNok\" | translate }}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        *ngIf=\"!relatedApplicableMaintenancePlanCode && !relatedRecommendedMaintenancePlanCode\"\r\n                        class=\"form-group\"\r\n                      ></div>\r\n                      <div *ngIf=\"!relatedRecommendedMaintenancePlanCode\" class=\"form-group\"></div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".description\" | translate }}\r\n                        </label>\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"3\"\r\n                            pInputTextarea\r\n                            [(ngModel)]=\"currentMaintenancePlan.planDescription\"\r\n                            [disabled]=\"isReadOpenMode || disableMpEdit\"\r\n                            maxlength=\"300\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div id=\"vertical\" class=\"grid-cell--8 column-cell\">\r\n              <div class=\"grid-cell--12\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 class=\"grid-cell-title\">\r\n                        {{ componentData.componentId + \".items\" | translate }}\r\n                        ({{ itemsDisplayedRowNb !== undefined ? itemsDisplayedRowNb + \" / \" : \"\"\r\n                        }}{{ items ? items.length : 0 }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"grid-cell-content\">\r\n                    <p-table\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableItems\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"itemsTableCols\"\r\n                      [value]=\"items\"\r\n                      [(selection)]=\"selectedItems\"\r\n                      [scrollable]=\"true\"\r\n                      (onFilter)=\"onItemsFilter($event)\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingItemTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingItemTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedItems.length > 0 }\">\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptableItemsGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"ptableItems.filterGlobal($event.target.value, 'contains')\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <button\r\n                              *ngIf=\"\r\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\r\n                                !disableMpEdit &&\r\n                                !isReadOpenMode &&\r\n                                selectedItems.length > 0\r\n                              \"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"deleteItem()\"\r\n                            >\r\n                              {{ \"global.delete\" | translate }}\r\n                            </button>\r\n\r\n                            <!-- <button *ngIf=\"selectedItems.length === 1\" type=\"button\" mat-raised-button (click)=\"openItem()\">\r\n                        {{'global.open' | translate}}\r\n                      </button> -->\r\n\r\n                            <button\r\n                              *ngIf=\"\r\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\r\n                                !disableMpEdit &&\r\n                                !isReadOpenMode &&\r\n                                selectedItems.length === 0\r\n                              \"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"createItem()\"\r\n                            >\r\n                              {{ \"global.add\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td\r\n                            *ngFor=\"let col of columns\"\r\n                            [ngSwitch]=\"col.field\"\r\n                            [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                          >\r\n                            <a *ngSwitchCase=\"'itemText'\" (click)=\"openItemCode(rowData[col.field])\">{{\r\n                              rowData[col.field]\r\n                            }}</a>\r\n\r\n                            <span *ngSwitchDefault>\r\n                              {{ rowData[col.field] }}\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"grid-cell--12\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 class=\"grid-cell-title\">\r\n                        {{ componentData.componentId + \".parts\" | translate }}\r\n                        ({{ partsDisplayedRowNb !== undefined ? partsDisplayedRowNb + \" / \" : \"\"\r\n                        }}{{ parts ? parts.length : 0 }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"grid-cell-content\">\r\n                    <p-table\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableParts\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"partsTableCols\"\r\n                      [value]=\"parts\"\r\n                      [(selection)]=\"selectedParts\"\r\n                      [scrollable]=\"true\"\r\n                      (onFilter)=\"onPartsFilter($event)\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingPartTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingPartTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedParts.length > 0 }\">\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptablePartsGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"ptableParts.filterGlobal($event.target.value, 'contains')\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <button\r\n                              *ngIf=\"\r\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\r\n                                !disableMpEdit &&\r\n                                !isReadOpenMode &&\r\n                                selectedParts.length > 0\r\n                              \"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"deletePart()\"\r\n                            >\r\n                              {{ \"global.delete\" | translate }}\r\n                            </button>\r\n\r\n                            <!-- <button *ngIf=\"selectedParts.length === 1\" type=\"button\" mat-raised-button (click)=\"openPart()\">\r\n                        {{'global.open' | translate}}\r\n                      </button> -->\r\n\r\n                            <button\r\n                              *ngIf=\"\r\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\r\n                                !isReadOpenMode &&\r\n                                !disableMpEdit &&\r\n                                selectedParts.length === 0\r\n                              \"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"createPart()\"\r\n                            >\r\n                              {{ \"global.add\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td\r\n                            *ngFor=\"let col of columns\"\r\n                            [ngSwitch]=\"col.field\"\r\n                            [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                          >\r\n                            <a *ngSwitchCase=\"'pnCode'\" (click)=\"openPartCode(rowData[col.field], rowData['pnType'])\">{{\r\n                              rowData[col.field]\r\n                            }}</a>\r\n\r\n                            <span *ngSwitchDefault>\r\n                              {{ rowData[col.field] }}\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ componentData.componentId + \".visitTaskTab\" | translate }}\r\n          </ng-template>\r\n          <!-- Tasks -->\r\n          <div class=\"grid-row\">\r\n            <div #taskAnchor class=\"grid-cell--12\" (click)=\"setSelectedAnchor('taskAnchor')\">\r\n              <div class=\"grid-cell grid-cell--container\" [ngClass]=\"{ active: isSelectedAnchor('taskAnchor') }\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".taskTab\" | translate }}\r\n                      ({{ tasksDisplayedRowNb !== undefined ? tasksDisplayedRowNb + \" / \" : \"\"\r\n                      }}{{ tasks ? tasks.length : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <div class=\"section\">\r\n                    <div class=\"section-content\">\r\n                      <p-table\r\n                        [resizableColumns]=\"true\"\r\n                        #ptableTask\r\n                        class=\"aw-table2\"\r\n                        [columns]=\"taskTableCols\"\r\n                        [value]=\"tasks\"\r\n                        [(selection)]=\"selectedTasks\"\r\n                        [scrollable]=\"true\"\r\n                        (onRowSelect)=\"checkTasks()\"\r\n                        dataKey=\"dataKey\"\r\n                        (onRowUnselect)=\"checkTasks()\"\r\n                        (onHeaderCheckboxToggle)=\"checkTasks()\"\r\n                        (onFilter)=\"onTasksFilter($event)\"\r\n                        [paginator]=\"true\"\r\n                        [rows]=\"NUMBER_OF_ROWS\"\r\n                      >\r\n                        <ng-template pTemplate=\"emptymessage\">\r\n                          <span *ngIf=\"!isLoadingTaskTable\"> &nbsp;</span>\r\n\r\n                          <div *ngIf=\"isLoadingTaskTable\" class=\"aw-table-loading-indicator\">\r\n                            <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                            <div class=\"lds-hourglass\"></div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"caption\">\r\n                          <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedTasks.length > 0 }\">\r\n                            <div class=\"aw-table-global-filter\">\r\n                              <label class=\"aw-table-global-filter-label\">\r\n                                <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                              </label>\r\n\r\n                              <input\r\n                                #ptableTaskGlobalFilter\r\n                                class=\"aw-table-global-filter-input\"\r\n                                type=\"text\"\r\n                                placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                                (input)=\"ptableTask.filterGlobal($event.target.value, 'contains')\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div class=\"aw-table-actions\">\r\n                              <button\r\n                                *ngIf=\"\r\n                                  !isReadOpenMode && !disableMpEdit && selectedTasks.length > 0 && enableTaskDelete\r\n                                \"\r\n                                type=\"button\"\r\n                                color=\"warn\"\r\n                                mat-raised-button\r\n                                (click)=\"deleteTaskVisit('task')\"\r\n                              >\r\n                                {{ \"global.delete\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && !disableMpEdit && selectedTasks.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"generateTaskComment()\"\r\n                              >\r\n                                {{ componentData.componentId + \".generateComment\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && !disableMpEdit && selectedTasks.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"editTaskVisit('task')\"\r\n                              >\r\n                                {{ \"global.edit\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"selectedTasks.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"openTaskVisit('task')\"\r\n                              >\r\n                                {{ \"global.open\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"\r\n                                  !isReadOpenMode &&\r\n                                  (planType === MAINTENANCE_PLAN.PLAN_TYPE_AMP || !disableMpEdit) &&\r\n                                  selectedTasks.length === 0\r\n                                \"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"createTaskVisit('task')\"\r\n                              >\r\n                                {{ \"global.add\" | translate }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"colgroup\" let-columns>\r\n                          <colgroup>\r\n                            <col class=\"aw-table-checkbox-wrapper\" [ngStyle]=\"{ width: '2.5rem' }\" />\r\n                            <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                            <col [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\" />\r\n                          </colgroup>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"header\" let-columns>\r\n                          <tr>\r\n                            <th class=\"aw-table-checkbox-wrapper\" [ngStyle]=\"{ width: '2.5rem' }\">\r\n                              <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                            </th>\r\n\r\n                            <th\r\n                              pResizableColumn\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                            >\r\n                              {{ componentData.componentId + \".\" + col.field | translate }}\r\n                            </th>\r\n                            <th [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\"></th>\r\n                          </tr>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                          <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                            <td class=\"aw-table-checkbox-wrapper\" [ngStyle]=\"{ width: '2.5rem' }\">\r\n                              <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                            </td>\r\n\r\n                            <ng-container *ngFor=\"let col of columns\">\r\n                              <td\r\n                                *ngIf=\"col.field === 'taskCode'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                              >\r\n                                <a\r\n                                  (click)=\"\r\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\r\n                                  \"\r\n                                  >{{ rowData[col.field] }}</a\r\n                                >\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf=\"col.field === 'version'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf=\"col.field === 'designation'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf=\"col.field === 'compliance'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                              >\r\n                                <span\r\n                                  *ngIf=\"rowData[col.field] === COMPLIANCE_GREEN\"\r\n                                  class=\"airworthiness-alert airworthiness-alert--ok\"\r\n                                >\r\n                                  {{ \"global.alertOk\" | translate }}\r\n                                </span>\r\n\r\n                                <span\r\n                                  *ngIf=\"rowData[col.field] === COMPLIANCE_RED\"\r\n                                  class=\"airworthiness-alert airworthiness-alert--nok\"\r\n                                  pTooltip=\"{{ rowData['complianceDetail'] || '' }}\"\r\n                                >\r\n                                  {{ \"global.alertNok\" | translate }}\r\n                                </span>\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf=\"\r\n                                  col.field !== 'taskCode' &&\r\n                                  col.field !== 'version' &&\r\n                                  col.field !== 'designation' &&\r\n                                  col.field !== 'compliance'\r\n                                \"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </td>\r\n                            </ng-container>\r\n                            <td\r\n                              class=\"row-expand-wrapper\"\r\n                              [pRowToggler]=\"rowData\"\r\n                              [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\"\r\n                            >\r\n                              <i\r\n                                class=\"fa fa-fw aw-icon aw-icon-with-border\"\r\n                                [ngClass]=\"rowData.expand ? 'fa-minus' : 'fa-plus'\"\r\n                                aria-hidden=\"true\"\r\n                                pTooltip=\"{{ 'global.showTableRowDetails' | translate }}\"\r\n                                tooltipPosition=\"top\"\r\n                                (click)=\"toggleRowDetailsVisibility(rowData)\"\r\n                              ></i>\r\n                            </td>\r\n                          </tr>\r\n                          <tr *ngIf=\"rowData.expand\" class=\"row-expanded\">\r\n                            <td [attr.colspan]=\"columns.length + 2\">\r\n                              <div class=\"column forced-backgroung\">\r\n                                <div class=\"row\">\r\n                                  <div class=\"form-group flex--1\">\r\n                                    <label class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"taskType\" | translate }}\r\n                                    </label>\r\n\r\n                                    <div class=\"form-control\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"aw-input\"\r\n                                        maxlength=\"50\"\r\n                                        [(ngModel)]=\"rowData.taskType\"\r\n                                        [disabled]=\"true\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div class=\"form-group flex--1\">\r\n                                    <label class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"groupCode\" | translate }}\r\n                                    </label>\r\n\r\n                                    <div class=\"form-control\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"aw-input\"\r\n                                        maxlength=\"50\"\r\n                                        [(ngModel)]=\"rowData.groupCode\"\r\n                                        [disabled]=\"true\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div class=\"form-group flex--1\">\r\n                                    <label class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"firstPeriodicity\" | translate }}\r\n                                    </label>\r\n\r\n                                    <div class=\"form-control\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"aw-input\"\r\n                                        maxlength=\"50\"\r\n                                        [(ngModel)]=\"rowData.firstPeriodicity\"\r\n                                        [disabled]=\"true\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div class=\"form-group flex--1\">\r\n                                    <label class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"periodicityType\" | translate }}\r\n                                    </label>\r\n\r\n                                    <div class=\"form-control\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"aw-input\"\r\n                                        maxlength=\"50\"\r\n                                        [(ngModel)]=\"rowData.periodicityType\"\r\n                                        [disabled]=\"true\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"row\">\r\n                                  <div class=\"form-group flex--1\">\r\n                                    <label class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"tolerance\" | translate }}\r\n                                    </label>\r\n\r\n                                    <div class=\"form-control\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"aw-input\"\r\n                                        maxlength=\"50\"\r\n                                        [(ngModel)]=\"rowData.tolerance\"\r\n                                        [disabled]=\"true\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div class=\"form-group flex--1\">\r\n                                    <label *ngIf=\"isUnitFh\" class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"alertThreshold\" | translate }}\r\n                                      {{ \"(\" + rowData.unit + \")\" }}\r\n                                    </label>\r\n                                    <label *ngIf=\"!isUnitFh\" class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"alertThreshold\" | translate }} {{ \"(%)\" }}\r\n                                    </label>\r\n                                    <div class=\"form-control\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"aw-input\"\r\n                                        maxlength=\"50\"\r\n                                        [(ngModel)]=\"rowData.alertThreshold\"\r\n                                        [disabled]=\"true\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div class=\"form-group flex--1\">\r\n                                    <label class=\"form-label\">\r\n                                      {{ getComponentName() + \".\" + \"comments\" | translate }}\r\n                                    </label>\r\n\r\n                                    <div class=\"form-control\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"aw-input\"\r\n                                        maxlength=\"50\"\r\n                                        [(ngModel)]=\"rowData.comments\"\r\n                                        [disabled]=\"true\"\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div class=\"form-group flex--1\"></div>\r\n                                </div>\r\n                              </div>\r\n\r\n                              <!-- <div class=\"row\">\r\n\r\n\r\n                                <p-table [resizableColumns]=\"true\" #ptable class=\"aw-table2\" [columns]=\"remainingTaskTableCols\" [value]=\"rowData.childRow\">\r\n                                  <ng-template pTemplate=\"colgroup\" let-columns>\r\n                                    <colgroup>\r\n                                      <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                                    </colgroup>\r\n                                  </ng-template>\r\n\r\n                                  <ng-template pTemplate=\"header\" let-columns>\r\n                                    <tr>\r\n                                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\">\r\n                                        {{ getComponentName() + \".\" + col.field | translate }}\r\n                                      </th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment, 'font-weight': 'bold', width: col.width }\">\r\n                                        {{ rowData[col.field] }}\r\n                                      </th>\r\n                                    </tr>\r\n                                  </ng-template>\r\n                                </p-table>\r\n\r\n                                <p-table [resizableColumns]=\"true\" #ptable class=\"aw-table2\" [columns]=\"remainingTaskTableCols1\" [value]=\"rowData.childRow\">\r\n                                  <ng-template pTemplate=\"colgroup\" let-columns>\r\n                                    <colgroup>\r\n                                      <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                                    </colgroup>\r\n                                  </ng-template>\r\n\r\n                                  <ng-template pTemplate=\"header\" let-columns>\r\n                                    <tr>\r\n                                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment, 'width': col.width }\">\r\n                                        {{ getComponentName() + \".\" + col.field | translate }}\r\n                                      </th>\r\n                                      <th></th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                      <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment, 'font-weight': 'bold', 'width': col.width }\">\r\n                                        {{ rowData[col.field] }}\r\n                                      </th>\r\n                                      <th></th>\r\n                                    </tr>\r\n                                  </ng-template>\r\n                                </p-table>\r\n\r\n\r\n                              </div> -->\r\n                            </td>\r\n                          </tr>\r\n                        </ng-template>\r\n                      </p-table>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"removedTasks.length > 0\" class=\"section\">\r\n                    <h4 class=\"section-title\">\r\n                      {{ componentData.componentId + \".removedTaskHeading\" | translate }}\r\n                      ({{ removedTasksDisplayedRowNb !== undefined ? removedTasksDisplayedRowNb + \" / \" : \"\"\r\n                      }}{{ removedTasks ? removedTasks.length : 0 }})\r\n                    </h4>\r\n\r\n                    <div class=\"section-content\">\r\n                      <p-table\r\n                        [resizableColumns]=\"true\"\r\n                        #ptableRemovedTask\r\n                        class=\"aw-table2\"\r\n                        [columns]=\"removedTaskTableCols\"\r\n                        [value]=\"removedTasks\"\r\n                        [(selection)]=\"selectedRemovedTasks\"\r\n                        [scrollable]=\"true\"\r\n                        (onFilter)=\"onRemovedTasksFilter($event)\"\r\n                      >\r\n                        <ng-template pTemplate=\"emptymessage\">\r\n                          <span *ngIf=\"!isLoadingRemovedTaskTabble\"> &nbsp;</span>\r\n\r\n                          <div *ngIf=\"isLoadingRemovedTaskTabble\" class=\"aw-table-loading-indicator\">\r\n                            <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                            <div class=\"lds-hourglass\"></div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"caption\">\r\n                          <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedRemovedTasks.length > 0 }\">\r\n                            <div class=\"aw-table-global-filter\">\r\n                              <label class=\"aw-table-global-filter-label\">\r\n                                <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                              </label>\r\n\r\n                              <input\r\n                                #ptableRemovedTaskGlobalFilter\r\n                                class=\"aw-table-global-filter-input\"\r\n                                type=\"text\"\r\n                                placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                                (input)=\"ptableRemovedTask.filterGlobal($event.target.value, 'contains')\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div class=\"aw-table-actions\">\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && selectedRemovedTasks.length > 0\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"addMissingTasks()\"\r\n                              >\r\n                                {{ \"global.add\" | translate }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"colgroup\" let-columns>\r\n                          <colgroup>\r\n                            <col class=\"aw-table-checkbox-wrapper\" />\r\n                            <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                          </colgroup>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"header\" let-columns>\r\n                          <tr>\r\n                            <th class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                            </th>\r\n\r\n                            <th\r\n                              pResizableColumn\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                            >\r\n                              {{ componentData.componentId + \".\" + col.field | translate }}\r\n                            </th>\r\n                          </tr>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                          <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                            <td class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                            </td>\r\n\r\n                            <ng-container *ngFor=\"let col of columns\">\r\n                              <td\r\n                                *ngIf=\"col.field === 'taskCode'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                <a\r\n                                  (click)=\"\r\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\r\n                                  \"\r\n                                  >{{ rowData[col.field] }}</a\r\n                                >\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf=\"col.field === 'version'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf=\"col.field === 'designation'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </td>\r\n\r\n                              <td\r\n                                *ngIf=\"\r\n                                  col.field !== 'taskCode' && col.field !== 'version' && col.field !== 'designation'\r\n                                \"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </td>\r\n                            </ng-container>\r\n                          </tr>\r\n                        </ng-template>\r\n                      </p-table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Visit -->\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\" #visitAnchor class=\"grid-cell--12\" (click)=\"setSelectedAnchor('visitAnchor')\">\r\n              <div class=\"grid-cell grid-cell--container\" [ngClass]=\"{ active: isSelectedAnchor('visitAnchor') }\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".visitTab\" | translate }}\r\n                      ({{ visitsDisplayedRowNb !== undefined ? visitsDisplayedRowNb + \" / \" : \"\"\r\n                      }}{{ visits ? visits.length : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <div class=\"section\">\r\n                    <div class=\"section-content\">\r\n                      <p-table\r\n                        [resizableColumns]=\"true\"\r\n                        #ptableVisit\r\n                        class=\"aw-table2\"\r\n                        [columns]=\"visitTableCols\"\r\n                        [value]=\"visits\"\r\n                        [(selection)]=\"selectedVisits\"\r\n                        dataKey=\"visitbloc\"\r\n                        [scrollable]=\"true\"\r\n                        (onRowSelect)=\"checkVisits()\"\r\n                        (onRowUnselect)=\"checkVisits()\"\r\n                        (onHeaderCheckboxToggle)=\"checkVisits()\"\r\n                        (onFilter)=\"onVisitsFilter($event)\"\r\n                        [paginator]=\"true\"\r\n                        [rows]=\"NUMBER_OF_ROWS\"\r\n                      >\r\n                        <ng-template pTemplate=\"emptymessage\">\r\n                          <span *ngIf=\"!isLoadingVisitTable\"> &nbsp;</span>\r\n                          <div *ngIf=\"isLoadingVisitTable\" class=\"aw-table-loading-indicator\">\r\n                            <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                            <div class=\"lds-hourglass\"></div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"caption\">\r\n                          <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedVisits.length > 0 }\">\r\n                            <div class=\"aw-table-global-filter\">\r\n                              <label class=\"aw-table-global-filter-label\">\r\n                                <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                              </label>\r\n\r\n                              <input\r\n                                #ptableVisitGlobalFilter\r\n                                class=\"aw-table-global-filter-input\"\r\n                                type=\"text\"\r\n                                placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                                (input)=\"ptableVisit.filterGlobal($event.target.value, 'contains')\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div class=\"aw-table-actions\">\r\n                              <button\r\n                                *ngIf=\"\r\n                                  !isReadOpenMode && !disableMpEdit && selectedVisits.length > 0 && enableVisitDelete\r\n                                \"\r\n                                type=\"button\"\r\n                                color=\"warn\"\r\n                                mat-raised-button\r\n                                (click)=\"deleteTaskVisit('visit')\"\r\n                              >\r\n                                {{ \"global.delete\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && !disableMpEdit && selectedVisits.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"editTaskVisit('visit')\"\r\n                              >\r\n                                {{ \"global.edit\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"selectedVisits.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"openTaskVisit('visit')\"\r\n                              >\r\n                                {{ \"global.open\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && !disableMpEdit && selectedVisits.length === 0\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"createTaskVisit('visit')\"\r\n                              >\r\n                                {{ \"global.add\" | translate }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"colgroup\" let-columns>\r\n                          <colgroup>\r\n                            <col class=\"aw-table-checkbox-wrapper\" [ngStyle]=\"{ width: '2.5rem' }\" />\r\n                            <col\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                            />\r\n                            <col [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\" />\r\n                          </colgroup>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"header\" let-columns>\r\n                          <tr>\r\n                            <th class=\"aw-table-checkbox-wrapper\" [ngStyle]=\"{ width: '2.5rem' }\">\r\n                              <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                            </th>\r\n\r\n                            <th\r\n                              pResizableColumn\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                            >\r\n                              {{ componentData.componentId + \".\" + col.field | translate }}\r\n                            </th>\r\n                            <th [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\"></th>\r\n                          </tr>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                          <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                            <td class=\"aw-table-checkbox-wrapper\" [ngStyle]=\"{ width: '2.5rem' }\">\r\n                              <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                            </td>\r\n\r\n                            <td\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                            >\r\n                              <span *ngIf=\"col.field === 'visitCode'\" [attr.rowspan]=\"rowData['rowSpan']\">\r\n                                <i\r\n                                  [pRowToggler]=\"rowData\"\r\n                                  [ngClass]=\"rowData.expand ? 'fa fa-fw fa-chevron-down' : 'fa fa-fw fa-chevron-right'\"\r\n                                  (click)=\"toggleRowDetailsVisibility(rowData)\"\r\n                                ></i>\r\n                                <a\r\n                                  (click)=\"\r\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\r\n                                  \"\r\n                                  >{{ rowData[col.field] }}</a\r\n                                >\r\n                              </span>\r\n\r\n                              <span *ngIf=\"col.field === 'visitVersion'\" [attr.rowspan]=\"rowData['rowSpan']\">\r\n                                {{ rowData[col.field] }}\r\n                              </span>\r\n\r\n                              <span *ngIf=\"col.field === 'visitDesignation'\" [attr.rowspan]=\"rowData['rowSpan']\">\r\n                                {{ rowData[col.field] }}\r\n                              </span>\r\n\r\n                              <span *ngIf=\"col.field === 'compliance'\" [attr.rowspan]=\"rowData['rowSpan']\">\r\n                                <span\r\n                                  *ngIf=\"rowData[col.field] === COMPLIANCE_GREEN\"\r\n                                  class=\"airworthiness-alert airworthiness-alert--ok\"\r\n                                >\r\n                                  {{ \"global.alertOk\" | translate }}\r\n                                </span>\r\n\r\n                                <span\r\n                                  *ngIf=\"rowData[col.field] === COMPLIANCE_RED\"\r\n                                  class=\"airworthiness-alert airworthiness-alert--nok\"\r\n                                  pTooltip=\"{{ rowData['complianceDetail'] || '' }}\"\r\n                                >\r\n                                  {{ \"global.alertNok\" | translate }}\r\n                                </span>\r\n                              </span>\r\n\r\n                              <span\r\n                                *ngIf=\"\r\n                                  col.field !== 'visitCode' &&\r\n                                  col.field !== 'visitVersion' &&\r\n                                  col.field !== 'visitDesignation' &&\r\n                                  col.field !== 'compliance'\r\n                                \"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </span>\r\n                            </td>\r\n                            <td class=\"row-expand-wrapper\" [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\">\r\n                              <i\r\n                                [pRowToggler]=\"rowData\"\r\n                                class=\"fa fa-fw aw-icon aw-icon-with-border\"\r\n                                [ngClass]=\"rowData.showMore ? 'fa-minus' : 'fa-plus'\"\r\n                                aria-hidden=\"true\"\r\n                                pTooltip=\"{{ 'global.showTableRowDetails' | translate }}\"\r\n                                tooltipPosition=\"top\"\r\n                                (click)=\"toggleShowMoreRowDetailsVisibility(rowData)\"\r\n                              ></i>\r\n                            </td>\r\n                          </tr>\r\n                          <ng-container *ngIf=\"rowData['showMore']\">\r\n                            <tr class=\"row-expanded\">\r\n                              <td [attr.colspan]=\"columns.length + 2\">\r\n                                <div class=\"row\">\r\n                                  <p-table\r\n                                    [resizableColumns]=\"true\"\r\n                                    #ptable\r\n                                    class=\"aw-table2\"\r\n                                    [columns]=\"remainingVisitTableCols\"\r\n                                    [value]=\"rowData.childRow\"\r\n                                  >\r\n                                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                                      <colgroup>\r\n                                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                                      </colgroup>\r\n                                    </ng-template>\r\n\r\n                                    <ng-template pTemplate=\"header\" let-columns>\r\n                                      <tr>\r\n                                        <th\r\n                                          pResizableColumn\r\n                                          *ngFor=\"let col of columns\"\r\n                                          [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                                        >\r\n                                          {{ getComponentName() + \".\" + col.field | translate }}\r\n                                        </th>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <th\r\n                                          pResizableColumn\r\n                                          *ngFor=\"let col of columns\"\r\n                                          [ngStyle]=\"{ 'text-align': col.alignment, 'font-weight': 'bold' }\"\r\n                                        >\r\n                                          {{ rowData[col.field] }}\r\n                                        </th>\r\n                                      </tr>\r\n                                    </ng-template>\r\n                                  </p-table>\r\n                                  <p-table\r\n                                    [resizableColumns]=\"true\"\r\n                                    #ptable\r\n                                    class=\"aw-table2\"\r\n                                    [columns]=\"remainingVisitTableCols1\"\r\n                                    [value]=\"rowData.childRow\"\r\n                                  >\r\n                                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                                      <colgroup>\r\n                                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                                      </colgroup>\r\n                                    </ng-template>\r\n\r\n                                    <ng-template pTemplate=\"header\" let-columns>\r\n                                      <tr>\r\n                                        <th\r\n                                          pResizableColumn\r\n                                          *ngFor=\"let col of columns\"\r\n                                          [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                                        >\r\n                                          {{ getComponentName() + \".\" + col.field | translate }}\r\n                                          <label *ngIf=\"col.field == alertThreshold && isUnitFh\">{{\r\n                                            \"(\" + rowData.unit + \")\"\r\n                                          }}</label>\r\n                                          <label *ngIf=\"col.field == alertThreshold && !isUnitFh\">{{ \"(%)\" }}</label>\r\n                                        </th>\r\n                                        <th></th>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <th\r\n                                          pResizableColumn\r\n                                          *ngFor=\"let col of columns\"\r\n                                          [ngStyle]=\"{\r\n                                            'text-align': col.alignment,\r\n                                            'font-weight': 'bold',\r\n                                            width: col.width\r\n                                          }\"\r\n                                        >\r\n                                          {{ rowData[col.field] }}\r\n                                        </th>\r\n                                        <th></th>\r\n                                      </tr>\r\n                                    </ng-template>\r\n                                  </p-table>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"rowData['expand']\">\r\n                            <ng-container *ngFor=\"let task of rowData.visitTasks\">\r\n                              <tr *ngIf=\"task.taskCode && task.taskCode !== rowData.visitCode\">\r\n                                <td></td>\r\n                                <td>{{ task.taskCode }}</td>\r\n                                <td>{{ task.version }}</td>\r\n                                <td>{{ task.designation }}</td>\r\n                                <td [attr.colspan]=\"columns.length - 3\">{{ task.taskType }}</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </ng-container>\r\n                        </ng-template>\r\n                      </p-table>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"removedVisits.length > 0\" class=\"section\">\r\n                    <h4 class=\"section-title\">\r\n                      {{ componentData.componentId + \".removedVisitHeading\" | translate }}\r\n                      ({{ removedVisitsDisplayedRowNb !== undefined ? removedVisitsDisplayedRowNb + \" / \" : \"\"\r\n                      }}{{ removedVisits ? removedVisits.length : 0 }})\r\n                    </h4>\r\n\r\n                    <div class=\"section-content\">\r\n                      <p-table\r\n                        [resizableColumns]=\"true\"\r\n                        #ptableRemovedVisit\r\n                        class=\"aw-table2\"\r\n                        [columns]=\"removedVisitTableCols\"\r\n                        [value]=\"removedVisits\"\r\n                        [(selection)]=\"selectedRemovedVisits\"\r\n                        dataKey=\"visitbloc\"\r\n                        [scrollable]=\"true\"\r\n                        (onFilter)=\"onRemovedVisitsFilter($event)\"\r\n                      >\r\n                        <ng-template pTemplate=\"emptymessage\">\r\n                          <span *ngIf=\"!isLoadingRemovedVisitTable\"> &nbsp;</span>\r\n\r\n                          <div *ngIf=\"isLoadingRemovedVisitTable\" class=\"aw-table-loading-indicator\">\r\n                            <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                            <div class=\"lds-hourglass\"></div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"caption\">\r\n                          <div\r\n                            class=\"aw-table-header\"\r\n                            [ngClass]=\"{ 'rows-selected': selectedRemovedVisits.length > 0 }\"\r\n                          >\r\n                            <div class=\"aw-table-global-filter\">\r\n                              <label class=\"aw-table-global-filter-label\">\r\n                                <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                              </label>\r\n\r\n                              <input\r\n                                #ptableRemovedVisitGlobalFilter\r\n                                class=\"aw-table-global-filter-input\"\r\n                                type=\"text\"\r\n                                placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                                (input)=\"ptableRemovedVisit.filterGlobal($event.target.value, 'contains')\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div class=\"aw-table-actions\">\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && selectedRemovedVisits.length > 0\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"addMissingVisits()\"\r\n                              >\r\n                                {{ \"global.add\" | translate }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"colgroup\" let-columns>\r\n                          <colgroup>\r\n                            <col class=\"aw-table-checkbox-wrapper\" />\r\n                            <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                          </colgroup>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"header\" let-columns>\r\n                          <tr>\r\n                            <th class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                            </th>\r\n\r\n                            <th\r\n                              pResizableColumn\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                            >\r\n                              {{ componentData.componentId + \".\" + col.field | translate }}\r\n                            </th>\r\n                          </tr>\r\n                        </ng-template>\r\n\r\n                        <ng-template\r\n                          pTemplate=\"body\"\r\n                          let-rowData\r\n                          let-expanded=\"expanded\"\r\n                          let-columns=\"columns\"\r\n                          let-rowIndex=\"rowIndex\"\r\n                        >\r\n                          <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                            <td class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                            </td>\r\n\r\n                            <td *ngFor=\"let col of columns\">\r\n                              <span\r\n                                *ngIf=\"col.field === 'visitCode'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                <i\r\n                                  [pRowToggler]=\"rowData\"\r\n                                  [ngClass]=\"expanded ? 'fa fa-fw fa-chevron-down' : 'fa fa-fw fa-chevron-right'\"\r\n                                ></i>\r\n                                <a\r\n                                  (click)=\"\r\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\r\n                                  \"\r\n                                  >{{ rowData[col.field] }}</a\r\n                                >\r\n                              </span>\r\n\r\n                              <span\r\n                                *ngIf=\"col.field === 'visitVersion'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </span>\r\n\r\n                              <span\r\n                                *ngIf=\"col.field === 'visitDesignation'\"\r\n                                [attr.rowspan]=\"rowData['rowSpan']\"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </span>\r\n\r\n                              <span\r\n                                *ngIf=\"\r\n                                  col.field !== 'visitCode' &&\r\n                                  col.field !== 'visitVersion' &&\r\n                                  col.field !== 'visitDesignation' &&\r\n                                  col.field !== 'compliance'\r\n                                \"\r\n                                [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              >\r\n                                {{ rowData[col.field] }}\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"rowexpansion\" let-rowData let-rowIndex=\"rowIndex\" let-columns=\"columns\">\r\n                          <ng-container *ngFor=\"let task of rowData.visitTasks\">\r\n                            <tr *ngIf=\"task.taskCode && task.taskCode !== rowData.visitCode\">\r\n                              <td></td>\r\n                              <td>{{ task.taskCode }}</td>\r\n                              <td>{{ task.version }}</td>\r\n                              <td>{{ task.designation }}</td>\r\n                              <td [attr.colspan]=\"columns.length - 3\">{{ task.taskType }}</td>\r\n                            </tr>\r\n                          </ng-container>\r\n                        </ng-template>\r\n                      </p-table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            <ng-container *ngIf=\"dynamicAttributesForMaintenancePlan && dynamicAttributesForMaintenancePlan.length > 0\">\r\n              {{ \"attributes\" | translate }} &amp;\r\n            </ng-container>\r\n            {{ \"documents\" | translate }}\r\n          </ng-template>\r\n          <!-- Document Import -->\r\n          <div class=\"grid-row\" *ngIf=\"dynamicAttributesForMaintenancePlan.length > 0\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <aw-dynamic-attributes\r\n                    [attributes]=\"dynamicAttributesForMaintenancePlan\"\r\n                    [isReadOpenMode]=\"isReadOpenMode\"\r\n                  ></aw-dynamic-attributes>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div\r\n                #documentsAnchor\r\n                class=\"grid-cell grid-cell--container\"\r\n                [ngClass]=\"{ active: isSelectedAnchor('documentsAnchor') }\"\r\n              >\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".documents\" | translate }} ({{\r\n                        documentsTableDataSource.hasData ? documentsTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"documentsTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        *ngIf=\"documentsTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        color=\"warn\"\r\n                        (click)=\"deleteDocuments()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"documentsTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"editDocument()\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"documentsTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"openDocument()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!documentsTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"addDocument()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"showSaveDocumentPlanBtn()\"\r\n                        color=\"primary\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"saveDocPlans()\"\r\n                      >\r\n                        {{ \"global.save\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n\r\n                    <ng-template columnDef=\"docName\" let-rowData=\"rowData\">\r\n                      <a (click)=\"downloadFile(rowData)\">{{ rowData.docName }}</a>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <aw-item-popup-form *ngIf=\"showItemPopup\" [(display)]=\"showItemPopup\" [isReadOnlyForm]=\"isReadOnlyItemDialog\"\r\n  [component-data]=\"dataItem\" (onAssociated)=\"saveItem($event)\"></aw-item-popup-form> -->\r\n\r\n  <!-- <aw-part-popup-form *ngIf=\"showPartPopup\" [(display)]=\"showPartPopup\" [isReadOnlyForm]=\"isReadOnlyPartDialog\"\r\n  [component-data]=\"dataPart\" (onAssociated)=\"savePart($event)\"></aw-part-popup-form> -->\r\n\r\n  <aw-task-visit-popup-form\r\n    *ngIf=\"showVisitTaskPopup\"\r\n    [(display)]=\"showVisitTaskPopup\"\r\n    [isReadOnlyForm]=\"isReadOnlyVisitTaskDialog\"\r\n    [component-data]=\"dataVisitTask\"\r\n    (onAssociated)=\"saveTaskVisit($event)\"\r\n    [popUpType]=\"popUpType\"\r\n    [isCreateMode]=\"isCreateMode\"\r\n  ></aw-task-visit-popup-form>\r\n\r\n  <aw-assign-assets-popup-form\r\n    *ngIf=\"showAssetPopup\"\r\n    [(display)]=\"showAssetPopup\"\r\n    [isReadOnlyForm]=\"isReadOnlyAssetDialog\"\r\n    [component-data]=\"dataAsset\"\r\n    (onAssociated)=\"refreshAfterAssetAssignment($event)\"\r\n  ></aw-assign-assets-popup-form>\r\n\r\n  <aw-dialog-status\r\n    *ngIf=\"showStatusUpdatesPopup\"\r\n    [isStatusEditable]=\"false\"\r\n    [item]=\"currentMaintenancePlan\"\r\n    [itemId]=\"statusPopupTitle\"\r\n    [(display)]=\"showStatusUpdatesPopup\"\r\n    [isObjectTypeOfBireMaintenancePlanDTO]=\"true\"\r\n  ></aw-dialog-status>\r\n</div>\r\n\r\n<aw-dialog-search-item\r\n  *ngIf=\"showItemPopup\"\r\n  [(display)]=\"showItemPopup\"\r\n  (onValidated)=\"saveItem($event)\"\r\n></aw-dialog-search-item>\r\n\r\n<aw-dialog-search-part\r\n  *ngIf=\"showPartPopup\"\r\n  [(display)]=\"showPartPopup\"\r\n  (onValidated)=\"savePart($event)\"\r\n></aw-dialog-search-part>\r\n\r\n<aw-dialog-generate-comment\r\n  *ngIf=\"showGenerateCommentPopup\"\r\n  [(display)]=\"showGenerateCommentPopup\"\r\n  [componentData]=\"comment\"\r\n  (onValidate)=\"saveComments($event)\"\r\n></aw-dialog-generate-comment>\r\n\r\n<aw-dialog-bire-document\r\n  *ngIf=\"showAddDocumentDialog\"\r\n  [document]=\"\r\n    documentsTableDataSource.dataSelectionCount === 1 ? documentsTableDataSource.dataSelection[0]._obj : undefined\r\n  \"\r\n  [(display)]=\"showAddDocumentDialog\"\r\n  [isReadOnlyForm]=\"isReadOnlyDocumentDialog\"\r\n  (onValidated)=\"onAddDocument($event)\"\r\n></aw-dialog-bire-document>\r\n<aw-upgrade-popup-form\r\n  *ngIf=\"showUpgradePopup\"\r\n  [(display)]=\"showUpgradePopup\"\r\n  (changedVersion)=\"manualUpgradeMaintenancePlan($event)\"\r\n></aw-upgrade-popup-form>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.scss":
/*!**************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.scss ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .compliance-icon {\n  font-size: 2.125rem; }\n\n:host .compliance-table-icon {\n  font-size: 1.125rem; }\n\n:host .red {\n  color: #f6685e; }\n\n:host .green {\n  color: #4caf50; }\n\n:host .yellow {\n  color: #ffc107; }\n\n:host .forced-backgroung {\n  background-color: #f0f0f0; }\n\n.airworthiness-alert,\n.maintenance-alert {\n  font-weight: 600;\n  text-align: center;\n  width: 4rem;\n  display: inline-block; }\n\n.airworthiness-alert.airworthiness-alert--nok,\n.maintenance-alert.maintenance-alert--nok {\n  background-color: #f6685e; }\n\n.airworthiness-alert.airworthiness-alert--ok,\n.maintenance-alert.maintenance-alert--ok {\n  background-color: #4caf50; }\n\n.airworthiness-alert.airworthiness-alert--warning,\n.maintenance-alert.maintenance-alert--warning {\n  background-color: #ffc107; }\n\n.red {\n  color: #f6685e; }\n\n.green {\n  color: #4caf50; }\n\n.yellow {\n  color: #ffc107; }\n\n.span-padding {\n  padding: 8px 0; }\n\n.grid-cell--8.column-cell {\n  padding-top: 0px !important;\n  padding-bottom: 0px !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxtYWludGVuYW5jZS1wcm9ncmFtLWZvcm1cXG1haW50ZW5hbmNlLXByb2dyYW0tZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcc3R5bGVzXFxfY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFFSSxtQkFBbUIsRUFBQTs7QUFGdkI7RUFNSSxtQkFBbUIsRUFBQTs7QUFOdkI7RUFVSSxjQ1lnQixFQUFBOztBRHRCcEI7RUFjSSxjQ0trQixFQUFBOztBRG5CdEI7RUFrQkksY0NFWSxFQUFBOztBRHBCaEI7RUFzQkkseUJBQXlCLEVBQUE7O0FBSTdCOztFQUVFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsV0FBVztFQUNYLHFCQUFxQixFQUFBOztBQUd2Qjs7RUFFRSx5QkNka0IsRUFBQTs7QURpQnBCOztFQUVFLHlCQ3RCb0IsRUFBQTs7QUR5QnRCOztFQUVFLHlCQzFCYyxFQUFBOztBRDZCaEI7RUFDRSxjQzVCa0IsRUFBQTs7QUQrQnBCO0VBQ0UsY0NuQ29CLEVBQUE7O0FEc0N0QjtFQUNFLGNDdENjLEVBQUE7O0FEeUNoQjtFQUNFLGNBQWMsRUFBQTs7QUFHaEI7RUFDRSwyQkFBMkI7RUFDM0IsOEJBQThCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvbWFpbnRlbmFuY2UtcHJvZ3JhbS1mb3JtL21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjpob3N0IHtcclxuICAuY29tcGxpYW5jZS1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMi4xMjVyZW07XHJcbiAgfVxyXG5cclxuICAuY29tcGxpYW5jZS10YWJsZS1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMS4xMjVyZW07XHJcbiAgfVxyXG5cclxuICAucmVkIHtcclxuICAgIGNvbG9yOiAkcmVkLWxpZ2h0MTtcclxuICB9XHJcblxyXG4gIC5ncmVlbiB7XHJcbiAgICBjb2xvcjogJGdyZWVuLWxpZ2h0MTtcclxuICB9XHJcblxyXG4gIC55ZWxsb3cge1xyXG4gICAgY29sb3I6ICRvcmFuZ2U7XHJcbiAgfVxyXG5cclxuICAuZm9yY2VkLWJhY2tncm91bmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuICB9XHJcbn1cclxuXHJcbi5haXJ3b3J0aGluZXNzLWFsZXJ0LFxyXG4ubWFpbnRlbmFuY2UtYWxlcnQge1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHdpZHRoOiA0cmVtO1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG5cclxuLmFpcndvcnRoaW5lc3MtYWxlcnQuYWlyd29ydGhpbmVzcy1hbGVydC0tbm9rLFxyXG4ubWFpbnRlbmFuY2UtYWxlcnQubWFpbnRlbmFuY2UtYWxlcnQtLW5vayB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbn1cclxuXHJcbi5haXJ3b3J0aGluZXNzLWFsZXJ0LmFpcndvcnRoaW5lc3MtYWxlcnQtLW9rLFxyXG4ubWFpbnRlbmFuY2UtYWxlcnQubWFpbnRlbmFuY2UtYWxlcnQtLW9rIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG59XHJcblxyXG4uYWlyd29ydGhpbmVzcy1hbGVydC5haXJ3b3J0aGluZXNzLWFsZXJ0LS13YXJuaW5nLFxyXG4ubWFpbnRlbmFuY2UtYWxlcnQubWFpbnRlbmFuY2UtYWxlcnQtLXdhcm5pbmcge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbn1cclxuXHJcbi5yZWQge1xyXG4gIGNvbG9yOiAkcmVkLWxpZ2h0MTtcclxufVxyXG5cclxuLmdyZWVuIHtcclxuICBjb2xvcjogJGdyZWVuLWxpZ2h0MTtcclxufVxyXG5cclxuLnllbGxvdyB7XHJcbiAgY29sb3I6ICRvcmFuZ2U7XHJcbn1cclxuXHJcbi5zcGFuLXBhZGRpbmcge1xyXG4gIHBhZGRpbmc6IDhweCAwO1xyXG59XHJcblxyXG4uZ3JpZC1jZWxsLS04LmNvbHVtbi1jZWxsIHtcclxuICBwYWRkaW5nLXRvcDogMHB4ICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZy1ib3R0b206IDBweCAhaW1wb3J0YW50O1xyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iXX0= */"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.ts":
/*!************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.ts ***!
  \************************************************************************************************************/
/*! exports provided: MaintenanceProgramFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaintenanceProgramFormComponent", function() { return MaintenanceProgramFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _modules_purchase_contract_utils_table_data_source_with_history__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modules/purchase-contract/utils/table-data-source-with-history */ "./src/app/modules/purchase-contract/utils/table-data-source-with-history.ts");
/* harmony import */ var _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/components/component-sidebar/page-toc.service */ "./src/app/shared/components/component-sidebar/page-toc.service.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/constants/app-constants */ "./src/app/shared/constants/app-constants.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_constants_bire_attribute_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/constants/bire-attribute-constants */ "./src/app/shared/constants/bire-attribute-constants.ts");
/* harmony import */ var _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/constants/bire-maintenance-plan-constants */ "./src/app/shared/constants/bire-maintenance-plan-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
/* harmony import */ var _shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../shared/utils/object-utils */ "./src/app/shared/utils/object-utils.ts");
/* harmony import */ var _shared_utils_settings_utils__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../shared/utils/settings-utils */ "./src/app/shared/utils/settings-utils.ts");
/* harmony import */ var _shared_utils_workflow_utils__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../shared/utils/workflow-utils */ "./src/app/shared/utils/workflow-utils.ts");
/* harmony import */ var _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../object-status/object-status.component */ "./src/app/main/object-status/object-status.component.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _maintenance_program_form_mhiael_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./maintenance-program-form-mhiael.service */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form-mhiael.service.ts");
/* harmony import */ var _maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./maintenance-program-form.service */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};


































var MaintenanceProgramFormComponent = /** @class */ (function (_super) {
    __extends(MaintenanceProgramFormComponent, _super);
    function MaintenanceProgramFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, maintenanceProgramFormService, confirmationService, dynamicAttributesService, propertiesService, pageTocService, translateService, dateService, maintenanceProgramFormMhiaelService, _overlayService, _formatSelectOption) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService, pageTocService) || this;
        _this.sessionService = sessionService;
        _this.maintenanceProgramFormService = maintenanceProgramFormService;
        _this.confirmationService = confirmationService;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.propertiesService = propertiesService;
        _this.translateService = translateService;
        _this.dateService = dateService;
        _this.maintenanceProgramFormMhiaelService = maintenanceProgramFormMhiaelService;
        _this._overlayService = _overlayService;
        _this._formatSelectOption = _formatSelectOption;
        _this.MAINTENANCE_PLAN = __assign({}, _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"]);
        _this.TABLE_PAGINATION_DEFAULT_ROWS = _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_7__["AppConstants"].TABLE_PAGINATION_DEFAULT_ROWS;
        _this.NUMBER_OF_ROWS = 4;
        _this.COMPLIANCE_RED = 'red';
        _this.COMPLIANCE_GREEN = 'green';
        _this.rowGroupVisit = [];
        _this.rowGroupMissingVisit = [];
        _this.registerPageTocEntrySelectedObservable();
        _this.tabTaskId = 'task';
        _this.tabVisitId = 'visit';
        _this.tabGeneralId = 'general';
        _this.tabAttributesId = 'attributes';
        _this.isNewPlanCode = true;
        _this.isCreateMode = false;
        _this.planType = _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP;
        _this.alertThreshold = MaintenanceProgramFormComponent_1.ALERT_THRESHOLD_FIELD;
        _this.taskTypeMap = new Map();
        _this.referencesMap = new Map();
        _this.periodicityTypeMap = new Map();
        _this.taskGroupMap = new Map();
        _this.unitCodeMap = new Map();
        _this.showItemPopup = false;
        _this.showPartPopup = false;
        _this.currentMaintenanceProgramAssets = [];
        _this.previousMaintenanceProgramAssets = [];
        _this.tasks = [];
        _this.removedTasks = [];
        _this.visits = [];
        _this.removedVisits = [];
        _this.items = [];
        _this.parts = [];
        _this.selectedStatus = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_ON_GOING_KEY;
        _this.approvedStatus = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY;
        _this.initMeasureUnit();
        _this.loadTaskTypeMap();
        _this.loadPeriodicityTypeMap();
        _this.loadReferences();
        _this.loadTaskGroups();
        _this.openGeneralTab();
        _this.setTableCols();
        _this.isAmpOfRmpApproved = false;
        _this.status = [];
        return _this;
    }
    MaintenanceProgramFormComponent_1 = MaintenanceProgramFormComponent;
    MaintenanceProgramFormComponent.prototype.loadTaskTypeMap = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__["GenericPropertyConstants"].TASK_TYPE_MAP).subscribe(function (results) {
            results.forEach(function (element) {
                _this.taskTypeMap.set(element.value, element.label);
            });
        });
    };
    MaintenanceProgramFormComponent.prototype.loadPeriodicityTypeMap = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__["GenericPropertyConstants"].PERIODICITY_TYPE_MAP).subscribe(function (results) {
            results.forEach(function (element) {
                _this.periodicityTypeMap.set(element.value, element.label);
            });
        });
    };
    MaintenanceProgramFormComponent.prototype.loadTaskGroups = function () {
        var _this = this;
        this.maintenanceProgramFormService.findAllBireTaskGroups().subscribe(function (results) {
            results.forEach(function (element) {
                _this.taskGroupMap.set(element.value, element.label);
            });
        });
    };
    MaintenanceProgramFormComponent.prototype.loadReferences = function () {
        var _this = this;
        this.maintenanceProgramFormService.findAllBireMeasureReferencesMaintenanceProgram().subscribe(function (results) {
            results.forEach(function (element) {
                if (!!element.counterCode) {
                    _this.referencesMap.set(element.counterCode, element.counterRemarks + " (" + element.counterCode + ")");
                    if (!!element.unitCode) {
                        _this.unitCodeMap.set(element.counterCode, element.unitCode);
                    }
                }
            });
        });
    };
    MaintenanceProgramFormComponent.prototype.getDynamicAttributesObservable = function (attributeCategory) {
        return this.maintenanceProgramFormService.findBireAttributesByCategory(attributeCategory);
    };
    MaintenanceProgramFormComponent.prototype.openGeneralTab = function () {
        this.currentTabId = this.tabGeneralId;
    };
    MaintenanceProgramFormComponent.prototype.openTaskTab = function () {
        this.currentTabId = this.tabTaskId;
    };
    MaintenanceProgramFormComponent.prototype.openVisitTab = function () {
        this.currentTabId = this.tabVisitId;
    };
    MaintenanceProgramFormComponent.prototype.openAttributesTab = function () {
        this.currentTabId = this.tabAttributesId;
    };
    MaintenanceProgramFormComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_FORM;
    };
    MaintenanceProgramFormComponent.prototype.setTableCols = function (planType) {
        var taskDesignationWidth = '30%';
        var visitDesignationWidth = '41%';
        if (planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
            taskDesignationWidth = '22%';
            visitDesignationWidth = '33%';
        }
        this.itemsTableCols = [
            { field: 'familyVariant', alignment: 'left' },
            { field: 'itemCode', alignment: 'left' },
            { field: 'designation', alignment: 'left' }
        ];
        this.partsTableCols = [
            { field: 'pnCode', alignment: 'left' },
            { field: 'pnName', alignment: 'left' },
            { field: 'planPnTypeText', alignment: 'left' }
        ];
        this.taskTableCols = [
            { field: 'taskCode', alignment: 'left', width: '12%' },
            { field: 'version', alignment: 'left', width: '5%' },
            { field: 'designation', alignment: 'left', width: taskDesignationWidth },
            { field: 'taskGroup', alignment: 'left', width: '10%' },
            { field: 'reference', alignment: 'left', width: '25%' },
            { field: 'periodicity', alignment: 'left', width: '8%' },
            { field: 'unit', alignment: 'left', width: '5%' }
        ];
        if (planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
            this.taskTableCols.push({ field: 'compliance', alignment: 'left', width: '8%' });
        }
        this.remainingTaskTableCols = [
            { field: 'taskType', alignment: 'left', width: '25%' },
            { field: 'groupCode', alignment: 'left', width: '25%' },
            { field: 'firstPeriodicity', alignment: 'left', width: '25%' },
            { field: 'periodicityType', alignment: 'left', width: '25%' }
        ];
        this.remainingTaskTableCols1 = [
            { field: 'tolerance', alignment: 'left', width: '25%' },
            { field: 'alertThreshold', alignment: 'left', width: '25%' },
            { field: 'comments', alignment: 'left', width: '25%' }
        ];
        this.removedTaskTableCols = [
            { field: 'taskCode', alignment: 'left' },
            { field: 'version', alignment: 'left' },
            { field: 'designation', alignment: 'left' },
            { field: 'taskGroup', alignment: 'left' },
            { field: 'taskType', alignment: 'left' },
            { field: 'groupCode', alignment: 'left' },
            { field: 'reference', alignment: 'left' },
            { field: 'firstPeriodicity', alignment: 'left' },
            { field: 'periodicity', alignment: 'left' },
            { field: 'unit', alignment: 'left' },
            { field: 'periodicityType', alignment: 'left' },
            { field: 'tolerance', alignment: 'left' },
            { field: 'alertThreshold', alignment: 'left' },
            { field: 'comments', alignment: 'left' }
        ];
        this.visitTableCols = [
            { field: 'visitCode', alignment: 'left', width: '12%' },
            { field: 'visitVersion', alignment: 'left', width: '5%' },
            { field: 'visitDesignation', alignment: 'left', width: visitDesignationWidth },
            { field: 'reference', alignment: 'left', width: '25%' },
            { field: 'periodicity', alignment: 'left', width: '7%' },
            { field: 'unit', alignment: 'left', width: '5%' }
        ];
        if (planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
            this.visitTableCols.push({ field: 'compliance', alignment: 'left', width: '8%' });
        }
        this.remainingVisitTableCols = [
            { field: 'taskType', alignment: 'left', width: '33%' },
            { field: 'firstPeriodicity', alignment: 'left', width: '33%' },
            { field: 'tolerance', alignment: 'left', width: '33%' }
        ];
        this.remainingVisitTableCols1 = [
            { field: 'alertThreshold', alignment: 'left', width: '33%' },
            { field: 'comments', alignment: 'left', width: '33%' }
        ];
        this.removedVisitTableCols = [
            { field: 'visitCode', alignment: 'left' },
            { field: 'visitVersion', alignment: 'left' },
            { field: 'visitDesignation', alignment: 'left' },
            { field: 'reference', alignment: 'left' },
            { field: 'periodicity', alignment: 'left' },
            { field: 'unit', alignment: 'left' },
            { field: 'tolerance', alignment: 'left' },
            { field: 'alertThreshold', alignment: 'left' }
        ];
    };
    MaintenanceProgramFormComponent.prototype.init = function () {
        this.currentMaintenancePlan = {};
        this.showUpgradeButton = false;
        this.complianceColor = '';
        this.isStatusReadOnly = false;
        this.hasRelatedBidoMaintenancePlan = false;
        this.showCreateAmpButton = false;
        this.isConsultMode = false;
        this.disableMpEdit = false;
        // Historic popup
        this.showStatusUpdatesPopup = false;
        this.showApproveAmpButton = false;
        this.showUpgradePopup = false;
        this.planTaskCounterTableDTODeletedList = [];
        this.planTaskCounterTableDTOAddedList = [];
        this.planTaskCounterTableDTOUpdatedList = [];
        this.itemsAssociatedTableDTOAddedList = [];
        this.itemsAssociatedTableDTODeletedList = [];
        this.partAssociateTableDTOAddedList = [];
        this.partAssociateTableDTODeletedList = [];
        this.dynamicAttributesForMaintenancePlan = [];
        this.birePlanAttributeDTOAddedList = [];
        this.birePlanAttributeDTOUpdatedList = [];
        this.birePlanAttributeDTODeletedList = [];
        this.isCurrentMaintenanceProgramHasAssets = false;
        this.isAnteriorVersionWithApprovedAssetsFound = false;
        this.isAnteriorVersionWithAssetsFound = false;
        this.previousMaintenanceProgramAssets = [];
        this.selectedItems = [];
        this.currentItemIndex = -1;
        this.showItemPopup = false;
        this.currentItems = {};
        this.selectedParts = [];
        this.currentPartIndex = -1;
        this.showPartPopup = false;
        this.currentParts = {};
        this.selectedTasks = [];
        this.currentTaskIndex = -1;
        this.currentTasks = undefined;
        this.selectedVisits = [];
        this.currentVisitIndex = -1;
        this.currentVisits = undefined;
        this.selectedRemovedTasks = [];
        this.currentRemovedTaskIndex = -1;
        this.currentRemovedTasks = undefined;
        this.selectedRemovedVisits = [];
        this.currentRemovedVisitIndex = -1;
        this.currentRemovedVisits = undefined;
        this.popUpType = '';
        this.enableTaskDelete = true;
        this.enableVisitDelete = true;
        this.planAttributeIdValueMap = new Map();
        this.initDocumentsTableDataSource();
    };
    MaintenanceProgramFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        if (!!this.componentData) {
            this.updateOpenMode(this.componentData.openMode);
            if (!this.isCreateOpenMode && this.componentData.objectId) {
                this.createContentTable();
            }
            this.loadOnInit();
        }
    };
    MaintenanceProgramFormComponent.prototype.editMaintenancePlan = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write);
    };
    MaintenanceProgramFormComponent.prototype.loadOnInit = function () {
        var _this = this;
        this.init();
        if (!!this.componentData.objectId) {
            var planDTOId = this.serializationService.deserialize(this.componentData.objectId);
            this.planCode = planDTOId.planCode;
            this.loadDocumentsTableDataSourceData();
            var planDTO_1 = { planCode: planDTOId.planCode };
            // Load dynamic attributes
            var observables = [
                this.getDynamicAttributesObservable(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_ALL_KEY),
                this.getDynamicAttributesObservable(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_MAINTENANCE_PLAN_KEY)
            ];
            Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])(observables).subscribe(function (_a) {
                var _b = __read(_a, 2), allAttribute = _b[0], customerAttribute = _b[1];
                var attributes = [];
                attributes = !!allAttribute ? __spread(attributes, allAttribute) : attributes;
                attributes = !!customerAttribute ? __spread(attributes, customerAttribute) : attributes;
                attributes = attributes.filter(function (element) {
                    return element.attributeId !== _shared_constants_bire_attribute_constants__WEBPACK_IMPORTED_MODULE_10__["BireAttributeConstants"].MAINTENANCE_PLAN_RMP_PLAN_CODE;
                });
                _this.dynamicAttributesForMaintenancePlan = _this.dynamicAttributesService.from(attributes);
                _this.maintenanceProgramFormService.findBirePlanAttributesByPlanCode(planDTO_1).subscribe(function (results) {
                    var rmpAttribute = {};
                    results.forEach(function (obj) {
                        if (obj.attributeId === _shared_constants_bire_attribute_constants__WEBPACK_IMPORTED_MODULE_10__["BireAttributeConstants"].MAINTENANCE_PLAN_RMP_PLAN_CODE) {
                            rmpAttribute = obj;
                        }
                        else {
                            if (obj.attributeId) {
                                _this.planAttributeIdValueMap.set(obj.attributeId, obj.attributeValue || '');
                            }
                        }
                    });
                    // set bire maintenance plan attributes
                    _this.dynamicAttributesService.setValues(_this.dynamicAttributesForMaintenancePlan, results);
                    _this.planType =
                        rmpAttribute && rmpAttribute.attributeValue
                            ? _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP
                            : _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP;
                    if (_this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP) {
                        // Get AMP code
                        _this.maintenanceProgramFormService
                            .findApplicableMaintenancePlanCodeByRecommendedPlanCode(_this.planCode)
                            .subscribe(function (ampCode) {
                            _this.relatedApplicableMaintenancePlanCode = ampCode;
                            _this.loadMaintenanceProgram();
                        });
                    }
                    else if (_this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
                        // get RMP code from attribute value
                        if (!!rmpAttribute.attributeValue) {
                            _this.relatedRecommendedMaintenancePlanCode = rmpAttribute.attributeValue;
                        }
                        // reset table coumns for AMP
                        _this.setTableCols(_this.planType);
                        _this.loadMaintenanceProgram();
                    }
                    _this.userWorkflowSubject.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(_this.unsubscribe)).subscribe(function (_userWorkflow) {
                        _this.updateWorkflowStatusList();
                    });
                });
            });
        }
        else {
            var context = 'tab.createMode';
            this.displayComponentContext(context, this.isCreateOpenMode);
        }
    };
    MaintenanceProgramFormComponent.prototype.loadMaintenanceProgram = function () {
        var _this = this;
        if (!!this.componentData && !!this.componentData.objectId) {
            var bireMaintenancePlanDTOId = {
                planCode: this.planCode
            };
            this.maintenanceProgramFormService.findBireMaintenancePlan(bireMaintenancePlanDTOId).subscribe(function (result) {
                if (_this.checkNotIsNullOrUndefined(result) && result.planCode) {
                    _this.isNewPlanCode = false;
                    _this.displayName = result.planCode + "-" + result.planName;
                    _this.displayComponentContext(_this.displayName, _this.isCreateOpenMode);
                    // Create observables for data necessary before load
                    var bidoMaintenanceObservable = _this.maintenanceProgramFormService.findBidoMaintenancePlanByPlanCode((result && result.planCode) || '');
                    var uObservable = void 0;
                    if (!_this.relatedRecommendedMaintenancePlanCode) {
                        var upgradeBireMaintenancePlanInput = {
                            currentRevisionNumber: result && result.planRevisionNumber,
                            planCode: result && result.planCode
                        };
                        uObservable = _this.maintenanceProgramFormService.checkAndReturnNewRevisionNumberByMaintenancePlan(upgradeBireMaintenancePlanInput);
                    }
                    else {
                        uObservable = _this.maintenanceProgramFormService.checkAndReturnNewRevisionNumberByMaintenancePlan();
                    }
                    var checkUpdateAccess = _this.maintenanceProgramFormService.hasUpdateRights();
                    var ampPlanObservable = _this.maintenanceProgramFormService.findBireMaintenancePlan({
                        planCode: _this.relatedApplicableMaintenancePlanCode || ''
                    });
                    Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])([ampPlanObservable, bidoMaintenanceObservable, uObservable, checkUpdateAccess]).subscribe(function (results) {
                        var bidoPlanIndex = 1;
                        var hasUpdateRightsIndex = 2;
                        var resultAmp = results[0]; // FIXME
                        var bidoMaintenancePlan = results[bidoPlanIndex]; // FIXME
                        var hasUpdateRights = results[hasUpdateRightsIndex]; // FIXME
                        _this.statusPopupTitle = "" + result.planCode + (result.planName ? '-' + result.planName : '');
                        if (!!result.planRevisionNumber) {
                            _this.revisionNumber = result.planRevisionNumber;
                        }
                        _this.currentMaintenancePlan = result;
                        _this.currentMaintenancePlan.planApprovalDate =
                            _this.currentMaintenancePlan.planApprovalDate && new Date(_this.currentMaintenancePlan.planApprovalDate);
                        _this.currentMaintenancePlan.planRevisionDate =
                            _this.currentMaintenancePlan.planRevisionDate && new Date(_this.currentMaintenancePlan.planRevisionDate);
                        _this.currentMaintenancePlan.planValidityEndDate =
                            _this.currentMaintenancePlan.planValidityEndDate &&
                                new Date(_this.currentMaintenancePlan.planValidityEndDate);
                        // set default status if status not found
                        _this.selectedStatus =
                            _this.currentMaintenancePlan.statusState || _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_ON_GOING_KEY;
                        // set consult mode
                        _this.isConsultMode =
                            _this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP &&
                                _this.currentMaintenancePlan.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY &&
                                resultAmp &&
                                resultAmp.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY
                                ? true
                                : false;
                        // disable task/visit delete if RMP is approved
                        _this.disableMpEdit =
                            _this.currentMaintenancePlan.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY;
                        // show approve AMP only if AMP is not approved and remove approve option from status list
                        if (!!_this.currentMaintenancePlan.statusState) {
                            _this.loadStatus(_this.currentMaintenancePlan.statusState);
                            _this.loadUserWorkflow(_this.currentMaintenancePlan.statusState);
                        }
                        // Initialise RMP/AMP Comparison in case of AMP
                        if (_this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
                            _this.checkAmpComplianceWithRmp();
                        }
                        else if (!!result.planCode) {
                            _this.loadTasksAndVisits(result.planCode);
                        }
                        if (!!result.planCode) {
                            _this.loadItems(result.planCode);
                            _this.loadParts(result.planCode);
                        }
                        // check upgrade visibility
                        if (hasUpdateRights &&
                            _this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP &&
                            !!result.planRevisionNumber) {
                            _this.showUpgradeButton = true;
                        }
                        // check if mp has relate bido maintenance plan
                        _this.hasRelatedBidoMaintenancePlan = bidoMaintenancePlan && bidoMaintenancePlan.length > 0 ? true : false;
                        // check assign assets visibilty
                        _this.checkAssetsAndCreateAmpVisibility();
                        // set status dropdown mode
                        _this.checkStatusReadOnly(resultAmp);
                        _this.getPreviousAssetData(_this.currentMaintenancePlan);
                        _this.getAssetData();
                        _this.isAmpOfRmpApproved = resultAmp.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY;
                    });
                }
            });
        }
    };
    MaintenanceProgramFormComponent.prototype.checkStatusReadOnly = function (resultAmp) {
        if (this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP &&
            resultAmp &&
            resultAmp.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY) {
            // RMP: there is no AMP.
            this.isStatusReadOnly = true;
        }
        else if (this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP && this.hasRelatedBidoMaintenancePlan) {
            // AMP: has been assigned to Assets
            this.isStatusReadOnly = true;
        }
    };
    MaintenanceProgramFormComponent.prototype.loadTasksAndVisits = function (planCode) {
        var _this = this;
        this.isLoadingTaskTable = true;
        this.isLoadingVisitTable = true;
        this.maintenanceProgramFormService.findBirePlanTaskCountersByPlanCode(planCode).subscribe(function (results) {
            _this.loadTasksRows(results);
            _this.isLoadingTaskTable = false;
            _this.loadVisitsRows(results);
            _this.isLoadingVisitTable = false;
        });
    };
    MaintenanceProgramFormComponent.prototype.loadTasksRows = function (results) {
        var _this = this;
        if (!!results) {
            var tasks_1 = [];
            results
                .filter(function (element) {
                return (!element.visitCode &&
                    element.bireTaskDTO &&
                    element.bireTaskDTO.taskTypeCode !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].TASK_TYPE_VISIT_KEY);
            })
                .forEach(function (element, index) {
                var temp = _this.convertPlanTaskCounterTableDTOToRow(element, index);
                if (!!temp) {
                    tasks_1.push(temp);
                }
            });
            this.tasks = tasks_1;
        }
    };
    MaintenanceProgramFormComponent.prototype.loadVisitsRows = function (results) {
        var _this = this;
        if (!!results) {
            var visitsTemp_1 = [];
            results
                .filter(function (element) {
                return !!element.visitCode;
            })
                .forEach(function (element, index) {
                var temp = _this.convertPlanTaskCounterTableDTOToRow(element, index);
                if (!!temp) {
                    visitsTemp_1.push(temp);
                }
            });
            this.buildVisits(visitsTemp_1);
        }
    };
    MaintenanceProgramFormComponent.prototype.buildVisits = function (visits) {
        var _this = this;
        this.rowGroupVisit = this.createRowGroupVisit(visits);
        this.visits = [];
        this.rowGroupVisit.forEach(function (element, index) {
            var vistsTask = __assign({}, element.tasks[0]);
            vistsTask.visitbloc = index;
            vistsTask.visitTasks = element.tasks || [];
            vistsTask.taskType = 'Visit';
            vistsTask.taskTypeCode = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].TASK_TYPE_VISIT_KEY;
            _this.visits.push(vistsTask);
        });
    };
    MaintenanceProgramFormComponent.prototype.createRowGroupVisit = function (visits) {
        var initArr = [];
        return visits.reduce(function (arr, item) {
            var visitExistence = arr.filter(function (element) {
                return element.visitCode === item.visitCode + "-" + item.visitVersion + "-" + item.reference;
            });
            if (visitExistence.length > 0) {
                var existingObj = visitExistence[0];
                existingObj.tasks.push(item);
            }
            else {
                arr.push({
                    visitCode: item.visitCode + "-" + item.visitVersion + "-" + item.reference,
                    tasks: [item]
                });
            }
            return arr;
        }, initArr);
    };
    MaintenanceProgramFormComponent.prototype.loadMissingTasksRows = function (results) {
        var _this = this;
        if (!!results) {
            var removedTasks_1 = [];
            results
                .filter(function (element) {
                return (!element.visitCode &&
                    element.bireTaskDTO &&
                    element.bireTaskDTO.taskTypeCode !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].TASK_TYPE_VISIT_KEY);
            })
                .forEach(function (element, index) {
                var temp = _this.convertPlanTaskCounterTableDTOToRow(element, index);
                if (!!temp) {
                    removedTasks_1.push(temp);
                }
            });
            this.removedTasks = removedTasks_1;
        }
    };
    MaintenanceProgramFormComponent.prototype.loadMissingVisitsRows = function (results) {
        var _this = this;
        if (!!results) {
            var removedVisits_1 = [];
            results
                .filter(function (element) {
                return !!element.visitCode;
            })
                .map(function (element, index) {
                var temp = _this.convertPlanTaskCounterTableDTOToRow(element, index);
                if (!!temp) {
                    removedVisits_1.push(temp);
                }
            });
            this.buildMissingVisits(removedVisits_1);
        }
    };
    MaintenanceProgramFormComponent.prototype.buildMissingVisits = function (visits) {
        var _this = this;
        this.rowGroupMissingVisit = this.createRowGroupVisit(visits);
        this.removedVisits = [];
        this.rowGroupMissingVisit.forEach(function (element, index) {
            var vistsTask = __assign({}, element.tasks[0]);
            vistsTask.visitbloc = index;
            vistsTask.visitTasks = element.tasks || [];
            vistsTask.taskType = 'Visit';
            vistsTask.taskTypeCode = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].TASK_TYPE_VISIT_KEY;
            _this.removedVisits.push(vistsTask);
        });
    };
    MaintenanceProgramFormComponent.prototype.loadItems = function (planCode) {
        var _this = this;
        this.isLoadingItemTable = true;
        this.maintenanceProgramFormService.findBirePlanItemsByPlanCode(planCode).subscribe(function (results) {
            _this.items = results;
            _this.isLoadingItemTable = false;
        });
    };
    MaintenanceProgramFormComponent.prototype.loadParts = function (planCode) {
        var _this = this;
        this.isLoadingPartTable = true;
        this.maintenanceProgramFormService.findBirePlanPnsByPlanCode(planCode).subscribe(function (results) {
            _this.parts = results;
            _this.isLoadingPartTable = false;
        });
    };
    MaintenanceProgramFormComponent.prototype.cancelMaintenanceProgram = function () {
        if (this.isWriteOpenMode) {
            this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
        }
        this.reloadMaintenanceProgram();
    };
    MaintenanceProgramFormComponent.prototype.editMaintenanceProgram = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write);
    };
    MaintenanceProgramFormComponent.prototype.reloadMaintenanceProgram = function () {
        this.loadOnInit();
    };
    /***********************************************************************************
     * Part Section
     ***********************************************************************************/
    /*public openPart(): void {
      this.isReadOnlyPartDialog = true;
      if (this.selectedParts.length === 1) {
        this.currentParts = { ...this.selectedParts[0] };
        this.currentPartIndex = this.parts.indexOf(this.selectedParts[0]);
        this.showPartPopup = true;
        this.dataPart = {
          componentId: 'PartPopupFormComponent',
          selectedRow: this.selectedParts,
          object: this.currentParts,
          openMode: ComponentOpenMode.Write
        };
      }
    }*/
    MaintenanceProgramFormComponent.prototype.createPart = function () {
        this.currentParts = {};
        this.showPartPopup = true;
        this.isReadOnlyPartDialog = false;
        this.dataPart = {
            componentId: 'PartPopupFormComponent',
            selectedRow: undefined,
            object: this.currentParts,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write
        };
        this.currentPartIndex = -1;
        this.selectedParts = [];
    };
    MaintenanceProgramFormComponent.prototype.deletePart = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.confirmSelectedDataDelete',
            accept: function () {
                _this.selectedParts.forEach(function (element) {
                    var indexInDisplayedList = _this.parts.indexOf(element);
                    _this.parts.splice(indexInDisplayedList, 1);
                    _this.partAssociateTableDTODeletedList.push(element);
                });
                _this.selectedParts = [];
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.savePart = function (item) {
        var _this = this;
        var partObj = {
            birePlanPnDTO: item.birePnDTO,
            pnCode: item.consumableCode,
            pnName: item.consumableName,
            pnType: item.consumableTypeKey,
            planPnTypeText: item.consumableTypeValue
        };
        if (this.isNewPlanCode) {
            this.confirmationService.confirm({
                messageKey: this.getTranslateKey('createMaintenanceProgramConfirmation'),
                accept: function () {
                    _this.addPart(partObj);
                    _this.saveMaintenanceProgram();
                }
            });
        }
        else {
            this.addPart(partObj);
        }
        this.selectedParts = [];
    };
    MaintenanceProgramFormComponent.prototype.addPart = function (partObj) {
        if (!!partObj) {
            var getParts = this.parts.filter(function (obj) {
                return obj.pnCode === partObj.pnCode && obj.pnName === partObj.pnName && obj.pnType === partObj.pnType;
            });
            if (getParts.length > 0) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorOnPartAdd'));
                return;
            }
            if (!!partObj.birePlanPnDTO) {
                partObj.birePlanPnDTO.planCode = this.currentMaintenancePlan.planCode;
            }
            if (this.currentPartIndex > -1) {
                this.parts[this.currentPartIndex] = partObj;
            }
            else {
                this.parts = __spread(this.parts, [partObj]);
            }
            this.partAssociateTableDTOAddedList.push(partObj);
        }
    };
    /***********************************************************************************
     * Item Section
     ***********************************************************************************/
    /*public openItem(): void {
      this.isReadOnlyItemDialog = true;
      if (this.selectedItems.length === 1) {
        this.currentItems = { ...this.selectedItems[0] };
        this.currentItemIndex = this.items.indexOf(this.selectedItems[0]);
        this.showItemPopup = true;
        this.dataItem = {
          componentId: 'ItemPopupFormComponent',
          selectedRow: this.selectedItems,
          object: this.currentItems,
          openMode: ComponentOpenMode.Write
        };
      }
    }*/
    MaintenanceProgramFormComponent.prototype.createItem = function () {
        this.showItemPopup = true;
        this.isReadOnlyItemDialog = false;
        this.dataItem = {
            componentId: 'ItemPopupFormComponent',
            selectedRow: [],
            object: {},
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write
        };
        this.currentItemIndex = -1;
        this.selectedItems = [];
    };
    MaintenanceProgramFormComponent.prototype.deleteItem = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.confirmSelectedDataDelete',
            accept: function () {
                _this.selectedItems.forEach(function (element) {
                    var indexInDisplayedList = _this.items.indexOf(element);
                    _this.items.splice(indexInDisplayedList, 1);
                    _this.itemsAssociatedTableDTODeletedList.push(element);
                });
                _this.selectedItems = [];
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.saveItem = function (itemObj) {
        var _this = this;
        var item = {};
        item.chapter = itemObj.chapter;
        item.section = itemObj.section;
        item.subject = itemObj.subject;
        item.sheet = itemObj.sheet;
        item.marks = itemObj.marks;
        var familyVariant = itemObj.familyCode + "-" + itemObj.structureType + "-" + itemObj.variantCode;
        var itemCode = item.chapter + "-" + item.section + "-" + item.subject + "-" + item.sheet + "-" + item.marks;
        var designation = "" + itemObj.name;
        var obj = {
            familyVariant: familyVariant,
            itemCode: itemCode,
            designation: designation,
            birePlanItemDTO: itemObj
        };
        if (!!obj.birePlanItemDTO) {
            obj.birePlanItemDTO.familyCode = itemObj.familyCode;
            obj.birePlanItemDTO.structureType = itemObj.structureType;
            obj.birePlanItemDTO.variantCode = itemObj.variantCode;
        }
        if (this.isNewPlanCode) {
            this.confirmationService.confirm({
                messageKey: this.getTranslateKey('createMaintenanceProgramConfirmation'),
                accept: function () {
                    _this.addItem(obj);
                    _this.saveMaintenanceProgram();
                }
            });
        }
        else {
            this.addItem(obj);
        }
        this.selectedItems = [];
    };
    MaintenanceProgramFormComponent.prototype.addItem = function (itemObj) {
        if (!!itemObj) {
            var getItems = this.items.filter(function (obj) {
                return obj.itemCode === itemObj.itemCode && obj.familyVariant === itemObj.familyVariant;
            });
            if (getItems.length > 0) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorOnItemAdd'));
                return;
            }
            if (!!itemObj.birePlanItemDTO) {
                itemObj.birePlanItemDTO.planCode = this.currentMaintenancePlan.planCode;
            }
            if (this.currentItemIndex > -1) {
                this.items[this.currentItemIndex] = itemObj;
            }
            else {
                this.items = __spread(this.items, [itemObj]);
            }
            this.itemsAssociatedTableDTOAddedList.push(itemObj);
        }
    };
    /***********************************************************************************
     * Visit Task Section
     ***********************************************************************************/
    MaintenanceProgramFormComponent.prototype.editTaskVisit = function (type) {
        this.isReadOnlyVisitTaskDialog = false;
        this.isCreateMode = false;
        this.popUpType = type;
        if (type === 'task' && this.selectedTasks.length === 1) {
            this.currentTasks = __assign({}, this.selectedTasks[0]);
            this.currentTaskIndex = this.tasks.indexOf(this.selectedTasks[0]);
            this.showVisitTaskPopup = true;
            if (!!this.currentTasks.planTaskCounterTableDTO) {
                this.dataVisitTask = {
                    componentId: 'TaskVisitPopupFormComponent',
                    selectedRow: [],
                    object: this.currentTasks.planTaskCounterTableDTO,
                    openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write
                };
            }
        }
        else if (type === 'visit' && this.selectedVisits.length === 1) {
            this.currentVisits = __assign({}, this.selectedVisits[0]);
            this.currentVisitIndex = this.tasks.indexOf(this.selectedVisits[0]);
            this.showVisitTaskPopup = true;
            if (!!this.currentVisits.planTaskCounterTableDTO) {
                this.dataVisitTask = {
                    componentId: 'TaskVisitPopupFormComponent',
                    selectedRow: [],
                    object: this.currentVisits.planTaskCounterTableDTO,
                    openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write
                };
            }
        }
    };
    MaintenanceProgramFormComponent.prototype.openTaskVisit = function (type) {
        this.isReadOnlyVisitTaskDialog = true;
        this.isCreateMode = false;
        this.popUpType = type;
        if (type === 'task' && this.selectedTasks.length === 1) {
            this.currentTasks = __assign({}, this.selectedTasks[0]);
            this.currentTaskIndex = this.tasks.indexOf(this.selectedTasks[0]);
            this.showVisitTaskPopup = true;
            if (!!this.currentTasks.planTaskCounterTableDTO) {
                this.dataVisitTask = {
                    componentId: 'TaskVisitPopupFormComponent',
                    selectedRow: [],
                    object: this.currentTasks.planTaskCounterTableDTO,
                    openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
                };
            }
        }
        else if (type === 'visit' && this.selectedVisits.length === 1) {
            this.currentVisits = __assign({}, this.selectedVisits[0]);
            this.currentVisitIndex = this.tasks.indexOf(this.selectedVisits[0]);
            this.showVisitTaskPopup = true;
            if (!!this.currentVisits.planTaskCounterTableDTO) {
                this.dataVisitTask = {
                    componentId: 'TaskVisitPopupFormComponent',
                    selectedRow: [],
                    object: this.currentVisits.planTaskCounterTableDTO,
                    openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
                };
            }
        }
    };
    MaintenanceProgramFormComponent.prototype.createTaskVisit = function (type) {
        this.isCreateMode = true;
        var newVisitOrTask = {
            birePlanTaskCounterDTO: {
                planCode: this.currentMaintenancePlan.planCode
            },
            bireTaskDTO: {}
        };
        if (type === 'visit') {
            this.currentVisitIndex = -1;
            this.selectedVisits = [];
        }
        else {
            this.currentTaskIndex = -1;
            this.selectedTasks = [];
        }
        this.showVisitTaskPopup = true;
        this.isReadOnlyVisitTaskDialog = false;
        this.popUpType = type;
        this.dataVisitTask = {
            componentId: 'TaskVisitPopupFormComponent',
            selectedRow: undefined,
            object: newVisitOrTask,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write
        };
    };
    MaintenanceProgramFormComponent.prototype.createNewTaskVisit = function (type) {
        var openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Create;
        if (type === 'task') {
            var labelKey = 'transaction.TaskFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'TaskFormComponent',
                objectId: undefined,
                openMode: openMode
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
        else if (type === 'visit') {
            var labelKey = 'transaction.VisitFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'VisitFormComponent',
                objectId: undefined,
                openMode: openMode
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
    };
    MaintenanceProgramFormComponent.prototype.deleteTaskVisit = function (type) {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.confirmSelectedDataDelete',
            accept: function () {
                if (type === 'task') {
                    _this.selectedTasks.forEach(function (element) {
                        var indexInDisplayedList = _this.tasks.indexOf(element);
                        _this.tasks.splice(indexInDisplayedList, 1);
                        if (!!element.planTaskCounterTableDTO &&
                            _this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO) < 0) {
                            _this.planTaskCounterTableDTODeletedList.push(element.planTaskCounterTableDTO);
                        }
                    });
                    _this.selectedTasks = [];
                }
                else if (type === 'visit') {
                    _this.selectedVisits.forEach(function (element) {
                        var indexInDisplayedList = _this.visits.indexOf(element);
                        // delete including tasks of this visit also
                        _this.visits.splice(indexInDisplayedList, 1);
                        if (!!element.planTaskCounterTableDTO &&
                            _this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO) < 0) {
                            _this.planTaskCounterTableDTODeletedList.push(element.planTaskCounterTableDTO);
                        }
                    });
                    _this.selectedVisits = [];
                }
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.saveTaskVisit = function (elements) {
        var _this = this;
        if (this.isNewPlanCode) {
            this.confirmationService.confirm({
                messageKey: this.getTranslateKey('createMaintenanceProgramConfirmation'),
                accept: function () {
                    _this.addUpdateRowData(elements);
                    _this.saveMaintenanceProgram();
                }
            });
        }
        else {
            this.addUpdateRowData(elements);
        }
        this.selectedTasks = [];
        this.selectedVisits = [];
    };
    // tslint:disable-next-line:no-any
    MaintenanceProgramFormComponent.prototype.checkNotIsNullOrUndefined = function (obj) {
        return obj !== null && obj !== undefined;
    };
    MaintenanceProgramFormComponent.prototype.addUpdateRowData = function (elements) {
        var _this = this;
        var element = elements[0];
        var checkExistingTaskIndex = -1;
        var checkExistingVisitIndex = -1;
        if (this.checkNotIsNullOrUndefined(element.visitCode) &&
            this.checkNotIsNullOrUndefined(element.visitVersion) &&
            element.visitCode !== '' &&
            element.visitVersion !== '') {
            this.visits.forEach(function (visit, index) {
                if (visit.visitCode === element.visitCode &&
                    visit.visitVersion === element.visitVersion &&
                    !!visit.planTaskCounterTableDTO &&
                    !!visit.planTaskCounterTableDTO.birePlanTaskCounterDTO &&
                    !!element.birePlanTaskCounterDTO &&
                    visit.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ===
                        element.birePlanTaskCounterDTO.counterCode) {
                    checkExistingVisitIndex = index;
                    return;
                }
            });
        }
        else if (!!element.birePlanTaskCounterDTO &&
            this.checkNotIsNullOrUndefined(element.birePlanTaskCounterDTO.taskCode) &&
            this.checkNotIsNullOrUndefined(element.birePlanTaskCounterDTO.taskVersion) &&
            element.birePlanTaskCounterDTO.taskCode !== '' &&
            element.birePlanTaskCounterDTO.taskVersion !== '') {
            this.tasks.forEach(function (task, index) {
                if (!!element.birePlanTaskCounterDTO &&
                    task.taskCode === element.birePlanTaskCounterDTO.taskCode &&
                    task.version === element.birePlanTaskCounterDTO.taskVersion &&
                    !!task.planTaskCounterTableDTO &&
                    !!task.planTaskCounterTableDTO.birePlanTaskCounterDTO &&
                    task.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode) {
                    checkExistingTaskIndex = index;
                    return;
                }
            });
        }
        if (this.isCreateMode && this.popUpType === 'visit' && checkExistingVisitIndex > -1) {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnVisitAdd'));
            return;
        }
        else if (this.isCreateMode && this.popUpType === 'task' && checkExistingTaskIndex > -1) {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnTaskAdd'));
            return;
        }
        // Add to added and updated list in save api
        if (checkExistingTaskIndex < 0 && checkExistingVisitIndex < 0) {
            var planTaskCounterTableDTOAddedList = __spread(this.planTaskCounterTableDTOAddedList);
            planTaskCounterTableDTOAddedList.forEach(function (obj, indexOfTask) {
                if (obj.birePlanTaskCounterDTO &&
                    element.birePlanTaskCounterDTO &&
                    obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&
                    obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&
                    obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode) {
                    _this.planTaskCounterTableDTOAddedList.splice(indexOfTask, 1);
                }
            });
            this.planTaskCounterTableDTOAddedList.push(element);
            var planTaskCounterTableDTODeletedList = __spread(this.planTaskCounterTableDTODeletedList);
            planTaskCounterTableDTODeletedList.forEach(function (obj, indexOfDeletedTask) {
                if (obj.birePlanTaskCounterDTO &&
                    element.birePlanTaskCounterDTO &&
                    obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&
                    obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&
                    obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode) {
                    _this.planTaskCounterTableDTODeletedList.splice(indexOfDeletedTask, 1);
                }
            });
        }
        else {
            // Check if newly added from added if exists
            var isFound_1 = false;
            var planTaskCounterTableDTOAddedList = __spread(this.planTaskCounterTableDTOAddedList);
            planTaskCounterTableDTOAddedList.forEach(function (obj, indexOfTask) {
                if (obj.birePlanTaskCounterDTO &&
                    element.birePlanTaskCounterDTO &&
                    obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&
                    obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&
                    obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode) {
                    _this.planTaskCounterTableDTOAddedList[indexOfTask] = element;
                    isFound_1 = true;
                }
            });
            if (!isFound_1) {
                var planTaskCounterTableDTOUpdatedList = __spread(this.planTaskCounterTableDTOUpdatedList);
                planTaskCounterTableDTOUpdatedList.forEach(function (obj, indexOfTask) {
                    if (obj.birePlanTaskCounterDTO &&
                        element.birePlanTaskCounterDTO &&
                        obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&
                        obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&
                        obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode) {
                        _this.planTaskCounterTableDTOUpdatedList.splice(indexOfTask, 1);
                    }
                });
                this.planTaskCounterTableDTOUpdatedList.push(element);
            }
        }
        // convert to task row
        var itemObj = [];
        elements.forEach(function (item) {
            var index = 0;
            if (_this.popUpType === 'task') {
                index = checkExistingTaskIndex === -1 ? _this.tasks.length : checkExistingTaskIndex;
            }
            else if (_this.popUpType === 'visit') {
                index = checkExistingVisitIndex === -1 ? _this.visits.length : checkExistingVisitIndex;
            }
            var temp = _this.convertPlanTaskCounterTableDTOToRow(item, index);
            if (!!temp) {
                itemObj.push(temp);
            }
        });
        // Check AMP compliance when a task/visit is validated
        if (this.relatedRecommendedMaintenancePlanCode) {
            this.validateCompliance(itemObj, checkExistingVisitIndex, checkExistingTaskIndex);
        }
        else {
            this.setTaskvisitRow(itemObj, checkExistingVisitIndex, checkExistingTaskIndex);
        }
    };
    MaintenanceProgramFormComponent.prototype.setTaskvisitRow = function (items, visitIndex, taskIndex) {
        var itemObj = items[0];
        // just to verify if item is visit
        if (!!itemObj.visitCode) {
            if (visitIndex > -1) {
                this.visits[visitIndex] = this.appendTasksToVisit(items, visitIndex)[0];
            }
            else {
                this.visits = this.visits.concat(this.appendTasksToVisit(items, this.visits.length));
            }
        }
        else {
            if (taskIndex > -1) {
                this.tasks[taskIndex] = itemObj;
            }
            else {
                this.tasks = this.tasks.concat(items);
            }
        }
    };
    MaintenanceProgramFormComponent.prototype.appendTasksToVisit = function (newVisits, visitIndex) {
        this.rowGroupVisit = this.createRowGroupVisit(newVisits);
        var visit = [];
        this.rowGroupVisit.forEach(function (element, index) {
            var vistsTask = __assign({}, element.tasks[0]);
            vistsTask.visitbloc = visitIndex;
            vistsTask.visitTasks = element.tasks || [];
            vistsTask.taskType = 'Visit';
            vistsTask.taskTypeCode = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].TASK_TYPE_VISIT_KEY;
            visit.push(vistsTask);
        });
        return visit;
    };
    MaintenanceProgramFormComponent.prototype.initMeasureUnit = function () {
        var _this = this;
        this.isUnitFh = true;
        this.propertiesService
            .getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__["GenericPropertyConstants"].AEROWEBB_CONFIGURATION_MAP)
            .subscribe(function (awConfiguration) {
            if (_shared_utils_settings_utils__WEBPACK_IMPORTED_MODULE_28__["SettingsUtils"].isPropertyEnabled(awConfiguration, _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].REFERENTIAL_ALERT_THRESHOLD_IS_PERCENTAGE)) {
                _this.isUnitFh = false;
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.calculateFhValueFromPercentage = function (percent, periodicityFirst, periodicity) {
        if (!!periodicity) {
            return (Math.round(((percent * periodicity) / MaintenanceProgramFormComponent_1.PERCENTAGE_CONST) *
                MaintenanceProgramFormComponent_1.ONE_DECIMAL_ROUND) / MaintenanceProgramFormComponent_1.ONE_DECIMAL_ROUND);
        }
        if (!!periodicityFirst) {
            return (Math.round(((percent * periodicityFirst) / MaintenanceProgramFormComponent_1.PERCENTAGE_CONST) *
                MaintenanceProgramFormComponent_1.ONE_DECIMAL_ROUND) / MaintenanceProgramFormComponent_1.ONE_DECIMAL_ROUND);
        }
        return 0;
    };
    MaintenanceProgramFormComponent.prototype.convertPlanTaskCounterTableDTOToRow = function (element, rowIndex) {
        if (!!element.bireTaskDTO && !!element.birePlanTaskCounterDTO && !!element.birePlanTaskCounterDTO.counterCode) {
            var tempReference = this.referencesMap.get(element.birePlanTaskCounterDTO.counterCode);
            var itemObj = {
                taskCode: element.bireTaskDTO.taskCode || '',
                visitCode: element.visitCode || '',
                planCode: element.birePlanTaskCounterDTO.planCode,
                version: element.bireTaskDTO.taskVersion || '',
                visitVersion: element.visitVersion || '',
                designation: element.bireTaskDTO.taskDesignation || '',
                taskGroup: element.bireTaskDTO.groupCode && this.taskGroupMap.get(element.bireTaskDTO.groupCode),
                taskType: element.bireTaskDTO.taskTypeCode && this.taskTypeMap.get(element.bireTaskDTO.taskTypeCode),
                taskTypeCode: element.bireTaskDTO.taskTypeCode,
                groupCode: element.birePlanTaskCounterDTO.groupCode,
                reference: (element.birePlanTaskCounterDTO.counterCode && tempReference) || '',
                firstPeriodicity: element.birePlanTaskCounterDTO.periodicityFirst || 0,
                periodicity: element.birePlanTaskCounterDTO.periodicity || 0,
                unit: this.unitCodeMap.get(element.birePlanTaskCounterDTO.counterCode),
                periodicityType: element.birePlanTaskCounterDTO.periodicityType &&
                    this.periodicityTypeMap.get(element.birePlanTaskCounterDTO.periodicityType),
                tolerance: element.birePlanTaskCounterDTO.tolerance || 0,
                alertThreshold: element.birePlanTaskCounterDTO.threshold || 0,
                comments: this.getDisplayComments(element.birePlanTaskCounterDTO.comments || ''),
                compliance: element.complianceLight || undefined,
                planTaskCounterTableDTO: element,
                isRemovable: element.isRemovable,
                visitTasks: [],
                visitDesignation: element.visitDesignation || '',
                expand: false,
                showMore: false,
                childRow: [
                    {
                        comments: this.getDisplayComments(element.birePlanTaskCounterDTO.comments || ''),
                        firstPeriodicity: element.birePlanTaskCounterDTO.periodicityFirst,
                        groupCode: element.birePlanTaskCounterDTO.groupCode,
                        periodicityType: element.birePlanTaskCounterDTO.periodicityType &&
                            this.periodicityTypeMap.get(element.birePlanTaskCounterDTO.periodicityType),
                        taskType: element.bireTaskDTO.taskTypeCode && this.taskTypeMap.get(element.bireTaskDTO.taskTypeCode),
                        taskTypeCode: element.bireTaskDTO.taskTypeCode
                    }
                ],
                dataKey: rowIndex,
                complianceDetail: element.complianceDetail
            };
            if (this.isUnitFh && !!itemObj.alertThreshold && (!!itemObj.periodicity || !!itemObj.firstPeriodicity)) {
                itemObj.alertThreshold = this.calculateFhValueFromPercentage(itemObj.alertThreshold, itemObj.firstPeriodicity, itemObj.periodicity);
            }
            return itemObj;
        }
    };
    MaintenanceProgramFormComponent.prototype.getDisplayComments = function (comment) {
        try {
            if (comment) {
                var commentObj = JSON.parse(comment);
                if (commentObj && commentObj.length === 1) {
                    return commentObj[0].comment;
                }
                else if (commentObj && commentObj.length > 1) {
                    return !!commentObj[0].comment ? commentObj[0].comment : comment;
                }
            }
            return '';
        }
        catch (e) {
            return comment;
        }
    };
    MaintenanceProgramFormComponent.prototype.assignAssets = function () {
        if (!this.currentMaintenancePlan.planValidityEndDate ||
            new Date(this.currentMaintenancePlan.planValidityEndDate).getTime() > new Date().getTime()) {
            this.isReadOnlyAssetDialog = false;
            this.showAssetPopup = true;
            this.dataAsset = {
                componentId: 'AssignAssetsPopupFormComponent',
                selectedRow: undefined,
                object: this.currentMaintenancePlan,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write
            };
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorValidityExpire'));
        }
    };
    MaintenanceProgramFormComponent.prototype.createAmp = function () {
        var _this = this;
        if (!!this.currentMaintenancePlan.planCode) {
            this.maintenanceProgramFormService.generateAMPFromRMP(this.currentMaintenancePlan.planCode).subscribe(function (anAMP) {
                if (!!anAMP) {
                    _this.currentMaintenancePlan.ampplanCode = anAMP.planCode;
                    _this.relatedApplicableMaintenancePlanCode = anAMP.planCode;
                    _this.showCreateAmpButton = false;
                    // Check if there is a previous revision available to propose to fetch customization
                    _this.maintenanceProgramFormService
                        .getPreviousRMPRevisionOfMaintenancePlan(_this.currentMaintenancePlan)
                        .subscribe(function (previousRMP) {
                        if (previousRMP && previousRMP.ampplanCode) {
                            // Ask for retrieval of customization
                            _this.confirmationService.confirm({
                                messageKey: _this.getTranslateKey('createCustomizeAmp'),
                                accept: function () {
                                    _this.maintenanceProgramFormService
                                        .applyPreviousAMPCustomizationOnAMP(_this.currentMaintenancePlan)
                                        .subscribe(function () {
                                        _this.messageService.showSuccessMessage(_this.getTranslateKey('customizationAmpSuccessful'));
                                    });
                                }
                            });
                        }
                    });
                }
            });
        }
    };
    MaintenanceProgramFormComponent.prototype.checkAmpComplianceWithRmp = function () {
        var _this = this;
        var checkAMPComplianceRMPInput;
        checkAMPComplianceRMPInput = {
            recommendedMaintenancePlanCode: this.relatedRecommendedMaintenancePlanCode,
            applicableMaintenancePlanCode: this.planCode
        };
        this.isLoadingTaskTable = true;
        this.isLoadingVisitTable = true;
        this.maintenanceProgramFormService.controlComplianceWithRMP(checkAMPComplianceRMPInput).subscribe(function (result) {
            _this.complianceColor = result && result.maintenancePlanControlIcon;
            // Update compliance data in task & visit Table
            if (result && result.updatedPlanTaskCounterTableDTOs) {
                _this.loadTasksRows(result.updatedPlanTaskCounterTableDTOs);
                _this.isLoadingTaskTable = false;
                _this.loadVisitsRows(result.updatedPlanTaskCounterTableDTOs);
                _this.isLoadingVisitTable = false;
            }
            if (result && result.missingPlanTaskCounterTableDTOs) {
                _this.loadMissingTasksRows(result.missingPlanTaskCounterTableDTOs);
                _this.loadMissingVisitsRows(result.missingPlanTaskCounterTableDTOs);
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.saveMaintenanceProgram = function () {
        var _this = this;
        if (this.currentMaintenancePlan.planCode &&
            this.currentMaintenancePlan.planName &&
            this.currentMaintenancePlan.planRevisionNumber) {
            var saveMaintenanceProgramScreenInput_1 = {
                mpCodeSelected: this.currentMaintenancePlan.planCode,
                isForUpdate: !this.isNewPlanCode,
                statusSelected: this.selectedStatus
            };
            saveMaintenanceProgramScreenInput_1.isForUpdate = !this.isNewPlanCode;
            saveMaintenanceProgramScreenInput_1.bireMaintenancePlanDTO = this.currentMaintenancePlan;
            // update status
            saveMaintenanceProgramScreenInput_1.bireMaintenancePlanDTO.statusState = this.selectedStatus;
            if (!!this.sessionService.loggedUser) {
                var login = this.sessionService.loggedUser.login;
                saveMaintenanceProgramScreenInput_1.bireMaintenancePlanDTO.statusUser = login;
            }
            saveMaintenanceProgramScreenInput_1.itemsAssociatedTableDTOAddedList = this.itemsAssociatedTableDTOAddedList;
            saveMaintenanceProgramScreenInput_1.itemsAssociatedTableDTODeletedList = this.itemsAssociatedTableDTODeletedList;
            saveMaintenanceProgramScreenInput_1.partAssociateTableDTOAddedList = this.partAssociateTableDTOAddedList;
            saveMaintenanceProgramScreenInput_1.partAssociateTableDTODeletedList = this.partAssociateTableDTODeletedList;
            saveMaintenanceProgramScreenInput_1.planTaskCounterTableDTOAddedList = this.planTaskCounterTableDTOAddedList;
            saveMaintenanceProgramScreenInput_1.planTaskCounterTableDTODeletedList = this.planTaskCounterTableDTODeletedList;
            saveMaintenanceProgramScreenInput_1.planTaskCounterTableDTOUpdatedList = this.planTaskCounterTableDTOUpdatedList;
            var bireAttributeDtos = this.dynamicAttributesService.toBirePlanAttribute(this.currentMaintenancePlan.planCode, this.dynamicAttributesForMaintenancePlan);
            saveMaintenanceProgramScreenInput_1.birePlanAttributeDTOAddedList = [];
            saveMaintenanceProgramScreenInput_1.birePlanAttributeDTOUpdatedList = [];
            saveMaintenanceProgramScreenInput_1.birePlanAttributeDTODeletedList = [];
            if (bireAttributeDtos !== null && bireAttributeDtos !== undefined) {
                bireAttributeDtos.forEach(function (attr) {
                    if (!attr.attributeValue) {
                        if (attr.attributeId &&
                            _this.planAttributeIdValueMap.get(attr.attributeId) &&
                            saveMaintenanceProgramScreenInput_1.birePlanAttributeDTODeletedList) {
                            saveMaintenanceProgramScreenInput_1.birePlanAttributeDTODeletedList.push(attr);
                        }
                    }
                    else {
                        if (attr.attributeId && _this.planAttributeIdValueMap.get(attr.attributeId)) {
                            if (saveMaintenanceProgramScreenInput_1.birePlanAttributeDTOUpdatedList) {
                                saveMaintenanceProgramScreenInput_1.birePlanAttributeDTOUpdatedList.push(attr);
                            }
                        }
                        else {
                            if (saveMaintenanceProgramScreenInput_1.birePlanAttributeDTOAddedList) {
                                saveMaintenanceProgramScreenInput_1.birePlanAttributeDTOAddedList.push(attr);
                            }
                        }
                    }
                });
            }
            saveMaintenanceProgramScreenInput_1.bireTaskTaskDTO = [];
            this.showSaveSpinner = true;
            this.maintenanceProgramFormService.saveMaintenanceProgram(saveMaintenanceProgramScreenInput_1).subscribe(function (result) {
                _this.currentMaintenancePlan.planCode = result;
                if (_this.isNewPlanCode) {
                    _this.updateComponentOpenMode();
                }
                else {
                    _this.loadOnInit();
                }
                _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnSaveProgram'));
                _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
                _this.showSaveSpinner = false;
            }, function (error) {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSaveProgram'));
                _this.showSaveSpinner = false;
            });
            if (this.currentMaintenancePlan.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY &&
                this.sessionService.isSpecificMHIAEL) {
                this.maintenanceProgramFormMhiaelService
                    .updateInMassRMPSubObjectStatus(this.currentMaintenancePlan)
                    .subscribe();
                this.maintenanceProgramFormMhiaelService.updateRMPCsv(this.currentMaintenancePlan).subscribe();
            }
        }
        else {
            // If plan is new, clear tables
            if (!this.componentData.objectId) {
                this.parts = [];
                this.items = [];
                this.tasks = [];
                this.visits = [];
            }
            this.messageService.showErrorMessage('global.missingFields');
        }
    };
    MaintenanceProgramFormComponent.prototype.updateComponentOpenMode = function () {
        if (!!this.currentMaintenancePlan.planCode && !!this.componentData) {
            var birePlanDTOId = {
                planCode: this.currentMaintenancePlan.planCode
            };
            this.componentData.openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write;
            this.componentData.objectId = this.serializationService.serialize(birePlanDTOId);
            this.componentData.componentId = _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_FORM;
            this.ngOnInit();
        }
    };
    MaintenanceProgramFormComponent.prototype.checkAssetsAndCreateAmpVisibility = function () {
        this.getCeateAMPVisibility();
        this.getAssignAssetsVisibility();
    };
    MaintenanceProgramFormComponent.prototype.openMaintenanceProgram = function (planCode) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_FORM,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
        };
        if (!!planCode) {
            var birePlanDTOId = {
                planCode: planCode
            };
            data.objectId = this.serializationService.serialize(birePlanDTOId);
        }
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    MaintenanceProgramFormComponent.prototype.openItemCode = function (itemCode) {
        // TODO: open item screen
        return;
    };
    MaintenanceProgramFormComponent.prototype.openPartCode = function (pnCode, pnType) {
        if (pnType === '4-par') {
            var labelKey = 'transaction.PartNumberFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'PartNumberFormComponent',
                objectId: pnCode,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
        else {
            var materialFormId = {
                pnCode: pnCode,
                pnType: pnType
            };
            var labelKey = 'transaction.MaterialFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'MaterialFormComponent',
                objectId: this.serializationService.serialize(materialFormId),
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
    };
    MaintenanceProgramFormComponent.prototype.openVisitOrTaskCode = function (object, type) {
        if (!!object.visitCode) {
            var labelKey = 'transaction.VisitFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'VisitFormComponent',
                objectId: this.serializationService.serialize(object.birePlanTaskCounterDTO),
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
        else {
            var labelKey = 'transaction.TaskFormComponent';
            var data = {
                id: this.tabService.generateId(),
                componentId: 'TaskFormComponent',
                objectId: this.serializationService.serialize(object.birePlanTaskCounterDTO),
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
    };
    MaintenanceProgramFormComponent.prototype.checkUpgradeMaintenancePlan = function () {
        if (this.currentMaintenancePlan.planRevisionNumber !== null &&
            this.currentMaintenancePlan.planRevisionNumber !== undefined &&
            !isNaN(Number(this.currentMaintenancePlan.planRevisionNumber))) {
            this.upgradeMaintenancePlan();
        }
        else {
            this.showUpgradePopup = true;
        }
    };
    MaintenanceProgramFormComponent.prototype.upgradeMaintenancePlan = function () {
        var _this = this;
        var upgradeBireMaintenancePlanInput = {
            currentRevisionNumber: this.currentMaintenancePlan.planRevisionNumber,
            planCode: this.currentMaintenancePlan.planCode
        };
        this.maintenanceProgramFormService
            .checkAndReturnNewRevisionNumberByMaintenancePlan(upgradeBireMaintenancePlanInput)
            .subscribe(function (newerVersionDTO) {
            _this.confirmAndUpgradeVersion(newerVersionDTO);
        });
    };
    MaintenanceProgramFormComponent.prototype.confirmAndUpgradeVersion = function (newerVersionDTO) {
        var _this = this;
        var partialMessageKey = this.getTranslateKey('upgradeConfirmation');
        // TODO: need to add util to get complete plan code
        this.confirmationService.confirm({
            interpolateParams: { planRevision: newerVersionDTO && newerVersionDTO.planCode },
            messageKey: partialMessageKey,
            accept: function () {
                if (_this.currentMaintenancePlan.planCode) {
                    var upgradeBireMaintenancePlan = {
                        bireMaintenancePlanDTOId: {
                            planCode: _this.currentMaintenancePlan.planCode
                        },
                        targetRevisionNumber: newerVersionDTO && newerVersionDTO.revisionNumber
                    };
                    _this.maintenanceProgramFormService
                        .upgradeBireMaintenancePlanData(upgradeBireMaintenancePlan)
                        .subscribe(function (upgradePlanDTO) {
                        if (!!_this.componentData) {
                            _this.componentData.objectId = _this.serializationService.serialize({
                                planCode: upgradePlanDTO.planCode
                            });
                        }
                        _this.loadOnInit();
                    });
                }
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.manualUpgradeMaintenancePlan = function (newVersion) {
        if (this.currentMaintenancePlan.planCode) {
            var splitPlanCode = this.currentMaintenancePlan.planCode.split(':');
            splitPlanCode.pop();
            this.confirmAndUpgradeVersion({
                planCode: splitPlanCode.join(':') + ':' + newVersion,
                revisionNumber: newVersion
            });
        }
    };
    MaintenanceProgramFormComponent.prototype.getCeateAMPVisibility = function () {
        // Consult mode?
        if (this.isConsultMode) {
            this.showCreateAmpButton = false;
            return;
        }
        // AMP ?
        if (this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
            this.showCreateAmpButton = false;
            return;
        }
        // RMP with already an AMP ?
        if (this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP && this.relatedApplicableMaintenancePlanCode) {
            this.showCreateAmpButton = false;
            return;
        }
        // RMP status not approved
        if (this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP &&
            _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY !== this.currentMaintenancePlan.statusState) {
            this.showCreateAmpButton = false;
            return;
        }
        // RMP with assigned Assets?
        if (this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP && this.hasRelatedBidoMaintenancePlan) {
            this.showCreateAmpButton = false;
            return;
        }
        this.showCreateAmpButton = true;
    };
    MaintenanceProgramFormComponent.prototype.getAssignAssetsVisibility = function () {
        var _this = this;
        this.maintenanceProgramFormService
            .hasDisplayRights(_shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_9__["BidoFunctionTypeConstants"].UC_FM_AIRWORTHINESS)
            .subscribe(function (result) {
            _this.showAssignAssetsButton = false;
            if (_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY === _this.currentMaintenancePlan.statusState &&
                _this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
                _this.showAssignAssetsButton = true;
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.addMissingTasks = function () {
        var _this = this;
        this.selectedRemovedTasks.forEach(function (element) {
            var existingTask = _this.tasks.filter(function (taskAndVisit) {
                return (taskAndVisit.taskCode === element.taskCode &&
                    taskAndVisit.version === element.version &&
                    taskAndVisit.reference === element.reference);
            });
            if (existingTask.length === 0) {
                if (!!element.planTaskCounterTableDTO &&
                    _this.planTaskCounterTableDTOAddedList.indexOf(element.planTaskCounterTableDTO) < 0) {
                    _this.planTaskCounterTableDTOAddedList.push(element.planTaskCounterTableDTO);
                    _this.tasks.push(element);
                }
            }
            if (!!element.planTaskCounterTableDTO) {
                var indexOfDeletedTask = _this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO);
                if (indexOfDeletedTask > -1) {
                    _this.planTaskCounterTableDTODeletedList.splice(indexOfDeletedTask, 1);
                }
            }
            var indexInDisplayedList = _this.removedTasks.indexOf(element);
            _this.removedTasks.splice(indexInDisplayedList, 1);
        });
        this.selectedRemovedTasks = [];
        this.selectedTasks = [];
    };
    MaintenanceProgramFormComponent.prototype.addMissingVisits = function () {
        var _this = this;
        this.selectedRemovedVisits.forEach(function (element) {
            var existingVisit = _this.visits.filter(function (taskAndVisit) {
                return (taskAndVisit.visitCode === element.visitCode &&
                    taskAndVisit.visitVersion === element.visitVersion &&
                    taskAndVisit.reference === element.reference);
            });
            if (existingVisit.length === 0) {
                if (!!element.planTaskCounterTableDTO &&
                    _this.planTaskCounterTableDTOAddedList.indexOf(element.planTaskCounterTableDTO) < 0) {
                    _this.planTaskCounterTableDTOAddedList.push(element.planTaskCounterTableDTO);
                    element.visitbloc = _this.visits.length;
                    _this.visits.push(element);
                }
            }
            // if item is already deleted and then added, remove it from deleted list as well
            if (!!element.planTaskCounterTableDTO) {
                var indexOfDeletedVisit = _this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO);
                if (indexOfDeletedVisit > -1) {
                    _this.planTaskCounterTableDTODeletedList.splice(indexOfDeletedVisit, 1);
                }
            }
            var indexInDisplayedList = _this.removedVisits.indexOf(element);
            _this.removedVisits.splice(indexInDisplayedList, 1);
        });
        this.selectedRemovedVisits = [];
        this.selectedVisits = [];
    };
    MaintenanceProgramFormComponent.prototype.openStatusUpdatesPopup = function () {
        this.showStatusUpdatesPopup = true;
    };
    MaintenanceProgramFormComponent.prototype.showStatus = function () {
        var _this = this;
        var overlayRef = this._overlayService.openWithPositionCenter({
            content: _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_30__["ObjectStatusComponent"],
            data: {
                currentAuthor: this.currentMaintenancePlan.statusUser,
                currentDate: this.currentMaintenancePlan.statusDate,
                currentStatus: {
                    label: this._formatSelectOption.transform(this.currentMaintenancePlan.statusState, this.workflowStatus),
                    value: this.currentMaintenancePlan.statusState
                },
                nextStatuses: this.workflowStatus
            }
        });
        overlayRef.afterClosed$.subscribe({
            next: function (event) {
                if (event.data) {
                    _this.selectedStatus = event.data;
                    _this.save();
                }
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.validationAssetConfirmation = function () {
        var _this = this;
        this.confirmationService.confirm({
            messageKey: this.getTranslateKey('setPreviousAssetConfirmation'),
            accept: function () {
                _this.setPreviousAssetData();
            },
            reject: function () {
                _this.saveMaintenanceProgram();
                _this.setContext(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.getPreviousAssetData = function (amp) {
        var _this = this;
        this.maintenanceProgramFormService.getPreviousAMPRevisionOfMaintenancePlan(amp).subscribe(function (previousAMP) {
            if (previousAMP) {
                if (previousAMP.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY &&
                    !_this.isAnteriorVersionWithApprovedAssetsFound) {
                    _this.isAnteriorVersionWithApprovedAssetsFound = true;
                    _this.maintenanceProgramApprovedAsset = previousAMP;
                }
                _this.maintenanceProgramFormService
                    .findBidoEquipmentsEligibleToMaintenancePlan(previousAMP)
                    .subscribe(function (results) {
                    if (!_this.isAnteriorVersionWithAssetsFound) {
                        results.forEach(function (res) {
                            if (res.isAssigned) {
                                _this.previousMaintenanceProgramAssets.push(res);
                            }
                        });
                        if (_this.previousMaintenanceProgramAssets.length > 0) {
                            _this.isAnteriorVersionWithAssetsFound = true;
                        }
                        else {
                            _this.getPreviousAssetData(previousAMP);
                        }
                    }
                });
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.getAssetData = function () {
        var _this = this;
        this.isCurrentMaintenanceProgramHasAssets = false;
        this.currentMaintenanceProgramAssets = [];
        this.maintenanceProgramFormService
            .findBidoEquipmentsEligibleToMaintenancePlan(this.currentMaintenancePlan)
            .subscribe(function (results) {
            results.forEach(function (res) {
                if (res.isAssigned) {
                    _this.currentMaintenanceProgramAssets.push(res);
                }
            });
            if (_this.currentMaintenanceProgramAssets.length > 0) {
                _this.isCurrentMaintenanceProgramHasAssets = true;
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.setPreviousAssetData = function () {
        var _this = this;
        var maintenancePlanAssignedList = [];
        this.previousMaintenanceProgramAssets.forEach(function (element) {
            var maintenancePlan = {
                planCode: element.planCode,
                equipmentCode: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentCode
            };
            maintenancePlanAssignedList.push(maintenancePlan);
        });
        var inputObj = {
            planCode: this.currentMaintenancePlan.planCode,
            maintenancePlanDTOsAssignedList: maintenancePlanAssignedList,
            maintenancePlanDTOsUnAssignedList: []
        };
        this.maintenanceProgramFormService.saveAssetAssignedToMaintenancePlan(inputObj).subscribe(function () {
            _this.saveMaintenanceProgram();
            _this.setContext(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
        });
    };
    MaintenanceProgramFormComponent.prototype.approveAmp = function () {
        var _this = this;
        var checkAMPComplianceRMPInput;
        checkAMPComplianceRMPInput = {
            recommendedMaintenancePlanCode: this.relatedRecommendedMaintenancePlanCode,
            applicableMaintenancePlanCode: this.planCode
        };
        this.maintenanceProgramFormService.controlComplianceWithRMP(checkAMPComplianceRMPInput).subscribe(function (result) {
            _this.complianceColor = result && result.maintenancePlanControlIcon;
            if (_this.complianceColor === 'green') {
                _this.selectedStatus = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY;
                _this.saveMaintenanceProgram();
            }
            else {
                // Update compliance data in task & visit Table
                if (result && result.updatedPlanTaskCounterTableDTOs) {
                    _this.loadTasksRows(result.updatedPlanTaskCounterTableDTOs);
                    _this.loadVisitsRows(result.updatedPlanTaskCounterTableDTOs);
                }
                if (result && result.missingPlanTaskCounterTableDTOs) {
                    _this.loadMissingTasksRows(result.missingPlanTaskCounterTableDTOs);
                    _this.loadMissingVisitsRows(result.missingPlanTaskCounterTableDTOs);
                }
                _this.messageService.showErrorMessage(_this.getTranslateKey('ampNotApproved'));
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.checkTasks = function () {
        var _this = this;
        this.enableTaskDelete = true;
        this.selectedTasks.every(function (task) {
            if (task.isRemovable === false) {
                _this.enableTaskDelete = false;
                return false;
            }
            return true;
        });
    };
    MaintenanceProgramFormComponent.prototype.checkVisits = function () {
        var _this = this;
        this.enableVisitDelete = true;
        this.selectedVisits.every(function (task) {
            if (task.isRemovable === false) {
                _this.enableVisitDelete = false;
                return false;
            }
            return true;
        });
    };
    MaintenanceProgramFormComponent.prototype.refreshAfterAssetAssignment = function (event) {
        this.loadOnInit();
    };
    MaintenanceProgramFormComponent.prototype.save = function () {
        if (this.selectedStatus === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY) {
            if (!!this.currentMaintenancePlan.planCode) {
                if (this.isAnteriorVersionWithAssetsFound && this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
                    this.validationAssetConfirmation();
                }
                else {
                    this.saveMaintenanceProgram();
                    this.setContext(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
                }
            }
        }
        else if (this.currentMaintenancePlan.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_8__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY) {
            // RMP
            if (this.planType === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_11__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP) {
                if (!this.isAmpOfRmpApproved) {
                    this.saveMaintenanceProgram();
                }
                else {
                    this.messageService.showErrorMessage(this.getTranslateKey('errorOnDisapprovingRMP'));
                }
                // AMP
            }
            else {
                if (!this.isCurrentMaintenanceProgramHasAssets) {
                    this.saveMaintenanceProgram();
                }
                else {
                    this.messageService.showErrorMessage(this.getTranslateKey('errorOnDisapprovingAMP'));
                }
            }
        }
        else {
            this.saveMaintenanceProgram();
        }
    };
    MaintenanceProgramFormComponent.prototype.setContext = function (openMode) {
        if (!this.componentData.objectId) {
            this.componentData.openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Create;
        }
        else {
            this.componentData.openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read;
        }
        this.updateOpenMode(openMode ? openMode : this.componentData.openMode);
    };
    MaintenanceProgramFormComponent.prototype.toggleRowDetailsVisibility = function (row) {
        row.showMore = false;
        row.expand = !row.expand;
    };
    MaintenanceProgramFormComponent.prototype.toggleShowMoreRowDetailsVisibility = function (row) {
        row.expand = false;
        row.showMore = !row.showMore;
    };
    // tslint:disable-next-line:no-any
    MaintenanceProgramFormComponent.prototype.onTasksFilter = function (event) {
        this.tasksDisplayedRowNb =
            this.tasks && event.filteredValue.length && this.tasks.length === event.filteredValue.length
                ? undefined
                : event.filteredValue.length;
    };
    // tslint:disable-next-line:no-any
    MaintenanceProgramFormComponent.prototype.onVisitsFilter = function (event) {
        this.visitsDisplayedRowNb = event.filteredValue.length;
    };
    // tslint:disable-next-line:no-any
    MaintenanceProgramFormComponent.prototype.onRemovedTasksFilter = function (event) {
        this.removedTasksDisplayedRowNb = event.filteredValue.length;
    };
    // tslint:disable-next-line:no-any
    MaintenanceProgramFormComponent.prototype.onRemovedVisitsFilter = function (event) {
        this.removedVisitsDisplayedRowNb = event.filteredValue.length;
    };
    // tslint:disable-next-line:no-any
    MaintenanceProgramFormComponent.prototype.onItemsFilter = function (event) {
        this.itemsDisplayedRowNb = event.filteredValue.length;
    };
    // tslint:disable-next-line:no-any
    MaintenanceProgramFormComponent.prototype.onPartsFilter = function (event) {
        this.partsDisplayedRowNb = event.filteredValue.length;
    };
    MaintenanceProgramFormComponent.prototype.createContentTable = function () {
        var _this = this;
        this.toc = [
            {
                id: 'mainDataAnchor',
                anchor: this.mainDataAnchor,
                label: this.translateService.instant('page.mainData')
            },
            {
                id: 'taskAnchor',
                anchor: this.taskAnchor,
                label: this.translateService.instant(this.getTranslateKey('tasks'))
            },
            {
                id: 'visitAnchor',
                anchor: this.visitAnchor,
                label: this.translateService.instant(this.getTranslateKey('visits'))
            },
            {
                id: 'generalAnchor',
                anchor: this.generalAnchor,
                label: this.translateService.instant('page.additionalData')
            },
            {
                id: 'documentsAnchor',
                anchor: this.documentsAnchor,
                label: this.translateService.instant(this.getTranslateKey('documents'))
            }
        ];
        var SET_TIME_OUT = 500;
        setTimeout(function () {
            _this.setSelectedAnchor('mainDataAnchor');
        }, SET_TIME_OUT);
    };
    MaintenanceProgramFormComponent.prototype.isSelectedAnchor = function (anchorId) {
        return anchorId === this.selectedAnchor;
    };
    MaintenanceProgramFormComponent.prototype.setSelectedAnchor = function (anchorId) {
        this.pageTocService.setAnchorSelected(anchorId);
        this.selectedAnchor = anchorId;
    };
    MaintenanceProgramFormComponent.prototype.registerPageTocEntrySelectedObservable = function () {
        var _this = this;
        this.pageTocService.pageTocEntrySelected$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.unsubscribe)).subscribe(function (pageTocEntrySelected) {
            _this.selectedAnchor = pageTocEntrySelected;
        });
    };
    MaintenanceProgramFormComponent.prototype.generateTaskComment = function () {
        var taskRow = __assign({}, this.selectedTasks[0]);
        this.showGenerateCommentPopup = true;
        this.comment = {
            componentId: 'DialogGenerateCommentComponent',
            selectedRow: undefined,
            object: (taskRow.planTaskCounterTableDTO && taskRow.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments) || '',
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write
        };
    };
    MaintenanceProgramFormComponent.prototype.saveComments = function (comment) {
        var row = this.selectedTasks[0];
        if (row.planTaskCounterTableDTO &&
            row.planTaskCounterTableDTO.birePlanTaskCounterDTO &&
            row.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments !== comment) {
            row.comments = this.getDisplayComments(comment);
            row.childRow[0].comments = row.comments;
            row.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments = comment;
            this.planTaskCounterTableDTOUpdatedList.push(row.planTaskCounterTableDTO);
        }
    };
    MaintenanceProgramFormComponent.prototype.validateCompliance = function (rows, visitIndex, taskIndex) {
        var _this = this;
        var checkAMPComplianceRMPInput;
        checkAMPComplianceRMPInput = {
            recommendedMaintenancePlanCode: this.relatedRecommendedMaintenancePlanCode,
            applicableMaintenancePlanCode: this.planCode,
            birePlanTaskCounters: rows[0].planTaskCounterTableDTO && rows[0].planTaskCounterTableDTO.birePlanTaskCounterDTO
        };
        this.maintenanceProgramFormService.checkAmpTaskCompliance(checkAMPComplianceRMPInput).subscribe(function (result) {
            _this.complianceColor = result && result.maintenancePlanControlIcon;
            // Update compliance data in task & visit Table
            if (result && result.updatedPlanTaskCounterTableDTOs && result.updatedPlanTaskCounterTableDTOs.length > 0) {
                _this.loadRowsOnValidate(result.updatedPlanTaskCounterTableDTOs, rows[0]);
                _this.setTaskvisitRow(rows, visitIndex, taskIndex);
                _this.displayCompliance();
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.loadRowsOnValidate = function (results, row) {
        if (!!results && results.length > 0) {
            var res = results[0];
            row.complianceDetail = res.complianceDetail;
            row.compliance = res.complianceLight;
            row.planTaskCounterTableDTO = res;
        }
    };
    MaintenanceProgramFormComponent.prototype.displayCompliance = function () {
        var tasks = this.tasks.filter(function (element) {
            return element.compliance === 'red';
        });
        var visits = this.visits.filter(function (element) {
            return element.compliance === 'red';
        });
        if (tasks.length > 0 || visits.length > 0) {
            this.complianceColor = 'red';
        }
        else {
            this.complianceColor = 'green';
        }
    };
    MaintenanceProgramFormComponent.prototype.initDocumentsTableDataSource = function () {
        this.documentsTableDataSource = new _modules_purchase_contract_utils_table_data_source_with_history__WEBPACK_IMPORTED_MODULE_4__["TableDataSourceWithHistory"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'docName',
                    translateKey: this.getTranslateKey('docName')
                },
                {
                    field: 'docSource',
                    translateKey: this.getTranslateKey('docExternal')
                },
                {
                    field: 'docExtension',
                    translateKey: this.getTranslateKey('docExtension')
                },
                {
                    field: 'docSize',
                    translateKey: this.getTranslateKey('docSize')
                },
                {
                    field: 'docPublicationDate',
                    translateKey: this.getTranslateKey('docPublicationDate')
                },
                {
                    field: 'docDescription',
                    translateKey: this.getTranslateKey('docDescription')
                }
            ],
            data: []
        });
        this.isReadOnlyDocumentDialog = true;
        this.displayDocumentDialog = false;
    };
    MaintenanceProgramFormComponent.prototype.deleteDocuments = function () {
        var _this = this;
        var partialMessageKey = this.documentsTableDataSource.dataSelectionCount > 1
            ? 'confirmDeleteSelectedDocuments'
            : 'confirmDeleteSelectedDocument';
        this.confirmationService.confirmDelete({
            messageKey: "global." + partialMessageKey,
            accept: function () {
                _this.documentsTableDataSource.deleteDataSelection();
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.addDocument = function () {
        this.currentDocument = undefined;
        this.isReadOnlyDocumentDialog = false;
        this.showAddDocumentDialog = true;
    };
    MaintenanceProgramFormComponent.prototype.onAddDocument = function (documentDTO) {
        var _this = this;
        var editedOrAddedDocumentRow = this.createDocumentRowFromBireDocumentDTO(documentDTO);
        // We are editing an existing document
        if (!!this.currentDocument) {
            var oldDoc = this.documentsTableDataSource.data.find(function (docRow) {
                return !!_this.currentDocument && docRow.docName === _this.currentDocument.docName;
            });
            if (!!oldDoc && !!oldDoc._obj) {
                this.documentsTableDataSource.replaceData(oldDoc, editedOrAddedDocumentRow);
                this.currentDocument = undefined;
            }
        }
        else {
            // We have just uploaded a new document
            this.documentsTableDataSource.addData([editedOrAddedDocumentRow]);
        }
    };
    MaintenanceProgramFormComponent.prototype.editDocument = function () {
        this.currentDocument = __assign({}, this.documentsTableDataSource.dataSelection[0]);
        this.isReadOnlyDocumentDialog = false;
        this.showAddDocumentDialog = true;
    };
    MaintenanceProgramFormComponent.prototype.openDocument = function () {
        this.isReadOnlyDocumentDialog = true;
        this.showAddDocumentDialog = true;
    };
    MaintenanceProgramFormComponent.prototype.downloadFile = function (document) {
        if (!!document._obj) {
            _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_26__["FileUtils"].downloadFile(document._obj.docFile, document.docName);
        }
    };
    MaintenanceProgramFormComponent.prototype.createDocumentRowFromBireDocumentDTO = function (documentDTO) {
        return {
            docName: documentDTO.docName,
            docSource: documentDTO.docSource,
            docExtension: _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_26__["FileUtils"].getExtension(documentDTO.docName).toUpperCase(),
            docSize: !!documentDTO.docFile ? _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_26__["FileUtils"].getFormattedSize(documentDTO.docFile.length) : '',
            docPublicationDate: this.dateService.dateToString(documentDTO.docPublicationDate),
            docDescription: documentDTO.docDescription,
            _obj: documentDTO
        };
    };
    MaintenanceProgramFormComponent.prototype.createDocumentsRowsFromBireDocPlanDTO = function (documentsDTO) {
        var _this = this;
        return documentsDTO.map(function (elt) { return _this.createDocumentRowFromBireDocumentDTO(elt.bireDocumentDTO); });
    };
    MaintenanceProgramFormComponent.prototype.saveDocPlans = function () {
        var _this = this;
        var forkedObservables = [];
        // saveAddedBireDocPlan
        var createBireDocPlanInputList = this.documentsTableDataSource
            .getAddedList()
            .map(function (row) { return _this.getCreateUpdateBireDocPlanInputFromDocumentRow(row); });
        if (!!createBireDocPlanInputList && createBireDocPlanInputList.length > 0) {
            forkedObservables.push(this.maintenanceProgramFormService.createBireDocPlan(createBireDocPlanInputList));
        }
        // saveUpdatedBireDocPlan
        var updateBireDocPlanInputList = this.documentsTableDataSource
            .getUpdatedList()
            .map(function (row) { return _this.getCreateUpdateBireDocPlanInputFromDocumentRow(row); });
        if (!!updateBireDocPlanInputList && updateBireDocPlanInputList.length > 0) {
            forkedObservables.push(this.maintenanceProgramFormService.updateBireDocPlan(updateBireDocPlanInputList));
        }
        // saveDeletedBireDocPlan
        var removeBireDocPlanInputList = [];
        this.documentsTableDataSource.getDeletedList().forEach(function (row) {
            removeBireDocPlanInputList.push(_this.getRemoveBireDocPlanInputFromDocumentRow(row));
        });
        if (!!removeBireDocPlanInputList && removeBireDocPlanInputList.length > 0) {
            forkedObservables.push(this.maintenanceProgramFormService.removeBireDocPlan(removeBireDocPlanInputList));
        }
        this.documentsTableDataSource.clearHistory();
        Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])(forkedObservables).subscribe(function (errors) {
            if (errors.every(function (error) { return !_shared_utils_object_utils__WEBPACK_IMPORTED_MODULE_27__["ObjectUtils"].isDefined(error); })) {
                _this.messageService.showSuccessMessage('global.successOnSave');
                _this.loadDocumentsTableDataSourceData();
            }
            else {
                _this.messageService.showErrorMessage('global.errorOnSave');
            }
        });
    };
    MaintenanceProgramFormComponent.prototype.getCreateUpdateBireDocPlanInputFromDocumentRow = function (docRow) {
        return {
            planCode: this.planCode,
            bireDocumentDTO: docRow._obj
        };
    };
    MaintenanceProgramFormComponent.prototype.getRemoveBireDocPlanInputFromDocumentRow = function (docRow) {
        return {
            planCode: this.planCode,
            bireDocumentDTOId: {
                birMandant: undefined,
                planCode: this.planCode,
                mandant: undefined,
                docCode: docRow._obj.docCode
            }
        };
    };
    MaintenanceProgramFormComponent.prototype.loadDocumentsTableDataSourceData = function () {
        var _this = this;
        this.maintenanceProgramFormService.findBreDocPlansListByPlanCode(this.planCode).subscribe(function (results) {
            _this.documentsTableDataSource.setData(_this.createDocumentsRowsFromBireDocPlanDTO(results));
        });
    };
    MaintenanceProgramFormComponent.prototype.showSaveDocumentPlanBtn = function () {
        return this.documentsTableDataSource.tableDataSourceHasBeenModified();
    };
    MaintenanceProgramFormComponent.prototype.updateWorkflowStatusList = function () {
        this.workflowStatus = _shared_utils_workflow_utils__WEBPACK_IMPORTED_MODULE_29__["WorkflowUtils"].filterWorkflowStatusList(this.userWorkflow, this.status, this.currentMaintenancePlan.statusState);
    };
    MaintenanceProgramFormComponent.prototype.loadStatus = function (statusState) {
        var _this = this;
        this.propertiesService.getObjectStatusList(true, false, false, statusState, false).subscribe(function (results) {
            if (results) {
                results.forEach(function (element) {
                    if (_this.status.filter(function (status) { return status.value === element.value; }).length === 0) {
                        _this.status.push(element);
                    }
                });
                _this.status = __spread(_this.status);
                _this.updateWorkflowStatusList();
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetStatusList'));
        });
    };
    var MaintenanceProgramFormComponent_1;
    MaintenanceProgramFormComponent.PERCENTAGE_CONST = 100;
    MaintenanceProgramFormComponent.ONE_DECIMAL_ROUND = 10;
    MaintenanceProgramFormComponent.ALERT_THRESHOLD_FIELD = 'alertThreshold';
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('mainDataAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], MaintenanceProgramFormComponent.prototype, "mainDataAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('taskAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], MaintenanceProgramFormComponent.prototype, "taskAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('visitAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], MaintenanceProgramFormComponent.prototype, "visitAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('generalAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], MaintenanceProgramFormComponent.prototype, "generalAnchor", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('documentsAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], MaintenanceProgramFormComponent.prototype, "documentsAnchor", void 0);
    MaintenanceProgramFormComponent = MaintenanceProgramFormComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-maintenance-program-form',
            template: __webpack_require__(/*! ./maintenance-program-form.component.html */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.html"),
            styles: [__webpack_require__(/*! ./maintenance-program-form.component.scss */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_18__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_19__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_20__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_22__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_24__["TabService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_23__["SessionService"],
            _maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_33__["MaintenanceProgramFormService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_16__["ConfirmationService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_6__["DynamicAttributesService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_21__["PropertiesService"],
            _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_5__["PageTocService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_17__["DateService"],
            _maintenance_program_form_mhiael_service__WEBPACK_IMPORTED_MODULE_32__["MaintenanceProgramFormMhiaelService"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_31__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_15__["FormatSelectOptionPipe"]])
    ], MaintenanceProgramFormComponent);
    return MaintenanceProgramFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_25__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.service.ts":
/*!**********************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.service.ts ***!
  \**********************************************************************************************************/
/*! exports provided: MaintenanceProgramFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaintenanceProgramFormService", function() { return MaintenanceProgramFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_api_airworthiness_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/airworthiness-management.api */ "./src/app/shared/api/airworthiness-management.api.ts");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_api_task_business_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/api/task-business.api */ "./src/app/shared/api/task-business.api.ts");
/* harmony import */ var _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/api/task-management.api */ "./src/app/shared/api/task-management.api.ts");
/* harmony import */ var _shared_api_user_profile_business_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/api/user-profile-business.api */ "./src/app/shared/api/user-profile-business.api.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var MaintenanceProgramFormService = /** @class */ (function (_super) {
    __extends(MaintenanceProgramFormService, _super);
    function MaintenanceProgramFormService(http, appConfigService, taskManagementApi, taskBusinessApi, productStructureManagementApi, airworthinessManagementApi, userProfileBusinessApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.taskManagementApi = taskManagementApi;
        _this.taskBusinessApi = taskBusinessApi;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.airworthinessManagementApi = airworthinessManagementApi;
        _this.userProfileBusinessApi = userProfileBusinessApi;
        return _this;
    }
    MaintenanceProgramFormService.prototype.findBireMaintenancePlan = function (bireMaintenancePlanDTOId) {
        if (bireMaintenancePlanDTOId.planCode) {
            return _super.prototype.post.call(this, this.taskManagementApi.findBireMaintenancePlan, bireMaintenancePlanDTOId);
        }
        else {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])({});
        }
    };
    MaintenanceProgramFormService.prototype.findBirePlanAttributesByPlanCode = function (bireMaintenancePlanDTO) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBirePlanAttributesByPlanCode, bireMaintenancePlanDTO);
    };
    MaintenanceProgramFormService.prototype.findBirePlanPnsByPlanCode = function (planCode) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBirePlanPnsByPlanCode, planCode);
    };
    MaintenanceProgramFormService.prototype.findBirePlanTaskCountersByPlanCode = function (planCode) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBirePlanTaskCountersByPlanCode, planCode);
    };
    MaintenanceProgramFormService.prototype.findBirePlanItemsByPlanCode = function (planCode) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBirePlanItemsByPlanCode, planCode);
    };
    MaintenanceProgramFormService.prototype.findBireFamilyVariantDropdownForMaintenanceProgram = function (familyVariantInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireFamilyVariantDropdownForMaintenanceProgram, familyVariantInput);
    };
    MaintenanceProgramFormService.prototype.findBireItemsBySearchCriteria = function (familyCode, structureType, variantCode) {
        var params = {
            bireItemDTOCriteria: {
                familyCode: familyCode,
                structureType: structureType,
                variantCode: variantCode
            },
            pnCode: undefined,
            attribute: undefined
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteria, params);
    };
    MaintenanceProgramFormService.prototype.findBirePartNumbersBySearchCriteria = function (partsSearchInputCriteria) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBirePartNumbersBySearchCriteria, partsSearchInputCriteria);
    };
    MaintenanceProgramFormService.prototype.findBirePnsBySearchCriteriaForParts = function (partsSearchInputCriteria) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnsBySearchCriteriaForParts, partsSearchInputCriteria);
    };
    MaintenanceProgramFormService.prototype.findAllBireTaskGroups = function () {
        return _super.prototype.post.call(this, this.taskManagementApi.findAllBireTaskGroups);
    };
    MaintenanceProgramFormService.prototype.findAllBireMeasureReferences = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireMeasureReferences);
    };
    MaintenanceProgramFormService.prototype.findAllBireMeasureReferencesMaintenanceProgram = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireMeasureReferencesMaintenanceProgram);
    };
    MaintenanceProgramFormService.prototype.findBidoEquipmentsEligibleToMaintenancePlan = function (bireMaintenancePlanDTO) {
        return _super.prototype.post.call(this, this.airworthinessManagementApi.findBidoEquipmentsEligibleToMaintenancePlan, bireMaintenancePlanDTO);
    };
    MaintenanceProgramFormService.prototype.findApplicableMaintenancePlanCodeByRecommendedPlanCode = function (rmpCode) {
        return _super.prototype.post.call(this, this.taskManagementApi.findApplicableMaintenancePlanCodeByRecommendedPlanCode, rmpCode);
    };
    MaintenanceProgramFormService.prototype.findBireAttributesByCategory = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategory, category);
    };
    MaintenanceProgramFormService.prototype.saveMaintenanceProgram = function (saveMaintenanceProgramScreenInput) {
        return _super.prototype.post.call(this, this.taskManagementApi.saveMaintenanceProgram, saveMaintenanceProgramScreenInput);
    };
    MaintenanceProgramFormService.prototype.generateAMPFromRMP = function (planCode) {
        return _super.prototype.post.call(this, this.taskBusinessApi.generateAMPFromRMP, planCode);
    };
    MaintenanceProgramFormService.prototype.createAmp = function (maintenancePlanDTO) {
        return _super.prototype.post.call(this, this.taskBusinessApi.createAmp, maintenancePlanDTO);
    };
    MaintenanceProgramFormService.prototype.applyPreviousAMPCustomizationOnAMP = function (bireMaintenancePlanDTO) {
        return _super.prototype.post.call(this, this.taskBusinessApi.applyPreviousAMPCustomizationOnAMP, bireMaintenancePlanDTO);
    };
    MaintenanceProgramFormService.prototype.getPreviousAMPRevisionOfMaintenancePlan = function (bireMaintenancePlanDTO) {
        return _super.prototype.post.call(this, this.taskManagementApi.getPreviousAMPRevisionOfMaintenancePlan, bireMaintenancePlanDTO);
    };
    MaintenanceProgramFormService.prototype.getPreviousRMPRevisionOfMaintenancePlan = function (bireMaintenancePlanDTO) {
        return _super.prototype.post.call(this, this.taskManagementApi.getPreviousRMPRevisionOfMaintenancePlan, bireMaintenancePlanDTO);
    };
    MaintenanceProgramFormService.prototype.findBireTasksByCriteria = function (criteria) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireTasksByCriteria, criteria);
    };
    MaintenanceProgramFormService.prototype.findBireVisitsByCriteriaForMP = function (criteria) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireVisitsByCriteriaForMP, criteria);
    };
    MaintenanceProgramFormService.prototype.checkAndReturnNewRevisionNumberByMaintenancePlan = function (upgradeBireMaintenancePlanInput) {
        if (upgradeBireMaintenancePlanInput) {
            return _super.prototype.post.call(this, this.taskManagementApi.checkAndReturnNewRevisionNumberByMaintenancePlan, upgradeBireMaintenancePlanInput);
        }
        else {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(undefined);
        }
    };
    MaintenanceProgramFormService.prototype.saveAssetAssignedToMaintenancePlan = function (assetAssignmentMPSaveInput) {
        return _super.prototype.post.call(this, this.airworthinessManagementApi.saveAssetAssignedToMaintenancePlan, assetAssignmentMPSaveInput);
    };
    MaintenanceProgramFormService.prototype.upgradeBireMaintenancePlanData = function (upgradeBireMaintenancePlanInput) {
        return _super.prototype.post.call(this, this.taskManagementApi.upgradeBireMaintenancePlanData, upgradeBireMaintenancePlanInput);
    };
    MaintenanceProgramFormService.prototype.controlComplianceWithRMP = function (checkAMPComplianceRMPInput) {
        return _super.prototype.post.call(this, this.taskManagementApi.controlComplianceWithRMP, checkAMPComplianceRMPInput);
    };
    MaintenanceProgramFormService.prototype.updateMaintenancePlans = function (planCode) {
        return _super.prototype.post.call(this, this.airworthinessManagementApi.updateMaintenancePlans, planCode);
    };
    MaintenanceProgramFormService.prototype.findBidoMaintenancePlanByPlanCode = function (planCode) {
        return _super.prototype.post.call(this, this.airworthinessManagementApi.findBidoMaintenancePlanByPlanCode, planCode);
    };
    MaintenanceProgramFormService.prototype.findBireTaskTasksByVisit = function (bireTaskDTO) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireTaskTasksByVisit, bireTaskDTO);
    };
    MaintenanceProgramFormService.prototype.hasUpdateRights = function () {
        var accessRightQueryDTO = {
            useCaseCode: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_8__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            functionCode: undefined
        };
        return _super.prototype.post.call(this, this.userProfileBusinessApi.hasUpdateRights, accessRightQueryDTO);
    };
    MaintenanceProgramFormService.prototype.hasDisplayRights = function (useCaseCode) {
        var accessRightQueryDTO = {
            useCaseCode: useCaseCode || _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_8__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            functionCode: undefined
        };
        return _super.prototype.post.call(this, this.userProfileBusinessApi.hasDisplayRights, accessRightQueryDTO);
    };
    MaintenanceProgramFormService.prototype.hasManageRights = function () {
        var accessRightQueryDTO = {
            useCaseCode: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_8__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            functionCode: undefined
        };
        return _super.prototype.post.call(this, this.userProfileBusinessApi.hasManageRights, accessRightQueryDTO);
    };
    MaintenanceProgramFormService.prototype.checkAmpTaskCompliance = function (checkAMPComplianceRMPInput) {
        return _super.prototype.post.call(this, this.taskManagementApi.checkAmpTaskCompliance, checkAMPComplianceRMPInput);
    };
    MaintenanceProgramFormService.prototype.findBreDocPlansListByPlanCode = function (planCode) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBreDocPlansListByPlanCode, planCode);
    };
    MaintenanceProgramFormService.prototype.createBireDocPlan = function (createBireDocPlanInputList) {
        return _super.prototype.post.call(this, this.taskManagementApi.createBireDocPlan, createBireDocPlanInputList);
    };
    MaintenanceProgramFormService.prototype.updateBireDocPlan = function (updateBireDocPlanInputList) {
        return _super.prototype.post.call(this, this.taskManagementApi.updateBireDocPlan, updateBireDocPlanInputList);
    };
    MaintenanceProgramFormService.prototype.removeBireDocPlan = function (bireDocPlanInputDeletedList) {
        return _super.prototype.post.call(this, this.taskManagementApi.removeBireDocPlan, bireDocPlanInputDeletedList);
    };
    MaintenanceProgramFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_10__["AppConfigService"],
            _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_6__["TaskManagementApi"],
            _shared_api_task_business_api__WEBPACK_IMPORTED_MODULE_5__["TaskBusinessApi"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_4__["ProductStructureManagementApi"],
            _shared_api_airworthiness_management_api__WEBPACK_IMPORTED_MODULE_3__["AirworthinessManagementApi"],
            _shared_api_user_profile_business_api__WEBPACK_IMPORTED_MODULE_7__["UserProfileBusinessApi"]])
    ], MaintenanceProgramFormService);
    return MaintenanceProgramFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_9__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.html":
/*!**********************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.html ***!
  \**********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"70\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ componentData.componentId + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <!-- assets table -->\r\n\r\n    <div class=\"section\">\r\n      <h4 class=\"section-title\">\r\n        {{ \"global.results\" | translate }} ({{ assetsTableDataSource ? assetsTableDataSource.dataCount : 0 }})\r\n      </h4>\r\n\r\n      <div class=\"section-content\">\r\n        <a-table [dataSource]=\"assetsTableDataSource\"> </a-table>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"cancel()\">{{ \"global.cancel\" | translate }}</button>\r\n\r\n    <button type=\"button\" color=\"primary\" class=\"btn-with-spinner\" mat-raised-button (click)=\"associate()\">\r\n      <span *ngIf=\"isValidating\" class=\"lds-hourglass\"></span>\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-report-popup-form\r\n  *ngIf=\"showReportPopup\"\r\n  [reportContent]=\"reportText\"\r\n  [(display)]=\"showReportPopup\"\r\n  (onClose)=\"cancel()\"\r\n></aw-report-popup-form>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.ts":
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.ts ***!
  \********************************************************************************************************************************************/
/*! exports provided: AssignAssetsPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignAssetsPopupFormComponent", function() { return AssignAssetsPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../maintenance-program-form.service */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var AssignAssetsPopupFormComponent = /** @class */ (function (_super) {
    __extends(AssignAssetsPopupFormComponent, _super);
    function AssignAssetsPopupFormComponent(messageService, sessionService, propertiesService, maintenanceProgramFormService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Read, 'AssignAssetsPopupFormComponent') || this;
        _this.messageService = messageService;
        _this.sessionService = sessionService;
        _this.propertiesService = propertiesService;
        _this.maintenanceProgramFormService = maintenanceProgramFormService;
        _this.displayChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onAssociated = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.showReportPopup = false;
        _this.maintenancePlanDTOsAssignedList = [];
        _this.maintenancePlanDTOsUnAssignedList = [];
        _this.initAssetsTableDataSource();
        return _this;
    }
    Object.defineProperty(AssignAssetsPopupFormComponent.prototype, "display", {
        get: function () {
            return this.displayValue;
        },
        set: function (displayValue) {
            this.displayValue = displayValue;
            this.displayChange.emit(this.displayValue);
        },
        enumerable: true,
        configurable: true
    });
    AssignAssetsPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.componentId && !!this.componentData.object) {
            this.bireMaintenancePlanDTO = this.componentData.object;
            this.loadAssets();
        }
    };
    AssignAssetsPopupFormComponent.prototype.getTypeName = function () {
        return 'AssignAssetsPopupFormComponent';
    };
    AssignAssetsPopupFormComponent.prototype.associate = function () {
        var _this = this;
        this.isValidating = true;
        this.maintenancePlanDTOsAssignedList = [];
        this.maintenancePlanDTOsUnAssignedList = [];
        this.assetsTableDataSource.dataSrc.forEach(function (element) {
            var maintenancePlan = {
                planCode: element.maintenanceProgram,
                equipmentCode: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentCode
            };
            var selectedAsset = _this.assetsTableDataSource.dataSelection.filter(function (asset) {
                return asset.asset === element.asset && asset.familyVariantCode === element.familyVariantCode;
            });
            // if asset was assigned previously and unassigned
            if (element.isAssigned) {
                if (selectedAsset.length === 0) {
                    _this.maintenancePlanDTOsUnAssignedList.push(maintenancePlan);
                }
            }
            else {
                if (selectedAsset.length > 0) {
                    _this.maintenancePlanDTOsAssignedList.push(maintenancePlan);
                }
            }
        });
        var inputObj = {
            planCode: this.bireMaintenancePlanDTO.planCode,
            maintenancePlanDTOsAssignedList: this.maintenancePlanDTOsAssignedList,
            maintenancePlanDTOsUnAssignedList: this.maintenancePlanDTOsUnAssignedList
        };
        this.maintenanceProgramFormService
            .saveAssetAssignedToMaintenancePlan(inputObj)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["finalize"])(function () {
            _this.isValidating = false;
        }))
            .subscribe(function (result) {
            _this.loadAssets();
            _this.reportText = result;
            _this.showReportPopup = true;
            _this.onAssociated.emit(true);
        });
    };
    AssignAssetsPopupFormComponent.prototype.cancel = function () {
        this.display = false;
    };
    AssignAssetsPopupFormComponent.prototype.loadAssets = function () {
        var _this = this;
        this.isLoading = true;
        this.maintenanceProgramFormService
            .findBidoEquipmentsEligibleToMaintenancePlan(this.bireMaintenancePlanDTO)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["finalize"])(function () {
            _this.isLoading = false;
        }))
            .subscribe(function (results) {
            _this.isLoading = false;
            var assetsTable = results.map(function (element) { return ({
                asset: element.assetText,
                bidoEquipmentDTO: element.bidoEquipmentDTO,
                designation: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentDesignation,
                familyVariantCode: element.bidoEquipmentDTO && element.bidoEquipmentDTO.familyVariantCode,
                function: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentFunction,
                isAssigned: element.isAssigned,
                maintenanceProgram: element.planCode,
                status: element.bidoEquipmentDTO && element.bidoEquipmentDTO.operationalStatus
            }); });
            assetsTable.sort(function (a, b) {
                if (a.isAssigned === b.isAssigned) {
                    if (a.asset === b.asset) {
                        return 0;
                    }
                    else if (a.asset) {
                        return b.asset ? a.asset.localeCompare(b.asset) : 1;
                    }
                    else {
                        return -1;
                    }
                }
                else {
                    return a.isAssigned ? -1 : 1;
                }
            });
            _this.assetsTableDataSource.setData(assetsTable);
            _this.assetsTableDataSource.dataSelection = _this.assetsTableDataSource.dataSrc.filter(function (element) {
                element._checked = element.isAssigned ? true : false;
                return element.isAssigned;
            });
        });
    };
    AssignAssetsPopupFormComponent.prototype.initAssetsTableDataSource = function () {
        this.assetsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'asset',
                    translateKey: this.getTranslateKey('asset'),
                    width: '30%'
                },
                {
                    field: 'familyVariantCode',
                    translateKey: this.getTranslateKey('familyVariantCode'),
                    width: '10%'
                },
                {
                    field: 'designation',
                    translateKey: this.getTranslateKey('designation'),
                    width: '15%'
                },
                {
                    field: 'function',
                    translateKey: this.getTranslateKey('function'),
                    width: '10%'
                },
                {
                    field: 'status',
                    translateKey: this.getTranslateKey('status'),
                    width: '15%'
                },
                {
                    field: 'maintenanceProgram',
                    translateKey: this.getTranslateKey('maintenanceProgram'),
                    width: '20%'
                }
            ],
            data: []
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], AssignAssetsPopupFormComponent.prototype, "display", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AssignAssetsPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], AssignAssetsPopupFormComponent.prototype, "displayChange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], AssignAssetsPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], AssignAssetsPopupFormComponent.prototype, "onAssociated", void 0);
    AssignAssetsPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-assign-assets-popup-form',
            template: __webpack_require__(/*! ./assign-assets-popup-form.component.html */ "./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.html"),
            styles: [__webpack_require__(/*! ../popup-form.component.scss */ "./src/app/main/engineering-management/maintenance-program-form/popups/popup-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_6__["SessionService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"],
            _maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_8__["MaintenanceProgramFormService"]])
    ], AssignAssetsPopupFormComponent);
    return AssignAssetsPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_7__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/popup-form.component.scss":
/*!*******************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/popup-form.component.scss ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .item-textbox {\n  width: 5rem; }\n\n:host .span-padding {\n  padding: 8px 0; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9wb3B1cHMvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcbWFpbnRlbmFuY2UtcHJvZ3JhbS1mb3JtXFxwb3B1cHNcXHBvcHVwLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxXQUFXLEVBQUE7O0FBRmY7RUFNSSxjQUFjLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvbWFpbnRlbmFuY2UtcHJvZ3JhbS1mb3JtL3BvcHVwcy9wb3B1cC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC5pdGVtLXRleHRib3gge1xyXG4gICAgd2lkdGg6IDVyZW07XHJcbiAgfVxyXG5cclxuICAuc3Bhbi1wYWRkaW5nIHtcclxuICAgIHBhZGRpbmc6IDhweCAwO1xyXG4gIH1cclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.html ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"form-group\">\r\n      <div class=\"form-control\">\r\n        <textarea\r\n          class=\"aw-textarea\"\r\n          [rows]=\"20\"\r\n          [cols]=\"150\"\r\n          pInputTextarea\r\n          [(ngModel)]=\"reportContent.text\"\r\n        ></textarea>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"closeAllDialog()\">{{ \"global.close\" | translate }}</button>\r\n\r\n    <button type=\"button\" mat-raised-button (click)=\"exportToTxt()\">\r\n      {{ getComponentName() + \".exportTxt\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.scss":
/*!********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.scss ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host textarea {\n  background-color: transparent;\n  border: 0;\n  color: inherit;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  line-height: 1.42857143;\n  min-height: 50vh;\n  outline: none;\n  padding: 8px 0;\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9wb3B1cHMvcmVwb3J0LXBvcHVwLWZvcm0vRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcbWFpbnRlbmFuY2UtcHJvZ3JhbS1mb3JtXFxwb3B1cHNcXHJlcG9ydC1wb3B1cC1mb3JtXFxyZXBvcnQtcG9wdXAtZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9wb3B1cHMvcmVwb3J0LXBvcHVwLWZvcm0vRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXHN0eWxlc1xcX2NvbnN0YW50cy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUksNkJBQTZCO0VBQzdCLFNBQVM7RUFDVCxjQUFjO0VBQ2Qsb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIsdUJDaUNxQjtFRGhDckIsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixjQUF3QjtFQUN4QixXQUFXLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvbWFpbnRlbmFuY2UtcHJvZ3JhbS1mb3JtL3BvcHVwcy9yZXBvcnQtcG9wdXAtZm9ybS9yZXBvcnQtcG9wdXAtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjpob3N0IHtcclxuICB0ZXh0YXJlYSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XHJcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcbiAgICBtaW4taGVpZ2h0OiA1MHZoO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHBhZGRpbmc6ICRtYXJnaW4tdmFsdWUgMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxufVxyXG4iLCIkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4kc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiRwcmltYXJ5LXRleHQtY29sb3I6ICMwMDA7XHJcbiRzZWNvbmRhcnktdGV4dC1jb2xvcjogIzU5NTk1OTtcclxuJGFjY2VudC1jb2xvcjogIzAxNTc5YjtcclxuXHJcbiRib2R5LWJhY2tncm91bmQtY29sb3I6ICNlOGViZWQ7XHJcbiR0b3BiYXItY29sb3I6ICNmYWZhZmE7XHJcblxyXG4vLyAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xyXG4vLyAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XHJcbi8vICRwcmltYXJ5LXRleHQtY29sb3I6ICNlOGU4ZTg7XHJcbi8vICRzZWNvbmRhcnktdGV4dC1jb2xvcjogI2ZmZjtcclxuLy8gJGFjY2VudC1jb2xvcjogIzljZGNmZTtcclxuXHJcbiRib3JkZXItY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ6IHRyYW5zcGFyZW50O1xyXG4kYm9yZGVyLWNvbG9yLS1mb2N1czogJGFjY2VudC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0taG92ZXI6ICMxYTFhMWE7XHJcblxyXG4kZ3JlZW4tZGFyazE6ICMyNzYzMmE7XHJcbiRncmVlbi1saWdodDE6ICM0Y2FmNTA7XHJcbiRvcmFuZ2U6ICNmZmMxMDc7XHJcbiRyZWQtZGFyazE6ICNhODI1MjU7XHJcbiRyZWQtbGlnaHQxOiAjZjY2ODVlO1xyXG4kYmx1ZS1saWdodDE6ICNiOGQwZTg7XHJcbiRibHVlLWRhcmsxOiAjMDA2ZWE5O1xyXG4kZ3JleTE6ICNjOGQ0ZDY7XHJcbiR5ZWxsb3cxOiAjZGRkZjAwO1xyXG5cclxuJGNyaXRpY2FsLXZhbHVlLWRhcms6ICNmYmE2NDM7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY3JpdGljYWwtdmFsdWUtbGlnaHQ6ICNmZWNjOGU7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY2FsZW5kYXIteWVsbG93OiAjZWZlZmIwOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGJhZC12YWx1ZS1kYXJrOiAjZmY2NzU4OyAvLyBUT0RPOiByZW1vdmUgaXRcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRib3JkZXItcmFkaXVzOiA0cHg7XHJcbiRib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiRmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJcIjtcclxuJGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiRmb250LXdlaWdodDogNDAwO1xyXG4kbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDI5O1xyXG4kbWFyZ2luLXZhbHVlOiA4cHg7XHJcbiRwYWdlLW1heC13aWR0aDogMTM2NnB4O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtNDogNDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTM6IDM7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0yOiAyO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGxlZnQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiR0b3BiYXItaGVpZ2h0OiA0MHB4O1xyXG4kbWFpbmJhci1ib3JkZXItY29sb3I6IGRhcmtlbigkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IsIDUlKTtcclxuJG1haW5iYXItYm9yZGVyLXdpZHRoOiAycHg7XHJcbiRwYWdlLWhlYWRlci1oZWlnaHQ6IDUuNXJlbTtcclxuJGZvcm0tY29udHJvbC1oZWlnaHQ6IDIuNXJlbTtcclxuJGNoZWNrYm94LWhlaWdodDogMS4yNXJlbTtcclxuJHJhZGlvYnV0dG9uLWhlaWdodDogMS4yNXJlbTtcclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.ts":
/*!******************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.ts ***!
  \******************************************************************************************************************************/
/*! exports provided: ReportPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportPopupFormComponent", function() { return ReportPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ReportPopupFormComponent = /** @class */ (function (_super) {
    __extends(ReportPopupFormComponent, _super);
    function ReportPopupFormComponent() {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Read, 'ReportPopupFormComponent') || this;
        _this.reportContent = {};
        _this.onClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    ReportPopupFormComponent.prototype.ngOnInit = function () {
        return;
    };
    ReportPopupFormComponent.prototype.exportToTxt = function () {
        _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_3__["FileUtils"].downloadFile(this.reportContent.bytes, "Report_" + new Date().toDateString() + "_" + new Date().getHours() + "h" + new Date().getSeconds() + ".txt");
    };
    ReportPopupFormComponent.prototype.closeAllDialog = function () {
        this.display = false;
        this.onClose.emit();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ReportPopupFormComponent.prototype, "reportContent", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ReportPopupFormComponent.prototype, "onClose", void 0);
    ReportPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-report-popup-form',
            template: __webpack_require__(/*! ./report-popup-form.component.html */ "./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.html"),
            styles: [__webpack_require__(/*! ./report-popup-form.component.scss */ "./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], ReportPopupFormComponent);
    return ReportPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.html":
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.html ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" width=\"100\">\r\n  <a-header>\r\n    <div class=\"modal-title\">\r\n      {{\r\n        popUpType === \"visit\"\r\n          ? (componentData.componentId + \".titleVisit\" | translate)\r\n          : (componentData.componentId + \".titleTask\" | translate)\r\n      }}\r\n    </div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div *ngIf=\"popUpType === 'task'\" class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: isCreateMode }\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".taskCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: !isCreateMode }\">\r\n            <div class=\"form-control-data\" (click)=\"!isReadOnlyForm && taskSearch()\">\r\n              {{ planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode }}\r\n            </div>\r\n\r\n            <div *ngIf=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i\r\n                class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"!isReadOnlyForm && taskSearch()\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [ngClass]=\"{ required: isCreateMode }\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".taskVersion\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".taskDesignation\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.bireTaskDTO.taskDesignation\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".taskType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              [disabled]=\"true\"\r\n              class=\"aw-dropdown fixed-width\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.bireTaskDTO.taskTypeCode\"\r\n              [options]=\"taskTypes\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"popUpType === 'task'\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".taskGroup\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              [disabled]=\"true\"\r\n              class=\"aw-dropdown fixed-width\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.bireTaskDTO.groupCode\"\r\n              [options]=\"taskGroups\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".groupCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.groupCode\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\"></div>\r\n        <div class=\"form-group\"></div>\r\n      </div>\r\n\r\n      <div *ngIf=\"popUpType === 'visit'\" class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: isCreateMode }\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".visitCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: !isCreateMode }\">\r\n            <div class=\"form-control-data\" (click)=\"!isReadOnlyForm && visitSearch()\">\r\n              {{ planTaskCounterTableDTO.visitCode }}\r\n            </div>\r\n\r\n            <div *ngIf=\"planTaskCounterTableDTO.visitCode\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"planTaskCounterTableDTO.visitCode = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i\r\n                class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"!isReadOnlyForm && visitSearch()\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [ngClass]=\"{ required: isCreateMode }\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".visitVersion\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"planTaskCounterTableDTO.visitVersion\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".visitDesignation\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.visitDesignation\"\r\n              [disabled]=\"true\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: isCreateMode }\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".reference\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              [disabled]=\"!isCreateMode\"\r\n              class=\"aw-dropdown fixed-width\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode\"\r\n              [options]=\"references\"\r\n              [showClear]=\"true\"\r\n              placeholder=\"&nbsp;\"\r\n              (onChange)=\"onSelectVisitReference()\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [style.display]=\"!showPeriodicity ? 'none' : 'inherit'\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".firstPeriodicity\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <div class=\"row\">\r\n              <div style=\"width:90%\">\r\n                <input\r\n                  #periodicityFirst=\"ngModel\"\r\n                  type=\"text\"\r\n                  class=\"aw-input\"\r\n                  [disabled]=\"isReadOnlyForm\"\r\n                  [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst\"\r\n                  [pKeyFilter]=\"inputValidationService.validatorOfPositiveNumber()\"\r\n                  [pValidateOnly]=\"true\"\r\n                />\r\n              </div>\r\n              <div style=\"width:10%\" class=\"span-padding\">{{ unitCode }}</div>\r\n            </div>\r\n            <p-message\r\n              *ngIf=\"periodicityFirst.invalid && (periodicityFirst.dirty || periodicityFirst.touched)\"\r\n              severity=\"error\"\r\n              [text]=\"inputValidationService.formatOfPositiveNumber()\"\r\n            ></p-message>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\" [style.display]=\"showPeriodicity ? 'none' : 'inherit'\"></div>\r\n\r\n        <div class=\"form-group\" [style.display]=\"!showPeriodicity ? 'none' : 'inherit'\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".periodicity\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <div class=\"row\">\r\n              <div style=\"width: 90%\">\r\n                <input\r\n                  #periodicity=\"ngModel\"\r\n                  type=\"text\"\r\n                  class=\"aw-input\"\r\n                  [disabled]=\"isReadOnlyForm\"\r\n                  [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity\"\r\n                  [pKeyFilter]=\"inputValidationService.validatorOfPositiveNumber()\"\r\n                  [pValidateOnly]=\"true\"\r\n                />\r\n              </div>\r\n              <div class=\"span-padding\" style=\"width: 10%\">{{ unitCode }}</div>\r\n            </div>\r\n            <p-message\r\n              *ngIf=\"periodicity.invalid && (periodicity.dirty || periodicity.touched)\"\r\n              severity=\"error\"\r\n              [text]=\"inputValidationService.formatOfPositiveNumber()\"\r\n            ></p-message>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\" [style.display]=\"showPeriodicity ? 'none' : 'inherit'\"></div>\r\n\r\n        <div *ngIf=\"popUpType === 'task' && showPeriodicity\" class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".periodicityType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityType\"\r\n              [options]=\"periodicityTypes\"\r\n              [showClear]=\"true\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n        <div *ngIf=\"popUpType === 'task' && !showPeriodicity\" class=\"form-group\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [style.display]=\"!showPeriodicity ? 'none' : 'inherit'\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".tolerance\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              #tolerance=\"ngModel\"\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance\"\r\n              [pKeyFilter]=\"inputValidationService.validatorOfNumber()\"\r\n              [pValidateOnly]=\"true\"\r\n            />\r\n            <p-message\r\n              *ngIf=\"tolerance.invalid && (tolerance.dirty || tolerance.touched)\"\r\n              severity=\"error\"\r\n              [text]=\"inputValidationService.formatOfNumber()\"\r\n            ></p-message>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" [style.display]=\"!showPeriodicity ? 'none' : 'inherit'\">\r\n          <label class=\"form-label\"\r\n            >{{ componentData.componentId + \".alertThreshold\" | translate }} {{ labelUnitCode }}</label\r\n          >\r\n          <div class=\"form-control\">\r\n            <input\r\n              #threshold=\"ngModel\"\r\n              type=\"text\"\r\n              class=\"aw-input\"\r\n              [disabled]=\"isReadOnlyForm\"\r\n              [(ngModel)]=\"planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold\"\r\n              [pKeyFilter]=\"inputValidationService.validatorOfNumber()\"\r\n              [pValidateOnly]=\"true\"\r\n            />\r\n            <p-message\r\n              *ngIf=\"threshold.invalid && (threshold.dirty || threshold.touched)\"\r\n              severity=\"error\"\r\n              [text]=\"inputValidationService.formatOfNumber()\"\r\n            ></p-message>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".comments\" | translate }}</label>\r\n          <div class=\"form-control\">\r\n            <textarea\r\n              class=\"aw-textarea\"\r\n              [rows]=\"3\"\r\n              pInputTextarea\r\n              [disabled]=\"true\"\r\n              [(ngModel)]=\"customComments\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\" *ngIf=\"popUpType === 'task'\"></div>\r\n        <div class=\"form-group\" [style.display]=\"showPeriodicity ? 'none' : 'inherit'\"></div>\r\n        <div class=\"form-group\" [style.display]=\"showPeriodicity ? 'none' : 'inherit'\"></div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm && popUpType === 'visit'\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"associate()\"\r\n      color=\"primary\"\r\n      [disabled]=\"\r\n        !planTaskCounterTableDTO.visitCode ||\r\n        !planTaskCounterTableDTO.visitVersion ||\r\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||\r\n        (periodicityFirst.invalid && (periodicityFirst.dirty || periodicityFirst.touched)) ||\r\n        (periodicity.invalid && (periodicity.dirty || periodicity.touched)) ||\r\n        (tolerance.invalid && (tolerance.dirty || tolerance.touched)) ||\r\n        (threshold.invalid && (threshold.dirty || threshold.touched))\r\n      \"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm && popUpType === 'task'\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"associate()\"\r\n      [disabled]=\"\r\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode ||\r\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion ||\r\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||\r\n        (periodicityFirst.invalid && (periodicityFirst.dirty || periodicityFirst.touched)) ||\r\n        (periodicity.invalid && (periodicity.dirty || periodicity.touched)) ||\r\n        (tolerance.invalid && (tolerance.dirty || tolerance.touched)) ||\r\n        (threshold.invalid && (threshold.dirty || threshold.touched))\r\n      \"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-search-task\r\n  *ngIf=\"showItemTaskSearchPopup\"\r\n  [(display)]=\"showItemTaskSearchPopup\"\r\n  (onSelected)=\"setSelectedTaskSearchCode($event)\"\r\n  [is-visit]=\"false\"\r\n></aw-dialog-search-task>\r\n\r\n<aw-dialog-search-task\r\n  *ngIf=\"showItemVisitSearchPopup\"\r\n  [(display)]=\"showItemVisitSearchPopup\"\r\n  (onSelected)=\"setSelectedVisitSearchCode($event)\"\r\n  [is-visit]=\"true\"\r\n></aw-dialog-search-task>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.ts":
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.ts ***!
  \**************************************************************************************************************************************/
/*! exports provided: TaskVisitPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskVisitPopupFormComponent", function() { return TaskVisitPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_bire_measure_reference_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/constants/bire-measure-reference-constants */ "./src/app/shared/constants/bire-measure-reference-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_settings_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../shared/utils/settings-utils */ "./src/app/shared/utils/settings-utils.ts");
/* harmony import */ var _maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../maintenance-program-form.service */ "./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};













var TaskVisitPopupFormComponent = /** @class */ (function (_super) {
    __extends(TaskVisitPopupFormComponent, _super);
    function TaskVisitPopupFormComponent(inputValidationService, sessionService, messageService, propertiesService, maintenanceProgramFormService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_5__["ComponentOpenMode"].Read, 'TaskVisitPopupFormComponent') || this;
        _this.inputValidationService = inputValidationService;
        _this.sessionService = sessionService;
        _this.messageService = messageService;
        _this.propertiesService = propertiesService;
        _this.maintenanceProgramFormService = maintenanceProgramFormService;
        _this.displayChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onAssociated = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.planTaskCounterTableDTO = {
            bireTaskDTO: {},
            birePlanTaskCounterDTO: {}
        };
        _this.taskKeyMap = new Map();
        _this.references = [];
        _this.taskGroups = [];
        _this.taskTypes = [];
        _this.periodicityTypes = [];
        _this.unitCodeList = [];
        _this.showPeriodicity = true;
        _this.customComments = '';
        _this.initMeasureUnit();
        return _this;
    }
    TaskVisitPopupFormComponent_1 = TaskVisitPopupFormComponent;
    Object.defineProperty(TaskVisitPopupFormComponent.prototype, "display", {
        get: function () {
            return this.displayValue;
        },
        set: function (displayValue) {
            this.displayValue = displayValue;
            this.displayChange.emit(this.displayValue);
        },
        enumerable: true,
        configurable: true
    });
    TaskVisitPopupFormComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.popUpType) {
            this.popUpType = '';
        }
        var observables = [
            this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].TASK_TYPE_MAP),
            this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].PERIODICITY_TYPE_MAP),
            this.maintenanceProgramFormService.findAllBireTaskGroups()
        ];
        Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])(observables).subscribe(function (_a) {
            var _b = __read(_a, 3), taskTypes = _b[0], periodicityTypes = _b[1], taskGroups = _b[2];
            _this.maintenanceProgramFormService.findAllBireMeasureReferencesMaintenanceProgram().subscribe(function (results) {
                _this.taskTypes = taskTypes;
                _this.periodicityTypes = periodicityTypes;
                _this.taskGroups = taskGroups;
                _this.unitCodeList = results;
                results.forEach(function (element) {
                    if (!!element.counterRemarks && !!element.counterCode) {
                        var temp = {
                            label: element.counterRemarks + " (" + element.counterCode + ")",
                            value: element.counterCode
                        };
                        _this.references.push(temp);
                    }
                });
                if (_this.componentData && _this.componentData.componentId && !!_this.componentData.object) {
                    _this.planTaskCounterTableDTO = _this.componentData.object;
                    if (_this.isUnitFh && !!_this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold) {
                        _this.saveThreshold = _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold;
                        _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = _this.calculateFhValueFromPercentage(_this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold, _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst, _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity);
                    }
                    // Set defaults to zero
                    _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance =
                        _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance || 0;
                    _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst =
                        _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst || 0;
                    _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity =
                        _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity || 0;
                    _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold =
                        _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold || 0;
                    _this.customComments = _this.getDisplayComments(_this.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments || '');
                    _this.setUnitCode();
                }
            });
        });
    };
    TaskVisitPopupFormComponent.prototype.getTypeName = function () {
        return 'TaskVisitPopupFormComponent';
    };
    TaskVisitPopupFormComponent.prototype.associate = function () {
        var _this = this;
        this.fhThreshold = this.getPercentageValueOfThreshold(this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst, this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity, this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold);
        // Set these to undefined, dont pass zero
        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity =
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity || undefined;
        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst =
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst || undefined;
        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance =
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance || undefined;
        if (this.isUnitFh) {
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = this.fhThreshold || undefined;
        }
        else {
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold =
                this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold || undefined;
        }
        if (!!this.planTaskCounterTableDTO.visitCode &&
            !!this.planTaskCounterTableDTO.visitVersion &&
            !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&
            !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode) {
            var bireTaskDTO = {
                taskCode: this.planTaskCounterTableDTO.visitCode,
                taskVersion: this.planTaskCounterTableDTO.visitVersion,
                taskDesignation: this.planTaskCounterTableDTO.visitDesignation
            };
            this.maintenanceProgramFormService.findBireTaskTasksByVisit(bireTaskDTO).subscribe(function (results) {
                var planTaskCounter = [];
                if (results.length > 0) {
                    results.forEach(function (task) {
                        var planTaskCounterObj = {
                            birePlanTaskCounterDTO: _this.planTaskCounterTableDTO.birePlanTaskCounterDTO,
                            bireTaskDTO: task,
                            complianceDetail: _this.planTaskCounterTableDTO.complianceDetail,
                            complianceLight: _this.planTaskCounterTableDTO.complianceLight,
                            visitCode: _this.planTaskCounterTableDTO.visitCode,
                            visitVersion: _this.planTaskCounterTableDTO.visitVersion,
                            visitDesignation: _this.planTaskCounterTableDTO.visitDesignation
                        };
                        planTaskCounter.push(planTaskCounterObj);
                    });
                }
                else {
                    planTaskCounter.push(_this.planTaskCounterTableDTO);
                }
                _this.onAssociated.emit(planTaskCounter);
                _this.display = false;
            });
        }
        else if (!!this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&
            !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode &&
            !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion &&
            !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode) {
            this.onAssociated.emit([this.planTaskCounterTableDTO]);
            this.display = false;
        }
        else {
            this.messageService.showErrorMessage('global.missingFields');
        }
    };
    TaskVisitPopupFormComponent.prototype.cancel = function () {
        if (this.isUnitFh) {
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = this.getPercentageValueOfThreshold(this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst, this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity, this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold);
        }
        this.display = false;
    };
    TaskVisitPopupFormComponent.prototype.taskSearch = function () {
        this.showItemTaskSearchPopup = true;
    };
    TaskVisitPopupFormComponent.prototype.visitSearch = function () {
        this.showItemVisitSearchPopup = true;
    };
    TaskVisitPopupFormComponent.prototype.setSelectedTaskSearchCode = function (selectedObject) {
        if (selectedObject) {
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO = this.planTaskCounterTableDTO.birePlanTaskCounterDTO || {};
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode = selectedObject.taskCode;
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion = selectedObject.taskVersion;
            this.planTaskCounterTableDTO.bireTaskDTO = this.planTaskCounterTableDTO.bireTaskDTO || {};
            this.planTaskCounterTableDTO.bireTaskDTO.taskCode = selectedObject.taskCode;
            this.planTaskCounterTableDTO.bireTaskDTO.taskVersion = selectedObject.taskVersion;
            this.planTaskCounterTableDTO.bireTaskDTO.taskDesignation = selectedObject.taskDesignation;
            this.planTaskCounterTableDTO.bireTaskDTO.groupCode = selectedObject.groupCode;
            this.planTaskCounterTableDTO.bireTaskDTO.taskTypeCode = selectedObject.taskTypeCode;
        }
        this.showItemTaskSearchPopup = false;
    };
    TaskVisitPopupFormComponent.prototype.setSelectedVisitSearchCode = function (selectedObject) {
        if (selectedObject) {
            this.planTaskCounterTableDTO.visitCode = selectedObject.taskCode;
            this.planTaskCounterTableDTO.visitVersion = selectedObject.taskVersion;
            this.planTaskCounterTableDTO.visitDesignation = selectedObject.taskDesignation;
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO = this.planTaskCounterTableDTO.birePlanTaskCounterDTO || {};
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode = selectedObject.taskCode;
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion = selectedObject.taskVersion;
            this.planTaskCounterTableDTO.bireTaskDTO = this.planTaskCounterTableDTO.bireTaskDTO || {};
            this.planTaskCounterTableDTO.bireTaskDTO.taskCode = selectedObject.taskCode;
            this.planTaskCounterTableDTO.bireTaskDTO.taskVersion = selectedObject.taskVersion;
            this.planTaskCounterTableDTO.bireTaskDTO.taskDesignation = selectedObject.taskDesignation;
        }
        this.showItemVisitSearchPopup = false;
    };
    TaskVisitPopupFormComponent.prototype.onSelectVisitReference = function () {
        if (!!this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&
            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode) {
            this.setUnitCode();
            if (_shared_constants_bire_measure_reference_constants__WEBPACK_IMPORTED_MODULE_3__["BireMeasureReferenceConstants"].BIRE_MEASURE_REFERENCE_COUNTER_CODE_PRE_FLIGHT ===
                this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||
                _shared_constants_bire_measure_reference_constants__WEBPACK_IMPORTED_MODULE_3__["BireMeasureReferenceConstants"].BIRE_MEASURE_REFERENCE_COUNTER_CODE_POST_FLIGHT ===
                    this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||
                _shared_constants_bire_measure_reference_constants__WEBPACK_IMPORTED_MODULE_3__["BireMeasureReferenceConstants"].BIRE_MEASURE_REFERENCE_COUNTER_CODE_DAILY ===
                    this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode) {
                this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst = 0;
                this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity = 0;
                this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityType = undefined;
                this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance = 0;
                this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = 0;
                this.showPeriodicity = false;
            }
            else {
                this.showPeriodicity = true;
            }
        }
    };
    TaskVisitPopupFormComponent.prototype.setUnitCode = function () {
        var _this = this;
        var unitCodeObj = this.unitCodeList.filter(function (element) {
            return (!!_this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&
                element.counterCode === _this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode);
        })[0];
        this.unitCode = unitCodeObj && unitCodeObj.unitCode;
        if (!!this.unitCode && this.isUnitFh) {
            this.labelUnitCode = '(' + this.unitCode + ')';
        }
    };
    TaskVisitPopupFormComponent.prototype.getDisplayComments = function (comment) {
        try {
            if (comment) {
                var commentObj = JSON.parse(comment);
                if (commentObj && commentObj.length === 1) {
                    return commentObj[0].comment;
                }
                else if (commentObj && commentObj.length > 1) {
                    return !!commentObj[0].comment ? commentObj[0].comment : comment;
                }
            }
            return '';
        }
        catch (e) {
            return comment;
        }
    };
    TaskVisitPopupFormComponent.prototype.initMeasureUnit = function () {
        var _this = this;
        this.isUnitFh = true;
        this.propertiesService
            .getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].AEROWEBB_CONFIGURATION_MAP)
            .subscribe(function (awConfiguration) {
            if (_shared_utils_settings_utils__WEBPACK_IMPORTED_MODULE_11__["SettingsUtils"].isPropertyEnabled(awConfiguration, _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].REFERENTIAL_ALERT_THRESHOLD_IS_PERCENTAGE)) {
                _this.isUnitFh = false;
                _this.labelUnitCode = '(%)';
            }
        });
    };
    TaskVisitPopupFormComponent.prototype.getPercentageValueOfThreshold = function (periodicityFirst, periodicity, threshold) {
        if (!!periodicity) {
            // If there is a value in Periodicity field, we use it
            return this.calculateFhPercentage(periodicity, threshold);
        }
        if (!!periodicityFirst) {
            // If there are values in FirstPeriodicity AND Periodicity fields, we use the Periodicity field
            return this.calculateFhPercentage(periodicityFirst, threshold);
        }
        return undefined;
    };
    TaskVisitPopupFormComponent.prototype.calculateFhPercentage = function (periodicity, threshold) {
        if (!!threshold) {
            return (Math.round((threshold / periodicity) *
                TaskVisitPopupFormComponent_1.PERCENTAGE_CONST *
                TaskVisitPopupFormComponent_1.ONE_DECIMAL_ROUND) / TaskVisitPopupFormComponent_1.ONE_DECIMAL_ROUND);
        }
    };
    TaskVisitPopupFormComponent.prototype.calculateFhValueFromPercentage = function (percent, periodicityFirst, periodicity) {
        if (!!periodicity) {
            return (Math.round(((percent * periodicity) / TaskVisitPopupFormComponent_1.PERCENTAGE_CONST) *
                TaskVisitPopupFormComponent_1.ONE_DECIMAL_ROUND) / TaskVisitPopupFormComponent_1.ONE_DECIMAL_ROUND);
        }
        if (!!periodicityFirst) {
            return (Math.round(((percent * periodicityFirst) / TaskVisitPopupFormComponent_1.PERCENTAGE_CONST) *
                TaskVisitPopupFormComponent_1.ONE_DECIMAL_ROUND) / TaskVisitPopupFormComponent_1.ONE_DECIMAL_ROUND);
        }
        return 0;
    };
    var TaskVisitPopupFormComponent_1;
    TaskVisitPopupFormComponent.PERCENTAGE_CONST = 100;
    TaskVisitPopupFormComponent.ONE_DECIMAL_ROUND = 10;
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], TaskVisitPopupFormComponent.prototype, "display", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], TaskVisitPopupFormComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], TaskVisitPopupFormComponent.prototype, "isCreateMode", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], TaskVisitPopupFormComponent.prototype, "popUpType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], TaskVisitPopupFormComponent.prototype, "displayChange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], TaskVisitPopupFormComponent.prototype, "onAssociated", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], TaskVisitPopupFormComponent.prototype, "componentData", void 0);
    TaskVisitPopupFormComponent = TaskVisitPopupFormComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-task-visit-popup-form',
            template: __webpack_require__(/*! ./task-visit-popup-form.component.html */ "./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.html"),
            styles: [__webpack_require__(/*! ../popup-form.component.scss */ "./src/app/main/engineering-management/maintenance-program-form/popups/popup-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_6__["InputValidationService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_9__["SessionService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__["MessageService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_8__["PropertiesService"],
            _maintenance_program_form_service__WEBPACK_IMPORTED_MODULE_12__["MaintenanceProgramFormService"]])
    ], TaskVisitPopupFormComponent);
    return TaskVisitPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_10__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.html ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n  <a-content>\r\n    <div class=\"form-control\">\r\n      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"_changedVersion\" />\r\n    </div>\r\n  </a-content>\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" color=\"primary\" type=\"button\" mat-raised-button (click)=\"add()\" [disabled]=\"false\">\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.ts":
/*!********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.ts ***!
  \********************************************************************************************************************************/
/*! exports provided: UpgradePopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpgradePopupFormComponent", function() { return UpgradePopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UpgradePopupFormComponent = /** @class */ (function (_super) {
    __extends(UpgradePopupFormComponent, _super);
    function UpgradePopupFormComponent(inputValidationService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'UpgradePopupFormComponent') || this;
        _this.inputValidationService = inputValidationService;
        _this.changedVersion = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    UpgradePopupFormComponent.prototype.cancel = function () {
        this.display = false;
    };
    UpgradePopupFormComponent.prototype.add = function () {
        if (this._changedVersion !== this.version) {
            this.changedVersion.emit(this._changedVersion);
        }
    };
    UpgradePopupFormComponent.prototype.getTypeName = function () {
        return 'UpgradePopupFormComponent';
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], UpgradePopupFormComponent.prototype, "version", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], UpgradePopupFormComponent.prototype, "changedVersion", void 0);
    UpgradePopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-upgrade-popup-form',
            template: __webpack_require__(/*! ./upgrade-popup-form.component.html */ "./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.html"),
            styles: [__webpack_require__(/*! ../popup-form.component.scss */ "./src/app/main/engineering-management/maintenance-program-form/popups/popup-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_2__["InputValidationService"]])
    ], UpgradePopupFormComponent);
    return UpgradePopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.html":
/*!*****************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.html ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header-container\">\r\n  <div class=\"page-context\">\r\n    <div class=\"page-title-container\">\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-secondary-actions\">\r\n        <i\r\n          class=\"fa fa-fw aw-icon aw-icon-with-border\"\r\n          [ngClass]=\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\"\r\n          aria-hidden=\"true\"\r\n          (click)=\"updateFavoriteState()\"\r\n          pTooltip=\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\"\r\n          tooltipPosition=\"bottom\"\r\n        ></i>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"page-subtitle-container\">\r\n      <div class=\"page-subtitle\">{{ componentData.componentId + \".wbmRevNum\" | translate }} : {{ planCode }}</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <a-table [dataSource]=\"changeRecordTableDataSource\">\r\n              <ng-template columnDef=\"taskReference\" let-rowData=\"rowData\">\r\n                <a (click)=\"openTaskForm(rowData)\">{{ rowData.taskReference }}</a>\r\n              </ng-template>\r\n              <ng-template columnDef=\"updatedTask\" let-rowData=\"rowData\">\r\n                <p-checkbox\r\n                  class=\"aw-checkbox custom-checkbox\"\r\n                  binary=\"true\"\r\n                  [(ngModel)]=\"rowData.updatedTask\"\r\n                  disabled\r\n                ></p-checkbox>\r\n              </ng-template>\r\n\r\n              <ng-template columnDef=\"nilTask\" let-rowData=\"rowData\">\r\n                <p-checkbox\r\n                  class=\"aw-checkbox custom-checkbox\"\r\n                  binary=\"true\"\r\n                  [(ngModel)]=\"rowData.nilTask\"\r\n                  disabled\r\n                ></p-checkbox>\r\n              </ng-template>\r\n            </a-table>\r\n            <span *ngIf=\"!isLoading\"> &nbsp;</span>\r\n\r\n            <div *ngIf=\"isLoading\" class=\"aw-table-loading-indicator\">\r\n              <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n              <div class=\"lds-hourglass\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.ts":
/*!***************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.ts ***!
  \***************************************************************************************************************************/
/*! exports provided: ChangeRecordFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeRecordFormComponent", function() { return ChangeRecordFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _change_record_form_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./change-record-form.service */ "./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var ChangeRecordFormComponent = /** @class */ (function (_super) {
    __extends(ChangeRecordFormComponent, _super);
    function ChangeRecordFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, changeRecordFormService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.changeRecordFormService = changeRecordFormService;
        _this.initChangeRecordTableDataSource();
        _this.isLoading = true;
        _this.task = {};
        return _this;
    }
    ChangeRecordFormComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__["ComponentConstants"].ENG_CHANGE_RECORD_FORM;
    };
    ChangeRecordFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.init();
    };
    ChangeRecordFormComponent.prototype.init = function () {
        if (!!this.componentData.objectId) {
            this.planCode = this.serializationService.deserialize(this.componentData.objectId);
            this.loadChangeRecordTable();
        }
    };
    ChangeRecordFormComponent.prototype.loadChangeRecordTable = function () {
        var _this = this;
        var updatedTask = [];
        this.changeRecordFormService.changeRecordByPlanCode(this.planCode).subscribe(function (result) {
            if (!!result) {
                result.forEach(function (element) {
                    var changeRecordRow = {
                        taskDesignation: element.taskDesignation,
                        changedReason: element.changedReason,
                        taskReference: element.taskReference,
                        updatedTask: element.updatedTask,
                        nilTask: element.nilTask
                    };
                    updatedTask.push(changeRecordRow);
                });
                _this.changeRecordTableDataSource.setData(updatedTask);
                _this.isLoading = false;
            }
        });
    };
    ChangeRecordFormComponent.prototype.initChangeRecordTableDataSource = function () {
        this.changeRecordTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["TableDataSource"]({
            enableSelection: false,
            columns: [
                {
                    field: 'taskDesignation',
                    translateKey: this.getTranslateKey('taskDesignation'),
                    width: '35%'
                },
                {
                    field: 'changedReason',
                    translateKey: this.getTranslateKey('reasons'),
                    width: '35%'
                },
                {
                    field: 'taskReference',
                    translateKey: this.getTranslateKey('taskReference'),
                    width: '20%'
                },
                {
                    field: 'updatedTask',
                    translateKey: this.getTranslateKey('update'),
                    width: '5%'
                },
                {
                    field: 'nilTask',
                    translateKey: this.getTranslateKey('nil'),
                    width: '5%'
                }
            ],
            data: []
        });
    };
    ChangeRecordFormComponent.prototype.openTaskForm = function (object, openMode) {
        if (!!object.taskReference) {
            var taskId = object.taskReference.split(':');
            if (!!taskId) {
                this.task = {
                    taskCode: taskId[0],
                    taskVersion: taskId[1]
                };
            }
        }
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__["ComponentConstants"].ENG_TASK_FORM,
            objectId: this.serializationService.serialize(this.task),
            openMode: openMode
        };
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    ChangeRecordFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-change-record-form',
            template: __webpack_require__(/*! ./change-record-form.component.html */ "./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_4__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_5__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_6__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_7__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_8__["TabService"],
            _change_record_form_service__WEBPACK_IMPORTED_MODULE_10__["ChangeRecordFormService"]])
    ], ChangeRecordFormComponent);
    return ChangeRecordFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_9__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.service.ts":
/*!*************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.service.ts ***!
  \*************************************************************************************************************************/
/*! exports provided: ChangeRecordFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeRecordFormService", function() { return ChangeRecordFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_mhiael_import_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/api/mhiael/import.api */ "./src/app/shared/api/mhiael/import.api.ts");
/* harmony import */ var _shared_http_abstract_aw_mhiael_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/http/abstract-aw-mhiael-http */ "./src/app/shared/http/abstract-aw-mhiael-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ChangeRecordFormService = /** @class */ (function (_super) {
    __extends(ChangeRecordFormService, _super);
    function ChangeRecordFormService(http, appConfigService, mhiaelImportApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.mhiaelImportApi = mhiaelImportApi;
        return _this;
    }
    ChangeRecordFormService.prototype.changeRecordByPlanCode = function (input) {
        return _super.prototype.post.call(this, this.mhiaelImportApi.changeRecordByPlanCode, input);
    };
    ChangeRecordFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_mhiael_import_api__WEBPACK_IMPORTED_MODULE_2__["MhiaelImportApi"]])
    ], ChangeRecordFormService);
    return ChangeRecordFormService;
}(_shared_http_abstract_aw_mhiael_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwMhiaelHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.html":
/*!***************************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.html ***!
  \***************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"form-group\">\r\n      <textarea class=\"aw-textarea\" [rows]=\"20\" [cols]=\"150\" pInputTextarea [(ngModel)]=\"reportContent.text\"></textarea>\r\n    </div>\r\n  </a-content>\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"closeDialog()\">{{ \"global.close\" | translate }}</button>\r\n    <button type=\"button\" mat-raised-button (click)=\"exportToTxt()\">\r\n      {{ getComponentName() + \".exportTxt\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.ts":
/*!*************************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.ts ***!
  \*************************************************************************************************************************************************************/
/*! exports provided: DialogCompareMaintenanceProgramsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogCompareMaintenanceProgramsComponent", function() { return DialogCompareMaintenanceProgramsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DialogCompareMaintenanceProgramsComponent = /** @class */ (function (_super) {
    __extends(DialogCompareMaintenanceProgramsComponent, _super);
    function DialogCompareMaintenanceProgramsComponent() {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Read, 'DialogCompareMaintenanceProgramsComponent') || this;
        _this.reportContent = {};
        return _this;
    }
    DialogCompareMaintenanceProgramsComponent.prototype.ngOnInit = function () {
        return;
    };
    DialogCompareMaintenanceProgramsComponent.prototype.exportToTxt = function () {
        _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_3__["FileUtils"].downloadFile(this.reportContent.bytes, "Report_" + new Date().toDateString() + "_" + new Date().getHours() + "h" + new Date().getSeconds() + ".txt");
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DialogCompareMaintenanceProgramsComponent.prototype, "reportContent", void 0);
    DialogCompareMaintenanceProgramsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-dialog-compare-maintenance-programs',
            template: __webpack_require__(/*! ./dialog-compare-maintenance-programs.component.html */ "./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.html")
        }),
        __metadata("design:paramtypes", [])
    ], DialogCompareMaintenanceProgramsComponent);
    return DialogCompareMaintenanceProgramsComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.html":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.html ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"openNewMaintenanceProgram()\"\r\n      *ngIf=\"hasUpdateRights && hasUpdateAccessRight\"\r\n    >\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <div class=\"column\">\r\n                <div class=\"row search-criteria-header\">\r\n                  <i\r\n                    class=\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\"\r\n                    aria-hidden=\"true\"\r\n                    pTooltip=\"{{ 'global.reset' | translate }}\"\r\n                    tooltipPosition=\"top\"\r\n                    (click)=\"resetSearchCriteria()\"\r\n                  ></i>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".familyVariant\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"familyVariants\"\r\n                        [(ngModel)]=\"selectedFamilyVariant\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".code\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planCode\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".name\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planName\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\"></div>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".revisionDate\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-calendar\r\n                        showButtonBar=\"true\"\r\n                        [monthNavigator]=\"true\"\r\n                        [yearNavigator]=\"true\"\r\n                        [yearRange]=\"sessionService.calendarYearRange\"\r\n                        class=\"aw-calendar\"\r\n                        [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                        [locale]=\"sessionService.calendarFormat\"\r\n                        [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planRevisionDate\"\r\n                      ></p-calendar>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".approvalDate\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-calendar\r\n                        showButtonBar=\"true\"\r\n                        [monthNavigator]=\"true\"\r\n                        [yearNavigator]=\"true\"\r\n                        [yearRange]=\"sessionService.calendarYearRange\"\r\n                        class=\"aw-calendar\"\r\n                        [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                        [locale]=\"sessionService.calendarFormat\"\r\n                        [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planApprovalDate\"\r\n                      ></p-calendar>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".validityEndDate\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-calendar\r\n                        showButtonBar=\"true\"\r\n                        [monthNavigator]=\"true\"\r\n                        [yearNavigator]=\"true\"\r\n                        [yearRange]=\"sessionService.calendarYearRange\"\r\n                        class=\"aw-calendar\"\r\n                        [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                        [locale]=\"sessionService.calendarFormat\"\r\n                        [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planValidityEndDate\"\r\n                      ></p-calendar>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\"></div>\r\n                </div>\r\n\r\n                <div class=\"advanced-criteria\" [ngClass]=\"{ 'display--none': !showAdvancedCriteria }\">\r\n                  <div class=\"row\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".revisionNumber\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planRevisionNumber\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".approvalNumber\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planApprovalNumber\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".description\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <textarea\r\n                          class=\"aw-textarea\"\r\n                          [rows]=\"3\"\r\n                          pInputTextarea\r\n                          [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planDescription\"\r\n                        ></textarea>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row search-criteria-footer\">\r\n                  <button mat-button (click)=\"showAdvancedCriteria = !showAdvancedCriteria\">\r\n                    <ng-container *ngIf=\"showAdvancedCriteria\">\r\n                      <mat-icon>remove</mat-icon>\r\n                      {{ \"global.collapseCriteria\" | translate }}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!showAdvancedCriteria\">\r\n                      <mat-icon>add</mat-icon>\r\n                      {{ \"global.expandCriteria\" | translate }}\r\n                    </ng-container>\r\n                  </button>\r\n\r\n                  <div class=\"search-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      class=\"btn-with-spinner\"\r\n                      (click)=\"search()\"\r\n                      color=\"primary\"\r\n                      appKeyPress\r\n                      [keyCode]=\"'Enter'\"\r\n                      (keyPress)=\"search()\"\r\n                    >\r\n                      <span *ngIf=\"isLoading\" class=\"lds-hourglass\"></span>\r\n                      {{ \"global.toSearch\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <!-- Maintenance programs table -->\r\n\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{\r\n                    maintenanceProgramTableDataSource ? maintenanceProgramTableDataSource.dataCount : 0\r\n                  }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <a-table\r\n              [dataSource]=\"maintenanceProgramTableDataSource\"\r\n              (onRowSelect)=\"validateMaintenanceProgramOptions()\"\r\n              (onRowUnselect)=\"validateMaintenanceProgramOptions()\"\r\n              (onHeaderCheckboxToggle)=\"validateMaintenanceProgramOptions()\"\r\n            >\r\n              <ng-template tableActionsDef>\r\n                <button\r\n                  *ngIf=\"enableComapreRMP\"\r\n                  class=\"btn-with-spinner\"\r\n                  type=\"button\"\r\n                  mat-raised-button\r\n                  (click)=\"compareRmp()\"\r\n                  [disabled]=\"isReportLoading\"\r\n                >\r\n                  <span *ngIf=\"isReportLoading\" class=\"lds-hourglass\"></span>\r\n                  {{ componentData.componentId + \".compareRMPS\" | translate }}\r\n                </button>\r\n\r\n                <button\r\n                  *ngIf=\"enableComapreAMP\"\r\n                  class=\"btn-with-spinner\"\r\n                  type=\"button\"\r\n                  mat-raised-button\r\n                  (click)=\"compareAmp()\"\r\n                >\r\n                  <span *ngIf=\"isReportLoading\" class=\"lds-hourglass\"></span>\r\n                  {{ componentData.componentId + \".compareAMPS\" | translate }}\r\n                </button>\r\n\r\n                <button\r\n                  *ngIf=\"enableComapreAMPagainstRMP\"\r\n                  type=\"button\"\r\n                  class=\"btn-with-spinner\"\r\n                  mat-raised-button\r\n                  (click)=\"compareRmpWithAmp()\"\r\n                >\r\n                  <span *ngIf=\"isReportLoading\" class=\"lds-hourglass\"></span>\r\n                  {{ componentData.componentId + \".compareRMPWithAMP\" | translate }}\r\n                </button>\r\n\r\n                <button\r\n                  *ngIf=\"\r\n                    maintenanceProgramTableDataSource &&\r\n                    maintenanceProgramTableDataSource.hasData &&\r\n                    !maintenanceProgramTableDataSource.hasDataSelection\r\n                  \"\r\n                  type=\"button\"\r\n                  mat-raised-button\r\n                  (click)=\"exportTable()\"\r\n                >\r\n                  {{ \"global.export\" | translate }}\r\n                </button>\r\n\r\n                <button\r\n                  *ngIf=\"\r\n                    hasManageAccessRight &&\r\n                    !isDeleteButtonDisabled &&\r\n                    hasDisplayRights &&\r\n                    maintenanceProgramTableDataSource.hasDataSelection\r\n                  \"\r\n                  type=\"button\"\r\n                  mat-raised-button\r\n                  color=\"warn\"\r\n                  (click)=\"deleteMaintenancePrograms()\"\r\n                >\r\n                  {{ \"global.delete\" | translate }}\r\n                </button>\r\n                <button\r\n                  *ngIf=\"maintenanceProgramTableDataSource.dataSelectionCount === 1 && sessionService.isSpecificMHIAEL\"\r\n                  type=\"button\"\r\n                  mat-raised-button\r\n                  (click)=\"changeRecord()\"\r\n                >\r\n                  {{ componentData.componentId + \".changeRecord\" | translate }}\r\n                </button>\r\n                <button\r\n                  *ngIf=\"maintenanceProgramTableDataSource.dataSelectionCount === 1\"\r\n                  type=\"button\"\r\n                  mat-raised-button\r\n                  (click)=\"openSelectedUpdatesList()\"\r\n                >\r\n                  {{ componentData.componentId + \".updatesList\" | translate }}\r\n                </button>\r\n\r\n                <button\r\n                  *ngIf=\"hasDisplayRights && maintenanceProgramTableDataSource.hasDataSelection\"\r\n                  type=\"button\"\r\n                  mat-raised-button\r\n                  (click)=\"openSelectedMaintenancePrograms()\"\r\n                >\r\n                  {{ \"global.open\" | translate }}\r\n                </button>\r\n              </ng-template>\r\n              <ng-template columnDef=\"code\" let-rowData=\"rowData\">\r\n                <a (click)=\"openMaintenanceProgramLink(rowData)\">{{ rowData.code }}</a>\r\n              </ng-template>\r\n              <ng-template columnDef=\"ampStatus\" let-rowData=\"rowData\">\r\n                <span\r\n                  *ngIf=\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'green'\"\r\n                  class=\"alert alert--ok\"\r\n                >\r\n                  {{ \"global.alertOk\" | translate }}\r\n                </span>\r\n\r\n                <span\r\n                  *ngIf=\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'red'\"\r\n                  class=\"alert alert--nok\"\r\n                >\r\n                  {{ \"global.alertNok\" | translate }}\r\n                </span>\r\n\r\n                <span\r\n                  *ngIf=\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'yellow'\"\r\n                  class=\"alert alert--warning\"\r\n                >\r\n                  {{ \"global.alertWarning\" | translate }}\r\n                </span>\r\n              </ng-template>\r\n            </a-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <aw-dialog-compare-maintenance-programs\r\n      *ngIf=\"showCompareReportPopup\"\r\n      [reportContent]=\"reportText\"\r\n      [(display)]=\"showCompareReportPopup\"\r\n    ></aw-dialog-compare-maintenance-programs>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.scss":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.scss ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .amp-status-icon {\n  font-size: 1.125rem; }\n  :host .amp-status-icon.red {\n    color: #f6685e; }\n  :host .amp-status-icon.green {\n    color: #4caf50; }\n  :host .amp-status-icon.yellow {\n    color: #ffc107; }\n  .alert {\n  display: inline-block;\n  max-width: 7rem;\n  text-transform: uppercase;\n  width: 100%; }\n  .alert.alert--nok {\n    background-color: #f6685e; }\n  .alert.alert--ok {\n    background-color: #4caf50; }\n  .alert.alert--warning {\n    background-color: #ffc107; }\n  .red {\n  color: #f6685e; }\n  .green {\n  color: #4caf50; }\n  .yellow {\n  color: #ffc107; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tc2VhcmNoL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXG1haW50ZW5hbmNlLXByb2dyYW0tc2VhcmNoXFxtYWludGVuYW5jZS1wcm9ncmFtLXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tc2VhcmNoL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUVJLG1CQUFtQixFQUFBO0VBRnZCO0lBS00sY0NpQmMsRUFBQTtFRHRCcEI7SUFTTSxjQ1VnQixFQUFBO0VEbkJ0QjtJQWFNLGNDT1UsRUFBQTtFREZoQjtFQUNFLHFCQUFxQjtFQUNyQixlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLFdBQVcsRUFBQTtFQUpiO0lBT0kseUJDSGdCLEVBQUE7RURKcEI7SUFXSSx5QkNWa0IsRUFBQTtFRER0QjtJQWVJLHlCQ2JZLEVBQUE7RURpQmhCO0VBQ0UsY0NoQmtCLEVBQUE7RURtQnBCO0VBQ0UsY0N2Qm9CLEVBQUE7RUQwQnRCO0VBQ0UsY0MxQmMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9tYWludGVuYW5jZS1wcm9ncmFtLXNlYXJjaC9tYWludGVuYW5jZS1wcm9ncmFtLXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjpob3N0IHtcclxuICAuYW1wLXN0YXR1cy1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMS4xMjVyZW07XHJcblxyXG4gICAgJi5yZWQge1xyXG4gICAgICBjb2xvcjogJHJlZC1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5ncmVlbiB7XHJcbiAgICAgIGNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gICAgfVxyXG5cclxuICAgICYueWVsbG93IHtcclxuICAgICAgY29sb3I6ICRvcmFuZ2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4uYWxlcnQge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBtYXgtd2lkdGg6IDdyZW07XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgJi5hbGVydC0tbm9rIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRyZWQtbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgJi5hbGVydC0tb2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGdyZWVuLWxpZ2h0MTtcclxuICB9XHJcblxyXG4gICYuYWxlcnQtLXdhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZTtcclxuICB9XHJcbn1cclxuXHJcbi5yZWQge1xyXG4gIGNvbG9yOiAkcmVkLWxpZ2h0MTtcclxufVxyXG5cclxuLmdyZWVuIHtcclxuICBjb2xvcjogJGdyZWVuLWxpZ2h0MTtcclxufVxyXG5cclxuLnllbGxvdyB7XHJcbiAgY29sb3I6ICRvcmFuZ2U7XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.ts":
/*!****************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.ts ***!
  \****************************************************************************************************************/
/*! exports provided: MaintenanceProgramSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaintenanceProgramSearchComponent", function() { return MaintenanceProgramSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/constants/bire-maintenance-plan-constants */ "./src/app/shared/constants/bire-maintenance-plan-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./maintenance-program-search.service */ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





















var MIN_SELECTION_FOR_COMPARISON = 2;
var MaintenanceProgramSearchComponent = /** @class */ (function (_super) {
    __extends(MaintenanceProgramSearchComponent, _super);
    function MaintenanceProgramSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, translateService, maintenanceProgramSearchService, exportService, confirmationService, propertiesService, dateService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.sessionService = sessionService;
        _this.translateService = translateService;
        _this.maintenanceProgramSearchService = maintenanceProgramSearchService;
        _this.exportService = exportService;
        _this.confirmationService = confirmationService;
        _this.propertiesService = propertiesService;
        _this.dateService = dateService;
        _this.MAINTENANCE_PLAN = __assign({}, _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"]);
        _this.familyVariants = [];
        _this.showAdvancedCriteria = false;
        _this.showCompareReportPopup = false;
        _this.isDeleteButtonDisabled = true;
        _this.isEditButtonDisabled = true;
        _this.enableComapreAMP = false;
        _this.enableComapreAMPagainstRMP = false;
        _this.enableComapreRMP = false;
        _this.reportText = {};
        _this.statusMap = new Map();
        _this.loadRights();
        _this.loadStatus();
        _this.loadFamilyVariants();
        _this.resetSearchCriteria();
        _this.initMaintenanceProgramTableDataSource();
        return _this;
    }
    MaintenanceProgramSearchComponent_1 = MaintenanceProgramSearchComponent;
    MaintenanceProgramSearchComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_SEARCH;
    };
    MaintenanceProgramSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
    };
    MaintenanceProgramSearchComponent.prototype.resetSearchCriteria = function () {
        this.selectedFamilyVariant = undefined;
        this.searchObject = {
            bireMaintenancePlanDTO: {},
            bireVariantVersionDTO: {}
        };
    };
    MaintenanceProgramSearchComponent.prototype.exportTable = function () {
        var _this = this;
        if (!!this.componentData) {
            var list = this.maintenanceProgramTableDataSource.sanitizedData.map(function (obj) {
                var exportObj = {
                    code: obj.code,
                    name: obj.name,
                    revisionNumber: obj.revisionNumber,
                    type: obj.type,
                    revisionDate: obj.revisionDate,
                    status: obj.status,
                    approvalDate: obj.approvalDate,
                    validityEndDate: obj.validityEndDate,
                    ampStatus: _this.getAmpStatus(obj.ampStatus)
                };
                return exportObj;
            });
            this.exportService.toExcel(list, MaintenanceProgramSearchComponent_1.MAINTENANCE_TABLE_EXPORT_NAME, this.componentData.componentId);
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'exportTable', 'this.componentData');
        }
    };
    MaintenanceProgramSearchComponent.prototype.getAmpStatus = function (status) {
        if (status === 'green') {
            return 'OK';
        }
        else if (status === 'red') {
            return 'NOK';
        }
        else if (status === 'yellow') {
            return 'WARNING';
        }
        return '';
    };
    MaintenanceProgramSearchComponent.prototype.initMaintenanceProgramTableDataSource = function () {
        this.maintenanceProgramTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'code',
                    translateKey: this.getTranslateKey('code'),
                    width: '15%'
                },
                {
                    field: 'name',
                    translateKey: this.getTranslateKey('name'),
                    width: '23%'
                },
                {
                    field: 'revisionNumber',
                    translateKey: this.getTranslateKey('revisionNumber'),
                    width: '5%'
                },
                {
                    field: 'type',
                    translateKey: this.getTranslateKey('type'),
                    width: '5%'
                },
                {
                    field: 'revisionDate',
                    translateKey: this.getTranslateKey('revisionDate'),
                    width: '10%'
                },
                {
                    field: 'status',
                    translateKey: this.getTranslateKey('status'),
                    width: '10%'
                },
                {
                    field: 'approvalDate',
                    translateKey: this.getTranslateKey('approvalDate'),
                    width: '10%'
                },
                {
                    field: 'validityEndDate',
                    translateKey: this.getTranslateKey('validityEndDate'),
                    width: '12%'
                },
                {
                    field: 'ampStatus',
                    translateKey: this.getTranslateKey('ampStatus'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["ColumnAlignment"].CENTER,
                    width: '10%'
                }
            ],
            data: []
        });
    };
    MaintenanceProgramSearchComponent.prototype.loadStatus = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_7__["GenericPropertyConstants"].FUNC_OBJECT_STATUS_MAP).subscribe(function (results) {
            results.forEach(function (element) {
                _this.statusMap.set(element.value, element.label);
            });
        });
    };
    MaintenanceProgramSearchComponent.prototype.loadFamilyVariants = function () {
        var _this = this;
        var familyVariantInput = {
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        this.maintenanceProgramSearchService
            .findBireFamilyVariantDropdownForMaintenanceProgram(familyVariantInput)
            .subscribe(function (results) {
            results.forEach(function (element) {
                var label = element.familyName ? element.familyName : element.familyCode;
                label = label + "-" + element.structureType;
                label = label + "-" + (element.variantName ? element.variantName : element.variantCode);
                var variantLabelValue = {
                    label: label,
                    value: element
                };
                _this.familyVariants.push(variantLabelValue);
            });
        });
    };
    MaintenanceProgramSearchComponent.prototype.deleteMaintenancePrograms = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.confirmSelectedDataDelete',
            accept: function () {
                var tempMaintenanceId = [];
                _this.maintenanceProgramTableDataSource.dataSelection.forEach(function (maintenanceProgram) {
                    if (!!maintenanceProgram && !!maintenanceProgram.code) {
                        var maintenanceProgramId = {
                            planCode: maintenanceProgram.code,
                            ampplanCode: maintenanceProgram.applicableMaintenancePlanCode
                        };
                        if (!!maintenanceProgramId) {
                            tempMaintenanceId.push(maintenanceProgramId);
                        }
                    }
                });
                _this.maintenanceProgramSearchService.removeBireMaintenancePlan(tempMaintenanceId).subscribe(function () {
                    _this.search();
                    _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnDeleteMaintenanceProgram'));
                });
                _this.maintenanceProgramTableDataSource.dataSelection = [];
            }
        });
    };
    MaintenanceProgramSearchComponent.prototype.validateMaintenanceProgramOptions = function () {
        var _this = this;
        this.enableComapreAMP = false;
        this.enableComapreRMP = false;
        this.enableComapreAMPagainstRMP = false;
        this.maintenanceProgramTableDataSource.dataSelection.forEach(function (tableRow) {
            // this.isEditButtonDisabled = false;
            _this.isDeleteButtonDisabled = false;
            // Disable Update for Approved RMPs with approved AMPs
            // if (tableRow.type === 'RMP' && tableRow.status === 'Approved' && tableRow.ampStatus === 'green') {
            //   this.isEditButtonDisabled = true;
            // }
            // Disable delete for RMP with AMP assigned to Assets
            if (tableRow.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP &&
                !!tableRow.applicableMaintenancePlanCode &&
                tableRow.isAMPHaveRelatedOMP) {
                _this.isDeleteButtonDisabled = true;
            }
            // Disable delete for RMP assigned to Assets
            if (tableRow.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP &&
                !!!tableRow.applicableMaintenancePlanCode &&
                tableRow.isRMPHaveRelatedOMP) {
                _this.isDeleteButtonDisabled = true;
            }
            // Disable delete for AMP assigned to Assets
            if (tableRow.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP && tableRow.isAMPHaveRelatedOMP) {
                _this.isDeleteButtonDisabled = true;
            }
        });
        // enable table navigation menus
        if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {
            var noOfAmps_1 = 0;
            var noOfRmps_1 = 0;
            var selectedAMPCodeForRMP_1;
            var selectedAMPCode_1;
            this.maintenanceProgramTableDataSource.dataSelection.forEach(function (maintenanceProgram) {
                if (maintenanceProgram.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
                    noOfAmps_1 += 1;
                    selectedAMPCode_1 = maintenanceProgram.code;
                }
                if (maintenanceProgram.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP) {
                    noOfRmps_1 += 1;
                    selectedAMPCodeForRMP_1 = maintenanceProgram.applicableMaintenancePlanCode;
                }
            });
            if (noOfAmps_1 > 1) {
                this.enableComapreAMP = true;
            }
            else if (noOfRmps_1 > 1) {
                this.enableComapreRMP = true;
            }
            else if (noOfRmps_1 === 1 && noOfAmps_1 === 1 && selectedAMPCodeForRMP_1 === selectedAMPCode_1) {
                this.enableComapreAMPagainstRMP = true;
            }
        }
    };
    MaintenanceProgramSearchComponent.prototype.openNewMaintenanceProgram = function () {
        this.openMaintenanceProgram(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Create);
    };
    MaintenanceProgramSearchComponent.prototype.openMaintenanceProgram = function (objectId, openMode) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_FORM,
            openMode: openMode
        };
        if (!!objectId) {
            var birePlanDTOId = {
                planCode: objectId.code
            };
            data.objectId = this.serializationService.serialize(birePlanDTOId);
        }
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    MaintenanceProgramSearchComponent.prototype.openSelectedMaintenancePrograms = function () {
        var _this = this;
        this.maintenanceProgramTableDataSource.dataSelection.forEach(function (program) {
            if (!!program) {
                _this.openMaintenanceProgram(program, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read);
            }
        });
    };
    MaintenanceProgramSearchComponent.prototype.openSelectedUpdatesList = function () {
        var _this = this;
        this.maintenanceProgramTableDataSource.dataSelection.forEach(function (program) {
            if (!!program) {
                _this.openUpdatesList(program, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read);
            }
        });
    };
    MaintenanceProgramSearchComponent.prototype.openUpdatesList = function (objectId, openMode) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_UPDATES_LIST,
            openMode: openMode
        };
        if (!!objectId) {
            var birePlanDTO = {
                planCode: objectId.code,
                planName: objectId.name,
                statusState: objectId.status
            };
            data.objectId = this.serializationService.serialize(birePlanDTO);
        }
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    MaintenanceProgramSearchComponent.prototype.openMaintenanceProgramLink = function (maintenanceProgramRow) {
        this.openMaintenanceProgram(maintenanceProgramRow, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read);
    };
    MaintenanceProgramSearchComponent.prototype.search = function () {
        var _this = this;
        this.maintenanceProgramTableDataSource.setData([]);
        if (this.selectedFamilyVariant) {
            this.searchObject.bireVariantVersionDTO = {
                familyCode: this.selectedFamilyVariant.familyCode,
                structureType: this.selectedFamilyVariant.structureType,
                variantCode: this.selectedFamilyVariant.variantCode,
                variantName: this.selectedFamilyVariant.variantName
            };
        }
        else {
            this.searchObject.bireVariantVersionDTO = {};
        }
        this.isLoading = true;
        this.maintenanceProgramSearchService.findBireMaintenancePlansByCriteria(this.searchObject).subscribe(function (result) {
            _this.setMaintenanceProgramTable(result);
            _this.isLoading = false;
        });
    };
    MaintenanceProgramSearchComponent.prototype.setMaintenanceProgramTable = function (result) {
        var _this = this;
        if (!!result) {
            var mpList_1 = [];
            var status_1;
            result.list.forEach(function (maintenanaceProgram) {
                if (!!maintenanaceProgram &&
                    !!maintenanaceProgram.bireMaintenancePlanDTO &&
                    !!maintenanaceProgram.bireMaintenancePlanDTO.planCode &&
                    !!maintenanaceProgram.bireMaintenancePlanDTO.planName) {
                    status_1 = !!maintenanaceProgram.bireMaintenancePlanDTO.statusState
                        ? _this.statusMap.get(maintenanaceProgram.bireMaintenancePlanDTO.statusState)
                        : '';
                    var maintenanceRow = {
                        code: maintenanaceProgram.bireMaintenancePlanDTO.planCode,
                        name: maintenanaceProgram.bireMaintenancePlanDTO.planName,
                        revisionNumber: maintenanaceProgram.bireMaintenancePlanDTO.planRevisionNumber,
                        type: maintenanaceProgram.planType,
                        revisionDate: maintenanaceProgram.bireMaintenancePlanDTO.planRevisionDate &&
                            _this.dateService.dateToString(maintenanaceProgram.bireMaintenancePlanDTO.planRevisionDate),
                        status: status_1,
                        // approvalNumber: maintenanaceProgram.bireMaintenancePlanDTO.planApprovalNumber,
                        approvalDate: maintenanaceProgram.bireMaintenancePlanDTO.planApprovalDate &&
                            _this.dateService.dateToString(maintenanaceProgram.bireMaintenancePlanDTO.planApprovalDate),
                        validityEndDate: maintenanaceProgram.bireMaintenancePlanDTO.planValidityEndDate &&
                            _this.dateService.dateToString(maintenanaceProgram.bireMaintenancePlanDTO.planValidityEndDate),
                        ampStatus: maintenanaceProgram.ampstatus,
                        applicableMaintenancePlanCode: maintenanaceProgram.applicableMaintenancePlanCode,
                        isRMPHaveRelatedOMP: maintenanaceProgram.isRMPHaveRelatedOMP,
                        isAMPHaveRelatedOMP: maintenanaceProgram.isAMPHaveRelatedOMP,
                        recommendedMaintenancePlanCode: maintenanaceProgram.recommendedMaintenancePlanCode
                    };
                    if (!maintenanaceProgram.bireMaintenancePlanDTO.ampplanCode) {
                        maintenanceRow.ampStatus = undefined;
                    }
                    mpList_1.push(maintenanceRow);
                }
            });
            this.maintenanceProgramTableDataSource.setData(mpList_1);
        }
        this.maintenanceProgramTableDataSource.dataSelection = [];
    };
    MaintenanceProgramSearchComponent.prototype.compareRmp = function () {
        var _this = this;
        if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {
            var getRmps = this.maintenanceProgramTableDataSource.dataSelection.filter(function (maintenanceProgram) {
                return maintenanceProgram.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP;
            });
            if (getRmps.length === MIN_SELECTION_FOR_COMPARISON) {
                var plan = {
                    planCode: this.maintenanceProgramTableDataSource.dataSelection[0].code,
                    applicableMaintenancePlanCode: this.maintenanceProgramTableDataSource.dataSelection[1].code,
                    isRmpAndAmp: false
                };
                this.isReportLoading = true;
                var observables = [];
                if (this.sessionService.isSpecificMHIAEL) {
                    observables.push(this.maintenanceProgramSearchService.compareMaintenancePlansByDeltaTasks(plan));
                }
                else {
                    observables.push(this.maintenanceProgramSearchService.compareMaintenancePlans(plan));
                }
                Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])(observables).subscribe(function (result) {
                    _this.reportText = result[0];
                    _this.showCompareReportPopup = true;
                    _this.isReportLoading = false;
                });
            }
        }
    };
    MaintenanceProgramSearchComponent.prototype.compareAmp = function () {
        var _this = this;
        if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {
            var getAmps = this.maintenanceProgramTableDataSource.dataSelection.filter(function (maintenanceProgram) {
                return maintenanceProgram.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP;
            });
            if (getAmps.length === MIN_SELECTION_FOR_COMPARISON) {
                var plan = {
                    planCode: this.maintenanceProgramTableDataSource.dataSelection[0].code,
                    applicableMaintenancePlanCode: this.maintenanceProgramTableDataSource.dataSelection[1].code,
                    isRmpAndAmp: false
                };
                this.isReportLoading = true;
                this.maintenanceProgramSearchService.compareMaintenancePlans(plan).subscribe(function (result) {
                    _this.reportText = result;
                    _this.showCompareReportPopup = true;
                    _this.isReportLoading = false;
                });
            }
        }
    };
    MaintenanceProgramSearchComponent.prototype.compareRmpWithAmp = function () {
        var _this = this;
        if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {
            var isAMP_1 = false;
            var isRMP_1 = false;
            var plan_1 = {
                isRmpAndAmp: true
            };
            var selectedAMP_1;
            this.maintenanceProgramTableDataSource.dataSelection.forEach(function (maintenanceProgram) {
                if (maintenanceProgram.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_AMP) {
                    isAMP_1 = true;
                    plan_1.applicableMaintenancePlanCode = maintenanceProgram.code;
                }
                else if (maintenanceProgram.type === _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_5__["BireMaintenancePlanConstants"].PLAN_TYPE_RMP) {
                    isRMP_1 = true;
                    plan_1.planCode = maintenanceProgram.code;
                    selectedAMP_1 = maintenanceProgram.applicableMaintenancePlanCode;
                }
            });
            if (isAMP_1 && isRMP_1 && plan_1.applicableMaintenancePlanCode === selectedAMP_1) {
                this.isReportLoading = true;
                this.maintenanceProgramSearchService.compareMaintenancePlans(plan_1).subscribe(function (result) {
                    _this.reportText = result;
                    _this.showCompareReportPopup = true;
                    _this.isReportLoading = false;
                });
            }
        }
    };
    MaintenanceProgramSearchComponent.prototype.loadRights = function () {
        var _this = this;
        this.maintenanceProgramSearchService.hasManageRights().subscribe(function (results) {
            _this.hasManageRights = results;
        });
        this.maintenanceProgramSearchService.hasDisplayRights().subscribe(function (results) {
            _this.hasDisplayRights = results;
        });
        this.maintenanceProgramSearchService.hasUpdateRights().subscribe(function (results) {
            _this.hasUpdateRights = results;
        });
    };
    MaintenanceProgramSearchComponent.prototype.openChangeRecord = function (objectId, openMode) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_6__["ComponentConstants"].ENG_CHANGE_RECORD_FORM,
            openMode: openMode
        };
        if (!!objectId) {
            data.objectId = this.serializationService.serialize(objectId);
        }
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    MaintenanceProgramSearchComponent.prototype.changeRecord = function () {
        var _this = this;
        this.maintenanceProgramTableDataSource.dataSelection.forEach(function (program) {
            if (!!program && !!program.code) {
                _this.openChangeRecord(program.code, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read);
            }
        });
    };
    var MaintenanceProgramSearchComponent_1;
    MaintenanceProgramSearchComponent.MAINTENANCE_TABLE_EXPORT_NAME = 'maintenance-program-list';
    MaintenanceProgramSearchComponent = MaintenanceProgramSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-maintenance-program-search',
            template: __webpack_require__(/*! ./maintenance-program-search.component.html */ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.html"),
            styles: [__webpack_require__(/*! ./maintenance-program-search.component.scss */ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_13__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_14__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_16__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_18__["TabService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_17__["SessionService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_20__["MaintenanceProgramSearchService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_11__["ExportService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_9__["ConfirmationService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_15__["PropertiesService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_10__["DateService"]])
    ], MaintenanceProgramSearchComponent);
    return MaintenanceProgramSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_19__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.service.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.service.ts ***!
  \**************************************************************************************************************/
/*! exports provided: MaintenanceProgramSearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaintenanceProgramSearchService", function() { return MaintenanceProgramSearchService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_api_task_business_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/task-business.api */ "./src/app/shared/api/task-business.api.ts");
/* harmony import */ var _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/api/task-management.api */ "./src/app/shared/api/task-management.api.ts");
/* harmony import */ var _shared_api_user_profile_business_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/api/user-profile-business.api */ "./src/app/shared/api/user-profile-business.api.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var MaintenanceProgramSearchService = /** @class */ (function (_super) {
    __extends(MaintenanceProgramSearchService, _super);
    function MaintenanceProgramSearchService(http, appConfigService, taskManagementApi, taskBusinessApi, productStructureManagementApi, userProfileBusinessApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.taskManagementApi = taskManagementApi;
        _this.taskBusinessApi = taskBusinessApi;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.userProfileBusinessApi = userProfileBusinessApi;
        return _this;
    }
    MaintenanceProgramSearchService.prototype.findBireFamilyVariantDropdownForMaintenanceProgram = function (familyVariantInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireFamilyVariantDropdownForMaintenanceProgram, familyVariantInput);
    };
    MaintenanceProgramSearchService.prototype.findBireMaintenancePlansByCriteria = function (criteria) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireMaintenancePlansByCriteria, criteria);
    };
    MaintenanceProgramSearchService.prototype.removeBireMaintenancePlan = function (bireMaintenancePlanDTOIds) {
        return _super.prototype.post.call(this, this.taskManagementApi.removeBireMaintenancePlan, bireMaintenancePlanDTOIds);
    };
    MaintenanceProgramSearchService.prototype.compareMaintenancePlansByDeltaTasks = function (compareMaintenancePlansInput) {
        return _super.prototype.post.call(this, this.taskBusinessApi.compareMaintenancePlansByDeltaTasks, compareMaintenancePlansInput);
    };
    MaintenanceProgramSearchService.prototype.compareMaintenancePlans = function (compareMaintenancePlansInput) {
        return _super.prototype.post.call(this, this.taskBusinessApi.compareMaintenancePlans, compareMaintenancePlansInput);
    };
    MaintenanceProgramSearchService.prototype.hasUpdateRights = function () {
        var accessRightQueryDTO = {
            useCaseCode: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_6__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            functionCode: undefined
        };
        return _super.prototype.post.call(this, this.userProfileBusinessApi.hasUpdateRights, accessRightQueryDTO);
    };
    MaintenanceProgramSearchService.prototype.hasDisplayRights = function () {
        var accessRightQueryDTO = {
            useCaseCode: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_6__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            functionCode: undefined
        };
        return _super.prototype.post.call(this, this.userProfileBusinessApi.hasDisplayRights, accessRightQueryDTO);
    };
    MaintenanceProgramSearchService.prototype.hasManageRights = function () {
        var accessRightQueryDTO = {
            useCaseCode: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_6__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            functionCode: undefined
        };
        return _super.prototype.post.call(this, this.userProfileBusinessApi.hasManageRights, accessRightQueryDTO);
    };
    MaintenanceProgramSearchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_8__["AppConfigService"],
            _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_4__["TaskManagementApi"],
            _shared_api_task_business_api__WEBPACK_IMPORTED_MODULE_3__["TaskBusinessApi"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_api_user_profile_business_api__WEBPACK_IMPORTED_MODULE_5__["UserProfileBusinessApi"]])
    ], MaintenanceProgramSearchService);
    return MaintenanceProgramSearchService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_7__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.html ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\" class=\"page-subtitle\">\r\n          {{ displayName }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"object-status\">\r\n      {{ planDTO.statusState }}\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <!-- Update Tasks table -->\r\n\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ getComponentName() + \".updatedTasks\" | translate }} ({{\r\n                    updatedTasksTableDataSource ? updatedTasksTableDataSource.dataCount : 0\r\n                  }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <a-table [dataSource]=\"updatedTasksTableDataSource\"> </a-table>\r\n            <span *ngIf=\"!isLoading\"> &nbsp;</span>\r\n\r\n            <div *ngIf=\"isLoading\" class=\"aw-table-loading-indicator\">\r\n              <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n              <div class=\"lds-hourglass\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.ts":
/*!****************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.ts ***!
  \****************************************************************************************************************************/
/*! exports provided: MaintenanceProgramUpdatesListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaintenanceProgramUpdatesListComponent", function() { return MaintenanceProgramUpdatesListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_bido_attribute_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/bido-attribute-constants */ "./src/app/shared/constants/bido-attribute-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _maintenance_program_updates_list_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./maintenance-program-updates-list.service */ "./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var MaintenanceProgramUpdatesListComponent = /** @class */ (function (_super) {
    __extends(MaintenanceProgramUpdatesListComponent, _super);
    function MaintenanceProgramUpdatesListComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, maintenanceProgramUpdatesListService, propertiesService, translateService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.sessionService = sessionService;
        _this.maintenanceProgramUpdatesListService = maintenanceProgramUpdatesListService;
        _this.propertiesService = propertiesService;
        _this.translateService = translateService;
        _this.initMaintenanceProgramTableDataSource();
        _this.isLoading = true;
        _this.isAttribute = false;
        _this.currency = '';
        _this.pTotalCost = 0;
        _this.cTotalCost = 0;
        _this.loadTaskGroup();
        _this.loadApplicability();
        _this.loadMROCenter();
        _this.loadTaskType();
        _this.loadStatus();
        _this.loadLinkTypes();
        _this.loadAssociatedTaskLinkTypes();
        _this.loadDocumentTaskCategories();
        _this.loadCurrency();
        _this.loadStructureTypes();
        _this.loadAttributeList();
        return _this;
    }
    MaintenanceProgramUpdatesListComponent_1 = MaintenanceProgramUpdatesListComponent;
    MaintenanceProgramUpdatesListComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_UPDATES_LIST;
    };
    MaintenanceProgramUpdatesListComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.loadUpdatesList();
    };
    /**
     * loadUpdatesList - This function is used to display the heading of the component (Code and Name).
     */
    MaintenanceProgramUpdatesListComponent.prototype.loadUpdatesList = function () {
        if (!!this.componentData.objectId) {
            this.planDTO = this.serializationService.deserialize(this.componentData.objectId);
        }
        this.displayName = this.planDTO.planCode + "-" + this.planDTO.planName;
        this.displayComponentContext(this.displayName, this.isCreateOpenMode);
        if (!!this.planDTO.planCode) {
            this.getTaskRows(this.planDTO.planCode);
        }
    };
    /**
     * initMaintenanceProgramTableDataSource - This function is used to diplay the table columns.
     */
    MaintenanceProgramUpdatesListComponent.prototype.initMaintenanceProgramTableDataSource = function () {
        this.updatedTasksTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["TableDataSource"]({
            enableSelection: false,
            columns: [
                {
                    field: 'taskCode',
                    translateKey: this.getTranslateKey('taskCode'),
                    width: '15%'
                },
                {
                    field: 'taskVersion',
                    translateKey: this.getTranslateKey('taskVersion'),
                    width: '6%'
                },
                {
                    field: 'tabName',
                    translateKey: this.getTranslateKey('tabName'),
                    width: '11%'
                },
                {
                    field: 'panelName',
                    translateKey: this.getTranslateKey('panelName'),
                    width: '12%'
                },
                {
                    field: 'fieldName',
                    translateKey: this.getTranslateKey('fieldName'),
                    width: '11%'
                },
                {
                    field: 'currentValue',
                    translateKey: this.getTranslateKey('currentValue'),
                    width: '12%'
                },
                {
                    field: 'previousValue',
                    translateKey: this.getTranslateKey('previousValue'),
                    width: '12%'
                },
                {
                    field: 'previousTaskVersion',
                    translateKey: this.getTranslateKey('previousTaskVersion'),
                    width: '10%'
                },
                {
                    field: 'previousRmpVersion',
                    translateKey: this.getTranslateKey('previousRmpVersion'),
                    width: '11%'
                }
            ],
            data: []
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.getTaskRows = function (planCode) {
        var _this = this;
        var panelName;
        this.maintenanceProgramUpdatesListService.getMainteanceProgramUpdatedList(planCode).subscribe(function (result) {
            if (!!result) {
                _this.isLoading = false;
                result.forEach(function (element) {
                    var currentTask = {
                        taskCode: element.cVersionBireTaskDTO.taskCode,
                        taskVersion: element.cVersionBireTaskDTO.taskVersion
                    };
                    var previousTask = {
                        taskCode: element.pVersionBireTaskDTO.taskCode,
                        taskVersion: element.pVersionBireTaskDTO.taskVersion
                    };
                    var previousRmpVersion = !!element.pVersionGetMaintainanceProgramWithTaskDTO
                        ? element.pVersionGetMaintainanceProgramWithTaskDTO.programCode
                        : '';
                    _this.loadTaskData(currentTask, previousTask, element.cVersionBireTaskDTO, element.pVersionBireTaskDTO, previousRmpVersion);
                    if (!!currentTask && !!previousTask) {
                        if (!!element.cVersionBireOperationDTO || !!element.pVersionBireOperationDTO) {
                            _this.loadOperationData(currentTask, previousTask, element.cVersionBireOperationDTO, element.pVersionBireOperationDTO, previousRmpVersion);
                        }
                        if (!!element.cVersionBireSmTaskList || !!element.pVersionBireSmTaskList) {
                            _this.loadShopManualsData(currentTask, previousTask, element.cVersionBireSmTaskList, element.pVersionBireSmTaskList, previousRmpVersion);
                        }
                        if (!!element.cVersionBireTaskEvolutionDTO || !!element.pVersionBireTaskEvolutionDTO) {
                            _this.loadEvolutionData(currentTask, previousTask, element.cVersionBireTaskEvolutionDTO, element.pVersionBireTaskEvolutionDTO, previousRmpVersion);
                        }
                        if (!!element.cVersionBireTilList || !!element.pVersionBireTilList) {
                            _this.loadTechnicalLevelData(currentTask, previousTask, element.cVersionBireTilList, element.pVersionBireTilList, previousRmpVersion);
                        }
                        if (!!element.cVersionMaintainanceWithTask || !!element.pVersionMaintainanceWithTask) {
                            _this.loadMaintenanceProgramData(currentTask, previousTask, element.cVersionMaintainanceWithTask, element.pVersionMaintainanceWithTask, previousRmpVersion);
                        }
                        if (!!element.cVersionBireQualificationList || !!element.pVersionBireQualificationList) {
                            _this.loadQualificationData(currentTask, previousTask, element.cVersionBireQualificationList, element.pVersionBireQualificationList, previousRmpVersion);
                        }
                        if (!!element.cVersionBireTaskMeasureList || !!element.pVersionBireTaskMeasureList) {
                            _this.loadMeasurementPointData(currentTask, previousTask, element.cVersionBireTaskMeasureList, element.pVersionBireTaskMeasureList, previousRmpVersion);
                        }
                        if (!!element.cVersionBireDocumentDTO || !!element.pVersionBireDocumentDTO) {
                            _this.loadDocumentsData(currentTask, previousTask, element.cVersionBireDocumentDTO, element.pVersionBireDocumentDTO, previousRmpVersion);
                        }
                        if (!!element.cVersionBireTaskItemList || !!element.pVersionBireTaskItemList) {
                            _this.loadItemsData(currentTask, previousTask, element.cVersionBireTaskItemList, element.pVersionBireTaskItemList, previousRmpVersion);
                        }
                        if (!!element.cVersionBireTaskAttribute || !!element.pVersionBireTaskAttribute) {
                            _this.loadAttributeData(currentTask, previousTask, element.cVersionBireTaskAttribute, element.pVersionBireTaskAttribute, previousRmpVersion);
                        }
                        if (!!element.cGetTaskLinkInAdequateTableDTO || !!element.pGetTaskLinkInAdequateTableDTO) {
                            if (!!element.cGetTaskLinkInAdequateTableDTO.anteriorInSequence ||
                                !!element.pGetTaskLinkInAdequateTableDTO.anteriorInSequence) {
                                panelName = MaintenanceProgramUpdatesListComponent_1.ANTERIOR_TASKS;
                                _this.loadsuperiorAnteriorPosteriorLinkedTopDownData(currentTask, previousTask, panelName, previousRmpVersion, element.cGetTaskLinkInAdequateTableDTO.anteriorInSequence, element.pGetTaskLinkInAdequateTableDTO.anteriorInSequence);
                            }
                            if (!!element.cGetTaskLinkInAdequateTableDTO.posteriorInSequence ||
                                !!element.pGetTaskLinkInAdequateTableDTO.posteriorInSequence) {
                                panelName = MaintenanceProgramUpdatesListComponent_1.POSTERIOR_TASKS;
                                _this.loadsuperiorAnteriorPosteriorLinkedTopDownData(currentTask, previousTask, panelName, previousRmpVersion, element.cGetTaskLinkInAdequateTableDTO.posteriorInSequence, element.pGetTaskLinkInAdequateTableDTO.posteriorInSequence);
                            }
                            if (!!element.cGetTaskLinkInAdequateTableDTO.linkedTasks ||
                                !!element.pGetTaskLinkInAdequateTableDTO.linkedTasks) {
                                panelName = MaintenanceProgramUpdatesListComponent_1.LINKED_TASK;
                                _this.loadsuperiorAnteriorPosteriorLinkedTopDownData(currentTask, previousTask, panelName, previousRmpVersion, element.cGetTaskLinkInAdequateTableDTO.linkedTasks, element.pGetTaskLinkInAdequateTableDTO.linkedTasks);
                            }
                            if (!!element.cGetTaskLinkInAdequateTableDTO.superiorTasks ||
                                !!element.pGetTaskLinkInAdequateTableDTO.superiorTasks) {
                                panelName = MaintenanceProgramUpdatesListComponent_1.SUPERIOR_TASKS;
                                _this.loadsuperiorAnteriorPosteriorLinkedTopDownData(currentTask, previousTask, panelName, previousRmpVersion, element.cGetTaskLinkInAdequateTableDTO.superiorTasks, element.pGetTaskLinkInAdequateTableDTO.superiorTasks);
                            }
                            if (!!element.cGetTaskLinkInAdequateTableDTO.taskTreeCustomNode &&
                                !!element.pGetTaskLinkInAdequateTableDTO.taskTreeCustomNode &&
                                (element.cGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children ||
                                    element.pGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children)) {
                                panelName = MaintenanceProgramUpdatesListComponent_1.TOP_DOWN_STRUCTURE;
                                _this.loadsuperiorAnteriorPosteriorLinkedTopDownData(currentTask, previousTask, panelName, previousRmpVersion, element.cGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children, element.pGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children);
                            }
                        }
                    }
                });
            }
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.getObjectDiff = function (obj1, obj2) {
        var _this = this;
        var result = {};
        if (Object.is(obj1, obj2)) {
            return undefined;
        }
        if (!obj2 || typeof obj2 !== 'object') {
            return obj2;
        }
        Object.keys(obj1 || {})
            .concat(Object.keys(obj2 || {}))
            .forEach(function (key) {
            if (obj2[key] !== obj1[key] && !Object.is(obj1[key], obj2[key])) {
                result[key] = obj2[key] || '';
            }
            if (typeof obj2[key] === 'object' && typeof obj1[key] === 'object') {
                var value = _this.getObjectDiff(obj1[key], obj2[key]);
                if (value !== undefined) {
                    result[key] = value;
                }
            }
        });
        return result;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadTaskData = function (cTaskDTOId, pTaskDTOId, currentTask, previousTask, previousRmpVersion) {
        var tabName = MaintenanceProgramUpdatesListComponent_1.HOME;
        var cBireTaskRow = this.createTaskRow(currentTask);
        var pBireTaskRow = this.createTaskRow(previousTask);
        var panelName;
        var diff = this.getObjectDiff(cBireTaskRow, pBireTaskRow);
        if (!!diff) {
            for (var fieldName in diff) {
                if (pBireTaskRow.hasOwnProperty(fieldName)) {
                    if (fieldName === 'taskTypeCode' ||
                        fieldName === 'taskApplicabilityDate' ||
                        fieldName === 'groupCode' ||
                        fieldName === 'taskApplicabilityCode' ||
                        fieldName === 'taskDesignation') {
                        panelName = MaintenanceProgramUpdatesListComponent_1.MAIN_INFORMATION;
                    }
                    else if (fieldName === 'taskChapter' ||
                        fieldName === 'taskSubject' ||
                        fieldName === 'taskSection' ||
                        fieldName === 'taskSubTask' ||
                        fieldName === 'taskTask') {
                        panelName = MaintenanceProgramUpdatesListComponent_1.REFERENCE_MANUAL;
                    }
                    else {
                        panelName = MaintenanceProgramUpdatesListComponent_1.ADDITIONAL_INFORMATION;
                    }
                    this.createMaintenanceProgramTaskUpdatedRow(cTaskDTOId, pTaskDTOId, cBireTaskRow[fieldName], pBireTaskRow[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                }
            }
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createTaskRow = function (bireTaskDTO) {
        var taskRow = {
            taskDesignation: bireTaskDTO.taskDesignation,
            taskDescription: bireTaskDTO.taskDescription,
            taskStatus: !!bireTaskDTO.taskStatus
                ? this.status.filter(function (type) { return type.value === bireTaskDTO.taskStatus; })[0].label
                : '',
            taskApplicabilityDate: !!bireTaskDTO.taskApplicabilityDate ? bireTaskDTO.taskApplicabilityDate.toString() : '',
            taskApplicabilityCode: !!bireTaskDTO.taskApplicabilityCode
                ? this.taskApplicabilityCode.filter(function (type) { return type.value === bireTaskDTO.taskApplicabilityCode; })[0].label
                : '',
            repairCenterCode: !!bireTaskDTO.repairCenterCode
                ? this.mroCenters.filter(function (type) { return type.value === bireTaskDTO.repairCenterCode; })[0].label
                : '',
            groupCode: !!bireTaskDTO.groupCode
                ? this.taskGroups.filter(function (type) { return type.value === bireTaskDTO.groupCode; })[0].label
                : '',
            taskTypeCode: !!bireTaskDTO.taskTypeCode
                ? this.taskTypes.filter(function (type) { return type.value === bireTaskDTO.taskTypeCode; })[0].label
                : '',
            overhaul: bireTaskDTO.overhaul,
            inspectionPerEsm: bireTaskDTO.inspectionPerEsm,
            taskZone: bireTaskDTO.taskZone,
            taskChapter: bireTaskDTO.taskChapter,
            taskSubject: bireTaskDTO.taskSubject,
            taskSection: bireTaskDTO.taskSection,
            taskSubTask: bireTaskDTO.taskSubTask,
            taskTask: bireTaskDTO.taskTask
        };
        return taskRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadOperationData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var pCost = 0;
        var cCost = 0;
        var panelName = MaintenanceProgramUpdatesListComponent_1.OPERATIONS;
        var tabName = MaintenanceProgramUpdatesListComponent_1.TASK_CARD;
        var fieldName;
        var value = '';
        var cBireOperationRow = cVersion.map(function (row) { return _this.createOperationRow(row); });
        var pBireOperationRow = pVersion.map(function (row) { return _this.createOperationRow(row); });
        if (pBireOperationRow.length >= cBireOperationRow.length) {
            pBireOperationRow.forEach(function (row, index) {
                if (!!cBireOperationRow[index]) {
                    diff = _this.getObjectDiff(row, cBireOperationRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pBireOperationRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cBireOperationRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pBireOperationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
                pCost = !!row.opeCost ? Number.parseInt(row.opeCost.toString(), 0) : 0;
                cCost =
                    !!cBireOperationRow[index] && !!cBireOperationRow[index].opeCost
                        ? Number.parseInt(cBireOperationRow[index].opeCost.toString(), 0)
                        : 0;
                _this.pTotalCost = _this.pTotalCost + pCost;
                _this.cTotalCost = _this.cTotalCost + cCost;
            });
        }
        else {
            cBireOperationRow.forEach(function (row, index) {
                if (!!pBireOperationRow[index]) {
                    diff = _this.getObjectDiff(row, pBireOperationRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cBireOperationRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pBireOperationRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cBireOperationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
                cCost = !!row.opeCost ? Number.parseInt(row.opeCost.toString(), 0) : 0;
                pCost =
                    !!pBireOperationRow[index] && !!pBireOperationRow[index].opeCost
                        ? Number.parseInt(pBireOperationRow[index].opeCost.toString(), 0)
                        : 0;
                _this.pTotalCost = _this.pTotalCost + pCost;
                _this.cTotalCost = _this.cTotalCost + cCost;
            });
        }
        if (this.pTotalCost !== this.cTotalCost) {
            fieldName = MaintenanceProgramUpdatesListComponent_1.TOTAL_COST;
            panelName = MaintenanceProgramUpdatesListComponent_1.ADDITIONAL_INFORMATION;
            tabName = MaintenanceProgramUpdatesListComponent_1.HOME;
            this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, this.cTotalCost.toString(), this.pTotalCost.toString(), fieldName, tabName, panelName, previousRmpVersion);
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createOperationRow = function (bireOperationDTO) {
        var operationRow = {
            opeCode: bireOperationDTO.opeCode + "-" + bireOperationDTO.opeVersion,
            opeDesignation: bireOperationDTO.opeDesignation,
            opeSequenceNumber: bireOperationDTO.opeSequenceNumber,
            opeVersion: bireOperationDTO.opeVersion,
            opeDurationTime: bireOperationDTO.opeDurationTime,
            opeQualification: bireOperationDTO.opeQualification,
            opeManHour: bireOperationDTO.opeManHour,
            opeCost: !!bireOperationDTO.opeCost ? bireOperationDTO.opeCost : 0
        };
        return operationRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadEvolutionData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var panelName = MaintenanceProgramUpdatesListComponent_1.EVOLUTIONS;
        var tabName = MaintenanceProgramUpdatesListComponent_1.IMPACTS;
        var fieldName;
        var value = '';
        var cBireEvolutionRow = cVersion.map(function (row) { return _this.createEvolutionRow(row); });
        var pBireEvolutionRow = pVersion.map(function (row) { return _this.createEvolutionRow(row); });
        if (pBireEvolutionRow.length >= cBireEvolutionRow.length) {
            pBireEvolutionRow.forEach(function (row, index) {
                if (!!cBireEvolutionRow[index]) {
                    diff = _this.getObjectDiff(row, cBireEvolutionRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pBireEvolutionRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cBireEvolutionRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pBireEvolutionRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cBireEvolutionRow.forEach(function (row, index) {
                if (!!pBireEvolutionRow[index]) {
                    diff = _this.getObjectDiff(row, pBireEvolutionRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cBireEvolutionRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pBireEvolutionRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cBireEvolutionRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createEvolutionRow = function (bireEvolutionDTO) {
        var evolutionRow = {
            evolutionNumber: bireEvolutionDTO.evolutionNumber,
            evolutionRevisionNumber: bireEvolutionDTO.evolutionRevisionNumber,
            taskEvolutionTypeCode: !!bireEvolutionDTO.taskEvolutionTypeCode
                ? this.evolutionLinkTypes.filter(function (type) { return type.value === bireEvolutionDTO.taskEvolutionTypeCode; })[0].label
                : '',
            evolutionSummary: bireEvolutionDTO.evolutionSummary
        };
        return evolutionRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadItemsData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var panelName = MaintenanceProgramUpdatesListComponent_1.ITEMS;
        var tabName = MaintenanceProgramUpdatesListComponent_1.IMPACTS;
        var fieldName;
        var value = '';
        var cBireItemRow = cVersion.map(function (row) { return _this.createItemsRow(row); });
        var pBireItemRow = pVersion.map(function (row) { return _this.createItemsRow(row); });
        if (pBireItemRow.length >= cBireItemRow.length) {
            pBireItemRow.forEach(function (row, index) {
                if (!!cBireItemRow[index]) {
                    diff = _this.getObjectDiff(row, cBireItemRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pBireItemRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cBireItemRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pBireItemRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cBireItemRow.forEach(function (row, index) {
                if (!!pBireItemRow[index]) {
                    diff = _this.getObjectDiff(row, pBireItemRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cBireItemRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pBireItemRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cBireItemRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createItemsRow = function (bireItemDTO) {
        var structureType = !!bireItemDTO.structureType
            ? this.structureType.filter(function (type) { return type.value === bireItemDTO.structureType; })[0].label
            : '';
        var itemRow = {
            familyVariant: bireItemDTO.familyCode + "-" + structureType + "-" + bireItemDTO.variantCode,
            item: bireItemDTO.chapter + "-" + bireItemDTO.subject + "-" + bireItemDTO.section + "-\n             " + bireItemDTO.sheet + "-" + bireItemDTO.marks,
            versionNumber: bireItemDTO.versionNumber,
            taskItemTypeCode: !!bireItemDTO.taskItemTypeCode
                ? this.itemLinkTypes.filter(function (type) { return type.value === bireItemDTO.taskItemTypeCode; })[0].label
                : '',
            name: bireItemDTO.name
        };
        return itemRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadTechnicalLevelData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var panelName = MaintenanceProgramUpdatesListComponent_1.TECHNICAL_LEVEL;
        var tabName = MaintenanceProgramUpdatesListComponent_1.PREREQUISITES;
        var fieldName;
        var value = '';
        var cBireTilRow = cVersion.map(function (row) { return _this.createTechnicalLevelRow(row); });
        var pBireTilRow = pVersion.map(function (row) { return _this.createTechnicalLevelRow(row); });
        if (pBireTilRow.length >= cBireTilRow.length) {
            pBireTilRow.forEach(function (row, index) {
                if (!!cBireTilRow[index]) {
                    diff = _this.getObjectDiff(row, cBireTilRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pBireTilRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cBireTilRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pBireTilRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cBireTilRow.forEach(function (row, index) {
                if (!!pBireTilRow[index]) {
                    diff = _this.getObjectDiff(row, pBireTilRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cBireTilRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pBireTilRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cBireTilRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createTechnicalLevelRow = function (bireTilDTO) {
        var tilRow = {
            tilName: bireTilDTO.tilName,
            tilDescription: bireTilDTO.tilDescription
        };
        return tilRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadQualificationData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var panelName = MaintenanceProgramUpdatesListComponent_1.ASSOCIATED_QUALIFICATIONS;
        var tabName = MaintenanceProgramUpdatesListComponent_1.PREREQUISITES;
        var fieldName;
        var value = '';
        var cBireQualificationRow = cVersion.map(function (row) { return _this.createQualificationRow(row); });
        var pBireQualificationRow = pVersion.map(function (row) { return _this.createQualificationRow(row); });
        if (pBireQualificationRow.length >= cBireQualificationRow.length) {
            pBireQualificationRow.forEach(function (row, index) {
                if (!!cBireQualificationRow[index]) {
                    diff = _this.getObjectDiff(row, cBireQualificationRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pBireQualificationRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cBireQualificationRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pBireQualificationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cBireQualificationRow.forEach(function (row, index) {
                if (!!pBireQualificationRow[index]) {
                    diff = _this.getObjectDiff(row, pBireQualificationRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cBireQualificationRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pBireQualificationRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cBireQualificationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createQualificationRow = function (bireQualificationDTO) {
        var qualificationDTO = {
            qualificationCode: bireQualificationDTO.qualificationCode,
            qualificationName: bireQualificationDTO.qualificationName,
            qualificationDescription: bireQualificationDTO.qualificationDescription,
            averageHourRate: !!bireQualificationDTO.averageHourRate
                ? bireQualificationDTO.averageHourRate + " " + this.currency
                : ''
        };
        return qualificationDTO;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadMaintenanceProgramData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var panelName = MaintenanceProgramUpdatesListComponent_1.MAINTENANCE_PROGRAMS;
        var tabName = MaintenanceProgramUpdatesListComponent_1.HOME;
        var fieldName;
        var value = '';
        var cBireMaintenanceProgramRow = cVersion.map(function (row) { return _this.createMaintenanceProgramRow(row); });
        var pBireMaintenanceProgramRow = pVersion.map(function (row) { return _this.createMaintenanceProgramRow(row); });
        if (pBireMaintenanceProgramRow.length >= cBireMaintenanceProgramRow.length) {
            pBireMaintenanceProgramRow.forEach(function (row, index) {
                if (!!cBireMaintenanceProgramRow[index]) {
                    var diff = _this.getObjectDiff(row, cBireMaintenanceProgramRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pBireMaintenanceProgramRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cBireMaintenanceProgramRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pBireMaintenanceProgramRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cBireMaintenanceProgramRow.forEach(function (row, index) {
                if (!!pBireMaintenanceProgramRow[index]) {
                    var diff = _this.getObjectDiff(row, pBireMaintenanceProgramRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cBireMaintenanceProgramRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pBireMaintenanceProgramRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cBireMaintenanceProgramRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createMaintenanceProgramRow = function (bireMaintenanceProgramDTO) {
        var maintenanceProgramRow = {
            programCode: bireMaintenanceProgramDTO.programCode,
            programName: bireMaintenanceProgramDTO.programName,
            programDesignation: bireMaintenanceProgramDTO.programDesignation,
            programRevisionNumber: bireMaintenanceProgramDTO.programRevisionNumber,
            reference: bireMaintenanceProgramDTO.reference,
            periodicity: bireMaintenanceProgramDTO.periodicity
        };
        return maintenanceProgramRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadShopManualsData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var panelName = MaintenanceProgramUpdatesListComponent_1.SHOP_MANUALS;
        var tabName = MaintenanceProgramUpdatesListComponent_1.HOME;
        var fieldName;
        var value = '';
        var cBireShopManualRow = cVersion.map(function (row) { return _this.createShopManualsRow(row); });
        var pBireShopManualRow = pVersion.map(function (row) { return _this.createShopManualsRow(row); });
        if (pBireShopManualRow.length >= cBireShopManualRow.length) {
            pBireShopManualRow.forEach(function (row, index) {
                if (!!cBireShopManualRow[index]) {
                    diff = _this.getObjectDiff(row, cBireShopManualRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pBireShopManualRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cBireShopManualRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pBireShopManualRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cBireShopManualRow.forEach(function (row, index) {
                if (!!pBireShopManualRow[index]) {
                    diff = _this.getObjectDiff(row, pBireShopManualRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cBireShopManualRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pBireShopManualRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cBireShopManualRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createShopManualsRow = function (bireShopManualsDTO) {
        var shopManualsRow = {
            smCode: bireShopManualsDTO.smCode,
            smVersionStart: bireShopManualsDTO.smVersionStart,
            smVersionEnd: bireShopManualsDTO.smVersionEnd
        };
        return shopManualsRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadMeasurementPointData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var panelName = MaintenanceProgramUpdatesListComponent_1.MEASUREMENT_POINT;
        var tabName = MaintenanceProgramUpdatesListComponent_1.MEASUREMENT_POINT;
        var fieldName;
        var value = '';
        var cMeasurementPointRow = cVersion.map(function (row) { return _this.createMeasurementPointRow(row); });
        var pMeasurementPointRow = pVersion.map(function (row) { return _this.createMeasurementPointRow(row); });
        if (pMeasurementPointRow.length >= cMeasurementPointRow.length) {
            pMeasurementPointRow.forEach(function (row, index) {
                if (!!cMeasurementPointRow[index]) {
                    diff = _this.getObjectDiff(row, cMeasurementPointRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pMeasurementPointRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cMeasurementPointRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pMeasurementPointRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cMeasurementPointRow.forEach(function (row, index) {
                if (!!pMeasurementPointRow[index]) {
                    diff = _this.getObjectDiff(row, pMeasurementPointRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cMeasurementPointRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pMeasurementPointRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cMeasurementPointRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createMeasurementPointRow = function (bireMeasurementPointDTO) {
        var measurementPointRow = {
            counterCode: bireMeasurementPointDTO.counterCode,
            counterRemarks: bireMeasurementPointDTO.counterRemarks,
            description: bireMeasurementPointDTO.description,
            unitCode: bireMeasurementPointDTO.unitCode,
            toolPartNumber: bireMeasurementPointDTO.toolPartNumber,
            formula: bireMeasurementPointDTO.formula,
            sequenceNumber: bireMeasurementPointDTO.sequenceNumber,
            groupCode: bireMeasurementPointDTO.groupCode
        };
        return measurementPointRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadsuperiorAnteriorPosteriorLinkedTopDownData = function (currentTask, previousTask, panelName, previousRmpVersion, cVersion, pVersion) {
        var _this = this;
        var tabName = MaintenanceProgramUpdatesListComponent_1.TASK_CARD;
        var fieldName;
        var value = '';
        var cAdequateTaskRow = !!cVersion && cVersion.map(function (row) { return _this.createSuperiorAnteriorPosteriorLinkedTopDownRow(row); });
        var pAdequateTaskRow = !!pVersion && pVersion.map(function (row) { return _this.createSuperiorAnteriorPosteriorLinkedTopDownRow(row); });
        if ((!!pAdequateTaskRow && !!cAdequateTaskRow && pAdequateTaskRow.length >= cAdequateTaskRow.length) ||
            (!!pAdequateTaskRow && cAdequateTaskRow === undefined)) {
            pAdequateTaskRow.forEach(function (row, index) {
                if (!!cAdequateTaskRow[index]) {
                    var diff = _this.getObjectDiff(row, cAdequateTaskRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pAdequateTaskRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cAdequateTaskRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pAdequateTaskRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else if ((!!pAdequateTaskRow && !!cAdequateTaskRow && pAdequateTaskRow.length <= cAdequateTaskRow.length) ||
            (!!cAdequateTaskRow && pAdequateTaskRow === undefined)) {
            cAdequateTaskRow.forEach(function (row, index) {
                if (!!pAdequateTaskRow[index]) {
                    var diff = _this.getObjectDiff(row, pAdequateTaskRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cAdequateTaskRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pAdequateTaskRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cAdequateTaskRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createSuperiorAnteriorPosteriorLinkedTopDownRow = function (bireAdequateTaskDTO) {
        var adequateTaskRow = {
            sequenceNumber: bireAdequateTaskDTO.sequenceNumber,
            linkType: !!bireAdequateTaskDTO.linkType
                ? this.associatedLinkTypes.filter(function (type) { return type.value === bireAdequateTaskDTO.linkType; })[0].label
                : '',
            taskDesignation: bireAdequateTaskDTO.bireTaskDTO.taskDesignation,
            taskCode: bireAdequateTaskDTO.bireTaskDTO.taskCode,
            taskVersion: bireAdequateTaskDTO.bireTaskDTO.taskVersion,
            groupCode: !!bireAdequateTaskDTO.bireTaskDTO.groupCode
                ? this.taskGroups.filter(function (type) { return type.value === bireAdequateTaskDTO.bireTaskDTO.groupCode; })[0].label
                : '',
            taskTypeCode: !!bireAdequateTaskDTO.bireTaskDTO.taskTypeCode
                ? this.taskTypes.filter(function (type) { return type.value === bireAdequateTaskDTO.bireTaskDTO.taskTypeCode; })[0].label
                : ''
        };
        return adequateTaskRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadDocumentsData = function (currentTask, previousTask, cVersion, pVersion, previousRmpVersion) {
        var _this = this;
        var diff = {};
        var panelName = MaintenanceProgramUpdatesListComponent_1.DOCUMENTS;
        var tabName = MaintenanceProgramUpdatesListComponent_1.DOCUMENTS;
        var fieldName;
        var value = '';
        var cDocumentRow = cVersion.map(function (row) { return _this.createDocumentRow(row); });
        var pDocumentRow = pVersion.map(function (row) { return _this.createDocumentRow(row); });
        if (pDocumentRow.length >= cDocumentRow.length) {
            pDocumentRow.forEach(function (row, index) {
                if (!!cDocumentRow[index]) {
                    diff = _this.getObjectDiff(row, cDocumentRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (pDocumentRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, cDocumentRow[index][fieldName], row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (pDocumentRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, value, row[fieldName], fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
        else {
            cDocumentRow.forEach(function (row, index) {
                if (!!pDocumentRow[index]) {
                    diff = _this.getObjectDiff(row, pDocumentRow[index]);
                    if (!!diff) {
                        for (fieldName in diff) {
                            if (cDocumentRow[index].hasOwnProperty(fieldName)) {
                                _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], pDocumentRow[index][fieldName], fieldName, tabName, panelName, previousRmpVersion);
                            }
                        }
                    }
                }
                else {
                    for (fieldName in row) {
                        if (cDocumentRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {
                            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, row[fieldName], value, fieldName, tabName, panelName, previousRmpVersion);
                        }
                    }
                }
            });
        }
    };
    MaintenanceProgramUpdatesListComponent.prototype.createDocumentRow = function (bireDocumentDTO) {
        var documentRow = {
            docType: bireDocumentDTO.docType,
            docName: bireDocumentDTO.docName,
            docCategory: !!bireDocumentDTO.docCategory
                ? this.documentCategories.filter(function (type) { return type.value === bireDocumentDTO.docCategory; })[0].label
                : '',
            docPublicationDate: !!bireDocumentDTO.docPublicationDate ? bireDocumentDTO.docPublicationDate.toString() : '',
            docSource: bireDocumentDTO.docSource
        };
        return documentRow;
    };
    MaintenanceProgramUpdatesListComponent.prototype.createMaintenanceProgramTaskUpdatedRow = function (currentTask, previousTask, cValue, pValue, fieldName, tabName, panelName, pRmpVersion) {
        var updatedTasksRows = {
            taskCode: currentTask.taskCode,
            taskVersion: currentTask.taskVersion,
            previousTaskVersion: previousTask.taskVersion,
            fieldName: this.isAttribute ? fieldName : this.getTranslatedValue(fieldName),
            currentValue: cValue,
            previousValue: pValue,
            panelName: this.getTranslatedValue(panelName),
            tabName: this.getTranslatedValue(tabName),
            previousRmpVersion: pRmpVersion
        };
        this.isAttribute = false;
        this.updatedTasksTableDataSource.addData([updatedTasksRows]);
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadAttributeData = function (currentTask, previousTask, current, previous, previousRmpVersion) {
        var _this = this;
        var previousValue;
        var currentValue;
        var fieldName;
        var value = '';
        var panelName = MaintenanceProgramUpdatesListComponent_1.ATTRIBUTES;
        var tabName = MaintenanceProgramUpdatesListComponent_1.ATTRIBUTES;
        this.attributeList.forEach(function (element) {
            _this.isAttribute = true;
            var previousAttribute = !!previous &&
                !!previous.find(function (data) { return data.attributeId === element.attributeId && data.attributeValue !== value; })
                ? previous.filter(function (data) { return data.attributeId === element.attributeId; })[0].attributeValue
                : element.attributeType === _shared_constants_bido_attribute_constants__WEBPACK_IMPORTED_MODULE_4__["BidoAttributeConstants"].ATTRIBUTE_TYPE_BOOLEAN
                    ? 'false'
                    : value;
            var currentAttribute = !!current && !!current.find(function (data) { return data.attributeId === element.attributeId && data.attributeValue !== value; })
                ? current.filter(function (data) { return data.attributeId === element.attributeId; })[0].attributeValue
                : element.attributeType === _shared_constants_bido_attribute_constants__WEBPACK_IMPORTED_MODULE_4__["BidoAttributeConstants"].ATTRIBUTE_TYPE_BOOLEAN
                    ? 'false'
                    : value;
            if (currentAttribute === previousAttribute) {
                _this.isAttribute = false;
                return;
            }
            else {
                currentValue = !!currentAttribute ? currentAttribute : value;
                previousValue = !!previousAttribute ? previousAttribute : value;
                fieldName = _this.fetchAttributeLabel(element);
            }
            _this.createMaintenanceProgramTaskUpdatedRow(currentTask, previousTask, currentValue, previousValue, fieldName, tabName, panelName, previousRmpVersion);
        });
    };
    /**
     * fetchAttributeLabel() - This function is used to fill the field name in the Attribute Panel.
     * @param attribute - Attribute DTO
     */
    MaintenanceProgramUpdatesListComponent.prototype.fetchAttributeLabel = function (attribute) {
        var value = '';
        var label = this.attributeList.filter(function (type) { return type.attributeId === attribute.attributeId; })[0];
        if (!!this.attributeList) {
            if (this.translateService.currentLang === MaintenanceProgramUpdatesListComponent_1.ENG) {
                value = label && label.attributeNameEn ? label.attributeNameEn : '';
            }
            else {
                value = label && label.attributeNameFr ? label.attributeNameFr : '';
            }
        }
        return value;
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadApplicability = function () {
        var _this = this;
        this.maintenanceProgramUpdatesListService.getApplicability().subscribe(function (results) {
            _this.taskApplicabilityCode = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetApplicabilities'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadTaskGroup = function () {
        var _this = this;
        this.maintenanceProgramUpdatesListService.getTaskGroups().subscribe(function (results) {
            _this.taskGroups = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetTaskGroups'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadMROCenter = function () {
        var _this = this;
        this.maintenanceProgramUpdatesListService.findMROCenter().subscribe(function (results) {
            _this.mroCenters = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorONGetMROCenter'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadTaskType = function () {
        var _this = this;
        this.maintenanceProgramUpdatesListService.getTaskType().subscribe(function (results) {
            _this.taskTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetTaskTypes'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadStatus = function () {
        var _this = this;
        this.maintenanceProgramUpdatesListService.getFuncObjectStatusMap().subscribe(function (results) {
            _this.status = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetObjectStatus'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadAssociatedTaskLinkTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].TASK_LINK_MAP).subscribe(function (results) {
            _this.associatedLinkTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetEvolutionLinkTypes'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadLinkTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].TASK_EVOLUTION_TYPE_MAP).subscribe(function (results) {
            _this.evolutionLinkTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetEvolutionLinkTypes'));
        });
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].TASK_ITEM_TYPE_MAP).subscribe(function (results) {
            _this.itemLinkTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetEvolutionLinkTypes'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadDocumentTaskCategories = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].DOC_TASK_CATEGORY_MAP).subscribe(function (results) {
            _this.documentCategories = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetDocumentTaskCategories'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadStructureTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].STRUCTURE_TYPE_MAP).subscribe(function (results) {
            _this.structureType = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnLoadStructureType'));
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.getTranslatedValue = function (key) {
        return this.translateService.instant(this.getTranslateKey(key));
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadCurrency = function () {
        var _this = this;
        this.maintenanceProgramUpdatesListService.getLocalCurrency().subscribe(function (result) {
            var currencyRegexp = /^[a-zA-Z]+ \(([A-Z]+)\)$/;
            var mo = result.match(currencyRegexp);
            _this.currency = mo ? mo[1] : result;
        });
    };
    MaintenanceProgramUpdatesListComponent.prototype.loadAttributeList = function () {
        var _this = this;
        this.maintenanceProgramUpdatesListService
            .findBireAttributesByCategory(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_TASK_KEY)
            .subscribe(function (results) {
            _this.attributeList = results || [];
        });
    };
    var MaintenanceProgramUpdatesListComponent_1;
    MaintenanceProgramUpdatesListComponent.HOME = 'home';
    MaintenanceProgramUpdatesListComponent.TASK_CARD = 'taskCard';
    MaintenanceProgramUpdatesListComponent.IMPACTS = 'impacts';
    MaintenanceProgramUpdatesListComponent.PREREQUISITES = 'prerequisites';
    MaintenanceProgramUpdatesListComponent.ATTRIBUTES = 'attributes';
    MaintenanceProgramUpdatesListComponent.DOCUMENTS = 'documents';
    MaintenanceProgramUpdatesListComponent.MEASUREMENT_POINT = 'measurementPoint';
    MaintenanceProgramUpdatesListComponent.MAINTENANCE_PROGRAMS = 'maintenancePrograms';
    MaintenanceProgramUpdatesListComponent.SHOP_MANUALS = 'shopManuals';
    MaintenanceProgramUpdatesListComponent.OPERATIONS = 'operations';
    MaintenanceProgramUpdatesListComponent.EVOLUTIONS = 'evolutions';
    MaintenanceProgramUpdatesListComponent.ITEMS = 'items';
    MaintenanceProgramUpdatesListComponent.TECHNICAL_LEVEL = 'technicalLevel';
    MaintenanceProgramUpdatesListComponent.ASSOCIATED_QUALIFICATIONS = 'associatedQualifications';
    MaintenanceProgramUpdatesListComponent.TOP_DOWN_STRUCTURE = 'topDownStructure';
    MaintenanceProgramUpdatesListComponent.SUPERIOR_TASKS = 'superiorTasks';
    MaintenanceProgramUpdatesListComponent.ANTERIOR_TASKS = 'anteriorInSequence';
    MaintenanceProgramUpdatesListComponent.POSTERIOR_TASKS = 'posteriorInSequence';
    MaintenanceProgramUpdatesListComponent.LINKED_TASK = 'linkedTasks';
    MaintenanceProgramUpdatesListComponent.MAIN_INFORMATION = 'mainInformation';
    MaintenanceProgramUpdatesListComponent.ADDITIONAL_INFORMATION = 'additionalInformation';
    MaintenanceProgramUpdatesListComponent.REFERENCE_MANUAL = 'referenceManual';
    MaintenanceProgramUpdatesListComponent.TOTAL_COST = 'totalCost';
    MaintenanceProgramUpdatesListComponent.ENG = 'en';
    MaintenanceProgramUpdatesListComponent = MaintenanceProgramUpdatesListComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-maintenance-program-updates-list',
            template: __webpack_require__(/*! ./maintenance-program-updates-list.component.html */ "./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__["TabService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__["SessionService"],
            _maintenance_program_updates_list_service__WEBPACK_IMPORTED_MODULE_16__["MaintenanceProgramUpdatesListService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"]])
    ], MaintenanceProgramUpdatesListComponent);
    return MaintenanceProgramUpdatesListComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_15__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.service.ts":
/*!**************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.service.ts ***!
  \**************************************************************************************************************************/
/*! exports provided: MaintenanceProgramUpdatesListService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaintenanceProgramUpdatesListService", function() { return MaintenanceProgramUpdatesListService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/task-management.api */ "./src/app/shared/api/task-management.api.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var MaintenanceProgramUpdatesListService = /** @class */ (function (_super) {
    __extends(MaintenanceProgramUpdatesListService, _super);
    function MaintenanceProgramUpdatesListService(http, appConfigService, taskManagementApi, propertiesService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.taskManagementApi = taskManagementApi;
        _this.propertiesService = propertiesService;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    MaintenanceProgramUpdatesListService.prototype.getMainteanceProgramUpdatedList = function (planCode) {
        return _super.prototype.post.call(this, this.taskManagementApi.getMainteanceProgramUpdatedList, planCode);
    };
    MaintenanceProgramUpdatesListService.prototype.getTaskGroups = function () {
        return _super.prototype.post.call(this, this.taskManagementApi.findAllBireTaskGroups);
    };
    MaintenanceProgramUpdatesListService.prototype.getApplicability = function () {
        return this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].TASK_APPLICABILITY_CODE_MAP);
    };
    MaintenanceProgramUpdatesListService.prototype.findMROCenter = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireSiteForTask);
    };
    MaintenanceProgramUpdatesListService.prototype.getTaskType = function () {
        return this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].TASK_TYPE_MAP);
    };
    MaintenanceProgramUpdatesListService.prototype.getFuncObjectStatusMap = function () {
        return this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].FUNC_OBJECT_STATUS_MAP);
    };
    MaintenanceProgramUpdatesListService.prototype.getTaskEvolutionTypeMap = function () {
        return this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_4__["GenericPropertyConstants"].TASK_EVOLUTION_TYPE_MAP);
    };
    MaintenanceProgramUpdatesListService.prototype.getLocalCurrency = function () {
        return _super.prototype.post.call(this, this.taskManagementApi.getLocalCurrency);
    };
    MaintenanceProgramUpdatesListService.prototype.findBireAttributesByCategory = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategory, category);
    };
    MaintenanceProgramUpdatesListService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_3__["TaskManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_7__["PropertiesService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], MaintenanceProgramUpdatesListService);
    return MaintenanceProgramUpdatesListService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/modification-form/modification-form.component.html":
/*!************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-form/modification-form.component.html ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\" *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\">\r\n        - {{ subTitle }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button *ngIf=\"isReadOpenMode && hasUpdateAccessRight\" type=\"button\" mat-raised-button (click)=\"editModification()\">\r\n      {{ \"global.edit\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n      color=\"warn\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"cancel()\"\r\n    >\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      class=\"btn-with-spinner\"\r\n      color=\"primary\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"save()\"\r\n    >\r\n      <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n      {{ \"global.save\" | translate }}\r\n    </button>\r\n    <button\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button\r\n        mat-menu-item\r\n        id=\"upgrade\"\r\n        *ngIf=\"!isReadOpenMode && selectedModification.modificationRevisionNumber != null\"\r\n        type=\"button\"\r\n        (click)=\"upgradeModification()\"\r\n      >\r\n        {{ \"global.upgrade\" | translate }}\r\n      </button>\r\n      <button mat-menu-item id=\"status\" (click)=\"openStatusUpdatesPopup()\">{{ \"updates\" | translate }}</button>\r\n      <button\r\n        mat-menu-item\r\n        id=\"refresh\"\r\n        *ngIf=\"isReadOpenMode && componentData && componentData.objectId\"\r\n        type=\"button\"\r\n        (click)=\"refresh()\"\r\n      >\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n      <button mat-menu-item id=\"favorite\" (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--equally\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">{{ \"page.mainData\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <div class=\"grid-row\">\r\n                      <div class=\"form-group flex--2 required\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".number\" | translate }}</label>\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"selectedModification.modificationNumber\"\r\n                            maxlength=\"50\"\r\n                            [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group flex--2 required\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".revisionNumber\" | translate\r\n                        }}</label>\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"selectedModification.modificationRevisionNumber\"\r\n                            maxlength=\"10\"\r\n                            [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"grid-row\">\r\n                      <div class=\"form-group flex--2\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".familyCode\" | translate }}</label>\r\n                        <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: !isCreateOpenMode }\">\r\n                          <div class=\"form-control-data\" (click)=\"openFamilyPopup()\">\r\n                            {{ selectedModification.familyCode }}\r\n                          </div>\r\n\r\n                          <div *ngIf=\"selectedModification.familyCode\" class=\"btn-clear-wrapper\">\r\n                            <i\r\n                              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"resetFamilyCode()\"\r\n                            ></i>\r\n                          </div>\r\n                          <div class=\"btn-search-wrapper\">\r\n                            <i\r\n                              class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"openFamilyPopup()\"\r\n                            ></i>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group flex--2\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".structureType\" | translate }}</label>\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"selectedModification.structureType\"\r\n                            [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"grid-row\">\r\n                      <div class=\"form-group flex--2 required\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".type\" | translate }}</label>\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"selectedModification.modificationType\"\r\n                            maxlength=\"10\"\r\n                            [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group flex--2\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".documentUrl\" | translate }}</label>\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            style=\"width: 100%\"\r\n                            class=\"aw-input\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            [(ngModel)]=\"selectedModification.modificationDocumentUrl\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"grid-row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".designation\" | translate }}</label>\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            style=\"width: 100%\"\r\n                            [rows]=\"3\"\r\n                            maxlength=\"300\"\r\n                            pInputTextarea\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            [(ngModel)]=\"selectedModification.modificationTitle\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"grid-cell--equally\">\r\n              <div #assetTableAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".assetsAssociated\" | translate }} ({{\r\n                        assetTableDataSource ? assetTableDataSource.dataSelectionCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"assetTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && assetTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"deleteSelectedConcernedAssets()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && !assetTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"createAsset()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && assetTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"editAsset()\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"assetTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"openAsset()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"attributes\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div #dynamicAttributeListAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">{{ \"global.attributes\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <div class=\"aw-btn-group\">\r\n                    <button *ngIf=\"!isReadOpenMode\" type=\"button\" (click)=\"openHistoricAttributes()\" mat-raised-button>\r\n                      <span>{{ \"global.historic\" | translate }}</span>\r\n                    </button>\r\n\r\n                    <aw-dynamic-attributes\r\n                      [attributes]=\"dynamicAttributesModification\"\r\n                      [isReadOpenMode]=\"isReadOpenMode\"\r\n                    ></aw-dynamic-attributes>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Popup Zone -->\r\n<aw-modification-assets-popup-form\r\n  *ngIf=\"showAssetPopup\"\r\n  [(display)]=\"showAssetPopup\"\r\n  [component-data]=\"dataAssets\"\r\n  (onCreate)=\"onSaveAssets($event)\"\r\n></aw-modification-assets-popup-form>\r\n\r\n<!-- Dialog ZONE -->\r\n<aw-dialog-table\r\n  *ngIf=\"showFamilyCodeDialog\"\r\n  [(display)]=\"showFamilyCodeDialog\"\r\n  [data]=\"dialogTableDataFamilyList\"\r\n  (onSelected)=\"setSelectedObject($event)\"\r\n  [keyMap]=\"keyMap\"\r\n></aw-dialog-table>\r\n<aw-status-update-history\r\n  *ngIf=\"showStatusUpdatesPopup\"\r\n  [object]=\"selectedModification\"\r\n  [data]=\"tableStatusUpdatesData\"\r\n  [deleteApi]=\"deleteApi\"\r\n  [(display)]=\"showStatusUpdatesPopup\"\r\n  [keyMap]=\"updatesKeyMap\"\r\n  [isStatusEditable]=\"!isReadOpenMode\"\r\n  (onUpdated)=\"updateObjectStatusFromStatusUpdatesHistory($event)\"\r\n></aw-status-update-history>\r\n<aw-dynamic-attributes-history\r\n  *ngIf=\"showDynamicAttributesHistoric\"\r\n  [attributes]=\"dynamicAttributesModification\"\r\n  [history]=\"dynamicAttributesHistoric\"\r\n  showDelete=\"true\"\r\n  [deleteApi]=\"productStructureHistoryApi.removeHBireModificationAttribute\"\r\n  [(display)]=\"showDynamicAttributesHistoric\"\r\n></aw-dynamic-attributes-history>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/modification-form/modification-form.component.scss":
/*!************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-form/modification-form.component.scss ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host #modification-form-component .main-data .form-group {\n  width: 15rem; }\n\n:host #modification-form-component .attributes-tab {\n  display: flex;\n  flex-direction: column; }\n\n:host #modification-form-component .general-tab {\n  display: flex;\n  flex-direction: column; }\n\n:host #modification-form-component .general-tab .general-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n\n:host #modification-form-component .general-tab .general-fields .general-field {\n      width: 15rem; }\n\n:host #modification-form-component .general-tab .general-fields .text-area {\n      width: 20rem; }\n\n:host #modification-form-component .general-tab .general-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n\n:host #modification-form-component .general-tab .general-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n\n:host #modification-form-component .general-tab .general-tables .row:first-of-type {\n        margin-bottom: 24px; }\n\n:host #modification-form-component .general-tab .general-tables .row .table-wrapper {\n        width: 50%; }\n\n:host #modification-form-component .general-tab .general-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n\n:host #modification-form-component .general-tab .general-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21vZGlmaWNhdGlvbi1mb3JtL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXG1vZGlmaWNhdGlvbi1mb3JtXFxtb2RpZmljYXRpb24tZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdNLFlBQVksRUFBQTs7QUFIbEI7RUFNTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7O0FBUDVCO0VBV00sYUFBYTtFQUNiLHNCQUFzQixFQUFBOztBQVo1QjtJQWVRLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBOztBQWpCbkI7TUFvQlUsWUFBWSxFQUFBOztBQXBCdEI7TUF1QlUsWUFBWSxFQUFBOztBQXZCdEI7SUE0QlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTs7QUE5QnpCO01BaUNVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBOztBQW5DekI7UUFzQ1ksbUJBQW1CLEVBQUE7O0FBdEMvQjtRQTBDWSxVQUFVLEVBQUE7O0FBMUN0QjtVQTZDYyxtQkFBbUIsRUFBQTs7QUE3Q2pDO1VBaURjLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21vZGlmaWNhdGlvbi1mb3JtL21vZGlmaWNhdGlvbi1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICNtb2RpZmljYXRpb24tZm9ybS1jb21wb25lbnQge1xyXG4gICAgLm1haW4tZGF0YSAuZm9ybS1ncm91cCB7XHJcbiAgICAgIHdpZHRoOiAxNXJlbTtcclxuICAgIH1cclxuICAgIC5hdHRyaWJ1dGVzLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICB9XHJcblxyXG4gICAgLmdlbmVyYWwtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5nZW5lcmFsLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuZ2VuZXJhbC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTVyZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC50ZXh0LWFyZWEge1xyXG4gICAgICAgICAgd2lkdGg6IDIwcmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmdlbmVyYWwtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/main/engineering-management/modification-form/modification-form.component.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-form/modification-form.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: ModificationFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationFormComponent", function() { return ModificationFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-history.api */ "./src/app/shared/api/product-structure-history.api.ts");
/* harmony import */ var _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/update-historic.api */ "./src/app/shared/api/update-historic.api.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/update-historic.service */ "./src/app/shared/services/update-historic.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _modification_form_popups_modification_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../modification-form/popups/modification-assets-popup-form.service */ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.service.ts");
/* harmony import */ var _modification_form_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./modification-form.service */ "./src/app/main/engineering-management/modification-form/modification-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};






















var ModificationFormComponent = /** @class */ (function (_super) {
    __extends(ModificationFormComponent, _super);
    function ModificationFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, modificationAssetsPopupFormService, propertiesService, dynamicAttributesService, modificationFormService, updateHistoricService, updateHistoricApi, confirmationService, productStructureHistoryApi) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.modificationAssetsPopupFormService = modificationAssetsPopupFormService;
        _this.propertiesService = propertiesService;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.modificationFormService = modificationFormService;
        _this.updateHistoricService = updateHistoricService;
        _this.updateHistoricApi = updateHistoricApi;
        _this.confirmationService = confirmationService;
        _this.productStructureHistoryApi = productStructureHistoryApi;
        _this.isLoading = false;
        // For status/updates popup
        _this.showStatusUpdatesPopup = false;
        _this.deleteApi = _this.updateHistoricApi.removeBireModificationHistory;
        _this.updatesKeyMap = new Map();
        // For dynamic attributes historic
        _this.showDynamicAttributesHistoric = false;
        _this.showAssetPopup = false;
        _this.tabAttributesId = 'attributes';
        _this.tabAssetsId = 'assets';
        _this.tabGeneralId = 'general';
        _this.currentTabId = _this.tabGeneralId;
        _this.selectedModification = {};
        _this.currentAsset = undefined;
        _this.currentAssetIndex = undefined;
        _this.subTitle = '';
        _this.bireAttributes = [];
        _this.bireModificationAttribute = [];
        _this.dynamicAttributesModification = [];
        _this.loadDropdonwList();
        _this.showFamilyCodeDialog = false;
        _this.getFamilyList();
        _this.keyMap = new Map();
        _this.keyMap.set('structureType', _this.propertiesService.getValue('getStructureTypeMap'));
        _this.keyMap.set('familyFunction', _this.propertiesService.getValue('getFamilyFunctionMap'));
        _this.isUpgradeValid = false;
        _this.initAssetTableDataSource();
        return _this;
    }
    ModificationFormComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__["ComponentConstants"].ENG_MODIFICATION_FORM;
    };
    ModificationFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.updateOpenMode(this.componentData.openMode);
        if (this.componentData.objectId && this.componentData.objectId.length > 0) {
            this.isUpgradeValid = true;
            this.getModification();
            this.onInit();
            this.setSubTitle();
        }
        var context = !!this.componentData.objectId
            ? this.serializationService.deserialize(this.componentData.objectId).modificationType + "-" + this.serializationService.deserialize(this.componentData.objectId).modificationNumber + "-" + this.serializationService.deserialize(this.componentData.objectId).modificationRevisionNumber
            : 'tab.createMode';
        this.displayComponentContext(context, this.isCreateOpenMode);
        this.getBireAttributesForModification();
    };
    ModificationFormComponent.prototype.onInit = function () {
        this.getSelectedModification();
        this.findBireConcernedAssetsByModification();
    };
    ModificationFormComponent.prototype.getFamilyList = function () {
        var tableColumns = [
            { field: 'familyCode', width: '25%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input },
            { field: 'familyName', width: '25%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input },
            { field: 'structureType', width: '25%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input },
            { field: 'familyFunction', width: '25%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input }
        ];
        this.dialogTableDataFamilyList = {
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__["ComponentConstants"].ENG_MODIFICATION_FORM,
            tableCols: tableColumns,
            tableRows: this.modificationFormService.findAllBireFamilys(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ModificationFormComponent.prototype.getModification = function () {
        if (this.componentData) {
            if (this.componentData.objectId && this.componentData.objectId.length > 0) {
                this.selectedModification = this.serializationService.deserialize(this.componentData.objectId);
            }
        }
    };
    ModificationFormComponent.prototype.setSubTitle = function () {
        var subTitle = "" + this.selectedModification.modificationType;
        subTitle += "-" + this.selectedModification.modificationNumber;
        subTitle += "-" + this.selectedModification.modificationRevisionNumber;
        this.subTitle = subTitle;
        this.displayComponentContext(this.subTitle, this.isCreateOpenMode);
    };
    ModificationFormComponent.prototype.getSelectedModification = function () {
        var _this = this;
        var bireModificationDTOId = {
            modificationType: this.selectedModification.modificationType,
            modificationNumber: this.selectedModification.modificationNumber,
            modificationRevisionNumber: this.selectedModification.modificationRevisionNumber,
            familyCode: this.selectedModification.familyCode,
            structureType: this.selectedModification.structureType
        };
        this.modificationFormService.findBireModification(bireModificationDTOId).subscribe(function (data) {
            _this.selectedModification = data;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetModification'));
        });
    };
    ModificationFormComponent.prototype.loadDropdonwList = function () {
        var _this = this;
        this.propertiesService.getValue('getAssetActionTypeMap').subscribe(function (results) {
            _this.assetActionTypeList = results;
        }, function () {
            _this.messageService.showErrorMessage('global.errorOnGet');
        });
    };
    ModificationFormComponent.prototype.setSelectedObject = function (selectedObject) {
        if (selectedObject) {
            this.selectedModification.familyCode = selectedObject.familyCode;
            this.selectedModification.structureType = selectedObject.structureType;
        }
        this.showFamilyCodeDialog = false;
    };
    ModificationFormComponent.prototype.findBireConcernedAssetsByModification = function () {
        var _this = this;
        this.isLoading = true;
        this.modificationFormService.findBireConcernedAssetsByModification(this.selectedModification).subscribe(function (results) {
            _this.isLoading = false;
            results.forEach(function (element) {
                if (element.assetActionType) {
                    element.assetActionType = _this.assetActionTypeList.filter(function (actionType) { return actionType.value === element.assetActionType; })[0].label;
                }
            });
            _this.assetTableDataSource.setData(results);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireConcernedAsseetsByModification'));
        });
    };
    ModificationFormComponent.prototype.createAsset = function () {
        this.currentAsset = {};
        this.showAssetPopup = true;
        this.dataAssets = {
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__["ComponentConstants"].ENG_MODIFICATION_FORM,
            selectedRow: undefined,
            object: this.currentAsset,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Create
        };
    };
    ModificationFormComponent.prototype.editAsset = function () {
        var _this = this;
        if (this.assetTableDataSource && this.assetTableDataSource.hasDataSelection) {
            // Copy all the selectedAssets[0] field into currentAsset one by one
            this.currentAsset = __assign({}, this.assetTableDataSource.dataSelection[0]);
            if (this.currentAsset.assetActionType != undefined) {
                this.currentAsset.assetActionType = this.assetActionTypeList.filter(function (actionType) { return !!_this.currentAsset && actionType.label === _this.currentAsset.assetActionType; })[0].value;
            }
            this.currentAssetIndex = this.assetTableDataSource.data.indexOf(this.assetTableDataSource.dataSelection[0]);
            this.showAssetPopup = true;
            this.dataAssets = {
                componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__["ComponentConstants"].ENG_MODIFICATION_FORM,
                selectedRow: undefined,
                object: this.currentAsset,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Write
            };
        }
    };
    ModificationFormComponent.prototype.deleteSelectedConcernedAssets = function () {
        var _this = this;
        var partialMessageKey = 'confirmDeleteSelectedConcernedAssets';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.assetTableDataSource.deleteData(_this.assetTableDataSource.dataSelection);
                _this.assetTableDataSource.dataSelection = [];
            }
        });
    };
    ModificationFormComponent.prototype.openAsset = function () {
        var _this = this;
        if (this.assetTableDataSource && this.assetTableDataSource.hasDataSelection) {
            // Copy all the selectedAssets[0] field into currentAsset one by one
            this.currentAsset = __assign({}, this.assetTableDataSource.dataSelection[0]);
            if (this.currentAsset.assetActionType != undefined) {
                this.currentAsset.assetActionType = this.assetActionTypeList.filter(function (actionType) { return !!_this.currentAsset && actionType.label === _this.currentAsset.assetActionType; })[0].value;
            }
            this.currentAssetIndex = this.assetTableDataSource.data.indexOf(this.assetTableDataSource.dataSelection[0]);
            this.showAssetPopup = true;
            this.dataAssets = {
                componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__["ComponentConstants"].ENG_MODIFICATION_FORM,
                selectedRow: undefined,
                object: this.currentAsset,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read
            };
        }
    };
    ModificationFormComponent.prototype.onSaveAssets = function (assetModification) {
        if (assetModification) {
            if (assetModification.assetActionType != undefined) {
                assetModification.assetActionType = this.assetActionTypeList.filter(function (actionType) { return actionType.value === assetModification.assetActionType; })[0].label;
            }
            if (this.currentAssetIndex != undefined) {
                this.assetTableDataSource.replaceData(this.assetTableDataSource.data[this.currentAssetIndex], assetModification);
            }
            else {
                this.assetTableDataSource.addData([assetModification]);
            }
        }
        this.currentAssetIndex = undefined;
        this.assetTableDataSource.dataSelection = [];
        this.showAssetPopup = false;
    };
    ModificationFormComponent.prototype.refresh = function () {
        this.onInit();
    };
    ModificationFormComponent.prototype.upgradeModification = function () {
        var _this = this;
        if (this.isUpgradeValid) {
            var nextRivisionNumber_1;
            if (!!this.selectedModification && !!this.selectedModification.modificationRevisionNumber) {
                if (!isNaN(Number(this.selectedModification.modificationRevisionNumber))) {
                    this.modificationFormService
                        .checkAndReturnNewRevisionNumberByModification(this.selectedModification)
                        .subscribe(function (revisionNumber) {
                        if (revisionNumber) {
                            nextRivisionNumber_1 = (parseInt(_this.selectedModification.modificationRevisionNumber, 10) + 1).toString();
                            var partialMessageKey = 'confirmUpgradeModification';
                            _this.confirmationService.confirm({
                                interpolateParams: { 0: _this.selectedModification.modificationNumber, 1: nextRivisionNumber_1 },
                                messageKey: _this.getTranslateKey(partialMessageKey),
                                accept: function () {
                                    _this.modificationFormService
                                        .validateDocumentUrl(_this.selectedModification.modificationDocumentUrl)
                                        .subscribe(function (isValidUrl) {
                                        if (isValidUrl) {
                                            _this.modificationFormService
                                                .upgradeBireModification(_this.selectedModification, nextRivisionNumber_1)
                                                .subscribe(function (result) {
                                                _this.selectedModification = result;
                                                _this.setSubTitle();
                                                _this.onInit();
                                                _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnUpgradeModification'));
                                            });
                                        }
                                        else {
                                            _this.messageService.showErrorMessage(_this.getTranslateKey('invalidDocumentUrl'));
                                        }
                                    });
                                }
                            });
                        }
                        else {
                            _this.messageService.showErrorMessage(_this.getTranslateKey('modificationNotLastVersion'));
                        }
                    });
                }
                else {
                    this.messageService.showErrorMessage(this.getTranslateKey('revisionNumberNotNumeric'));
                }
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('msgUpgradNotPossibe'));
            }
        }
    };
    ModificationFormComponent.prototype.editModification = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Write);
    };
    ModificationFormComponent.prototype.save = function () {
        if (this.isValidPage()) {
            this.saveModificationFormData();
        }
        else {
            this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');
        }
    };
    ModificationFormComponent.prototype.saveModificationFormData = function () {
        var _this = this;
        var assetsData = __spread(this.assetTableDataSource.data);
        assetsData.forEach(function (element) {
            if (element.assetActionType) {
                element.assetActionType = _this.assetActionTypeList.filter(function (actionType) { return actionType.label === element.assetActionType; })[0].value;
            }
        });
        this.bireModificationAttribute = this.dynamicAttributesService.toBireModificationAttribute(this.selectedModification, this.dynamicAttributesModification);
        this.modificationFormService
            .validateDocumentUrl(this.selectedModification.modificationDocumentUrl)
            .subscribe(function (isValidUrl) {
            if (isValidUrl) {
                _this.showSaveSpinner = true;
                _this.modificationFormService
                    .saveModification(_this.selectedModification, assetsData, _this.bireModificationAttribute, _this.isCreateOpenMode)
                    .subscribe(function (result) {
                    _this.isUpgradeValid = true;
                    _this.onInit();
                    if (_this.isCreateOpenMode) {
                        var bireModificationDTOId = {
                            familyCode: _this.selectedModification.familyCode,
                            structureType: _this.selectedModification.structureType,
                            modificationType: _this.selectedModification.modificationType,
                            modificationNumber: _this.selectedModification.modificationNumber,
                            modificationRevisionNumber: _this.selectedModification.modificationRevisionNumber
                        };
                        _this.componentData.objectId = _this.serializationService.serialize(bireModificationDTOId);
                        _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Write);
                        _this.setSubTitle();
                        _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnSaveModification'));
                    }
                    else {
                        _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnUpdateModification'));
                    }
                    _this.showSaveSpinner = false;
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSaveModification'));
                    _this.showSaveSpinner = false;
                });
            }
            else {
                _this.messageService.showErrorMessage(_this.getTranslateKey('invalidDocumentUrl'));
                _this.showSaveSpinner = false;
            }
        });
    };
    ModificationFormComponent.prototype.isValidPage = function () {
        return (this.selectedModification.familyCode != undefined &&
            this.selectedModification.structureType != undefined &&
            this.selectedModification.modificationNumber != undefined &&
            this.selectedModification.modificationNumber.trim().length > 0 &&
            this.selectedModification.modificationRevisionNumber != undefined &&
            this.selectedModification.modificationRevisionNumber.trim().length > 0 &&
            this.selectedModification.modificationType != undefined &&
            this.selectedModification.modificationType.trim().length > 0);
    };
    // Get differents attributes list for this object
    ModificationFormComponent.prototype.getBireAttributesForModification = function () {
        var _this = this;
        this.bireAttributes = [];
        Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])({
            allCategoryList: this.modificationFormService.findBireAttributesByCategory(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_ALL_KEY),
            modificationCategoryList: this.modificationFormService.findBireAttributesByCategory(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_MODIFICATION_KEY)
        }).subscribe(function (result) {
            var _a, _b;
            (_a = _this.bireAttributes).push.apply(_a, __spread(result.allCategoryList));
            (_b = _this.bireAttributes).push.apply(_b, __spread(result.modificationCategoryList));
            setTimeout(function () {
                _this.dynamicAttributesModification = _this.dynamicAttributesService.from(_this.bireAttributes);
                _this.getBireModificationAttributes();
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByCategory'));
        });
    };
    ModificationFormComponent.prototype.getBireModificationAttributes = function () {
        var _this = this;
        this.modificationFormService.findBireModificationAttributesByItem(this.selectedModification).subscribe(function (results) {
            _this.bireModificationAttribute = results;
            _this.dynamicAttributesService.setValues(_this.dynamicAttributesModification, _this.bireModificationAttribute);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesForModification'));
        });
    };
    ModificationFormComponent.prototype.resetFamilyCode = function () {
        this.selectedModification.familyCode = undefined;
        this.selectedModification.structureType = undefined;
    };
    ModificationFormComponent.prototype.cancel = function () {
        if (this.isCreateOpenMode) {
            this.selectedModification = {};
            this.initAttributeValue();
        }
        else {
            this.refresh();
            this.getBireAttributesForModification();
            this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_8__["ComponentOpenMode"].Read);
        }
    };
    ModificationFormComponent.prototype.initAttributeValue = function () {
        var leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesModification);
        leafs.forEach(function (attribute) {
            attribute.value = undefined;
        });
    };
    ModificationFormComponent.prototype.openAssetsTab = function () {
        this.currentTabId = this.tabAssetsId;
    };
    ModificationFormComponent.prototype.openFamilyPopup = function () {
        this.showFamilyCodeDialog = this.isCreateOpenMode ? true : false;
    };
    ModificationFormComponent.prototype.openGeneralTab = function () {
        this.currentTabId = this.tabGeneralId;
    };
    ModificationFormComponent.prototype.openAttributesTab = function () {
        this.currentTabId = this.tabAttributesId;
    };
    ModificationFormComponent.prototype.openHistoricAttributes = function () {
        this.showDynamicAttributesHistoric = true;
        var attributeIds;
        if (!!this.selectedModification &&
            !!this.selectedModification.modificationNumber &&
            !!this.selectedModification.modificationRevisionNumber &&
            !!this.selectedModification.modificationType &&
            !!this.selectedModification.familyCode &&
            !!this.selectedModification.structureType &&
            !!this.dynamicAttributesModification) {
            attributeIds = this.dynamicAttributesService.toBireModificationAttributeId(this.selectedModification.modificationNumber, this.selectedModification.modificationRevisionNumber, this.selectedModification.modificationType, this.selectedModification.familyCode, this.selectedModification.structureType, this.dynamicAttributesModification);
            this.getHistoricAttributes(attributeIds);
        }
        else {
            attributeIds = [];
            this.getHistoricAttributes(attributeIds);
        }
    };
    ModificationFormComponent.prototype.getHistoricAttributes = function (attributeIds) {
        this.dynamicAttributesHistoric = this.modificationFormService.findHBireModificationAttributesByAttributeId(attributeIds);
    };
    ModificationFormComponent.prototype.openStatusUpdatesPopup = function () {
        this.showStatusUpdatesPopup = true;
        this.isStatusEditable = true;
        var modificationId = this.selectedModification;
        var columns = [
            { field: 'timestamp', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input, isDate: true },
            { field: 'statusUser', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input },
            { field: 'action', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input },
            { field: 'statusState', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_9__["TableColumnFilterMode"].Input },
            { field: 'familyCode', alignment: 'left', width: '6.25rem' },
            { field: 'structureType', alignment: 'left', width: '6.25rem' },
            { field: 'modificationType', alignment: 'left', width: '6.25rem' },
            { field: 'modificationNumber', alignment: 'left', width: '6.25rem' },
            { field: 'modificationRevisionNumber', alignment: 'left', width: '6.25rem' },
            { field: 'modificationDocumentUrl', alignment: 'left', width: '6.25rem' },
            { field: 'modificationTitle', alignment: 'left', width: '6.25rem' }
        ];
        this.updatesKeyMap.set('statusState', this.propertiesService.getValue('getFuncObjectStatusMap'));
        this.tableStatusUpdatesData = {
            componentId: 'ModificationFormComponent.historicPopup',
            tableCols: columns,
            tableRows: this.updateHistoricService.findBireModificationHistoric(modificationId),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableSelectionMode"].Multiple,
            globalFilter: false
        };
    };
    ModificationFormComponent.prototype.initAssetTableDataSource = function () {
        this.assetTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'assetPn', translateKey: this.getTranslateKey('assetPn') },
                { field: 'assetSn', translateKey: this.getTranslateKey('assetSn') },
                { field: 'assetActionType', translateKey: this.getTranslateKey('assetActionType') }
            ],
            data: []
        });
    };
    ModificationFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-modification-form',
            template: __webpack_require__(/*! ./modification-form.component.html */ "./src/app/main/engineering-management/modification-form/modification-form.component.html"),
            styles: [__webpack_require__(/*! ./modification-form.component.scss */ "./src/app/main/engineering-management/modification-form/modification-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_12__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_13__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_14__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_16__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_17__["TabService"],
            _modification_form_popups_modification_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_20__["ModificationAssetsPopupFormService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_15__["PropertiesService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_4__["DynamicAttributesService"],
            _modification_form_service__WEBPACK_IMPORTED_MODULE_21__["ModificationFormService"],
            _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_18__["UpdateHistoricService"],
            _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_3__["UpdateHistoricApi"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_11__["ConfirmationService"],
            _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureHistoryApi"]])
    ], ModificationFormComponent);
    return ModificationFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_19__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/modification-form/modification-form.service.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-form/modification-form.service.ts ***!
  \********************************************************************************************/
/*! exports provided: ModificationFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationFormService", function() { return ModificationFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/product-structure-history.api */ "./src/app/shared/api/product-structure-history.api.ts");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ModificationFormService = /** @class */ (function (_super) {
    __extends(ModificationFormService, _super);
    function ModificationFormService(http, appConfigService, productStructureManagementApi, productStructureHistoryApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.productStructureHistoryApi = productStructureHistoryApi;
        return _this;
    }
    ModificationFormService.prototype.findAllBireFamilys = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireFamilys);
    };
    // Assets
    ModificationFormService.prototype.findBireConcernedAssetsByModification = function (bireModificationDTO) {
        var bireModificationDTOId = {
            modificationType: bireModificationDTO.modificationType,
            modificationNumber: bireModificationDTO.modificationNumber,
            modificationRevisionNumber: bireModificationDTO.modificationRevisionNumber,
            familyCode: bireModificationDTO.familyCode,
            structureType: bireModificationDTO.structureType
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireConcernedAssetsByModification, bireModificationDTOId);
    };
    ModificationFormService.prototype.findBireModification = function (bireModificationDTOId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModification, bireModificationDTOId);
    };
    ModificationFormService.prototype.saveModification = function (bireModificationDTO, bireConcernedAssetDTOList, bireModificationAttributeDTO, isForupdate) {
        var saveModificationInput = {
            bireModificationDTO: bireModificationDTO,
            bireConcernedAssetDTOList: bireConcernedAssetDTOList,
            bireModificationAttributeDTO: bireModificationAttributeDTO,
            isForUpdate: !isForupdate
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.saveModification, saveModificationInput);
    };
    ModificationFormService.prototype.checkAndReturnNewRevisionNumberByModification = function (bireModificationDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.checkAndReturnNewRevisionNumberByModification, bireModificationDTO);
    };
    ModificationFormService.prototype.upgradeBireModification = function (bireModificationDTO, targetRevisionNumber) {
        var upgradeBireModificationInput = {
            bireModificationDTO: bireModificationDTO,
            targetRevisionNumber: targetRevisionNumber
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.upgradeBireModification, upgradeBireModificationInput);
    };
    ModificationFormService.prototype.findBireAttributesByCategory = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategory, category);
    };
    ModificationFormService.prototype.findBireModificationAttributesByItem = function (bireModificationDTO) {
        var bireModificationDTOId = {
            modificationType: bireModificationDTO.modificationType,
            modificationNumber: bireModificationDTO.modificationNumber,
            modificationRevisionNumber: bireModificationDTO.modificationRevisionNumber,
            familyCode: bireModificationDTO.familyCode,
            structureType: bireModificationDTO.structureType
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModificationAttributesByItem, bireModificationDTOId);
    };
    ModificationFormService.prototype.findHBireModificationAttributesByAttributeId = function (ids) {
        return _super.prototype.post.call(this, this.productStructureHistoryApi.findHBireModificationAttributesByAttributeId, ids);
    };
    ModificationFormService.prototype.validateDocumentUrl = function (documentUrl) {
        if (!documentUrl || (!!documentUrl && documentUrl.trim().length === 0)) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(true);
        }
        return _super.prototype.post.call(this, this.productStructureManagementApi.validateDocumentUrl, documentUrl);
    };
    ModificationFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_4__["ProductStructureManagementApi"],
            _shared_api_product_structure_history_api__WEBPACK_IMPORTED_MODULE_3__["ProductStructureHistoryApi"]])
    ], ModificationFormService);
    return ModificationFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.html":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.html ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".assetsManagement\" | translate }}</div>\r\n  </a-header>\r\n  <a-content>\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".assetPn\" | translate }}</label>\r\n      <div class=\"form-control\">\r\n        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newAsset.assetPn\" [disabled]=\"isReadOpenMode\" maxlength=\"50\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".assetSn\" | translate }}</label>\r\n      <div class=\"form-control\">\r\n        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"newAsset.assetSn\" [disabled]=\"isReadOpenMode\" maxlength=\"50\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".assetActionType\" | translate }}</label>\r\n      <div class=\"form-control\">\r\n        <p-dropdown\r\n          class=\"aw-dropdown fixed-width\"\r\n          [showClear]=\"true\"\r\n          placeholder=\"&nbsp;\"\r\n          [options]=\"instruction\"\r\n          [(ngModel)]=\"newAsset.assetActionType\"\r\n          [disabled]=\"isReadOpenMode\"\r\n          appendTo=\"body\"\r\n        ></p-dropdown>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n  <a-footer>\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n    <button *ngIf=\"!isReadOpenMode\" color=\"primary\" type=\"button\" mat-raised-button (click)=\"onSave()\">\r\n      <span>{{ \"global.validate\" | translate }}</span>\r\n    </button>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onCancel()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.ts":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.ts ***!
  \******************************************************************************************************************/
/*! exports provided: ModificationAssetsPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationAssetsPopupFormComponent", function() { return ModificationAssetsPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _modification_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modification-assets-popup-form.service */ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ModificationAssetsPopupFormComponent = /** @class */ (function (_super) {
    __extends(ModificationAssetsPopupFormComponent, _super);
    function ModificationAssetsPopupFormComponent(modificationAssetsPopupFormService, messageService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'ModificationFormComponent') || this;
        _this.modificationAssetsPopupFormService = modificationAssetsPopupFormService;
        _this.messageService = messageService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.contentTable = [];
        _this.selectedAssets = [];
        _this.newAsset = {};
        _this.loadActionType();
        return _this;
    }
    ModificationAssetsPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.object) {
            this.newAsset = this.componentData.object;
            this.updateOpenMode(this.componentData.openMode);
        }
    };
    ModificationAssetsPopupFormComponent.prototype.onCancel = function () {
        this.closeDialog();
    };
    ModificationAssetsPopupFormComponent.prototype.onSave = function () {
        if (!this.isReadOpenMode && this.isValidFields()) {
            this.onCreate.emit(this.newAsset);
            this.closeDialog();
        }
    };
    ModificationAssetsPopupFormComponent.prototype.loadActionType = function () {
        var _this = this;
        this.modificationAssetsPopupFormService.getAssetActionType().subscribe(function (results) {
            _this.instruction = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInstructions'));
        });
    };
    ModificationAssetsPopupFormComponent.prototype.isValidFields = function () {
        return (this.newAsset != undefined &&
            !(this.newAsset.assetPn == undefined &&
                this.newAsset.assetSn == undefined &&
                this.newAsset.assetActionType == undefined));
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ModificationAssetsPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ModificationAssetsPopupFormComponent.prototype, "onCreate", void 0);
    ModificationAssetsPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-modification-assets-popup-form',
            template: __webpack_require__(/*! ./modification-assets-popup-form.component.html */ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_modification_assets_popup_form_service__WEBPACK_IMPORTED_MODULE_4__["ModificationAssetsPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"]])
    ], ModificationAssetsPopupFormComponent);
    return ModificationAssetsPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.service.ts":
/*!****************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.service.ts ***!
  \****************************************************************************************************************/
/*! exports provided: ModificationAssetsPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationAssetsPopupFormService", function() { return ModificationAssetsPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ModificationAssetsPopupFormService = /** @class */ (function (_super) {
    __extends(ModificationAssetsPopupFormService, _super);
    function ModificationAssetsPopupFormService(http, appConfigService, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.propertiesService = propertiesService;
        return _this;
    }
    // Retrieve the instruction dropdownlist in the Asset dropdown list
    ModificationAssetsPopupFormService.prototype.getAssetActionType = function () {
        return this.propertiesService.getValue('getAssetActionTypeMap');
    };
    ModificationAssetsPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_3__["AppConfigService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_4__["PropertiesService"]])
    ], ModificationAssetsPopupFormService);
    return ModificationAssetsPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_2__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/modification-search/modification-search.component.html":
/*!****************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-search/modification-search.component.html ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"openNewModification()\" *ngIf=\"hasUpdateAccessRight\">\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <div class=\"column\">\r\n                <div class=\"row search-criteria-header\">\r\n                  <i\r\n                    class=\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\"\r\n                    aria-hidden=\"true\"\r\n                    pTooltip=\"{{ 'global.reset' | translate }}\"\r\n                    tooltipPosition=\"top\"\r\n                    (click)=\"resetSearchCriteria()\"\r\n                  ></i>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group flex--3\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".familyCode\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"familyCodeList\"\r\n                        [(ngModel)]=\"selectedFamily\"\r\n                        placeholder=\"&nbsp;\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        (onChange)=\"onChange($event.value)\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\">\r\n                      {{ componentData.componentId + \".modificationTypeLabel\" | translate }}\r\n                    </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationType\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\">\r\n                      {{ componentData.componentId + \".modificationNumberLabel\" | translate }}\r\n                    </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationNumber\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\">\r\n                      {{ componentData.componentId + \".modificationRevisionNumberLabel\" | translate }}\r\n                    </label>\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationRevisionNumber\" />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\">\r\n                      {{ componentData.componentId + \".modificationTitle\" | translate }}\r\n                    </label>\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationTitle\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row search-criteria-footer\">\r\n                  <div class=\"search-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      class=\"btn-with-spinner\"\r\n                      (click)=\"search()\"\r\n                      color=\"primary\"\r\n                      appKeyPress\r\n                      [keyCode]=\"'Enter'\"\r\n                      (keyPress)=\"search()\"\r\n                    >\r\n                      <span *ngIf=\"isLoading\" class=\"lds-hourglass\"></span>\r\n                      {{ \"global.toSearch\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{ resultsTableSource ? resultsTableSource.dataCount : 0 }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <a-table [dataSource]=\"resultsTableSource\">\r\n                <ng-template tableActionsDef>\r\n                  <button\r\n                    *ngIf=\"resultsTableSource && resultsTableSource.hasData && !resultsTableSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"exportTable()\"\r\n                  >\r\n                    {{ \"global.export\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"hasManageAccessRight && resultsTableSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    color=\"warn\"\r\n                    (click)=\"deleteSelectedModification()\"\r\n                  >\r\n                    {{ \"global.delete\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"resultsTableSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"openSelectedModification()\"\r\n                  >\r\n                    {{ \"global.open\" | translate }}\r\n                  </button>\r\n                </ng-template>\r\n                <ng-template columnDef=\"modificationNumber\" let-rowData=\"rowData\">\r\n                  <a (click)=\"openModification(rowData)\"> {{ rowData.modificationNumber }} </a>\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/modification-search/modification-search.component.scss":
/*!****************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-search/modification-search.component.scss ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .criteria-checkboxes,\n:host .form-group {\n  margin-right: 20px;\n  max-width: 15rem;\n  min-width: 10rem;\n  width: 20%; }\n  :host .criteria-checkboxes:last-of-type,\n  :host .form-group:last-of-type {\n    margin-right: 0; }\n  :host .panel-search-footer .page-search-button {\n  display: flex;\n  flex-direction: column; }\n  :host .panel-search-footer .page-search-button button {\n    margin-right: 0px; }\n  :host .search-criteria-primary {\n  justify-content: flex-start; }\n  :host .search-criteria-primary .criteria-checkboxes {\n    display: flex;\n    flex-direction: column; }\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:first-of-type {\n      margin-top: 30px; }\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:nth-of-type(2) {\n      margin-top: 5px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21vZGlmaWNhdGlvbi1zZWFyY2gvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcbW9kaWZpY2F0aW9uLXNlYXJjaFxcbW9kaWZpY2F0aW9uLXNlYXJjaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFHSSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixVQUFVLEVBQUE7RUFOZDs7SUFRTSxlQUFlLEVBQUE7RUFSckI7RUFhTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFkNUI7SUFnQlEsaUJBQWlCLEVBQUE7RUFoQnpCO0VBcUJJLDJCQUEyQixFQUFBO0VBckIvQjtJQXVCTSxhQUFhO0lBQ2Isc0JBQXNCLEVBQUE7RUF4QjVCO01BMEJRLGdCQUFnQixFQUFBO0VBMUJ4QjtNQTZCUSxlQUFlLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvbW9kaWZpY2F0aW9uLXNlYXJjaC9tb2RpZmljYXRpb24tc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC5jcml0ZXJpYS1jaGVja2JveGVzLFxyXG4gIC5mb3JtLWdyb3VwIHtcclxuICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgIG1heC13aWR0aDogMTVyZW07XHJcbiAgICBtaW4td2lkdGg6IDEwcmVtO1xyXG4gICAgd2lkdGg6IDIwJTtcclxuICAgICY6bGFzdC1vZi10eXBlIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xyXG4gICAgfVxyXG4gIH1cclxuICAucGFuZWwtc2VhcmNoLWZvb3RlciB7XHJcbiAgICAucGFnZS1zZWFyY2gtYnV0dG9uIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgYnV0dG9uIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDBweDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAuc2VhcmNoLWNyaXRlcmlhLXByaW1hcnkge1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG4gICAgLmNyaXRlcmlhLWNoZWNrYm94ZXMge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICBwLWNoZWNrYm94OmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgIH1cclxuICAgICAgcC1jaGVja2JveDpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/main/engineering-management/modification-search/modification-search.component.ts":
/*!**************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-search/modification-search.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: ModificationSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationSearchComponent", function() { return ModificationSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _modification_search_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modification-search.service */ "./src/app/main/engineering-management/modification-search/modification-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ModificationSearchComponent = /** @class */ (function (_super) {
    __extends(ModificationSearchComponent, _super);
    function ModificationSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, modificationSearchService, confirmationService, exportService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.modificationSearchService = modificationSearchService;
        _this.confirmationService = confirmationService;
        _this.exportService = exportService;
        _this.resultsTableExportName = 'modification-search-list';
        _this.filteredRowsNb = 0;
        _this.searchObject = {};
        _this.searchObject = { familyCode: undefined };
        _this.isLoading = false;
        _this.initResultsTableDataSource();
        return _this;
    }
    ModificationSearchComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__["ComponentConstants"].ENG_MODIFICATION_SEARCH;
    };
    ModificationSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
        this.loadDropDownList();
    };
    ModificationSearchComponent.prototype.loadDropDownList = function () {
        var _this = this;
        this.modificationSearchService.findBireFamily().subscribe(function (results) {
            _this.selectedFamily = undefined;
            _this.familyCodeList = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetBireFamily'));
        });
    };
    ModificationSearchComponent.prototype.resetSearchCriteria = function () {
        this.searchObject = {};
        this.selectedFamily = undefined;
    };
    ModificationSearchComponent.prototype.openNewModification = function () {
        this.openModificationForm(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Create);
    };
    ModificationSearchComponent.prototype.openModification = function (modification) {
        if (modification && modification.familyCode) {
            var selectedObjectId = {
                familyCode: modification.familyCode,
                structureType: modification.structureType,
                modificationType: modification.modificationType,
                modificationNumber: modification.modificationNumber,
                modificationRevisionNumber: modification.modificationRevisionNumber
            };
            this.openModificationForm(selectedObjectId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Read);
        }
    };
    /* Open modification form for selected rows */
    ModificationSearchComponent.prototype.openSelectedModification = function () {
        var _this = this;
        this.resultsTableSource.dataSelection.forEach(function (modification) {
            if (modification && modification.familyCode) {
                var selectedObjectId = {
                    familyCode: modification.familyCode,
                    structureType: modification.structureType,
                    modificationType: modification.modificationType,
                    modificationNumber: modification.modificationNumber,
                    modificationRevisionNumber: modification.modificationRevisionNumber
                };
                _this.openModificationForm(selectedObjectId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Read);
            }
        });
    };
    /* Delete selected modification */
    ModificationSearchComponent.prototype.deleteSelectedModification = function () {
        var _this = this;
        if (this.resultsTableSource.hasDataSelection) {
            var partialMessageKey = this.resultsTableSource.dataSelectionCount === 1
                ? 'confirmDeleteSelectedModification'
                : 'confirmDeleteSelectedModifications';
            this.confirmationService.confirmDelete({
                messageKey: this.getTranslateKey(partialMessageKey),
                accept: function () {
                    var selectedBireModificationDTOId = _this.resultsTableSource.dataSelection
                        .filter(function (modification) { return modification && modification.familyCode; })
                        .map(function (modification) {
                        return {
                            modificationType: modification.modificationType,
                            modificationNumber: modification.modificationNumber,
                            modificationRevisionNumber: modification.modificationRevisionNumber,
                            familyCode: modification.familyCode,
                            structureType: modification.structureType
                        };
                    });
                    _this.modificationSearchService.removeBireModification(selectedBireModificationDTOId).subscribe(function (result) {
                        _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnDeleteModification'));
                    }, function () {
                        _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeleteEvolution'));
                    });
                    _this.refreshTable();
                }
            });
        }
    };
    /* Refresh table */
    ModificationSearchComponent.prototype.refreshTable = function () {
        this.resultsTableSource.deleteData(this.resultsTableSource.dataSelection);
        this.resultsTableSource.dataSelection = [];
        this.filteredRowsNb = this.resultsTableSource.dataCount;
    };
    ModificationSearchComponent.prototype.resetResultsTable = function (table) {
        table.reset();
        table.filters = {};
    };
    /* Search modification */
    ModificationSearchComponent.prototype.search = function () {
        this.resultsTableSource.setData([]);
        this.loadModifications();
    };
    ModificationSearchComponent.prototype.loadModifications = function () {
        var _this = this;
        this.isLoading = true;
        this.modificationSearchService.searchModificationList(this.searchObject).subscribe(function (results) {
            _this.isLoading = false;
            if (results) {
                _this.resultsTableSource.setData(results.list);
                _this.filteredRowsNb = _this.resultsTableSource.dataCount;
            }
        }, function () {
            _this.isLoading = false;
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetModificationResults'));
        });
    };
    ModificationSearchComponent.prototype.onChange = function (event) {
        if (!!event) {
            var familys = event.split('-');
            this.searchObject.familyCode = familys[0];
            this.searchObject.structureType = familys[1];
        }
        else {
            this.searchObject.familyCode = undefined;
            this.searchObject.structureType = undefined;
        }
    };
    // tslint:disable-next-line:no-any
    ModificationSearchComponent.prototype.onFilter = function (event) {
        this.filteredRowsNb = event.filteredValue.length;
    };
    ModificationSearchComponent.prototype.openModificationForm = function (objectId, openMode) {
        var labelKey = 'transaction.ModificationFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__["ComponentConstants"].ENG_MODIFICATION_FORM,
            objectId: objectId ? this.serializationService.serialize(objectId) : undefined,
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    ModificationSearchComponent.prototype.exportTable = function () {
        if (!!this.componentData) {
            var tableList = this.resultsTableSource.dataSrc.map(function (modRow) {
                var row = {
                    familyCode: modRow.familyCode,
                    structureType: modRow.structureType,
                    modificationType: modRow.modificationType,
                    modificationNumber: modRow.modificationNumber,
                    modRevisionNumber: modRow.modificationRevisionNumber,
                    modificationDocumentUrl: modRow.modificationDocumentUrl,
                    modificationTitle: modRow.modificationTitle
                };
                return row;
            });
            this.exportService.toExcel(tableList, this.resultsTableExportName, this.componentData.componentId);
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'exportTable', 'this.componentData');
        }
    };
    ModificationSearchComponent.prototype.initResultsTableDataSource = function () {
        this.resultsTableSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'familyCode', translateKey: this.getTranslateKey('familyCode'), width: '15%' },
                { field: 'structureType', translateKey: this.getTranslateKey('structureType'), width: '10%' },
                { field: 'modificationType', translateKey: this.getTranslateKey('modificationType'), width: '15%' },
                { field: 'modificationNumber', translateKey: this.getTranslateKey('modificationNumber'), width: '15%' },
                {
                    field: 'modificationRevisionNumber',
                    translateKey: this.getTranslateKey('modificationRevisionNumber'),
                    width: '13%'
                },
                {
                    field: 'modificationDocumentUrl',
                    translateKey: this.getTranslateKey('modificationDocumentUrl'),
                    width: '18%'
                },
                { field: 'modificationTitle', translateKey: this.getTranslateKey('modificationTitle'), width: '15%' }
            ],
            data: []
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('resultsContainerAnchor'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], ModificationSearchComponent.prototype, "resultsContainerAnchor", void 0);
    ModificationSearchComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-modification-search',
            template: __webpack_require__(/*! ./modification-search.component.html */ "./src/app/main/engineering-management/modification-search/modification-search.component.html"),
            styles: [__webpack_require__(/*! ./modification-search.component.scss */ "./src/app/main/engineering-management/modification-search/modification-search.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_6__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_7__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_8__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_9__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_10__["TabService"],
            _modification_search_service__WEBPACK_IMPORTED_MODULE_12__["ModificationSearchService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_4__["ConfirmationService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_5__["ExportService"]])
    ], ModificationSearchComponent);
    return ModificationSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_11__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/modification-search/modification-search.service.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/modification-search/modification-search.service.ts ***!
  \************************************************************************************************/
/*! exports provided: ModificationSearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModificationSearchService", function() { return ModificationSearchService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ModificationSearchService = /** @class */ (function (_super) {
    __extends(ModificationSearchService, _super);
    function ModificationSearchService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    ModificationSearchService.prototype.findBireFamily = function () {
        var familyVariantInput = {
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireFamily, familyVariantInput);
    };
    ModificationSearchService.prototype.removeBireModification = function (bireModificationDTOId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.removeBireModification, bireModificationDTOId);
    };
    ModificationSearchService.prototype.searchModificationList = function (bireModificationDTO) {
        var findBireModificationsByModificationPKAndDesignationInput = {};
        findBireModificationsByModificationPKAndDesignationInput = {
            bireModificationDTO: bireModificationDTO,
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModificationsByModificationPKAndDesignation, findBireModificationsByModificationPKAndDesignationInput);
    };
    ModificationSearchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_5__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], ModificationSearchService);
    return ModificationSearchService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/part-number-form/part-number-form.component.html":
/*!**********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-form/part-number-form.component.html ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div #page *ngIf=\"loadedWorkflow\">\r\n  <div class=\"page-header\">\r\n    <div class=\"page-info\">\r\n      <div>\r\n        <h2 class=\"page-title\">\r\n          {{ \"transaction.\" + componentData.componentId | translate }}\r\n        </h2>\r\n\r\n        <div class=\"page-subtitle\">\r\n          <div *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\" class=\"page-subtitle\">\r\n            - {{ subtitle }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <div class=\"object-status\" *ngIf=\"pn.statusState\" (click)=\"showStatus()\">\r\n          {{ pn.statusState | formatSelectOption: workflowStatus }}\r\n        </div>\r\n\r\n        <div class=\"object-is-incomplete\" *ngIf=\"pn.incompletePartForSupply && !isCreateOpenMode\">\r\n          {{ componentData.componentId + \".pnIsIncomplete\" | translate }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"page-actions\">\r\n      <button mat-raised-button (click)=\"edit()\" *ngIf=\"isReadOpenMode && !isCreateOpenMode\">\r\n        {{ \"global.edit\" | translate }}\r\n      </button>\r\n\r\n      <button\r\n        *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n        type=\"button\"\r\n        color=\"warn\"\r\n        mat-raised-button\r\n        (click)=\"cancel()\"\r\n      >\r\n        {{ \"global.cancel\" | translate }}\r\n      </button>\r\n\r\n      <button mat-raised-button color=\"primary\" class=\"btn-with-spinner\" (click)=\"savePnData()\" *ngIf=\"!isReadOpenMode\">\r\n        <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n        {{ \"global.save\" | translate }}\r\n      </button>\r\n\r\n      <button\r\n        mat-icon-button\r\n        class=\"mat-elevation-z1\"\r\n        matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n        matTooltipPosition=\"above\"\r\n        aria-label=\"Show all actions\"\r\n        [matMenuTriggerFor]=\"actions\"\r\n      >\r\n        <mat-icon>more_horiz</mat-icon>\r\n      </button>\r\n      <mat-menu #actions=\"matMenu\">\r\n        <button mat-menu-item (click)=\"showCreateProcurementDialog()\" *ngIf=\"isReadOpenMode && !isCreateOpenMode\">\r\n          {{ \"createProcurementRequest\" | translate }}\r\n        </button>\r\n        <button mat-menu-item [matMenuTriggerFor]=\"navigations\">{{ \"goTo\" | translate }}</button>\r\n        <button mat-menu-item (click)=\"openStatusUpdatesPopup()\">{{ \"updates\" | translate }}</button>\r\n        <button mat-menu-item (click)=\"refresh()\">{{ \"global.refresh\" | translate }}</button>\r\n        <button mat-menu-item (click)=\"updateFavoriteState()\">\r\n          {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n        </button>\r\n      </mat-menu>\r\n      <mat-menu #navigations=\"matMenu\">\r\n        <button mat-menu-item (click)=\"openLogisticView()\">\r\n          {{ getComponentName() + \".logisticView\" | translate }}\r\n        </button>\r\n      </mat-menu>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-wrapper\">\r\n    <div class=\"page-container\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"mainPanel\" class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ \"page.mainData\" | translate }}\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <div class=\"row\">\r\n                      <div id=\"pnCode\" class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".pn\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"pn.pnCode\"\r\n                            [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"pnType\" class=\"form-group\">\r\n                        <label class=\"form-label\"> {{ componentData.componentId + \".type\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"pnTypes\"\r\n                            [(ngModel)]=\"pn.pnType\"\r\n                            [showClear]=\"false\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"otanPnReference\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".otanPnReference\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"pn.otanPnReference\"\r\n                            maxlength=\"20\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"manufacturerOtanCode\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".manufacturerOtanCode\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"pn.manufacturerOtanCode\"\r\n                            maxlength=\"5\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div id=\"quantityUnit\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".quantityUnit\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"quantityUnit\"\r\n                            [(ngModel)]=\"pn.quantityUnit\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"traceability\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".traceability\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertyTraceability\"\r\n                            [(ngModel)]=\"pn.traceability\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"isPma\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".isPMA\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-checkbox\r\n                            class=\"aw-checkbox\"\r\n                            binary=\"true\"\r\n                            [(ngModel)]=\"pn.isPma\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-checkbox>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"fromReparationSolution\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".repairSolution\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-checkbox\r\n                            class=\"aw-checkbox\"\r\n                            binary=\"true\"\r\n                            [(ngModel)]=\"pn.fromReparationSolution\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-checkbox>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div id=\"articleDesignation\" class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ \"designation\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"3\"\r\n                            [(ngModel)]=\"pn.articleDesignation\"\r\n                            pInputTextarea\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"additionalText\" class=\"form-group \">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".additionalText\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"3\"\r\n                            [(ngModel)]=\"pn.additionalText\"\r\n                            pInputTextarea\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".sparePartClass\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [(ngModel)]=\"pn.sparePartClassCode\"\r\n                            [options]=\"sparePartClassOptions\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [showClear]=\"true\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"generalPanel\" class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".furtherInformation\" | translate }}\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"row\">\r\n                    <div id=\"mtbf\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".mtbf\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input inputs-with-unit\"\r\n                          [(ngModel)]=\"pn.mtbf\"\r\n                          maxlength=\"15\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                        <span class=\"units\">{{ mtbfAndMtburUnit }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"mtbur\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".mtbur\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input inputs-with-unit\"\r\n                          [(ngModel)]=\"pn.mtbur\"\r\n                          maxlength=\"15\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                        <span class=\"units\">{{ mtbfAndMtburUnit }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"unpackedHeight\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".unpackedHeight\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input inputs-with-unit\"\r\n                          [(ngModel)]=\"pn.unpackedHeight\"\r\n                          maxlength=\"15\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                        <span class=\"units\">{{ measurementsUnit }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"unpackedLength\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".unpackedLength\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input inputs-with-unit\"\r\n                          [(ngModel)]=\"pn.unpackedLength\"\r\n                          maxlength=\"15\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                        <span class=\"units\">{{ measurementsUnit }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"unpackedWidth\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".unpackedWidth\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input inputs-with-unit\"\r\n                          [(ngModel)]=\"pn.unpackedWidth\"\r\n                          maxlength=\"15\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                        <span class=\"units\">{{ measurementsUnit }}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"netWeight\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".netWeight\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input inputs-with-unit\"\r\n                          [(ngModel)]=\"pn.netWeight\"\r\n                          maxlength=\"15\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                        <span class=\"units\">{{ weightUnit }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"rmpPanel\" class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".maintenanceProgramsAssociated\" | translate }}\r\n                      ({{ bireProgramsDisplayed ? bireProgramsDisplayed.length : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <ul>\r\n                    <li *ngFor=\"let bireProgram of bireProgramsDisplayed\">\r\n                      {{ bireProgram.programName }}\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ componentData.componentId + \".tabNatoCodes\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div id=\"natoPanel\" class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".panelNatoCodes\" | translate }}\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <div id=\"pnCode1\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".pn1\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.pnCode1\"\r\n                          maxlength=\"20\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"pnCode2\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".pn2\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.pnCode2\"\r\n                          maxlength=\"20\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"pnCode3\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".pn3\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.pnCode3\"\r\n                          maxlength=\"20\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"pnCode4\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".pn4\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.pnCode4\"\r\n                          maxlength=\"20\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"pnCode5\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".pn5\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.pnCode5\"\r\n                          maxlength=\"20\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"pnCode6\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{ componentData.componentId + \".pn6\" | translate }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.pnCode6\"\r\n                          maxlength=\"20\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"column\">\r\n                    <div id=\"manufacturerOtanCode1\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".manufacturerOtanCode1\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.manufacturerOtanCode1\"\r\n                          maxlength=\"5\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"manufacturerOtanCode2\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".manufacturerOtanCode2\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.manufacturerOtanCode2\"\r\n                          maxlength=\"5\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"manufacturerOtanCode3\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".manufacturerOtanCode3\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.manufacturerOtanCode3\"\r\n                          maxlength=\"5\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"manufacturerOtanCode4\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".manufacturerOtanCode4\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.manufacturerOtanCode4\"\r\n                          maxlength=\"5\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"manufacturerOtanCode5\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".manufacturerOtanCode5\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.manufacturerOtanCode5\"\r\n                          maxlength=\"5\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div id=\"manufacturerOtanCode6\" class=\"form-group\">\r\n                      <label class=\"form-label\">{{\r\n                        componentData.componentId + \".manufacturerOtanCode6\" | translate\r\n                      }}</label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"pn.manufacturerOtanCode6\"\r\n                          maxlength=\"5\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"referenceMeasurements\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"referencePanel\" class=\"grid-cell--12\">\r\n              <div #referenceAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 id=\"bireRefMeasurementsTableTitle\" class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".tabReferenceMeasurements\" | translate }}\r\n                      ({{ referenceMeasurementsTableDataSource ? referenceMeasurementsTableDataSource.dataCount : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table id=\"bireRefMeasurementsTable\" [dataSource]=\"referenceMeasurementsTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        id=\"deleteReferenceMeasurements\"\r\n                        *ngIf=\"\r\n                          !isReadOpenMode &&\r\n                          referenceMeasurementsTableDataSource &&\r\n                          referenceMeasurementsTableDataSource.hasDataSelection\r\n                        \"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"confirmDeleteReferenceMeasurements()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        id=\"editReferenceMeasurements\"\r\n                        *ngIf=\"\r\n                          !isReadOpenMode &&\r\n                          referenceMeasurementsTableDataSource &&\r\n                          referenceMeasurementsTableDataSource.dataSelectionCount === 1\r\n                        \"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"editReferenceMeasurements()\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        id=\"openReferenceMeasurements\"\r\n                        *ngIf=\"referenceMeasurementsTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"openReferenceMeasurements()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        id=\"createReferenceMeasurements\"\r\n                        *ngIf=\"\r\n                          !isReadOpenMode &&\r\n                          referenceMeasurementsTableDataSource &&\r\n                          !referenceMeasurementsTableDataSource.hasDataSelection\r\n                        \"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"createReferenceMeasurements()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n\r\n                    <ng-template columnDef=\"pnPotentialLimitDate\" let-rowData=\"rowData\">\r\n                      {{ rowData.pnPotentialLimitDate | date: \"shortDate\":\"\":translateService.currentLang }}\r\n                    </ng-template>\r\n\r\n                    <ng-template columnDef=\"limitIsUpdatable\" let-rowData=\"rowData\">\r\n                      <i\r\n                        *ngIf=\"rowData.limitIsUpdatable !== null && rowData.limitIsUpdatable\"\r\n                        class=\"fa fa-fw fa-check\"\r\n                        aria-hidden=\"true\"\r\n                      ></i>\r\n                    </ng-template>\r\n\r\n                    <ng-template columnDef=\"valueResettable\" let-rowData=\"rowData\">\r\n                      <i\r\n                        *ngIf=\"rowData.valueResettable !== null && rowData.valueResettable\"\r\n                        class=\"fa fa-fw fa-check\"\r\n                        aria-hidden=\"true\"\r\n                      ></i>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"items\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"itemsPanel\" class=\"grid-cell--12\">\r\n              <div #itemsAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 id=\"itemsTableTitle\" class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".tabItems\" | translate }}\r\n                      ({{ itemsTableDataSource ? itemsTableDataSource.dataCount : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table id=\"itemsTable\" [dataSource]=\"itemsTableDataSource\">\r\n                    <ng-template columnDef=\"ataCode\" let-rowData=\"rowData\">\r\n                      <a (click)=\"openPartNumberScreen(rowData)\">\r\n                        {{\r\n                          rowData[\"chapter\"] +\r\n                            \"-\" +\r\n                            rowData[\"section\"] +\r\n                            \"-\" +\r\n                            rowData[\"subject\"] +\r\n                            \"-\" +\r\n                            rowData[\"sheet\"] +\r\n                            \"-\" +\r\n                            rowData[\"marks\"]\r\n                        }}\r\n                      </a>\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"ippeNodeType\" let-rowData=\"rowData\">\r\n                      <span pTooltip=\"{{ rowData.ippeNodeType }}\" tooltipPosition=\"bottom\">\r\n                        {{ rowData.ippeNodeType }}</span\r\n                      >\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"name\" let-rowData=\"rowData\">\r\n                      <span pTooltip=\"{{ rowData.name }}\" tooltipPosition=\"bottom\"> {{ rowData.name }}</span>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"evolution\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"evolutionsPanel\" class=\"grid-cell--12\">\r\n              <div #evolutionsAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".evolutionAssociated\" | translate }}\r\n                      ({{ evolutionsTableDataSource ? evolutionsTableDataSource.dataCount : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <div id=\"evolutionAssociated\" class=\"section\">\r\n                    <div class=\"section-content\">\r\n                      <a-table id=\"evolutionAssociatedTable\" [dataSource]=\"evolutionsTableDataSource\">\r\n                        <ng-template columnDef=\"evolutionNumber\" let-rowData=\"rowData\">\r\n                          <a (click)=\"openEvolution(rowData)\">\r\n                            {{ rowData[\"evolutionNumber\"] }}\r\n                          </a>\r\n                        </ng-template>\r\n                        <ng-template columnDef=\"item\" let-rowData=\"rowData\">\r\n                          <a (click)=\"openPartNumberScreen(rowData)\">\r\n                            {{\r\n                              rowData[\"chapter\"] +\r\n                                \"-\" +\r\n                                rowData[\"section\"] +\r\n                                \"-\" +\r\n                                rowData[\"subject\"] +\r\n                                \"-\" +\r\n                                rowData[\"sheet\"] +\r\n                                \"-\" +\r\n                                rowData[\"marks\"]\r\n                            }}\r\n                          </a>\r\n                        </ng-template>\r\n                      </a-table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-row\">\r\n              <div id=\"evolutionsPanel\" class=\"grid-cell--12\">\r\n                <div #evolutionsAnchor class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 class=\"grid-cell-title\">\r\n                        {{ componentData.componentId + \".evolutionImpact\" | translate }}\r\n                        ({{ evolutionImpactsTableDataSource ? evolutionImpactsTableDataSource.dataCount : 0 }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"section-content\">\r\n                    <a-table id=\"evolutionAssociatedTable\" [dataSource]=\"evolutionImpactsTableDataSource\">\r\n                      <ng-template columnDef=\"evolutionNumber\" let-rowData=\"rowData\">\r\n                        <a (click)=\"openEvolution(rowData)\">\r\n                          {{ rowData[\"evolutionNumber\"] }}\r\n                        </a>\r\n                      </ng-template>\r\n                      <ng-template columnDef=\"item\" let-rowData=\"rowData\">\r\n                        <a (click)=\"openPartNumberScreen(rowData)\">\r\n                          {{\r\n                            rowData[\"chapter\"] +\r\n                              \"-\" +\r\n                              rowData[\"section\"] +\r\n                              \"-\" +\r\n                              rowData[\"subject\"] +\r\n                              \"-\" +\r\n                              rowData[\"sheet\"] +\r\n                              \"-\" +\r\n                              rowData[\"marks\"]\r\n                          }}\r\n                        </a>\r\n                      </ng-template>\r\n                    </a-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"documents\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"documentsPanel\" class=\"grid-cell--12\">\r\n              <div #documentsAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ getComponentName() + \".documents\" | translate }} ({{\r\n                        documentsTableDataSource.hasData ? documentsTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"documentsTableDataSource\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && documentsTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        color=\"warn\"\r\n                        (click)=\"deleteDocuments()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && documentsTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"editDocument()\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"documentsTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"openDocument()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && !documentsTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"addDocument()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"docName\" let-rowData=\"rowData\">\r\n                      <a (click)=\"downloadFile(rowData)\">{{ rowData.docName }}</a>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab *ngIf=\"dynamicAttributes && dynamicAttributes.length > 0\">\r\n          <ng-template mat-tab-label>\r\n            {{ \"attributes\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"attributesPanel\" class=\"grid-cell--12\">\r\n              <div #attributesAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".tabAttributes\" | translate }}\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <aw-dynamic-attributes\r\n                    id=\"dynamicAttributes\"\r\n                    [attributes]=\"dynamicAttributes\"\r\n                    [workflowControls]=\"userWorkflow ? userWorkflow.listControlByIdentifier : []\"\r\n                    [isReadOpenMode]=\"isReadOpenMode\"\r\n                  ></aw-dynamic-attributes>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <!-- DEA/DIA -->\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"DEA/DIA\" }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"dEADIAPanel\" class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ getComponentName() + \".guideline\" | translate }} ({{\r\n                        guidelineTableDataSource.hasData ? guidelineTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"guidelineTableDataSource\" (onRowSelect)=\"loadEnableDeleteButton()\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && enableAddButton && isCreatorAndIsFirstAdd\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"addGuidelines()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && enableDeleteButton && guidelineTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"deleteGuideline()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n                    <ng-template columnDef=\"reference\" let-rowData=\"rowData\">\r\n                      <a (click)=\"editGuidelines(rowData)\">{{ rowData.reference }}</a>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n\r\n      <aw-ref-measurements-popup-form\r\n        *ngIf=\"showMeasurementPopup\"\r\n        [(display)]=\"showMeasurementPopup\"\r\n        [component-data]=\"dataRefMeasurements\"\r\n        [openMode]=\"refMeasurementDialogOpenMode\"\r\n        (onCreate)=\"addNewReferenceMeasurements($event)\"\r\n        (onUpdate)=\"updateReferenceMeasurements($event)\"\r\n        [isNewRef]=\"isNewRef\"\r\n      ></aw-ref-measurements-popup-form>\r\n      <aw-status-update-history\r\n        *ngIf=\"showStatusUpdatesPopup\"\r\n        [object]=\"pnStatus\"\r\n        [data]=\"tableStatusUpdatesData\"\r\n        [deleteApi]=\"deleteApi\"\r\n        [isStatusEditable]=\"false\"\r\n        [(display)]=\"showStatusUpdatesPopup\"\r\n        [keyMap]=\"updatesKeyMap\"\r\n        (onUpdated)=\"updateObjectStatusFromStatusUpdatesHistory($event)\"\r\n      ></aw-status-update-history>\r\n      <aw-dialog-bire-document\r\n        *ngIf=\"showAddDocumentDialog\"\r\n        [document]=\"\r\n          documentsTableDataSource.dataSelectionCount === 1 ? documentsTableDataSource.dataSelection[0]._obj : undefined\r\n        \"\r\n        [(display)]=\"showAddDocumentDialog\"\r\n        [isReadOnlyForm]=\"isReadOnlyDocumentDialog\"\r\n        (onValidated)=\"onAddDocument($event)\"\r\n      ></aw-dialog-bire-document>\r\n\r\n      <aw-procurement-request-popup\r\n        *ngIf=\"createProcurementDialogVisible\"\r\n        [(display)]=\"createProcurementDialogVisible\"\r\n        [pn]=\"pn\"\r\n        (onValidate)=\"onCreateProcurementRequest($event)\"\r\n      >\r\n      </aw-procurement-request-popup>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/part-number-form/part-number-form.component.scss":
/*!**********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-form/part-number-form.component.scss ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .section-margin {\n  margin-top: 30px; }\n\n:host .object-is-incomplete {\n  border: 1px solid transparent;\n  font-style: italic;\n  justify-content: center;\n  font-size: 1.125rem;\n  background-color: gold;\n  color: black;\n  border-radius: 16px;\n  padding: 4px 32px;\n  margin-top: 8px;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  font-weight: 600;\n  display: inline-block;\n  margin-left: 10px; }\n\n:host .object-is-incomplete.disabled {\n    cursor: auto; }\n\n:host .inputs-with-unit {\n  width: 85% !important; }\n\n:host .units {\n  width: 15%;\n  padding-top: 1em;\n  float: right; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3BhcnQtbnVtYmVyLWZvcm0vRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxccGFydC1udW1iZXItZm9ybVxccGFydC1udW1iZXItZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUVJLGdCQUFnQixFQUFBOztBQUZwQjtFQU1JLDZCQUE2QjtFQUM3QixrQkFBa0I7RUFDbEIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIsZUFBZTtFQUNmLDBCQUFrQjtFQUFsQix1QkFBa0I7RUFBbEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsaUJBQWlCLEVBQUE7O0FBbEJyQjtJQXFCTSxZQUFZLEVBQUE7O0FBckJsQjtFQTBCSSxxQkFBcUIsRUFBQTs7QUExQnpCO0VBOEJJLFVBQVU7RUFDVixnQkFBZ0I7RUFDaEIsWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3BhcnQtbnVtYmVyLWZvcm0vcGFydC1udW1iZXItZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjpob3N0IHtcclxuICAuc2VjdGlvbi1tYXJnaW4ge1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxuICB9XHJcblxyXG4gIC5vYmplY3QtaXMtaW5jb21wbGV0ZSB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAxLjEyNXJlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGdvbGQ7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xyXG4gICAgcGFkZGluZzogNHB4IDMycHg7XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcblxyXG4gICAgJi5kaXNhYmxlZCB7XHJcbiAgICAgIGN1cnNvcjogYXV0bztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5pbnB1dHMtd2l0aC11bml0IHtcclxuICAgIHdpZHRoOiA4NSUgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC51bml0cyB7XHJcbiAgICB3aWR0aDogMTUlO1xyXG4gICAgcGFkZGluZy10b3A6IDFlbTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/part-number-form/part-number-form.component.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-form/part-number-form.component.ts ***!
  \********************************************************************************************/
/*! exports provided: PartNumberFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartNumberFormComponent", function() { return PartNumberFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _modules_purchase_contract_utils_table_data_source_with_history__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../modules/purchase-contract/utils/table-data-source-with-history */ "./src/app/modules/purchase-contract/utils/table-data-source-with-history.ts");
/* harmony import */ var _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/api/update-historic.api */ "./src/app/shared/api/update-historic.api.ts");
/* harmony import */ var _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/components/component-sidebar/page-toc.service */ "./src/app/shared/components/component-sidebar/page-toc.service.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../shared/services/update-historic.service */ "./src/app/shared/services/update-historic.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
/* harmony import */ var _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../shared/utils/string-utils */ "./src/app/shared/utils/string-utils.ts");
/* harmony import */ var _shared_utils_workflow_utils__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../shared/utils/workflow-utils */ "./src/app/shared/utils/workflow-utils.ts");
/* harmony import */ var _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../object-status/object-status.component */ "./src/app/main/object-status/object-status.component.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _part_number_form_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./part-number-form.service */ "./src/app/main/engineering-management/part-number-form/part-number-form.service.ts");
/* harmony import */ var _popups_ref_measurements_popup_form_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./popups/ref-measurements-popup-form.service */ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};




































var PartNumberFormComponent = /** @class */ (function (_super) {
    __extends(PartNumberFormComponent, _super);
    function PartNumberFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, pageTocService, pnFormService, confirmationService, translateService, dynamicAttributesService, propertiesService, popupServiceRefMeasurements, updateHistoricService, updateHistoricApi, dateService, _overlayService, _formatSelectOption, sessionService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService, pageTocService) || this;
        _this.pnFormService = pnFormService;
        _this.confirmationService = confirmationService;
        _this.translateService = translateService;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.propertiesService = propertiesService;
        _this.popupServiceRefMeasurements = popupServiceRefMeasurements;
        _this.updateHistoricService = updateHistoricService;
        _this.updateHistoricApi = updateHistoricApi;
        _this.dateService = dateService;
        _this._overlayService = _overlayService;
        _this._formatSelectOption = _formatSelectOption;
        _this.sessionService = sessionService;
        _this.component = PartNumberFormComponent_1;
        _this.refMeasurementDialogOpenMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Create;
        _this.showMeasurementPopup = false;
        _this.tabReferenceMeasurementsId = 'referenceMeasurements';
        _this.tabItemsId = 'items';
        _this.tabAttributesId = 'attributes';
        _this.tabEvolutionId = 'evolution';
        _this.tabDEADIAId = 'DEA/DIA';
        _this.familyCode = '';
        _this.structureType = '';
        _this.isForUpdate = true;
        _this.isCreatorAndIsFirstAdd = true;
        _this.mtbfAndMtburUnit = '(H)';
        _this.measurementsUnit = '(Cm)';
        _this.weightUnit = '(Kg)';
        _this.attributeIdValueMap = new Map();
        _this.bireAttributesForPn = [];
        _this.birePnAttributes = [];
        _this.actionTypeA = [];
        _this.actionTypeB = [];
        // this.getBireAttributesForEvolution();
        _this.bireRefMeasurementsAddedList = [];
        _this.bireRefMeasurementsDeletedList = [];
        _this.bireRefMeasurementsUpdatedList = [];
        _this.bireProgramsDisplayed = [];
        _this.selectedMaintenancePrograms = [];
        _this.pn = {};
        _this.pn.pnType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].PN_TYPE_PART_KEY;
        _this.currentTabId = _this.tabGeneralId;
        _this.familyVariantMap = new Map();
        _this.setNavigationLinkList();
        _this.initLists();
        _this.registerPageTocEntryObservable();
        _this.propertyActionType = [];
        _this.propertyStructureType = [];
        // For status/updates popup
        _this.showStatusUpdatesPopup = false;
        _this.updatesKeyMap = new Map();
        _this.deleteApi = _this.updateHistoricApi.removeBireSbHistory;
        _this.loadTablesHeader();
        _this.fillDropDown();
        _this.translateService.onLangChange.subscribe(function (_) {
            // Change the DropDownList content regarding the langage
            _this.fillDropDown();
        });
        _this.userWorkflowSubject.subscribe(function (userWorkflow) {
            _this.updateWorkflowStatusList();
            _this.updateWorkflowToc();
        });
        // Documents
        _this.initDocumentsTableDataSource();
        _this.loadPartGuidelineTypes();
        _this.loadPartGuidelineStatus();
        _this.loadUser();
        _this.loadIsController();
        return _this;
    }
    PartNumberFormComponent_1 = PartNumberFormComponent;
    PartNumberFormComponent.prototype.getComponentName = function () {
        return 'PartNumberFormComponent';
    };
    PartNumberFormComponent.prototype.initLists = function () {
        var _this = this;
        this.bireRefMeasurementsAddedList = [];
        this.bireRefMeasurementsDeletedList = [];
        this.bireRefMeasurementsUpdatedList = [];
        this.sparePartClassOptions = [];
        this.propertiesService.getValue('getFlocTypeMap').subscribe(function (result) {
            _this.flocTypeMap = result;
        });
        this.loadSparePartClassDropdown();
        // Lang change events
        this.translateService.onLangChange.subscribe(function (_) {
            // Reset the right attribute name regarding the langage
            _this.dynamicAttributes = _this.dynamicAttributesService.from(_this.bireAttributesForPn);
        });
    };
    PartNumberFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        if (!!this.componentData) {
            this.setTableOfContent();
            this.updateOpenMode(this.componentData.openMode);
            if (this.componentData.objectId && this.componentData.objectId.length > 0) {
                this.isForUpdate = true;
                this.displayComponentContext(this.componentData.objectId, this.isCreateOpenMode);
                this.subtitle = this.componentData.objectId;
            }
            else {
                var context = !!this.componentData.objectId
                    ? this.serializationService.deserialize(this.componentData.objectId)
                    : 'tab.createMode';
                this.displayComponentContext(context, this.isCreateOpenMode);
            }
        }
        if (this.isCreateOpenMode) {
            this.pn.statusState = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_ONGOING;
        }
        this.loadPN();
    };
    PartNumberFormComponent.prototype.cancel = function () {
        this.clearErrors();
        if (this.isCreateOpenMode) {
            this.initOnCreate();
        }
        else {
            this.reloadPN();
            this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
        }
    };
    PartNumberFormComponent.prototype.initAttributeValue = function () {
        var leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributes);
        leafs.forEach(function (attribute) {
            attribute.value = undefined;
        });
    };
    PartNumberFormComponent.prototype.initOnCreate = function () {
        this.pn = {};
        this.actionTypeA = [];
        this.actionTypeB = [];
        // this.getBireAttributesForEvolution();
        this.bireRefMeasurementsAddedList = [];
        this.bireRefMeasurementsDeletedList = [];
        this.bireRefMeasurementsUpdatedList = [];
        this.bireProgramsDisplayed = [];
        this.selectedMaintenancePrograms = [];
        this.initAttributeValue();
    };
    PartNumberFormComponent.prototype.refresh = function () {
        this.ngOnInit();
        this.loadSparePartClassDropdown();
        this.fillDropDown();
    };
    PartNumberFormComponent.prototype.edit = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write);
    };
    PartNumberFormComponent.prototype.reloadPN = function () {
        this.init();
        this.loadPN();
    };
    PartNumberFormComponent.prototype.init = function () {
        this.pn = {};
        this.loadTablesHeader();
        this.fillDropDown();
    };
    PartNumberFormComponent.prototype.loadPN = function () {
        var _this = this;
        // Load dynamic attributes
        var observables = [
            this.getDynamicAttributesObservable(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_ALL_KEY),
            this.getDynamicAttributesObservable(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_PART_KEY)
        ];
        Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["forkJoin"])(observables).subscribe(function (results) {
            if (results) {
                var flattenResults = results.reduce(function (acc, val) { return acc.concat(val); }, []);
                _this.dynamicAttributes = _this.dynamicAttributesService.from(flattenResults);
                _this.bireAttributesForPn = flattenResults;
                if (_this.isCreateOpenMode) {
                    _this.loadUserWorkflow(undefined);
                }
                else {
                    // Load pn object
                    if (!!_this.componentData && !!_this.componentData.objectId) {
                        var pnId = {
                            pnCode: _this.componentData.objectId
                        };
                        _this.pnFormService.findBirePn(pnId).subscribe(function (result) {
                            if (result) {
                                _this.pn = result;
                                if (_this.pn && _this.pn.pnCode) {
                                    _this.loadTablesAssociated();
                                    var status_1 = _this.pn.statusState;
                                    if (!!status_1 &&
                                        _this.propertyStatus.length > 0 &&
                                        !_this.getLabelValueByValue(_this.propertyStatus, status_1)) {
                                        // Non functional status ignored
                                        status_1 = undefined;
                                    }
                                    _this.loadUserWorkflow(status_1);
                                    _this.pnFormService.findBireVersionPnsByPnCode(_this.pn.pnCode).subscribe(function (pnResults) {
                                        if (pnResults.length > 0) {
                                            var famCode = pnResults[0].familyCode;
                                            if (!!famCode) {
                                                _this.familyCode = famCode;
                                            }
                                            var strType = pnResults[0].structureType;
                                            if (!!strType) {
                                                _this.structureType = strType;
                                            }
                                        }
                                    }, function () {
                                        _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyCode'));
                                    });
                                }
                            }
                        });
                        if (!!_this.componentData.objectId) {
                            _this.pnFormService
                                .findBirePnAttributesByPn(_this.componentData.objectId)
                                .subscribe(function (attributesResults) {
                                _this.dynamicAttributes.forEach(function (element) {
                                    element.attributes.forEach(function (attribute) {
                                        var attributeInResults = attributesResults.filter(function (res) { return res.attributeId === attribute.id; });
                                        if (attributeInResults.length === 1) {
                                            attribute.value = attributeInResults[0].attributeValue;
                                        }
                                    });
                                });
                            });
                        }
                        _this.loadPnDocuments(pnId);
                    }
                }
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetPn'));
        });
    };
    PartNumberFormComponent.prototype.getDynamicAttributesObservable = function (attributeCategory) {
        return this.pnFormService.findBireAttributesByCategory(attributeCategory);
    };
    /*********************
     * TABS MANAGEMENT
     *********************/
    PartNumberFormComponent.prototype.openAttributesTab = function () {
        this.currentTabId = this.tabAttributesId;
    };
    PartNumberFormComponent.prototype.openGeneralTab = function () {
        this.currentTabId = this.tabGeneralId;
    };
    PartNumberFormComponent.prototype.openEvolutionTab = function () {
        this.currentTabId = this.tabEvolutionId;
    };
    PartNumberFormComponent.prototype.openDEADIATab = function () {
        this.currentTabId = this.tabDEADIAId;
    };
    PartNumberFormComponent.prototype.openItemsTab = function () {
        this.currentTabId = this.tabItemsId;
    };
    PartNumberFormComponent.prototype.openRefMeasurementsTab = function () {
        this.currentTabId = this.tabReferenceMeasurementsId;
    };
    /***********************
     * TABLES MANAGEMENT
     ***********************/
    PartNumberFormComponent.prototype.resetResultsTable = function (table) {
        table.reset();
        table.filters = {};
    };
    PartNumberFormComponent.prototype.resetForm = function () {
        this.pn = {};
    };
    /*********************************
     * LOADING TABLES AND DROPDOWN
     *********************************/
    PartNumberFormComponent.prototype.loadTablesHeader = function () {
        this.initReferenceMeasurementsTableDataSource();
        this.initItemsTableDataSource();
        this.initEvolutionsTableDataSource();
        this.initEvolutionImpactsTableDataSource();
        this.initGuidelineTableDataSource();
    };
    PartNumberFormComponent.prototype.initReferenceMeasurementsTableDataSource = function () {
        this.referenceMeasurementsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_9__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'counterCode', width: '10%', translateKey: this.getTranslateKey('counterCode') },
                { field: 'familyCode', width: '10%', translateKey: this.getTranslateKey('familyCode') },
                { field: 'ratingCode', width: '7%', translateKey: this.getTranslateKey('ratingCode') },
                { field: 'tolerance', width: '7%', translateKey: this.getTranslateKey('tolerance') },
                {
                    field: 'pnPotentialReferenceValue',
                    width: '6%',
                    translateKey: this.getTranslateKey('pnPotentialReferenceValue')
                },
                { field: 'pnPotentialLimitDate', width: '8%', translateKey: this.getTranslateKey('pnPotentialLimitDate') },
                { field: 'limitIsUpdatable', width: '12%', translateKey: this.getTranslateKey('limitIsUpdatable') },
                { field: 'limitDescription', width: '10%', translateKey: this.getTranslateKey('limitDescription') },
                { field: 'interventionOptions', width: '10%', translateKey: this.getTranslateKey('interventionOptions') },
                { field: 'valueResettable', width: '10%', translateKey: this.getTranslateKey('valueResettable') },
                { field: 'sb', width: '10%', translateKey: this.getTranslateKey('serviceBulletin') }
            ],
            data: []
        });
    };
    PartNumberFormComponent.prototype.initItemsTableDataSource = function () {
        this.itemsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_9__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'familyCode', translateKey: this.getTranslateKey('familyCode') },
                { field: 'ataCode', translateKey: this.getTranslateKey('ataCode') },
                { field: 'unmStructureType', translateKey: this.getTranslateKey('unmStructureType') },
                { field: 'variantCode', translateKey: this.getTranslateKey('variantCode') },
                { field: 'name', translateKey: this.getTranslateKey('name') },
                { field: 'itemNumber', translateKey: this.getTranslateKey('itemNumber') },
                { field: 'functionCode', translateKey: this.getTranslateKey('functionCode') },
                { field: 'ippeNodeType', translateKey: this.getTranslateKey('ippeNodeType') }
            ],
            data: []
        });
    };
    PartNumberFormComponent.prototype.initEvolutionsTableDataSource = function () {
        this.evolutionsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_9__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'evolutionNumber', translateKey: this.getTranslateKey('evolutionNumber') },
                { field: 'item', translateKey: this.getTranslateKey('item') },
                { field: 'mod', translateKey: this.getTranslateKey('mod') },
                { field: 'sb', translateKey: this.getTranslateKey('sb') },
                { field: 'ad', translateKey: this.getTranslateKey('ad') },
                { field: 'pnCode', translateKey: this.getTranslateKey('pnCode') },
                { field: 'pnPnCode', translateKey: this.getTranslateKey('pnPnCode') },
                { field: 'actionTypeCode', translateKey: this.getTranslateKey('actionTypeCode') },
                { field: 'quantityBefore', translateKey: this.getTranslateKey('quantityBefore') },
                { field: 'quantityAfter', translateKey: this.getTranslateKey('quantityAfter') }
            ],
            data: []
        });
    };
    PartNumberFormComponent.prototype.initGuidelineTableDataSource = function () {
        this.guidelineTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_9__["TableDataSource"]({
            enableSelection: true,
            columns: [
                { field: 'reference', width: '8%', translateKey: this.getTranslateKey('reference') },
                { field: 'requestType', width: '14%', translateKey: this.getTranslateKey('requestType') },
                { field: 'status', width: '12%', translateKey: this.getTranslateKey('status') },
                { field: 'creationDate', width: '12%', translateKey: this.getTranslateKey('creationDate') },
                {
                    field: 'controlTransmissionDate',
                    width: '21%',
                    translateKey: this.getTranslateKey('controlTransmissionDate')
                },
                {
                    field: 'centralTransmissionDate',
                    width: '21%',
                    translateKey: this.getTranslateKey('centralTransmissionDate')
                },
                { field: 'closureDate', width: '12%', translateKey: this.getTranslateKey('closureDate') }
            ],
            data: []
        });
    };
    PartNumberFormComponent.prototype.initEvolutionImpactsTableDataSource = function () {
        this.evolutionImpactsTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_9__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'evolutionNumber', translateKey: this.getTranslateKey('evolutionNumber') },
                { field: 'item', translateKey: this.getTranslateKey('item') },
                { field: 'mod', translateKey: this.getTranslateKey('mod') },
                { field: 'sb', translateKey: this.getTranslateKey('sb') },
                { field: 'ad', translateKey: this.getTranslateKey('ad') },
                { field: 'actionTypeCode', translateKey: this.getTranslateKey('actionTypeCode') },
                { field: 'pnCode', translateKey: this.getTranslateKey('pnCode') }
            ],
            data: []
        });
    };
    PartNumberFormComponent.prototype.loadTablesAssociated = function () {
        var _this = this;
        this.referenceMeasurementsTableDataSource.setData([]);
        if (!!this.pn.pnCode) {
            this.pnFormService.findBireItemsBySearchCriteria(this.pn.pnCode).subscribe(function (results) {
                results.forEach(function (element) {
                    if (element.structureType &&
                        _this.propertyStructureType.filter(function (type) { return type.value === element.structureType; })) {
                        element.unmStructureType = _this.propertyStructureType.filter(function (type) { return type.value === element.structureType; })[0].label;
                    }
                    if (!!element.ippeNodeType) {
                        element.ippeNodeType = _this.getFlocTypeLabelVal(element.ippeNodeType, 0);
                    }
                });
                _this.itemsTableDataSource.setData(results);
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetItemList'));
            });
            this.pnId = {
                pnCode: this.pn.pnCode
            };
            this.pnFormService.findBirePnMeasuresByPnCode(this.pnId).subscribe(function (results) {
                var referenceMeasurements = results.map(function (element) {
                    var options = !!element.interventionOptions ? element.interventionOptions.split(';') : undefined;
                    var newTab = {
                        counterCode: element.counterCode,
                        familyCode: element.familyCode,
                        pnPotentialLimitDate: element.pnPotentialLimitDate,
                        pnCode: element.pnCode,
                        tolerance: element.tolerance,
                        sb: element.sb,
                        ratingCode: element.ratingCode,
                        pnPotentialReferenceValue: element.pnPotentialReferenceValue,
                        limitDescription: element.limitDescription,
                        valueResettable: options !== undefined && options.length > 1 ? (options[1] === 'true' ? true : false) : false,
                        interventionOptions: options !== undefined && options.length > 0 ? options[0] : '',
                        limitIsUpdatable: element.limitIsUpdatable,
                        structureType: element.structureType
                    };
                    return newTab;
                });
                _this.referenceMeasurementsTableDataSource.setData(referenceMeasurements);
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetRefMeasurements'));
            });
            this.pnFormService.findBireEvolutionPnsByPnCode(this.pnId).subscribe(function (results) {
                if (results) {
                    results.forEach(function (element) {
                        if (element.actionTypeCode) {
                            element.actionTypeCode = _this.actionTypeA.filter(function (actionType) { return actionType.value === element.actionTypeCode; })[0].label;
                        }
                    });
                    _this.evolutionImpactsTableDataSource.setData(results);
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetImpactsOnPnEvolutionResults'));
            });
            this.pnFormService.findBireItemPnEvolutionsByPnCodeOrPnPnCode(this.pnId).subscribe(function (results) {
                if (results) {
                    results.forEach(function (element) {
                        if (element.actionTypeCode) {
                            element.actionTypeCode = _this.actionTypeB.filter(function (actionType) { return actionType.value === element.actionTypeCode; })[0].label;
                        }
                    });
                    _this.evolutionsTableDataSource.setData(results);
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetEvolutionResults'));
            });
            this.pnFormService.findBireMaintenancePlansByPn(this.pnId).subscribe(function (results) {
                if (results) {
                    _this.bireProgramsDisplayed = results;
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetProgramsResults'));
            });
            this.pnFormService.findBirePartUpdateGuideline(this.pnId).subscribe(function (results) {
                if (results) {
                    _this.birePartUpdateGuidelineDTO = results;
                    var rows = results.map(function (el) { return _this.createBirePartUpdateGuidelineRow(el); });
                    _this.guidelineTableDataSource.setData(rows);
                    _this.loadEnableAddButton();
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetGuidelinesResults'));
            });
            // Adding object status if necessary
            if (!!this.pn.statusState && !this.getLabelValueByValue(this.propertyStatus, this.pn.statusState)) {
                var currentState = this.getLabelValueByValue(this.propertyObjectStatus, this.pn.statusState);
                if (currentState) {
                    this.partNumberStatus.unshift(currentState);
                    this.updateWorkflowStatusList();
                }
            }
        }
    };
    PartNumberFormComponent.prototype.createBirePartUpdateGuidelineRow = function (guideline) {
        var type = !!guideline.pugType
            ? this.getLabelValueByValue(this.partGuidelineTypes, guideline.pugType)
            : undefined;
        var status = !!guideline.pugStatus
            ? this.getLabelValueByValue(this.partGuidelineStatus, guideline.pugStatus)
            : undefined;
        var birePartUpdateGuidelineRow = {
            reference: guideline.pugCode,
            requestType: !!type ? type.label : '',
            status: !!status ? status.label : '',
            creationDate: !!guideline.creationDate
                ? moment__WEBPACK_IMPORTED_MODULE_2__(guideline.creationDate).format(this._sessionService.dateTimeFormatMomentJS)
                : '',
            controlTransmissionDate: !!guideline.controlTransmissionDate
                ? moment__WEBPACK_IMPORTED_MODULE_2__(guideline.controlTransmissionDate).format(this._sessionService.dateTimeFormatMomentJS)
                : '',
            centralTransmissionDate: guideline.centralTransmissionDate
                ? moment__WEBPACK_IMPORTED_MODULE_2__(guideline.centralTransmissionDate).format(this._sessionService.dateTimeFormatMomentJS)
                : '',
            closureDate: !!guideline.closureDate
                ? moment__WEBPACK_IMPORTED_MODULE_2__(guideline.closureDate).format(this._sessionService.dateTimeFormatMomentJS)
                : '',
            isCreator: this.isCreator(guideline),
            _obj: guideline
        };
        return birePartUpdateGuidelineRow;
    };
    PartNumberFormComponent.prototype.getLabelValueByValue = function (references, value) {
        if (!!references) {
            return references.find(function (lv) { return lv.value === value; });
        }
    };
    PartNumberFormComponent.prototype.updateWorkflowStatusList = function () {
        this.workflowStatus = _shared_utils_workflow_utils__WEBPACK_IMPORTED_MODULE_31__["WorkflowUtils"].filterWorkflowStatusList(this.userWorkflow, this.partNumberStatus, this.pn.statusState);
    };
    PartNumberFormComponent.prototype.fillDropDown = function () {
        var _this = this;
        this.pnFormService.getFuncObjectStatusMap().subscribe(function (results) {
            _this.propertyStatus = results;
            _this.partNumberStatus = __spread(results);
            _this.updateWorkflowStatusList();
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetObjectStatus'));
        });
        this.pnFormService.getObjectStatusMap().subscribe(function (results) {
            _this.propertyObjectStatus = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetObjectStatus'));
        });
        this.pnFormService.findBireActionTypesByActionTypeCodeA().subscribe(function (results) {
            _this.actionTypeA = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInstructions'));
        });
        this.pnFormService.findBireActionTypesByActionTypeCodeB().subscribe(function (results) {
            _this.actionTypeB = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetInstructions'));
        });
        this.pnFormService.getStructureTypeMap().subscribe(function (results) {
            _this.propertyStructureType = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetStructureType'));
        });
        this.pnFormService.findQuantityUnitMap().subscribe(function (res) {
            _this.quantityUnit = res;
        });
        this.pnFormService.getPnTraceabilityMap().subscribe(function (results) {
            _this.propertyTraceability = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetTraceability'));
        });
        this.pnFormService.getRefMeasureCategoryMap().subscribe(function (results) {
            _this.propertyMeasure = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetRefMeasureCategory'));
        });
        this.pnFormService.findAllBireVariantVersions().subscribe(function (results) {
            var list = new Array();
            results.forEach(function (element) {
                if (!!element.labelValueDTO) {
                    list.push(element.labelValueDTO);
                    _this.familyVariantMap.set(element.labelValueDTO, element);
                }
            });
            _this.propertyVariant = list;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.pnFormService.findAllBireUnitMeasures().subscribe(function (results) {
            _this.propertyUnit = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__["GenericPropertyConstants"].ENGINEERING_PN_TYPES_MAP).subscribe(function (results) {
            _this.pnTypes = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
    };
    PartNumberFormComponent.prototype.confirmDeleteReferenceMeasurements = function () {
        var _this = this;
        var partialMessageKey = 'deleteConfirmationReferenceMeasurements';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.deleteSelectedReferenceMeasurements();
            }
        });
    };
    PartNumberFormComponent.prototype.createReferenceMeasurements = function () {
        var _this = this;
        this.showMeasurementPopup = true;
        this.isNewRef = true;
        if (this.pn.pnCode) {
            this.pnFormService.findBireVersionPnsByPnCode(this.pn.pnCode).subscribe(function (results) {
                var famCode = results[0] && results[0].familyCode;
                var strType = results[0] && results[0].structureType;
                if (!!famCode) {
                    _this.familyCode = famCode;
                }
                if (!!strType) {
                    _this.structureType = strType;
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyCode'));
            });
        }
        this.currentRefMeasurements = {
            pnCode: this.pn.pnCode,
            familyCode: this.familyCode,
            structureType: this.structureType
        };
        this.dataRefMeasurements = {
            componentId: 'ReferenceMeasurementsPopupDialog',
            selectedRow: [],
            object: this.currentRefMeasurements,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
        };
        this.refMeasurementDialogOpenMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Create;
    };
    PartNumberFormComponent.prototype.editReferenceMeasurements = function () {
        this.isNewRef = false;
        if (this.referenceMeasurementsTableDataSource.dataSelectionCount === 1) {
            this.currentRefMeasurements = __assign({}, this.referenceMeasurementsTableDataSource.dataSelection[0]);
            this.currentRefMeasurements.pnCode = this.pn.pnCode;
            this.showMeasurementPopup = true;
            this.dataRefMeasurements = {
                componentId: 'ReferenceMeasurementsPopupDialog',
                selectedRow: this.referenceMeasurementsTableDataSource.dataSelection,
                object: this.currentRefMeasurements,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
            };
        }
        this.refMeasurementDialogOpenMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Write;
    };
    PartNumberFormComponent.prototype.openReferenceMeasurements = function () {
        if (this.referenceMeasurementsTableDataSource.dataSelectionCount === 1) {
            this.currentRefMeasurements = __assign({}, this.referenceMeasurementsTableDataSource.dataSelection[0]);
            this.currentRefMeasurements.pnCode = this.pn.pnCode;
            this.showMeasurementPopup = true;
            this.dataRefMeasurements = {
                componentId: 'ReferenceMeasurementsPopupDialog',
                selectedRow: this.referenceMeasurementsTableDataSource.dataSelection,
                object: this.currentRefMeasurements,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
            };
        }
        this.refMeasurementDialogOpenMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read;
    };
    PartNumberFormComponent.prototype.addNewReferenceMeasurements = function (newRefMeasurements) {
        if (!!newRefMeasurements && newRefMeasurements.interventionOptions) {
            var options = newRefMeasurements.interventionOptions.split(';');
            if (options.length > 0) {
                this.interventionOption = options[0] === null ? '' : options[0];
                this.valueResettable = options[1] === 'true';
            }
        }
        var newTab = {
            counterCode: newRefMeasurements.counterCode,
            familyCode: newRefMeasurements.familyCode,
            pnPotentialLimitDate: newRefMeasurements.pnPotentialLimitDate,
            pnCode: newRefMeasurements.pnCode,
            ratingCode: newRefMeasurements.ratingCode,
            pnPotentialReferenceValue: newRefMeasurements.pnPotentialReferenceValue,
            limitDescription: newRefMeasurements.limitDescription,
            valueResettable: this.valueResettable,
            interventionOptions: this.interventionOption,
            limitIsUpdatable: newRefMeasurements.limitIsUpdatable,
            structureType: newRefMeasurements.structureType,
            tolerance: newRefMeasurements.tolerance,
            sb: newRefMeasurements.sb
        };
        var searchInDisplayedList = this.referenceMeasurementsTableDataSource.dataSrc.find(function (value) {
            return !!newRefMeasurements &&
                value.pnCode === newRefMeasurements.pnCode &&
                value.familyCode === newRefMeasurements.familyCode &&
                value.counterCode === newRefMeasurements.counterCode &&
                value.ratingCode === newRefMeasurements.ratingCode &&
                value.structureType === newRefMeasurements.structureType;
        });
        if (!searchInDisplayedList) {
            this.bireRefMeasurementsAddedList.push(newRefMeasurements);
            this.referenceMeasurementsTableDataSource.addData([newTab]);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('RefMeasurementsAlreadyExists'));
        }
    };
    PartNumberFormComponent.prototype.deleteSelectedReferenceMeasurements = function () {
        var _this = this;
        this.referenceMeasurementsTableDataSource.dataSelection.forEach(function (element) {
            var searchInAddedList = _this.bireRefMeasurementsAddedList.find(function (value) {
                return value.pnCode === element.pnCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.ratingCode === element.ratingCode &&
                    value.counterCode === element.counterCode;
            });
            var searchInUpdatedList = _this.bireRefMeasurementsAddedList.find(function (value) {
                return value.pnCode === element.pnCode &&
                    value.ratingCode === element.ratingCode &&
                    value.familyCode === element.familyCode &&
                    value.structureType === element.structureType &&
                    value.counterCode === element.counterCode;
            });
            if (searchInAddedList) {
                var indexInAddedList = _this.bireRefMeasurementsAddedList.indexOf(searchInAddedList);
                _this.bireRefMeasurementsAddedList.splice(indexInAddedList, 1);
            }
            else {
                if (!!element.pnCode &&
                    !!element.counterCode &&
                    !!element.familyCode &&
                    !!element.structureType &&
                    !!element.ratingCode) {
                    var interdepId = {
                        pnCode: element.pnCode,
                        counterCode: element.counterCode,
                        familyCode: element.familyCode,
                        structureType: element.structureType,
                        ratingCode: element.ratingCode
                    };
                    if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireRefMeasurementsUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireRefMeasurementsUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireRefMeasurementsDeletedList.push(interdepId);
                    }
                    else {
                        _this.bireRefMeasurementsDeletedList.push(interdepId);
                    }
                }
            }
        });
        this.referenceMeasurementsTableDataSource.deleteDataSelection();
        this.referenceMeasurementsTableDataSource.dataSelection = [];
    };
    PartNumberFormComponent.prototype.updateReferenceMeasurements = function (udpatedRefMeasurements) {
        if (udpatedRefMeasurements.interventionOptions) {
            var options = udpatedRefMeasurements.interventionOptions.split(';');
            if (options.length > 0) {
                this.interventionOption = options[0] === null ? '' : options[0];
                this.valueResettable = options[1] === 'true';
            }
        }
        var updateTab = {
            counterCode: udpatedRefMeasurements.counterCode,
            familyCode: udpatedRefMeasurements.familyCode,
            tolerance: udpatedRefMeasurements.tolerance,
            sb: udpatedRefMeasurements.sb,
            pnPotentialLimitDate: udpatedRefMeasurements.pnPotentialLimitDate,
            pnCode: udpatedRefMeasurements.pnCode,
            ratingCode: udpatedRefMeasurements.ratingCode,
            pnPotentialReferenceValue: udpatedRefMeasurements.pnPotentialReferenceValue,
            limitDescription: udpatedRefMeasurements.limitDescription,
            valueResettable: this.valueResettable,
            interventionOptions: this.interventionOption,
            limitIsUpdatable: udpatedRefMeasurements.limitIsUpdatable,
            structureType: udpatedRefMeasurements.structureType
        };
        if (!this.hasDuplicateRow(udpatedRefMeasurements)) {
            this.bireRefMeasurementsUpdatedList.push(udpatedRefMeasurements);
            this.referenceMeasurementsTableDataSource.replaceData(this.referenceMeasurementsTableDataSource.dataSelection[0], updateTab);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('RefMeasurementsAlreadyExists'));
        }
        this.referenceMeasurementsTableDataSource.dataSelection = [];
    };
    PartNumberFormComponent.prototype.hasDuplicateRow = function (rowData) {
        var refMeasurementList = __spread(this.referenceMeasurementsTableDataSource.dataSrc);
        if (this.referenceMeasurementsTableDataSource.hasDataSelection) {
            var selectedRow_1 = this.referenceMeasurementsTableDataSource.dataSelection[0];
            // Return all the rows except selected rows
            refMeasurementList = this.referenceMeasurementsTableDataSource.dataSrc.filter(function (mprow) {
                return (selectedRow_1.pnCode !== mprow.pnCode ||
                    selectedRow_1.ratingCode !== mprow.ratingCode ||
                    selectedRow_1.familyCode !== mprow.familyCode ||
                    selectedRow_1.structureType !== mprow.structureType ||
                    selectedRow_1.counterCode !== mprow.counterCode);
            });
        }
        // check whether any other rows have same values of row data or not
        var hasAnyDuplicateRow = refMeasurementList.some(function (row) {
            return (row.pnCode === rowData.pnCode &&
                row.ratingCode === rowData.ratingCode &&
                row.familyCode === rowData.familyCode &&
                row.structureType === rowData.structureType &&
                row.counterCode === rowData.counterCode);
        });
        return hasAnyDuplicateRow;
    };
    PartNumberFormComponent.prototype.updateListsAttributes = function () {
        var _this = this;
        this.bireRefMeasurementsAddedList.forEach(function (element) {
            element.pnCode = _this.pn.pnCode;
        });
        this.bireRefMeasurementsUpdatedList.forEach(function (element) {
            element.pnCode = _this.pn.pnCode;
        });
        this.bireRefMeasurementsDeletedList.forEach(function (element) {
            if (!!_this.pn.pnCode) {
                element.pnCode = _this.pn.pnCode;
            }
        });
        this.birePnAttributes.forEach(function (element) {
            element.pnCode = _this.pn.pnCode;
        });
    };
    PartNumberFormComponent.prototype.savePnData = function () {
        var _this = this;
        var saved = false;
        var missingFields = this.checkMandatoryFields(__assign({}, this.pn, { bireRefMeasurementsTableTitle: this.referenceMeasurementsTableDataSource.dataSrc, itemsTableTitle: this.itemsTableDataSource.dataSrc, evolutionAssociatedTableTitle: this.evolutionsTableDataSource.dataSrc, evolutionImpactTableTitle: this.evolutionImpactsTableDataSource.dataSrc, dynamicAttributes: this.dynamicAttributes }));
        if (this.pn.pnCode && missingFields.length === 0) {
            this.updateListsAttributes();
            this.birePnAttributes = this.dynamicAttributesService.toBirePnAttribute(this.pn.pnCode, this.dynamicAttributes);
            var savePartNumberInput = {
                birePnDTO: this.pn,
                birePnMeasureDTOAddedList: this.bireRefMeasurementsAddedList,
                birePnMeasureDTOUpdatedList: this.bireRefMeasurementsUpdatedList,
                birePnMeasureDTOIdRemovedList: this.bireRefMeasurementsDeletedList,
                birePnAttributeDTOAddedList: [],
                birePnAttributeDTOUpdatedList: this.birePnAttributes,
                birePnAttributeDTOIdRemovedList: [],
                isForUpdate: !this.isCreateOpenMode,
                bireDocumentAddedList: this.documentsTableDataSource.getAddedList().map(this.toDocumentDto),
                bireDocumentUpdatedList: this.documentsTableDataSource.getUpdatedList().map(this.toDocumentDto),
                bireDocumentRemovedList: this.documentsTableDataSource.getDeletedList().map(this.toDocumentDto)
            };
            this.showSaveSpinner = true;
            this.pnFormService
                .savePnData(savePartNumberInput)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["finalize"])(function () {
                _this.showSaveSpinner = false;
            }))
                .subscribe(function (result) {
                _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnSavedPn'));
                _this.initLists();
                _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
                if (!_this.componentData.objectId) {
                    _this.pn.pnCode = result.split(':')[0];
                    _this.componentData.objectId = result.split(':')[0];
                    _this.componentData.openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read;
                    _this.displayComponentContext(_this.componentData.objectId, _this.isCreateOpenMode);
                    _this.subtitle = _this.componentData.objectId;
                }
                _this.documentsTableDataSource.clearHistory();
                _this.refresh();
            });
            saved = true;
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
        return saved;
    };
    PartNumberFormComponent.prototype.openStatusUpdatesPopup = function () {
        // Test of the popup (not the real history)
        this.pnStatus = __assign({}, this.pn);
        this.showStatusUpdatesPopup = true;
        var columns = [
            { field: 'date', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'author', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'action', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'status', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'manufacturerNatoCode', alignment: 'center', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'otanPnReference', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'fromReparationSolution', alignment: 'center', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'traceability', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'isPma', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'quantityUnit', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'articleDesignation', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'pnCode1', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'pnCode2', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'pnCode3', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'pnCode4', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'pnCode5', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'pnCode6', alignment: 'center', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'manufacturerOtanCode1', alignment: 'center', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'manufacturerOtanCode2', alignment: 'center', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'manufacturerOtanCode3', alignment: 'center', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'manufacturerOtanCode4', alignment: 'center', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'manufacturerOtanCode5', alignment: 'center', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'manufacturerOtanCode6', alignment: 'center', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input },
            { field: 'sparePartClass', alignment: 'center', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_15__["TableColumnFilterMode"].Input }
        ];
        this.updatesKeyMap.set('status', Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(this.partNumberStatus));
        if (!!this.pn.sparePartClassCode) {
            this.updatesKeyMap.set('sparePartClass', Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(this.sparePartClassOptions));
        }
        this.tableStatusUpdatesData = {
            componentId: 'PartNumberFormComponent.historicPopup',
            tableCols: columns,
            tableRows: this.updateHistoricService.findBirePnHistoric(this.pnId),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_16__["TableSelectionMode"].Multiple,
            globalFilter: false
        };
    };
    // TODO when update functionality is implemented in StatusUpdatesHistoryComponent
    // public updateObjectStatusFromStatusUpdatesHistory(event: HistoricObjectPnDTO): void {
    // }
    PartNumberFormComponent.prototype.openLogisticView = function (openMode) {
        if (openMode === void 0) { openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read; }
        var labelKey = 'transaction.MaterialFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'MaterialFormComponent',
            openMode: openMode
        };
        var materialFormId = {
            pnCode: this.pn.pnCode ? this.pn.pnCode : ''
        };
        data.objectId = this.serializationService.serialize(materialFormId);
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    PartNumberFormComponent.prototype.openPartNumberScreen = function (objectId) {
        if (_shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_30__["StringUtils"].isNullOrEmpty(objectId.familyCode)) {
            this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingCode'));
        }
        else {
            this.openItemForm(objectId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
        }
    };
    PartNumberFormComponent.prototype.openEvolution = function (objectId) {
        if (objectId && objectId.evolutionNumber && objectId.evolutionRevisionNumber) {
            var bireEvolutionId = {
                evolutionNumber: objectId.evolutionNumber,
                evolutionRevisionNumber: objectId.evolutionRevisionNumber
            };
            this.openEvolutionForm(bireEvolutionId, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
        }
    };
    PartNumberFormComponent.prototype.openItemForm = function (objectId, openMode) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__["ComponentConstants"].ENG_ITEM_FORM,
            openMode: openMode
        };
        if (!!objectId) {
            var itemFormId = {
                familyCode: objectId.familyCode,
                chapter: objectId.chapter,
                section: objectId.section,
                sheet: objectId.sheet,
                marks: objectId.marks,
                subject: objectId.subject,
                structureType: objectId.structureType,
                variantCode: objectId.variantCode
            };
            data.objectId = this.serializationService.serialize(itemFormId);
        }
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    PartNumberFormComponent.prototype.openEvolutionForm = function (objectId, openMode) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__["ComponentConstants"].ENG_EVOLUTION_FORM,
            openMode: openMode
        };
        var labelKey = 'transaction.' + data.componentId;
        data.objectId = this.serializationService.serialize(objectId);
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    PartNumberFormComponent.prototype.setNavigationLinkList = function () {
        var _this = this;
        var logisticLabelKey = this.getTranslateKey('logisticView');
        this.translateService.get([logisticLabelKey]).subscribe(function (results) {
            var calibrationLabel = results ? results[logisticLabelKey] : 'Logistic View';
            _this.navigationLinkList = [
                {
                    label: calibrationLabel,
                    command: function () {
                        _this.openLogisticView(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
                    }
                }
            ];
        });
    };
    PartNumberFormComponent.prototype.setTableOfContent = function () {
        var _this = this;
        var mainKey = this.getTranslateKey('main');
        var generalKey = this.getTranslateKey('tabGeneral');
        var natoKey = this.getTranslateKey('tabNatoCodes');
        var attributesKey = this.getTranslateKey('tabAttributes');
        var referenceKey = this.getTranslateKey('tabReferenceMeasurements');
        var itemsKey = this.getTranslateKey('tabItems');
        var evolutionsKey = this.getTranslateKey('tabEvolution');
        var documentsKey = this.getTranslateKey('tabDocuments');
        this.translateService
            .get([mainKey, generalKey, natoKey, attributesKey, referenceKey, itemsKey, evolutionsKey, documentsKey])
            .subscribe(function (results) {
            var mainLabel = !!results ? results[mainKey] : 'Main Information';
            var generalLabel = !!results ? results[generalKey] : 'General';
            var natoLabel = !!results ? results[natoKey] : 'NATO Codes';
            var attributesLabel = !!results ? results[attributesKey] : 'Attributes';
            var referenceLabel = !!results ? results[referenceKey] : 'Reference Measurements';
            var itemLabel = !!results ? results[itemsKey] : 'Items';
            var evolutionsLabel = !!results ? results[evolutionsKey] : 'Upcoming Events';
            var documentsLabel = !!results ? results[documentsKey] : 'Documents';
            _this.toc = [
                {
                    id: 'mainAnchor',
                    anchor: _this.mainEltRef,
                    label: mainLabel
                },
                {
                    id: 'generalAnchor',
                    anchor: _this.generalEltRef,
                    label: generalLabel
                },
                {
                    id: 'natoAnchor',
                    anchor: _this.natoEltRef,
                    label: natoLabel
                },
                {
                    id: 'attributesAnchor',
                    anchor: _this.attributesEltRef,
                    label: attributesLabel
                },
                {
                    id: 'referenceAnchor',
                    anchor: _this.referenceEltRef,
                    label: referenceLabel
                },
                {
                    id: 'itemsAnchor',
                    anchor: _this.itemsEltRef,
                    label: itemLabel
                },
                {
                    id: 'evolutionsAnchor',
                    anchor: _this.evolutionsEltRef,
                    label: evolutionsLabel
                },
                {
                    id: 'documentsAnchor',
                    anchor: _this.documentsEltRef,
                    label: documentsLabel
                }
            ];
            _super.prototype.selectPageTocEntry.call(_this, _this.component.MAIN_ANCHOR_ID);
            _this.updateWorkflowToc();
        });
    };
    PartNumberFormComponent.prototype.updateWorkflowToc = function () {
        this.workflowToc = this.applyWorkflowOnPageToc(this.toc);
    };
    PartNumberFormComponent.prototype.getFlocTypeLabelVal = function (key, ope) {
        var str;
        if (ope === 0) {
            str = this.flocTypeMap.filter(function (res) { return res.value === key; })[0].label;
        }
        else if (ope === 1) {
            str = this.flocTypeMap.filter(function (res) { return res.label === key; })[0].value;
        }
        return !!str ? str : key;
    };
    PartNumberFormComponent.prototype.loadPnDocuments = function (birePnDtoId) {
        var _this = this;
        this.pnFormService
            .findBirePnDocs(birePnDtoId)
            .subscribe(function (bireDocumentDtoArray) {
            return _this.documentsTableDataSource.setData(bireDocumentDtoArray.map(function (bireDocumentDto) { return _this.toDocumentRow(bireDocumentDto); }));
        });
    };
    PartNumberFormComponent.prototype.initDocumentsTableDataSource = function () {
        this.documentsTableDataSource = new _modules_purchase_contract_utils_table_data_source_with_history__WEBPACK_IMPORTED_MODULE_5__["TableDataSourceWithHistory"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'docName',
                    translateKey: this.getTranslateKey('docName')
                },
                {
                    field: 'docSource',
                    translateKey: this.getTranslateKey('docExternal')
                },
                {
                    field: 'docExtension',
                    translateKey: this.getTranslateKey('docExtension')
                },
                {
                    field: 'docSize',
                    translateKey: this.getTranslateKey('docSize')
                },
                {
                    field: 'docPublicationDate',
                    translateKey: this.getTranslateKey('docPublicationDate')
                },
                {
                    field: 'docDescription',
                    translateKey: this.getTranslateKey('docDescription')
                }
            ],
            data: []
        });
        this.isReadOnlyDocumentDialog = true;
        this.showAddDocumentDialog = false;
    };
    PartNumberFormComponent.prototype.deleteDocuments = function () {
        var _this = this;
        var partialMessageKey = this.documentsTableDataSource.dataSelectionCount > 1
            ? 'confirmDeleteSelectedDocuments'
            : 'confirmDeleteSelectedDocument';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.documentsTableDataSource.deleteDataSelection();
            }
        });
    };
    PartNumberFormComponent.prototype.addDocument = function () {
        this.isReadOnlyDocumentDialog = false;
        this.showAddDocumentDialog = true;
    };
    PartNumberFormComponent.prototype.onAddDocument = function (documentDTO) {
        var editedOrAddedDocumentRow = this.toDocumentRow(documentDTO);
        // We are editing an existing document
        if (this.documentsTableDataSource.dataSelectionCount === 1) {
            this.documentsTableDataSource.replaceData(this.documentsTableDataSource.dataSelection[0], editedOrAddedDocumentRow);
        }
        else {
            // We have just uploaded a new document
            this.documentsTableDataSource.addData([editedOrAddedDocumentRow]);
        }
    };
    PartNumberFormComponent.prototype.editDocument = function () {
        this.isReadOnlyDocumentDialog = false;
        this.showAddDocumentDialog = true;
    };
    PartNumberFormComponent.prototype.openDocument = function () {
        this.isReadOnlyDocumentDialog = true;
        this.showAddDocumentDialog = true;
    };
    PartNumberFormComponent.prototype.toDocumentRow = function (documentDTO) {
        return {
            docName: documentDTO.docName,
            docSource: documentDTO.docSource,
            docExtension: _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_29__["FileUtils"].getExtension(documentDTO.docName).toUpperCase(),
            docSize: !!documentDTO.docFile ? _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_29__["FileUtils"].getFormattedSize(documentDTO.docFile.length) : '',
            docPublicationDate: this.dateService.dateToString(documentDTO.docPublicationDate),
            docDescription: documentDTO.docDescription,
            _obj: documentDTO
        };
    };
    PartNumberFormComponent.prototype.toDocumentDto = function (documentRow) {
        return (!!documentRow._obj && documentRow._obj) || {};
    };
    PartNumberFormComponent.prototype.downloadFile = function (document) {
        if (!!document._obj) {
            _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_29__["FileUtils"].downloadFile(document._obj.docFile, document.docName);
        }
    };
    PartNumberFormComponent.prototype.showStatus = function () {
        var _this = this;
        if (!this.isCreateOpenMode) {
            var overlayRef = this._overlayService.openWithPositionCenter({
                content: _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_32__["ObjectStatusComponent"],
                data: {
                    currentAuthor: this.pn.statusUser,
                    currentDate: this.pn.statusDate,
                    currentStatus: {
                        label: this._formatSelectOption.transform(this.pn.statusState, this.workflowStatus),
                        value: this.pn.statusState
                    },
                    nextStatuses: this.workflowStatus
                }
            });
            overlayRef.afterClosed$.subscribe({
                next: function (event) {
                    if (event.data) {
                        var currentState = _this.pn.statusState;
                        _this.pn.statusState = event.data;
                        var saved = _this.savePnData();
                        if (!saved) {
                            // Revert status change if save not launched
                            _this.pn.statusState = currentState;
                        }
                    }
                }
            });
        }
    };
    PartNumberFormComponent.prototype.showCreateProcurementDialog = function () {
        this.createProcurementDialogVisible = true;
    };
    PartNumberFormComponent.prototype.onCreateProcurementRequest = function (procurementRequest) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__["ComponentConstants"].LOG_PROCUREMENT_REQUEST_FORM,
            objectId: this.serializationService.serialize({ id: procurementRequest.id }),
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read
        };
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    PartNumberFormComponent.prototype.openGuidelines = function (rowData, openMode) {
        var labelKey = 'transaction.DeaDiaFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_12__["ComponentConstants"].ENG_DEA_DIA_FORM,
            objectId: !!rowData ? this.serializationService.serialize(rowData._obj) : undefined,
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    PartNumberFormComponent.prototype.addGuidelines = function () {
        this.isCreatorAndIsFirstAdd = false;
        var birePartUpdateGuidelineRow = {
            _obj: {
                pnCode: this.pn.pnCode,
                pugStatus: _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].DEA_DIA_STATUS_DRAFT
            }
        };
        this.openGuidelines(birePartUpdateGuidelineRow, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Create);
    };
    PartNumberFormComponent.prototype.deleteGuideline = function () {
        var _this = this;
        var partialMessageKey = 'confirmDeleteSelectedGuideline';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.guidelineTableDataSource.dataSelection.forEach(function (guideline) {
                    if (!!guideline._obj) {
                        var guidelineToDelete = {
                            mandant: guideline._obj.mandant,
                            pugId: guideline._obj.pugId
                        };
                        _this.pnFormService.removeBirePartUpdateGuideline(guidelineToDelete).subscribe(function () {
                            _this.messageService.showSuccessMessage('global.deleteSuccessMsg');
                            _this.guidelineTableDataSource.deleteDataSelection();
                            _this.loadTablesAssociated();
                        });
                    }
                });
            }
        });
    };
    PartNumberFormComponent.prototype.editGuidelines = function (rowData) {
        this.openGuidelines(rowData, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_14__["ComponentOpenMode"].Read);
    };
    PartNumberFormComponent.prototype.isCreator = function (guideline) {
        var isCreator = false;
        if (!!this.user && !!guideline) {
            if (this.user.userId === guideline.requesterId) {
                isCreator = true;
            }
        }
        return isCreator;
    };
    PartNumberFormComponent.prototype.loadEnableAddButton = function () {
        this.enableAddButton = true;
        if (!!this.birePartUpdateGuidelineDTO) {
            var guidelineWrongStatusToEnableAdd = this.birePartUpdateGuidelineDTO.filter(function (elt) {
                return elt.pugStatus !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].DEA_DIA_STATUS_CLOSED &&
                    elt.pugStatus !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].DEA_DIA_STATUS_REFUSED;
            });
            if (!!guidelineWrongStatusToEnableAdd && guidelineWrongStatusToEnableAdd.length !== 0) {
                this.enableAddButton = false;
            }
        }
    };
    Object.defineProperty(PartNumberFormComponent.prototype, "enableDeleteButton", {
        get: function () {
            var enableDeleteButton = false;
            if (this.guidelineTableDataSource.dataSelectionCount === 1) {
                if (this.guidelineTableDataSource.dataSelection[0]._obj.pugStatus ===
                    _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_10__["AWPropertiesConstants"].DEA_DIA_STATUS_DRAFT) {
                    enableDeleteButton = true;
                }
            }
            else {
                enableDeleteButton = false;
            }
            return enableDeleteButton;
        },
        enumerable: true,
        configurable: true
    });
    PartNumberFormComponent.prototype.loadPartGuidelineTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__["GenericPropertyConstants"].PART_GUIDELINE_TYPE_MAP).subscribe(function (results) {
            _this.partGuidelineTypes = results;
        });
    };
    PartNumberFormComponent.prototype.loadPartGuidelineStatus = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__["GenericPropertyConstants"].GUIDELINE_STATUS_MAP).subscribe(function (results) {
            _this.partGuidelineStatus = results;
        });
    };
    PartNumberFormComponent.prototype.loadUser = function () {
        var _this = this;
        if (!!this.sessionService.loggedUser) {
            var login = this.sessionService.loggedUser.login;
            this.pnFormService.findBidoUserByLogin(login).subscribe(function (user) {
                _this.user = user;
            });
        }
    };
    PartNumberFormComponent.prototype.loadIsController = function () {
        this.isController = this.sessionService.hasUserRightByUseCase(_shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_11__["BidoFunctionTypeConstants"].UC_DEA_DIA_CONTROLLER, _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_11__["BidoFunctionTypeConstants"].DEGREE_UPDATE);
    };
    PartNumberFormComponent.prototype.loadSparePartClassDropdown = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_13__["GenericPropertyConstants"].SPARE_PART_CLASS_CODE).subscribe(function (results) {
            _this.sparePartClassOptions = results;
        });
    };
    var PartNumberFormComponent_1;
    PartNumberFormComponent.MAIN_ANCHOR_ID = 'mainAnchor';
    PartNumberFormComponent.GENERAL_ANCHOR_ID = 'generalAnchor';
    PartNumberFormComponent.NATO_ANCHOR_ID = 'natoAnchor';
    PartNumberFormComponent.ATTRIBUTES_ANCHOR_ID = 'attributesAnchor';
    PartNumberFormComponent.REFERENCE_ANCHOR_ID = 'referenceAnchor';
    PartNumberFormComponent.ITEMS_ANCHOR_ID = 'itemsAnchor';
    PartNumberFormComponent.EVOLUTIONS_ANCHOR_ID = 'evolutionsAnchor';
    PartNumberFormComponent.DOCUMENTS_ANCHOR_ID = 'documentsAnchor';
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.MAIN_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "mainEltRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.GENERAL_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "generalEltRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.NATO_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "natoEltRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.ATTRIBUTES_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "attributesEltRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.REFERENCE_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "referenceEltRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.ITEMS_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "itemsEltRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.EVOLUTIONS_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "evolutionsEltRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(PartNumberFormComponent_1.DOCUMENTS_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], PartNumberFormComponent.prototype, "documentsEltRef", void 0);
    PartNumberFormComponent = PartNumberFormComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-part-number-form',
            template: __webpack_require__(/*! ./part-number-form.component.html */ "./src/app/main/engineering-management/part-number-form/part-number-form.component.html"),
            styles: [__webpack_require__(/*! ./part-number-form.component.scss */ "./src/app/main/engineering-management/part-number-form/part-number-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_20__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_21__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_22__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_24__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_26__["TabService"],
            _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_7__["PageTocService"],
            _part_number_form_service__WEBPACK_IMPORTED_MODULE_34__["PartNumberFormService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_18__["ConfirmationService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_8__["DynamicAttributesService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_23__["PropertiesService"],
            _popups_ref_measurements_popup_form_service__WEBPACK_IMPORTED_MODULE_35__["ReferenceMeasurementsPopupFormService"],
            _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_27__["UpdateHistoricService"],
            _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_6__["UpdateHistoricApi"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_19__["DateService"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_33__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_17__["FormatSelectOptionPipe"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_25__["SessionService"]])
    ], PartNumberFormComponent);
    return PartNumberFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_28__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/part-number-form/part-number-form.service.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-form/part-number-form.service.ts ***!
  \******************************************************************************************/
/*! exports provided: PartNumberFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartNumberFormService", function() { return PartNumberFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/task-management.api */ "./src/app/shared/api/task-management.api.ts");
/* harmony import */ var _shared_api_user_profile_management_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/api/user-profile-management.api */ "./src/app/shared/api/user-profile-management.api.ts");
/* harmony import */ var _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/constants/bire-action-type-constants */ "./src/app/shared/constants/bire-action-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var PartNumberFormService = /** @class */ (function (_super) {
    __extends(PartNumberFormService, _super);
    function PartNumberFormService(http, appConfigService, productStructureManagementApi, taskManagementApi, propertiesService, userProfileManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.taskManagementApi = taskManagementApi;
        _this.propertiesService = propertiesService;
        _this.userProfileManagementApi = userProfileManagementApi;
        return _this;
    }
    PartNumberFormService.prototype.findBirePn = function (pn) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePn, pn);
    };
    PartNumberFormService.prototype.findBirePnDocs = function (pn) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnDocs, pn);
    };
    PartNumberFormService.prototype.findAllBireVariantVersions = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireVariantVersions);
    };
    PartNumberFormService.prototype.findAllBireUnitMeasures = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireUnitMeasures);
    };
    PartNumberFormService.prototype.savePnData = function (savePartNumberInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.savePartNumber, savePartNumberInput);
    };
    // public upgradeBireEvolution(bireEvolutionDTO: BireEvolutionDTO, targetRevisionNumber: string): Observable<BireEvolutionDTO> {
    //     const upgradeBireEvolutionInput: UpgradeBireEvolutionInput = {
    //         bireEvolutionDTO: bireEvolutionDTO,
    //         targetRevisionNumber : targetRevisionNumber
    //     };
    //     return super.post<UpgradeBireEvolutionInput, BireEvolutionDTO>
    //         (this.productStructureManagementApi.upgradeBireEvolution, upgradeBireEvolutionInput);
    // }
    PartNumberFormService.prototype.findBireAttribute = function (attributeId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttribute, attributeId);
    };
    PartNumberFormService.prototype.findBireAttributesByCategory = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategory, category);
    };
    PartNumberFormService.prototype.findBireEvolutionPnsByPnCode = function (birePn) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionPnsByPnCode, birePn);
    };
    PartNumberFormService.prototype.findBireItemPnEvolutionsByPnCodeOrPnPnCode = function (birePn) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemPnEvolutionsByPnCodeOrPnPnCode, birePn);
    };
    PartNumberFormService.prototype.findBirePnMeasuresByPnCode = function (birePn) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnMeasuresByPnCode, birePn);
    };
    PartNumberFormService.prototype.findBirePnAttributesByPn = function (pnCode) {
        var birePnId = {
            pnCode: pnCode
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnAttributesByPn, birePnId);
    };
    PartNumberFormService.prototype.getFuncObjectStatusMap = function () {
        return this.propertiesService.getValue('getFuncObjectStatusMap');
    };
    PartNumberFormService.prototype.getObjectStatusMap = function () {
        return this.propertiesService.getValue('getObjectStatusMap');
    };
    PartNumberFormService.prototype.getPnTraceabilityMap = function () {
        return this.propertiesService.getValue('getPnTraceabilityMap');
    };
    PartNumberFormService.prototype.getRefMeasureCategoryMap = function () {
        return this.propertiesService.getValue('getRefMeasureCategoryMap');
    };
    // Bind Items Table
    PartNumberFormService.prototype.findBireItemsBySearchCriteria = function (pnCode) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireItemByPnCodeAndFamilyVariantAndItemNumberAndFunctionCode, pnCode);
    };
    PartNumberFormService.prototype.findBireItemsBySearchCriteriaPartNumber = function (attribute, bireItemDTOCriteria, pnCode) {
        var criteria = {
            attribute: attribute,
            bireItemDTOCriteria: bireItemDTOCriteria,
            pnCode: pnCode
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireItemsBySearchCriteriaPartNumber, criteria);
    };
    PartNumberFormService.prototype.getStructureTypeMap = function () {
        return this.propertiesService.getValue('getStructureTypeMap');
    };
    PartNumberFormService.prototype.findBireActionTypesByActionTypeCodeA = function () {
        var item = _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_5__["BireActionTypeConstants"].ACTION_TYPE_A;
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireActionTypesByActionTypeCode, item);
    };
    PartNumberFormService.prototype.findBireActionTypesByActionTypeCodeB = function () {
        var item = _shared_constants_bire_action_type_constants__WEBPACK_IMPORTED_MODULE_5__["BireActionTypeConstants"].ACTION_TYPE_B;
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireActionTypesByActionTypeCode, item);
    };
    PartNumberFormService.prototype.findBireVersionPnsByPnCode = function (pnCode) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireVersionPnsByPnCode, pnCode);
    };
    PartNumberFormService.prototype.findBireMaintenancePlansByPn = function (pnCode) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireMaintenanceProgramByPn, pnCode);
    };
    PartNumberFormService.prototype.findQuantityUnitMap = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findQuantityUnitMap);
    };
    PartNumberFormService.prototype.saveBirePartUpdateGuideline = function (saveInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.saveBirePartUpdateGuideline, saveInput);
    };
    PartNumberFormService.prototype.findBirePartUpdateGuideline = function (birePnDTOId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePartUpdateGuideline, birePnDTOId);
    };
    PartNumberFormService.prototype.removeBirePartUpdateGuideline = function (input) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.removeBirePartUpdateGuideline, input);
    };
    PartNumberFormService.prototype.findBidoUserByLogin = function (login) {
        return _super.prototype.post.call(this, this.userProfileManagementApi.findUserByLogin, login);
    };
    PartNumberFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_7__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_3__["TaskManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_8__["PropertiesService"],
            _shared_api_user_profile_management_api__WEBPACK_IMPORTED_MODULE_4__["UserProfileManagementApi"]])
    ], PartNumberFormService);
    return PartNumberFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_6__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.html":
/*!****************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.html ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"70\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".titlePopup\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"section\">\r\n        <h4 class=\"section-title\">{{ getComponentName() + \".refMeasurementsManagement\" | translate }}</h4>\r\n\r\n        <div class=\"section-content\">\r\n          <div class=\"row\">\r\n            <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".counterCode\" | translate }}</label>\r\n\r\n              <div\r\n                class=\"form-control form-control-with-modal\"\r\n                [ngClass]=\"{ disabled: isReadOpenMode || isWriteOpenMode }\"\r\n              >\r\n                <div class=\"form-control-data\" (click)=\"showCounterCode()\">{{ currentRef.counterCode }}</div>\r\n\r\n                <div *ngIf=\"currentRef.counterCode\" class=\"btn-clear-wrapper\">\r\n                  <i\r\n                    class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                    aria-hidden=\"true\"\r\n                    (click)=\"currentRef.counterCode = undefined\"\r\n                  ></i>\r\n                </div>\r\n                <div class=\"btn-search-wrapper\">\r\n                  <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showCounterCode()\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".familyCode\" | translate }}</label>\r\n\r\n              <div\r\n                class=\"form-control form-control-with-modal\"\r\n                [ngClass]=\"{ disabled: isReadOpenMode || isWriteOpenMode }\"\r\n              >\r\n                <div class=\"form-control-data\" (click)=\"showFamilyCode()\">{{ familyCode }}</div>\r\n\r\n                <div *ngIf=\"familyCode\" class=\"btn-clear-wrapper\">\r\n                  <i\r\n                    class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                    aria-hidden=\"true\"\r\n                    (click)=\"familyCode = undefined\"\r\n                  ></i>\r\n                </div>\r\n                <div class=\"btn-search-wrapper\">\r\n                  <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showFamilyCode()\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".ratingCode\" | translate }}</label>\r\n\r\n              <div\r\n                class=\"form-control form-control-with-modal\"\r\n                [ngClass]=\"{ disabled: isReadOpenMode || isWriteOpenMode }\"\r\n              >\r\n                <div class=\"form-control-data\" (click)=\"searchRatingsCode()\">\r\n                  {{ currentRef.ratingCode }} <span *ngIf=\"ratingName\">- {{ ratingName }}</span>\r\n                </div>\r\n\r\n                <div *ngIf=\"currentRef.ratingCode && !isWriteOpenMode\" class=\"btn-clear-wrapper\">\r\n                  <i\r\n                    class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                    aria-hidden=\"true\"\r\n                    (click)=\"currentRef.ratingCode = undefined; ratingName = undefined\"\r\n                  ></i>\r\n                </div>\r\n                <div class=\"btn-search-wrapper\">\r\n                  <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"searchRatingsCode()\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".interventionOption\" | translate }}</label>\r\n\r\n              <div class=\"form-control\">\r\n                <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"interventionOption\" [disabled]=\"isReadOpenMode\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".isUpdatable\" | translate }}</label>\r\n\r\n              <div class=\"form-control\">\r\n                <p-checkbox\r\n                  class=\"aw-checkbox\"\r\n                  value=\"val1\"\r\n                  binary=\"true\"\r\n                  [(ngModel)]=\"isUpdatable\"\r\n                  [disabled]=\"isReadOpenMode\"\r\n                ></p-checkbox>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".tolerance\" | translate }}</label>\r\n              <div class=\"form-control\">\r\n                <input\r\n                  #tolerance=\"ngModel\"\r\n                  type=\"text\"\r\n                  class=\"aw-input\"\r\n                  [(ngModel)]=\"currentRef.tolerance\"\r\n                  [disabled]=\"isReadOpenMode\"\r\n                  [pKeyFilter]=\"inputValidationService.validatorOfNumber()\"\r\n                  [pValidateOnly]=\"true\"\r\n                />\r\n                <p-message\r\n                  *ngIf=\"tolerance.invalid && (tolerance.dirty || tolerance.touched)\"\r\n                  severity=\"error\"\r\n                  [text]=\"inputValidationService.formatOfNumber()\"\r\n                ></p-message>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group flex--1\"></div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">{{ getComponentName() + \".sbNumber\" | translate }}</label>\r\n\r\n              <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOpenMode }\">\r\n                <div class=\"form-control-data\" (click)=\"showSbNumber()\">{{ currentRef.sb }}</div>\r\n\r\n                <div *ngIf=\"currentRef.sb\" class=\"btn-clear-wrapper\">\r\n                  <i\r\n                    class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                    aria-hidden=\"true\"\r\n                    (click)=\"currentRef.sb = undefined\"\r\n                  ></i>\r\n                </div>\r\n                <div class=\"btn-search-wrapper\">\r\n                  <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showSbNumber()\"></i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group flex--1\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <h4 class=\"section-title\">{{ getComponentName() + \".limitDefinition\" | translate }}</h4>\r\n\r\n        <div class=\"section-content\">\r\n          <div class=\"column\">\r\n            <div class=\"row\">\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">{{ getComponentName() + \".pnPotentialReferenceValue\" | translate }}</label>\r\n\r\n                <div class=\"form-control form-control-with-radiobutton\">\r\n                  <p-radioButton\r\n                    class=\"aw-radiobutton\"\r\n                    (onClick)=\"changeLimitValue()\"\r\n                    [disabled]=\"isReadOpenMode\"\r\n                    value=\"limitValue\"\r\n                    [(ngModel)]=\"optionLimit\"\r\n                    inputId=\"limitValue\"\r\n                  ></p-radioButton>\r\n\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"aw-input\"\r\n                    [(ngModel)]=\"currentRef.pnPotentialReferenceValue\"\r\n                    [disabled]=\"optionLimit !== 'limitValue' || isReadOpenMode\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">{{ getComponentName() + \".pnPotentialLimitDate\" | translate }}</label>\r\n\r\n                <div class=\"form-control form-control-with-radiobutton\">\r\n                  <p-radioButton\r\n                    class=\"aw-radiobutton\"\r\n                    (onClick)=\"changeLimitDate()\"\r\n                    [disabled]=\"isReadOpenMode || currentRef.limitIsUpdatable\"\r\n                    value=\"limitDate\"\r\n                    [(ngModel)]=\"optionLimit\"\r\n                    inputId=\"limitDate\"\r\n                  ></p-radioButton>\r\n\r\n                  <p-calendar\r\n                    showButtonBar=\"true\"\r\n                    [monthNavigator]=\"true\"\r\n                    [yearNavigator]=\"true\"\r\n                    [yearRange]=\"sessionService.calendarYearRange\"\r\n                    class=\"aw-calendar\"\r\n                    [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                    [locale]=\"sessionService.calendarFormat\"\r\n                    [disabled]=\"optionLimit === 'limitValue' || currentRef.limitIsUpdatable || isReadOpenMode\"\r\n                    [(ngModel)]=\"currentRef.pnPotentialLimitDate\"\r\n                    appendTo=\"body\"\r\n                  ></p-calendar>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group flex--3\"></div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">{{ getComponentName() + \".limitIsUpdatable\" | translate }}</label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-checkbox\r\n                    class=\"aw-checkbox\"\r\n                    (onChange)=\"checkLimitUpdatable()\"\r\n                    value=\"val1\"\r\n                    binary=\"true\"\r\n                    [(ngModel)]=\"currentRef.limitIsUpdatable\"\r\n                    [disabled]=\"isReadOpenMode\"\r\n                  ></p-checkbox>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group flex--2\" [ngClass]=\"{ required: !isReadOpenMode && currentRef.limitIsUpdatable }\">\r\n                <label class=\"form-label\">{{ getComponentName() + \".limitDescription\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"aw-input\"\r\n                    [(ngModel)]=\"currentRef.limitDescription\"\r\n                    [disabled]=\"isReadOpenMode\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group flex--2\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"onHide()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      [disabled]=\"\r\n        currentRef.counterCode === null ||\r\n        currentRef.counterCode === undefined ||\r\n        currentRef.counterCode.trim() === '' ||\r\n        familyCode === null ||\r\n        familyCode === undefined ||\r\n        familyCode.trim() === ''\r\n      \"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"onValidate()\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-table\r\n  *ngIf=\"showFamilyCodeDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showFamilyCodeDialog\"\r\n  [data]=\"dialogTableDataFamilyCode\"\r\n  (onSelected)=\"setSelectedFamilyCode($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-table\r\n  *ngIf=\"showCounterCodeDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showCounterCodeDialog\"\r\n  [data]=\"dialogTableDataCounterCode\"\r\n  (onSelected)=\"setSelectedCounterCode($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-table\r\n  *ngIf=\"showRatingsCodeDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showRatingsCodeDialog\"\r\n  [data]=\"dialogTableDataRatingsCode\"\r\n  (onSelected)=\"setSelectedRatingsCode($event)\"\r\n></aw-dialog-table>\r\n<aw-dialog-table\r\n  *ngIf=\"showServiceBulletinDialog\"\r\n  [keyMap]=\"keyMap\"\r\n  [(display)]=\"showServiceBulletinDialog\"\r\n  [data]=\"dialogTableDataServiceBulletin\"\r\n  (onSelected)=\"setSelectedServiceBulletin($event)\"\r\n></aw-dialog-table>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.ts ***!
  \**************************************************************************************************************/
/*! exports provided: ReferenceMeasurementsPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceMeasurementsPopupFormComponent", function() { return ReferenceMeasurementsPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _ref_measurements_popup_form_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ref-measurements-popup-form.service */ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var ReferenceMeasurementsPopupFormComponent = /** @class */ (function (_super) {
    __extends(ReferenceMeasurementsPopupFormComponent, _super);
    function ReferenceMeasurementsPopupFormComponent(refMeasurementsPopupFormService, sessionService, messageService, inputValidationService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Write, 'ReferenceMeasurementsPopupDialog') || this;
        _this.refMeasurementsPopupFormService = refMeasurementsPopupFormService;
        _this.sessionService = sessionService;
        _this.messageService = messageService;
        _this.inputValidationService = inputValidationService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.displayDialog = false;
        _this.showFamilyCodeDialog = false;
        _this.showCounterCodeDialog = false;
        _this.showRatingsCodeDialog = false;
        _this.showServiceBulletinDialog = false;
        _this.isRatingRequired = false;
        _this.newRef = false;
        _this.familyCode = '';
        _this.pnFamilyCode = undefined;
        _this.optionLimit = 'limitValue';
        _this.ratingName = '';
        _this.interventionOption = '';
        _this.isUpdatable = false;
        _this.contentTable = [];
        _this.currentRef = {};
        _this.keyMap = new Map();
        _this.keyMap.set('familyFunction', _this.refMeasurementsPopupFormService.getFamilyFunctionMap());
        _this.keyMap.set('evolutionType', _this.refMeasurementsPopupFormService.getEvolutionTypeMap());
        _this.keyMap.set('evolutionCompliance', _this.refMeasurementsPopupFormService.getComplianceMap());
        _this.keyMap.set('evolutionLevel', _this.refMeasurementsPopupFormService.getEvolutionLevelMap());
        _this.keyMap.set('structureType', _this.refMeasurementsPopupFormService.getStructureTypeMap());
        _this.keyMap.set('mrCategory', _this.refMeasurementsPopupFormService.getRefMeasureCategoryMap());
        _this.searchFamilyCode();
        _this.searchCounterCode();
        _this.searchRatingsCode();
        _this.searchServiceBulletin();
        return _this;
    }
    ReferenceMeasurementsPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {
            this.currentRef = this.componentData.object;
            if (!!this.componentData.object) {
                this.pnFamilyCode = this.componentData.object.familyCode;
            }
            var selRow = this.componentData.selectedRow;
            if (!!selRow && !!selRow[0]) {
                var interventionOption = selRow[0].interventionOptions;
                var isUpdatable = selRow[0].valueResettable;
                if (!!interventionOption) {
                    this.interventionOption = interventionOption;
                }
                if (!!isUpdatable) {
                    this.isUpdatable = isUpdatable;
                }
            }
            if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {
                this.isEditable = true;
            }
            else {
                this.isEditable = false;
                this.loadPopup();
            }
            this.setFindBireRatingsBySearchCriteriaInput();
        }
    };
    ReferenceMeasurementsPopupFormComponent.prototype.loadPopup = function () {
        var _this = this;
        this.familyCode = this.currentRef.familyCode + "-" + this.currentRef.structureType;
        if (this.currentRef.pnPotentialLimitDate) {
            this.optionLimit = 'limitDate';
            this.currentRef.pnPotentialLimitDate = new Date(this.currentRef.pnPotentialLimitDate);
        }
        else {
            this.optionLimit = 'limitValue';
        }
        var bireRatingDTO = {
            familyCode: this.pnFamilyCode,
            ratingCode: this.currentRef && this.currentRef.ratingCode,
            ratingName: undefined,
            structureType: this.currentRef && this.currentRef.structureType
        };
        var findBireRatingsBySearchCriteriaInput = {
            pnCode: this.currentRef.pnCode,
            variantCode: undefined,
            useCaseCode: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_2__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            bireRatingDTOCriteria: bireRatingDTO
        };
        this.refMeasurementsPopupFormService
            .findBireRatingsBySearchCriteria(findBireRatingsBySearchCriteriaInput)
            .subscribe(function (result) {
            if (result.list.length > 0) {
                _this.ratingName = result.list[0].ratingName;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetRatings'));
        });
    };
    ReferenceMeasurementsPopupFormComponent.prototype.onShow = function () {
        this.displayDialog = true;
    };
    ReferenceMeasurementsPopupFormComponent.prototype.onHide = function () {
        this.newRef = false;
        this.currentRef = {};
        this.display = false;
    };
    ReferenceMeasurementsPopupFormComponent.prototype.onValidate = function () {
        this.currentRef.interventionOptions =
            (this.interventionOption != undefined ? this.interventionOption : '') + ';' + String(this.isUpdatable);
        if (!!this.currentRef &&
            this.currentRef.familyCode &&
            this.currentRef.structureType &&
            this.currentRef.counterCode) {
            if ((this.currentRef.limitIsUpdatable && this.currentRef.limitDescription) || !this.currentRef.limitIsUpdatable) {
                this.currentRef.ratingCode = this.currentRef.ratingCode ? this.currentRef.ratingCode : '_';
                if (this.isNewRef) {
                    this.onCreate.emit(this.currentRef);
                    this.display = false;
                }
                else {
                    this.onUpdate.emit(this.currentRef);
                    this.display = false;
                }
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('descriptionLimitMissing'));
            }
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));
        }
    };
    ReferenceMeasurementsPopupFormComponent.prototype.searchFamilyCode = function () {
        var test = [
            { field: 'familyCode', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'familyName', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'structureType', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'familyFunction', width: '180px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input }
        ];
        this.dialogTableDataFamilyCode = {
            componentId: 'FamilyCodePopup',
            tableCols: test,
            tableRows: this.refMeasurementsPopupFormService.findAllBireFamilys(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_5__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ReferenceMeasurementsPopupFormComponent.prototype.searchCounterCode = function () {
        var counterTable = [
            { field: 'counterCode', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'unitCode', width: '100px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'mrCategory', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'counterRemarks', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'minRemainPercent', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'isCounter', width: '70px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Tricheckbox, alignment: 'center' },
            { field: 'propagationAllowed', width: '70px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Tricheckbox, alignment: 'center' }
        ];
        var bireMeasureReferenceDTO = {};
        this.dialogTableDataCounterCode = {
            componentId: 'CounterCodePopup',
            tableCols: counterTable,
            tableRows: this.refMeasurementsPopupFormService
                .findBireMeasureReferencesBySearchCriteria(bireMeasureReferenceDTO)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function (results) { return ({
                list: results,
                moreResults: false
            }); })),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_5__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ReferenceMeasurementsPopupFormComponent.prototype.searchRatingsCode = function () {
        if (this.isCreateOpenMode) {
            this.showRatingsCodeDialog = true;
        }
        else {
            this.showRatingsCodeDialog = false;
        }
        var ratingTable = [
            { field: 'ratingCode', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'ratingName', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'familyCode', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input },
            { field: 'structureType', width: '150px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input }
        ];
        this.setFindBireRatingsBySearchCriteriaInput();
        this.dialogTableDataRatingsCode = {
            componentId: 'RatingCodePopup',
            tableCols: ratingTable,
            tableRows: this.refMeasurementsPopupFormService.findBireRatingsBySearchCriteria(this.findBireRatingsBySearchCriteriaInput),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_5__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ReferenceMeasurementsPopupFormComponent.prototype.searchServiceBulletin = function () {
        var sbTable = [
            { field: 'sbNumber', width: '10%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbRevisionNumber', width: '8%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbTitle', width: '20%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'statusState', width: '10%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbType', width: '10%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbCompliance', width: '10%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbPublicationDate', width: '16%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbEffectiveDate', width: '16%', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableColumnFilterMode"].Input, alignment: 'left' }
        ];
        this.dialogTableDataServiceBulletin = {
            componentId: 'ServiceBulletinPopup',
            tableCols: sbTable,
            tableRows: this.refMeasurementsPopupFormService.findBireSbsBySbCriteria(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_5__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ReferenceMeasurementsPopupFormComponent.prototype.setFindBireRatingsBySearchCriteriaInput = function () {
        var _this = this;
        var bireRatingDTO = {
            familyCode: this.currentRef && this.currentRef.familyCode,
            ratingCode: undefined,
            ratingName: undefined,
            structureType: this.currentRef && this.currentRef.structureType
        };
        this.findBireRatingsBySearchCriteriaInput = {
            pnCode: this.currentRef.pnCode,
            variantCode: undefined,
            useCaseCode: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_2__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            bireRatingDTOCriteria: bireRatingDTO
        };
        this.refMeasurementsPopupFormService
            .findBireRatingsBySearchCriteria(this.findBireRatingsBySearchCriteriaInput)
            .subscribe(function (result) {
            _this.isRatingRequired = result && result.list.length > 0;
        });
    };
    ReferenceMeasurementsPopupFormComponent.prototype.showFamilyCode = function () {
        if (this.isCreateOpenMode) {
            this.showFamilyCodeDialog = true;
        }
        else {
            this.showFamilyCodeDialog = false;
        }
    };
    ReferenceMeasurementsPopupFormComponent.prototype.showSbNumber = function () {
        if (this.isReadOpenMode) {
            this.showServiceBulletinDialog = false;
        }
        else {
            this.showServiceBulletinDialog = true;
        }
    };
    ReferenceMeasurementsPopupFormComponent.prototype.showCounterCode = function () {
        if (this.isCreateOpenMode) {
            this.showCounterCodeDialog = true;
        }
        else {
            this.showCounterCodeDialog = false;
        }
    };
    ReferenceMeasurementsPopupFormComponent.prototype.setSelectedFamilyCode = function (selectedObject) {
        if (!!selectedObject) {
            this.currentRef.familyCode = selectedObject.familyCode;
            this.currentRef.structureType = selectedObject.structureType;
            this.familyCode = selectedObject.familyCode + "-" + selectedObject.structureType;
        }
        this.setFindBireRatingsBySearchCriteriaInput();
        this.showFamilyCodeDialog = false;
        this.ratingName = '';
        this.currentRef.ratingCode = '';
    };
    ReferenceMeasurementsPopupFormComponent.prototype.setSelectedCounterCode = function (selectedObject) {
        if (selectedObject) {
            this.currentRef.counterCode = selectedObject.counterCode;
        }
        this.showCounterCodeDialog = false;
    };
    ReferenceMeasurementsPopupFormComponent.prototype.setSelectedRatingsCode = function (selectedObject) {
        if (selectedObject) {
            this.currentRef.ratingCode = selectedObject.ratingCode;
            if (!!selectedObject.ratingName) {
                this.ratingName = selectedObject.ratingName;
            }
        }
        this.showCounterCodeDialog = false;
    };
    ReferenceMeasurementsPopupFormComponent.prototype.setSelectedServiceBulletin = function (selectedObject) {
        if (selectedObject) {
            this.currentRef.sb = selectedObject.sbNumber + ":" + selectedObject.sbRevisionNumber;
        }
        this.showServiceBulletinDialog = false;
    };
    ReferenceMeasurementsPopupFormComponent.prototype.changeLimitDate = function () {
        this.currentRef.pnPotentialReferenceValue = '';
    };
    ReferenceMeasurementsPopupFormComponent.prototype.changeLimitValue = function () {
        this.currentRef.pnPotentialLimitDate = undefined;
    };
    ReferenceMeasurementsPopupFormComponent.prototype.checkLimitUpdatable = function () {
        this.optionLimit = 'limitValue';
        this.currentRef.pnPotentialReferenceValue = '0';
        this.currentRef.pnPotentialLimitDate = undefined;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ReferenceMeasurementsPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ReferenceMeasurementsPopupFormComponent.prototype, "isNewRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], ReferenceMeasurementsPopupFormComponent.prototype, "openMode", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ReferenceMeasurementsPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ReferenceMeasurementsPopupFormComponent.prototype, "onUpdate", void 0);
    ReferenceMeasurementsPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-ref-measurements-popup-form',
            template: __webpack_require__(/*! ./ref-measurements-popup-form.component.html */ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_ref_measurements_popup_form_service__WEBPACK_IMPORTED_MODULE_10__["ReferenceMeasurementsPopupFormService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_8__["SessionService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__["MessageService"],
            _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_6__["InputValidationService"]])
    ], ReferenceMeasurementsPopupFormComponent);
    return ReferenceMeasurementsPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_9__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.service.ts":
/*!************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.service.ts ***!
  \************************************************************************************************************/
/*! exports provided: ReferenceMeasurementsPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReferenceMeasurementsPopupFormService", function() { return ReferenceMeasurementsPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ReferenceMeasurementsPopupFormService = /** @class */ (function (_super) {
    __extends(ReferenceMeasurementsPopupFormService, _super);
    function ReferenceMeasurementsPopupFormService(http, appConfigService, productStructureManagementApi, propertiesService) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.propertiesService = propertiesService;
        return _this;
    }
    ReferenceMeasurementsPopupFormService.prototype.findAllBireFamilys = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireFamilys);
    };
    ReferenceMeasurementsPopupFormService.prototype.findBireMeasureReferencesBySearchCriteria = function (bireMeasureReferenceDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireMeasureReferencesBySearchCriteria, bireMeasureReferenceDTO);
    };
    ReferenceMeasurementsPopupFormService.prototype.findBireRatingsBySearchCriteria = function (findBireRatingsBySearchCriteriaInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireRatingsBySearchCriteria, findBireRatingsBySearchCriteriaInput);
    };
    ReferenceMeasurementsPopupFormService.prototype.findBireSbsBySbCriteria = function () {
        var bireSbDTO = {
            sbNumber: undefined
        };
        var criteria = {
            bireSbDTO: bireSbDTO,
            familyCode: undefined,
            structureType: undefined,
            variantCode: undefined,
            publicationDateFrom: undefined,
            publicationDateTo: undefined,
            effectiveDateFrom: undefined,
            effectiveDateTo: undefined
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbsBySbCriteria, criteria);
    };
    ReferenceMeasurementsPopupFormService.prototype.findAllBireInterdependences = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireInterdependences);
    };
    // public findBireMeasureReferencesBySearchCriteria(familyCode: string, structureType: string,
    //     variantCode: string): Observable<BireMeasureReferenceDTO[]> {
    //     const bireEvolutionDTO: BireEvolutionDTO = {};
    //     const params: FindBireEvolutionsByEvolutionCriteriaInput = {
    //         bireEvolutionDTO: bireEvolutionDTO,
    //         familyCode: familyCode,
    //         structureType: structureType,
    //         variantCode: variantCode
    //     };
    //     const test: Observable<BireEvolutionDTO[]> = super.post<FindBireEvolutionsByEvolutionCriteriaInput,
    //         BireMeasureReferenceDTO[]>(this.productStructureManagementApi.findBireEvolutionsByEvolutionCriteria, params);
    //     return test;
    // }
    ReferenceMeasurementsPopupFormService.prototype.getFamilyFunctionMap = function () {
        return this.propertiesService.getValue('getFamilyFunctionMap');
    };
    ReferenceMeasurementsPopupFormService.prototype.getEvolutionTypeMap = function () {
        return this.propertiesService.getValue('getEvolutionTypeMap');
    };
    ReferenceMeasurementsPopupFormService.prototype.getComplianceMap = function () {
        return this.propertiesService.getValue('getComplianceMap');
    };
    ReferenceMeasurementsPopupFormService.prototype.getEvolutionLevelMap = function () {
        return this.propertiesService.getValue('getEvolutionLevelMap');
    };
    ReferenceMeasurementsPopupFormService.prototype.getStructureTypeMap = function () {
        return this.propertiesService.getValue('getStructureTypeMap');
    };
    ReferenceMeasurementsPopupFormService.prototype.getRefMeasureCategoryMap = function () {
        return this.propertiesService.getValue('getRefMeasureCategoryMap');
    };
    ReferenceMeasurementsPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"]])
    ], ReferenceMeasurementsPopupFormService);
    return ReferenceMeasurementsPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/part-number-search/part-number-search.component.html":
/*!**************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-search/part-number-search.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"openNewPN()\" *ngIf=\"hasUpdateAccessRight\">\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <div class=\"column\">\r\n                <div class=\"row search-criteria-header\">\r\n                  <i\r\n                    class=\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\"\r\n                    aria-hidden=\"true\"\r\n                    pTooltip=\"{{ 'global.reset' | translate }}\"\r\n                    tooltipPosition=\"top\"\r\n                    (click)=\"resetSearchCriteria()\"\r\n                  ></i>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".familyVariant\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertyVariant\"\r\n                        [(ngModel)]=\"familyVariant\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".pnCode\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.pnCode\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".designation\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.articleDesignation\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".type\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"pnTypes\"\r\n                        [(ngModel)]=\"searchObject.pnType\"\r\n                        [showClear]=\"false\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".statusState\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <p-dropdown\r\n                        class=\"aw-dropdown fixed-width\"\r\n                        [options]=\"propertyStatus\"\r\n                        [(ngModel)]=\"searchObject.statusState\"\r\n                        [showClear]=\"true\"\r\n                        (keyup.enter)=\"search()\"\r\n                        placeholder=\"&nbsp;\"\r\n                      ></p-dropdown>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\"></div>\r\n                </div>\r\n\r\n                <div class=\"advanced-criteria\" [ngClass]=\"{ 'display--none': !showAdvancedCriteria }\">\r\n                  <div class=\"row\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\">\r\n                        {{ componentData.componentId + \".itemFamilyCode\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <p-dropdown\r\n                          class=\"aw-dropdown fixed-width\"\r\n                          [showClear]=\"true\"\r\n                          placeholder=\"&nbsp;\"\r\n                          [(ngModel)]=\"itemFamilyCode\"\r\n                          [options]=\"itemFamilyCodeList\"\r\n                          (keyup.enter)=\"search()\"\r\n                        ></p-dropdown>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"display--flex-row flex--2\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\"> {{ componentData.componentId + \".chapter\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input class=\"aw-input\" type=\"text\" maxlength=\"2\" [(ngModel)]=\"chapter\" />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\"> {{ componentData.componentId + \".section\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input class=\"aw-input\" type=\"text\" maxlength=\"2\" [(ngModel)]=\"section\" />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\"> {{ componentData.componentId + \".subject\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input class=\"aw-input\" type=\"text\" maxlength=\"2\" [(ngModel)]=\"subject\" />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\"> {{ componentData.componentId + \".sheet\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input class=\"aw-input\" type=\"text\" maxlength=\"5\" [(ngModel)]=\"sheet\" />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\"> {{ componentData.componentId + \".marks\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input class=\"aw-input\" type=\"text\" maxlength=\"5\" [(ngModel)]=\"mark\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"display--flex-row flex--2\">\r\n                      <div class=\"display--flex-row flex--2\" *ngIf=\"sessionService.isSpecificMHIAEL\">\r\n                        <div class=\"form-group\"></div>\r\n                        <div class=\"form-group\">\r\n                          <label class=\"form-label\">\r\n                            {{ componentData.componentId + \".serializedPart\" | translate }}\r\n                          </label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <p-checkbox binary=\"true\" class=\"aw-checkbox\" [(ngModel)]=\"isSerialized\"></p-checkbox>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                          <label class=\"form-label\"> {{ componentData.componentId + \".followed\" | translate }} </label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <p-checkbox binary=\"true\" class=\"aw-checkbox\" [(ngModel)]=\"followed\"></p-checkbox>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                          <label class=\"form-label\"> {{ componentData.componentId + \".testable\" | translate }} </label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <p-checkbox binary=\"true\" class=\"aw-checkbox\" [(ngModel)]=\"testable\"></p-checkbox>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                          <label class=\"form-label\"> {{ componentData.componentId + \".slave\" | translate }} </label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <p-checkbox binary=\"true\" class=\"aw-checkbox\" [(ngModel)]=\"slave\"></p-checkbox>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                          <label class=\"form-label\"> {{ componentData.componentId + \".minor\" | translate }} </label>\r\n\r\n                          <div class=\"form-control\">\r\n                            <p-checkbox binary=\"true\" class=\"aw-checkbox\" [(ngModel)]=\"minor\"></p-checkbox>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"row\"></div>\r\n                </div>\r\n\r\n                <div class=\"row search-criteria-footer\">\r\n                  <button mat-button (click)=\"showAdvancedCriteria = !showAdvancedCriteria\">\r\n                    <ng-container *ngIf=\"showAdvancedCriteria\">\r\n                      <mat-icon>remove</mat-icon>\r\n                      {{ \"global.collapseCriteria\" | translate }}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!showAdvancedCriteria\">\r\n                      <mat-icon>add</mat-icon>\r\n                      {{ \"global.expandCriteria\" | translate }}\r\n                    </ng-container>\r\n                  </button>\r\n\r\n                  <div class=\"search-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      class=\"btn-with-spinner\"\r\n                      (click)=\"search()\"\r\n                      color=\"primary\"\r\n                      appKeyPress\r\n                      [keyCode]=\"'Enter'\"\r\n                      (keyPress)=\"search()\"\r\n                    >\r\n                      <span *ngIf=\"isLoading\" class=\"lds-hourglass\"></span>\r\n                      {{ \"global.toSearch\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{\r\n                    partNumberTableDataSource ? partNumberTableDataSource.dataCount : 0\r\n                  }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <a-table [dataSource]=\"partNumberTableDataSource\">\r\n                <ng-template tableActionsDef>\r\n                  <button\r\n                    *ngIf=\"\r\n                      partNumberTableDataSource &&\r\n                      partNumberTableDataSource.hasData &&\r\n                      !partNumberTableDataSource.hasDataSelection\r\n                    \"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"exportTable()\"\r\n                  >\r\n                    {{ \"global.export\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"hasManageAccessRight && partNumberTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"deleteSelectedPN()\"\r\n                  >\r\n                    {{ \"global.delete\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"partNumberTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"openSelectedPN()\"\r\n                  >\r\n                    {{ \"global.open\" | translate }}\r\n                  </button>\r\n                </ng-template>\r\n\r\n                <ng-template columnDef=\"pnCode\" let-rowData=\"rowData\">\r\n                  <a (click)=\"openPartNumberScreen(rowData['pnCode'])\"> {{ rowData[\"pnCode\"] }}</a>\r\n                </ng-template>\r\n\r\n                <ng-template columnDef=\"statusState\" let-rowData=\"rowData\">\r\n                  {{ statusDictionary[rowData.statusState] }}\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/part-number-search/part-number-search.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-search/part-number-search.component.ts ***!
  \************************************************************************************************/
/*! exports provided: PartNumberSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartNumberSearchComponent", function() { return PartNumberSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/utils/label-value-utils */ "./src/app/shared/utils/label-value-utils.ts");
/* harmony import */ var _part_number_search_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./part-number-search.service */ "./src/app/main/engineering-management/part-number-search/part-number-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




















var PartNumberSearchComponent = /** @class */ (function (_super) {
    __extends(PartNumberSearchComponent, _super);
    function PartNumberSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, partNumberSearchService, confirmationService, translateService, exportService, propertiesService, sessionService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.partNumberSearchService = partNumberSearchService;
        _this.confirmationService = confirmationService;
        _this.translateService = translateService;
        _this.exportService = exportService;
        _this.propertiesService = propertiesService;
        _this.sessionService = sessionService;
        _this.searchObject = {};
        _this.exportMethods = [];
        _this.resultsTableExportName = 'part-number-list';
        _this.component = PartNumberSearchComponent_1;
        _this.familyVariantMap = new Map();
        _this.propertyVariant = [];
        _this.familyVariant = undefined;
        _this.searchObject.pnType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_4__["AWPropertiesConstants"].PN_TYPE_PART_KEY;
        _this.isLoading = false;
        _this.showAdvancedCriteria = false;
        _this.initMhiaelData();
        _this.initPartNumberTableDataSource();
        _this.translateService.onLangChange.subscribe(function (_) {
            _this.loadDropDownLists();
        });
        return _this;
    }
    PartNumberSearchComponent_1 = PartNumberSearchComponent;
    PartNumberSearchComponent.prototype.getComponentName = function () {
        return 'PartNumberSearchComponent';
    };
    PartNumberSearchComponent.prototype.setAttributeDTO = function () {
        this.attributesMap = new Map();
        if (this.testable) {
            this.attributesMap.set(PartNumberSearchComponent_1.TESTABLE, this.testable);
        }
        if (this.minor) {
            this.attributesMap.set(PartNumberSearchComponent_1.MINOR, this.minor);
        }
        if (this.slave) {
            this.attributesMap.set(PartNumberSearchComponent_1.SLAVE, this.slave);
        }
        if (this.followed) {
            this.attributesMap.set(PartNumberSearchComponent_1.FOLLOWED, this.followed);
        }
        var attributesConvMap = {};
        if (this.attributesMap.size !== 0) {
            this.attributesMap.forEach(function (value, key) {
                attributesConvMap[key] = value;
            });
            if (Object.keys(attributesConvMap).length > 0) {
                this.attributeMap = __assign({}, attributesConvMap);
            }
        }
    };
    PartNumberSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
        this.loadDropDownLists();
    };
    PartNumberSearchComponent.prototype.initPartNumberTableDataSource = function () {
        this.partNumberTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_3__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                { field: 'pnCode', translateKey: this.getTranslateKey('pnCode') },
                { field: 'articleDesignation', translateKey: this.getTranslateKey('articleDesignation') },
                { field: 'manufacturerOtanCode', translateKey: this.getTranslateKey('manufacturerOtanCode') },
                { field: 'otanPnReference', translateKey: this.getTranslateKey('otanPnReference') },
                { field: 'pnType', translateKey: this.getTranslateKey('type') },
                { field: 'quantityUnit', translateKey: this.getTranslateKey('quantityUnit') },
                { field: 'statusState', translateKey: this.getTranslateKey('statusState') }
            ],
            data: []
        });
    };
    PartNumberSearchComponent.prototype.deleteSelectedPN = function () {
        var _this = this;
        var partialMessageKey = this.partNumberTableDataSource.dataSelection.length > 1 ? 'confirmDeleteSelectedPNs' : 'confirmDeleteSelectedPN';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                var partsId = [];
                _this.partNumberTableDataSource.dataSelection.forEach(function (part) {
                    if (part && part.pnCode) {
                        var partId = {
                            pnCode: part.pnCode
                        };
                        partsId.push(partId);
                    }
                });
                _this.partNumberSearchService.removeBirePn(partsId).subscribe(function (result) {
                    if (result) {
                        _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnDeletePN'));
                        _this.partNumberTableDataSource.deleteDataSelection();
                    }
                    else {
                        _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeletePN'));
                    }
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeletePN'));
                });
            }
        });
    };
    PartNumberSearchComponent.prototype.openNewPN = function () {
        this.openPN(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__["ComponentOpenMode"].Create);
    };
    PartNumberSearchComponent.prototype.openPartNumberScreen = function (pnCode) {
        this.openPN(pnCode, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__["ComponentOpenMode"].Read);
    };
    PartNumberSearchComponent.prototype.openSelectedPN = function () {
        var _this = this;
        this.partNumberTableDataSource.dataSelection.forEach(function (pn) {
            if (pn && pn.pnCode) {
                _this.openPN(pn.pnCode, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__["ComponentOpenMode"].Read);
            }
        });
    };
    PartNumberSearchComponent.prototype.resetResultsTable = function (table) {
        table.reset();
        table.filters = {};
    };
    PartNumberSearchComponent.prototype.resetSearchCriteria = function () {
        this.searchObject = {};
        this.searchObject.pnType = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_4__["AWPropertiesConstants"].PN_TYPE_PART_KEY;
        this.familyVariant = undefined;
        this.chapter = undefined;
        this.subject = undefined;
        this.sheet = undefined;
        this.mark = undefined;
        this.section = undefined;
        this.itemFamilyCode = undefined;
        this.initMhiaelData();
    };
    PartNumberSearchComponent.prototype.search = function () {
        var _this = this;
        if (this.sessionService.isSpecificMHIAEL) {
            this.setAttributeDTO();
        }
        var familyCode;
        var structureType;
        var variantCode;
        this.isLoading = true;
        if (this.familyVariant) {
            var familyVariantDTO_1 = {};
            this.familyVariantMap.forEach(function (variantElement) {
                if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === _this.familyVariant) {
                    familyVariantDTO_1 = variantElement;
                }
            });
            familyCode = familyVariantDTO_1.familyCode;
            structureType = familyVariantDTO_1.structureType;
            variantCode = familyVariantDTO_1.variantCode;
        }
        this.partNumberSearchService
            .findBirePnsBySearchCriteria(this.searchObject, familyCode, structureType, variantCode, this.chapter, this.section, this.subject, this.sheet, this.mark, this.pnType, this.itemFamilyCode, this.isSerialized, this.attributeMap)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["finalize"])(function () {
            _this.isLoading = false;
        }))
            .subscribe(function (results) {
            if (results && results.list) {
                results.list.forEach(function (birePn) {
                    _shared_utils_label_value_utils__WEBPACK_IMPORTED_MODULE_18__["LabelValueUtils"].stringValueToLabel(birePn, 'pnType', _this.pnTypes);
                });
                _this.partNumberTableDataSource.setData(results.list);
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetResults'));
        });
    };
    PartNumberSearchComponent.prototype.loadDropDownLists = function () {
        var _this = this;
        var familyVariantInput = {
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_5__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_5__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        this.statusDictionary = {};
        this.partNumberSearchService.getFamilyVariant(familyVariantInput).subscribe(function (results) {
            var list = new Array();
            results.forEach(function (variantElement) {
                if (!!variantElement.labelValueDTO) {
                    list.push(variantElement.labelValueDTO);
                    _this.familyVariantMap.set(variantElement.labelValueDTO, variantElement);
                }
            });
            _this.propertyVariant = list;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].ITEM_FAMILY_CODE_MAP).subscribe(function (results) {
            _this.itemFamilyCodeList = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].ENGINEERING_PN_TYPES_MAP).subscribe(function (results) {
            _this.pnTypes = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].FUNC_OBJECT_STATUS_MAP).subscribe(function (results) {
            _this.propertyStatus = results;
            _this.fillStatusDictionary(results);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].OBJECT_STATUS_MAP).subscribe(function (results) {
            _this.fillStatusDictionary(results);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
    };
    PartNumberSearchComponent.prototype.fillStatusDictionary = function (references) {
        var _this = this;
        references.forEach(function (lv) { return (_this.statusDictionary[lv.value] = lv.label); });
    };
    PartNumberSearchComponent.prototype.openPN = function (objectId, openMode) {
        var labelKey = 'transaction.PartNumberFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'PartNumberFormComponent',
            objectId: objectId,
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
        this.partNumberTableDataSource.dataSelection = [];
    };
    PartNumberSearchComponent.prototype.save = function () {
        // TODO
    };
    PartNumberSearchComponent.prototype.exportTable = function () {
        var _this = this;
        if (!!this.componentData) {
            var exportList = this.partNumberTableDataSource.dataSrc.map(function (row) { return ({
                pnCode: row.pnCode,
                articleDesignation: row.articleDesignation,
                manufacturerOtanCode: row.manufacturerOtanCode,
                otanPnReference: row.otanPnReference,
                quantityUnit: row.quantityUnit,
                statusState: row.statusState ? _this.statusDictionary[row.statusState] : ''
            }); });
            this.exportService.toExcel(exportList, this.resultsTableExportName, this.componentData.componentId);
        }
    };
    PartNumberSearchComponent.prototype.initMhiaelData = function () {
        this.attributeMap = {};
        this.testable = false;
        this.minor = false;
        this.slave = false;
        this.followed = false;
        this.isSerialized = false;
    };
    var PartNumberSearchComponent_1;
    PartNumberSearchComponent.TESTABLE = 14;
    PartNumberSearchComponent.MINOR = 15;
    PartNumberSearchComponent.SLAVE = 16;
    PartNumberSearchComponent.FOLLOWED = 17;
    PartNumberSearchComponent = PartNumberSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-part-number-search',
            template: __webpack_require__(/*! ./part-number-search.component.html */ "./src/app/main/engineering-management/part-number-search/part-number-search.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_10__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_11__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_12__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_14__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_16__["TabService"],
            _part_number_search_service__WEBPACK_IMPORTED_MODULE_19__["PartNumberSearchService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_8__["ConfirmationService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_9__["ExportService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_13__["PropertiesService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_15__["SessionService"]])
    ], PartNumberSearchComponent);
    return PartNumberSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_17__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/part-number-search/part-number-search.service.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/main/engineering-management/part-number-search/part-number-search.service.ts ***!
  \**********************************************************************************************/
/*! exports provided: PartNumberSearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartNumberSearchService", function() { return PartNumberSearchService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PartNumberSearchService = /** @class */ (function (_super) {
    __extends(PartNumberSearchService, _super);
    function PartNumberSearchService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    PartNumberSearchService.prototype.findBirePnsBySearchCriteria = function (criteria, familyCode, structureType, variantCode, chapter, section, subject, sheet, mark, pnType, itemFamilyCode, isSerialized, attributesMap) {
        var params = {
            birePnDTOCriteria: criteria,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode,
            itemFamilyCode: itemFamilyCode,
            chapter: chapter,
            section: section,
            subject: subject,
            sheet: sheet,
            mark: mark,
            isSerialized: isSerialized,
            attributesMap: attributesMap,
            pnType: pnType
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBirePnsBySearchCriteria, params);
    };
    PartNumberSearchService.prototype.removeBirePn = function (pnId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.removeBirePn, pnId);
    };
    PartNumberSearchService.prototype.getFamilyVariant = function (familyVariantInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariant, familyVariantInput);
    };
    PartNumberSearchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], PartNumberSearchService);
    return PartNumberSearchService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.html":
/*!*************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.html ***!
  \*************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"85\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ \"transaction.\" + getComponentName() | translate }}</div>\r\n\r\n    <i class=\"material-icons aw-icon aw-icon-with-border\" (click)=\"cancel()\">close</i>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"search-dialog-container\">\r\n      <div class=\"section search-criteria-section\">\r\n        <h4 class=\"section-title\">{{ \"global.search\" | translate }}</h4>\r\n\r\n        <div class=\"section-content\">\r\n          <div class=\"column\">\r\n            <div class=\"row\">\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".familyVariant\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-dropdown\r\n                    class=\"aw-dropdown fixed-width\"\r\n                    [options]=\"familyVariants\"\r\n                    [(ngModel)]=\"selectedFamilyVariant\"\r\n                    [showClear]=\"true\"\r\n                    appendTo=\"body\"\r\n                    placeholder=\"&nbsp;\"\r\n                  ></p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".code\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planCode\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".name\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planName\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\"></div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".revisionDate\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-calendar\r\n                    showButtonBar=\"true\"\r\n                    [monthNavigator]=\"true\"\r\n                    [yearNavigator]=\"true\"\r\n                    [yearRange]=\"sessionService.calendarYearRange\"\r\n                    class=\"aw-calendar\"\r\n                    [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                    [locale]=\"sessionService.calendarFormat\"\r\n                    [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planRevisionDate\"\r\n                    appendTo=\"body\"\r\n                  ></p-calendar>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".approvalDate\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-calendar\r\n                    showButtonBar=\"true\"\r\n                    [monthNavigator]=\"true\"\r\n                    [yearNavigator]=\"true\"\r\n                    [yearRange]=\"sessionService.calendarYearRange\"\r\n                    class=\"aw-calendar\"\r\n                    [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                    [locale]=\"sessionService.calendarFormat\"\r\n                    [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planApprovalDate\"\r\n                    appendTo=\"body\"\r\n                  ></p-calendar>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".validityEndDate\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-calendar\r\n                    showButtonBar=\"true\"\r\n                    [monthNavigator]=\"true\"\r\n                    [yearNavigator]=\"true\"\r\n                    [yearRange]=\"sessionService.calendarYearRange\"\r\n                    class=\"aw-calendar\"\r\n                    [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                    [locale]=\"sessionService.calendarFormat\"\r\n                    [(ngModel)]=\"searchObject.bireMaintenancePlanDTO.planValidityEndDate\"\r\n                    appendTo=\"body\"\r\n                  ></p-calendar>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\"></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row search-criteria-footer\">\r\n            <div class=\"search-actions\">\r\n              <button\r\n                type=\"button\"\r\n                mat-raised-button\r\n                (click)=\"search()\"\r\n                color=\"primary\"\r\n                appKeyPress\r\n                [keyCode]=\"'Enter'\"\r\n                (keyPress)=\"search()\"\r\n              >\r\n                {{ \"global.toSearch\" | translate }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <!-- Maintenance programs table -->\r\n          <div class=\"section results-section\">\r\n            <h4 class=\"section-title\">\r\n              {{ \"global.results\" | translate }} ({{\r\n                maintenanceProgramTableDataSource ? maintenanceProgramTableDataSource.dataCount : 0\r\n              }})\r\n            </h4>\r\n\r\n            <div class=\"section-content\">\r\n              <a-table [dataSource]=\"maintenanceProgramTableDataSource\">\r\n                <ng-template columnDef=\"ampStatus\" let-rowData=\"rowData\">\r\n                  <span\r\n                    *ngIf=\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'green'\"\r\n                    class=\"alert alert--ok\"\r\n                  >\r\n                    {{ \"global.alertOk\" | translate }}\r\n                  </span>\r\n\r\n                  <span\r\n                    *ngIf=\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'red'\"\r\n                    class=\"alert alert--nok\"\r\n                  >\r\n                    {{ \"global.alertNok\" | translate }}\r\n                  </span>\r\n\r\n                  <span\r\n                    *ngIf=\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'yellow'\"\r\n                    class=\"alert alert--warning\"\r\n                  >\r\n                    {{ \"global.alertWarning\" | translate }}\r\n                  </span>\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      [disabled]=\"!maintenanceProgramTableDataSource.hasDataSelection\"\r\n      color=\"primary\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"validate()\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.ts":
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.ts ***!
  \***********************************************************************************************************************************************/
/*! exports provided: DialogSearchMaintenanceProgramComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchMaintenanceProgramComponent", function() { return DialogSearchMaintenanceProgramComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/constants/bire-maintenance-plan-constants */ "./src/app/shared/constants/bire-maintenance-plan-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _maintenance_program_search_maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./../../../maintenance-program-search/maintenance-program-search.service */ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var DialogSearchMaintenanceProgramComponent = /** @class */ (function (_super) {
    __extends(DialogSearchMaintenanceProgramComponent, _super);
    function DialogSearchMaintenanceProgramComponent(sessionService, translateService, maintenanceProgramSearchService, propertiesService, dateService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_7__["ComponentOpenMode"].Write, _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_SEARCH) || this;
        _this.sessionService = sessionService;
        _this.translateService = translateService;
        _this.maintenanceProgramSearchService = maintenanceProgramSearchService;
        _this.propertiesService = propertiesService;
        _this.dateService = dateService;
        _this.MAINTENANCE_PLAN = __assign({}, _shared_constants_bire_maintenance_plan_constants__WEBPACK_IMPORTED_MODULE_4__["BireMaintenancePlanConstants"]);
        _this.onSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.familyVariants = [];
        _this.showCompareReportPopup = false;
        _this.isDeleteButtonDisabled = true;
        _this.isEditButtonDisabled = true;
        _this.enableComapreAMP = false;
        _this.enableComapreAMPagainstRMP = false;
        _this.enableComapreRMP = false;
        _this.reportText = {};
        _this.statusMap = new Map();
        _this.loadRights();
        _this.loadStatus();
        _this.loadFamilyVariants();
        _this.resetSearchCriteria();
        _this.initMaintenanceProgramTableDataSource();
        return _this;
    }
    DialogSearchMaintenanceProgramComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_5__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_SEARCH;
    };
    DialogSearchMaintenanceProgramComponent.prototype.onShow = function () {
        this.display = true;
    };
    DialogSearchMaintenanceProgramComponent.prototype.resetSearchCriteria = function () {
        this.selectedFamilyVariant = undefined;
        this.searchObject = {
            bireMaintenancePlanDTO: {},
            bireVariantVersionDTO: {}
        };
    };
    DialogSearchMaintenanceProgramComponent.prototype.initMaintenanceProgramTableDataSource = function () {
        this.maintenanceProgramTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["TableDataSource"]({
            allowMultiSelect: false,
            columns: [
                {
                    field: 'code',
                    translateKey: this.getTranslateKey('code'),
                    width: '15%'
                },
                {
                    field: 'name',
                    translateKey: this.getTranslateKey('name'),
                    width: '23%'
                },
                {
                    field: 'revisionNumber',
                    translateKey: this.getTranslateKey('revisionNumber'),
                    width: '5%'
                },
                {
                    field: 'type',
                    translateKey: this.getTranslateKey('type'),
                    width: '5%'
                },
                {
                    field: 'revisionDate',
                    translateKey: this.getTranslateKey('revisionDate'),
                    width: '10%'
                },
                {
                    field: 'status',
                    translateKey: this.getTranslateKey('status'),
                    width: '10%'
                },
                {
                    field: 'approvalDate',
                    translateKey: this.getTranslateKey('approvalDate'),
                    width: '10%'
                },
                {
                    field: 'validityEndDate',
                    translateKey: this.getTranslateKey('validityEndDate'),
                    width: '12%'
                },
                {
                    field: 'ampStatus',
                    translateKey: this.getTranslateKey('ampStatus'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_2__["ColumnAlignment"].CENTER,
                    width: '10%'
                }
            ],
            data: []
        });
    };
    DialogSearchMaintenanceProgramComponent.prototype.loadStatus = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_6__["GenericPropertyConstants"].FUNC_OBJECT_STATUS_MAP).subscribe(function (results) {
            results.forEach(function (element) {
                _this.statusMap.set(element.value, element.label);
            });
        });
    };
    DialogSearchMaintenanceProgramComponent.prototype.loadFamilyVariants = function () {
        var _this = this;
        var familyVariantInput = {
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_TASK,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        this.maintenanceProgramSearchService
            .findBireFamilyVariantDropdownForMaintenanceProgram(familyVariantInput)
            .subscribe(function (results) {
            results.forEach(function (element) {
                var label = element.familyName ? element.familyName : element.familyCode;
                label = label + "-" + element.structureType;
                label = label + "-" + (element.variantName ? element.variantName : element.variantCode);
                var variantLabelValue = {
                    label: label,
                    value: element
                };
                _this.familyVariants.push(variantLabelValue);
            });
        });
    };
    DialogSearchMaintenanceProgramComponent.prototype.search = function () {
        var _this = this;
        this.maintenanceProgramTableDataSource.setData([]);
        if (this.selectedFamilyVariant) {
            this.searchObject.bireVariantVersionDTO = {
                familyCode: this.selectedFamilyVariant.familyCode,
                structureType: this.selectedFamilyVariant.structureType,
                variantCode: this.selectedFamilyVariant.variantCode,
                variantName: this.selectedFamilyVariant.variantName
            };
        }
        else {
            this.searchObject.bireVariantVersionDTO = {};
        }
        this.isLoading = true;
        this.maintenanceProgramSearchService.findBireMaintenancePlansByCriteria(this.searchObject).subscribe(function (result) {
            _this.setMaintenanceProgramTable(result);
            _this.isLoading = false;
        });
    };
    DialogSearchMaintenanceProgramComponent.prototype.cancel = function () {
        this.display = false;
        _super.prototype.closeDialog.call(this);
    };
    DialogSearchMaintenanceProgramComponent.prototype.validate = function () {
        this.onSelected.emit(this.maintenanceProgramTableDataSource.dataSelection[0].maintenanceProgram);
        _super.prototype.closeDialog.call(this);
    };
    DialogSearchMaintenanceProgramComponent.prototype.setMaintenanceProgramTable = function (result) {
        var _this = this;
        if (!!result) {
            var mpList_1 = [];
            var status_1;
            result.list.forEach(function (maintenanceProgram) {
                if (!!maintenanceProgram &&
                    !!maintenanceProgram.bireMaintenancePlanDTO &&
                    !!maintenanceProgram.bireMaintenancePlanDTO.planCode &&
                    !!maintenanceProgram.bireMaintenancePlanDTO.planName) {
                    status_1 = !!maintenanceProgram.bireMaintenancePlanDTO.statusState
                        ? _this.statusMap.get(maintenanceProgram.bireMaintenancePlanDTO.statusState)
                        : '';
                    var maintenanceRow = {
                        maintenanceProgram: maintenanceProgram.bireMaintenancePlanDTO,
                        code: maintenanceProgram.bireMaintenancePlanDTO.planCode,
                        name: maintenanceProgram.bireMaintenancePlanDTO.planName,
                        revisionNumber: maintenanceProgram.bireMaintenancePlanDTO.planRevisionNumber,
                        type: maintenanceProgram.planType,
                        revisionDate: maintenanceProgram.bireMaintenancePlanDTO.planRevisionDate &&
                            _this.dateService.dateToString(maintenanceProgram.bireMaintenancePlanDTO.planRevisionDate),
                        status: status_1,
                        approvalDate: maintenanceProgram.bireMaintenancePlanDTO.planApprovalDate &&
                            _this.dateService.dateToString(maintenanceProgram.bireMaintenancePlanDTO.planApprovalDate),
                        validityEndDate: maintenanceProgram.bireMaintenancePlanDTO.planValidityEndDate &&
                            _this.dateService.dateToString(maintenanceProgram.bireMaintenancePlanDTO.planValidityEndDate),
                        ampStatus: maintenanceProgram.ampstatus,
                        applicableMaintenancePlanCode: maintenanceProgram.applicableMaintenancePlanCode,
                        isRMPHaveRelatedOMP: maintenanceProgram.isRMPHaveRelatedOMP,
                        isAMPHaveRelatedOMP: maintenanceProgram.isAMPHaveRelatedOMP,
                        recommendedMaintenancePlanCode: maintenanceProgram.recommendedMaintenancePlanCode
                    };
                    if (!maintenanceProgram.bireMaintenancePlanDTO.ampplanCode) {
                        maintenanceRow.ampStatus = undefined;
                    }
                    mpList_1.push(maintenanceRow);
                }
            });
            this.maintenanceProgramTableDataSource.setData(mpList_1);
        }
        this.maintenanceProgramTableDataSource.dataSelection = [];
    };
    DialogSearchMaintenanceProgramComponent.prototype.loadRights = function () {
        var _this = this;
        this.maintenanceProgramSearchService.hasManageRights().subscribe(function (results) {
            _this.hasManageRights = results;
        });
        this.maintenanceProgramSearchService.hasDisplayRights().subscribe(function (results) {
            _this.hasDisplayRights = results;
        });
        this.maintenanceProgramSearchService.hasUpdateRights().subscribe(function (results) {
            _this.hasUpdateRights = results;
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogSearchMaintenanceProgramComponent.prototype, "onSelected", void 0);
    DialogSearchMaintenanceProgramComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-dialog-search-maintenance-program-popup',
            template: __webpack_require__(/*! ./dialog-search-maintenance-program.component.html */ "./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_session_service__WEBPACK_IMPORTED_MODULE_10__["SessionService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _maintenance_program_search_maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_12__["MaintenanceProgramSearchService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_9__["PropertiesService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_8__["DateService"]])
    ], DialogSearchMaintenanceProgramComponent);
    return DialogSearchMaintenanceProgramComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_11__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module.ts":
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module.ts ***!
  \********************************************************************************************************************************************/
/*! exports provided: DialogSearchMaintenanceProgramModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchMaintenanceProgramModule", function() { return DialogSearchMaintenanceProgramModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var primeng_calendar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primeng/calendar */ "./node_modules/primeng/calendar.js");
/* harmony import */ var primeng_calendar__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(primeng_calendar__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/dropdown */ "./node_modules/primeng/dropdown.js");
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(primeng_dropdown__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/table */ "./node_modules/primeng/table.js");
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primeng_table__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _shared_angular_common_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/angular-common-shared.module */ "./src/app/shared/angular-common-shared.module.ts");
/* harmony import */ var _shared_angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/angular-generic-templates-shared-module */ "./src/app/shared/angular-generic-templates-shared-module.ts");
/* harmony import */ var _shared_app_common_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/app-common-shared.module */ "./src/app/shared/app-common-shared.module.ts");
/* harmony import */ var _shared_components_dialog_search_pn_alternatives_dialog_search_pn_alternatives_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../shared/components/dialog-search-pn-alternatives/dialog-search-pn-alternatives.module */ "./src/app/shared/components/dialog-search-pn-alternatives/dialog-search-pn-alternatives.module.ts");
/* harmony import */ var _shared_components_modal_modal_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../shared/components/modal/modal.module */ "./src/app/shared/components/modal/modal.module.ts");
/* harmony import */ var _shared_components_table_table_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../shared/components/table/table.module */ "./src/app/shared/components/table/table.module.ts");
/* harmony import */ var _maintenance_program_search_maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../../../maintenance-program-search/maintenance-program-search.service */ "./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.service.ts");
/* harmony import */ var _dialog_search_maintenance_program_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dialog-search-maintenance-program.component */ "./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};












/******************************************************************************
 * Modules
 *************************************************************************** */
var EXTERNAL_MODULES = [primeng_table__WEBPACK_IMPORTED_MODULE_3__["TableModule"], primeng_dropdown__WEBPACK_IMPORTED_MODULE_2__["DropdownModule"]];
var INTERNAL_MODULES = [_shared_components_dialog_search_pn_alternatives_dialog_search_pn_alternatives_module__WEBPACK_IMPORTED_MODULE_7__["DialogSearchPnAlternativesModule"], _shared_components_modal_modal_module__WEBPACK_IMPORTED_MODULE_8__["ModalModule"], _shared_components_table_table_module__WEBPACK_IMPORTED_MODULE_9__["TableModule"]];
var PRIMENG_MODULES = [primeng_calendar__WEBPACK_IMPORTED_MODULE_1__["CalendarModule"]];
/******************************************************************************
 * Components
 *************************************************************************** */
var COMPONENTS = [_dialog_search_maintenance_program_component__WEBPACK_IMPORTED_MODULE_11__["DialogSearchMaintenanceProgramComponent"]];
/******************************************************************************
 * Services
 *************************************************************************** */
var SERVICES = [_maintenance_program_search_maintenance_program_search_service__WEBPACK_IMPORTED_MODULE_10__["MaintenanceProgramSearchService"]];
var DialogSearchMaintenanceProgramModule = /** @class */ (function () {
    function DialogSearchMaintenanceProgramModule() {
    }
    DialogSearchMaintenanceProgramModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: __spread(COMPONENTS),
            exports: __spread(COMPONENTS),
            imports: __spread([
                _shared_angular_common_shared_module__WEBPACK_IMPORTED_MODULE_4__["AngularCommonSharedModule"],
                _shared_angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_5__["AngularGenericTemplatesSharedModule"],
                _shared_app_common_shared_module__WEBPACK_IMPORTED_MODULE_6__["AppCommonSharedModule"]
            ], EXTERNAL_MODULES, INTERNAL_MODULES, PRIMENG_MODULES),
            providers: __spread(SERVICES)
        })
    ], DialogSearchMaintenanceProgramModule);
    return DialogSearchMaintenanceProgramModule;
}());



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.html":
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.html ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".applicabilitiesPopupTitle\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".familyCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOpenMode }\">\r\n            <div class=\"form-control-data\" (click)=\"showFamilyCode()\">{{ sbVariantObject.familyCode }}</div>\r\n\r\n            <div *ngIf=\"sbVariantObject.familyCode\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"sbVariantObject.familyCode = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showFamilyCode()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"sbVariantObject.structureType\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".structureType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"sbVariantObject.structureType\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"sbVariantObject.variantCode\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".variantCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"sbVariantObject.variantCode\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ componentData.componentId + \".sbApplicabilityDate\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-calendar\r\n              showButtonBar=\"true\"\r\n              [monthNavigator]=\"true\"\r\n              [yearNavigator]=\"true\"\r\n              [yearRange]=\"sessionService.calendarYearRange\"\r\n              class=\"aw-calendar\"\r\n              [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n              [locale]=\"sessionService.calendarFormat\"\r\n              [(ngModel)]=\"sbVariantObject.sbApplicabilityDate\"\r\n              [disabled]=\"isReadOpenMode\"\r\n              appendTo=\"body\"\r\n            ></p-calendar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.close\" | translate }}\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"sbVariantObject.familyCode === undefined || sbVariantObject.familyCode === null\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-table\r\n  *ngIf=\"showFamilyCodeDialog\"\r\n  [keyMap]=\"tableKeyMap\"\r\n  [(display)]=\"showFamilyCodeDialog\"\r\n  [data]=\"dialogTableDataFamilyCode\"\r\n  (onSelected)=\"setSelectedFamilyCode($event)\"\r\n></aw-dialog-table>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.ts":
/*!***********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.ts ***!
  \***********************************************************************************************************************************/
/*! exports provided: SbadApplicabilitiesPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadApplicabilitiesPopupFormComponent", function() { return SbadApplicabilitiesPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _sb_ad_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sb-ad-applicabilities-popup.service */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SbadApplicabilitiesPopupFormComponent = /** @class */ (function (_super) {
    __extends(SbadApplicabilitiesPopupFormComponent, _super);
    function SbadApplicabilitiesPopupFormComponent(applicabilitiesPopupFormService, messageService, sessionService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'SbadFormComponent') || this;
        _this.applicabilitiesPopupFormService = applicabilitiesPopupFormService;
        _this.messageService = messageService;
        _this.sessionService = sessionService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.showFamilyCodeDialog = false;
        _this.tableKeyMap = new Map();
        _this.searchFamilyCode();
        return _this;
    }
    SbadApplicabilitiesPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {
            this.sbVariantObject = this.componentData.object;
            this.updateOpenMode(this.componentData.openMode);
        }
    };
    SbadApplicabilitiesPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    SbadApplicabilitiesPopupFormComponent.prototype.onValidate = function () {
        if (this.isRequiredFiledFill()) {
            if (this.isNewVariant) {
                this.onCreate.emit(this.sbVariantObject);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.sbVariantObject);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage('global.missingFields');
        }
    };
    SbadApplicabilitiesPopupFormComponent.prototype.searchFamilyCode = function () {
        var test = [
            { field: 'familyCode', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'familyName', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'familyFunction', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'structureType', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'variantCode', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'variantName', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' }
        ];
        this.tableKeyMap.set('familyFunction', this.applicabilitiesPopupFormService.getEquipmentFunctionList());
        this.dialogTableDataFamilyCode = {
            componentId: 'SbadFormComponent.familyCodePopup',
            tableCols: test,
            tableRows: this.applicabilitiesPopupFormService.findFamilyVariantVersion(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    SbadApplicabilitiesPopupFormComponent.prototype.isRequiredFiledFill = function () {
        return !!this.sbVariantObject.familyCode;
    };
    SbadApplicabilitiesPopupFormComponent.prototype.setSelectedFamilyCode = function (selectedObject) {
        if (selectedObject) {
            this.sbVariantObject.familyCode = selectedObject.familyCode;
            this.sbVariantObject.structureType = selectedObject.structureType;
            this.sbVariantObject.variantCode = selectedObject.variantCode;
        }
        this.showFamilyCodeDialog = false;
    };
    SbadApplicabilitiesPopupFormComponent.prototype.showFamilyCode = function () {
        this.showFamilyCodeDialog = true;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], SbadApplicabilitiesPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], SbadApplicabilitiesPopupFormComponent.prototype, "isNewVariant", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbadApplicabilitiesPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbadApplicabilitiesPopupFormComponent.prototype, "onUpdate", void 0);
    SbadApplicabilitiesPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sb-ad-applicabilities-popup',
            template: __webpack_require__(/*! ./sb-ad-applicabilities-popup.component.html */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.html")
        }),
        __metadata("design:paramtypes", [_sb_ad_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_7__["SbadApplicabilitiesPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"]])
    ], SbadApplicabilitiesPopupFormComponent);
    return SbadApplicabilitiesPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.service.ts":
/*!*********************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.service.ts ***!
  \*********************************************************************************************************************************/
/*! exports provided: SbadApplicabilitiesPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadApplicabilitiesPopupFormService", function() { return SbadApplicabilitiesPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_fleet_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/fleet-management.api */ "./src/app/shared/api/fleet-management.api.ts");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SbadApplicabilitiesPopupFormService = /** @class */ (function (_super) {
    __extends(SbadApplicabilitiesPopupFormService, _super);
    function SbadApplicabilitiesPopupFormService(http, appConfigService, productStructureManagementApi, fleetManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.fleetManagementApi = fleetManagementApi;
        return _this;
    }
    SbadApplicabilitiesPopupFormService.prototype.findFamilyVariantVersion = function () {
        var familyVariantInput = {
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariantVersion, familyVariantInput);
    };
    SbadApplicabilitiesPopupFormService.prototype.getEquipmentFunctionList = function () {
        return _super.prototype.post.call(this, this.fleetManagementApi.getAllEquipmentFunctionList);
    };
    SbadApplicabilitiesPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__["ProductStructureManagementApi"],
            _shared_api_fleet_management_api__WEBPACK_IMPORTED_MODULE_2__["FleetManagementApi"]])
    ], SbadApplicabilitiesPopupFormService);
    return SbadApplicabilitiesPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.html ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".assetPopupTitle\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".sbadAssetsDialogLine1\" | translate }}</label>\r\n          <label class=\"form-label\">{{ getComponentName() + \".sbadAssetsDialogLine2\" | translate }}</label>\r\n          <label class=\"form-label\">{{ getComponentName() + \".sbadAssetsDialogLine3\" | translate }}</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" *ngIf=\"sbAssets\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\" style=\"white-space: pre-wrap\">\r\n            {{ getComponentName() + \".sbAssets\" | translate }}\r\n            ({{ getComponentName() + \".indicationTextSbAsset\" | translate }})\r\n          </label>\r\n\r\n          <div class=\"form-control\">\r\n            <textarea\r\n              class=\"aw-textarea\"\r\n              [rows]=\"3\"\r\n              [(ngModel)]=\"sbAssets\"\r\n              pInputTextarea\r\n              [disabled]=\"true\"\r\n              maxlength=\"4000\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".assetPn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"assetObject.assetPn\" [disabled]=\"isReadOpenMode\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".assetSn\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"assetObject.assetSn\" [disabled]=\"isReadOpenMode\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".assetActionType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [showClear]=\"true\"\r\n              [options]=\"propertyActionType\"\r\n              [(ngModel)]=\"assetObject.assetActionType\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n              [disabled]=\"isReadOpenMode\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.close\" | translate }}\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" color=\"primary\" type=\"button\" mat-raised-button (click)=\"onValidate()\">\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.ts":
/*!*********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.ts ***!
  \*********************************************************************************************************************/
/*! exports provided: SbAdAssetsPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbAdAssetsPopupFormComponent", function() { return SbAdAssetsPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SbAdAssetsPopupFormComponent = /** @class */ (function (_super) {
    __extends(SbAdAssetsPopupFormComponent, _super);
    function SbAdAssetsPopupFormComponent(messageService, propertiesService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'SbadFormComponent') || this;
        _this.messageService = messageService;
        _this.propertiesService = propertiesService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.loadActionTypes();
        return _this;
    }
    SbAdAssetsPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {
            this.assetObject = this.componentData.object;
            this.updateOpenMode(this.componentData.openMode);
        }
    };
    SbAdAssetsPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    SbAdAssetsPopupFormComponent.prototype.onValidate = function () {
        if (this.isRequiredFiledFill()) {
            if (this.isNewAsset) {
                this.onCreate.emit(this.assetObject);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.assetObject);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage(this.getComponentName() + '.assetPnOrSnMandatory');
        }
    };
    SbAdAssetsPopupFormComponent.prototype.loadActionTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getAssetActionTypeMap').subscribe(function (results) {
            _this.propertyActionType = results;
        }, function () {
            if (_this.componentData !== null) {
                _this.messageService.showErrorMessage(_this.componentData.componentId + '.errorOnActionTypeList');
            }
        });
    };
    SbAdAssetsPopupFormComponent.prototype.isRequiredFiledFill = function () {
        return !!this.assetObject.assetSn || !!this.assetObject.assetPn;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], SbAdAssetsPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], SbAdAssetsPopupFormComponent.prototype, "isNewAsset", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], SbAdAssetsPopupFormComponent.prototype, "sbAssets", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbAdAssetsPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbAdAssetsPopupFormComponent.prototype, "onUpdate", void 0);
    SbAdAssetsPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sb-ad-assets-popup-form',
            template: __webpack_require__(/*! ./sb-ad-assets-popup-form.component.html */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_3__["PropertiesService"]])
    ], SbAdAssetsPopupFormComponent);
    return SbAdAssetsPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_4__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.html":
/*!*******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.html ***!
  \*******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".docManagement\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docName\" | translate }}</label>\r\n\r\n        <div class=\"form-control form-control-with-btn\">\r\n          <input\r\n            class=\"aw-input\"\r\n            type=\"text\"\r\n            [(ngModel)]=\"document.docName\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n            style=\"width:79%\"\r\n          />\r\n          <p-fileUpload\r\n            #fileUploader\r\n            *ngIf=\"!isReadOnlyForm\"\r\n            name=\"document[]\"\r\n            customUpload=\"true\"\r\n            mode=\"basic\"\r\n            auto=\"true\"\r\n            chooseLabel=\"{{ 'global.upload' | translate }}\"\r\n            (uploadHandler)=\"uploadDocument($event, fileUploader)\"\r\n          ></p-fileUpload>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docSource\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <input class=\"aw-input\" type=\"text\" [(ngModel)]=\"document.docSource\" [disabled]=\"isReadOnlyForm\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docPublicationDate\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <p-calendar\r\n            showButtonBar=\"true\"\r\n            [monthNavigator]=\"true\"\r\n            [yearNavigator]=\"true\"\r\n            [yearRange]=\"sessionService.calendarYearRange\"\r\n            class=\"aw-calendar\"\r\n            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n            [locale]=\"sessionService.calendarFormat\"\r\n            [(ngModel)]=\"document.docPublicationDate\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n            appendTo=\"body\"\r\n          ></p-calendar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"form-group\">\r\n        <label class=\"form-label\">{{ getComponentName() + \".docDescription\" | translate }}</label>\r\n\r\n        <div class=\"form-control\">\r\n          <textarea\r\n            class=\"aw-textarea\"\r\n            [rows]=\"3\"\r\n            pInputTextarea\r\n            autoResize=\"autoResize\"\r\n            [(ngModel)]=\"document.docDescription\"\r\n            [disabled]=\"isReadOnlyForm\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"closeDialog()\">{{ \"global.cancel\" | translate }}</button>\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"validate()\"\r\n      color=\"primary\"\r\n      [disabled]=\"!isValidateEnabled()\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.ts":
/*!*****************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: SbadImportPopupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadImportPopupComponent", function() { return SbadImportPopupComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SbadImportPopupComponent = /** @class */ (function (_super) {
    __extends(SbadImportPopupComponent, _super);
    function SbadImportPopupComponent(sessionService, messageService, propertiesService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Write, 'SbadFormComponent') || this;
        _this.sessionService = sessionService;
        _this.messageService = messageService;
        _this.propertiesService = propertiesService;
        _this.displayChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onValidated = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.loadTypes();
        return _this;
    }
    Object.defineProperty(SbadImportPopupComponent.prototype, "display", {
        get: function () {
            return this.displayValue;
        },
        set: function (displayValue) {
            this.displayValue = displayValue;
            this.displayChange.emit(this.displayValue);
        },
        enumerable: true,
        configurable: true
    });
    SbadImportPopupComponent.prototype.ngOnInit = function () {
        if (!this.document) {
            this.document = {};
        }
    };
    SbadImportPopupComponent.prototype.cancel = function () {
        this.display = false;
    };
    SbadImportPopupComponent.prototype.validate = function () {
        this.onValidated.emit(this.document);
        this.display = false;
    };
    SbadImportPopupComponent.prototype.loadTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__["GenericPropertyConstants"].DOC_PARTNER_CATEGORY_MAP).subscribe(function (results) {
            _this.types = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.componentId + '.errorOnGetTypes');
        });
    };
    SbadImportPopupComponent.prototype.uploadDocument = function (event, fileUploader) {
        var _this = this;
        if (event.files) {
            var file_1 = event.files[0];
            _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_7__["FileUtils"].getFileContentAsBase64(file_1, function (fileContent) {
                if (fileContent) {
                    _this.document.docFile = fileContent;
                    _this.document.docName = file_1.name;
                    _this.document.docPublicationDate = new Date();
                }
            });
            fileUploader.clear();
        }
    };
    SbadImportPopupComponent.prototype.isValidateEnabled = function () {
        return this.document.docName;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], SbadImportPopupComponent.prototype, "display", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbadImportPopupComponent.prototype, "displayChange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], SbadImportPopupComponent.prototype, "document", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], SbadImportPopupComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbadImportPopupComponent.prototype, "onValidated", void 0);
    SbadImportPopupComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sb-ad-import-popup',
            template: __webpack_require__(/*! ./sb-ad-import-popup.component.html */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_3__["MessageService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_4__["PropertiesService"]])
    ], SbadImportPopupComponent);
    return SbadImportPopupComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.html":
/*!****************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.html ***!
  \****************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".limitAndPeriodicityPopupTitle\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".counterCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [showClear]=\"true\"\r\n              [options]=\"counterCodeList\"\r\n              [(ngModel)]=\"assetObject.counterCode\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n              [disabled]=\"isReadOpenMode\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".limitValue\" | translate }}</label>\r\n          <div class=\"form-control\">\r\n            <input\r\n              [(ngModel)]=\"assetObject.limitValue\"\r\n              [disabled]=\"isReadOpenMode\"\r\n              #assetLimitValue=\"ngModel\"\r\n              type=\"number\"\r\n              [pKeyFilter]=\"inputValidationService.validatorOfNumber()\"\r\n              [pValidateOnly]=\"true\"\r\n              class=\"aw-input\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".limitType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [showClear]=\"true\"\r\n              [options]=\"limitType\"\r\n              [(ngModel)]=\"assetObject.limitType\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n              [disabled]=\"isReadOpenMode\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".limitReferenceDate\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <p-dropdown\r\n              class=\"aw-dropdown fixed-width\"\r\n              [showClear]=\"true\"\r\n              [options]=\"limitRefernceType\"\r\n              [(ngModel)]=\"assetObject.limitReferenceDate\"\r\n              placeholder=\"&nbsp;\"\r\n              appendTo=\"body\"\r\n              [disabled]=\"isReadOpenMode\"\r\n            ></p-dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".periodicity\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input\r\n              [(ngModel)]=\"assetObject.periodicity\"\r\n              [disabled]=\"isReadOpenMode\"\r\n              #assetPeriodicityValue=\"ngModel\"\r\n              type=\"number\"\r\n              [pKeyFilter]=\"inputValidationService.validatorOfNumber()\"\r\n              [pValidateOnly]=\"true\"\r\n              class=\"aw-input\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".comments\" | translate }}</label>\r\n          <div class=\"form-control\">\r\n            <textarea\r\n              class=\"aw-textarea\"\r\n              [rows]=\"3\"\r\n              pInputTextarea\r\n              autoResize=\"autoResize\"\r\n              [(ngModel)]=\"assetObject.comments\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.close\" | translate }}\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" color=\"primary\" type=\"button\" mat-raised-button (click)=\"onValidate()\">\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.ts":
/*!**************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.ts ***!
  \**************************************************************************************************************************************************/
/*! exports provided: SbAdLimitsPeriodicitiesPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbAdLimitsPeriodicitiesPopupFormComponent", function() { return SbAdLimitsPeriodicitiesPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _sb_ad_limits_periodicities_popup_form_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sb-ad-limits-periodicities-popup-form.service */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};








var SbAdLimitsPeriodicitiesPopupFormComponent = /** @class */ (function (_super) {
    __extends(SbAdLimitsPeriodicitiesPopupFormComponent, _super);
    function SbAdLimitsPeriodicitiesPopupFormComponent(messageService, propertiesService, sbAdLimitsPeriodicitiesPopupFormService, inputValidationService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Write, 'SbadFormComponent') || this;
        _this.messageService = messageService;
        _this.propertiesService = propertiesService;
        _this.sbAdLimitsPeriodicitiesPopupFormService = sbAdLimitsPeriodicitiesPopupFormService;
        _this.inputValidationService = inputValidationService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.assetObject = {};
        return _this;
    }
    SbAdLimitsPeriodicitiesPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {
            this.updateOpenMode(this.componentData.openMode);
            this.loadDropdownList();
        }
    };
    SbAdLimitsPeriodicitiesPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    SbAdLimitsPeriodicitiesPopupFormComponent.prototype.onValidate = function () {
        if (this.checkLimitsAndPeriodicities()) {
            if (this.isNewLimitAndPeriodicity) {
                this.onCreate.emit(this.assetObject);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.assetObject);
                this.display = false;
            }
        }
    };
    SbAdLimitsPeriodicitiesPopupFormComponent.prototype.loadDropdownList = function () {
        var _this = this;
        var counterCode$ = this.sbAdLimitsPeriodicitiesPopupFormService.findAllColunterCode();
        var limitType$ = this.propertiesService.getValue('getSbCounterLimitTypeMap');
        var limitRefernceDate$ = this.propertiesService.getValue(this.sbCounterLimitRefDateMap);
        Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])([counterCode$, limitType$, limitRefernceDate$]).subscribe(function (_a) {
            var _b = __read(_a, 3), counterCode = _b[0], types = _b[1], refernceType = _b[2];
            _this.counterCodeList = counterCode;
            _this.limitType = types;
            _this.limitRefernceType = refernceType;
            _this.assetObject = _this.componentData.object;
            _this.displayComment = _this.getDisplayComments(_this.assetObject.comments || '');
        });
    };
    SbAdLimitsPeriodicitiesPopupFormComponent.prototype.getComponentName = function () {
        return this.parentComponentName || _super.prototype.getComponentName.call(this);
    };
    SbAdLimitsPeriodicitiesPopupFormComponent.prototype.checkLimitsAndPeriodicities = function () {
        if (!this.assetObject.counterCode) {
            this.messageService.showErrorMessage(this.getComponentName() + '.limitsAndPeriodicitiesMandatoryFields');
            return false;
        }
        else if ((this.assetObject.limitValue || this.assetObject.limitType || this.assetObject.limitReferenceDate) &&
            (this.assetObject.limitValue === undefined ||
                !this.assetObject.limitType === undefined ||
                !this.assetObject.limitReferenceDate === undefined)) {
            this.messageService.showErrorMessage(this.getComponentName() + '.limitAndPeriodicitiesAllFieldsOrNone');
            return false;
        }
        return true;
    };
    SbAdLimitsPeriodicitiesPopupFormComponent.prototype.getDisplayComments = function (comment) {
        try {
            if (comment) {
                var commentObj = JSON.parse(comment);
                if (commentObj && commentObj.length === 1) {
                    return commentObj[0].comment;
                }
                else if (commentObj && commentObj.length > 1) {
                    return !!commentObj[0].comment ? commentObj[0].comment : comment;
                }
            }
            return '';
        }
        catch (e) {
            return comment;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], SbAdLimitsPeriodicitiesPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], SbAdLimitsPeriodicitiesPopupFormComponent.prototype, "isNewLimitAndPeriodicity", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], SbAdLimitsPeriodicitiesPopupFormComponent.prototype, "sbCounterLimitRefDateMap", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], SbAdLimitsPeriodicitiesPopupFormComponent.prototype, "parentComponentName", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbAdLimitsPeriodicitiesPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], SbAdLimitsPeriodicitiesPopupFormComponent.prototype, "onUpdate", void 0);
    SbAdLimitsPeriodicitiesPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sb-ad-limits-periodicities-popup-form',
            template: __webpack_require__(/*! ./sb-ad-limits-periodicities-popup-form.component.html */ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_5__["PropertiesService"],
            _sb_ad_limits_periodicities_popup_form_service__WEBPACK_IMPORTED_MODULE_7__["SbAdLimitsPeriodicitiesPopupFormService"],
            _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_3__["InputValidationService"]])
    ], SbAdLimitsPeriodicitiesPopupFormComponent);
    return SbAdLimitsPeriodicitiesPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.service.ts":
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.service.ts ***!
  \************************************************************************************************************************************************/
/*! exports provided: SbAdLimitsPeriodicitiesPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbAdLimitsPeriodicitiesPopupFormService", function() { return SbAdLimitsPeriodicitiesPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SbAdLimitsPeriodicitiesPopupFormService = /** @class */ (function (_super) {
    __extends(SbAdLimitsPeriodicitiesPopupFormService, _super);
    function SbAdLimitsPeriodicitiesPopupFormService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    SbAdLimitsPeriodicitiesPopupFormService.prototype.displayPopup = function (display) {
        this.displayDialog = display;
    };
    SbAdLimitsPeriodicitiesPopupFormService.prototype.findAllColunterCode = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllCounterCode);
    };
    SbAdLimitsPeriodicitiesPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], SbAdLimitsPeriodicitiesPopupFormService);
    return SbAdLimitsPeriodicitiesPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/sbad-form-mhiael.service.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/sbad-form-mhiael.service.ts ***!
  \***********************************************************************************/
/*! exports provided: SbadFormMhiaelService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadFormMhiaelService", function() { return SbadFormMhiaelService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_mhiael_mass_updates_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/mhiael/mass-updates.api */ "./src/app/shared/api/mhiael/mass-updates.api.ts");
/* harmony import */ var _shared_http_abstract_aw_mhiael_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-mhiael-http */ "./src/app/shared/http/abstract-aw-mhiael-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SbadFormMhiaelService = /** @class */ (function (_super) {
    __extends(SbadFormMhiaelService, _super);
    function SbadFormMhiaelService(http, appConfigService, massUpdatesApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.massUpdatesApi = massUpdatesApi;
        return _this;
    }
    SbadFormMhiaelService.prototype.updateSBADCsv = function (bireVariantVersion) {
        return _super.prototype.post.call(this, this.massUpdatesApi.updateSBADCsv, bireVariantVersion);
    };
    SbadFormMhiaelService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_mhiael_mass_updates_api__WEBPACK_IMPORTED_MODULE_2__["MassUpdatesApi"]])
    ], SbadFormMhiaelService);
    return SbadFormMhiaelService;
}(_shared_http_abstract_aw_mhiael_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwMhiaelHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/sbad-form.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/sbad-form.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div #page *ngIf=\"loadedWorkflow\">\r\n  <div class=\"page-header\">\r\n    <div class=\"page-info\">\r\n      <div>\r\n        <h2 class=\"page-title\">\r\n          {{ \"transaction.\" + componentData.componentId | translate }}\r\n        </h2>\r\n\r\n        <div class=\"page-subtitle\">\r\n          <div class=\"page-subtitle\" *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\">\r\n            - {{ subTitle }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"object-status\" *ngIf=\"bireSbDisplayed.statusState\" (click)=\"showStatus()\">\r\n        {{ bireSbDisplayed.statusState | formatSelectOption: workflowStatus }}\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"page-actions\">\r\n      <button mat-raised-button id=\"edit\" *ngIf=\"isReadOpenMode && hasUpdateAccessRight\" (click)=\"edit()\">\r\n        {{ \"global.edit\" | translate }}\r\n      </button>\r\n\r\n      <button\r\n        mat-raised-button\r\n        color=\"warn\"\r\n        id=\"cancel\"\r\n        *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n        (click)=\"cancel()\"\r\n      >\r\n        {{ \"global.cancel\" | translate }}\r\n      </button>\r\n\r\n      <button\r\n        mat-raised-button\r\n        class=\"btn-with-spinner\"\r\n        color=\"primary\"\r\n        id=\"save\"\r\n        *ngIf=\"!isReadOpenMode\"\r\n        (click)=\"saveSbAdData()\"\r\n      >\r\n        <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n        {{ \"global.save\" | translate }}\r\n      </button>\r\n\r\n      <button\r\n        id=\"actions\"\r\n        mat-icon-button\r\n        class=\"mat-elevation-z1\"\r\n        matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n        matTooltipPosition=\"above\"\r\n        aria-label=\"Show all actions\"\r\n        [matMenuTriggerFor]=\"actions\"\r\n      >\r\n        <mat-icon>more_horiz</mat-icon>\r\n      </button>\r\n      <mat-menu #actions=\"matMenu\">\r\n        <button\r\n          mat-menu-item\r\n          id=\"upgrade\"\r\n          *ngIf=\"!isReadOpenMode && bireSbDisplayed.sbRevisionNumber != null && showUpgrade()\"\r\n          (click)=\"upgradeSb()\"\r\n        >\r\n          {{ \"global.upgrade\" | translate }}\r\n        </button>\r\n\r\n        <button id=\"updates\" mat-menu-item (click)=\"openStatusUpdatesPopup()\">{{ \"updates\" | translate }}</button>\r\n\r\n        <button mat-menu-item id=\"refresh\" *ngIf=\"isReadOpenMode && !isCreateOpenMode\" (click)=\"refresh()\">\r\n          {{ \"global.refresh\" | translate }}\r\n        </button>\r\n\r\n        <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n          {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n        </button>\r\n      </mat-menu>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-wrapper\">\r\n    <div class=\"page-container search-page-container\">\r\n      <div class=\"page-content\">\r\n        <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n          <mat-tab id=\"homeTab\">\r\n            <ng-template mat-tab-label>\r\n              {{ \"home\" | translate }}\r\n            </ng-template>\r\n            <div class=\"grid-row\">\r\n              <div id=\"mainDataPanel\" class=\"grid-cell--equally\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 class=\"grid-cell-title\">{{ \"page.mainData\" | translate }}</h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <div class=\"grid-row grid-cell--12\">\r\n                      <div id=\"sbNumber\" class=\"form-group flex--1\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\"> {{ componentData.componentId + \".sbNumber\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbNumber\"\r\n                            [disabled]=\"!isCreateOpenMode || isReadOpenMode\"\r\n                            maxlength=\"50\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"sbRevisionNumber\" class=\"form-group flex--1\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".sbRevisionNumber\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            #sbRevisionNumber=\"ngModel\"\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbRevisionNumber\"\r\n                            [disabled]=\"!isCreateOpenMode || isReadOpenMode\"\r\n                            maxlength=\"10\"\r\n                            [pKeyFilter]=\"inputValidationService.validatorOfPositiveInteger()\"\r\n                            [pValidateOnly]=\"true\"\r\n                          />\r\n                          <p-message\r\n                            *ngIf=\"sbRevisionNumber.invalid && (sbRevisionNumber.dirty || sbRevisionNumber.touched)\"\r\n                            severity=\"error\"\r\n                            [text]=\"inputValidationService.formatOfPositiveInteger()\"\r\n                          ></p-message>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"grid-row grid-cell--12\">\r\n                      <div id=\"sbCompliance\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".sbCompliance\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertyCompliance\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbCompliance\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            appendTo=\"body\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"sbType\" *ngIf=\"!isAD\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".sbType\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertyType\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbType\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            appendTo=\"body\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"sbSubType\" *ngIf=\"showSubType()\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".sbSubType\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertySubType\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbSubType\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            appendTo=\"body\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"grid-row grid-cell--12\">\r\n                      <div id=\"sbTitle\" class=\"form-group flex--2\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".sbTitle\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"3\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbTitle\"\r\n                            pInputTextarea\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            maxlength=\"300\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"grid-row grid-cell--12\">\r\n                      <div id=\"sbPublicationDate\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".sbPublicationDate\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-calendar\r\n                            showButtonBar=\"true\"\r\n                            [monthNavigator]=\"true\"\r\n                            [yearNavigator]=\"true\"\r\n                            [yearRange]=\"sessionService.calendarYearRange\"\r\n                            class=\"aw-calendar\"\r\n                            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                            [locale]=\"sessionService.calendarFormat\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbPublicationDate\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            appendTo=\"body\"\r\n                          ></p-calendar>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"sbClass\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".sbClass\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"propertyClass\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbClass\"\r\n                            [showClear]=\"true\"\r\n                            placeholder=\"&nbsp;\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            appendTo=\"body\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"sbEffectiveDate\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".sbEffectiveDate\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-calendar\r\n                            showButtonBar=\"true\"\r\n                            [monthNavigator]=\"true\"\r\n                            [yearNavigator]=\"true\"\r\n                            [yearRange]=\"sessionService.calendarYearRange\"\r\n                            class=\"aw-calendar\"\r\n                            [dateFormat]=\"sessionService.dateFormatPrimeNG\"\r\n                            [locale]=\"sessionService.calendarFormat\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbEffectiveDate\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            appendTo=\"body\"\r\n                          ></p-calendar>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"grid-row grid-cell--12\">\r\n                      <div id=\"sbDocumentUrl\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".sbDocumentUrl\" | translate }}</label>\r\n\r\n                        <div class=\"form-control form-control-with-btn\" [ngClass]=\"{ disabled: isReadOpenMode }\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbDocumentUrl\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                          />\r\n                          <i\r\n                            *ngIf=\"bireSbDisplayed.sbDocumentUrl && !isCreateOpenMode\"\r\n                            class=\"fa fa-fw fa-external-link aw-icon aw-icon-with-border\"\r\n                            aria-hidden=\"true\"\r\n                            pTooltip=\"{{ 'global.open' | translate }}\"\r\n                            tooltipPosition=\"top\"\r\n                            (click)=\"openUrl()\"\r\n                          ></i>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"sbComplianceInformation\" class=\"form-group flex--1\">\r\n                        <label class=\"form-label\">{{\r\n                          componentData.componentId + \".sbComplianceInformation\" | translate\r\n                        }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"3\"\r\n                            [(ngModel)]=\"bireSbDisplayed.sbComplianceInformation\"\r\n                            pInputTextarea\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            maxlength=\"300\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div id=\"planCode\" class=\"form-group\" *ngIf=\"showGuideline()\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".planCode\" | translate }}</label>\r\n\r\n                        <div\r\n                          class=\"form-control form-control-with-modal\"\r\n                          [ngClass]=\"{ disabled: isReadOpenMode && !isCreateOpenMode }\"\r\n                        >\r\n                          <div class=\"form-control-data\" (click)=\"!isReadOpenMode && showMaintenanceProgram($event)\">\r\n                            {{ bireMaintenancePlanDTO.planCode }}\r\n                          </div>\r\n\r\n                          <div *ngIf=\"bireMaintenancePlanDTO.planCode && !isReadOpenMode\" class=\"btn-clear-wrapper \">\r\n                            <i\r\n                              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"bireMaintenancePlanDTO.planCode = undefined\"\r\n                            ></i>\r\n                          </div>\r\n                          <div class=\"btn-search-wrapper\" *ngIf=\"!isReadOpenMode\">\r\n                            <i\r\n                              class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"showMaintenanceProgram($event)\"\r\n                            ></i>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div id=\"evolutionsPanel\" class=\"grid-cell--equally\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 id=\"bireEvolutionSbsDisplayedTitle\" class=\"grid-cell-title\">\r\n                        {{ componentData.componentId + \".evolutions\" | translate }} ({{\r\n                          bireEvolutionSbsDisplayed ? bireEvolutionSbsDisplayed.length : 0\r\n                        }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <p-table\r\n                      id=\"bireEvolutionSbsDisplayed\"\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableEvolution\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"evolutionsTableCols\"\r\n                      [value]=\"bireEvolutionSbsDisplayed\"\r\n                      [(selection)]=\"selectedEvolutions\"\r\n                      [scrollable]=\"true\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingEvolutionTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingEvolutionTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedEvolutions.length > 0 }\">\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptableEvolutionGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"ptableEvolution.filterGlobal($event.target.value, 'contains')\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <button\r\n                              id=\"displayStatusBireEvolutionSbsDisplayed\"\r\n                              *ngIf=\"selectedEvolutions.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"displayStatusForEvolution()\"\r\n                            >\r\n                              {{ componentData.componentId + \".displayStatus\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th\r\n                            pResizableColumn\r\n                            *ngFor=\"let col of columns\"\r\n                            [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                          >\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td\r\n                            *ngFor=\"let col of columns\"\r\n                            [ngSwitch]=\"col.field\"\r\n                            [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                          >\r\n                            <a *ngSwitchCase=\"'evolutionNumber'\" (click)=\"openEvolution(rowData)\">\r\n                              {{ rowData[col.field] }}</a\r\n                            >\r\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-tab>\r\n\r\n          <mat-tab id=\"applicabilitiesTab\">\r\n            <ng-template mat-tab-label>\r\n              {{ \"SbadFormComponent.applicabilities\" | translate }}\r\n            </ng-template>\r\n            <div class=\"grid-row\">\r\n              <div id=\"concernedFamiliesPanel\" class=\"grid-cell--equally\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 id=\"bireSbVariantsDisplayedTitle\" class=\"grid-cell-title\">\r\n                        {{ componentData.componentId + \".concernedFamilies\" | translate }} ({{\r\n                          bireSbVariantsDisplayed ? bireSbVariantsDisplayed.length : 0\r\n                        }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <p-table\r\n                      id=\"bireSbVariantsDisplayed\"\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableApplicabilities\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"applicabilitiesTableCols\"\r\n                      [value]=\"bireSbVariantsDisplayed\"\r\n                      [(selection)]=\"selectedApplicabilities\"\r\n                      [scrollable]=\"true\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingApplicabilityTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingApplicabilityTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div\r\n                          class=\"aw-table-header\"\r\n                          [ngClass]=\"{ 'rows-selected': selectedApplicabilities.length > 0 }\"\r\n                        >\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptableApplicabilitiesGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"ptableApplicabilities.filterGlobal($event.target.value, 'contains')\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <button\r\n                              id=\"deleteBireSbVariantsDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedApplicabilities.length > 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"deleteSelectedSbVariants()\"\r\n                            >\r\n                              {{ \"global.delete\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"editBireSbVariantsDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedApplicabilities.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"editApplicabilities()\"\r\n                            >\r\n                              {{ \"global.edit\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"openBireSbVariantsDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedApplicabilities.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"openApplicabilities()\"\r\n                            >\r\n                              {{ \"global.open\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"addBireSbVariantsDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedApplicabilities.length === 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"createApplicabilities()\"\r\n                            >\r\n                              {{ \"global.add\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td\r\n                            *ngFor=\"let col of columns\"\r\n                            [ngSwitch]=\"col.field\"\r\n                            [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                          >\r\n                            <i\r\n                              *ngSwitchCase=\"'statusInfo'\"\r\n                              class=\"fa fa-fw fa-info-circle aw-icon\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"openStatus(rowData)\"\r\n                            ></i>\r\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div id=\"concernedAssetsPanel\" class=\"grid-cell--equally\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 id=\"bireConcernedAssetDisplayedTitle\" class=\"grid-cell-title\">\r\n                        {{ componentData.componentId + \".concernedAssets\" | translate }} ({{\r\n                          bireConcernedAssetDisplayed ? bireConcernedAssetDisplayed.length : 0\r\n                        }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <div style=\"width: 70%\">\r\n                      <p-table\r\n                        id=\"bireConcernedAssetDisplayed\"\r\n                        [resizableColumns]=\"true\"\r\n                        #ptableAssets\r\n                        class=\"aw-table2\"\r\n                        [columns]=\"assetsTableCols\"\r\n                        [value]=\"bireConcernedAssetDisplayed\"\r\n                        [(selection)]=\"selectedAssets\"\r\n                        dataKey=\"assetPn\"\r\n                        [scrollable]=\"true\"\r\n                      >\r\n                        <ng-template pTemplate=\"emptymessage\">\r\n                          <span *ngIf=\"!isLoadingAssetTable\"> &nbsp;</span>\r\n\r\n                          <div *ngIf=\"isLoadingAssetTable\" class=\"aw-table-loading-indicator\">\r\n                            <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                            <div class=\"lds-hourglass\"></div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"caption\">\r\n                          <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedAssets.length > 0 }\">\r\n                            <div class=\"aw-table-global-filter\">\r\n                              <label class=\"aw-table-global-filter-label\">\r\n                                <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                              </label>\r\n\r\n                              <input\r\n                                #ptableAssetsGlobalFilter\r\n                                class=\"aw-table-global-filter-input\"\r\n                                type=\"text\"\r\n                                placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                                (input)=\"ptableAssets.filterGlobal($event.target.value, 'contains')\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div class=\"aw-table-actions\">\r\n                              <button\r\n                                id=\"deleteBireConcernedAssetDisplayed\"\r\n                                *ngIf=\"!isReadOpenMode && selectedAssets.length > 0\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"deleteSelectedConcernedAssets()\"\r\n                              >\r\n                                {{ \"global.delete\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                id=\"editBireConcernedAssetDisplayed\"\r\n                                *ngIf=\"!isReadOpenMode && selectedAssets.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"editAsset()\"\r\n                              >\r\n                                {{ \"global.edit\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                id=\"openBireConcernedAssetDisplayed\"\r\n                                *ngIf=\"!isReadOpenMode && selectedAssets.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"openAsset()\"\r\n                              >\r\n                                {{ \"global.open\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                id=\"addBireConcernedAssetDisplayed\"\r\n                                *ngIf=\"!isReadOpenMode && selectedAssets.length === 0\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"createAsset()\"\r\n                              >\r\n                                {{ \"global.add\" | translate }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"colgroup\" let-columns>\r\n                          <colgroup>\r\n                            <col class=\"aw-table-checkbox-wrapper\" />\r\n                            <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                          </colgroup>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"header\" let-columns>\r\n                          <tr>\r\n                            <th class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                            </th>\r\n\r\n                            <th\r\n                              pResizableColumn\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                            >\r\n                              {{ componentData.componentId + \".\" + col.field | translate }}\r\n                            </th>\r\n                          </tr>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                          <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                            <td class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                            </td>\r\n\r\n                            <td *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                              {{ rowData[col.field] }}\r\n                            </td>\r\n                          </tr>\r\n                        </ng-template>\r\n                      </p-table>\r\n                    </div>\r\n\r\n                    <div id=\"sbAssets\" class=\"form-group\" style=\"width: 30%\">\r\n                      <label class=\"form-label\" style=\"white-space: pre-wrap\">\r\n                        {{ componentData.componentId + \".sbadAssetsDialogLine1\" | translate }}\r\n                        {{ componentData.componentId + \".sbadAssetsDialogLine2\" | translate }}\r\n                        {{ componentData.componentId + \".sbadAssetsDialogLine3\" | translate }}\r\n                      </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <textarea\r\n                          class=\"aw-textarea resize-disabled\"\r\n                          [rows]=\"3\"\r\n                          [(ngModel)]=\"bireSbDisplayed.sbAssets\"\r\n                          pInputTextarea\r\n                          [disabled]=\"true\"\r\n                          maxlength=\"4000\"\r\n                        ></textarea>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div id=\"limitsAndPeriodicities\" class=\"grid-row\">\r\n              <div id=\"limitsAndPeriodicitiesPanel\" class=\"grid-cell--12\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 id=\"limitsAndApplicabilitiesDisplayedTitle\" class=\"grid-cell-title\">\r\n                        {{ componentData.componentId + \".limitsAndPeriodicities\" | translate }} ({{\r\n                          limitsAndApplicabilitiesDisplayed ? limitsAndApplicabilitiesDisplayed.length : 0\r\n                        }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <p-table\r\n                      id=\"limitsAndApplicabilitiesDisplayed\"\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableLimitAndPeriodicity\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"limitsPeriodicitiesTableCols\"\r\n                      [value]=\"limitsAndApplicabilitiesDisplayed\"\r\n                      [(selection)]=\"selectedLimitsAndPeriodicities\"\r\n                      dataKey=\"counterCode\"\r\n                      [scrollable]=\"true\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingLimitsTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingLimitsTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div\r\n                          class=\"aw-table-header\"\r\n                          [ngClass]=\"{ 'rows-selected': selectedLimitsAndPeriodicities.length > 0 }\"\r\n                        >\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptableLimitAndPeriodicityGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"\r\n                                ptableLimitAndPeriodicityGlobalFilter.filterGlobal($event.target.value, 'contains')\r\n                              \"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <button\r\n                              id=\"deleteLimitsAndApplicabilitiesDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedLimitsAndPeriodicities.length > 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"deleteSelectedConcernedLimitAndPeriodicity()\"\r\n                            >\r\n                              {{ \"global.delete\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"generateCommentLimitsAndApplicabilitiesDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"generateTaskComment()\"\r\n                            >\r\n                              {{ componentData.componentId + \".generateComment\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"editLimitsAndApplicabilitiesDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"editLimitAndPeriodicity()\"\r\n                            >\r\n                              {{ \"global.edit\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"openLimitsAndApplicabilitiesDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"openLimitAndPeriodicity()\"\r\n                            >\r\n                              {{ \"global.open\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"addLimitsAndApplicabilitiesDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"createLimitAndPeriodicity()\"\r\n                            >\r\n                              {{ \"global.add\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ rowData[col.field] }}\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-tab>\r\n\r\n          <mat-tab id=\"documentsTab\">\r\n            <ng-template mat-tab-label>\r\n              <ng-container *ngIf=\"dynamicAttributesForSb && dynamicAttributesForSb.length > 0\">\r\n                {{ \"attributes\" | translate }} &amp;\r\n              </ng-container>\r\n              {{ \"documents\" | translate }}\r\n            </ng-template>\r\n\r\n            <div id=\"attributes\" *ngIf=\"dynamicAttributesForSb && dynamicAttributesForSb.length > 0\" class=\"grid-row\">\r\n              <div id=\"attributesPanel\" class=\"grid-cell--12\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                    <aw-dynamic-attributes\r\n                      [workflowControls]=\"userWorkflow ? userWorkflow.listControlByIdentifier : []\"\r\n                      id=\"dynamicAttributes\"\r\n                      [attributes]=\"dynamicAttributesForSb\"\r\n                      [workflowControls]=\"userWorkflow ? userWorkflow.listControlByIdentifier : []\"\r\n                      [isReadOpenMode]=\"isReadOpenMode\"\r\n                    ></aw-dynamic-attributes>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div id=\"documents\" class=\"grid-row\">\r\n              <div id=\"documentsPanel\" class=\"grid-cell--12\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 id=\"bireDocumentDisplayedTitle\" class=\"grid-cell-title\">\r\n                        {{ \"global.documents\" | translate }} ({{\r\n                          bireDocumentDisplayed ? bireDocumentDisplayed.length : 0\r\n                        }})\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <p-table\r\n                      id=\"bireDocumentDisplayed\"\r\n                      [resizableColumns]=\"true\"\r\n                      #ptableDocuments\r\n                      class=\"aw-table2\"\r\n                      [columns]=\"documentsTableCols\"\r\n                      [value]=\"bireDocumentDisplayed\"\r\n                      [(selection)]=\"selectedDocuments\"\r\n                      dataKey=\"docName\"\r\n                      [scrollable]=\"true\"\r\n                    >\r\n                      <ng-template pTemplate=\"emptymessage\">\r\n                        <span *ngIf=\"!isLoadingDocumentTable\"> &nbsp;</span>\r\n\r\n                        <div *ngIf=\"isLoadingDocumentTable\" class=\"aw-table-loading-indicator\">\r\n                          <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                          <div class=\"lds-hourglass\"></div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"caption\">\r\n                        <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedDocuments.length > 0 }\">\r\n                          <div class=\"aw-table-global-filter\">\r\n                            <label class=\"aw-table-global-filter-label\">\r\n                              <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                            </label>\r\n\r\n                            <input\r\n                              #ptableDocumentsGlobalFilter\r\n                              class=\"aw-table-global-filter-input\"\r\n                              type=\"text\"\r\n                              placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                              (input)=\"ptableDocuments.filterGlobal($event.target.value, 'contains')\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div class=\"aw-table-actions\">\r\n                            <button\r\n                              id=\"downloadBireDocumentDisplayed\"\r\n                              *ngIf=\"selectedDocuments.length > 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"downloadFiles()\"\r\n                            >\r\n                              {{ \"global.download\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"deleteBireDocumentDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedDocuments.length > 0\"\r\n                              type=\"button\"\r\n                              color=\"warn\"\r\n                              mat-raised-button\r\n                              (click)=\"deleteSelectedDocuments()\"\r\n                            >\r\n                              {{ \"global.delete\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"editBireDocumentDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedDocuments.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"editDocument()\"\r\n                            >\r\n                              {{ \"global.edit\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"openBireDocumentDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedDocuments.length === 1\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"openDocument()\"\r\n                            >\r\n                              {{ \"global.open\" | translate }}\r\n                            </button>\r\n\r\n                            <button\r\n                              id=\"addBireDocumentDisplayed\"\r\n                              *ngIf=\"!isReadOpenMode && selectedDocuments.length == 0\"\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"addDocuments()\"\r\n                            >\r\n                              {{ \"global.add\" | translate }}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"colgroup\" let-columns>\r\n                        <colgroup>\r\n                          <col class=\"aw-table-checkbox-wrapper\" />\r\n                          <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"header\" let-columns>\r\n                        <tr>\r\n                          <th class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                          </th>\r\n\r\n                          <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            {{ componentData.componentId + \".\" + col.field | translate }}\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n\r\n                      <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                        <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                          <td class=\"aw-table-checkbox-wrapper\">\r\n                            <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                          </td>\r\n\r\n                          <td *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                            <span> {{ rowData[col.field] }} </span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-tab>\r\n\r\n          <mat-tab id=\"contextTab\" *ngIf=\"showContext()\">\r\n            <ng-template mat-tab-label>\r\n              {{ componentData.componentId + \".context\" | translate }}\r\n            </ng-template>\r\n            <div class=\"grid-row\">\r\n              <div id=\"contextPanel\" class=\"grid-cell--equally\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 class=\"grid-cell-title\">{{ componentData.componentId + \".context\" | translate }}</h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <div class=\"grid-row grid-cell--12\">\r\n                      <div id=\"sbContext\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".context\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"10\"\r\n                            pInputTextarea\r\n                            [(ngModel)]=\"bireSbDisplayed.sbContext\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            maxlength=\"2000\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-tab>\r\n\r\n          <mat-tab id=\"guidelineTab\" *ngIf=\"showGuideline()\">\r\n            <ng-template mat-tab-label>\r\n              {{ componentData.componentId + \".guideline\" | translate }}\r\n            </ng-template>\r\n            <div class=\"grid-row\">\r\n              <div id=\"guidelinePanel\" class=\"grid-cell--equally\">\r\n                <div class=\"grid-cell grid-cell--container\">\r\n                  <div class=\"grid-cell-header\">\r\n                    <div class=\"grid-cell-title-container\">\r\n                      <h3 class=\"grid-cell-title\">{{ componentData.componentId + \".guideline\" | translate }}</h3>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-cell-content\">\r\n                    <div class=\"grid-row grid-cell--12\">\r\n                      <div id=\"sbComments\" class=\"form-group\">\r\n                        <label class=\"form-label\">{{ componentData.componentId + \".guideline\" | translate }}</label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <textarea\r\n                            class=\"aw-textarea\"\r\n                            [rows]=\"10\"\r\n                            pInputTextarea\r\n                            [(ngModel)]=\"bireSbDisplayed.sbComments\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            maxlength=\"2000\"\r\n                          ></textarea>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<p-overlayPanel #op1 [showCloseIcon]=\"false\" [dismissable]=\"true\" appendTo=\"body\">\r\n  <ul class=\"export-methods\">\r\n    <li class=\"export-method-wrapper\">\r\n      <i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i> <span class=\"export-method\">Excel</span>\r\n    </li>\r\n\r\n    <li class=\"export-method-wrapper\">\r\n      <i class=\"fa fa-file-pdf-o\" aria-hidden=\"true\"></i> <span class=\"export-method\">PDF</span>\r\n    </li>\r\n  </ul>\r\n</p-overlayPanel>\r\n\r\n<aw-sb-ad-assets-popup-form\r\n  *ngIf=\"showAssetDialog\"\r\n  [(display)]=\"showAssetDialog\"\r\n  [component-data]=\"dataAssets\"\r\n  [sbAssets]=\"bireSbDisplayed.sbAssets\"\r\n  (onCreate)=\"addNewConcernedAsset($event)\"\r\n  (onUpdate)=\"updateConcernedAsset($event)\"\r\n  [isNewAsset]=\"isNewAsset\"\r\n></aw-sb-ad-assets-popup-form>\r\n\r\n<aw-sb-ad-applicabilities-popup\r\n  *ngIf=\"showApplicabilitiesDialog\"\r\n  [(display)]=\"showApplicabilitiesDialog\"\r\n  [component-data]=\"dataApplicabilities\"\r\n  (onCreate)=\"addNewSbVariant($event)\"\r\n  (onUpdate)=\"updateSbVariant($event)\"\r\n  [isNewVariant]=\"isNewApplicabilities\"\r\n></aw-sb-ad-applicabilities-popup>\r\n\r\n<aw-dialog-search-maintenance-program-popup\r\n  *ngIf=\"showMaintenanceProgramDialog\"\r\n  [(display)]=\"showMaintenanceProgramDialog\"\r\n  (onSelected)=\"setSelectedMaintenanceProgram($event)\"\r\n></aw-dialog-search-maintenance-program-popup>\r\n\r\n<aw-dialog-status\r\n  *ngIf=\"displayStatusPopup\"\r\n  [item]=\"currentEvolution\"\r\n  [isObjectTypeOfBireEvolutionDTO]=\"true\"\r\n  [itemId]=\"currentEvolutionId\"\r\n  [(display)]=\"displayStatusPopup\"\r\n></aw-dialog-status>\r\n\r\n<aw-status-update-history\r\n  *ngIf=\"showStatusUpdatesPopup\"\r\n  [isObjectTypeOfBireSbDTO]=\"true\"\r\n  [object]=\"bireSb\"\r\n  [data]=\"tableStatusUpdatesData\"\r\n  [deleteApi]=\"deleteApi\"\r\n  [(display)]=\"showStatusUpdatesPopup\"\r\n  [keyMap]=\"updatesKeyMap\"\r\n  [isStatusEditable]=\"!isReadOpenMode\"\r\n  (onUpdated)=\"updateObjectStatusFromStatusUpdatesHistory($event)\"\r\n></aw-status-update-history>\r\n\r\n<aw-sb-ad-import-popup\r\n  *ngIf=\"showDocumentDialog\"\r\n  [document]=\"currentDocument\"\r\n  [(display)]=\"showDocumentDialog\"\r\n  [isReadOnlyForm]=\"isReadOnlyDocumentDialog\"\r\n  (onValidated)=\"updateDocument($event)\"\r\n></aw-sb-ad-import-popup>\r\n\r\n<aw-sb-ad-limits-periodicities-popup-form\r\n  *ngIf=\"showLimitAndPeriodicityDialog\"\r\n  [(display)]=\"showLimitAndPeriodicityDialog\"\r\n  [component-data]=\"dataLimitAndPeriodicity\"\r\n  (onCreate)=\"addNewConcernedLimitAndPeriodicity($event)\"\r\n  (onUpdate)=\"updateLimitAndPeriodicity($event)\"\r\n  [isNewLimitAndPeriodicity]=\"isNewLimitAndPeriodicity\"\r\n  [sbCounterLimitRefDateMap]=\"getLimitRefernceDateEndpointRef()\"\r\n></aw-sb-ad-limits-periodicities-popup-form>\r\n\r\n<aw-dialog-generate-comment\r\n  *ngIf=\"showGenerateCommentPopup\"\r\n  [(display)]=\"showGenerateCommentPopup\"\r\n  [componentData]=\"comment\"\r\n  (onValidate)=\"saveComments($event)\"\r\n></aw-dialog-generate-comment>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/sbad-form.component.scss":
/*!********************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/sbad-form.component.scss ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".alert-icon-yellow {\n  background-color: transparent;\n  color: #ff9800;\n  padding: 2px;\n  text-align: center; }\n  .alert-icon-yellow:hover {\n    background-color: #ff9800;\n    color: #fff;\n    border-radius: 5px; }\n  .resize-disabled {\n  resize: none !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3NiYWQtZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxzYmFkLWZvcm1cXHNiYWQtZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDZCQUE2QjtFQUM3QixjQUFjO0VBQ2QsWUFBWTtFQUNaLGtCQUFrQixFQUFBO0VBSnBCO0lBT0kseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxrQkFBa0IsRUFBQTtFQUl0QjtFQUNFLHVCQUF1QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3NiYWQtZm9ybS9zYmFkLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWxlcnQtaWNvbi15ZWxsb3cge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGNvbG9yOiAjZmY5ODAwO1xyXG4gIHBhZGRpbmc6IDJweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOTgwMDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIH1cclxufVxyXG5cclxuLnJlc2l6ZS1kaXNhYmxlZCB7XHJcbiAgcmVzaXplOiBub25lICFpbXBvcnRhbnQ7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/sbad-form.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/sbad-form.component.ts ***!
  \******************************************************************************/
/*! exports provided: SbadFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadFormComponent", function() { return SbadFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/api/update-historic.api */ "./src/app/shared/api/update-historic.api.ts");
/* harmony import */ var _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/components/component-sidebar/page-toc.service */ "./src/app/shared/components/component-sidebar/page-toc.service.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../shared/services/update-historic.service */ "./src/app/shared/services/update-historic.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _shared_utils_dom_utils__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../shared/utils/dom-utils */ "./src/app/shared/utils/dom-utils.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
/* harmony import */ var _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../shared/utils/tab-object-id-utils */ "./src/app/shared/utils/tab-object-id-utils.ts");
/* harmony import */ var _shared_utils_url_utils__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../shared/utils/url-utils */ "./src/app/shared/utils/url-utils.ts");
/* harmony import */ var _shared_utils_workflow_utils__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../shared/utils/workflow-utils */ "./src/app/shared/utils/workflow-utils.ts");
/* harmony import */ var _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../object-status/object-status.component */ "./src/app/main/object-status/object-status.component.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./sbad-form-mhiael.service */ "./src/app/main/engineering-management/sbad-form/sbad-form-mhiael.service.ts");
/* harmony import */ var _sbad_form_service__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./sbad-form.service */ "./src/app/main/engineering-management/sbad-form/sbad-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};



































var SbadFormComponent = /** @class */ (function (_super) {
    __extends(SbadFormComponent, _super);
    function SbadFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, inputValidationService, sbadFormService, sbadFormMhiaelService, propertiesService, translateService, dynamicAttributesService, confirmationService, sessionService, dateService, updateHistoricService, updateHistoricApi, pageTocService, _overlayService, _formatSelectOption) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService, pageTocService) || this;
        _this.inputValidationService = inputValidationService;
        _this.sbadFormService = sbadFormService;
        _this.sbadFormMhiaelService = sbadFormMhiaelService;
        _this.propertiesService = propertiesService;
        _this.translateService = translateService;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.confirmationService = confirmationService;
        _this.sessionService = sessionService;
        _this.dateService = dateService;
        _this.updateHistoricService = updateHistoricService;
        _this.updateHistoricApi = updateHistoricApi;
        _this._overlayService = _overlayService;
        _this._formatSelectOption = _formatSelectOption;
        _this.isAD = false;
        _this.showApplicabilitiesDialog = false;
        _this.showAssetDialog = false;
        _this.showMaintenanceProgramDialog = false;
        _this.bireMaintenancePlanDTO = {};
        _this.displayStatusPopup = false;
        // Init DTO objects
        _this.bireSb = {};
        _this.initSbDisplayed();
        // Init differents tables
        _this.selectedEvolutions = [];
        _this.selectedApplicabilities = [];
        _this.selectedAssets = [];
        _this.selectedLimitsAndPeriodicities = [];
        _this.selectedDocuments = [];
        _this.bireSbVariantAddedList = [];
        _this.bireSbVariantUpdatedList = [];
        _this.bireSbVariantDeletedList = [];
        _this.bireDocumentAddedList = [];
        _this.bireDocumentUpdatedList = [];
        _this.bireDocDeletedList = [];
        _this.bireConcernedAssetAddedList = [];
        _this.bireConcernedAssetDisplayed = [];
        _this.limitsAndApplicabilitiesDisplayed = [];
        _this.bireDocumentDisplayed = [];
        _this.bireEvolutionSbsDisplayed = [];
        _this.bireSbVariantsDisplayed = [];
        // Attributes init
        _this.attributeIdValueMap = new Map();
        _this.bireAttributesForSb = [];
        _this.dynamicAttributesForSb = [];
        _this.bireSbAttributes = [];
        _this.getBireAttributesForSb();
        // Fill table column information
        _this.initTableColumnField();
        _this.documentsTableFilteredRowsNb = 0;
        _this.delRow = 0;
        // Loading all DropDown list
        _this.propertyStatus = [];
        _this.loadStatus(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__["AWPropertiesConstants"].OBJECT_STATUS_LOADED_KEY);
        _this.loadClassifications();
        _this.loadTypes();
        _this.loadSubTypes();
        _this.loadCompliances();
        _this.loadActionTypes();
        // Loading all needed DTO objects
        _this.bireDocument = [];
        // For status/updates popup
        _this.showStatusUpdatesPopup = false;
        _this.deleteApi = _this.updateHistoricApi.removeBireSbHistory;
        _this.updatesKeyMap = new Map();
        // Lang change events
        _this.translateService.onLangChange.subscribe(function (_) {
            // Reset the right attribute name regarding the langage
            _this.dynamicAttributesForSb = _this.dynamicAttributesService.from(_this.bireAttributesForSb);
            _this.getBireSbAttributes();
        });
        _this.userWorkflowSubject.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(_this.unsubscribe)).subscribe(function (_userWorkflow) {
            _this.updateWorkflowStatusList();
        });
        return _this;
    }
    SbadFormComponent.prototype.showSubType = function () {
        return false;
    };
    SbadFormComponent.prototype.showContext = function () {
        return false;
    };
    SbadFormComponent.prototype.showGuideline = function () {
        return false;
    };
    SbadFormComponent.prototype.initSbDisplayed = function () {
        this.bireSbDisplayed = {
            statusState: _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_ONGOING
        };
    };
    SbadFormComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_8__["ComponentConstants"].ENG_SBAD_FORM;
    };
    SbadFormComponent.prototype.init = function () {
        // Init DTO objects
        this.bireSb = {};
        this.bireSbDisplayed = {};
        // Init differents tables
        this.selectedEvolutions = [];
        this.selectedApplicabilities = [];
        this.selectedAssets = [];
        this.selectedLimitsAndPeriodicities = [];
        this.selectedDocuments = [];
        this.bireSbVariantAddedList = [];
        this.bireSbVariantUpdatedList = [];
        this.bireSbVariantDeletedList = [];
        this.bireDocumentAddedList = [];
        this.bireDocumentUpdatedList = [];
        this.bireDocDeletedList = [];
        this.bireConcernedAssetAddedList = [];
        this.bireConcernedAssetDisplayed = [];
        this.limitsAndApplicabilitiesDisplayed = [];
        this.bireDocumentDisplayed = [];
        this.bireEvolutionSbsDisplayed = [];
        this.bireSbVariantsDisplayed = [];
    };
    SbadFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.bireSbDisplayed.sbType = undefined;
        if (this.componentData) {
            this.updateOpenMode(this.componentData.openMode);
            var context_1 = '';
            if (this.componentData.objectId) {
                var tempContext = _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_28__["TabObjectIdUtils"].bireSbDTOIdToString(this.serializationService.deserialize(this.componentData.objectId)).split('|');
                tempContext.forEach(function (element) {
                    context_1 += element + _shared_utils_tab_object_id_utils__WEBPACK_IMPORTED_MODULE_28__["TabObjectIdUtils"].CONTEXT_SEPARATOR;
                });
                context_1 = context_1.substring(0, context_1.length - 1);
                this.subTitle = context_1;
                this.findBireSb();
            }
            else {
                this.loadUserWorkflow(this.bireSbDisplayed.statusState);
                context_1 = 'tab.createMode';
                this.getLimitAndPeriodicityLists(undefined);
            }
            this.displayComponentContext(context_1, this.isCreateOpenMode);
        }
        else {
            // TODO
        }
    };
    SbadFormComponent.prototype.initTableColumnField = function () {
        this.evolutionsTableCols = [
            { field: 'evolutionNumber', alignment: 'left', width: '20%' },
            { field: 'evolutionRevisionNumber', alignment: 'left', width: '20%' },
            // { field: 'statusState', alignment: 'left' },
            { field: 'sbTitle', alignment: 'left', width: '50%' }
        ];
        this.opeAttributesTableCols = [
            { field: 'dateAndHour', alignment: 'left', width: '5rem' },
            { field: 'author', alignment: 'left', width: '5rem' },
            { field: 'state', alignment: 'left', width: '5rem' },
            { field: 'value', alignment: 'left', width: '5rem' },
            { field: 'downloadDate', alignment: 'left', width: '5rem' }
        ];
        this.documentsTableCols = [
            { field: 'docName', alignment: 'left' },
            { field: 'docSource', alignment: 'left' },
            { field: 'docExtension', alignment: 'left' },
            { field: 'docSize', alignment: 'left' },
            { field: 'docPublicationDate', alignment: 'left' }
        ];
        this.applicabilitiesTableCols = [
            { field: 'familyCode', alignment: 'left' },
            { field: 'structureType', alignment: 'left' },
            { field: 'variantCode', alignment: 'left' },
            { field: 'sbApplicabilityDate', alignment: 'left' }
        ];
        this.assetsTableCols = [
            { field: 'assetPn', alignment: 'left' },
            { field: 'assetSn', alignment: 'left' },
            { field: 'assetActionType', alignment: 'left' }
        ];
        this.limitsPeriodicitiesTableCols = [
            { field: 'counterCode', alignment: 'left', width: '20%' },
            { field: 'limitValue', alignment: 'left', width: '15%' },
            { field: 'limitType', alignment: 'left', width: '15%' },
            { field: 'limitReferenceDate', alignment: 'left', width: '15%' },
            { field: 'periodicity', alignment: 'left', width: '15%' },
            { field: 'comments', alignment: 'left', width: '20%' }
        ];
    };
    SbadFormComponent.prototype.showMaintenanceProgram = function (event) {
        if (!_shared_utils_dom_utils__WEBPACK_IMPORTED_MODULE_26__["DomUtils"].isTargetDisabled(event.target)) {
            this.showMaintenanceProgramDialog = true;
        }
    };
    // tslint:disable-next-line:no-any
    SbadFormComponent.prototype.onFilterDocumentsTable = function (event) {
        this.documentsTableFilteredRowsNb = event.filteredValue.length;
    };
    SbadFormComponent.prototype.cancel = function () {
        this.clearErrors();
        if (this.isCreateOpenMode) {
            this.init();
            this.initAttributeValue();
        }
        else {
            this.ngOnInit();
            this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Read);
        }
    };
    SbadFormComponent.prototype.initAttributeValue = function () {
        var leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesForSb);
        leafs.forEach(function (attribute) {
            attribute.value = undefined;
        });
    };
    SbadFormComponent.prototype.edit = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write);
    };
    SbadFormComponent.prototype.refresh = function () {
        if (this.componentData.objectId) {
            this.findBireSb();
        }
        else {
            this.initSbDisplayed();
        }
    };
    SbadFormComponent.prototype.upgradeSb = function () {
        var _this = this;
        // Call backend to upgrade an SB/AD
        this.confirmationService.confirm({
            messageKey: this.getTranslateKey('sbConfirmUpgrade'),
            accept: function () {
                _this.sbadFormService.checkSbAdRevisionNumber(_this.bireSb).subscribe(function (sbRevisionNumber) {
                    if (sbRevisionNumber !== null && sbRevisionNumber !== undefined) {
                        _this.sbadFormService.upgradeSbAd(_this.bireSb, sbRevisionNumber).subscribe(function (bireSb) {
                            _this.bireSb = __assign({}, bireSb);
                            _this.bireSbDisplayed = __assign({}, bireSb);
                            setTimeout(function () {
                                var bireSbId = {
                                    sbNumber: _this.bireSb.sbNumber || '',
                                    sbRevisionNumber: _this.bireSb.sbRevisionNumber || ''
                                };
                                _this.componentData.objectId = _this.serializationService.serialize(bireSbId);
                                _this.refresh();
                            });
                            _this.messageService.showSuccessMessage(_this.getTranslateKey('sbUpgraded'));
                        }, function () {
                            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnUpgraded'));
                        });
                    }
                    else {
                        _this.messageService.showErrorMessage(_this.getTranslateKey('sbRevisionNumberNotCorrect'));
                    }
                }, function () {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnCheck'));
                });
            }
        });
    };
    SbadFormComponent.prototype.openStatusUpdatesPopup = function () {
        this.showStatusUpdatesPopup = true;
        var columns = [
            { field: 'timestamp', width: '14rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, isDate: true, alignment: 'left' },
            { field: 'statusUser', width: '13rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'action', width: '6rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'statusState', width: '6rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbTitle', width: '32rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbType', width: '6rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            {
                field: 'sbPublicationDate',
                width: '13rem',
                filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input,
                isDate: true,
                alignment: 'left'
            },
            {
                field: 'sbEffectiveDate',
                width: '13rem',
                filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input,
                isDate: true,
                alignment: 'left'
            },
            { field: 'sbCompliance', width: '16rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbComplianceStatus', width: '16rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbComplianceInformation', width: '13rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbClass', width: '13rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'sbDocumentUrl', width: '24rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'hoursLimit', width: '6rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'cyclesLimit', width: '6rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' },
            {
                field: 'limitComplianceDate',
                width: '13rem',
                filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input,
                isDate: true,
                alignment: 'left'
            },
            { field: 'sbAssets', width: '16rem', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableColumnFilterMode"].Input, alignment: 'left' }
        ];
        this.updatesKeyMap.set('sbType', this.propertiesService.getValue('getSbTypeMap'));
        this.updatesKeyMap.set('sbCompliance', this.propertiesService.getValue('getComplianceMap'));
        this.updatesKeyMap.set('sbClass', this.propertiesService.getValue('getSbClassificationMap'));
        this.tableStatusUpdatesData = {
            componentId: 'SbadFormComponent.historicPopup',
            tableCols: columns,
            tableRows: this.updateHistoricService.findBireSbHistoric(this.bireSbId),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_12__["TableSelectionMode"].Multiple,
            globalFilter: false
        };
    };
    SbadFormComponent.prototype.setSelectedMaintenanceProgram = function (event) {
        this.bireMaintenancePlanDTO = event;
    };
    /***********************************************************************************
     * Evolutions Tab
     ***********************************************************************************/
    SbadFormComponent.prototype.displayStatusForEvolution = function () {
        var _this = this;
        if (!!this.selectedEvolutions && this.selectedEvolutions.length === 1) {
            this.currentEvolution = __assign({}, this.selectedEvolutions[0]);
            var statusObj = this.propertyStatus.filter(function (status) { return status.label === _this.selectedEvolutions[0].statusState; })[0];
            this.currentEvolution.statusState = statusObj && statusObj.value;
            this.currentEvolutionId =
                "Evolution " + this.currentEvolution.evolutionNumber + (" - " + this.currentEvolution.evolutionRevisionNumber);
            this.displayStatusPopup = true;
        }
    };
    SbadFormComponent.prototype.openStatusPopup = function (bireEvolutionSb) {
        this.currentEvolution = __assign({}, bireEvolutionSb);
        var statusObj = this.propertyStatus.filter(function (status) { return status.label === bireEvolutionSb.statusState; })[0];
        this.currentEvolution.statusState = statusObj && statusObj.value;
        this.currentEvolutionId =
            "Evolution " + this.currentEvolution.evolutionNumber + (" - " + this.currentEvolution.evolutionRevisionNumber);
        this.displayStatusPopup = true;
    };
    /***********************************************************************************
     * Applicabilities Tab
     ***********************************************************************************/
    SbadFormComponent.prototype.getCustomApplicabilityRow = function (obj) {
        return {
            _obj: obj,
            sbNumber: obj.sbNumber,
            sbRevisionNumber: obj.sbRevisionNumber,
            familyCode: obj.familyCode,
            structureType: obj.structureType,
            variantCode: obj.variantCode,
            sbApplicabilityDate: this.dateService.dateToString(obj.sbApplicabilityDate)
        };
    };
    SbadFormComponent.prototype.createApplicabilities = function () {
        this.currentApplicabilities = {};
        this.showApplicabilitiesDialog = true;
        this.isNewApplicabilities = true;
        this.dataApplicabilities = {
            componentId: this.getComponentName(),
            selectedRow: undefined,
            object: this.currentApplicabilities,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write
        };
    };
    SbadFormComponent.prototype.editApplicabilities = function () {
        this.isNewApplicabilities = false;
        if (this.selectedApplicabilities.length === 1) {
            // Copy all the selectedApplicabilities[0] field into currentApplicabilities one by one
            this.currentApplicabilities = __assign({}, this.selectedApplicabilities[0]._obj);
            this.currentApplicabilitiesIndex = this.bireSbVariantsDisplayed.indexOf(this.selectedApplicabilities[0]);
            this.showApplicabilitiesDialog = true;
            this.dataApplicabilities = {
                componentId: this.getComponentName(),
                selectedRow: [this.selectedApplicabilities[0]._obj],
                object: this.currentApplicabilities,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write
            };
        }
    };
    SbadFormComponent.prototype.openApplicabilities = function () {
        if (this.selectedApplicabilities.length === 1) {
            this.currentApplicabilities = __assign({}, this.selectedApplicabilities[0]._obj);
            this.currentAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedApplicabilities[0]);
            this.showApplicabilitiesDialog = true;
            this.dataApplicabilities = {
                componentId: this.getComponentName(),
                selectedRow: [this.selectedApplicabilities[0]._obj],
                object: this.currentApplicabilities,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Read
            };
        }
    };
    /*
          Sb variant handler functions
      */
    SbadFormComponent.prototype.addNewSbVariant = function (newSbVariant) {
        var searchInDisplayedList = this.bireSbVariantsDisplayed.find(function (value) {
            return value.sbNumber === newSbVariant.sbNumber &&
                value.sbRevisionNumber === newSbVariant.sbRevisionNumber &&
                value.variantCode === newSbVariant.variantCode &&
                value.familyCode === newSbVariant.familyCode &&
                value.familyCode === newSbVariant.familyCode;
        });
        if (!searchInDisplayedList) {
            this.bireSbVariantAddedList.push(newSbVariant);
            this.bireSbVariantsDisplayed.push(this.getCustomApplicabilityRow(newSbVariant));
        }
        else {
            // TODO case: There is already a sbVariant with this value...
        }
    };
    SbadFormComponent.prototype.deleteSelectedSbVariants = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedSbVariants'),
            accept: function () {
                _this.selectedApplicabilities.forEach(function (element) {
                    var sbVariantId = {
                        sbNumber: element.sbNumber || '',
                        sbRevisionNumber: element.sbRevisionNumber || '',
                        variantCode: element.variantCode || '',
                        familyCode: element.familyCode || '',
                        structureType: element.structureType || ''
                    };
                    var searchInAddedList = _this.bireSbVariantAddedList.find(function (value) {
                        return value.sbNumber === element.sbNumber &&
                            value.sbRevisionNumber === element.sbRevisionNumber &&
                            value.variantCode === element.variantCode &&
                            value.familyCode === element.familyCode &&
                            value.familyCode === element.familyCode;
                    });
                    var searchInUpdatedList = _this.bireSbVariantUpdatedList.find(function (value) {
                        return value.sbNumber === element.sbNumber &&
                            value.sbRevisionNumber === element.sbRevisionNumber &&
                            value.variantCode === element.variantCode &&
                            value.familyCode === element.familyCode &&
                            value.familyCode === element.familyCode;
                    });
                    if (searchInAddedList) {
                        var indexInAddedList = _this.bireSbVariantAddedList.indexOf(searchInAddedList);
                        _this.bireSbVariantAddedList.splice(indexInAddedList, 1);
                    }
                    else if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireSbVariantUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireSbVariantUpdatedList.splice(indexInUpdatedList, 1);
                        _this.bireSbVariantDeletedList.push(sbVariantId);
                    }
                    else {
                        _this.bireSbVariantDeletedList.push(sbVariantId);
                    }
                    var indexInDisplayedList = _this.bireSbVariantsDisplayed.indexOf(element);
                    _this.bireSbVariantsDisplayed.splice(indexInDisplayedList, 1);
                });
                _this.bireSbVariantDeletedList = __spread(_this.bireSbVariantDeletedList);
                _this.selectedApplicabilities = [];
            }
        });
    };
    SbadFormComponent.prototype.updateSbVariant = function (udpatedSbVariant) {
        var previousSbVariantObject = this.bireSbVariantsDisplayed[this.currentApplicabilitiesIndex];
        var searchInAddedList = this.bireSbVariantAddedList.find(function (value) {
            return value.sbNumber === previousSbVariantObject.sbNumber &&
                value.sbRevisionNumber === previousSbVariantObject.sbRevisionNumber &&
                value.variantCode === previousSbVariantObject.variantCode &&
                value.familyCode === previousSbVariantObject.familyCode &&
                value.familyCode === previousSbVariantObject.familyCode;
        });
        var searchInUpdatedList = this.bireSbVariantUpdatedList.find(function (value) {
            return value.sbNumber === previousSbVariantObject.sbNumber &&
                value.sbRevisionNumber === previousSbVariantObject.sbRevisionNumber &&
                value.variantCode === previousSbVariantObject.variantCode &&
                value.familyCode === previousSbVariantObject.familyCode &&
                value.familyCode === previousSbVariantObject.familyCode;
        });
        if (searchInAddedList) {
            var indexInAddedList = this.bireSbVariantAddedList.indexOf(searchInAddedList);
            this.bireSbVariantAddedList[indexInAddedList] = udpatedSbVariant;
        }
        else if (searchInUpdatedList) {
            var indexInUpdatedList = this.bireSbVariantUpdatedList.indexOf(searchInUpdatedList);
            this.bireSbVariantUpdatedList[indexInUpdatedList] = udpatedSbVariant;
        }
        else {
            this.bireSbVariantUpdatedList.push(udpatedSbVariant);
        }
        this.selectedApplicabilities = [];
        this.bireSbVariantsDisplayed[this.currentApplicabilitiesIndex] = this.getCustomApplicabilityRow(udpatedSbVariant);
    };
    /***********************************************************************************
     * Assets Tab
     ***********************************************************************************/
    SbadFormComponent.prototype.createAsset = function () {
        this.currentAsset = {};
        this.showAssetDialog = true;
        this.isNewAsset = true;
        this.dataAssets = {
            componentId: this.getComponentName(),
            selectedRow: undefined,
            object: this.currentAsset,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write
        };
    };
    SbadFormComponent.prototype.editAsset = function () {
        var _this = this;
        this.isNewAsset = false;
        if (this.selectedAssets.length === 1) {
            // Copy all the selectedAssets[0] field into currentAsset one by one
            this.currentAsset = __assign({}, this.selectedAssets[0]);
            var filteredAction = this.propertyActionType.filter(function (actionType) { return actionType.label === _this.currentAsset.assetActionType; });
            if (filteredAction && filteredAction.length > 0 && filteredAction[0]) {
                this.currentAsset.assetActionType = filteredAction[0].value;
            }
            this.currentAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);
            this.showAssetDialog = true;
            this.dataAssets = {
                componentId: this.getComponentName(),
                selectedRow: this.selectedAssets,
                object: this.currentAsset,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write
            };
        }
    };
    SbadFormComponent.prototype.openAsset = function () {
        var _this = this;
        if (this.selectedAssets.length === 1) {
            this.currentAsset = __assign({}, this.selectedAssets[0]);
            var filteredAction = this.propertyActionType.filter(function (actionType) { return actionType.label === _this.currentAsset.assetActionType; });
            if (filteredAction && filteredAction.length > 0 && filteredAction[0]) {
                this.currentAsset.assetActionType = filteredAction[0].value;
            }
            this.currentAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);
            this.showAssetDialog = true;
            this.dataAssets = {
                componentId: this.getComponentName(),
                selectedRow: this.selectedAssets,
                object: this.currentAsset,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Read
            };
        }
    };
    /*
          Concerned asset handler functions
      */
    SbadFormComponent.prototype.deleteSelectedConcernedAssets = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedConcernedAssets'),
            accept: function () {
                _this.selectedAssets.forEach(function (element) {
                    var indexInDisplayedList = _this.bireConcernedAssetDisplayed.indexOf(element);
                    _this.bireConcernedAssetDisplayed.splice(indexInDisplayedList, 1);
                });
                _this.bireConcernedAssetAddedList = _this.bireConcernedAssetDisplayed;
                _this.selectedAssets = [];
            }
        });
    };
    SbadFormComponent.prototype.addNewConcernedAsset = function (concernedAsset) {
        var _this = this;
        if (concernedAsset.assetActionType) {
            concernedAsset.assetActionType = this.propertyActionType.filter(function (actionType) { return actionType.value === concernedAsset.assetActionType; })[0].label;
        }
        var searchInDisplayedList = this.bireConcernedAssetDisplayed.find(function (value) {
            return _this.isConcernedAssetTheSame(value, concernedAsset);
        });
        if (!searchInDisplayedList) {
            this.bireConcernedAssetDisplayed.push(concernedAsset);
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyConcernedAssetExist'));
        }
        this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;
    };
    SbadFormComponent.prototype.updateConcernedAsset = function (concernedAsset) {
        if (concernedAsset.assetActionType) {
            concernedAsset.assetActionType = this.propertyActionType.filter(function (actionType) { return actionType.value === concernedAsset.assetActionType; })[0].label;
        }
        this.bireConcernedAssetDisplayed[this.currentAssetIndex] = concernedAsset;
        this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;
        this.selectedAssets = [];
    };
    SbadFormComponent.prototype.isConcernedAssetTheSame = function (concernedAsset1, concernedAsset2) {
        if (concernedAsset1.assetPn === concernedAsset2.assetPn &&
            concernedAsset1.assetSn === concernedAsset2.assetSn &&
            concernedAsset1.assetActionType === concernedAsset2.assetActionType) {
            return true;
        }
        else {
            return false;
        }
    };
    /***********************************************************************************
     * Documents Tab
     ***********************************************************************************/
    /*
          Documents handler functions
      */
    SbadFormComponent.prototype.getCustomDocumentRow = function (newDocument) {
        return {
            _obj: newDocument,
            docCode: newDocument.docCode,
            docExtension: this.showDocExtension(newDocument),
            docName: newDocument.docName,
            docPublicationDate: this.dateService.dateToString(newDocument.docPublicationDate),
            docSize: this.showDocSize(newDocument),
            docSource: newDocument.docSource
        };
    };
    SbadFormComponent.prototype.addNewDocument = function (newDocument) {
        var searchInDisplayedList = this.bireDocumentDisplayed.find(function (value) { return value.docName === newDocument.docName; });
        if (!searchInDisplayedList) {
            this.bireDocumentAddedList.push(newDocument);
            this.bireDocumentDisplayed.push(this.getCustomDocumentRow(newDocument));
        }
        else {
            this.messageService.showErrorMessage(this.getTranslateKey('errorFileAlreadyExist'));
        }
    };
    SbadFormComponent.prototype.deleteSelectedDocuments = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedDocuments'),
            accept: function () {
                _this.selectedDocuments.forEach(function (element) {
                    var searchInAddedList = _this.bireDocumentAddedList.find(function (value) { return value.docName === element.docName; });
                    var searchInUpdatedList = _this.bireDocumentUpdatedList.find(function (value) { return value.docName === element.docName; });
                    if (searchInAddedList) {
                        var indexInAddedList = _this.bireDocumentAddedList.indexOf(searchInAddedList);
                        _this.bireDocumentAddedList.splice(indexInAddedList, 1);
                    }
                    else if (searchInUpdatedList) {
                        var indexInUpdatedList = _this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);
                        _this.bireDocumentUpdatedList.splice(indexInUpdatedList, 1);
                        var bireDocSbId = {
                            sbNumber: _this.bireSbId.sbNumber,
                            sbRevisionNumber: _this.bireSbId.sbRevisionNumber,
                            docCode: element.docCode || ''
                        };
                        _this.bireDocDeletedList.push(bireDocSbId);
                    }
                    else {
                        var bireDocSbId = {
                            sbNumber: _this.bireSbId.sbNumber,
                            sbRevisionNumber: _this.bireSbId.sbRevisionNumber,
                            docCode: element.docCode || ''
                        };
                        _this.bireDocDeletedList.push(bireDocSbId);
                    }
                    var indexInDisplayedList = _this.bireDocumentDisplayed.indexOf(element);
                    _this.bireDocumentDisplayed.splice(indexInDisplayedList, 1);
                });
                _this.bireDocDeletedList = __spread(_this.bireDocDeletedList);
                _this.selectedDocuments = [];
            }
        });
    };
    SbadFormComponent.prototype.updateDocument = function (updatedDocument) {
        if (this.currentDocumentIndex === undefined || this.currentDocumentIndex < 0) {
            this.addNewDocument(updatedDocument);
        }
        else {
            var previousDocumentObject_1 = this.bireDocumentDisplayed[this.currentDocumentIndex];
            var searchInAddedList = this.bireDocumentAddedList.find(function (value) { return value.docName === previousDocumentObject_1.docName; });
            var searchInUpdatedList = this.bireDocumentUpdatedList.find(function (value) { return value.docCode === previousDocumentObject_1.docCode; });
            if (searchInAddedList) {
                var indexInAddedList = this.bireDocumentAddedList.indexOf(searchInAddedList);
                this.bireDocumentAddedList[indexInAddedList] = updatedDocument;
            }
            else if (searchInUpdatedList) {
                var indexInUpdatedList = this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);
                this.bireDocumentUpdatedList[indexInUpdatedList] = updatedDocument;
            }
            else {
                this.bireDocumentUpdatedList.push(updatedDocument);
            }
            this.bireDocumentDisplayed[this.currentDocumentIndex] = this.getCustomDocumentRow(updatedDocument);
            this.selectedDocuments = [];
        }
    };
    // File handler utilities
    SbadFormComponent.prototype.showDocExtension = function (document) {
        return _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_27__["FileUtils"].getExtension(document.docName).toUpperCase();
    };
    SbadFormComponent.prototype.showDocSize = function (document) {
        return document.docFile ? _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_27__["FileUtils"].getFormattedSize(document.docFile.length) : '';
    };
    SbadFormComponent.prototype.editDocument = function () {
        var _this = this;
        if (this.selectedDocuments.length === 1) {
            this.currentDocumentIndex = this.bireDocumentDisplayed.findIndex(function (document) {
                return document === _this.selectedDocuments[0];
            });
            this.currentDocument = __assign({}, this.selectedDocuments[0]._obj);
            this.isReadOnlyDocumentDialog = false;
            this.showDocumentDialog = true;
        }
    };
    SbadFormComponent.prototype.openDocument = function () {
        if (this.selectedDocuments.length === 1) {
            this.currentDocument = this.selectedDocuments[0]._obj;
            this.isReadOnlyDocumentDialog = true;
            this.showDocumentDialog = true;
        }
    };
    /***********************************************************************************
     * Attributes Tab
     ***********************************************************************************/
    // Get differents attributes list for this object
    SbadFormComponent.prototype.getBireAttributesForSb = function () {
        var _this = this;
        var param = [
            _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_ALL_KEY,
            _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_SB_KEY
        ];
        this.sbadFormService.findBireAttributesByCategoryList(param).subscribe(function (results) {
            var _a;
            (_a = _this.bireAttributesForSb).push.apply(_a, __spread(results));
            setTimeout(function () {
                _this.dynamicAttributesForSb = _this.dynamicAttributesService.from(_this.bireAttributesForSb);
                _this.getBireSbAttributes();
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByCategory'));
        });
        /*this.sbadFormService.findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY).subscribe(
          (results) => {
            this.bireAttributesForSb.push(...results);
          },
          () => {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));
          }
        );
        this.sbadFormService.findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_SB_KEY).subscribe(
          (results) => {
            this.bireAttributesForSb.push(...results);
            setTimeout(() => {
              this.dynamicAttributesForSb = this.dynamicAttributesService.from(this.bireAttributesForSb);
              this.getBireSbAttributes();
            });
          },
          () => {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));
          }
        );*/
    };
    SbadFormComponent.prototype.getBireSbAttributes = function () {
        var _this = this;
        this.sbadFormService.findBireSbAttributesBySb(this.bireSb).subscribe(function (results) {
            _this.bireSbAttributes = results;
            _this.dynamicAttributesService.setValues(_this.dynamicAttributesForSb, _this.bireSbAttributes);
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesBySb'));
        });
    };
    SbadFormComponent.prototype.initAttributeIdValueMap = function () {
        var _this = this;
        // Real code
        this.bireSbAttributes.forEach(function (element) {
            if (!!element.attributeId) {
                _this.attributeIdValueMap.set(element.attributeId, element.attributeValue || '');
            }
        });
    };
    /***********************************************************************************
     * BackEnd functions
     ***********************************************************************************/
    SbadFormComponent.prototype.loadStatus = function (statusState) {
        var _this = this;
        this.propertiesService.getObjectStatusList(true, false, false, statusState, false).subscribe(function (results) {
            if (results) {
                results.forEach(function (element) {
                    if (_this.propertyStatus.filter(function (status) { return status.value === element.value; }).length === 0) {
                        _this.propertyStatus.push(element);
                    }
                });
                _this.propertyStatus = __spread(_this.propertyStatus);
                _this.updateWorkflowStatusList();
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetStatusList'));
        });
    };
    SbadFormComponent.prototype.updateWorkflowStatusList = function () {
        this.workflowStatus = _shared_utils_workflow_utils__WEBPACK_IMPORTED_MODULE_30__["WorkflowUtils"].filterWorkflowStatusList(this.userWorkflow, this.propertyStatus, this.bireSbDisplayed.statusState);
    };
    SbadFormComponent.prototype.loadTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getSbTypeMap').subscribe(function (results) {
            if (results) {
                _this.propertyType = results.filter(function (type) {
                    return type.value !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__["AWPropertiesConstants"].SB_TYPE_AD_KEY &&
                        type.value !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__["AWPropertiesConstants"].SB_TYPE_AMG_KEY;
                });
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSbTypeList'));
        });
    };
    SbadFormComponent.prototype.loadSubTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getAdditionalGuidelineSubTypeMap').subscribe(function (results) {
            if (results) {
                _this.propertySubType = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSbTypeList'));
        });
    };
    SbadFormComponent.prototype.loadCompliances = function () {
        var _this = this;
        this.propertiesService.getValue('getComplianceMap').subscribe(function (results) {
            if (results) {
                _this.propertyCompliance = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnComplianceList'));
        });
    };
    SbadFormComponent.prototype.loadClassifications = function () {
        var _this = this;
        this.propertiesService.getValue('getSbClassificationMap').subscribe(function (results) {
            if (results) {
                _this.propertyClass = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnClassificationList'));
        });
    };
    SbadFormComponent.prototype.loadActionTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getAssetActionTypeMap').subscribe(function (results) {
            _this.propertyActionType = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnActionTypeList'));
        });
    };
    SbadFormComponent.prototype.findBireSb = function () {
        var _this = this;
        // ObjectId[0] -> sbNumber & ObjectId[1] -> sbRevisionNumber
        if (!!this.componentData.objectId) {
            this.bireSbId = this.serializationService.deserialize(this.componentData.objectId);
        }
        this.sbadFormService.findBireSb(this.bireSbId).subscribe(function (result) {
            _this.bireSb = result;
            _this.loadUserWorkflow(_this.bireSb.statusState);
            if (_this.bireSb.sbPublicationDate) {
                _this.bireSb.sbPublicationDate = new Date(_this.bireSb.sbPublicationDate.toString());
            }
            if (_this.bireSb.statusDate) {
                _this.bireSb.statusDate = new Date(_this.bireSb.statusDate.toString());
            }
            if (_this.bireSb.sbEffectiveDate) {
                _this.bireSb.sbEffectiveDate = new Date(_this.bireSb.sbEffectiveDate.toString());
            }
            if (_this.bireSb.limitComplianceDate) {
                _this.bireSb.limitComplianceDate = new Date(_this.bireSb.limitComplianceDate.toString());
            }
            if (_this.propertyStatus.filter(function (status) { return status.value === _this.bireSb.statusState; }).length === 0) {
                if (_this.bireSb.statusState) {
                    _this.loadStatus(_this.bireSb.statusState);
                }
            }
            _this.bireSbDisplayed = __assign({}, _this.bireSb);
            if (_this.bireSb) {
                _this.findBireEvolutionsSbsBySb();
                _this.findBireDocumentsBySb();
                _this.findBireConcernedAssetsBySb();
                _this.findBireSbVariantsBySbNumbers();
                _this.getBireSbAttributes();
                _this.findBireSbCountersBySb();
                _this.findBireSbMaintenancePlan();
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireSb'));
        });
    };
    SbadFormComponent.prototype.findBireSbMaintenancePlan = function () {
        var _this = this;
        if (this.bireSb) {
            var bireSbDTOId = {
                sbNumber: this.bireSb.sbNumber || '',
                sbRevisionNumber: this.bireSb.sbRevisionNumber || ''
            };
            this.sbadFormService.findBireSbMaintenancePlanBySb(bireSbDTOId).subscribe(function (result) {
                _this.bireMaintenancePlanDTO = result || {};
            });
        }
    };
    SbadFormComponent.prototype.findBireEvolutionsSbsBySb = function () {
        var _this = this;
        this.showStatusNotMatchedWarning = false;
        this.statusNotMatchedWarning = '';
        this.sbadFormService.findBireEvolutionSbsBySb(this.bireSb).subscribe(function (results) {
            _this.bireEvolutionSbs = results;
            _this.bireEvolutionSbs.forEach(function (element) {
                if (element.statusDate) {
                    element.statusDate = new Date(element.statusDate.toString());
                }
            });
            _this.bireEvolutionSbsDisplayed = __spread(_this.bireEvolutionSbs);
            _this.bireEvolutionSbsDisplayed.forEach(function (element) {
                if (_this.bireSb.statusState !== element.statusState) {
                    _this.showStatusNotMatchedWarning = true;
                    var statusKey = _this.getTranslateKey('statusNotMatchedMessage');
                    _this.translateService.get(statusKey).subscribe(function (result) {
                        _this.statusNotMatchedWarning = result;
                    });
                }
                var statusObj = _this.propertyStatus.filter(function (status) { return status.value === element.statusState; })[0];
                element.statusState = statusObj && statusObj.label;
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireEvolutionSbsBySb'));
        });
    };
    SbadFormComponent.prototype.findBireDocumentsBySb = function () {
        var _this = this;
        this.sbadFormService.findBireDocumentsBySb(this.bireSb).subscribe(function (results) {
            _this.bireDocument = results;
            _this.bireDocument.forEach(function (element) {
                if (element && element.docPublicationDate) {
                    element.docPublicationDate = new Date(element.docPublicationDate.toString());
                }
                else {
                    // TODO: Investigation: I don't know why the last element of result table is undefined...
                    _this.bireDocument.pop();
                }
            });
            _this.bireDocumentDisplayed = [];
            _this.bireDocument.forEach(function (doc) {
                _this.bireDocumentDisplayed.push(_this.getCustomDocumentRow(doc));
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireDocSbsBySb'));
        });
    };
    SbadFormComponent.prototype.findBireConcernedAssetsBySb = function () {
        var _this = this;
        this.sbadFormService.findBireConcernedAssetsBySb(this.bireSb).subscribe(function (results) {
            _this.bireConcernedAsset = results;
            results.forEach(function (element) {
                if (element.assetActionType) {
                    var actionObj = _this.propertyActionType.filter(function (actionType) { return actionType.value === element.assetActionType; })[0];
                    element.assetActionType = actionObj && actionObj.label;
                }
            });
            _this.bireConcernedAssetDisplayed = __spread(results);
            _this.bireConcernedAssetAddedList = _this.bireConcernedAssetDisplayed;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireConcernedAssetsBySb'));
        });
    };
    SbadFormComponent.prototype.findBireSbVariantsBySbNumbers = function () {
        var _this = this;
        this.sbadFormService.findBireSbVariantsBySbNumbers(this.bireSb).subscribe(function (results) {
            _this.bireSbVariants = results;
            _this.bireSbVariants.forEach(function (element) {
                if (element.sbApplicabilityDate) {
                    element.sbApplicabilityDate = new Date(element.sbApplicabilityDate.toString());
                }
                if (element.statusDate) {
                    element.statusDate = new Date(element.statusDate.toString());
                }
            });
            _this.bireSbVariantsDisplayed = [];
            _this.bireSbVariants.forEach(function (doc) {
                _this.bireSbVariantsDisplayed.push(_this.getCustomApplicabilityRow(doc));
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindBireSbVariantsBySbNumber'));
        });
    };
    SbadFormComponent.prototype.isOneRequiredFieldNull = function () {
        return !this.bireSbDisplayed.sbNumber || !this.bireSbDisplayed.sbRevisionNumber;
    };
    SbadFormComponent.prototype.openUrl = function () {
        _shared_utils_url_utils__WEBPACK_IMPORTED_MODULE_29__["UrlUtils"].openUrl(this.bireSbDisplayed.sbDocumentUrl);
    };
    SbadFormComponent.prototype.saveSbAdData = function () {
        var _this = this;
        var saved = false;
        var missingFields = this.checkMandatoryFields(__assign({}, this.bireSbDisplayed, { planCode: this.bireMaintenancePlanDTO.planCode, bireEvolutionSbsDisplayedTitle: this.bireEvolutionSbsDisplayed, bireSbVariantsDisplayedTitle: this.bireSbVariantsDisplayed, limitsAndApplicabilitiesDisplayedTitle: this.limitsAndApplicabilitiesDisplayed, bireConcernedAssetDisplayedTitle: this.bireConcernedAssetDisplayed, bireDocumentDisplayedTitle: this.bireDocumentDisplayed, dynamicAttributes: this.dynamicAttributesForSb }));
        if ((this.isCreateOpenMode && this.isOneRequiredFieldNull()) || missingFields.length > 0) {
            this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));
        }
        else {
            if (!!this.bireSbDisplayed.sbDocumentUrl && !_shared_utils_url_utils__WEBPACK_IMPORTED_MODULE_29__["UrlUtils"].validateUrl(this.bireSbDisplayed.sbDocumentUrl)) {
                this.messageService.showErrorMessage(this.getTranslateKey('errorOnInvalidUrl'));
                return saved;
            }
            this.bireSbId = {
                sbNumber: this.bireSbDisplayed.sbNumber || '',
                sbRevisionNumber: this.bireSbDisplayed.sbRevisionNumber || ''
            };
            // Add the link between the sbad and the bireConcernedAsset added elements
            this.bireConcernedAssetAddedList.forEach(function (element) {
                element.sbNumber = _this.bireSbDisplayed.sbNumber;
                element.sbRevisionNumber = _this.bireSbDisplayed.sbRevisionNumber;
                if (element.assetActionType) {
                    element.assetActionType = _this.propertyActionType.filter(function (action) { return action.label === element.assetActionType; })[0].value;
                }
            });
            // Add the link between the sbad and the sbVariant added elements
            this.bireSbVariantAddedList.forEach(function (element) {
                element.sbNumber = _this.bireSbDisplayed.sbNumber;
                element.sbRevisionNumber = _this.bireSbDisplayed.sbRevisionNumber;
            });
            // Test attribute
            this.bireSbAttributes = this.dynamicAttributesService.toBireSbAttribute(this.bireSbDisplayed.sbNumber || '', this.bireSbDisplayed.sbRevisionNumber || '', this.dynamicAttributesForSb);
            var bireMaintenancePlanDTOId = void 0;
            if (this.bireMaintenancePlanDTO && this.bireMaintenancePlanDTO.planCode) {
                bireMaintenancePlanDTOId = { planCode: this.bireMaintenancePlanDTO.planCode };
            }
            this.showSaveSpinner = true;
            this.sbadFormService
                .saveSbAdData(this.bireSbDisplayed, this.bireSbId, this.bireSbVariantAddedList, this.bireSbVariantUpdatedList, this.bireSbVariantDeletedList, this.bireDocumentAddedList, this.bireDocumentUpdatedList, this.bireDocDeletedList, this.bireConcernedAssetAddedList, this.familyCode, this.structureType, this.variantCode, this.bireSbAttributes, this.getAllSbLimitsAndPriodicities(), bireMaintenancePlanDTOId, !this.isCreateOpenMode)
                .subscribe(function (result) {
                // SUCCEED CASE
                _this.initializeObjectsAfterSave();
                _this.messageService.showSuccessMessage(_this.getTranslateKey('onSuccessSave'));
                _this.showSaveSpinner = false;
                _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Read);
            }, function (error) {
                if (error && error.error && error.error.errorDesc) {
                    _this.messageService.showErrorMessage(error.error.errorDesc);
                }
                else {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSaveSbAdData'));
                }
                _this.showSaveSpinner = false;
            });
            saved = true;
            if (this.bireSbDisplayed.statusState === _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_7__["AWPropertiesConstants"].FUNC_OBJECT_STATUS_APPROVED_KEY &&
                this.sessionService.isSpecificMHIAEL) {
                this.sbadFormMhiaelService.updateSBADCsv(this.bireSb).subscribe();
            }
            // Reset label instead of value
            this.bireConcernedAssetAddedList.forEach(function (element) {
                element.assetActionType = _this.propertyActionType.filter(function (action) { return action.value === element.assetActionType; })[0].label;
            });
        }
        return saved;
    };
    SbadFormComponent.prototype.getAllSbLimitsAndPriodicities = function () {
        var _this = this;
        var bireSbCounterDTO = [];
        if (!!this.limitsAndApplicabilitiesDisplayed) {
            this.limitsAndApplicabilitiesDisplayed.forEach(function (element) {
                element._obj.sbNumber = _this.bireSbDisplayed.sbNumber;
                element._obj.sbRevisionNumber = _this.bireSbDisplayed.sbRevisionNumber;
                bireSbCounterDTO.push(element._obj);
            });
        }
        return bireSbCounterDTO;
    };
    SbadFormComponent.prototype.initializeObjectsAfterSave = function () {
        var _this = this;
        // Clean the added lists
        this.bireDocumentAddedList = [];
        this.bireSbVariantAddedList = [];
        // Clean the udated lists
        this.bireDocumentUpdatedList = [];
        this.bireSbVariantUpdatedList = [];
        // Reset database object with displayed object
        this.bireSb = __assign({}, this.bireSbDisplayed);
        this.bireSbId = {
            sbNumber: this.bireSbDisplayed.sbNumber || '',
            sbRevisionNumber: this.bireSbDisplayed.sbRevisionNumber || ''
        };
        this.bireDocument = [];
        this.bireDocumentDisplayed.forEach(function (obj) {
            _this.bireDocument.push(__assign({}, obj._obj));
        });
        this.bireConcernedAsset = __spread(this.bireConcernedAssetDisplayed);
        var objBireSbVariants = __spread(this.bireSbVariantsDisplayed);
        this.bireSbVariants = [];
        objBireSbVariants.forEach(function (obj) {
            _this.bireSbVariants.push(__assign({}, obj._obj));
        });
        // Set tabcontext and objectId
        this.componentData.objectId = this.serializationService.serialize(this.bireSbId);
        this.componentData.openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write;
        this.ngOnInit();
    };
    SbadFormComponent.prototype.addDocuments = function () {
        this.currentDocument = {};
        this.selectedDocuments = [];
        this.currentDocumentIndex = -1;
        this.isReadOnlyDocumentDialog = false;
        this.showDocumentDialog = true;
    };
    SbadFormComponent.prototype.downloadFiles = function () {
        this.selectedDocuments.forEach(function (documentRow) {
            _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_27__["FileUtils"].downloadFile(documentRow._obj.docFile, documentRow._obj.docName);
        });
    };
    SbadFormComponent.prototype.openEvolution = function (row) {
        var bireEvolutionDTOId = {
            evolutionNumber: row.evolutionNumber,
            evolutionRevisionNumber: row.evolutionRevisionNumber
        };
        var openMode = _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Read;
        var labelKey = 'transaction.EvolutionFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'EvolutionFormComponent',
            objectId: this.serializationService.serialize(bireEvolutionDTOId),
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    SbadFormComponent.prototype.getLimitRefernceDateEndpointRef = function () {
        return _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_9__["GenericPropertyConstants"].SB_EFFECTIVE_DATE;
    };
    SbadFormComponent.prototype.findBireSbCountersBySb = function () {
        var _this = this;
        this.getLimitAndPeriodicityLists(function () {
            _this.sbadFormService.findBireSbCountersBySb(_this.bireSbId).subscribe(function (results) {
                _this.limitsAndApplicabilitiesDisplayed = results.map(function (obj) {
                    return _this.transformLimitRow(obj);
                });
            });
        });
    };
    SbadFormComponent.prototype.getLimitAndPeriodicityLists = function (callback) {
        var _this = this;
        var counterCode$ = this.sbadFormService.findAllColunterCode();
        var limitType$ = this.propertiesService.getValue('getSbCounterLimitTypeMap');
        var limitRefernceDate$ = this.propertiesService.getValue(this.getLimitRefernceDateEndpointRef());
        Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])([counterCode$, limitType$, limitRefernceDate$]).subscribe(function (_a) {
            var _b = __read(_a, 3), counterCode = _b[0], types = _b[1], refernceType = _b[2];
            _this.counterCodeList = counterCode;
            _this.limitType = types;
            _this.limitRefernceType = refernceType;
            if (callback) {
                callback();
            }
        });
    };
    SbadFormComponent.prototype.transformLimitRow = function (obj) {
        var mapObj = {
            _obj: obj,
            sbNumber: obj.sbNumber,
            sbRevisionNumber: obj.sbRevisionNumber,
            comments: this.getDisplayComments(obj.comments || ''),
            counterCode: this.convertValueToLabel(obj, 'counterCode', this.counterCodeList),
            limitReferenceDate: this.convertValueToLabel(obj, 'limitReferenceDate', this.limitRefernceType),
            limitType: this.convertValueToLabel(obj, 'limitType', this.limitType),
            limitValue: obj.limitValue,
            periodicity: obj.periodicity
        };
        return mapObj;
    };
    SbadFormComponent.prototype.convertValueToLabel = function (object, propertyName, propertyList) {
        if (!!object[propertyName]) {
            var labelValue = propertyList.find(function (property) { return property.value === object[propertyName]; });
            if (!!labelValue) {
                return labelValue.label;
            }
        }
        return '';
    };
    /***********************************************************************************
     * Limits And Periodicities Tab
     ***********************************************************************************/
    SbadFormComponent.prototype.createLimitAndPeriodicity = function () {
        this.currentLimitAndPeriodicity = {};
        this.showLimitAndPeriodicityDialog = true;
        this.isNewLimitAndPeriodicity = true;
        this.dataLimitAndPeriodicity = {
            componentId: this.getComponentName(),
            selectedRow: undefined,
            object: this.currentLimitAndPeriodicity,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write
        };
    };
    SbadFormComponent.prototype.editLimitAndPeriodicity = function () {
        this.isNewLimitAndPeriodicity = false;
        if (this.selectedLimitsAndPeriodicities.length === 1) {
            this.currentLimitAndPeriodicity = __assign({}, this.selectedLimitsAndPeriodicities[0]._obj);
            this.currentLimitAndPeriodicityIndex = this.limitsAndApplicabilitiesDisplayed.indexOf(this.selectedLimitsAndPeriodicities[0]);
            this.showLimitAndPeriodicityDialog = true;
            this.dataLimitAndPeriodicity = {
                componentId: this.getComponentName(),
                selectedRow: this.selectedLimitsAndPeriodicities,
                object: this.currentLimitAndPeriodicity,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write
            };
        }
    };
    SbadFormComponent.prototype.openLimitAndPeriodicity = function () {
        if (this.selectedLimitsAndPeriodicities.length === 1) {
            this.currentLimitAndPeriodicity = __assign({}, this.selectedLimitsAndPeriodicities[0]._obj);
            this.currentLimitAndPeriodicityIndex = this.limitsAndApplicabilitiesDisplayed.indexOf(this.selectedLimitsAndPeriodicities[0]);
            this.showLimitAndPeriodicityDialog = true;
            this.dataLimitAndPeriodicity = {
                componentId: this.getComponentName(),
                selectedRow: this.selectedLimitsAndPeriodicities,
                object: this.currentLimitAndPeriodicity,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Read
            };
        }
    };
    /*
      Concerned limit and periodicity handler functions
    */
    SbadFormComponent.prototype.deleteSelectedConcernedLimitAndPeriodicity = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.confirmSelectedDataDelete',
            accept: function () {
                _this.selectedLimitsAndPeriodicities.forEach(function (element) {
                    var indexInDisplayedList = _this.limitsAndApplicabilitiesDisplayed.indexOf(element);
                    _this.limitsAndApplicabilitiesDisplayed.splice(indexInDisplayedList, 1);
                });
                _this.selectedLimitsAndPeriodicities = [];
            }
        });
    };
    SbadFormComponent.prototype.addNewConcernedLimitAndPeriodicity = function (obj) {
        var _this = this;
        var searchInDisplayedList = this.limitsAndApplicabilitiesDisplayed.find(function (value) {
            return _this.isLimitAndPeriodicityTheSame(value, obj);
        });
        if (!searchInDisplayedList) {
            obj.sbNumber = this.bireSbDisplayed.sbNumber;
            obj.sbRevisionNumber = this.bireSbDisplayed.sbRevisionNumber;
            this.limitsAndApplicabilitiesDisplayed.push(this.transformLimitRow(obj));
        }
    };
    SbadFormComponent.prototype.updateLimitAndPeriodicity = function (obj) {
        this.limitsAndApplicabilitiesDisplayed[this.currentLimitAndPeriodicityIndex] = this.transformLimitRow(obj);
        this.selectedLimitsAndPeriodicities = [];
    };
    SbadFormComponent.prototype.isLimitAndPeriodicityTheSame = function (concernedLimitAndPeriodicity1, concernedLimitAndPeriodicity2) {
        if (concernedLimitAndPeriodicity1.counterCode === concernedLimitAndPeriodicity2.counterCode) {
            return true;
        }
        else {
            return false;
        }
    };
    SbadFormComponent.prototype.generateTaskComment = function () {
        var taskRow = __assign({}, this.selectedLimitsAndPeriodicities[0]);
        this.showGenerateCommentPopup = true;
        this.comment = {
            componentId: 'DialogGenerateCommentComponent',
            selectedRow: undefined,
            object: (taskRow._obj && taskRow._obj.comments) || '',
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_10__["ComponentOpenMode"].Write
        };
    };
    SbadFormComponent.prototype.saveComments = function (comment) {
        var row = this.selectedLimitsAndPeriodicities[0];
        row.comments = this.getDisplayComments(comment);
        row._obj.comments = comment;
    };
    SbadFormComponent.prototype.getDisplayComments = function (comment) {
        try {
            if (comment) {
                var commentObj = JSON.parse(comment);
                if (commentObj && commentObj.length === 1) {
                    return commentObj[0].comment;
                }
                else if (commentObj && commentObj.length > 1) {
                    return !!commentObj[0].comment ? commentObj[0].comment : comment;
                }
            }
            return '';
        }
        catch (e) {
            return comment;
        }
    };
    SbadFormComponent.prototype.showStatus = function () {
        var _this = this;
        var overlayRef = this._overlayService.openWithPositionCenter({
            content: _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_31__["ObjectStatusComponent"],
            data: {
                currentAuthor: this.bireSbDisplayed.statusUser,
                currentDate: this.bireSbDisplayed.statusDate,
                currentStatus: {
                    label: this._formatSelectOption.transform(this.bireSbDisplayed.statusState, this.workflowStatus),
                    value: this.bireSbDisplayed.statusState
                },
                nextStatuses: this.workflowStatus
            }
        });
        overlayRef.afterClosed$.subscribe({
            next: function (event) {
                if (event.data) {
                    var currentState = _this.bireSbDisplayed.statusState;
                    _this.bireSbDisplayed.statusState = event.data;
                    var saved = _this.saveSbAdData();
                    if (!saved) {
                        // Revert status change if save not launched
                        _this.bireSbDisplayed.statusState = currentState;
                    }
                }
            }
        });
    };
    SbadFormComponent.prototype.showUpgrade = function () {
        return true;
    };
    SbadFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sbad-form',
            template: __webpack_require__(/*! ./sbad-form.component.html */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.html"),
            styles: [__webpack_require__(/*! ./sbad-form.component.scss */ "./src/app/main/engineering-management/sbad-form/sbad-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_16__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_18__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_19__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_21__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_23__["TabService"],
            _shared_services_input_validation_service__WEBPACK_IMPORTED_MODULE_17__["InputValidationService"],
            _sbad_form_service__WEBPACK_IMPORTED_MODULE_34__["SbadFormService"],
            _sbad_form_mhiael_service__WEBPACK_IMPORTED_MODULE_33__["SbadFormMhiaelService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_20__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_6__["DynamicAttributesService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_14__["ConfirmationService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_22__["SessionService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_15__["DateService"],
            _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_24__["UpdateHistoricService"],
            _shared_api_update_historic_api__WEBPACK_IMPORTED_MODULE_4__["UpdateHistoricApi"],
            _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_5__["PageTocService"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_32__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_13__["FormatSelectOptionPipe"]])
    ], SbadFormComponent);
    return SbadFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_25__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-form/sbad-form.service.ts":
/*!****************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-form/sbad-form.service.ts ***!
  \****************************************************************************/
/*! exports provided: SbadFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadFormService", function() { return SbadFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SbadFormService = /** @class */ (function (_super) {
    __extends(SbadFormService, _super);
    function SbadFormService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    /**************************************************************************
     * Product structure management api
     *************************************************************************/
    SbadFormService.prototype.findBireEvolutionSbsBySb = function (bireSbDTO) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireEvolutionSbsBySb, bireSbDTO);
    };
    SbadFormService.prototype.findBireSbVariantsBySbNumbers = function (bireSbDto) {
        var bireSbDtoId = {
            sbNumber: bireSbDto.sbNumber || '',
            sbRevisionNumber: bireSbDto.sbRevisionNumber || ''
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbVariantsBySbNumbers, bireSbDtoId);
    };
    SbadFormService.prototype.findBireConcernedAssetsBySb = function (bireSbDto) {
        var bireSbDtoId = {
            sbNumber: bireSbDto.sbNumber || '',
            sbRevisionNumber: bireSbDto.sbRevisionNumber || ''
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireConcernedAssetsBySb, bireSbDtoId);
    };
    SbadFormService.prototype.findBireDocumentsBySb = function (bireSbDto) {
        var bireSbDtoId = {
            sbNumber: bireSbDto.sbNumber || '',
            sbRevisionNumber: bireSbDto.sbRevisionNumber || ''
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireDocumentBySb, bireSbDtoId);
    };
    SbadFormService.prototype.saveSbAdData = function (bireSb, bireSbId, bireSbVariantAddedList, bireSbVariantUpdatedList, bireSbVariantDeletedList, bireDocumentAddedList, bireDocumentUpdatedList, bireDocDeletedList, bireConcernedAssetAddedList, familyCode, structureType, variantCode, bireSbAttributes, bireSbCounterDTO, bireMaintenancePlanDTOId, isUpdate) {
        var params = {
            bireSb: bireSb,
            bireSbId: bireSbId,
            bireSbVariantAddedList: bireSbVariantAddedList,
            bireSbVariantUpdatedList: bireSbVariantUpdatedList,
            bireSbVariantDeletedList: bireSbVariantDeletedList,
            bireDocumentAddedList: bireDocumentAddedList,
            bireDocumentUpdatedList: bireDocumentUpdatedList,
            bireDocDeletedList: bireDocDeletedList,
            bireConcernedAssetAddedList: bireConcernedAssetAddedList,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode,
            bireSbAttributes: bireSbAttributes,
            bireSbCounterDTO: bireSbCounterDTO,
            bireMaintenancePlanDTOId: bireMaintenancePlanDTOId,
            isUpdate: isUpdate
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.saveSbAdData, params);
    };
    SbadFormService.prototype.findBireSb = function (bireSbId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSb, bireSbId);
    };
    SbadFormService.prototype.findBireSbMaintenancePlanBySb = function (bireSbId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbMaintenancePlanBySb, bireSbId);
    };
    SbadFormService.prototype.findBireAttributesByCategory = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategory, category);
    };
    SbadFormService.prototype.findBireAttributesByCategoryList = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategoryList, category);
    };
    SbadFormService.prototype.findBireSbAttributesBySb = function (bireSb) {
        var bireSbId = { sbNumber: bireSb.sbNumber || '', sbRevisionNumber: bireSb.sbRevisionNumber || '' };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbAttributesBySb, bireSbId);
    };
    SbadFormService.prototype.upgradeSbAd = function (bireSb, targetRevisionNumber) {
        var params = {
            bireSb: bireSb,
            targetRevisionNumber: targetRevisionNumber
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.upgradeBireSB, params);
    };
    SbadFormService.prototype.checkSbAdRevisionNumber = function (bireSb) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.checkAndReturnNewRevisionNumberBySB, bireSb);
    };
    SbadFormService.prototype.findBireSbCountersBySb = function (bireSbId) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbCountersBySb, bireSbId);
    };
    SbadFormService.prototype.findAllColunterCode = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllCounterCode);
    };
    SbadFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], SbadFormService);
    return SbadFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/sbad-search/sbad-search.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/main/engineering-management/sbad-search/sbad-search.component.ts ***!
  \**********************************************************************************/
/*! exports provided: SbadSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SbadSearchComponent", function() { return SbadSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/constants/app-constants */ "./src/app/shared/constants/app-constants.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _airworthiness_document_search_airworthiness_document_search_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../airworthiness-document-search/airworthiness-document-search.component */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.ts");
/* harmony import */ var _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../airworthiness-document-search/airworthiness-document-search.service */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var SbadSearchComponent = /** @class */ (function (_super) {
    __extends(SbadSearchComponent, _super);
    function SbadSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, sessionService, confirmationService, exportService, propertiesService, translateService, dateService, airworthinessDocumentSearchService) {
        var _this = _super.call(this, favoriteService, loaderService, messageService, serializationService, tabService, sessionService, confirmationService, exportService, propertiesService, translateService, dateService, airworthinessDocumentSearchService) || this;
        _this.SEARCH_CRITERIA_ID = _shared_constants_app_constants__WEBPACK_IMPORTED_MODULE_2__["AppConstants"].SERVICE_BULLETIN_SEARCH_CRITERIA_ID;
        _this.loadSubTypes();
        return _this;
    }
    SbadSearchComponent_1 = SbadSearchComponent;
    SbadSearchComponent.prototype.getComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__["ComponentConstants"].ENG_SBAD_SEARCH;
    };
    SbadSearchComponent.prototype.getTableExportName = function () {
        return SbadSearchComponent_1.TABLE_EXPORT_NAME;
    };
    SbadSearchComponent.prototype.isAD = function () {
        return false;
    };
    SbadSearchComponent.prototype.showSubType = function () {
        return false;
    };
    SbadSearchComponent.prototype.getFormComponentName = function () {
        return _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_4__["ComponentConstants"].ENG_SBAD_FORM;
    };
    SbadSearchComponent.prototype.findAirworthinessDocumentByCriteria = function (familyCode, structureType, variantCode) {
        return this.airworthinessDocumentSearchService.findBireSbsBySbCriteriaAd(this.searchObject, familyCode || '', structureType || '', variantCode || '', this.sbPublicationDateFrom, this.sbPublicationDateTo, this.sbEffectiveDateFrom, this.sbEffectiveDateTo);
    };
    SbadSearchComponent.prototype.loadTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getSbTypeMap').subscribe(function (results) {
            _this.propertyType = results.filter(function (obj) {
                return (obj.value !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__["AWPropertiesConstants"].SB_TYPE_AD_KEY && obj.value !== _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_3__["AWPropertiesConstants"].SB_TYPE_AMG_KEY);
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSbTypeList'));
        });
    };
    SbadSearchComponent.prototype.loadSubTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getAdditionalGuidelineSubTypeMap').subscribe(function (results) {
            if (results) {
                _this.propertySubType = results;
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSbTypeList'));
        });
    };
    var SbadSearchComponent_1;
    SbadSearchComponent.TABLE_EXPORT_NAME = 'Service bulletin list';
    SbadSearchComponent = SbadSearchComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-sbad-search',
            template: __webpack_require__(/*! ../airworthiness-document-search/airworthiness-document-search.component.html */ "./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_8__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_9__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_10__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_12__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_14__["TabService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_13__["SessionService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_5__["ConfirmationService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_7__["ExportService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_11__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_6__["DateService"],
            _airworthiness_document_search_airworthiness_document_search_service__WEBPACK_IMPORTED_MODULE_16__["AirworthinessDocumentSearchService"]])
    ], SbadSearchComponent);
    return SbadSearchComponent;
}(_airworthiness_document_search_airworthiness_document_search_component__WEBPACK_IMPORTED_MODULE_15__["AirworthinessDocumentSearchComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.html":
/*!******************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.html ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".applicabilitiesPopupTitle\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row\">\r\n        <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".familyCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control form-control-with-modal\" [ngClass]=\"{ disabled: isReadOpenMode }\">\r\n            <div class=\"form-control-data\" (click)=\"showFamilyCode()\">{{ cmVariantObject.familyCode }}</div>\r\n\r\n            <div *ngIf=\"cmVariantObject.familyCode\" class=\"btn-clear-wrapper\">\r\n              <i\r\n                class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                aria-hidden=\"true\"\r\n                (click)=\"cmVariantObject.familyCode = undefined\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"btn-search-wrapper\">\r\n              <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showFamilyCode()\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"cmVariantObject.structureType\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".structureType\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"cmVariantObject.structureType\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf=\"cmVariantObject.variantCode\" class=\"row\">\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">{{ getComponentName() + \".variantCode\" | translate }}</label>\r\n\r\n          <div class=\"form-control\">\r\n            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"cmVariantObject.variantCode\" [disabled]=\"true\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.close\" | translate }}\r\n    </button>\r\n\r\n    <button *ngIf=\"!isReadOpenMode\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOpenMode\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"onValidate()\"\r\n      [disabled]=\"cmVariantObject.familyCode === undefined || cmVariantObject.familyCode === null\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-table\r\n  *ngIf=\"showFamilyCodeDialog\"\r\n  [keyMap]=\"tableKeyMap\"\r\n  [(display)]=\"showFamilyCodeDialog\"\r\n  [data]=\"dialogTableDataFamilyCode\"\r\n  (onSelected)=\"setSelectedFamilyCode($event)\"\r\n></aw-dialog-table>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.ts":
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.ts ***!
  \****************************************************************************************************************************************/
/*! exports provided: ConversionMatrixApplicabilitiesPopupFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConversionMatrixApplicabilitiesPopupFormComponent", function() { return ConversionMatrixApplicabilitiesPopupFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _cm_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cm-applicabilities-popup.service */ "./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ConversionMatrixApplicabilitiesPopupFormComponent = /** @class */ (function (_super) {
    __extends(ConversionMatrixApplicabilitiesPopupFormComponent, _super);
    function ConversionMatrixApplicabilitiesPopupFormComponent(applicabilitiesPopupFormService, messageService, sessionService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'ConversionMatrixApplicabilitiesPopupFormComponent') || this;
        _this.applicabilitiesPopupFormService = applicabilitiesPopupFormService;
        _this.messageService = messageService;
        _this.sessionService = sessionService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.showFamilyCodeDialog = false;
        _this.tableKeyMap = new Map();
        _this.searchFamilyCode();
        return _this;
    }
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.getComponentName = function () {
        return 'ConversionMatrixApplicabilitiesPopupFormComponent';
    };
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {
            this.cmVariantObject = this.componentData.object;
            this.updateOpenMode(this.componentData.openMode);
        }
    };
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.onShow = function () {
        this.display = true;
    };
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.onValidate = function () {
        if (this.isRequiredFieldsFilled()) {
            if (this.isNewVariant) {
                this.onCreate.emit(this.cmVariantObject);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.cmVariantObject);
                this.display = false;
            }
        }
        else {
            this.messageService.showErrorMessage('global.missingFields');
        }
    };
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.searchFamilyCode = function () {
        var test = [
            { field: 'familyCode', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'familyName', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'familyFunction', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'structureType', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'variantCode', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' },
            { field: 'variantName', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_2__["TableColumnFilterMode"].Input, alignment: 'left' }
        ];
        this.tableKeyMap.set('familyFunction', this.applicabilitiesPopupFormService.getEquipmentFunctionList());
        this.dialogTableDataFamilyCode = {
            componentId: 'ConversionMatrixApplicabilitiesPopupFormComponent.familyCodePopup',
            tableCols: test,
            tableRows: this.applicabilitiesPopupFormService.findFamilyVariantVersion(),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.isRequiredFieldsFilled = function () {
        return !!this.cmVariantObject.familyCode;
    };
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.setSelectedFamilyCode = function (selectedObject) {
        if (selectedObject) {
            this.cmVariantObject.familyCode = selectedObject.familyCode;
            this.cmVariantObject.structureType = selectedObject.structureType;
            this.cmVariantObject.variantCode = selectedObject.variantCode;
        }
        this.showFamilyCodeDialog = false;
    };
    ConversionMatrixApplicabilitiesPopupFormComponent.prototype.showFamilyCode = function () {
        this.showFamilyCodeDialog = true;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('component-data'),
        __metadata("design:type", Object)
    ], ConversionMatrixApplicabilitiesPopupFormComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ConversionMatrixApplicabilitiesPopupFormComponent.prototype, "isNewVariant", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ConversionMatrixApplicabilitiesPopupFormComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ConversionMatrixApplicabilitiesPopupFormComponent.prototype, "onUpdate", void 0);
    ConversionMatrixApplicabilitiesPopupFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-cm-applicabilities-popup',
            template: __webpack_require__(/*! ./cm-applicabilities-popup.component.html */ "./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.html")
        }),
        __metadata("design:paramtypes", [_cm_applicabilities_popup_service__WEBPACK_IMPORTED_MODULE_7__["ConversionMatrixApplicabilitiesPopupFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _shared_services_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"]])
    ], ConversionMatrixApplicabilitiesPopupFormComponent);
    return ConversionMatrixApplicabilitiesPopupFormComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_6__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.service.ts":
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.service.ts ***!
  \**************************************************************************************************************************************/
/*! exports provided: ConversionMatrixApplicabilitiesPopupFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConversionMatrixApplicabilitiesPopupFormService", function() { return ConversionMatrixApplicabilitiesPopupFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_fleet_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/api/fleet-management.api */ "./src/app/shared/api/fleet-management.api.ts");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../shared/constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ConversionMatrixApplicabilitiesPopupFormService = /** @class */ (function (_super) {
    __extends(ConversionMatrixApplicabilitiesPopupFormService, _super);
    function ConversionMatrixApplicabilitiesPopupFormService(http, appConfigService, productStructureManagementApi, fleetManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.fleetManagementApi = fleetManagementApi;
        return _this;
    }
    ConversionMatrixApplicabilitiesPopupFormService.prototype.findFamilyVariantVersion = function () {
        var familyVariantInput = {
            useCase: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _shared_constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_4__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariantVersion, familyVariantInput);
    };
    ConversionMatrixApplicabilitiesPopupFormService.prototype.getEquipmentFunctionList = function () {
        return _super.prototype.post.call(this, this.fleetManagementApi.getAllEquipmentFunctionList);
    };
    ConversionMatrixApplicabilitiesPopupFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_3__["ProductStructureManagementApi"],
            _shared_api_fleet_management_api__WEBPACK_IMPORTED_MODULE_2__["FleetManagementApi"]])
    ], ConversionMatrixApplicabilitiesPopupFormService);
    return ConversionMatrixApplicabilitiesPopupFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.html":
/*!****************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.html ***!
  \****************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".unit\" | translate }}</label>\r\n\r\n      <div class=\"form-control\">\r\n        <p-dropdown\r\n          class=\"aw-dropdown fixed-width\"\r\n          [options]=\"unitCodes\"\r\n          [(ngModel)]=\"measure.unitCode\"\r\n          appendTo=\"body\"\r\n          [showClear]=\"true\"\r\n          placeholder=\"&nbsp;\"\r\n        ></p-dropdown>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".fhEquivalent\" | translate }}</label>\r\n\r\n      <div class=\"form-control\"><input type=\"number\" class=\"aw-input\" [(ngModel)]=\"measure.fhEquivalent\" /></div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"validate()\"\r\n      [ngClass]=\"{ inactive: !enableValidate() }\"\r\n      [disabled]=\"!enableValidate()\"\r\n    >\r\n      <span>{{ \"global.validate\" | translate }}</span>\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.ts":
/*!**************************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.ts ***!
  \**************************************************************************************************************************************************/
/*! exports provided: DialogUnitConversionMatrixComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogUnitConversionMatrixComponent", function() { return DialogUnitConversionMatrixComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../unit-conversion-matrix.service */ "./src/app/main/engineering-management/unit-conversion-matrix/unit-conversion-matrix.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DialogUnitConversionMatrixComponent = /** @class */ (function (_super) {
    __extends(DialogUnitConversionMatrixComponent, _super);
    function DialogUnitConversionMatrixComponent(unitConversionMatrixService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'DialogUnitConversionMatrixComponent') || this;
        _this.unitConversionMatrixService = unitConversionMatrixService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        return _this;
    }
    DialogUnitConversionMatrixComponent.prototype.getComponentName = function () {
        return 'DialogUnitConversionMatrixComponent';
    };
    DialogUnitConversionMatrixComponent.prototype.ngOnInit = function () {
        this.measure = {};
        this.unitCodes = [];
        this.loadDropdown();
    };
    DialogUnitConversionMatrixComponent.prototype.loadDropdown = function () {
        var _this = this;
        this.unitConversionMatrixService.findAllBireMeasureReferences().subscribe(function (results) {
            var list = results;
            list.sort(function (a, b) {
                if (a.counterCode && b.counterCode) {
                    var counterCodeA = a.counterCode.toLowerCase();
                    var counterCodeB = b.counterCode.toLowerCase();
                    if (counterCodeA < counterCodeB) {
                        return -1;
                    }
                    if (counterCodeA > counterCodeB) {
                        return 1;
                    }
                }
                return 0;
            });
            list.forEach(function (element) {
                var labelValue = {
                    label: !!element.counterCode ? element.counterCode : '',
                    value: !!element.counterCode ? element.counterCode : ''
                };
                _this.unitCodes.push(labelValue);
            });
            if (!!_this.ucm) {
                _this.measure = _this.ucm;
            }
        });
    };
    DialogUnitConversionMatrixComponent.prototype.cancel = function () {
        this.display = false;
    };
    DialogUnitConversionMatrixComponent.prototype.validate = function () {
        if (!!this.measure) {
            if (this.newUcm) {
                this.onCreate.emit(this.measure);
                this.display = false;
            }
            else {
                this.onUpdate.emit(this.measure);
                this.display = false;
            }
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'validate', 'this.measure');
        }
    };
    DialogUnitConversionMatrixComponent.prototype.enableValidate = function () {
        if (!!this.measure && !!this.measure.unitCode && this.measure.unitCode !== '' && !!this.measure.fhEquivalent) {
            return true;
        }
        else {
            return false;
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogUnitConversionMatrixComponent.prototype, "displayChange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DialogUnitConversionMatrixComponent.prototype, "ucm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DialogUnitConversionMatrixComponent.prototype, "newUcm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogUnitConversionMatrixComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogUnitConversionMatrixComponent.prototype, "onUpdate", void 0);
    DialogUnitConversionMatrixComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-dialog-unit-conversion-matrix',
            template: __webpack_require__(/*! ./dialog-unit-conversion-matrix.component.html */ "./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.html")
        }),
        __metadata("design:paramtypes", [_unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_3__["UnitConversionMatrixService"]])
    ], DialogUnitConversionMatrixComponent);
    return DialogUnitConversionMatrixComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.html":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.html ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\" class=\"page-subtitle\">\r\n          - {{ baseInformation.cmCode }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button *ngIf=\"isReadOpenMode\" (click)=\"editUnitConversionMatrix()\">\r\n      {{ \"global.edit\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn-with-spinner\"\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      *ngIf=\"!isReadOpenMode\"\r\n      (click)=\"saveBireConversionMatrix()\"\r\n    >\r\n      <span class=\"lds-hourglass\" *ngIf=\"showSaveSpinner\"></span>\r\n      {{ \"global.save\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      mat-icon-button\r\n      *ngIf=\"!isCreateOpenMode\"\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"Show all actions\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button type=\"button\" mat-menu-item (click)=\"reloadMatrix()\">\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n\r\n      <button type=\"button\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ \"page.\" + (isFavoriteEntry ? \"removeFromFavorites\" : \"addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--6\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ \"page.mainData\" | translate }}\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\" [class.required]=\"!isReadOpenMode\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".cmCode\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            [(ngModel)]=\"baseInformation.cmCode\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\" [class.required]=\"!isReadOpenMode\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".cmName\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input\r\n                            type=\"text\"\r\n                            class=\"aw-input\"\r\n                            [disabled]=\"isReadOpenMode\"\r\n                            [(ngModel)]=\"baseInformation.cmName\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell--6\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".concernedFamilies\" | translate }} ({{\r\n                        bireCMVariantAddedList ? bireCMVariantAddedList.length : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <div class=\"section\">\r\n                    <div class=\"section-content\">\r\n                      <p-table\r\n                        id=\"cmVariantsDisplayed\"\r\n                        [resizableColumns]=\"true\"\r\n                        #ptableConcernedFamilies\r\n                        class=\"aw-table2\"\r\n                        [columns]=\"concernedFamiliesTableCols\"\r\n                        [value]=\"bireCMVariantAddedList\"\r\n                        [(selection)]=\"selectedBireCMVariant\"\r\n                        [scrollable]=\"true\"\r\n                      >\r\n                        <ng-template pTemplate=\"emptymessage\">\r\n                          <span *ngIf=\"!isLoadingApplicabilityTable\"> &nbsp;</span>\r\n\r\n                          <div *ngIf=\"isLoadingApplicabilityTable\" class=\"aw-table-loading-indicator\">\r\n                            <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                            <div class=\"lds-hourglass\"></div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"caption\">\r\n                          <div\r\n                            class=\"aw-table-header\"\r\n                            [ngClass]=\"{ 'rows-selected': selectedBireCMVariant.length > 0 }\"\r\n                          >\r\n                            <div class=\"aw-table-global-filter\">\r\n                              <label class=\"aw-table-global-filter-label\">\r\n                                <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                              </label>\r\n\r\n                              <input\r\n                                #ptableConcernedFamiliesGlobalFilter\r\n                                class=\"aw-table-global-filter-input\"\r\n                                type=\"text\"\r\n                                placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                                (input)=\"ptableConcernedFamilies.filterGlobal($event.target.value, 'contains')\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div class=\"aw-table-actions\">\r\n                              <button\r\n                                id=\"deleteBireSbVariantsDisplayed\"\r\n                                *ngIf=\"!isReadOpenMode && selectedBireCMVariant.length > 0\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"deleteApplicabilities()\"\r\n                              >\r\n                                {{ \"global.delete\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                id=\"openBireSbVariantsDisplayed\"\r\n                                *ngIf=\"!isReadOpenMode && selectedBireCMVariant.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"openApplicabilities()\"\r\n                              >\r\n                                {{ \"global.open\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && selectedBireCMVariant.length === 1\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"setAsDefaultFamilyVariant()\"\r\n                              >\r\n                                {{ componentData.componentId + \".setasDefault\" | translate }}\r\n                              </button>\r\n\r\n                              <button\r\n                                *ngIf=\"!isReadOpenMode && selectedBireCMVariant.length === 0\"\r\n                                type=\"button\"\r\n                                mat-raised-button\r\n                                (click)=\"createApplicabilities()\"\r\n                              >\r\n                                {{ \"global.add\" | translate }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"colgroup\" let-columns>\r\n                          <colgroup>\r\n                            <col class=\"aw-table-checkbox-wrapper\" />\r\n                            <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                          </colgroup>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"header\" let-columns>\r\n                          <tr>\r\n                            <th class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                            </th>\r\n\r\n                            <th\r\n                              pResizableColumn\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                            >\r\n                              {{ componentData.componentId + \".\" + col.field | translate }}\r\n                            </th>\r\n                          </tr>\r\n                        </ng-template>\r\n\r\n                        <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                          <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                            <td class=\"aw-table-checkbox-wrapper\">\r\n                              <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                            </td>\r\n\r\n                            <td\r\n                              *ngFor=\"let col of columns\"\r\n                              [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                              [ngSwitch]=\"col.field\"\r\n                            >\r\n                              <span *ngSwitchCase=\"'cmApplicabilityDate'\">\r\n                                {{ rowData[col.field] | date: \"shortDate\":\"\":currentLang }}\r\n                              </span>\r\n\r\n                              <span *ngSwitchCase=\"'isDefault'\">\r\n                                <i *ngIf=\"rowData[col.field]\" class=\"pi pi-check\"></i>\r\n                              </span>\r\n\r\n                              <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-template>\r\n                      </p-table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".ucmTab\" | translate }} ({{ ucmTable ? ucmTable.length : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <p-table\r\n                    [resizableColumns]=\"true\"\r\n                    #ucTable\r\n                    [columns]=\"ucmTableCols\"\r\n                    [value]=\"ucmTable\"\r\n                    class=\"aw-table2\"\r\n                    [style]=\"{ margin: '0 auto', width: '100%' }\"\r\n                    [(selection)]=\"selectedUcmRows\"\r\n                    [scrollable]=\"true\"\r\n                    scrollHeight=\"400px\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoading\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoading\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedUcmRows.length > 0 }\">\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptableResultsGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"ucTable.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            type=\"button\"\r\n                            *ngIf=\"!isReadOpenMode && selectedUcmRows.length === 0\"\r\n                            mat-raised-button\r\n                            (click)=\"createUcmRecord()\"\r\n                          >\r\n                            {{ \"global.add\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedUcmRows.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"editUcmRecord()\"\r\n                          >\r\n                            {{ \"global.edit\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"!isReadOpenMode && selectedUcmRows.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            color=\"warn\"\r\n                            (click)=\"deleteUcmRecord()\"\r\n                          >\r\n                            {{ \"global.delete\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                      <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                        </td>\r\n\r\n                        <td\r\n                          *ngFor=\"let col of columns\"\r\n                          [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                          [ngSwitch]=\"col.field\"\r\n                        >\r\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                        </td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<aw-dialog-unit-conversion-matrix\r\n  *ngIf=\"showDialogUnitConversionMatrix\"\r\n  [ucm]=\"currentUcm\"\r\n  [(display)]=\"showDialogUnitConversionMatrix\"\r\n  [newUcm]=\"isNewUcm\"\r\n  (onCreate)=\"addNewUcm($event)\"\r\n  (onUpdate)=\"updateUcm($event)\"\r\n></aw-dialog-unit-conversion-matrix>\r\n\r\n<aw-cm-applicabilities-popup\r\n  *ngIf=\"showApplicabilitiesDialog\"\r\n  [(display)]=\"showApplicabilitiesDialog\"\r\n  [component-data]=\"dataApplicabilities\"\r\n  (onCreate)=\"addNewCMVariant($event)\"\r\n  [isNewVariant]=\"isNewApplicabilities\"\r\n></aw-cm-applicabilities-popup>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.scss":
/*!********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.scss ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host #unit-component .main-data .form-group {\n  width: 15rem; }\n  :host #unit-component .main-data .form-group .star {\n    color: red; }\n  :host #unit-component .attributes-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .plus-field {\n  margin-right: 20px;\n  max-width: 35rem;\n  min-width: 25rem;\n  width: 20%; }\n  :host #unit-component .ucm-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .ucm-tab .ucm-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #unit-component .ucm-tab .ucm-tables .align-right {\n      margin-left: 93%; }\n  :host #unit-component .ucm-tab .ucm-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #unit-component .ucm-tab .ucm-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper {\n        width: 50%; }\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #unit-component .fields-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .fields-tab .fields-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host #unit-component .fields-tab .fields-fields .fields-field {\n      width: 15rem; }\n  :host #unit-component .fields-tab .fields-fields .cost-field {\n      width: 6rem; }\n  :host #unit-component .fields-tab .fields-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n  :host #unit-component .fields-tab .fields-fields > div:first-of-type {\n        padding-right: 24px; }\n  :host #unit-component .fields-tab .fields-fields > div:nth-of-type(2) {\n        padding-left: 24px; }\n  :host #unit-component .fields-tab .fields-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #unit-component .fields-tab .fields-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #unit-component .fields-tab .fields-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper {\n        width: 50%; }\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #unit-component .import-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .import-tab .import-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host #unit-component .import-tab .import-fields .import-field {\n      width: 10rem; }\n  :host #unit-component .import-tab .import-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n  :host #unit-component .import-tab .import-fields > div:first-of-type {\n        padding-right: 24px; }\n  :host #unit-component .import-tab .import-fields > div:nth-of-type(2) {\n        padding-left: 24px; }\n  :host #unit-component .import-tab .tasks-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #unit-component .import-tab .tasks-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #unit-component .import-tab .tasks-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper {\n        width: 50%; }\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #unit-component .evolution-form-popup {\n  display: flex;\n  flex-direction: row;\n  transition: width 0.3s;\n  width: 20vw; }\n  :host #unit-component .evolution-form-popup > div:nth-of-type(2) {\n    flex: 1; }\n  :host #unit-component .evolution-form-popup.active-right-panel {\n    width: 70vw; }\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\n      background-color: #e5e5e5; }\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .form-group {\n      padding: 20px; }\n  :host #unit-component .evolution-form-popup.active-right-panel .right-panel {\n      border-left: 1px solid #bdbdbd;\n      padding: 20px 0 20px 20px; }\n  :host #unit-component .evolution-number-panel {\n  margin-bottom: 1rem;\n  height: 409px;\n  transition: height 0.5s ease-in-out; }\n  :host #unit-component .evolution-number-panel .form-group {\n    margin-bottom: 5px;\n    margin-left: 0;\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\n  :host #unit-component .evolution-number-panel .table-container {\n    -webkit-animation: fade 1s;\n            animation: fade 1s;\n    opacity: 1; }\n  :host #unit-component .evolution-number-panel.collapsed {\n    box-shadow: none;\n    height: 56px; }\n  :host #unit-component .evolution-number-panel.collapsed .panel-content {\n      padding-bottom: 0; }\n  :host #unit-component .evolution-number-panel.collapsed .form-group {\n      margin-bottom: 0;\n      margin-left: -24px;\n      margin-top: -24px; }\n  :host #unit-component .evolution-number-panel.collapsed .table-container {\n      -webkit-animation: fade-out 1s;\n              animation: fade-out 1s; }\n  ::ng-deep .export-methods {\n  list-style-type: none;\n  margin: 0;\n  min-width: 100px;\n  padding: 0; }\n  ::ng-deep .export-methods .export-method-wrapper {\n    cursor: pointer;\n    font-size: 0.8rem;\n    padding: 5px 0; }\n  ::ng-deep .export-methods .export-method-wrapper .export-method {\n      padding-left: 5px; }\n  ::ng-deep .export-methods .export-method-wrapper .export-method:hover {\n        text-decoration: underline; }\n  ::ng-deep #visit-form-component .aw-dialog .ui-dialog {\n  max-width: 90%; }\n  @-webkit-keyframes fade {\n  0% {\n    display: none;\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n  @keyframes fade {\n  0% {\n    display: none;\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n  @-webkit-keyframes fade-out {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n  @keyframes fade-out {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFx1bml0LWNvbnZlcnNpb24tbWF0cml4XFxmb3JtXFx1bml0LWNvbnZlcnNpb24tbWF0cml4LWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHTSxZQUFZLEVBQUE7RUFIbEI7SUFNUSxVQUFVLEVBQUE7RUFObEI7RUFXTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFaNUI7RUFnQk0sa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBbkJoQjtFQXVCTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUF4QjVCO0lBMkJRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUE3QnpCO01BZ0NVLGdCQUFnQixFQUFBO0VBaEMxQjtNQW9DVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQXRDekI7UUF5Q1ksbUJBQW1CLEVBQUE7RUF6Qy9CO1FBNkNZLFVBQVUsRUFBQTtFQTdDdEI7VUFnRGMsbUJBQW1CLEVBQUE7RUFoRGpDO1VBb0RjLGtCQUFrQixFQUFBO0VBcERoQztFQTRETSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUE3RDVCO0lBZ0VRLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBO0VBbEVuQjtNQXFFVSxZQUFZLEVBQUE7RUFyRXRCO01BeUVVLFdBQVcsRUFBQTtFQXpFckI7TUE2RVUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7RUEvRXBCO1FBa0ZZLG1CQUFtQixFQUFBO0VBbEYvQjtRQXNGWSxrQkFBa0IsRUFBQTtFQXRGOUI7SUE0RlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTtFQTlGekI7TUFpR1UsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUFuR3pCO1FBc0dZLG1CQUFtQixFQUFBO0VBdEcvQjtRQTBHWSxVQUFVLEVBQUE7RUExR3RCO1VBNkdjLG1CQUFtQixFQUFBO0VBN0dqQztVQWlIYyxrQkFBa0IsRUFBQTtFQWpIaEM7RUF5SE0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBMUg1QjtJQTZIUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQS9IbkI7TUFrSVUsWUFBWSxFQUFBO0VBbEl0QjtNQXNJVSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLFVBQVUsRUFBQTtFQXhJcEI7UUEySVksbUJBQW1CLEVBQUE7RUEzSS9CO1FBK0lZLGtCQUFrQixFQUFBO0VBL0k5QjtJQXFKUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBdkp6QjtNQTBKVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQTVKekI7UUErSlksbUJBQW1CLEVBQUE7RUEvSi9CO1FBbUtZLFVBQVUsRUFBQTtFQW5LdEI7VUFzS2MsbUJBQW1CLEVBQUE7RUF0S2pDO1VBMEtjLGtCQUFrQixFQUFBO0VBMUtoQztFQWtMTSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHNCQUFzQjtFQUN0QixXQUFXLEVBQUE7RUFyTGpCO0lBd0xRLE9BQU8sRUFBQTtFQXhMZjtJQTRMUSxXQUFXLEVBQUE7RUE1TG5CO01BZ01ZLHlCQUF5QixFQUFBO0VBaE1yQztNQW9NWSxhQUFhLEVBQUE7RUFwTXpCO01BeU1VLDhCQUE4QjtNQUM5Qix5QkFBeUIsRUFBQTtFQTFNbkM7RUFnTk0sbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixtQ0FBbUMsRUFBQTtFQWxOekM7SUFxTlEsa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxzRUFBc0UsRUFBQTtFQXZOOUU7SUEyTlEsMEJBQWtCO1lBQWxCLGtCQUFrQjtJQUNsQixVQUFVLEVBQUE7RUE1TmxCO0lBZ09RLGdCQUFnQjtJQUNoQixZQUFZLEVBQUE7RUFqT3BCO01Bb09VLGlCQUFpQixFQUFBO0VBcE8zQjtNQXdPVSxnQkFBZ0I7TUFDaEIsa0JBQWtCO01BQ2xCLGlCQUFpQixFQUFBO0VBMU8zQjtNQThPVSw4QkFBc0I7Y0FBdEIsc0JBQXNCLEVBQUE7RUFPaEM7RUFDRSxxQkFBcUI7RUFDckIsU0FBUztFQUNULGdCQUFnQjtFQUNoQixVQUFVLEVBQUE7RUFKWjtJQU9JLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsY0FBYyxFQUFBO0VBVGxCO01BWU0saUJBQWlCLEVBQUE7RUFadkI7UUFlUSwwQkFBMEIsRUFBQTtFQU1sQztFQUNFLGNBQWMsRUFBQTtFQUdoQjtFQUNFO0lBQ0UsYUFBYTtJQUNiLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFQZDtFQUNFO0lBQ0UsYUFBYTtJQUNiLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFJZDtFQUNFO0lBQ0UsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQTtFQU5kO0VBQ0U7SUFDRSxVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvZm9ybS91bml0LWNvbnZlcnNpb24tbWF0cml4LWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgI3VuaXQtY29tcG9uZW50IHtcclxuICAgIC5tYWluLWRhdGEgLmZvcm0tZ3JvdXAge1xyXG4gICAgICB3aWR0aDogMTVyZW07XHJcblxyXG4gICAgICAuc3RhciB7XHJcbiAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdHRyaWJ1dGVzLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICB9XHJcblxyXG4gICAgLnBsdXMtZmllbGQge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgIG1heC13aWR0aDogMzVyZW07XHJcbiAgICAgIG1pbi13aWR0aDogMjVyZW07XHJcbiAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICB9XHJcblxyXG4gICAgLnVjbS10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLnVjbS10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLmFsaWduLXJpZ2h0IHtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiA5MyU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZmllbGRzLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuZmllbGRzLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuZmllbGRzLWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiAxNXJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5jb3N0LWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiA2cmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmZpZWxkcy10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmltcG9ydC10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmltcG9ydC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmltcG9ydC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTByZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAudGFza3MtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5ldm9sdXRpb24tZm9ybS1wb3B1cCB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7XHJcbiAgICAgIHdpZHRoOiAyMHZ3O1xyXG5cclxuICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgZmxleDogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5hY3RpdmUtcmlnaHQtcGFuZWwge1xyXG4gICAgICAgIHdpZHRoOiA3MHZ3O1xyXG5cclxuICAgICAgICAubGVmdC1wYW5lbCB7XHJcbiAgICAgICAgICAuZXZvbHV0aW9uLW51bWJlciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNWU1ZTU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnJpZ2h0LXBhbmVsIHtcclxuICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2JkYmRiZDtcclxuICAgICAgICAgIHBhZGRpbmc6IDIwcHggMCAyMHB4IDIwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmV2b2x1dGlvbi1udW1iZXItcGFuZWwge1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICBoZWlnaHQ6IDQwOXB4O1xyXG4gICAgICB0cmFuc2l0aW9uOiBoZWlnaHQgMC41cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogbWFyZ2luLWxlZnQgMC41cyBlYXNlLWluLW91dCwgbWFyZ2luLXRvcCAwLjI1cyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBmYWRlIDFzO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuY29sbGFwc2VkIHtcclxuICAgICAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgICAgIGhlaWdodDogNTZweDtcclxuXHJcbiAgICAgICAgLnBhbmVsLWNvbnRlbnQge1xyXG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IC0yNHB4O1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogLTI0cHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAudGFibGUtY29udGFpbmVyIHtcclxuICAgICAgICAgIGFuaW1hdGlvbjogZmFkZS1vdXQgMXM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG46Om5nLWRlZXAgLmV4cG9ydC1tZXRob2RzIHtcclxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIG1pbi13aWR0aDogMTAwcHg7XHJcbiAgcGFkZGluZzogMDtcclxuXHJcbiAgLmV4cG9ydC1tZXRob2Qtd3JhcHBlciB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBmb250LXNpemU6IDAuOHJlbTtcclxuICAgIHBhZGRpbmc6IDVweCAwO1xyXG5cclxuICAgIC5leHBvcnQtbWV0aG9kIHtcclxuICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOjpuZy1kZWVwICN2aXNpdC1mb3JtLWNvbXBvbmVudCAuYXctZGlhbG9nIC51aS1kaWFsb2cge1xyXG4gIG1heC13aWR0aDogOTAlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGUge1xyXG4gIDAlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gIH1cclxuXHJcbiAgMTAwJSB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlLW91dCB7XHJcbiAgMCUge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.ts":
/*!******************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.ts ***!
  \******************************************************************************************************************/
/*! exports provided: UnitConversionMatrixFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnitConversionMatrixFormComponent", function() { return UnitConversionMatrixFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_date_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared/utils/string-utils */ "./src/app/shared/utils/string-utils.ts");
/* harmony import */ var _unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../unit-conversion-matrix.service */ "./src/app/main/engineering-management/unit-conversion-matrix/unit-conversion-matrix.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};













var UnitConversionMatrixFormComponent = /** @class */ (function (_super) {
    __extends(UnitConversionMatrixFormComponent, _super);
    function UnitConversionMatrixFormComponent(favoriteService, loaderService, messageService, serializationService, tabService, dateService, translateService, unitConversionMatrixService, confirmationService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.dateService = dateService;
        _this.translateService = translateService;
        _this.unitConversionMatrixService = unitConversionMatrixService;
        _this.confirmationService = confirmationService;
        _this.cmId = 0;
        _this.ucmObject = {};
        _this.baseInformation = {};
        _this.concernedFamiliesTableCols = [
            { field: 'familyCode', alignment: 'left' },
            { field: 'structureType', alignment: 'left' },
            { field: 'variantCode', alignment: 'left' },
            { field: 'isDefault', alignment: 'left' }
        ];
        _this.selectedBireCMVariant = [];
        _this.bireCMVariantAddedList = [];
        _this.currentUcm = undefined;
        _this.ucmTable = [];
        _this.ucmTableCols = [
            { field: 'unitCode', alignment: 'center' },
            { field: 'fhEquivalent', alignment: 'center' }
        ];
        _this.selectedUcmRows = [];
        _this.unitConversionMatrixRowAddedList = [];
        _this.showApplicabilitiesDialog = false;
        _this.showDialogUnitConversionMatrix = false;
        _this.isLoading = false;
        _this.currentLang = _this.translateService.currentLang;
        return _this;
    }
    UnitConversionMatrixFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.updateOpenMode(this.componentData.openMode);
        if (this.componentData.objectId) {
            var objectId = this.serializationService.deserialize(this.componentData.objectId);
            this.cmId = objectId.cmId;
            this.getUnitConversionMatrix(this.cmId);
        }
        else {
            this.ucmObject = {};
            this.baseInformation = {};
        }
        this.displayComponentContext('global.search', true);
    };
    UnitConversionMatrixFormComponent.prototype.getComponentName = function () {
        return 'UnitConversionMatrixFormComponent';
    };
    /**
     * This function get the Unit Conversion matrix based on cm Id
     */
    UnitConversionMatrixFormComponent.prototype.getUnitConversionMatrix = function (cmId) {
        var _this = this;
        this.unitConversionMatrixService.getUnitConversionMatrix(cmId).subscribe(function (results) {
            if (!!results) {
                _this.baseInformation = results;
                _this.bireCMVariantAddedList = !!results.variants ? results.variants : [];
                _this.ucmTable = !!results.values ? results.values : [];
            }
        });
    };
    /**
     * This function save the full object for ConversionMatrix
     */
    UnitConversionMatrixFormComponent.prototype.saveBireConversionMatrix = function () {
        var _this = this;
        if (this.checkUnitConversionMatrixFields()) {
            this.ucmObject = {
                bireConversionMatrixDTO: this.baseInformation,
                bireConversionMatrixValueDTOs: this.ucmTable,
                bireCmVariantDTOs: this.bireCMVariantAddedList
            };
            this.showSaveSpinner = true;
            this.unitConversionMatrixService
                .saveConversionMatrix(this.ucmObject)
                .subscribe(function (result) {
                if (!!result) {
                    _this.baseInformation = result;
                    _this.ucmTable = result.values;
                    _this.bireCMVariantAddedList = result.variants;
                    _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Read);
                }
            })
                .add(function () {
                _this.showSaveSpinner = false;
            });
        }
    };
    /**
     * This function edit the Unit Conversion Matrix
     */
    UnitConversionMatrixFormComponent.prototype.editUnitConversionMatrix = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Write);
    };
    /************************************
     * Unit Conversion Matrix Tab Actions
     ************************************/
    UnitConversionMatrixFormComponent.prototype.createUcmRecord = function () {
        this.currentUcm = undefined;
        this.isNewUcm = true;
        this.showDialogUnitConversionMatrix = true;
    };
    UnitConversionMatrixFormComponent.prototype.editUcmRecord = function () {
        if (!!this.ucmTable && this.selectedUcmRows.length === 1) {
            this.currentUcm = __assign({}, this.selectedUcmRows[0]);
            this.isNewUcm = false;
            this.currentUcmIndex = this.ucmTable.indexOf(this.selectedUcmRows[0]);
            this.showDialogUnitConversionMatrix = true;
        }
    };
    UnitConversionMatrixFormComponent.prototype.deleteUcmRecord = function () {
        var _this = this;
        var partialMessageKey = this.selectedUcmRows.length > 1 ? 'confirmDeleteSelectedRows' : 'confirmDeleteSelectedRow';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                var idArr = [];
                _this.unitConversionMatrixService.removeBidoPreferenceUser(idArr).subscribe(function () {
                    if (!!_this.ucmTable) {
                        var messageKey = _this.selectedUcmRows.length > 1 ? 'successOnDeleteRows' : 'successOnDeleteRow';
                        _this.messageService.showSuccessMessage(_this.getTranslateKey(messageKey));
                        _this.ucmTable = _this.ucmTable.filter(function (ucmRow) {
                            return !_this.selectedUcmRows.includes(ucmRow);
                        });
                        _this.selectedUcmRows = [];
                    }
                });
            }
        });
    };
    UnitConversionMatrixFormComponent.prototype.addNewUcm = function (ucm) {
        if (!!ucm && !!this.ucmTable) {
            var foundIndex = this.unitConversionMatrixRowAddedList.findIndex(function (value) { return value.unitCode === ucm.unitCode; });
            if (foundIndex === -1) {
                this.unitConversionMatrixRowAddedList.push(ucm);
                this.ucmTable = __spread(this.ucmTable, [ucm]);
            }
            else {
                this.messageService.showWarningMessage(this.getTranslateKey('warningonsameunit'));
            }
        }
    };
    UnitConversionMatrixFormComponent.prototype.updateUcm = function (ucm) {
        if (!!ucm && !!this.ucmTable) {
            var foundIndexInTable = this.ucmTable.findIndex(function (value) { return value.unitCode === ucm.unitCode && value.fhEquivalent === ucm.fhEquivalent; });
            if (foundIndexInTable === -1) {
                var foundIndex = this.unitConversionMatrixRowAddedList.findIndex(function (value) { return value.unitCode === ucm.unitCode && value.fhEquivalent === ucm.fhEquivalent; });
                if (foundIndex !== -1) {
                    this.messageService.showWarningMessage(this.getTranslateKey('warningonsameunit'));
                }
                else {
                    this.unitConversionMatrixRowAddedList[foundIndex] = ucm;
                    this.ucmTable[this.currentUcmIndex] = ucm;
                    this.selectedUcmRows = [];
                }
            }
            else {
                this.messageService.showWarningMessage(this.getTranslateKey('warningonsameunit'));
            }
        }
    };
    UnitConversionMatrixFormComponent.prototype.reloadMatrix = function () {
        this.unitConversionMatrixRowAddedList = [];
    };
    /*******************************************
     * Ends : Unit Conversion Matrix Tab Actions
     ******************************************/
    /**
     * This functions checks the mandatory fields
     */
    UnitConversionMatrixFormComponent.prototype.checkUnitConversionMatrixFields = function () {
        if (_shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_11__["StringUtils"].isNullOrEmpty(this.baseInformation.cmCode)) {
            this.messageService.showWarningMessage(this.getTranslateKey('noMandatoryData'));
            return false;
        }
        else if (_shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_11__["StringUtils"].isNullOrEmpty(this.baseInformation.cmName)) {
            this.messageService.showWarningMessage(this.getTranslateKey('noMandatoryData'));
            return false;
        }
        return true;
    };
    /**
     * Concerned Families  Tab
     */
    UnitConversionMatrixFormComponent.prototype.createApplicabilities = function () {
        this.currentApplicabilities = {};
        this.showApplicabilitiesDialog = true;
        this.isNewApplicabilities = true;
        this.dataApplicabilities = {
            componentId: this.getComponentName(),
            selectedRow: undefined,
            object: this.currentApplicabilities,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Write
        };
    };
    /**
     * This function opens the selected applicability.
     */
    UnitConversionMatrixFormComponent.prototype.openApplicabilities = function () {
        if (this.selectedBireCMVariant.length === 1) {
            this.currentApplicabilities = __assign({}, this.selectedBireCMVariant[0]);
            this.showApplicabilitiesDialog = true;
            this.dataApplicabilities = {
                componentId: this.getComponentName(),
                selectedRow: [this.selectedBireCMVariant[0]],
                object: this.currentApplicabilities,
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Read
            };
        }
    };
    /**
     * This method deletes the selected applicability(s)
     */
    UnitConversionMatrixFormComponent.prototype.deleteApplicabilities = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey('confirmDeleteSelectedRows'),
            accept: function () {
                _this.selectedBireCMVariant.forEach(function (selectedCmVariant) {
                    if (!!_this.bireCMVariantAddedList) {
                        var indexInDisplayedList = _this.bireCMVariantAddedList.indexOf(selectedCmVariant);
                        if (indexInDisplayedList > -1) {
                            _this.bireCMVariantAddedList.splice(indexInDisplayedList, 1);
                        }
                    }
                });
                _this.selectedBireCMVariant = [];
            }
        });
    };
    /**
     *  Conversion Matrix variant handler functions
     */
    UnitConversionMatrixFormComponent.prototype.addNewCMVariant = function (newCMVariant) {
        if (!!this.bireCMVariantAddedList) {
            var searchInDisplayedList = this.bireCMVariantAddedList.find(function (value) { return value.variantCode === newCMVariant.variantCode && value.familyCode === newCMVariant.familyCode; });
            if (!searchInDisplayedList) {
                this.bireCMVariantAddedList.push(newCMVariant);
            }
        }
    };
    /**
     * This method sets the default Family variant for UCM.
     */
    UnitConversionMatrixFormComponent.prototype.setAsDefaultFamilyVariant = function () {
        if (this.bireCMVariantAddedList) {
            this.bireCMVariantAddedList.forEach(function (cmVariant) {
                cmVariant.isDefault = false;
            });
            if (!!this.selectedBireCMVariant) {
                this.selectedBireCMVariant[0].isDefault = true;
            }
        }
    };
    UnitConversionMatrixFormComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-unit-conversion-matrix-form',
            template: __webpack_require__(/*! ./unit-conversion-matrix-form.component.html */ "./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.html"),
            styles: [__webpack_require__(/*! ./unit-conversion-matrix-form.component.scss */ "./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_5__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_6__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_8__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_9__["TabService"],
            _shared_services_date_service__WEBPACK_IMPORTED_MODULE_4__["DateService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_12__["UnitConversionMatrixService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_3__["ConfirmationService"]])
    ], UnitConversionMatrixFormComponent);
    return UnitConversionMatrixFormComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_10__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.html":
/*!***************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.html ***!
  \***************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"displayValue\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ componentId + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\"></label>\r\n\r\n      <div class=\"form-control\" style=\"height: auto\">\r\n        <textarea\r\n          pInputTextArea\r\n          [cols]=\"60\"\r\n          [rows]=\"15\"\r\n          type=\"text\"\r\n          class=\"aw-textarea\"\r\n          [(ngModel)]=\"importReportMessage\"\r\n          disabled\r\n        ></textarea>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"close()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.scss":
/*!***************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.scss ***!
  \***************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".textbox {\n  background-color: white; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvaW1wb3J0LXJlcG9ydC1wb3B1cC9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFx1bml0LWNvbnZlcnNpb24tbWF0cml4XFxpbXBvcnQtcmVwb3J0LXBvcHVwXFxpbXBvcnQtcmVwb3J0LXBvcHVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsdUJBQXVCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvdW5pdC1jb252ZXJzaW9uLW1hdHJpeC9pbXBvcnQtcmVwb3J0LXBvcHVwL2ltcG9ydC1yZXBvcnQtcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dGJveCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.ts":
/*!*************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.ts ***!
  \*************************************************************************************************************************/
/*! exports provided: ImportReportPopupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImportReportPopupComponent", function() { return ImportReportPopupComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ImportReportPopupComponent = /** @class */ (function () {
    function ImportReportPopupComponent() {
        this.componentId = 'ImportReportPopupComponent';
        this.displayChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    Object.defineProperty(ImportReportPopupComponent.prototype, "display", {
        get: function () {
            return this.displayValue;
        },
        set: function (displayValue) {
            this.displayValue = displayValue;
            this.displayChange.emit(this.displayValue);
        },
        enumerable: true,
        configurable: true
    });
    ImportReportPopupComponent.prototype.ngOnInit = function () {
        if (this.importReportMessage === '') {
            this.close();
        }
    };
    ImportReportPopupComponent.prototype.close = function () {
        this.display = false;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], ImportReportPopupComponent.prototype, "display", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ImportReportPopupComponent.prototype, "displayChange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ImportReportPopupComponent.prototype, "importReportMessage", void 0);
    ImportReportPopupComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-import-report-popup',
            template: __webpack_require__(/*! ./import-report-popup.component.html */ "./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.html"),
            styles: [__webpack_require__(/*! ./import-report-popup.component.scss */ "./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], ImportReportPopupComponent);
    return ImportReportPopupComponent;
}());



/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.html":
/*!************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.html ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"createUnitConversionMatrix()\">\r\n      {{ componentData.componentId + \".create\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      mat-icon-button\r\n      *ngIf=\"!isCreateOpenMode\"\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"Show all actions\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button type=\"button\" mat-menu-item (click)=\"openTemplate()\">\r\n        {{ \"global.export\" | translate }}\r\n      </button>\r\n\r\n      <button *ngIf=\"isReadOpenMode && !isCreateOpenMode\" type=\"button\" mat-menu-item (click)=\"reloadMatrix()\">\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n\r\n      <button *ngIf=\"isReadOpenMode && !isCreateOpenMode\" type=\"button\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ \"page.\" + (isFavoriteEntry ? \"removeFromFavorites\" : \"addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"column\">\r\n                    <div class=\"row search-criteria-header\">\r\n                      <i\r\n                        class=\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\"\r\n                        aria-hidden=\"true\"\r\n                        pTooltip=\"{{ 'global.reset' | translate }}\"\r\n                        tooltipPosition=\"top\"\r\n                        (click)=\"resetSearchCriteria()\"\r\n                      ></i>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".familyVariant\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"familyVariant\"\r\n                            [showClear]=\"true\"\r\n                            [(ngModel)]=\"searchObject.familyVariant\"\r\n                            placeholder=\"&nbsp;\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".cmCode\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.cmCode\" />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\">\r\n                          {{ componentData.componentId + \".cmName\" | translate }}\r\n                        </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.cmName\" />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group flex--1\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"row search-criteria-footer\">\r\n                      <div class=\"search-actions\">\r\n                        <button\r\n                          type=\"button\"\r\n                          mat-raised-button\r\n                          appKeyPress\r\n                          color=\"primary\"\r\n                          [keyCode]=\"'Enter'\"\r\n                          (click)=\"searchUnitConversionMatrix()\"\r\n                        >\r\n                          {{ \"global.toSearch\" | translate }}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".results\" | translate }}\r\n                      ({{ ucmSearchResultsTable ? ucmSearchResultsTable.length : 0 }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <p-table\r\n                    [resizableColumns]=\"true\"\r\n                    #ptableResults\r\n                    class=\"aw-table2\"\r\n                    [columns]=\"ucmSearchResultsTableCols\"\r\n                    [value]=\"ucmSearchResultsTable\"\r\n                    [(selection)]=\"selectedUcmSearchResults\"\r\n                    [style]=\"{ margin: '0 auto', width: '100%' }\"\r\n                    [scrollable]=\"true\"\r\n                    scrollHeight=\"400px\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoadingImport\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoadingImport\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': selectedUcmSearchResults.length > 0 }\">\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptableResultsGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"ptableResults.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            *ngIf=\"selectedUcmSearchResults.length > 0\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            color=\"warn\"\r\n                            (click)=\"deleteUCM()\"\r\n                          >\r\n                            {{ \"global.delete\" | translate }}\r\n                          </button>\r\n\r\n                          <button\r\n                            *ngIf=\"selectedUcmSearchResults.length === 1\"\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            (click)=\"openSelectedUCM()\"\r\n                          >\r\n                            {{ \"global.open\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                      <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                        </td>\r\n\r\n                        <td\r\n                          *ngFor=\"let col of columns\"\r\n                          [ngSwitch]=\"col.field\"\r\n                          [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                        >\r\n                          <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\r\n                        </td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ componentData.componentId + \".importTab\" | translate }}\r\n          </ng-template>\r\n          <!-- Import -->\r\n\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">{{ componentData.componentId + \".importTab\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"grid-cell--12\">\r\n                    <div class=\"grid-cell-content\">\r\n                      <div class=\"column\">\r\n                        <div class=\"row\">\r\n                          <div class=\"form-group\">\r\n                            <label class=\"form-label\">\r\n                              {{ componentData.componentId + \".fileToImport\" | translate }}\r\n                            </label>\r\n\r\n                            <div class=\"form-control\">\r\n                              <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"fileName\" disabled />\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"form-group\">\r\n                            <label class=\"form-label\"> </label>\r\n                            <div class=\"form-control\">\r\n                              <label class=\"form-label\"> </label>\r\n                              <div class=\"grid-cell--2\">\r\n                                <p-fileUpload\r\n                                  #fileUploader\r\n                                  class=\"aw-fileupload\"\r\n                                  chooseLabel=\"{{ 'global.upload' | translate }}\"\r\n                                  name=\"document[]\"\r\n                                  customUpload=\"true\"\r\n                                  mode=\"basic\"\r\n                                  auto=\"true\"\r\n                                  (uploadHandler)=\"uploadDocument($event, fileUploader)\"\r\n                                ></p-fileUpload>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"row search-criteria-footer\">\r\n                          <div class=\"search-actions\">\r\n                            <button\r\n                              type=\"button\"\r\n                              mat-raised-button\r\n                              (click)=\"import()\"\r\n                              [ngClass]=\"{ inactive: fileName === '' }\"\r\n                            >\r\n                              <i class=\"fa fa-fw fa-plus\" aria-hidden=\"true\"></i>\r\n                              <span>{{ componentData.componentId + \".importFile\" | translate }}</span>\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Archived Report -->\r\n          <div class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".archivedImportTab\" | translate }} ({{\r\n                        archivedImportReportTable ? archivedImportReportTable.length : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n                <div class=\"grid-cell-content\">\r\n                  <p-table\r\n                    [resizableColumns]=\"true\"\r\n                    #table\r\n                    class=\"aw-table2\"\r\n                    [columns]=\"archivedImportReportTableCols\"\r\n                    [value]=\"archivedImportReportTable\"\r\n                    [style]=\"{ margin: '0 auto', width: '100%' }\"\r\n                    [(selection)]=\"selectedArchivedImportReports\"\r\n                    [scrollable]=\"true\"\r\n                    scrollHeight=\"400px\"\r\n                  >\r\n                    <ng-template pTemplate=\"emptymessage\">\r\n                      <span *ngIf=\"!isLoadingImport\"> &nbsp;</span>\r\n\r\n                      <div *ngIf=\"isLoadingImport\" class=\"aw-table-loading-indicator\">\r\n                        <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                        <div class=\"lds-hourglass\"></div>\r\n                      </div>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"caption\">\r\n                      <div\r\n                        class=\"aw-table-header\"\r\n                        [ngClass]=\"{ 'rows-selected': selectedArchivedImportReports.length > 0 }\"\r\n                      >\r\n                        <div class=\"aw-table-global-filter\">\r\n                          <label class=\"aw-table-global-filter-label\">\r\n                            <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                          </label>\r\n\r\n                          <input\r\n                            #ptableResultsGlobalFilter\r\n                            class=\"aw-table-global-filter-input\"\r\n                            type=\"text\"\r\n                            placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                            (input)=\"table.filterGlobal($event.target.value, 'contains')\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"aw-table-actions\">\r\n                          <button\r\n                            type=\"button\"\r\n                            mat-raised-button\r\n                            pTooltip=\"{{ 'global.delete' | translate }}\"\r\n                            tooltipPosition=\"top\"\r\n                            (click)=\"deleteArchivedImportReports()\"\r\n                            *ngIf=\"selectedArchivedImportReports.length !== 0\"\r\n                          >\r\n                            {{ \"global.delete\" | translate }}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"colgroup\" let-columns>\r\n                      <colgroup>\r\n                        <col class=\"aw-table-checkbox-wrapper\" />\r\n                        <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                      </colgroup>\r\n                    </ng-template>\r\n\r\n                    <ng-template pTemplate=\"header\" let-columns>\r\n                      <tr>\r\n                        <th class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                        </th>\r\n\r\n                        <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                          {{ componentData.componentId + \".\" + col.field | translate }}\r\n                        </th>\r\n                      </tr>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                      <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                        <td class=\"aw-table-checkbox-wrapper\">\r\n                          <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                        </td>\r\n\r\n                        <td\r\n                          *ngFor=\"let col of columns\"\r\n                          [ngSwitch]=\"col.field\"\r\n                          [ngStyle]=\"{ 'text-align': col.alignment }\"\r\n                        >\r\n                          <div *ngSwitchCase=\"'reportName'\">\r\n                            <span\r\n                              (click)=\"openReportDetail(rowData)\"\r\n                              style=\"cursor: pointer; text-decoration: underline; color: blue\"\r\n                            >\r\n                              {{ rowData[col.field] }}\r\n                            </span>\r\n                          </div>\r\n                          <div *ngSwitchCase=\"'statusDate'\">\r\n                            <span> {{ rowData[col.field] | date: \"yyyy/MM/dd\":\"\":translateService.currentLang }} </span>\r\n                          </div>\r\n                          <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\r\n                        </td>\r\n                      </tr>\r\n                    </ng-template>\r\n                  </p-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<aw-import-report-popup\r\n  *ngIf=\"showImportReportMessage\"\r\n  [importReportMessage]=\"importReportMessage\"\r\n  [(display)]=\"showImportReportMessage\"\r\n></aw-import-report-popup>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.scss":
/*!************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.scss ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host #unit-component .main-data .form-group {\n  width: 15rem; }\n  :host #unit-component .main-data .form-group .star {\n    color: red; }\n  :host #unit-component .attributes-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .plus-field {\n  margin-right: 20px;\n  max-width: 35rem;\n  min-width: 25rem;\n  width: 20%; }\n  :host #unit-component .ucm-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .ucm-tab .ucm-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #unit-component .ucm-tab .ucm-tables .align-right {\n      margin-left: 93%; }\n  :host #unit-component .ucm-tab .ucm-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #unit-component .ucm-tab .ucm-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper {\n        width: 50%; }\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #unit-component .fields-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .fields-tab .fields-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host #unit-component .fields-tab .fields-fields .fields-field {\n      width: 15rem; }\n  :host #unit-component .fields-tab .fields-fields .cost-field {\n      width: 6rem; }\n  :host #unit-component .fields-tab .fields-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n  :host #unit-component .fields-tab .fields-fields > div:first-of-type {\n        padding-right: 24px; }\n  :host #unit-component .fields-tab .fields-fields > div:nth-of-type(2) {\n        padding-left: 24px; }\n  :host #unit-component .fields-tab .fields-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #unit-component .fields-tab .fields-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #unit-component .fields-tab .fields-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper {\n        width: 50%; }\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #unit-component .import-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #unit-component .import-tab .import-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host #unit-component .import-tab .import-fields .import-field {\n      width: 10rem; }\n  :host #unit-component .import-tab .import-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n  :host #unit-component .import-tab .import-fields > div:first-of-type {\n        padding-right: 24px; }\n  :host #unit-component .import-tab .import-fields > div:nth-of-type(2) {\n        padding-left: 24px; }\n  :host #unit-component .import-tab .tasks-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #unit-component .import-tab .tasks-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #unit-component .import-tab .tasks-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper {\n        width: 50%; }\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #unit-component .evolution-form-popup {\n  display: flex;\n  flex-direction: row;\n  transition: width 0.3s;\n  width: 20vw; }\n  :host #unit-component .evolution-form-popup > div:nth-of-type(2) {\n    flex: 1; }\n  :host #unit-component .evolution-form-popup.active-right-panel {\n    width: 70vw; }\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\n      background-color: #e5e5e5; }\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .form-group {\n      padding: 20px; }\n  :host #unit-component .evolution-form-popup.active-right-panel .right-panel {\n      border-left: 1px solid #bdbdbd;\n      padding: 20px 0 20px 20px; }\n  :host #unit-component .evolution-number-panel {\n  margin-bottom: 1rem;\n  height: 409px;\n  transition: height 0.5s ease-in-out; }\n  :host #unit-component .evolution-number-panel .form-group {\n    margin-bottom: 5px;\n    margin-left: 0;\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\n  :host #unit-component .evolution-number-panel .table-container {\n    -webkit-animation: fade 1s;\n            animation: fade 1s;\n    opacity: 1; }\n  :host #unit-component .evolution-number-panel.collapsed {\n    box-shadow: none;\n    height: 56px; }\n  :host #unit-component .evolution-number-panel.collapsed .panel-content {\n      padding-bottom: 0; }\n  :host #unit-component .evolution-number-panel.collapsed .form-group {\n      margin-bottom: 0;\n      margin-left: -24px;\n      margin-top: -24px; }\n  :host #unit-component .evolution-number-panel.collapsed .table-container {\n      -webkit-animation: fade-out 1s;\n              animation: fade-out 1s; }\n  ::ng-deep .export-methods {\n  list-style-type: none;\n  margin: 0;\n  min-width: 100px;\n  padding: 0; }\n  ::ng-deep .export-methods .export-method-wrapper {\n    cursor: pointer;\n    font-size: 0.8rem;\n    padding: 5px 0; }\n  ::ng-deep .export-methods .export-method-wrapper .export-method {\n      padding-left: 5px; }\n  ::ng-deep .export-methods .export-method-wrapper .export-method:hover {\n        text-decoration: underline; }\n  ::ng-deep #visit-form-component .aw-dialog .ui-dialog {\n  max-width: 90%; }\n  @-webkit-keyframes fade {\n  0% {\n    display: none;\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n  @keyframes fade {\n  0% {\n    display: none;\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n  @-webkit-keyframes fade-out {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n  @keyframes fade-out {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvc2VhcmNoL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXHVuaXQtY29udmVyc2lvbi1tYXRyaXhcXHNlYXJjaFxcdW5pdC1jb252ZXJzaW9uLW1hdHJpeC1zZWFyY2guY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHTSxZQUFZLEVBQUE7RUFIbEI7SUFNUSxVQUFVLEVBQUE7RUFObEI7RUFXTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFaNUI7RUFnQk0sa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBbkJoQjtFQXVCTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUF4QjVCO0lBMkJRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUE3QnpCO01BZ0NVLGdCQUFnQixFQUFBO0VBaEMxQjtNQW9DVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQXRDekI7UUF5Q1ksbUJBQW1CLEVBQUE7RUF6Qy9CO1FBNkNZLFVBQVUsRUFBQTtFQTdDdEI7VUFnRGMsbUJBQW1CLEVBQUE7RUFoRGpDO1VBb0RjLGtCQUFrQixFQUFBO0VBcERoQztFQTRETSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUE3RDVCO0lBZ0VRLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBO0VBbEVuQjtNQXFFVSxZQUFZLEVBQUE7RUFyRXRCO01BeUVVLFdBQVcsRUFBQTtFQXpFckI7TUE2RVUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7RUEvRXBCO1FBa0ZZLG1CQUFtQixFQUFBO0VBbEYvQjtRQXNGWSxrQkFBa0IsRUFBQTtFQXRGOUI7SUE0RlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTtFQTlGekI7TUFpR1UsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUFuR3pCO1FBc0dZLG1CQUFtQixFQUFBO0VBdEcvQjtRQTBHWSxVQUFVLEVBQUE7RUExR3RCO1VBNkdjLG1CQUFtQixFQUFBO0VBN0dqQztVQWlIYyxrQkFBa0IsRUFBQTtFQWpIaEM7RUF5SE0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBMUg1QjtJQTZIUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQS9IbkI7TUFrSVUsWUFBWSxFQUFBO0VBbEl0QjtNQXNJVSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLFVBQVUsRUFBQTtFQXhJcEI7UUEySVksbUJBQW1CLEVBQUE7RUEzSS9CO1FBK0lZLGtCQUFrQixFQUFBO0VBL0k5QjtJQXFKUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBdkp6QjtNQTBKVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQTVKekI7UUErSlksbUJBQW1CLEVBQUE7RUEvSi9CO1FBbUtZLFVBQVUsRUFBQTtFQW5LdEI7VUFzS2MsbUJBQW1CLEVBQUE7RUF0S2pDO1VBMEtjLGtCQUFrQixFQUFBO0VBMUtoQztFQWtMTSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHNCQUFzQjtFQUN0QixXQUFXLEVBQUE7RUFyTGpCO0lBd0xRLE9BQU8sRUFBQTtFQXhMZjtJQTRMUSxXQUFXLEVBQUE7RUE1TG5CO01BZ01ZLHlCQUF5QixFQUFBO0VBaE1yQztNQW9NWSxhQUFhLEVBQUE7RUFwTXpCO01BeU1VLDhCQUE4QjtNQUM5Qix5QkFBeUIsRUFBQTtFQTFNbkM7RUFnTk0sbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixtQ0FBbUMsRUFBQTtFQWxOekM7SUFxTlEsa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxzRUFBc0UsRUFBQTtFQXZOOUU7SUEyTlEsMEJBQWtCO1lBQWxCLGtCQUFrQjtJQUNsQixVQUFVLEVBQUE7RUE1TmxCO0lBZ09RLGdCQUFnQjtJQUNoQixZQUFZLEVBQUE7RUFqT3BCO01Bb09VLGlCQUFpQixFQUFBO0VBcE8zQjtNQXdPVSxnQkFBZ0I7TUFDaEIsa0JBQWtCO01BQ2xCLGlCQUFpQixFQUFBO0VBMU8zQjtNQThPVSw4QkFBc0I7Y0FBdEIsc0JBQXNCLEVBQUE7RUFPaEM7RUFDRSxxQkFBcUI7RUFDckIsU0FBUztFQUNULGdCQUFnQjtFQUNoQixVQUFVLEVBQUE7RUFKWjtJQU9JLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsY0FBYyxFQUFBO0VBVGxCO01BWU0saUJBQWlCLEVBQUE7RUFadkI7UUFlUSwwQkFBMEIsRUFBQTtFQU1sQztFQUNFLGNBQWMsRUFBQTtFQUdoQjtFQUNFO0lBQ0UsYUFBYTtJQUNiLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFQZDtFQUNFO0lBQ0UsYUFBYTtJQUNiLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFJZDtFQUNFO0lBQ0UsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQTtFQU5kO0VBQ0U7SUFDRSxVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvc2VhcmNoL3VuaXQtY29udmVyc2lvbi1tYXRyaXgtc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICN1bml0LWNvbXBvbmVudCB7XHJcbiAgICAubWFpbi1kYXRhIC5mb3JtLWdyb3VwIHtcclxuICAgICAgd2lkdGg6IDE1cmVtO1xyXG5cclxuICAgICAgLnN0YXIge1xyXG4gICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXR0cmlidXRlcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgIC5wbHVzLWZpZWxkIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICBtYXgtd2lkdGg6IDM1cmVtO1xyXG4gICAgICBtaW4td2lkdGg6IDI1cmVtO1xyXG4gICAgICB3aWR0aDogMjAlO1xyXG4gICAgfVxyXG5cclxuICAgIC51Y20tdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC51Y20tdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5hbGlnbi1yaWdodCB7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogOTMlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmZpZWxkcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmZpZWxkcy1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmZpZWxkcy1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTVyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuY29zdC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogNnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5maWVsZHMtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5pbXBvcnQtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5pbXBvcnQtZmllbGRzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgIC5pbXBvcnQtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhc2tzLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZXZvbHV0aW9uLWZvcm0tcG9wdXAge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xyXG4gICAgICB3aWR0aDogMjB2dztcclxuXHJcbiAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgIGZsZXg6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYWN0aXZlLXJpZ2h0LXBhbmVsIHtcclxuICAgICAgICB3aWR0aDogNzB2dztcclxuXHJcbiAgICAgICAgLmxlZnQtcGFuZWwge1xyXG4gICAgICAgICAgLmV2b2x1dGlvbi1udW1iZXIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5yaWdodC1wYW5lbCB7XHJcbiAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNiZGJkYmQ7XHJcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4IDAgMjBweCAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5ldm9sdXRpb24tbnVtYmVyLXBhbmVsIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgICAgaGVpZ2h0OiA0MDlweDtcclxuICAgICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG1hcmdpbi1sZWZ0IDAuNXMgZWFzZS1pbi1vdXQsIG1hcmdpbi10b3AgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogZmFkZSAxcztcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmNvbGxhcHNlZCB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICBoZWlnaHQ6IDU2cHg7XHJcblxyXG4gICAgICAgIC5wYW5lbC1jb250ZW50IHtcclxuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtMjRweDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IC0yNHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBhbmltYXRpb246IGZhZGUtb3V0IDFzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOjpuZy1kZWVwIC5leHBvcnQtbWV0aG9kcyB7XHJcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gIG1hcmdpbjogMDtcclxuICBtaW4td2lkdGg6IDEwMHB4O1xyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC5leHBvcnQtbWV0aG9kLXdyYXBwZXIge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgICBwYWRkaW5nOiA1cHggMDtcclxuXHJcbiAgICAuZXhwb3J0LW1ldGhvZCB7XHJcbiAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAjdmlzaXQtZm9ybS1jb21wb25lbnQgLmF3LWRpYWxvZyAudWktZGlhbG9nIHtcclxuICBtYXgtd2lkdGg6IDkwJTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlIHtcclxuICAwJSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZS1vdXQge1xyXG4gIDAlIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG5cclxuICAxMDAlIHtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.ts":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: UnitConversionMatrixSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnitConversionMatrixSearchComponent", function() { return UnitConversionMatrixSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../shared/utils/file-utils */ "./src/app/shared/utils/file-utils.ts");
/* harmony import */ var _engineering_management_item_search_item_search_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../engineering-management/item/search/item-search.service */ "./src/app/main/engineering-management/item/search/item-search.service.ts");
/* harmony import */ var _unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../unit-conversion-matrix.service */ "./src/app/main/engineering-management/unit-conversion-matrix/unit-conversion-matrix.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var UnitConversionMatrixSearchComponent = /** @class */ (function (_super) {
    __extends(UnitConversionMatrixSearchComponent, _super);
    function UnitConversionMatrixSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, translateService, itemSearchService, unitConversionMatrixService, confirmationService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.translateService = translateService;
        _this.itemSearchService = itemSearchService;
        _this.unitConversionMatrixService = unitConversionMatrixService;
        _this.confirmationService = confirmationService;
        _this.tabImportId = 'import';
        _this.tabArchivedImportReportsId = 'archImportReport';
        _this.showDialogUnitConversionMatrix = false;
        _this.currentTabId = _this.tabUnitConversionMatrixId;
        _this.templateFile = {};
        _this.file = undefined;
        _this.fileName = undefined;
        _this.familyVariant = [];
        _this.familyVariantValue = [];
        _this.loadFamilyVariant();
        _this.resetSearchCriteria();
        _this.ucmSearchResultsTable = undefined;
        _this.ucmSearchResultsTableCols = [
            { field: 'cmCode', alignment: 'left', width: '20%' },
            { field: 'cmName', alignment: 'left', width: '80%' }
        ];
        _this.selectedUcmSearchResults = [];
        _this.archivedImportReportTable = undefined;
        _this.archivedImportReportTableCols = [
            { field: 'reportCode', alignment: 'center' },
            { field: 'reportName', alignment: 'center' },
            { field: 'statusUser', alignment: 'center' },
            { field: 'statusDate', alignment: 'center' }
        ];
        _this.selectedArchivedImportReports = [];
        _this.loadArchivedImportReports();
        _this.isLoadingImport = false;
        _this.isLoading = false;
        return _this;
    }
    UnitConversionMatrixSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
    };
    UnitConversionMatrixSearchComponent.prototype.getComponentName = function () {
        return 'UnitConversionMatrixSearchComponent';
    };
    /**
     * This function loads the family variants for search criteria
     */
    UnitConversionMatrixSearchComponent.prototype.loadFamilyVariant = function () {
        var _this = this;
        this.itemSearchService.findBireVariantVersionsByFamilyFunctionItemAlternative().subscribe(function (results) {
            var list = [];
            results.forEach(function (element) {
                list.push(element.labelValue);
            });
            _this.familyVariant = list || [];
            _this.familyVariantValue = results;
        });
    };
    /**
     * This function search unit conversion matrix and populate the results in a table.
     */
    UnitConversionMatrixSearchComponent.prototype.searchUnitConversionMatrix = function () {
        var _this = this;
        this.selectedUcmSearchResults = [];
        this.unitConversionMatrixService.searchUnitMatrixConversion(this.searchObject).subscribe(function (result) {
            _this.ucmSearchResultsTable = result;
        });
    };
    /**
     * This function opens the selected UCM
     */
    UnitConversionMatrixSearchComponent.prototype.openSelectedUCM = function () {
        var _this = this;
        this.selectedUcmSearchResults.forEach(function (ucmRecord) {
            var data = {
                id: _this.tabService.generateId(),
                componentId: 'UnitConversionMatrixFormComponent',
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Read,
                objectId: _this.serializationService.serialize({ cmId: ucmRecord.cmId })
            };
            var labelKey = 'transaction.' + data.componentId;
            _this.tabService.open(_this.tabService.create(data, labelKey, true));
        });
    };
    /**
     * This funtion deletes the UCM
     */
    UnitConversionMatrixSearchComponent.prototype.deleteUCM = function () {
        var _this = this;
        var partialMessageKey = this.selectedUcmSearchResults.length > 1 ? 'confirmDeleteSelectedRows' : 'confirmDeleteSelectedRow';
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                var ids = [];
                _this.selectedUcmSearchResults.forEach(function (ucmRecord) {
                    ids.push(!!ucmRecord && !!ucmRecord.cmId ? ucmRecord.cmId : 0);
                });
                _this.unitConversionMatrixService.deleteUnitConversionMatrix(ids).subscribe(function () {
                    if (!!_this.ucmSearchResultsTable) {
                        var messageKey = _this.selectedUcmSearchResults.length > 1 ? 'successOnDeleteRows' : 'successOnDeleteRow';
                        _this.messageService.showSuccessMessage(_this.getTranslateKey(messageKey));
                        _this.ucmSearchResultsTable = _this.ucmSearchResultsTable.filter(function (ucmRow) {
                            return !_this.selectedUcmSearchResults.includes(ucmRow);
                        });
                        _this.selectedUcmSearchResults = [];
                    }
                });
            }
        });
    };
    /**
     * This function resets the search criteria
     */
    UnitConversionMatrixSearchComponent.prototype.resetSearchCriteria = function () {
        this.searchObject = {};
    };
    /**
     * Create Unit Conversion Matrix
     */
    UnitConversionMatrixSearchComponent.prototype.createUnitConversionMatrix = function () {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_2__["ComponentConstants"].ENG_MAI_UNIT_CONVERSION_MATRIX_FORM,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_3__["ComponentOpenMode"].Create,
            objectId: undefined
        };
        var labelKey = 'transaction.' + data.componentId;
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    // Downloads excel template
    UnitConversionMatrixSearchComponent.prototype.openTemplate = function () {
        var _this = this;
        this.unitConversionMatrixService.getExcelTemplate().subscribe(function (result) {
            _this.templateFile = result;
            if (!!_this.templateFile.fileContent && !!_this.templateFile.fileName) {
                _this.downLoadFiles(_this.templateFile.fileContent, _this.templateFile.fileName);
            }
            else {
                _super.prototype.throwUnboundLocalError.call(_this, 'openTemplate', 'this.template');
            }
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetTemplate'));
        });
    };
    UnitConversionMatrixSearchComponent.prototype.downLoadFiles = function (docFile, docName) {
        _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_11__["FileUtils"].downloadFile(docFile, docName);
    };
    UnitConversionMatrixSearchComponent.prototype.uploadDocument = function (event, fileUploader) {
        var _this = this;
        if (event.files) {
            var file_1 = event.files[0];
            {
                _shared_utils_file_utils__WEBPACK_IMPORTED_MODULE_11__["FileUtils"].getFileContentAsBase64(file_1, function (fileContent) {
                    if (fileContent) {
                        _this.file = {
                            docFile: fileContent,
                            docName: file_1.name,
                            docPublicationDate: new Date()
                        };
                        _this.fileName = _this.file.docName;
                    }
                });
            }
            fileUploader.clear();
        }
    };
    UnitConversionMatrixSearchComponent.prototype.import = function () {
        var _this = this;
        if (!!this.file) {
            var input = {
                fileName: this.fileName,
                excelSource: this.file.docFile
            };
            this.unitConversionMatrixService.importUnitConversionMatrixFromExcel(input).subscribe(function (result) {
                _this.fileName = '';
                _this.file = undefined;
                _this.importReportMessage = result;
                _this.showImportReportMessage = true;
                _this.loadArchivedImportReports();
            });
        }
    };
    UnitConversionMatrixSearchComponent.prototype.loadArchivedImportReports = function () {
        var _this = this;
        this.isLoadingImport = true;
        this.unitConversionMatrixService.loadArchivedImportReports().subscribe(function (results) {
            _this.archivedImportReportTable = results || [];
            _this.isLoadingImport = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetArchivedImportReports'));
            _this.isLoadingImport = false;
        });
    };
    UnitConversionMatrixSearchComponent.prototype.deleteArchivedImportReports = function () {
        var _this = this;
        if (this.selectedArchivedImportReports !== []) {
            var partialMessageKey_1 = this.selectedArchivedImportReports.length > 1 ? 'confirmDeleteSelectedReports' : 'confirmDeleteSelectedReport';
            var reports_1 = new Array();
            this.selectedArchivedImportReports.forEach(function (report) {
                if (report && report.reportId) {
                    var reportId = {
                        reportId: report.reportId
                    };
                    reports_1.push(reportId);
                }
            });
            this.confirmationService.confirmDelete({
                messageKey: this.getTranslateKey(partialMessageKey_1),
                accept: function () {
                    _this.unitConversionMatrixService.deleteReportEntry(reports_1).subscribe(function (results) {
                        var messageKey = partialMessageKey_1 === 'confirmDeleteSelectedReports'
                            ? _this.getTranslateKey('successOnDeleteReports')
                            : _this.getTranslateKey('successOnDeleteReport');
                        _this.messageService.showSuccessMessage(messageKey);
                        _this.selectedArchivedImportReports = [];
                        _this.loadArchivedImportReports();
                    }, function () {
                        var messageKey = partialMessageKey_1 === 'confirmDeleteSelectedReports'
                            ? _this.getTranslateKey('errorOnDeleteReports')
                            : _this.getTranslateKey('errorOnDeleteReport');
                        _this.messageService.showSuccessMessage(messageKey);
                    });
                }
            });
        }
    };
    UnitConversionMatrixSearchComponent.prototype.openReportDetail = function (object) {
        var _this = this;
        var partialMessageKey = this.getTranslateKey('openReport');
        this.confirmationService.confirm({
            interpolateParams: { 'openReport.reportName': object.reportName },
            contextKeys: [this.getTranslateKey('openReport.line1')],
            messageKey: partialMessageKey,
            accept: function () {
                if (!!object.reportId) {
                    var bireReportDTOId = {
                        reportId: object.reportId
                    };
                    _this.unitConversionMatrixService.openImportReportContent(bireReportDTOId).subscribe(function (result) {
                        if (!!object.reportName) {
                            _this.downLoadFiles(result, object.reportName);
                        }
                        else {
                            _super.prototype.throwUnboundLocalError.call(_this, 'openReportDetail', 'object.reportName');
                        }
                    });
                }
                else {
                    _super.prototype.throwUnboundLocalError.call(_this, 'openReportDetail', 'object.reportId');
                }
            }
        });
    };
    /***********
     * Open tabs
     ***********/
    UnitConversionMatrixSearchComponent.prototype.openImportTab = function () {
        this.currentTabId = this.tabImportId;
    };
    UnitConversionMatrixSearchComponent.prototype.openArchImportReportTab = function () {
        this.currentTabId = this.tabArchivedImportReportsId;
    };
    UnitConversionMatrixSearchComponent.prototype.reloadMatrix = function () {
        this.searchUnitConversionMatrix();
        this.loadArchivedImportReports();
    };
    UnitConversionMatrixSearchComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-unit-conversion-matrix-search',
            template: __webpack_require__(/*! ./unit-conversion-matrix-search.component.html */ "./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.html"),
            styles: [__webpack_require__(/*! ./unit-conversion-matrix-search.component.scss */ "./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_5__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_6__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_8__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_9__["TabService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _engineering_management_item_search_item_search_service__WEBPACK_IMPORTED_MODULE_12__["ItemSearchService"],
            _unit_conversion_matrix_service__WEBPACK_IMPORTED_MODULE_13__["UnitConversionMatrixService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_4__["ConfirmationService"]])
    ], UnitConversionMatrixSearchComponent);
    return UnitConversionMatrixSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_10__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.html":
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.html ***!
  \***********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".taskCode\" | translate }}</label>\r\n\r\n      <div class=\"form-control form-control-with-btn\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"decomposition.taskCode\" disabled />\r\n        <i\r\n          *ngIf=\"newDecomposition\"\r\n          class=\"fa fa-fw fa-search aw-icon\"\r\n          aria-hidden=\"true\"\r\n          pTooltip=\"{{ 'global.search' | translate }}\"\r\n          tooltipPosition=\"top\"\r\n          (click)=\"openTaskTableDialog()\"\r\n        ></i>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".taskVersion\" | translate }}</label>\r\n\r\n      <div class=\"form-control\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"decomposition.taskVersion\" disabled />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".taskDesignation\" | translate }}</label>\r\n\r\n      <div class=\"form-control\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"decomposition.taskDesignation\" disabled />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".taskGroup\" | translate }}</label>\r\n\r\n      <div class=\"form-control\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <p-dropdown\r\n          class=\"aw-dropdown fixed-width\"\r\n          [options]=\"taskGroups\"\r\n          [(ngModel)]=\"decomposition.taskGroup\"\r\n          disabled\r\n          [showClear]=\"true\"\r\n          placeholder=\"&nbsp;\"\r\n          appendTo=\"body\"\r\n        ></p-dropdown>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".taskType\" | translate }}</label>\r\n\r\n      <div class=\"form-control\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <p-dropdown\r\n          class=\"aw-dropdown fixed-width\"\r\n          [options]=\"taskTypes\"\r\n          [(ngModel)]=\"decomposition.taskType\"\r\n          disabled\r\n          [showClear]=\"true\"\r\n          placeholder=\"&nbsp;\"\r\n          appendTo=\"body\"\r\n        ></p-dropdown>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".groupCode\" | translate }}</label>\r\n\r\n      <div class=\"form-control\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"decomposition.groupCode\" [disabled]=\"isReadOnlyForm\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".periodicityType\" | translate }}</label>\r\n\r\n      <div class=\"form-control\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <p-dropdown\r\n          class=\"aw-dropdown fixed-width\"\r\n          [options]=\"periodicityTypes\"\r\n          [(ngModel)]=\"decomposition.periodicityType\"\r\n          [disabled]=\"isReadOnlyForm\"\r\n          [showClear]=\"true\"\r\n          placeholder=\"&nbsp;\"\r\n          appendTo=\"body\"\r\n        ></p-dropdown>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label class=\"form-label\">{{ getComponentName() + \".sequenceNo\" | translate }}</label>\r\n\r\n      <div class=\"form-control\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n        <input\r\n          type=\"text\"\r\n          pKeyFilter=\"int\"\r\n          class=\"aw-input\"\r\n          [(ngModel)]=\"decomposition.sequenceNumber\"\r\n          [disabled]=\"isReadOnlyForm\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button *ngIf=\"isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n    <button *ngIf=\"!isReadOnlyForm\" type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      <span>{{ \"global.cancel\" | translate }}</span>\r\n    </button>\r\n\r\n    <button\r\n      *ngIf=\"!isReadOnlyForm\"\r\n      type=\"button\"\r\n      mat-raised-button\r\n      (click)=\"associate()\"\r\n      color=\"primary\"\r\n      [disabled]=\"!decomposition.taskCode || !decomposition.taskVersion\"\r\n    >\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-search-task\r\n  *ngIf=\"showTaskTableDialog\"\r\n  [(display)]=\"showTaskTableDialog\"\r\n  (onSelected)=\"onSelectedTask($event)\"\r\n  [is-visit]=\"false\"\r\n></aw-dialog-search-task>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.scss":
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.scss ***!
  \***********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".star {\n  color: red; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3Zpc2l0LWZvcm0vZGlhbG9nLWFzc29jaWF0ZWQtdGFza3MtbWFpbnRlbmFuY2UvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcdmlzaXQtZm9ybVxcZGlhbG9nLWFzc29jaWF0ZWQtdGFza3MtbWFpbnRlbmFuY2VcXGRpYWxvZy1hc3NvY2lhdGVkLXRhc2tzLW1haW50ZW5hbmNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBVSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3Zpc2l0LWZvcm0vZGlhbG9nLWFzc29jaWF0ZWQtdGFza3MtbWFpbnRlbmFuY2UvZGlhbG9nLWFzc29jaWF0ZWQtdGFza3MtbWFpbnRlbmFuY2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3RhciB7XHJcbiAgY29sb3I6IHJlZDtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.ts":
/*!*********************************************************************************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.ts ***!
  \*********************************************************************************************************************************************/
/*! exports provided: DialogAssociatedTasksMaintenanceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogAssociatedTasksMaintenanceComponent", function() { return DialogAssociatedTasksMaintenanceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/utils/string-utils */ "./src/app/shared/utils/string-utils.ts");
/* harmony import */ var _visit_form_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../visit-form.service */ "./src/app/main/engineering-management/visit-form/visit-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var DialogAssociatedTasksMaintenanceComponent = /** @class */ (function (_super) {
    __extends(DialogAssociatedTasksMaintenanceComponent, _super);
    function DialogAssociatedTasksMaintenanceComponent(visitFormService, messageService, propertiesService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Write, 'DialogAssociatedTasksMaintenanceComponent') || this;
        _this.visitFormService = visitFormService;
        _this.messageService = messageService;
        _this.propertiesService = propertiesService;
        _this.onCreate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.onUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.showTaskTableDialog = false;
        _this.initTaskTableData();
        _this.taskGroups = [];
        _this.resultsTable = [];
        _this.loadTaskGroups();
        _this.loadTaskTypes();
        _this.loadPeriodicityTypes();
        _this.keyMap = new Map();
        _this.keyMap.set('taskApplicabilityCode', _this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__["GenericPropertyConstants"].TASK_APPLICABILITY_CODE_MAP));
        _this.keyMap.set('taskTypeCode', _this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__["GenericPropertyConstants"].TASK_TYPE_MAP));
        _this.keyMap.set('taskStatus', _this.propertiesService.getValue('getFuncObjectStatusMap'));
        return _this;
    }
    DialogAssociatedTasksMaintenanceComponent.prototype.ngOnInit = function () {
        if (!this.decomposition) {
            this.decomposition = {};
        }
    };
    DialogAssociatedTasksMaintenanceComponent.prototype.cancel = function () {
        this.display = false;
    };
    DialogAssociatedTasksMaintenanceComponent.prototype.openTaskTableDialog = function () {
        this.showTaskTableDialog = true;
    };
    DialogAssociatedTasksMaintenanceComponent.prototype.associate = function () {
        if (this.decomposition !== null) {
            if (_shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_8__["StringUtils"].isNullOrEmpty(this.decomposition.taskCode) ||
                _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_8__["StringUtils"].isNullOrEmpty(this.decomposition.taskVersion)) {
                this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');
            }
            else {
                if (this.newDecomposition) {
                    this.onCreate.emit(this.decomposition);
                    this.display = false;
                }
                else {
                    this.onUpdate.emit(this.decomposition);
                    this.display = false;
                }
            }
        }
    };
    DialogAssociatedTasksMaintenanceComponent.prototype.initTaskTableData = function () {
        var taskTableCols = [
            { field: 'taskCode', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskVersion', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskDesignation', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskChapter', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskSection', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskSubject', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskTask', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskSubTask', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskStatus', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskApplicabilityDate', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskApplicabilityCode', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'repairCenterCode', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'groupCode', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'taskTypeCode', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input },
            { field: 'overhaul', alignment: 'center', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_3__["TableColumnFilterMode"].Input }
        ];
        var criteria = {
            bireTaskDTO: {
                taskCode: '',
                taskVersion: ''
            },
            familyCode: '',
            structureType: '',
            variantCode: '',
            taskTypeCodeExcluded: ''
        };
        this.taskTableData = {
            componentId: 'DialogTask',
            tableCols: taskTableCols,
            tableRows: this.visitFormService.findBireTasksByCriteria(criteria),
            dataKey: undefined,
            selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_4__["TableSelectionMode"].Single,
            globalFilter: true
        };
    };
    DialogAssociatedTasksMaintenanceComponent.prototype.loadTaskGroups = function () {
        var _this = this;
        this.visitFormService.getTaskGroups().subscribe(function (results) {
            _this.taskGroups = results.filter(function (taskGroup) { return taskGroup.value != undefined; }) || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.componentId + 'errorOnGetTaskGroups');
        });
    };
    DialogAssociatedTasksMaintenanceComponent.prototype.loadTaskTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_1__["GenericPropertyConstants"].TASK_TYPE_MAP).subscribe(function (results) {
            _this.taskTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.componentId + '.errorOnGetTaskTypes');
        });
    };
    DialogAssociatedTasksMaintenanceComponent.prototype.loadPeriodicityTypes = function () {
        var _this = this;
        this.propertiesService.getValue('getPeriodicityTypeMap').subscribe(function (results) {
            _this.periodicityTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.componentId + '.errorOnGetPeriodicityTypes');
        });
    };
    /**************************************************************************
     * Task Dialog
     *************************************************************************/
    DialogAssociatedTasksMaintenanceComponent.prototype.onSelectedTask = function (task) {
        if (this.decomposition !== null) {
            if (!!task) {
                this.decomposition.taskCode = task.taskCode;
                this.decomposition.taskVersion = task.taskVersion;
                this.decomposition.taskDesignation = task.taskDesignation;
                this.decomposition.taskGroup = task.groupCode;
                this.decomposition.taskType = task.taskTypeCode;
            }
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogAssociatedTasksMaintenanceComponent.prototype, "displayChange", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DialogAssociatedTasksMaintenanceComponent.prototype, "decomposition", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DialogAssociatedTasksMaintenanceComponent.prototype, "isReadOnlyForm", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DialogAssociatedTasksMaintenanceComponent.prototype, "newDecomposition", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogAssociatedTasksMaintenanceComponent.prototype, "onCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogAssociatedTasksMaintenanceComponent.prototype, "onUpdate", void 0);
    DialogAssociatedTasksMaintenanceComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-dialog-associated-tasks-maintenance',
            template: __webpack_require__(/*! ./dialog-associated-tasks-maintenance.component.html */ "./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.html"),
            styles: [__webpack_require__(/*! ./dialog-associated-tasks-maintenance.component.scss */ "./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.scss")]
        }),
        __metadata("design:paramtypes", [_visit_form_service__WEBPACK_IMPORTED_MODULE_9__["VisitFormService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_5__["MessageService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_6__["PropertiesService"]])
    ], DialogAssociatedTasksMaintenanceComponent);
    return DialogAssociatedTasksMaintenanceComponent;
}(_shared_types_dialog_component__WEBPACK_IMPORTED_MODULE_7__["DialogComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/visit-form/visit-form.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-form/visit-form.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <h2 class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </h2>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\" *ngIf=\"!isCreateOpenMode && componentData && componentData.objectId\">\r\n          - {{ subTitle }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"object-status\"\r\n      [ngClass]=\"{ disabled: isCreateOpenMode }\"\r\n      *ngIf=\"visit.statusState\"\r\n      (click)=\"showStatus()\"\r\n    >\r\n      {{ visit.statusState | formatSelectOption: statusList }}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button mat-raised-button id=\"edit\" *ngIf=\"isReadOpenMode && hasUpdateAccessRight\" (click)=\"editVisit()\">\r\n      {{ \"global.edit\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      mat-raised-button\r\n      color=\"warn\"\r\n      id=\"cancel\"\r\n      *ngIf=\"!isReadOpenMode && !isCreateOpenMode\"\r\n      (click)=\"cancelVisit()\"\r\n    >\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      mat-raised-button\r\n      class=\"btn-with-spinner\"\r\n      color=\"primary\"\r\n      id=\"save\"\r\n      *ngIf=\"!isReadOpenMode\"\r\n      [ngClass]=\"{ inactive: !visit.taskCode || visit.taskCode.length === 0 }\"\r\n      (click)=\"saveVisit()\"\r\n    >\r\n      <span class=\"lds-hourglass\" *ngIf=\"saving\"></span>\r\n      {{ \"global.save\" | translate }}\r\n    </button>\r\n\r\n    <button\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button mat-menu-item (click)=\"openStatusUpdatesPopup()\">{{ \"updates\" | translate }}</button>\r\n\r\n      <button mat-menu-item id=\"refresh\" *ngIf=\"isReadOpenMode && !isCreateOpenMode\" (click)=\"reloadVisit()\">\r\n        {{ \"global.refresh\" | translate }}\r\n      </button>\r\n\r\n      <button mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <mat-tab-group animationDuration=\"0ms\" dynamicHeight>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            {{ \"home\" | translate }}\r\n          </ng-template>\r\n          <div class=\"grid-row\">\r\n            <div id=\"mainInformation\" class=\"grid-cell--grow2\">\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 id=\"mainInformationTitle\" class=\"grid-cell-title\">{{ \"page.mainData\" | translate }}</h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <div class=\"grid-row grid-cell--12 grid-cell--no-padding\">\r\n                    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".visitCode\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"visit.taskCode\"\r\n                          [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\" [ngClass]=\"{ required: !isReadOpenMode }\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".visitVersion\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"aw-input\"\r\n                          [(ngModel)]=\"visit.taskVersion\"\r\n                          [disabled]=\"isReadOpenMode || !isCreateOpenMode\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-row grid-cell--12 grid-cell--no-padding\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".designation\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <textarea\r\n                          class=\"aw-textarea\"\r\n                          [rows]=\"3\"\r\n                          pInputTextarea\r\n                          [(ngModel)]=\"visit.taskDesignation\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        ></textarea>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"grid-row grid-cell--12 grid-cell--no-padding\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".description\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <textarea\r\n                          class=\"aw-textarea\"\r\n                          [rows]=\"3\"\r\n                          pInputTextarea\r\n                          [(ngModel)]=\"visit.taskDescription\"\r\n                          [disabled]=\"isReadOpenMode\"\r\n                        ></textarea>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div *ngIf=\"isCostSettingEnabled\" class=\"grid-row grid-cell--12 grid-cell--no-padding\">\r\n                    <div class=\"form-group\">\r\n                      <label class=\"form-label\"> {{ componentData.componentId + \".cost\" | translate }} </label>\r\n\r\n                      <div class=\"form-control\">\r\n                        <div class=\"aw-input-group\">\r\n                          <br />\r\n                          {{ isCreateOpenMode ? 0 : totalCost }} &nbsp;&nbsp; <span>{{ currency }}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div id=\"maintenancePrograms\" class=\"grid-cell--grow3\">\r\n              <!-- Maintenance programs table -->\r\n\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 id=\"maintenanceProgramsTableTitle\" class=\"grid-cell-title\">\r\n                      {{ \"global.maintenance\" | translate }} ({{\r\n                        maintenanceTableDataSource ? maintenanceTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"maintenanceTableDataSource\">\r\n                    <ng-template columnDef=\"planCode\" let-rowData=\"rowData\">\r\n                      <a (click)=\"goToMaintenanceProgram(rowData)\">\r\n                        {{ rowData.planCode }}\r\n                      </a>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"taskDecomposition\" class=\"grid-row\">\r\n            <div class=\"grid-cell--12\">\r\n              <!-- Tasks decomposition table -->\r\n\r\n              <div class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-header\">\r\n                  <div class=\"grid-cell-title-container\">\r\n                    <h3 id=\"taskDecompositionTableTitle\" class=\"grid-cell-title\">\r\n                      {{ componentData.componentId + \".decomposition\" | translate }} ({{\r\n                        decompositionTableDataSource ? decompositionTableDataSource.dataCount : 0\r\n                      }})\r\n                    </h3>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"grid-cell-content\">\r\n                  <a-table [dataSource]=\"decompositionTableDataSource\" class=\"aw-table2\">\r\n                    <ng-template tableActionsDef>\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && decompositionTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"deleteDecomposition()\"\r\n                      >\r\n                        {{ \"global.delete\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && !decompositionTableDataSource.hasDataSelection\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"createDecomposition()\"\r\n                      >\r\n                        {{ \"global.add\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"!isReadOpenMode && decompositionTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"editDecomposition()\"\r\n                      >\r\n                        {{ \"global.edit\" | translate }}\r\n                      </button>\r\n\r\n                      <button\r\n                        *ngIf=\"decompositionTableDataSource.dataSelectionCount === 1\"\r\n                        type=\"button\"\r\n                        mat-raised-button\r\n                        (click)=\"openDecomposition()\"\r\n                      >\r\n                        {{ \"global.open\" | translate }}\r\n                      </button>\r\n                    </ng-template>\r\n\r\n                    <ng-template columnDef=\"taskCode\" let-rowData=\"rowData\">\r\n                      <a (click)=\"goToTask(rowData)\">\r\n                        {{ rowData.taskCode }}\r\n                      </a>\r\n                    </ng-template>\r\n                  </a-table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n\r\n        <mat-tab *ngIf=\"dynamicAttributesForVisit && dynamicAttributesForVisit.length > 0\">\r\n          <ng-template mat-tab-label>\r\n            {{ \"global.attributes\" | translate }}\r\n          </ng-template>\r\n\r\n          <div class=\"grid-row\">\r\n            <div id=\"attributesPanel\" class=\"grid-cell--12\">\r\n              <div #attributesAnchor class=\"grid-cell grid-cell--container\">\r\n                <div class=\"grid-cell-content grid-cell-content-with-section\">\r\n                  <aw-dynamic-attributes\r\n                    [attributes]=\"dynamicAttributesForVisit\"\r\n                    [history]=\"dynamicAttributesHistoric\"\r\n                    [showHistory]=\"true\"\r\n                    [isReadOpenMode]=\"isReadOpenMode\"\r\n                  ></aw-dynamic-attributes>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- POPUP ZONE -->\r\n<aw-dialog-associated-tasks-maintenance\r\n  *ngIf=\"showDecompositionDialog\"\r\n  [decomposition]=\"currentDecomposition\"\r\n  [(display)]=\"showDecompositionDialog\"\r\n  [isReadOnlyForm]=\"isReadOnlyDecompositionDialog\"\r\n  [newDecomposition]=\"isNewDecomposition\"\r\n  (onCreate)=\"addNewDecomposition($event)\"\r\n  (onUpdate)=\"updateDecomposition($event)\"\r\n></aw-dialog-associated-tasks-maintenance>\r\n\r\n<aw-status-update-history\r\n  *ngIf=\"showStatusUpdatesPopup\"\r\n  [object]=\"visit\"\r\n  [data]=\"tableStatusUpdatesData\"\r\n  [deleteApi]=\"deleteApi\"\r\n  [(display)]=\"showStatusUpdatesPopup\"\r\n  [keyMap]=\"updatesKeyMap\"\r\n  [isStatusEditable]=\"!isReadOpenMode\"\r\n  (onUpdated)=\"updateObjectStatusFromStatusUpdatesHistory($event)\"\r\n></aw-status-update-history>\r\n\r\n<aw-dynamic-attributes-history\r\n  *ngIf=\"showDynamicAttributesHistoric\"\r\n  [attributes]=\"dynamicAttributesForTask\"\r\n  [history]=\"dynamicAttributesHistoric\"\r\n  showDelete=\"true\"\r\n  [deleteApi]=\"taskHistoryApi.removeHBireTaskAttribute\"\r\n  [(display)]=\"showDynamicAttributesHistoric\"\r\n></aw-dynamic-attributes-history>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/visit-form/visit-form.component.scss":
/*!**********************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-form/visit-form.component.scss ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host #visit-form-component .main-data .form-group {\n  width: 15rem; }\n  :host #visit-form-component .main-data .form-group .star {\n    color: red; }\n  :host #visit-form-component .attributes-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #visit-form-component .maintenance-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #visit-form-component .maintenance-tab .maintenance-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row .table-wrapper {\n        width: 50%; }\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #visit-form-component .fields-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #visit-form-component .fields-tab .fields-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host #visit-form-component .fields-tab .fields-fields .fields-field {\n      width: 15rem; }\n  :host #visit-form-component .fields-tab .fields-fields .cost-field {\n      width: 6rem; }\n  :host #visit-form-component .fields-tab .fields-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n  :host #visit-form-component .fields-tab .fields-fields > div:first-of-type {\n        padding-right: 24px; }\n  :host #visit-form-component .fields-tab .fields-fields > div:nth-of-type(2) {\n        padding-left: 24px; }\n  :host #visit-form-component .fields-tab .fields-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #visit-form-component .fields-tab .fields-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #visit-form-component .fields-tab .fields-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #visit-form-component .fields-tab .fields-tables .row .table-wrapper {\n        width: 50%; }\n  :host #visit-form-component .fields-tab .fields-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #visit-form-component .fields-tab .fields-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #visit-form-component .tasks-tab {\n  display: flex;\n  flex-direction: column; }\n  :host #visit-form-component .tasks-tab .tasks-fields {\n    display: flex;\n    flex-direction: row;\n    width: 100%; }\n  :host #visit-form-component .tasks-tab .tasks-fields .tasks-field {\n      width: 10rem; }\n  :host #visit-form-component .tasks-tab .tasks-fields > div {\n      display: flex;\n      flex-direction: column;\n      width: 50%; }\n  :host #visit-form-component .tasks-tab .tasks-fields > div:first-of-type {\n        padding-right: 24px; }\n  :host #visit-form-component .tasks-tab .tasks-fields > div:nth-of-type(2) {\n        padding-left: 24px; }\n  :host #visit-form-component .tasks-tab .tasks-tables {\n    display: flex;\n    flex-direction: column;\n    padding-top: 24px; }\n  :host #visit-form-component .tasks-tab .tasks-tables .row {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n  :host #visit-form-component .tasks-tab .tasks-tables .row:first-of-type {\n        margin-bottom: 24px; }\n  :host #visit-form-component .tasks-tab .tasks-tables .row .table-wrapper {\n        width: 50%; }\n  :host #visit-form-component .tasks-tab .tasks-tables .row .table-wrapper:first-of-type {\n          padding-right: 24px; }\n  :host #visit-form-component .tasks-tab .tasks-tables .row .table-wrapper:nth-of-type(2) {\n          padding-left: 24px; }\n  :host #visit-form-component .evolution-form-popup {\n  display: flex;\n  flex-direction: row;\n  transition: width 0.3s;\n  width: 20vw; }\n  :host #visit-form-component .evolution-form-popup > div:nth-of-type(2) {\n    flex: 1; }\n  :host #visit-form-component .evolution-form-popup.active-right-panel {\n    width: 70vw; }\n  :host #visit-form-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\n      background-color: #e5e5e5; }\n  :host #visit-form-component .evolution-form-popup.active-right-panel .left-panel .form-group {\n      padding: 20px; }\n  :host #visit-form-component .evolution-form-popup.active-right-panel .right-panel {\n      border-left: 1px solid #bdbdbd;\n      padding: 20px 0 20px 20px; }\n  :host #visit-form-component .evolution-number-panel {\n  margin-bottom: 1rem;\n  height: 409px;\n  transition: height 0.5s ease-in-out; }\n  :host #visit-form-component .evolution-number-panel .form-group {\n    margin-bottom: 5px;\n    margin-left: 0;\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\n  :host #visit-form-component .evolution-number-panel .table-container {\n    -webkit-animation: fade 1s;\n            animation: fade 1s;\n    opacity: 1; }\n  :host #visit-form-component .evolution-number-panel.collapsed {\n    box-shadow: none;\n    height: 56px; }\n  :host #visit-form-component .evolution-number-panel.collapsed .panel-content {\n      padding-bottom: 0; }\n  :host #visit-form-component .evolution-number-panel.collapsed .form-group {\n      margin-bottom: 0;\n      margin-left: -24px;\n      margin-top: -24px; }\n  :host #visit-form-component .evolution-number-panel.collapsed .table-container {\n      -webkit-animation: fade-out 1s;\n              animation: fade-out 1s; }\n  ::ng-deep .export-methods {\n  list-style-type: none;\n  margin: 0;\n  min-width: 100px;\n  padding: 0; }\n  ::ng-deep .export-methods .export-method-wrapper {\n    cursor: pointer;\n    font-size: 0.8rem;\n    padding: 5px 0; }\n  ::ng-deep .export-methods .export-method-wrapper .export-method {\n      padding-left: 5px; }\n  ::ng-deep .export-methods .export-method-wrapper .export-method:hover {\n        text-decoration: underline; }\n  ::ng-deep #visit-form-component .aw-dialog .ui-dialog {\n  max-width: 90%; }\n  @-webkit-keyframes fade {\n  0% {\n    display: none;\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n  @keyframes fade {\n  0% {\n    display: none;\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n  @-webkit-keyframes fade-out {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n  @keyframes fade-out {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3Zpc2l0LWZvcm0vRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcdmlzaXQtZm9ybVxcdmlzaXQtZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdNLFlBQVksRUFBQTtFQUhsQjtJQU1RLFVBQVUsRUFBQTtFQU5sQjtFQVdNLGFBQWE7RUFDYixzQkFBc0IsRUFBQTtFQVo1QjtFQWdCTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFqQjVCO0lBb0JRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUF0QnpCO01BeUJVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBO0VBM0J6QjtRQThCWSxtQkFBbUIsRUFBQTtFQTlCL0I7UUFrQ1ksVUFBVSxFQUFBO0VBbEN0QjtVQXFDYyxtQkFBbUIsRUFBQTtFQXJDakM7VUF5Q2Msa0JBQWtCLEVBQUE7RUF6Q2hDO0VBaURNLGFBQWE7RUFDYixzQkFBc0IsRUFBQTtFQWxENUI7SUFxRFEsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixXQUFXLEVBQUE7RUF2RG5CO01BMERVLFlBQVksRUFBQTtFQTFEdEI7TUE4RFUsV0FBVyxFQUFBO0VBOURyQjtNQWtFVSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLFVBQVUsRUFBQTtFQXBFcEI7UUF1RVksbUJBQW1CLEVBQUE7RUF2RS9CO1FBMkVZLGtCQUFrQixFQUFBO0VBM0U5QjtJQWlGUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBbkZ6QjtNQXNGVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQXhGekI7UUEyRlksbUJBQW1CLEVBQUE7RUEzRi9CO1FBK0ZZLFVBQVUsRUFBQTtFQS9GdEI7VUFrR2MsbUJBQW1CLEVBQUE7RUFsR2pDO1VBc0djLGtCQUFrQixFQUFBO0VBdEdoQztFQThHTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUEvRzVCO0lBa0hRLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBO0VBcEhuQjtNQXVIVSxZQUFZLEVBQUE7RUF2SHRCO01BMkhVLGFBQWE7TUFDYixzQkFBc0I7TUFDdEIsVUFBVSxFQUFBO0VBN0hwQjtRQWdJWSxtQkFBbUIsRUFBQTtFQWhJL0I7UUFvSVksa0JBQWtCLEVBQUE7RUFwSTlCO0lBMElRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUE1SXpCO01BK0lVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBO0VBakp6QjtRQW9KWSxtQkFBbUIsRUFBQTtFQXBKL0I7UUF3SlksVUFBVSxFQUFBO0VBeEp0QjtVQTJKYyxtQkFBbUIsRUFBQTtFQTNKakM7VUErSmMsa0JBQWtCLEVBQUE7RUEvSmhDO0VBdUtNLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsc0JBQXNCO0VBQ3RCLFdBQVcsRUFBQTtFQTFLakI7SUE2S1EsT0FBTyxFQUFBO0VBN0tmO0lBaUxRLFdBQVcsRUFBQTtFQWpMbkI7TUFxTFkseUJBQXlCLEVBQUE7RUFyTHJDO01BeUxZLGFBQWEsRUFBQTtFQXpMekI7TUE4TFUsOEJBQThCO01BQzlCLHlCQUF5QixFQUFBO0VBL0xuQztFQXFNTSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLG1DQUFtQyxFQUFBO0VBdk16QztJQTBNUSxrQkFBa0I7SUFDbEIsY0FBYztJQUNkLHNFQUFzRSxFQUFBO0VBNU05RTtJQWdOUSwwQkFBa0I7WUFBbEIsa0JBQWtCO0lBQ2xCLFVBQVUsRUFBQTtFQWpObEI7SUFxTlEsZ0JBQWdCO0lBQ2hCLFlBQVksRUFBQTtFQXROcEI7TUF5TlUsaUJBQWlCLEVBQUE7RUF6TjNCO01BNk5VLGdCQUFnQjtNQUNoQixrQkFBa0I7TUFDbEIsaUJBQWlCLEVBQUE7RUEvTjNCO01BbU9VLDhCQUFzQjtjQUF0QixzQkFBc0IsRUFBQTtFQU9oQztFQUNFLHFCQUFxQjtFQUNyQixTQUFTO0VBQ1QsZ0JBQWdCO0VBQ2hCLFVBQVUsRUFBQTtFQUpaO0lBT0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjLEVBQUE7RUFUbEI7TUFZTSxpQkFBaUIsRUFBQTtFQVp2QjtRQWVRLDBCQUEwQixFQUFBO0VBTWxDO0VBQ0UsY0FBYyxFQUFBO0VBR2hCO0VBQ0U7SUFDRSxhQUFhO0lBQ2IsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQTtFQVBkO0VBQ0U7SUFDRSxhQUFhO0lBQ2IsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQTtFQUlkO0VBQ0U7SUFDRSxVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBO0VBTmQ7RUFDRTtJQUNFLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvdmlzaXQtZm9ybS92aXNpdC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICN2aXNpdC1mb3JtLWNvbXBvbmVudCB7XHJcbiAgICAubWFpbi1kYXRhIC5mb3JtLWdyb3VwIHtcclxuICAgICAgd2lkdGg6IDE1cmVtO1xyXG5cclxuICAgICAgLnN0YXIge1xyXG4gICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXR0cmlidXRlcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgIC5tYWludGVuYW5jZS10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLm1haW50ZW5hbmNlLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZmllbGRzLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuZmllbGRzLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuZmllbGRzLWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiAxNXJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5jb3N0LWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiA2cmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmZpZWxkcy10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnRhc2tzLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAudGFza3MtZmllbGRzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgIC50YXNrcy1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTByZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAudGFza3MtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5ldm9sdXRpb24tZm9ybS1wb3B1cCB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7XHJcbiAgICAgIHdpZHRoOiAyMHZ3O1xyXG5cclxuICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgZmxleDogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5hY3RpdmUtcmlnaHQtcGFuZWwge1xyXG4gICAgICAgIHdpZHRoOiA3MHZ3O1xyXG5cclxuICAgICAgICAubGVmdC1wYW5lbCB7XHJcbiAgICAgICAgICAuZXZvbHV0aW9uLW51bWJlciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlNWU1ZTU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnJpZ2h0LXBhbmVsIHtcclxuICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2JkYmRiZDtcclxuICAgICAgICAgIHBhZGRpbmc6IDIwcHggMCAyMHB4IDIwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmV2b2x1dGlvbi1udW1iZXItcGFuZWwge1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICBoZWlnaHQ6IDQwOXB4O1xyXG4gICAgICB0cmFuc2l0aW9uOiBoZWlnaHQgMC41cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogbWFyZ2luLWxlZnQgMC41cyBlYXNlLWluLW91dCwgbWFyZ2luLXRvcCAwLjI1cyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBmYWRlIDFzO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuY29sbGFwc2VkIHtcclxuICAgICAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgICAgIGhlaWdodDogNTZweDtcclxuXHJcbiAgICAgICAgLnBhbmVsLWNvbnRlbnQge1xyXG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IC0yNHB4O1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogLTI0cHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAudGFibGUtY29udGFpbmVyIHtcclxuICAgICAgICAgIGFuaW1hdGlvbjogZmFkZS1vdXQgMXM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG46Om5nLWRlZXAgLmV4cG9ydC1tZXRob2RzIHtcclxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIG1pbi13aWR0aDogMTAwcHg7XHJcbiAgcGFkZGluZzogMDtcclxuXHJcbiAgLmV4cG9ydC1tZXRob2Qtd3JhcHBlciB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBmb250LXNpemU6IDAuOHJlbTtcclxuICAgIHBhZGRpbmc6IDVweCAwO1xyXG5cclxuICAgIC5leHBvcnQtbWV0aG9kIHtcclxuICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOjpuZy1kZWVwICN2aXNpdC1mb3JtLWNvbXBvbmVudCAuYXctZGlhbG9nIC51aS1kaWFsb2cge1xyXG4gIG1heC13aWR0aDogOTAlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGUge1xyXG4gIDAlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gIH1cclxuXHJcbiAgMTAwJSB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlLW91dCB7XHJcbiAgMCUge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/main/engineering-management/visit-form/visit-form.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-form/visit-form.component.ts ***!
  \********************************************************************************/
/*! exports provided: VisitFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisitFormComponent", function() { return VisitFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
/* harmony import */ var _shared_api_task_history_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/task-history.api */ "./src/app/shared/api/task-history.api.ts");
/* harmony import */ var _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/components/component-sidebar/page-toc.service */ "./src/app/shared/components/component-sidebar/page-toc.service.ts");
/* harmony import */ var _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/components/dynamic-attributes/dynamic-attributes.service */ "./src/app/shared/components/dynamic-attributes/dynamic-attributes.service.ts");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/constants/component-constants */ "./src/app/shared/constants/component-constants.ts");
/* harmony import */ var _shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/constants/generic-property-constants */ "./src/app/shared/constants/generic-property-constants.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/enums/table-column-filter-mode.enum */ "./src/app/shared/enums/table-column-filter-mode.enum.ts");
/* harmony import */ var _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/enums/table-selection-mode.enum */ "./src/app/shared/enums/table-selection-mode.enum.ts");
/* harmony import */ var _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/pipes/format-select-option.pipe */ "./src/app/shared/pipes/format-select-option.pipe.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../shared/services/update-historic.service */ "./src/app/shared/services/update-historic.service.ts");
/* harmony import */ var _shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../shared/types/form-page-component */ "./src/app/shared/types/form-page-component.ts");
/* harmony import */ var _shared_utils_settings_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../shared/utils/settings-utils */ "./src/app/shared/utils/settings-utils.ts");
/* harmony import */ var _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../shared/utils/string-utils */ "./src/app/shared/utils/string-utils.ts");
/* harmony import */ var _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../object-status/object-status.component */ "./src/app/main/object-status/object-status.component.ts");
/* harmony import */ var _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../overlay/overlay.service */ "./src/app/main/overlay/overlay.service.ts");
/* harmony import */ var _visit_search_visit_search_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../visit-search/visit-search.service */ "./src/app/main/engineering-management/visit-search/visit-search.service.ts");
/* harmony import */ var _visit_form_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./visit-form.service */ "./src/app/main/engineering-management/visit-form/visit-form.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};




























var VisitFormComponent = /** @class */ (function (_super) {
    __extends(VisitFormComponent, _super);
    function VisitFormComponent(favoriteService, loaderService, messageService, pageTocService, serializationService, tabService, dynamicAttributesService, visitFormService, visitSearchService, confirmationService, propertiesService, translateService, updateHistoricService, taskHistoryApi, _overlayService, _formatSelectOption) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read, favoriteService, loaderService, messageService, serializationService, tabService, pageTocService) || this;
        _this.dynamicAttributesService = dynamicAttributesService;
        _this.visitFormService = visitFormService;
        _this.visitSearchService = visitSearchService;
        _this.confirmationService = confirmationService;
        _this.propertiesService = propertiesService;
        _this.translateService = translateService;
        _this.updateHistoricService = updateHistoricService;
        _this.taskHistoryApi = taskHistoryApi;
        _this._overlayService = _overlayService;
        _this._formatSelectOption = _formatSelectOption;
        _this.form = VisitFormComponent_1;
        // Historic popup
        _this.showStatusUpdatesPopup = false;
        _this.updatesKeyMap = new Map();
        _this.deleteApi = _this.taskHistoryApi.removeBireTaskHistory;
        // Dynamic historic
        _this.showDynamicAttributesHistoric = false;
        _this.tabFieldsId = 'fields';
        _this.tabTasksId = 'tasks';
        _this.tabMaintenanceId = 'maintenance';
        _this.tabAttributesId = 'attributes';
        _super.prototype.registerPageTocEntryObservable.call(_this);
        _this.loadCurrency();
        _this.currentTabId = _this.tabFieldsId;
        _this.currentDecomposition = undefined;
        _this.isReadOnlyDecompositionDialog = true;
        _this.showDecompositionDialog = false;
        _this.isDecompositionLoading = false;
        _this.isMaintenanceLoading = false;
        _this.totalCost = undefined;
        _this.initCostSettingDisplay();
        _this.initMaintenanceTableDataSource();
        _this.initDecompositionTableDataSource();
        _this.loadTaskGroups();
        _this.loadTaskTypes();
        _this.loadPeriodicityTypes();
        _this.loadVisitStatus();
        _this.init();
        // Lang change events
        _this.translateService.onLangChange.subscribe(function (_) {
            // Reset the right attribute name regarding the langage
            _this.dynamicAttributesForVisit = _this.dynamicAttributesService.from(_this.bireAttributesForVisit);
            _this.getBireAttributesForVisit();
        });
        return _this;
    }
    VisitFormComponent_1 = VisitFormComponent;
    VisitFormComponent.prototype.getComponentName = function () {
        return 'VisitFormComponent';
    };
    VisitFormComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        if (this.componentData) {
            this.updateOpenMode(this.componentData.openMode);
            this.subtitleMethod();
            this.loadVisit();
            this.setTableOfContent();
        }
    };
    VisitFormComponent.prototype.subtitleMethod = function () {
        var context = !!this.componentData.objectId
            ? this.serializationService.deserialize(this.componentData.objectId).taskCode + "-" + this.serializationService.deserialize(this.componentData.objectId).taskVersion
            : 'tab.createMode';
        this.displayComponentContext(context, this.isCreateOpenMode);
        this.subTitle = context;
    };
    VisitFormComponent.prototype.setTableOfContent = function () {
        var _this = this;
        var mainInformationKey = this.getTranslateKey('mainData');
        var taskDecompositionsKey = this.getTranslateKey('decomposition');
        var maintenanceProgramsKey = this.getTranslateKey('maintenanceProgram');
        var attributesKey = this.getTranslateKey('attributes');
        this.translateService
            .get([mainInformationKey, taskDecompositionsKey, maintenanceProgramsKey, attributesKey])
            .subscribe(function (results) {
            var mainInformationLabel = !!results ? results[mainInformationKey] : 'Main Information';
            var taskDecompositionsLabel = !!results ? results[taskDecompositionsKey] : 'Tasks Decomposition';
            var maintenanceProgramsLabel = !!results ? results[maintenanceProgramsKey] : 'Maintenance Programs';
            var attributesLabel = !!results ? results[attributesKey] : 'Attributes';
            _this.toc = [
                {
                    id: 'mainInformationAnchor',
                    anchor: _this.mainInformationElRef,
                    label: mainInformationLabel
                },
                {
                    id: 'taskDecompositionAnchor',
                    anchor: _this.taskDecompositionElRef,
                    label: taskDecompositionsLabel
                },
                {
                    id: 'maintenanceProgramsAnchor',
                    anchor: _this.maintenanceProgramsElRef,
                    label: maintenanceProgramsLabel
                },
                {
                    id: 'attributesAnchor',
                    anchor: _this.attributesElRef,
                    label: attributesLabel
                }
            ];
            _super.prototype.selectPageTocEntry.call(_this, 'mainInformationAnchor');
        });
    };
    VisitFormComponent.prototype.cancelVisit = function () {
        if (this.isCreateOpenMode) {
            this.initOnCreate();
        }
        else {
            this.reloadVisit();
            this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
        }
    };
    VisitFormComponent.prototype.initAttributeValue = function () {
        var leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesForVisit);
        leafs.forEach(function (attribute) {
            attribute.value = undefined;
        });
    };
    VisitFormComponent.prototype.editVisit = function () {
        this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Write);
    };
    VisitFormComponent.prototype.loadVisit = function () {
        var _this = this;
        if (!!this.componentData.objectId) {
            var visitTemp_1 = {
                taskCode: this.serializationService.deserialize(this.componentData.objectId).taskCode,
                taskVersion: this.serializationService.deserialize(this.componentData.objectId).taskVersion
            };
            this.visitSearchService.findBireVisitsByCriteria(visitTemp_1).subscribe(function (result) {
                result.list.forEach(function (res) {
                    if (res.taskCode === visitTemp_1.taskCode && res.taskVersion === visitTemp_1.taskVersion) {
                        _this.visit = res;
                    }
                });
                if (!!_this.visit.taskCode && !!_this.visit.taskVersion) {
                    var visitId = {
                        taskCode: _this.visit.taskCode,
                        taskVersion: _this.visit.taskVersion
                    };
                    _this.loadDecompositionTable(visitId);
                    _this.loadMaintenanceTable(visitId);
                    _this.getBireVisitAttributes();
                    _this.getTotalCost(visitId);
                    _this.loadVisitStatus();
                    _this.subtitleMethod();
                }
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnLoadVisit'));
            });
        }
        else {
            this.visit.statusState = _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].AIRM_OPERATION_STATUS_ONGOING;
        }
    };
    VisitFormComponent.prototype.reloadVisit = function () {
        this.init();
        this.loadVisit();
    };
    VisitFormComponent.prototype.loadVisitStatus = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__["GenericPropertyConstants"].AIRM_OPERATION_STATUS_MAP).subscribe(function (results) {
            _this.statusList = results;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetFamilyVariant'));
        });
    };
    VisitFormComponent.prototype.saveVisit = function () {
        var _this = this;
        if (_shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_23__["StringUtils"].isNullOrEmpty(this.visit.taskCode) || _shared_utils_string_utils__WEBPACK_IMPORTED_MODULE_23__["StringUtils"].isNullOrEmpty(this.visit.taskVersion)) {
            this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');
        }
        else {
            this.saving = true;
            var visit = {
                taskCode: this.visit.taskCode,
                taskVersion: this.visit.taskVersion
            };
            if (this.componentData.openMode === _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Create) {
                this.visitSearchService.findBireVisitsByCriteria(visit).subscribe(function (results) {
                    var visitExists = false;
                    results.list.forEach(function (res) {
                        if (res.taskCode === _this.visit.taskCode && res.taskVersion === _this.visit.taskVersion) {
                            visitExists = true;
                        }
                    });
                    if (!visitExists) {
                        _this.save();
                    }
                    else {
                        _this.messageService.showErrorMessage(_this.getTranslateKey('visitAlreadyExists'));
                        _this.saving = false;
                    }
                });
            }
            else {
                this.visitSearchService.findBireVisitsByCriteria(visit).subscribe(function (results) {
                    var visitExists = false;
                    results.list.forEach(function (res) {
                        if (res.taskCode === _this.visit.taskCode && res.taskVersion === _this.visit.taskVersion) {
                            visitExists = true;
                        }
                    });
                    if (visitExists) {
                        _this.save();
                    }
                    else {
                        _this.messageService.showErrorMessage('global.internalServerError');
                        _this.saving = false;
                    }
                });
            }
        }
    };
    VisitFormComponent.prototype.save = function () {
        var _this = this;
        var decTable = JSON.parse(JSON.stringify(this.decompositionTableDataSource.dataSrc));
        decTable.forEach(function (decomposition) {
            if (!!decomposition && !!decomposition.periodicityType) {
                var periodicityType = _this.periodicityTypes.filter(function (type) { return type.label === decomposition.periodicityType; });
                decomposition.periodicityType =
                    periodicityType.length !== 0 ? periodicityType[0].value : decomposition.periodicityType;
            }
            if (!!decomposition && !!decomposition.taskType) {
                var taskType = _this.taskTypes.filter(function (type) { return type.label === decomposition.taskType; });
                decomposition.taskType = taskType.length !== 0 ? taskType[0].value : decomposition.taskType;
            }
        });
        if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion) {
            var bireTaskAttributes = this.dynamicAttributesService.toBireTaskAttribute(this.visit.taskCode, this.visit.taskVersion, this.dynamicAttributesForVisit);
            var saveVisitId = {
                visitCode: this.visit.taskCode,
                visitVersion: this.visit.taskVersion,
                visitDesignation: this.visit.taskDesignation,
                visitDescription: this.visit.taskDescription,
                taskDecompositionTableAttributeAddedDTO: decTable,
                taskDecompositionTableAttributeRemoveDTO: this.decompositionTableRemovedList,
                statusState: this.visit.statusState,
                bireTaskAttributeUpdatedList: bireTaskAttributes
            };
            this.visitFormService.saveVisit(saveVisitId).subscribe(function (result) {
                _this.saving = false;
                _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnSaveVisit'));
                var context = _this.visit.taskCode + "-" + _this.visit.taskVersion;
                _this.displayComponentContext(context, _this.isCreateOpenMode);
                _this.updateOpenMode(_shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read);
                _this.componentData.objectId = _this.serializationService.serialize(_this.visit);
                _this.reloadVisit();
            }, function (error) {
                _this.saving = false;
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnSaveVisit'));
            });
        }
        else {
            this.saving = false;
            _super.prototype.throwUnboundLocalError.call(this, 'saveVisit', 'this.visit && this.visit.taksCode && this.visit.taskVersion');
        }
    };
    VisitFormComponent.prototype.init = function () {
        this.visit = {};
        this.decompositionInput = {};
        this.decompositionTableRemovedList = [];
        this.saving = false;
        this.attributeIdValueMap = new Map();
        this.bireAttributesForVisit = [];
        this.dynamicAttributesForVisit = [];
        this.bireVisitAttributes = [];
        this.getBireAttributesForVisit();
    };
    VisitFormComponent.prototype.initOnCreate = function () {
        this.visit = {};
        this.decompositionInput = {};
        this.initAttributeValue();
    };
    VisitFormComponent.prototype.loadDecompositionTable = function (bireTaskDTO) {
        var _this = this;
        this.isDecompositionLoading = true;
        this.visitFormService.findTasksDecompositionByVisit(bireTaskDTO).subscribe(function (results) {
            _this.isDecompositionLoading = false;
            _this.decompositionTableDataSource.setData(results || []);
            _this.decompositionTableDataSource.dataSrc.forEach(function (decomposition) {
                var taskGroup = _this.taskGroups.filter(function (element) { return element.value === decomposition.taskGroup; })[0];
                var taskType = _this.taskTypes.filter(function (element) { return element.value === decomposition.taskType; })[0];
                var periodicityType = _this.periodicityTypes.filter(function (element) { return element.value === decomposition.periodicityType; })[0];
                if (decomposition.taskGroup && taskGroup) {
                    decomposition.taskGroup = taskGroup.label;
                }
                if (decomposition.taskType && taskType) {
                    decomposition.taskType = taskType.label;
                }
                if (decomposition.periodicityType && periodicityType) {
                    decomposition.periodicityType = periodicityType.label;
                }
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetTasksDecompositions'));
        });
    };
    VisitFormComponent.prototype.loadMaintenanceTable = function (bireTaskDTO) {
        var _this = this;
        this.isMaintenanceLoading = true;
        this.visitFormService.findBireMaintenancePlan(bireTaskDTO).subscribe(function (results) {
            _this.maintenanceTableDataSource.setData(results || []);
            _this.isMaintenanceLoading = false;
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetMaintenancePlan'));
        });
    };
    VisitFormComponent.prototype.loadTaskGroups = function () {
        var _this = this;
        this.visitFormService.getTaskGroups().subscribe(function (results) {
            _this.taskGroups = results.filter(function (taskGroup) { return taskGroup.value != undefined; }) || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetTaskGroups'));
        });
    };
    VisitFormComponent.prototype.loadTaskTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__["GenericPropertyConstants"].TASK_TYPE_MAP).subscribe(function (results) {
            _this.taskTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetTaskTypes'));
        });
    };
    VisitFormComponent.prototype.loadPeriodicityTypes = function () {
        var _this = this;
        this.propertiesService.getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__["GenericPropertyConstants"].PERIODICITY_TYPE_MAP).subscribe(function (results) {
            _this.periodicityTypes = results || [];
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('.errorOnGetPeriodicityTypes'));
        });
    };
    VisitFormComponent.prototype.getTotalCost = function (input) {
        var _this = this;
        this.visitFormService.findBireOperationsByTaskTotalCost(input).subscribe(function (result) {
            _this.totalCost = result;
        });
    };
    VisitFormComponent.prototype.initDecompositionTableDataSource = function () {
        this.decompositionTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["TableDataSource"]({
            allowMultiSelect: true,
            itemsPerPage: 7,
            columns: [
                {
                    field: 'taskCode',
                    translateKey: this.getTranslateKey('taskCode'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER
                },
                {
                    field: 'taskDesignation',
                    translateKey: this.getTranslateKey('taskDesignation'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER
                },
                {
                    field: 'taskGroup',
                    translateKey: this.getTranslateKey('taskGroup'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER
                },
                {
                    field: 'taskType',
                    translateKey: this.getTranslateKey('taskType'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER
                },
                {
                    field: 'groupCode',
                    translateKey: this.getTranslateKey('groupCode'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER
                },
                {
                    field: 'periodicityType',
                    translateKey: this.getTranslateKey('periodicityType'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER
                },
                {
                    field: 'sequenceNumber',
                    translateKey: this.getTranslateKey('sequenceNumber'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER
                }
            ],
            data: []
        });
    };
    VisitFormComponent.prototype.initMaintenanceTableDataSource = function () {
        this.maintenanceTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["TableDataSource"]({
            enableSelection: false,
            itemsPerPage: 10,
            columns: [
                {
                    field: 'planCode',
                    translateKey: this.getTranslateKey('planCode'),
                    width: '15%'
                },
                {
                    field: 'planName',
                    translateKey: this.getTranslateKey('planName'),
                    width: '40%'
                },
                {
                    field: 'planRevisionNumber',
                    translateKey: this.getTranslateKey('planRevisionNumber'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER,
                    width: '22.5%'
                },
                {
                    field: 'planRevisionDate',
                    translateKey: this.getTranslateKey('planRevisionDate'),
                    alignment: _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_5__["ColumnAlignment"].CENTER,
                    width: '22.5%'
                }
            ],
            data: []
        });
    };
    /*************************************************************************
     * Fields tab
     *************************************************************************/
    VisitFormComponent.prototype.openFieldsTab = function () {
        this.currentTabId = this.tabFieldsId;
    };
    /*************************************************************************
     * Tasks tab
     *************************************************************************/
    VisitFormComponent.prototype.openTasksTab = function () {
        this.currentTabId = this.tabTasksId;
    };
    VisitFormComponent.prototype.createDecomposition = function () {
        this.currentDecomposition = undefined;
        this.isNewDecomposition = true;
        this.isReadOnlyDecompositionDialog = false;
        this.showDecompositionDialog = true;
    };
    VisitFormComponent.prototype.editDecomposition = function () {
        var _this = this;
        if (this.decompositionTableDataSource.dataSelectionCount === 1) {
            this.currentDecomposition = __assign({}, this.decompositionTableDataSource.dataSelection[0]);
            this.isNewDecomposition = false;
            this.currentDecompositionIndex = this.decompositionTableDataSource.dataSrc.indexOf(this.decompositionTableDataSource.dataSelection[0]);
            var taskGroup = this.taskGroups.filter(function (element) { return !!_this.currentDecomposition && element.label === _this.currentDecomposition.taskGroup; })[0];
            var taskType = this.taskTypes.filter(function (element) { return !!_this.currentDecomposition && element.label === _this.currentDecomposition.taskType; })[0];
            var periodicityType = this.periodicityTypes.filter(function (element) { return !!_this.currentDecomposition && element.label === _this.currentDecomposition.periodicityType; })[0];
            if (this.currentDecomposition.taskGroup && taskGroup) {
                this.currentDecomposition.taskGroup = taskGroup.value;
            }
            if (this.currentDecomposition.taskType && taskType) {
                this.currentDecomposition.taskType = taskType.value;
            }
            if (this.currentDecomposition.periodicityType && periodicityType) {
                this.currentDecomposition.periodicityType = periodicityType.value;
            }
            this.isReadOnlyDecompositionDialog = false;
            this.showDecompositionDialog = true;
        }
    };
    VisitFormComponent.prototype.openDecomposition = function () {
        var _this = this;
        if (this.decompositionTableDataSource.dataSelectionCount === 1) {
            this.currentDecomposition = __assign({}, this.decompositionTableDataSource.dataSelection[0]);
            var taskGroup = this.taskGroups.filter(function (element) { return !!_this.currentDecomposition && element.label === _this.currentDecomposition.taskGroup; })[0];
            var taskType = this.taskTypes.filter(function (element) { return !!_this.currentDecomposition && element.label === _this.currentDecomposition.taskType; })[0];
            var periodicityType = this.periodicityTypes.filter(function (element) { return !!_this.currentDecomposition && element.label === _this.currentDecomposition.periodicityType; })[0];
            if (this.currentDecomposition.taskGroup && taskGroup) {
                this.currentDecomposition.taskGroup = taskGroup.value;
            }
            if (this.currentDecomposition.taskType && taskType) {
                this.currentDecomposition.taskType = taskType.value;
            }
            if (this.currentDecomposition.periodicityType && periodicityType) {
                this.currentDecomposition.periodicityType = periodicityType.value;
            }
            this.isNewDecomposition = false;
            this.isReadOnlyDecompositionDialog = true;
            this.showDecompositionDialog = true;
        }
    };
    VisitFormComponent.prototype.deleteDecomposition = function () {
        var _this = this;
        if (this.decompositionTableDataSource.dataSelectionCount === 1) {
            var partialMessageKey = this.decompositionTableDataSource.dataSelectionCount > 1
                ? 'confirmDeleteSelectedDecompositions'
                : 'confirmDeleteSelectedDecomposition';
            this.confirmationService.confirmDelete({
                messageKey: this.getTranslateKey(partialMessageKey),
                accept: function () {
                    var deleteDecomposition = {
                        taskCode: _this.decompositionTableDataSource.dataSelection[0].taskCode,
                        taskVersion: _this.decompositionTableDataSource.dataSelection[0].taskVersion
                    };
                    _this.decompositionTableRemovedList.push(deleteDecomposition);
                    _this.decompositionTableDataSource.setData(_this.decompositionTableDataSource.dataSrc.filter(function (dec) { return dec.taskCode !== _this.decompositionTableDataSource.dataSelection[0].taskCode; }));
                    _this.decompositionTableDataSource.dataSelection = [];
                }
            });
        }
    };
    VisitFormComponent.prototype.goToTask = function (event) {
        var object = event.bireTask;
        var labelKey = 'transaction.TaskFormComponent';
        if (!!object && !!object.taskCode && !!object.taskVersion) {
            var data = {
                id: this.tabService.generateId(),
                componentId: 'TaskFormComponent',
                objectId: this.serializationService.serialize(object),
                openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
            };
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'goToTask', 'event.bireTask');
        }
    };
    /*************************************************************************
     * Maintenance tab
     *************************************************************************/
    VisitFormComponent.prototype.goToMaintenanceProgram = function (event) {
        var data = {
            id: this.tabService.generateId(),
            componentId: _shared_constants_component_constants__WEBPACK_IMPORTED_MODULE_7__["ComponentConstants"].ENG_MAINTENANCE_PROGRAM_FORM,
            openMode: _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_9__["ComponentOpenMode"].Read
        };
        if (!!event.planCode) {
            var birePlanDTOId = {
                planCode: event.planCode
            };
            data.objectId = this.serializationService.serialize(birePlanDTOId);
            var labelKey = 'transaction.' + data.componentId;
            this.tabService.open(this.tabService.create(data, labelKey, true));
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'goToMaintenanceProgram', 'event.planCode');
        }
    };
    /*************************************************************************
     * Attributes tab
     *************************************************************************/
    VisitFormComponent.prototype.openAttributesTab = function () {
        this.currentTabId = this.tabAttributesId;
    };
    VisitFormComponent.prototype.getBireAttributesForVisit = function () {
        var _this = this;
        this.visitFormService.findBireAttributesByCategory(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_ALL_KEY).subscribe(function (results) {
            var _a;
            (_a = _this.bireAttributesForVisit).push.apply(_a, __spread(results));
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByCategory'));
        });
        this.visitFormService
            .findBireAttributesByCategory(_shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].MCH_ATTRIBUTE_CATEGORY_VISIT_KEY)
            .subscribe(function (results) {
            var _a;
            (_a = _this.bireAttributesForVisit).push.apply(_a, __spread(results));
            setTimeout(function () {
                _this.dynamicAttributesForVisit = _this.dynamicAttributesService.from(_this.bireAttributesForVisit);
                _this.getBireVisitAttributes();
            });
        }, function () {
            _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByCategory'));
        });
    };
    VisitFormComponent.prototype.getBireVisitAttributes = function () {
        var _this = this;
        if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion) {
            var visitId = {
                taskCode: this.visit.taskCode,
                taskVersion: this.visit.taskVersion
            };
            this.visitFormService.findBireTaskAttributeByTask(visitId).subscribe(function (results) {
                _this.bireVisitAttributes = results;
                _this.dynamicAttributesService.setValues(_this.dynamicAttributesForVisit, _this.bireVisitAttributes);
            }, function () {
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnFindAttributesByTask'));
            });
        }
    };
    /*************************************************************************
     * Associated Tasks Maintenance Dialog
     *************************************************************************/
    VisitFormComponent.prototype.addNewDecomposition = function (taskDecomposition) {
        var _this = this;
        if (taskDecomposition) {
            var decompositionInExistingTable = this.decompositionTableDataSource.dataSrc.filter(function (decomposition) { return decomposition.taskCode === taskDecomposition.taskCode; });
            if (decompositionInExistingTable.length === 0) {
                this.decompositionTableDataSource.addData([taskDecomposition]);
                this.decompositionTableDataSource.dataSrc.forEach(function (decomposition) {
                    var taskGroup = _this.taskGroups.filter(function (element) { return element.value === decomposition.taskGroup; })[0];
                    var taskType = _this.taskTypes.filter(function (element) { return element.value === decomposition.taskType; })[0];
                    var periodicityType = _this.periodicityTypes.filter(function (element) { return element.value === decomposition.periodicityType; })[0];
                    if (decomposition.taskGroup && taskGroup) {
                        decomposition.taskGroup = taskGroup.label;
                    }
                    if (decomposition.taskType && taskType) {
                        decomposition.taskType = taskType.label;
                    }
                    if (decomposition.periodicityType && periodicityType) {
                        decomposition.periodicityType = periodicityType.label;
                    }
                });
            }
            else {
                this.messageService.showErrorMessage(this.getTranslateKey('decompositionExists'));
            }
        }
    };
    VisitFormComponent.prototype.updateDecomposition = function (taskDecomposition) {
        var _this = this;
        if (taskDecomposition) {
            this.decompositionTableDataSource.replaceData(this.decompositionTableDataSource.dataSelection[0], taskDecomposition);
            this.decompositionTableDataSource.dataSelection = [];
            this.decompositionTableDataSource.dataSrc.forEach(function (decomposition) {
                var taskGroup = _this.taskGroups.filter(function (element) { return element.value === decomposition.taskGroup; })[0];
                var taskType = _this.taskTypes.filter(function (element) { return element.value === decomposition.taskType; })[0];
                var periodicityType = _this.periodicityTypes.filter(function (element) { return element.value === decomposition.periodicityType; })[0];
                if (decomposition.taskGroup && taskGroup) {
                    decomposition.taskGroup = taskGroup.label;
                }
                if (decomposition.taskType && taskType) {
                    decomposition.taskType = taskType.label;
                }
                if (decomposition.periodicityType && periodicityType) {
                    decomposition.periodicityType = periodicityType.label;
                }
            });
        }
    };
    // Currency
    VisitFormComponent.prototype.loadCurrency = function () {
        var _this = this;
        this.currency = '';
        this.visitFormService.getLocalCurrency().subscribe(function (result) {
            _this.currency = result;
        });
    };
    VisitFormComponent.prototype.openStatusUpdatesPopup = function () {
        if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion) {
            var taskId = {
                taskCode: this.visit.taskCode,
                taskVersion: this.visit.taskVersion
            };
            this.showStatusUpdatesPopup = true;
            var columns = [
                {
                    field: 'timestamp',
                    width: '200px',
                    filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input,
                    isDate: true,
                    alignment: 'center'
                },
                { field: 'statusUser', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'action', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'statusState', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskTypeCode', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskDesignation', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskDescription', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'groupCode', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'repairCenterCode', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskChapter', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskSection', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskSubject', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskTask', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskSubTask', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'taskStatus', width: '250px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                {
                    field: 'taskApplicabilityDate',
                    width: '200px',
                    filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input,
                    isDate: true,
                    alignment: 'center'
                },
                {
                    field: 'taskApplicabilityCode',
                    width: '200px',
                    filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input,
                    alignment: 'center'
                },
                { field: 'overhaul', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' },
                { field: 'inspectionPerEsm', width: '200px', filterMode: _shared_enums_table_column_filter_mode_enum__WEBPACK_IMPORTED_MODULE_10__["TableColumnFilterMode"].Input, alignment: 'center' }
            ];
            this.updatesKeyMap.set('taskTypeCode', this.propertiesService.getValue('getTaskTypeMap'));
            this.updatesKeyMap.set('taskStatus', this.propertiesService.getValue('getFuncObjectStatusMap'));
            this.updatesKeyMap.set('taskApplicabilityCode', this.propertiesService.getValue('getTaskApplicabilityCodeMap'));
            this.updatesKeyMap.set('repairCenterCode', this.visitFormService.findMROCenter());
            this.updatesKeyMap.set('groupCode', this.visitFormService.getTaskGroups());
            this.tableStatusUpdatesData = {
                componentId: 'VisitFormComponent.historicPopup',
                tableCols: columns,
                tableRows: this.updateHistoricService.findBireTaskHistoric(taskId),
                dataKey: undefined,
                selectionMode: _shared_enums_table_selection_mode_enum__WEBPACK_IMPORTED_MODULE_11__["TableSelectionMode"].Multiple,
                globalFilter: false
            };
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'openStatusUpdatesPopup', 'this.visit && this.visit.taskCode && this.visit.taskVersion');
        }
    };
    VisitFormComponent.prototype.openHistoricAttributes = function () {
        if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion && !!this.dynamicAttributesForVisit) {
            this.showDynamicAttributesHistoric = true;
            var attributeIds = this.dynamicAttributesService.toBireTaskAttributeId(this.visit.taskCode, this.visit.taskVersion, this.dynamicAttributesForVisit);
            this.dynamicAttributesHistoric = this.visitFormService.findHBireTaskAttributesByAttributeId(attributeIds);
        }
    };
    VisitFormComponent.prototype.initCostSettingDisplay = function () {
        var _this = this;
        this.propertiesService
            .getValue(_shared_constants_generic_property_constants__WEBPACK_IMPORTED_MODULE_8__["GenericPropertyConstants"].AEROWEBB_CONFIGURATION_MAP)
            .subscribe(function (awConfiguration) {
            _this.isCostSettingEnabled = _shared_utils_settings_utils__WEBPACK_IMPORTED_MODULE_22__["SettingsUtils"].isPropertyEnabled(awConfiguration, _shared_constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_6__["AWPropertiesConstants"].DISPLAY_COST);
        });
    };
    VisitFormComponent.prototype.showStatus = function () {
        var _this = this;
        var overlayRef = this._overlayService.openWithPositionCenter({
            content: _object_status_object_status_component__WEBPACK_IMPORTED_MODULE_24__["ObjectStatusComponent"],
            data: {
                currentAuthor: this.visit.statusUser,
                currentDate: this.visit.statusDate,
                currentStatus: {
                    label: this._formatSelectOption.transform(this.visit.statusState, this.statusList),
                    value: this.visit.statusState
                },
                nextStatuses: this.statusList
            }
        });
        overlayRef.afterClosed$.subscribe({
            next: function (event) {
                if (event.data) {
                    _this.visit.statusState = event.data;
                    _this.saveVisit();
                }
            }
        });
    };
    var VisitFormComponent_1;
    VisitFormComponent.MAIN_INFORMATION_ANCHOR_ID = 'mainInformationAnchor';
    VisitFormComponent.TASK_DECOMPOSITION_ANCHOR_ID = 'taskDecompositionAnchor';
    VisitFormComponent.MAINTENANCE_PROGRAMS_ANCHOR_ID = 'maintenanceProgramsAnchor';
    VisitFormComponent.ATTRIBUTES_ANCHOR_ID = 'attributesAnchor';
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(VisitFormComponent_1.MAIN_INFORMATION_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], VisitFormComponent.prototype, "mainInformationElRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(VisitFormComponent_1.TASK_DECOMPOSITION_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], VisitFormComponent.prototype, "taskDecompositionElRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(VisitFormComponent_1.MAINTENANCE_PROGRAMS_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], VisitFormComponent.prototype, "maintenanceProgramsElRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(VisitFormComponent_1.ATTRIBUTES_ANCHOR_ID),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], VisitFormComponent.prototype, "attributesElRef", void 0);
    VisitFormComponent = VisitFormComponent_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-visit-form',
            template: __webpack_require__(/*! ./visit-form.component.html */ "./src/app/main/engineering-management/visit-form/visit-form.component.html"),
            styles: [__webpack_require__(/*! ./visit-form.component.scss */ "./src/app/main/engineering-management/visit-form/visit-form.component.scss")]
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_14__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_15__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_16__["MessageService"],
            _shared_components_component_sidebar_page_toc_service__WEBPACK_IMPORTED_MODULE_3__["PageTocService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_18__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_19__["TabService"],
            _shared_components_dynamic_attributes_dynamic_attributes_service__WEBPACK_IMPORTED_MODULE_4__["DynamicAttributesService"],
            _visit_form_service__WEBPACK_IMPORTED_MODULE_27__["VisitFormService"],
            _visit_search_visit_search_service__WEBPACK_IMPORTED_MODULE_26__["VisitSearchService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_13__["ConfirmationService"],
            _shared_services_properties_service__WEBPACK_IMPORTED_MODULE_17__["PropertiesService"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_1__["TranslateService"],
            _shared_services_update_historic_service__WEBPACK_IMPORTED_MODULE_20__["UpdateHistoricService"],
            _shared_api_task_history_api__WEBPACK_IMPORTED_MODULE_2__["TaskHistoryApi"],
            _overlay_overlay_service__WEBPACK_IMPORTED_MODULE_25__["OverlayService"],
            _shared_pipes_format_select_option_pipe__WEBPACK_IMPORTED_MODULE_12__["FormatSelectOptionPipe"]])
    ], VisitFormComponent);
    return VisitFormComponent;
}(_shared_types_form_page_component__WEBPACK_IMPORTED_MODULE_21__["FormPageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/visit-form/visit-form.service.ts":
/*!******************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-form/visit-form.service.ts ***!
  \******************************************************************************/
/*! exports provided: VisitFormService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisitFormService", function() { return VisitFormService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _shared_api_task_history_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/api/task-history.api */ "./src/app/shared/api/task-history.api.ts");
/* harmony import */ var _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/api/task-management.api */ "./src/app/shared/api/task-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var VisitFormService = /** @class */ (function (_super) {
    __extends(VisitFormService, _super);
    function VisitFormService(http, appConfigService, productStructureManagementApi, taskManagementApi, taskHistoryApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        _this.taskManagementApi = taskManagementApi;
        _this.taskHistoryApi = taskHistoryApi;
        return _this;
    }
    /*************************************************************************
     * Task management api
     *************************************************************************/
    VisitFormService.prototype.getTaskGroups = function () {
        return _super.prototype.post.call(this, this.taskManagementApi.findAllBireTaskGroups);
    };
    VisitFormService.prototype.findTasksDecompositionByVisit = function (bireTaskDTO) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireTasksDecomposition, bireTaskDTO);
    };
    VisitFormService.prototype.saveVisit = function (saveBireTaskInput) {
        return _super.prototype.post.call(this, this.taskManagementApi.saveVisit, saveBireTaskInput);
    };
    VisitFormService.prototype.findBireMaintenancePlan = function (bireTaskDTO) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireMaintenanceProgramsByVisit, bireTaskDTO);
    };
    VisitFormService.prototype.findBireTasksByCriteria = function (criteria) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireTasksByCriteria, criteria);
    };
    VisitFormService.prototype.findBireTaskAttributeByTask = function (taskId) {
        // const taskId: BireTaskDTOId = {
        //   taskCode: task.taskCode,
        //   taskVersion: task.taskVersion
        // };
        return _super.prototype.post.call(this, this.taskManagementApi.findBireTaskAttributeByTask, taskId);
    };
    VisitFormService.prototype.findHBireTaskAttributesByAttributeId = function (ids) {
        return _super.prototype.post.call(this, this.taskHistoryApi.findHBireTaskAttributesByAttributeId, ids);
    };
    VisitFormService.prototype.findBireOperationsByTaskTotalCost = function (input) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireOperationsByTaskTotalCost, input);
    };
    /*************************************************************************
     * Product structure management api
     *************************************************************************/
    VisitFormService.prototype.findBireAttributesByCategory = function (category) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireAttributesByCategory, category);
    };
    VisitFormService.prototype.getLocalCurrency = function () {
        return _super.prototype.post.call(this, this.taskManagementApi.getLocalCurrency);
    };
    VisitFormService.prototype.findMROCenter = function () {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findAllBireSite);
    };
    VisitFormService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_6__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"],
            _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_4__["TaskManagementApi"],
            _shared_api_task_history_api__WEBPACK_IMPORTED_MODULE_3__["TaskHistoryApi"]])
    ], VisitFormService);
    return VisitFormService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_5__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/main/engineering-management/visit-search/visit-search.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-search/visit-search.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"page-header\">\r\n  <div class=\"page-info\">\r\n    <div>\r\n      <div class=\"page-title\">\r\n        {{ \"transaction.\" + componentData.componentId | translate }}\r\n      </div>\r\n\r\n      <div class=\"page-subtitle\">\r\n        <div class=\"page-subtitle\">- {{ \"page.searchPage\" | translate }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page-actions\">\r\n    <button type=\"button\" mat-raised-button (click)=\"openNewVisit()\" *ngIf=\"hasUpdateAccessRight\">\r\n      {{ \"global.create\" | translate }}\r\n    </button>\r\n    <button\r\n      id=\"actions\"\r\n      mat-icon-button\r\n      class=\"mat-elevation-z1\"\r\n      matTooltip=\"{{ 'global.showAllActionTooltip' | translate }}\"\r\n      matTooltipPosition=\"above\"\r\n      aria-label=\"Show all actions\"\r\n      [matMenuTriggerFor]=\"actions\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n\r\n    <mat-menu #actions=\"matMenu\">\r\n      <button id=\"favorites\" mat-menu-item (click)=\"updateFavoriteState()\">\r\n        {{ (isFavoriteEntry ? \"page.removeFromFavorites\" : \"page.addToFavorites\") | translate }}\r\n      </button>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page-wrapper\">\r\n  <div class=\"page-container search-page-container\">\r\n    <div class=\"page-content\">\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <div class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">{{ \"global.search\" | translate }}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <div class=\"column\">\r\n                <div class=\"row search-criteria-header\">\r\n                  <i\r\n                    class=\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\"\r\n                    aria-hidden=\"true\"\r\n                    pTooltip=\"{{ 'global.reset' | translate }}\"\r\n                    tooltipPosition=\"top\"\r\n                    (click)=\"resetSearchCriteria()\"\r\n                  ></i>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".visitCode\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.taskCode\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".visitVersion\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.taskVersion\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-group\">\r\n                    <label class=\"form-label\"> {{ componentData.componentId + \".taskDesignation\" | translate }} </label>\r\n\r\n                    <div class=\"form-control\">\r\n                      <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.taskDesignation\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row search-criteria-footer\">\r\n                  <div class=\"search-actions\">\r\n                    <button\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      class=\"btn-with-spinner\"\r\n                      (click)=\"search()\"\r\n                      color=\"primary\"\r\n                      appKeyPress\r\n                      [keyCode]=\"'Enter'\"\r\n                      (keyPress)=\"search()\"\r\n                    >\r\n                      <span *ngIf=\"isLoading\" class=\"lds-hourglass\"></span>\r\n                      {{ \"global.toSearch\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid-row\">\r\n        <div class=\"grid-cell--12\">\r\n          <!-- Visits table -->\r\n\r\n          <div #resultsContainerAnchor class=\"grid-cell grid-cell--container\">\r\n            <div class=\"grid-cell-header\">\r\n              <div class=\"grid-cell-title-container\">\r\n                <h3 class=\"grid-cell-title\">\r\n                  {{ \"global.results\" | translate }} ({{ visitTableDataSource ? visitTableDataSource.dataCount : 0 }})\r\n                </h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid-cell-content\">\r\n              <a-table [dataSource]=\"visitTableDataSource\">\r\n                <ng-template tableActionsDef>\r\n                  <button\r\n                    *ngIf=\"\r\n                      visitTableDataSource && visitTableDataSource.hasData && !visitTableDataSource.hasDataSelection\r\n                    \"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"exportTable()\"\r\n                  >\r\n                    {{ \"global.export\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"hasManageAccessRight && visitTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    color=\"warn\"\r\n                    (click)=\"deleteVisits()\"\r\n                  >\r\n                    {{ \"global.delete\" | translate }}\r\n                  </button>\r\n\r\n                  <button\r\n                    *ngIf=\"visitTableDataSource.hasDataSelection\"\r\n                    type=\"button\"\r\n                    mat-raised-button\r\n                    (click)=\"openSelectedVisits()\"\r\n                  >\r\n                    {{ \"global.open\" | translate }}\r\n                  </button>\r\n                </ng-template>\r\n\r\n                <ng-template columnDef=\"taskCode\" let-rowData=\"rowData\">\r\n                  <a (click)=\"openVisitLink(rowData)\">{{ rowData.taskCode }}</a>\r\n                </ng-template>\r\n\r\n                <ng-template columnDef=\"isOperator\" let-rowData=\"rowData\">\r\n                  <i\r\n                    *ngIf=\"rowData.isOperator !== null && rowData.isOperator\"\r\n                    class=\"fa fa-fw fa-check\"\r\n                    aria-hidden=\"true\"\r\n                  ></i>\r\n                </ng-template>\r\n\r\n                <ng-template columnDef=\"isOwner\" let-rowData=\"rowData\">\r\n                  <i\r\n                    *ngIf=\"rowData.isOwner !== null && rowData.isOwner\"\r\n                    class=\"fa fa-fw fa-check\"\r\n                    aria-hidden=\"true\"\r\n                  ></i>\r\n                </ng-template>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/main/engineering-management/visit-search/visit-search.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-search/visit-search.component.ts ***!
  \************************************************************************************/
/*! exports provided: VisitSearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisitSearchComponent", function() { return VisitSearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/table/table-data-source */ "./src/app/shared/components/table/table-data-source.ts");
/* harmony import */ var _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _shared_services_export_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/export.service */ "./src/app/shared/services/export.service.ts");
/* harmony import */ var _shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/favorite.service */ "./src/app/shared/services/favorite.service.ts");
/* harmony import */ var _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/services/loader.service */ "./src/app/shared/services/loader.service.ts");
/* harmony import */ var _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/services/serialization.service */ "./src/app/shared/services/serialization.service.ts");
/* harmony import */ var _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/services/tab.service */ "./src/app/shared/services/tab.service.ts");
/* harmony import */ var _shared_types_page_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/types/page-component */ "./src/app/shared/types/page-component.ts");
/* harmony import */ var _visit_search_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./visit-search.service */ "./src/app/main/engineering-management/visit-search/visit-search.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var VisitSearchComponent = /** @class */ (function (_super) {
    __extends(VisitSearchComponent, _super);
    function VisitSearchComponent(favoriteService, loaderService, messageService, serializationService, tabService, visitSearchService, exportService, confirmationService) {
        var _this = _super.call(this, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Write, favoriteService, loaderService, messageService, serializationService, tabService) || this;
        _this.visitSearchService = visitSearchService;
        _this.exportService = exportService;
        _this.confirmationService = confirmationService;
        _this.isLoading = false;
        _this.resultsTableExportName = 'visit-list';
        _this.filteredRowsNb = 0;
        _this.searchObject = {};
        _this.initVisitTableDataSource();
        return _this;
    }
    VisitSearchComponent.prototype.getComponentName = function () {
        return 'VisitSearchComponent';
    };
    VisitSearchComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.displayComponentContext('global.search', true);
    };
    VisitSearchComponent.prototype.initVisitTableDataSource = function () {
        this.visitTableDataSource = new _shared_components_table_table_data_source__WEBPACK_IMPORTED_MODULE_1__["TableDataSource"]({
            allowMultiSelect: true,
            columns: [
                {
                    field: 'taskCode',
                    translateKey: this.getTranslateKey('taskCode'),
                    width: '30%'
                },
                {
                    field: 'taskVersion',
                    translateKey: this.getTranslateKey('taskVersion'),
                    width: '15%'
                },
                {
                    field: 'taskDesignation',
                    translateKey: this.getTranslateKey('taskDesignation'),
                    width: '55%'
                }
            ],
            data: []
        });
    };
    VisitSearchComponent.prototype.deleteVisits = function () {
        var _this = this;
        var partialMessageKey = this.visitTableDataSource.dataSelectionCount > 1 ? 'confirmDeleteSelectedVisits' : 'confirmDeleteSelectedVisit';
        var visits = new Array();
        this.visitTableDataSource.dataSelection.forEach(function (visit) {
            if (!!visit && !!visit.taskCode && !!visit.taskVersion) {
                var visitId = {
                    taskCode: visit.taskCode,
                    taskVersion: visit.taskVersion
                };
                visits.push(visitId);
            }
            else {
                _super.prototype.throwUnboundLocalError.call(_this, 'deleteVisits', 'visit && visit.taskCode && visit.taskVersion');
            }
        });
        this.confirmationService.confirmDelete({
            messageKey: this.getTranslateKey(partialMessageKey),
            accept: function () {
                _this.visitSearchService.removeBireTask(visits).subscribe(function (result) {
                    _this.messageService.showSuccessMessage(_this.getTranslateKey('successOnDeleteVisit'));
                    _this.visitTableDataSource.dataSelection = [];
                    _this.search();
                }, function (error) {
                    _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnDeleteVisit'));
                });
            }
        });
    };
    VisitSearchComponent.prototype.exportTable = function () {
        var dataToExport = [];
        this.visitTableDataSource.dataSrc.forEach(function (visit) {
            var visitDataExport = {
                taskCode: visit.taskCode,
                taskVersion: visit.taskVersion,
                taskDesignation: visit.taskDesignation
            };
            dataToExport.push(visitDataExport);
        });
        this.exportService.toExcel(dataToExport, this.resultsTableExportName, this.componentData.componentId);
    };
    VisitSearchComponent.prototype.openNewVisit = function () {
        this.openVisit(undefined, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Create);
    };
    VisitSearchComponent.prototype.openVisitLink = function (visit) {
        if (!!visit) {
            if (!!visit.taskCode && visit.taskCode.trim().length > 0) {
                this.openVisit(visit, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Read);
            }
            else {
                this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingTaskCode'));
                _super.prototype.throwUnboundLocalError.call(this, 'openSelectedVisits', 'visit.taskCode');
            }
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'openSelectedVisits', 'visit');
        }
    };
    VisitSearchComponent.prototype.openSelectedVisits = function () {
        var _this = this;
        this.visitTableDataSource.dataSelection.forEach(function (visit) {
            if (!!visit) {
                if (!!visit.taskCode && visit.taskCode.trim().length > 0) {
                    _this.openVisit(visit, _shared_enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_2__["ComponentOpenMode"].Read);
                }
                else {
                    _this.messageService.showWarningMessage(_this.getTranslateKey('errorOnMissingTaskCode'));
                    _super.prototype.throwUnboundLocalError.call(_this, 'openSelectedVisits', 'visit.taskCode');
                }
            }
            else {
                _super.prototype.throwUnboundLocalError.call(_this, 'openSelectedVisits', 'visit');
            }
        });
    };
    VisitSearchComponent.prototype.resetResultsTable = function (table) {
        table.reset();
        table.filters = {};
    };
    VisitSearchComponent.prototype.resetSearchCriteria = function () {
        this.searchObject = {};
    };
    VisitSearchComponent.prototype.search = function () {
        var _this = this;
        if (!!this.searchObject) {
            this.isLoading = true;
            this.visitSearchService.findBireVisitsByCriteria(this.searchObject).subscribe(function (results) {
                if (results) {
                    _this.visitTableDataSource.dataSelection = [];
                    _this.isLoading = false;
                    _this.visitTableDataSource.setData(results.list);
                    _this.visitTableDataSource.update();
                    _this.filteredRowsNb = _this.visitTableDataSource.dataCount;
                }
            }, function () {
                _this.isLoading = false;
                _this.messageService.showErrorMessage(_this.getTranslateKey('errorOnGetResults'));
            });
        }
        else {
            _super.prototype.throwUnboundLocalError.call(this, 'search', 'this.searchObject');
        }
    };
    // tslint:disable-next-line:no-any
    VisitSearchComponent.prototype.onFilter = function (event) {
        this.filteredRowsNb = event.filteredValue.length;
    };
    VisitSearchComponent.prototype.openVisit = function (object, openMode) {
        var labelKey = 'transaction.VisitFormComponent';
        var data = {
            id: this.tabService.generateId(),
            componentId: 'VisitFormComponent',
            objectId: this.serializationService.serialize(object),
            openMode: openMode
        };
        this.tabService.open(this.tabService.create(data, labelKey, true));
    };
    VisitSearchComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-visit-search',
            template: __webpack_require__(/*! ./visit-search.component.html */ "./src/app/main/engineering-management/visit-search/visit-search.component.html")
        }),
        __metadata("design:paramtypes", [_shared_services_favorite_service__WEBPACK_IMPORTED_MODULE_5__["FavoriteService"],
            _shared_services_loader_service__WEBPACK_IMPORTED_MODULE_6__["LoaderService"],
            _shared_services_message_service__WEBPACK_IMPORTED_MODULE_7__["MessageService"],
            _shared_services_serialization_service__WEBPACK_IMPORTED_MODULE_8__["SerializationService"],
            _shared_services_tab_service__WEBPACK_IMPORTED_MODULE_9__["TabService"],
            _visit_search_service__WEBPACK_IMPORTED_MODULE_11__["VisitSearchService"],
            _shared_services_export_service__WEBPACK_IMPORTED_MODULE_4__["ExportService"],
            _shared_services_confirmation_service__WEBPACK_IMPORTED_MODULE_3__["ConfirmationService"]])
    ], VisitSearchComponent);
    return VisitSearchComponent;
}(_shared_types_page_component__WEBPACK_IMPORTED_MODULE_10__["PageComponent"]));



/***/ }),

/***/ "./src/app/main/engineering-management/visit-search/visit-search.service.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/main/engineering-management/visit-search/visit-search.service.ts ***!
  \**********************************************************************************/
/*! exports provided: VisitSearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisitSearchService", function() { return VisitSearchService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/task-management.api */ "./src/app/shared/api/task-management.api.ts");
/* harmony import */ var _shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var VisitSearchService = /** @class */ (function (_super) {
    __extends(VisitSearchService, _super);
    function VisitSearchService(http, appConfigService, taskManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.taskManagementApi = taskManagementApi;
        return _this;
    }
    VisitSearchService.prototype.findBireVisitsByCriteria = function (criteria) {
        return _super.prototype.post.call(this, this.taskManagementApi.findBireVisitsByCriteria, criteria);
    };
    VisitSearchService.prototype.removeBireTask = function (bireTaskDTOId) {
        return _super.prototype.post.call(this, this.taskManagementApi.removeBireTask, bireTaskDTOId);
    };
    VisitSearchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _shared_services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_task_management_api__WEBPACK_IMPORTED_MODULE_2__["TaskManagementApi"]])
    ], VisitSearchService);
    return VisitSearchService;
}(_shared_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.html":
/*!**************************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"70\">\r\n  <a-header>\r\n    <div class=\"modal-title\">\r\n      {{ getComponentName() + \".title\" | translate }}\r\n    </div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"column\">\r\n      <div class=\"row object-details\">\r\n        <div class=\"column\">\r\n          <div class=\"row\">\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\"> {{ getComponentName() + \".mainComment\" | translate }} </label>\r\n\r\n              <div class=\"form-control\">\r\n                <textarea class=\"aw-textarea\" [rows]=\"3\" pInputTextarea [(ngModel)]=\"mainComment\"></textarea>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group\"></div>\r\n            <div class=\"form-group\"></div>\r\n          </div>\r\n\r\n          <ng-template [ngIf]=\"showPanel\">\r\n            <div class=\"grid-row\">\r\n              <div class=\"grid-cell--12\">\r\n                <div class=\"section\">\r\n                  <h4 class=\"section-title\">\r\n                    {{ getComponentName() + \".ruleSection\" | translate }}\r\n                  </h4>\r\n\r\n                  <div class=\"section-content\">\r\n                    <div class=\"row\">\r\n                      <div class=\"form-group required\">\r\n                        <label class=\"form-label\"> {{ getComponentName() + \".type\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <p-dropdown\r\n                            class=\"aw-dropdown fixed-width\"\r\n                            [options]=\"ruleTypeList\"\r\n                            [(ngModel)]=\"ruleData.type\"\r\n                            [disabled]=\"rulesTableSelectedList.length > 0\"\r\n                            (onChange)=\"changeType()\"\r\n                          ></p-dropdown>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group required\">\r\n                        <label class=\"form-label\"> {{ getComponentName() + \".applicabilityCode\" | translate }} </label>\r\n\r\n                        <div class=\"form-control form-control-with-modal\" *ngIf=\"ruleData.type === 'EVOL'\">\r\n                          <div class=\"form-control-data\" (click)=\"showEvol()\">{{ ruleData.applicabilityCode }}</div>\r\n\r\n                          <div *ngIf=\"ruleData.applicabilityCode\" class=\"btn-clear-wrapper\">\r\n                            <i\r\n                              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"ruleData.applicabilityCode = undefined\"\r\n                            ></i>\r\n                          </div>\r\n                          <div class=\"btn-search-wrapper\">\r\n                            <i\r\n                              class=\"fa fa-fw fa-search aw-icon btn-search\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"showEvol()\"\r\n                            ></i>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-control form-control-with-modal\" *ngIf=\"ruleData.type === 'SB'\">\r\n                          <div class=\"form-control-data\" (click)=\"showSb()\">{{ ruleData.applicabilityCode }}</div>\r\n\r\n                          <div *ngIf=\"ruleData.applicabilityCode\" class=\"btn-clear-wrapper\">\r\n                            <i\r\n                              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"ruleData.applicabilityCode = undefined\"\r\n                            ></i>\r\n                          </div>\r\n                          <div class=\"btn-search-wrapper\">\r\n                            <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showSb()\"></i>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-control form-control-with-modal\" *ngIf=\"ruleData.type === 'AD'\">\r\n                          <div class=\"form-control-data\" (click)=\"showAd()\">{{ ruleData.applicabilityCode }}</div>\r\n\r\n                          <div *ngIf=\"ruleData.applicabilityCode\" class=\"btn-clear-wrapper\">\r\n                            <i\r\n                              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"ruleData.applicabilityCode = undefined\"\r\n                            ></i>\r\n                          </div>\r\n                          <div class=\"btn-search-wrapper\">\r\n                            <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showAd()\"></i>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-control form-control-with-modal\" *ngIf=\"ruleData.type === 'MOD'\">\r\n                          <div class=\"form-control-data\" (click)=\"showMod()\">{{ ruleData.applicabilityCode }}</div>\r\n\r\n                          <div *ngIf=\"ruleData.applicabilityCode\" class=\"btn-clear-wrapper\">\r\n                            <i\r\n                              class=\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\"\r\n                              aria-hidden=\"true\"\r\n                              (click)=\"ruleData.applicabilityCode = undefined\"\r\n                            ></i>\r\n                          </div>\r\n                          <div class=\"btn-search-wrapper\">\r\n                            <i class=\"fa fa-fw fa-search aw-icon btn-search\" aria-hidden=\"true\" (click)=\"showMod()\"></i>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-control\" *ngIf=\"ruleData.type === 'SN'\">\r\n                          <div class=\"aw-input-group\">\r\n                            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"ruleData.applicabilityCode\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group required\">\r\n                        <label class=\"form-label\"> {{ getComponentName() + \".periodicity\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <div class=\"aw-input-group\">\r\n                            <input\r\n                              type=\"text\"\r\n                              #periodicity=\"ngModel\"\r\n                              class=\"aw-input\"\r\n                              [(ngModel)]=\"ruleData.periodicity\"\r\n                              [pKeyFilter]=\"inputValidationService.validatorOfNumber()\"\r\n                              [pValidateOnly]=\"true\"\r\n                              maxlength=\"37\"\r\n                            />\r\n                            <p-message\r\n                              *ngIf=\"periodicity.invalid && (periodicity.dirty || periodicity.touched)\"\r\n                              severity=\"error\"\r\n                              [text]=\"inputValidationService.formatOfNumber()\"\r\n                            ></p-message>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"form-group\">\r\n                        <label class=\"form-label\"> {{ getComponentName() + \".comment\" | translate }} </label>\r\n\r\n                        <div class=\"form-control\">\r\n                          <div class=\"aw-input-group\">\r\n                            <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"ruleData.comment\" maxlength=\"37\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row actions-bar\">\r\n              <button\r\n                type=\"button\"\r\n                mat-raised-button\r\n                color=\"primary\"\r\n                (click)=\"saveCommentAndRules()\"\r\n                [disabled]=\"validateData() || (periodicity.invalid && (periodicity.dirty || periodicity.touched))\"\r\n              >\r\n                {{ \"global.validate\" | translate }}\r\n              </button>\r\n            </div>\r\n          </ng-template>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"section\">\r\n          <h4 class=\"section-title\">\r\n            {{ getComponentName() + \".ruleTableTitle\" | translate }}\r\n            ({{ rulesTable ? rulesTable.length : 0 }})\r\n          </h4>\r\n\r\n          <div class=\"section-content\">\r\n            <p-table\r\n              [resizableColumns]=\"true\"\r\n              #ptableRules\r\n              class=\"aw-table2\"\r\n              [columns]=\"rulesTableColList\"\r\n              [value]=\"rulesTable\"\r\n              [(selection)]=\"rulesTableSelectedList\"\r\n              [scrollable]=\"true\"\r\n              (onFilter)=\"onRulesFilter($event)\"\r\n              (onRowSelect)=\"onRowSelect()\"\r\n              (onRowUnselect)=\"onRowSelect()\"\r\n              (onHeaderCheckboxToggle)=\"onRowSelect()\"\r\n              dataKey=\"rowIndex\"\r\n            >\r\n              <ng-template pTemplate=\"caption\">\r\n                <div class=\"aw-table-header\" [ngClass]=\"{ 'rows-selected': rulesTableSelectedList.length > 0 }\">\r\n                  <div class=\"aw-table-global-filter\">\r\n                    <label class=\"aw-table-global-filter-label\">\r\n                      <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                    </label>\r\n\r\n                    <input\r\n                      #ptableRulesGlobalFilter\r\n                      class=\"aw-table-global-filter-input\"\r\n                      type=\"text\"\r\n                      placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                      (input)=\"ptableRules.filterGlobal($event.target.value, 'contains')\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"aw-table-actions\">\r\n                    <button\r\n                      *ngIf=\"!showPanel && rulesTableSelectedList.length > 0\"\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      color=\"warn\"\r\n                      (click)=\"deleteRules()\"\r\n                    >\r\n                      {{ \"global.delete\" | translate }}\r\n                    </button>\r\n                    <button\r\n                      *ngIf=\"rulesTableSelectedList.length === 1\"\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      [ngClass]=\"{ active: showPanel }\"\r\n                      (click)=\"toggleOpenMode()\"\r\n                    >\r\n                      {{ \"global.edit\" | translate }}\r\n                    </button>\r\n                    <button\r\n                      *ngIf=\"rulesTableSelectedList.length === 0\"\r\n                      type=\"button\"\r\n                      mat-raised-button\r\n                      [ngClass]=\"{ active: showPanel }\"\r\n                      (click)=\"toggleOpenMode()\"\r\n                    >\r\n                      {{ \"global.add\" | translate }}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"colgroup\" let-columns>\r\n                <colgroup>\r\n                  <col class=\"aw-table-checkbox-wrapper\" />\r\n                  <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n                </colgroup>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"header\" let-columns>\r\n                <tr>\r\n                  <th class=\"aw-table-checkbox-wrapper\">\r\n                    <p-tableHeaderCheckbox class=\"aw-table-checkbox\"></p-tableHeaderCheckbox>\r\n                  </th>\r\n\r\n                  <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                    {{ getComponentName() + \".\" + col.field | translate }}\r\n                  </th>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                  <td class=\"aw-table-checkbox-wrapper\">\r\n                    <p-tableCheckbox class=\"aw-table-checkbox\" [value]=\"rowData\"></p-tableCheckbox>\r\n                  </td>\r\n\r\n                  <td *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                    {{ rowData[col.field] }}\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      <span>{{ \"global.close\" | translate }}</span>\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n\r\n<aw-dialog-search-evolution\r\n  *ngIf=\"showEvolutionTableDialog\"\r\n  [(display)]=\"showEvolutionTableDialog\"\r\n  (onSelected)=\"onSelectedEvolution($event)\"\r\n>\r\n</aw-dialog-search-evolution>\r\n\r\n<aw-dialog-search-sbad\r\n  *ngIf=\"showSbadDialog\"\r\n  [(display)]=\"showSbadDialog\"\r\n  (onValidated)=\"setSelectedObject($event)\"\r\n  [revisionNumber]=\"\"\r\n  [dialogType]=\"sbadDialogType\"\r\n>\r\n</aw-dialog-search-sbad>\r\n\r\n<aw-dialog-search-modification\r\n  *ngIf=\"showModificationTableDialog\"\r\n  [(display)]=\"showModificationTableDialog\"\r\n  (onSelected)=\"setSelectedModification($event)\"\r\n>\r\n</aw-dialog-search-modification>\r\n"

/***/ }),

/***/ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.scss":
/*!**************************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.scss ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".object-details {\n  border: 1px solid #01579b;\n  border-radius: 4px;\n  padding: 8px;\n  margin-bottom: calc(8px * 5); }\n  .object-details .actions-bar {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZGlhbG9nLWdlbmVyYXRlLWNvbW1lbnQvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcc2hhcmVkXFxjb21wb25lbnRzXFxkaWFsb2ctZ2VuZXJhdGUtY29tbWVudFxcZGlhbG9nLWdlbmVyYXRlLWNvbW1lbnQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2RpYWxvZy1nZW5lcmF0ZS1jb21tZW50L0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyIsInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZGlhbG9nLWdlbmVyYXRlLWNvbW1lbnQvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXHN0eWxlc1xcX21peGlucy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0UseUJDQW9CO0VEQ3BCLGtCQ2dDaUI7RUQvQmpCLFlDc0NnQjtFRHJDaEIsNEJBQXlDLEVBQUE7RUFKM0M7SUVvQkUsYUFBYTtJQUNiLG1CQUFtQjtJRlpqQix5QkFBeUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2RpYWxvZy1nZW5lcmF0ZS1jb21tZW50L2RpYWxvZy1nZW5lcmF0ZS1jb21tZW50LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5AaW1wb3J0IFwibWl4aW5zXCI7XHJcblxyXG4ub2JqZWN0LWRldGFpbHMge1xyXG4gIGJvcmRlcjogJGJvcmRlci13aWR0aCAkYm9yZGVyLXN0eWxlICRhY2NlbnQtY29sb3I7XHJcbiAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgcGFkZGluZzogJG1hcmdpbi12YWx1ZTtcclxuICBtYXJnaW4tYm90dG9tOiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiA1KTtcclxuXHJcbiAgLmFjdGlvbnMtYmFyIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gVXRpbHMgLy9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuQG1peGluIGJ1dHRvbi1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yOiBudWxsKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgYm9yZGVyLWNvbG9yOiAkY29sb3I7XHJcbiAgY29sb3I6ICRjb2xvcjtcclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlcixcclxuICAmOm5vdCg6ZGlzYWJsZWQpLmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7XHJcbiAgICBib3JkZXItY29sb3I6IGlmKCRib3JkZXItY29sb3IgPT0gbnVsbCwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yKTtcclxuICAgIGNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LWNvbHVtbigpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LXJvdygpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dCgpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG4gIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICBjb2xvcjogaW5oZXJpdDtcclxuICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHBhZGRpbmc6IDJweCAwIDRweCAwO1xyXG5cclxuICB0cmFuc2l0aW9uOiBib3JkZXItYm90dG9tLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtZGlzYWJsZWQoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ7XHJcbiAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuQG1peGluIGlucHV0LWZvY3VzKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtaG92ZXIoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbn1cclxuXHJcbkBtaXhpbiBwbGFjZWhvbGRlciB7XHJcbiAgJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzZWFyY2gtY3JpdGVyaWEtY29udGFpbmVyIHtcclxuICAuYWR2YW5jZWQtY3JpdGVyaWEge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1jcml0ZXJpYS1mb290ZXIge1xyXG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xyXG4gICAgbWFyZ2luLXRvcDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcblxyXG4gICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXIge1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLW1vcmUge1xyXG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1tb3JlIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAvIDIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnNlYXJjaC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAgIC5hdy1idG4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc2VjdGlvbi1jb250YWluZXIge1xyXG4gIG1hcmdpbi10b3A6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDQpO1xyXG5cclxuICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLXRpdGxlIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICBsaW5lLWhlaWdodDogMS43NXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuXHJcbiAgICAmLnJlcXVpcmVkIHtcclxuICAgICAgQGluY2x1ZGUgZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQoKTtcclxuICAgICAgJjo6YWZ0ZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmFsZXJ0IHtcclxuICAgICAgICBjb2xvcjogJHJlZC1kYXJrMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgbGluZS1oZWlnaHQ6IDEuNzVyZW07XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcblxyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tY29udGVudCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LWNvbHVtbigpO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gICAgJiA+IGJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHRleHQtb3ZlcmZsb3ctaGlkZGVuIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gR3JpZCBmb3JtIGNvbnRyb2xzIC8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tY29udHJvbCB7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYk1lZGl1bVwiO1xyXG5cclxuICAmID4gaW5wdXQgKyBwLW1lc3NhZ2UgPiAudWktbWVzc2FnZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAmOmZvY3VzLFxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgICYgPiAuZm9ybS1jb250cm9sLWFjdGlvbnMge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBsZWZ0LCByZ2IoMjU1LCAyNTUsIDI1NSkgNjAlLCB0cmFuc3BhcmVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmZvcm0tY29udHJvbC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIGJvdHRvbTogMDtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMDtcclxuICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgLmF3LWljb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3M7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWJ0bixcclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcblxyXG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAmLmRpc2FibGVkIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYnRuIHtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuXHJcbiAgICAgICYuYXctY2FsZW5kYXIgLnVpLWlucHV0dGV4dCxcclxuICAgICAgJi5hdy1kcm9wZG93biAudWktZHJvcGRvd24sXHJcbiAgICAgICYuYXctaW5wdXQsXHJcbiAgICAgICYuYXctdGV4dGFyZWEge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWNhbGVuZGFyIHtcclxuICAgICAgLy8gRklYTUU6IGZpeCBhbiBVSSBpc3N1ZSBvbiBQcmltZU5HIGNhbGVuZGFyIGNvbXBvbmVudDsgdG8gcmVtb3ZlIHdoZW4gaXNzdWUgd2lsbCBiZSBmaXhlZCB1cHN0cmVhbVxyXG4gICAgICBvdmVyZmxvdzogaW5pdGlhbDtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWljb24ge1xyXG4gICAgICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1heC1oZWlnaHQ6IDMwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAzMHB4O1xyXG5cclxuICAgICYuZGlzYWJsZWQge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG5cclxuICAgICAgLmF3LWljb246bm90KC5yZWFkLW9ubHktbGluaykge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyAvLyBub25lXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1jb250cm9sLWRhdGEge1xyXG4gICAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICAgICAgcGFkZGluZzogMnB4IDAgNHB4IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1uaW1wLFxyXG4gICAgLmJ0bi1leHRlcm5hbC1saW5rLXdyYXBwZXIsXHJcbiAgICAuYnRuLWNsZWFyLXdyYXBwZXIsXHJcbiAgICAuYnRuLWZpbGUtdXBsb2FkLXdyYXBwZXIsXHJcbiAgICAuYnRuLXNlYXJjaC13cmFwcGVyIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1maWxlLXVwbG9hZC13cmFwcGVyIHtcclxuICAgICAgLmF3LWZpbGV1cGxvYWQge1xyXG4gICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG5cclxuICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnVpLWJ1dHRvbiB7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC51aS1idXR0b24taWNvbi1sZWZ0IHtcclxuICAgICAgICAgICAgZGlzcGxheTogY29udGVudHM7XHJcbiAgICAgICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogaW5pdGlhbDtcclxuICAgICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAgICY6OmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgY29udGVudDogXCJcXGU5MzRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1jbGVhciB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1zZWFyY2gge1xyXG4gICAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLXJhZGlvYnV0dG9uIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgJiA+IC5hdy1yYWRpb2J1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogY2FsYygyICogI3skbWFyZ2luLXZhbHVlfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtZ2VuZXJpYyB7XHJcbiAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcblxyXG4gICYgPiBhIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmID4gLmFsZXJ0IHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNXJlbTtcclxuXHJcbiAgICAmLmFsZXJ0LS1ub2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MTtcclxuICAgIH1cclxuXHJcbiAgICAmLmFsZXJ0LS1vayB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0td2FybmluZyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQge1xyXG4gICY6OmFmdGVyIHtcclxuICAgIGNvbG9yOiAkcmVkLWRhcmsxO1xyXG4gICAgY29udGVudDogXCIqXCI7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtNHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtY2FsZW5kYXIge1xyXG4gICYudWktaW5wdXR3cmFwcGVyLWZvY3VzIHtcclxuICAgIC51aS1jYWxlbmRhciAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC51aS1jYWxlbmRhciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgJjpkaXNhYmxlZCB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1sYWJlbCB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1jaGVja2JveCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGhlaWdodDogJGNoZWNrYm94LWhlaWdodDtcclxuICB3aWR0aDogJGNoZWNrYm94LWhlaWdodDtcclxuXHJcbiAgLnVpLWNoa2JveCB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktY2hrYm94LWJveCB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgIGNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgICYudWktc3RhdGUtZGlzYWJsZWQge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWFjdGl2ZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWRyb3Bkb3duIHtcclxuICAudWktZHJvcGRvd24ge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi1sYWJlbCB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtZm9jdXMge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWNsZWFyLWljb24sXHJcbiAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1jbGVhci1pY29uIHtcclxuICAgICAgcmlnaHQ6IDEuNzVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tbGFiZWwge1xyXG4gICAgICBAaW5jbHVkZSB0ZXh0LW92ZXJmbG93LWhpZGRlbigpO1xyXG5cclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIgKiAxLjc1cmVtKTtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZml4ZWQtd2lkdGggLnVpLWRyb3Bkb3duIHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1maWxldXBsb2FkIHtcclxuICBAZXh0ZW5kIC5hdy1idG47XHJcblxyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC51aS1maWxldXBsb2FkLWNob29zZSB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgIHBhZGRpbmc6IDAgJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAudWktYnV0dG9uLWljb24tbGVmdCB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWJ1dHRvbi10ZXh0IHtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1pbnB1dCgpIHtcclxuICBAaW5jbHVkZSBpbnB1dCgpO1xyXG5cclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgJjpkaXNhYmxlZCB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1kaXNhYmxlZCgpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpmb2N1cyB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtdGV4dGFyZWEge1xyXG4gIEBpbmNsdWRlIGdyaWQtaW5wdXQoKTtcclxuXHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWluLWhlaWdodDogJGZvcm0tY29udHJvbC1oZWlnaHQ7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxufVxyXG5cclxuQG1peGluIGdyaWQtcmFkaW9idXR0b24ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBoZWlnaHQ6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcbiAgd2lkdGg6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcblxyXG4gIC51aS1yYWRpb2J1dHRvbiB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktcmFkaW9idXR0b24tYm94IHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICBjb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1hY3RpdmUge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuXHJcbiAgICAgICAgLnVpLXJhZGlvYnV0dG9uLWljb24ge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBjYWxlbmRhci1wYW5lbCB7XHJcbiAgLnVpLWRhdGVwaWNrZXI6bm90KC51aS1kYXRlcGlja2VyLWlubGluZSkge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICAgIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZHJvcGRvd24tcGFuZWwge1xyXG4gIC51aS1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICBib3JkZXI6ICRib3JkZXItd2lkdGggJGJvcmRlci1zdHlsZSAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWl0ZW1zLXdyYXBwZXIgLnVpLWRyb3Bkb3duLWxpc3Qge1xyXG4gICAgICAudWktZHJvcGRvd24taXRlbSB7XHJcbiAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBwYWRkaW5nOiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYudWktc3RhdGUtaGlnaGxpZ2h0IHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.ts ***!
  \************************************************************************************************/
/*! exports provided: DialogGenerateCommentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogGenerateCommentComponent", function() { return DialogGenerateCommentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _services_confirmation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/confirmation.service */ "./src/app/shared/services/confirmation.service.ts");
/* harmony import */ var _services_input_validation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/input-validation.service */ "./src/app/shared/services/input-validation.service.ts");
/* harmony import */ var _services_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/session.service */ "./src/app/shared/services/session.service.ts");
/* harmony import */ var _types_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _dialog_generate_comment_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dialog-generate-comment.service */ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var DialogGenerateCommentComponent = /** @class */ (function (_super) {
    __extends(DialogGenerateCommentComponent, _super);
    function DialogGenerateCommentComponent(dialogGenerateCommentService, sessionService, inputValidationService, confirmationService) {
        var _this = _super.call(this, _enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Read, 'DialogGenerateCommentComponent') || this;
        _this.dialogGenerateCommentService = dialogGenerateCommentService;
        _this.sessionService = sessionService;
        _this.inputValidationService = inputValidationService;
        _this.confirmationService = confirmationService;
        _this.onValidate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.init();
        _this.initRulesTableColList();
        _this.loadRuleTypeDropDown();
        return _this;
    }
    DialogGenerateCommentComponent.prototype.ngOnInit = function () {
        if (this.componentData && this.componentData.componentId && !!this.componentData.object) {
            this.comments = this.componentData.object;
            this.load();
        }
    };
    DialogGenerateCommentComponent.prototype.loadRuleTypeDropDown = function () {
        var _this = this;
        this.dialogGenerateCommentService.getTypeSelectedDropDown().subscribe(function (results) {
            _this.ruleTypeList = results;
        });
    };
    DialogGenerateCommentComponent.prototype.initRulesTableColList = function () {
        this.rulesTableColList = [
            { field: 'type', alignment: 'left', width: '25%' },
            { field: 'applicabilityCode', alignment: 'left', width: '25%' },
            { field: 'periodicity', alignment: 'left', width: '25%' },
            { field: 'comment', alignment: 'left', width: '25%' }
        ];
    };
    DialogGenerateCommentComponent.prototype.load = function () {
        var _this = this;
        this.rulesTable = [];
        if (this.comments) {
            try {
                var inputList_1 = JSON.parse(this.comments);
                var rowIndex_1 = 0;
                inputList_1.forEach(function (element, index) {
                    if (index === 0) {
                        _this.mainComment = inputList_1[index].comment || '';
                    }
                    else {
                        if (element.rule && element.rule.applicabilitiesCode.length > 1) {
                            element.rule.applicabilitiesCode.forEach(function (obj) {
                                if (element.rule) {
                                    element.rule.applicabilitiesCode = [obj];
                                }
                                _this.rulesTable.push(_this.createRulesRow(__assign({}, element), rowIndex_1));
                                rowIndex_1++;
                            });
                        }
                        else {
                            _this.rulesTable.push(_this.createRulesRow(__assign({}, element), rowIndex_1));
                            rowIndex_1++;
                        }
                    }
                });
            }
            catch (e) {
                this.mainComment = this.comments;
            }
        }
    };
    DialogGenerateCommentComponent.prototype.saveCommentAndRules = function () {
        if (this.ruleData.type && this.ruleData.applicabilityCode && this.ruleData.periodicity) {
            if (this.rulesTableSelectedList.length === 1) {
                var index = this.rulesTableSelectedList[0].rowIndex || 0;
                var commentData = {
                    comment: this.ruleData.comment,
                    rule: {
                        type: this.ruleData.type,
                        applicabilitiesCode: [this.ruleData.applicabilityCode],
                        periodicity: this.ruleData.periodicity
                    }
                };
                this.rulesTable[index] = __assign({}, this.createRulesRow(commentData, index));
            }
            else {
                var commentData = {
                    comment: this.ruleData.comment,
                    rule: {
                        type: this.ruleData.type,
                        applicabilitiesCode: [this.ruleData.applicabilityCode],
                        periodicity: this.ruleData.periodicity
                    }
                };
                this.rulesTable.push(this.createRulesRow(__assign({}, commentData), this.rulesTable.length));
            }
            this.showPanel = false;
            this.rulesTableSelectedList = [];
        }
    };
    DialogGenerateCommentComponent.prototype.createRulesRow = function (element, index) {
        var row = {
            rowIndex: index,
            comment: element.comment,
            periodicity: element.rule && element.rule.periodicity,
            applicabilityCode: element.rule && element.rule.applicabilitiesCode && element.rule.applicabilitiesCode[0],
            type: element.rule && element.rule.type,
            _obj: element
        };
        return row;
    };
    DialogGenerateCommentComponent.prototype.init = function () {
        this.ruleData = {
            type: 'EVOL'
        };
        this.rulesTable = [];
        this.rulesTableSelectedList = [];
        this.showPanel = false;
    };
    DialogGenerateCommentComponent.prototype.toggleOpenMode = function () {
        this.showPanel = !this.showPanel;
        if (this.rulesTableSelectedList.length === 1) {
            this.ruleData = __assign({}, this.rulesTableSelectedList[0]);
        }
        else {
            this.ruleData = { type: 'EVOL' };
        }
    };
    DialogGenerateCommentComponent.prototype.deleteRules = function () {
        var _this = this;
        this.confirmationService.confirmDelete({
            messageKey: 'global.confirmSelectedDataDelete',
            accept: function () {
                _this.rulesTableSelectedList.forEach(function (selectedObj) {
                    var index = selectedObj.rowIndex || 0;
                    _this.rulesTable.splice(index, 1);
                });
                _this.rulesTableSelectedList = [];
            }
        });
    };
    // tslint:disable-next-line:no-any
    DialogGenerateCommentComponent.prototype.onRulesFilter = function (event) {
        this.rulesDisplayedRowNb = event.filteredValue.length;
    };
    DialogGenerateCommentComponent.prototype.closeDialog = function () {
        var comment = [];
        // add main comment
        var mainComment = {
            comment: this.mainComment || ''
        };
        comment.push(mainComment);
        // add rule data
        var mapData = new Map();
        this.rulesTable.forEach(function (row) {
            if (row.type && row.periodicity && row.applicabilityCode && row._obj) {
                var id = row.type + row.periodicity + (row.comment || '');
                if (!mapData.get(id)) {
                    mapData.set(id, row._obj);
                }
                else {
                    var data = mapData.get(id);
                    if (data && data.rule) {
                        var applicability = data.rule.applicabilitiesCode || [];
                        applicability.push(row.applicabilityCode);
                        data.rule.applicabilitiesCode = applicability;
                        mapData.set(id, data);
                    }
                }
            }
        });
        mapData.forEach(function (value) {
            comment.push(value);
        });
        this.onValidate.emit(JSON.stringify(comment));
        _super.prototype.closeDialog.call(this);
    };
    DialogGenerateCommentComponent.prototype.validateData = function () {
        return !this.ruleData.type || !this.ruleData.applicabilityCode || !this.ruleData.periodicity;
    };
    DialogGenerateCommentComponent.prototype.onRowSelect = function () {
        this.showPanel = false;
    };
    DialogGenerateCommentComponent.prototype.showEvol = function () {
        this.showEvolutionTableDialog = true;
    };
    DialogGenerateCommentComponent.prototype.showSb = function () {
        this.showSbadDialog = true;
        this.sbadDialogType = 'SB';
    };
    DialogGenerateCommentComponent.prototype.showAd = function () {
        this.showSbadDialog = true;
        this.sbadDialogType = 'AD';
    };
    DialogGenerateCommentComponent.prototype.showMod = function () {
        this.showModificationTableDialog = true;
    };
    DialogGenerateCommentComponent.prototype.onSelectedEvolution = function (customerEvolution) {
        if (!!customerEvolution) {
            this.ruleData.applicabilityCode = customerEvolution.evolutionNumber + ":" + customerEvolution.evolutionRevisionNumber;
        }
        this.showEvolutionTableDialog = false;
    };
    DialogGenerateCommentComponent.prototype.setSelectedObject = function (selectedObject) {
        if (selectedObject) {
            this.ruleData.applicabilityCode = selectedObject.sbNumber + ":" + selectedObject.sbRevisionNumber;
        }
        this.showSbadDialog = false;
    };
    DialogGenerateCommentComponent.prototype.setSelectedModification = function (selectedObject) {
        if (selectedObject) {
            this.ruleData.applicabilityCode = selectedObject.modificationNumber + ":" + selectedObject.modificationRevisionNumber;
        }
        this.showModificationTableDialog = false;
    };
    DialogGenerateCommentComponent.prototype.changeType = function () {
        this.ruleData.applicabilityCode = undefined;
        this.ruleData.comment = undefined;
        this.ruleData.periodicity = undefined;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DialogGenerateCommentComponent.prototype, "componentData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogGenerateCommentComponent.prototype, "onValidate", void 0);
    DialogGenerateCommentComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-dialog-generate-comment',
            template: __webpack_require__(/*! ./dialog-generate-comment.component.html */ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.html"),
            styles: [__webpack_require__(/*! ./dialog-generate-comment.component.scss */ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.scss")]
        }),
        __metadata("design:paramtypes", [_dialog_generate_comment_service__WEBPACK_IMPORTED_MODULE_6__["DialogGenerateCommentService"],
            _services_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _services_input_validation_service__WEBPACK_IMPORTED_MODULE_3__["InputValidationService"],
            _services_confirmation_service__WEBPACK_IMPORTED_MODULE_2__["ConfirmationService"]])
    ], DialogGenerateCommentComponent);
    return DialogGenerateCommentComponent;
}(_types_dialog_component__WEBPACK_IMPORTED_MODULE_5__["DialogComponent"]));



/***/ }),

/***/ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.module.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.module.ts ***!
  \*********************************************************************************************/
/*! exports provided: DialogGenerateCommentModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogGenerateCommentModule", function() { return DialogGenerateCommentModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var primeng_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primeng/dialog */ "./node_modules/primeng/dialog.js");
/* harmony import */ var primeng_dialog__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(primeng_dialog__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/dropdown */ "./node_modules/primeng/dropdown.js");
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(primeng_dropdown__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var primeng_keyfilter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/keyfilter */ "./node_modules/primeng/keyfilter.js");
/* harmony import */ var primeng_keyfilter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primeng_keyfilter__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var primeng_message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primeng/message */ "./node_modules/primeng/message.js");
/* harmony import */ var primeng_message__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(primeng_message__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primeng/table */ "./node_modules/primeng/table.js");
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(primeng_table__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _angular_common_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../angular-common-shared.module */ "./src/app/shared/angular-common-shared.module.ts");
/* harmony import */ var _angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../angular-generic-templates-shared-module */ "./src/app/shared/angular-generic-templates-shared-module.ts");
/* harmony import */ var _app_common_shared_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../app-common-shared.module */ "./src/app/shared/app-common-shared.module.ts");
/* harmony import */ var _dialog_search_evolution_dialog_search_evolution_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dialog-search-evolution/dialog-search-evolution.module */ "./src/app/shared/components/dialog-search-evolution/dialog-search-evolution.module.ts");
/* harmony import */ var _dialog_search_modification_dialog_search_modification_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dialog-search-modification/dialog-search-modification.module */ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.module.ts");
/* harmony import */ var _dialog_search_sbad_dialog_search_sbad_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../dialog-search-sbad/dialog-search-sbad.module */ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.module.ts");
/* harmony import */ var _modal_modal_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../modal/modal.module */ "./src/app/shared/components/modal/modal.module.ts");
/* harmony import */ var _dialog_generate_comment_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dialog-generate-comment.component */ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.ts");
/* harmony import */ var _dialog_generate_comment_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dialog-generate-comment.service */ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};















/******************************************************************************
 * Modules
 *************************************************************************** */
var EXTERNAL_MODULES = [
    primeng_dialog__WEBPACK_IMPORTED_MODULE_1__["DialogModule"],
    primeng_dropdown__WEBPACK_IMPORTED_MODULE_2__["DropdownModule"],
    primeng_table__WEBPACK_IMPORTED_MODULE_5__["TableModule"],
    primeng_keyfilter__WEBPACK_IMPORTED_MODULE_3__["KeyFilterModule"],
    primeng_message__WEBPACK_IMPORTED_MODULE_4__["MessageModule"],
    _dialog_search_evolution_dialog_search_evolution_module__WEBPACK_IMPORTED_MODULE_9__["DialogSearchEvolutionModule"],
    _dialog_search_sbad_dialog_search_sbad_module__WEBPACK_IMPORTED_MODULE_11__["DialogSearchSbAdModule"],
    _dialog_search_modification_dialog_search_modification_module__WEBPACK_IMPORTED_MODULE_10__["DialogSearchModificationModule"]
];
var INTERNAL_MODULES = [_modal_modal_module__WEBPACK_IMPORTED_MODULE_12__["ModalModule"]];
/******************************************************************************
 * Components
 *************************************************************************** */
var COMPONENTS = [_dialog_generate_comment_component__WEBPACK_IMPORTED_MODULE_13__["DialogGenerateCommentComponent"]];
/******************************************************************************
 * Services
 *************************************************************************** */
var SERVICES = [_dialog_generate_comment_service__WEBPACK_IMPORTED_MODULE_14__["DialogGenerateCommentService"]];
var DialogGenerateCommentModule = /** @class */ (function () {
    function DialogGenerateCommentModule() {
    }
    DialogGenerateCommentModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: __spread(COMPONENTS),
            exports: __spread(COMPONENTS),
            imports: __spread([
                _angular_common_shared_module__WEBPACK_IMPORTED_MODULE_6__["AngularCommonSharedModule"],
                _angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_7__["AngularGenericTemplatesSharedModule"],
                _app_common_shared_module__WEBPACK_IMPORTED_MODULE_8__["AppCommonSharedModule"]
            ], EXTERNAL_MODULES, INTERNAL_MODULES),
            providers: __spread(SERVICES)
        })
    ], DialogGenerateCommentModule);
    return DialogGenerateCommentModule;
}());



/***/ }),

/***/ "./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.service.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.service.ts ***!
  \**********************************************************************************************/
/*! exports provided: DialogGenerateCommentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogGenerateCommentService", function() { return DialogGenerateCommentService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_fleet_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/fleet-management.api */ "./src/app/shared/api/fleet-management.api.ts");
/* harmony import */ var _http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DialogGenerateCommentService = /** @class */ (function (_super) {
    __extends(DialogGenerateCommentService, _super);
    function DialogGenerateCommentService(http, appConfigService, fleetManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.fleetManagementApi = fleetManagementApi;
        return _this;
    }
    DialogGenerateCommentService.prototype.getTypeSelectedDropDown = function () {
        return _super.prototype.post.call(this, this.fleetManagementApi.getTypeSelectedDropDown);
    };
    DialogGenerateCommentService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _shared_api_fleet_management_api__WEBPACK_IMPORTED_MODULE_2__["FleetManagementApi"]])
    ], DialogGenerateCommentService);
    return DialogGenerateCommentService;
}(_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.html":
/*!********************************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.html ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"70\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"search-dialog-container\">\r\n      <div class=\"section search-criteria-section\">\r\n        <h4 class=\"section-title\">{{ \"global.search\" | translate }}</h4>\r\n\r\n        <div class=\"section-content\">\r\n          <div class=\"column\">\r\n            <div class=\"row\">\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".familyCode\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-dropdown\r\n                    class=\"aw-dropdown fixed-width\"\r\n                    [options]=\"familyCodeList\"\r\n                    [(ngModel)]=\"selectedFamily\"\r\n                    placeholder=\"&nbsp;\"\r\n                    [showClear]=\"true\"\r\n                    (onChange)=\"onChange($event.value)\"\r\n                  ></p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">\r\n                  {{ getComponentName() + \".modificationType\" | translate }}\r\n                </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationType\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">\r\n                  {{ getComponentName() + \".modificationNumber\" | translate }}\r\n                </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationNumber\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">\r\n                  {{ getComponentName() + \".modificationRevisionNumber\" | translate }}\r\n                </label>\r\n                <div class=\"form-control\">\r\n                  <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationRevisionNumber\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\">\r\n                  {{ getComponentName() + \".modificationTitle\" | translate }}\r\n                </label>\r\n                <div class=\"form-control\">\r\n                  <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.modificationTitle\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row search-criteria-footer\">\r\n              <div class=\"search-actions\">\r\n                <button type=\"button\" color=\"primary\" mat-raised-button (click)=\"search()\">\r\n                  <span>{{ \"global.toSearch\" | translate }}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n        <h4 class=\"section-title\">\r\n          {{ \"global.results\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\r\n        </h4>\r\n\r\n        <div class=\"section-content\">\r\n          <p-table\r\n            [resizableColumns]=\"true\"\r\n            #ptableResults\r\n            class=\"aw-table2\"\r\n            [columns]=\"resultsTableCols\"\r\n            [value]=\"resultsTable.list\"\r\n            [(selection)]=\"selectedModification\"\r\n            selectionMode=\"single\"\r\n            [scrollable]=\"true\"\r\n          >\r\n            <ng-template pTemplate=\"emptymessage\">\r\n              <span *ngIf=\"!isLoading\"> &nbsp;</span>\r\n\r\n              <div *ngIf=\"isLoading\" class=\"aw-table-loading-indicator\">\r\n                <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                <div class=\"lds-hourglass\"></div>\r\n              </div>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"caption\">\r\n              <div class=\"aw-table-header\">\r\n                <div class=\"aw-table-global-filter\">\r\n                  <label class=\"aw-table-global-filter-label\">\r\n                    <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                  </label>\r\n\r\n                  <input\r\n                    #ptableResultsGlobalFilter\r\n                    class=\"aw-table-global-filter-input\"\r\n                    type=\"text\"\r\n                    placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                    (input)=\"ptableResults.filterGlobal($event.target.value, 'contains')\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"colgroup\" let-columns>\r\n              <colgroup>\r\n                <col *ngFor=\"let col of columns\" [ngStyle]=\"{ width: col.width }\" />\r\n              </colgroup>\r\n            </ng-template>\r\n\r\n            <ng-template pTemplate=\"header\" let-columns>\r\n              <tr>\r\n                <th pResizableColumn *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment }\">\r\n                  {{ getComponentName() + \".\" + col.field | translate }}\r\n                </th>\r\n              </tr>\r\n            </ng-template>\r\n\r\n            <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n              <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                <td *ngFor=\"let col of columns\" [ngSwitch]=\"col.field\">\r\n                  <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n          </p-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      {{ \"global.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"validate()\" [disabled]=\"!selectedModification\">\r\n      {{ \"global.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.ts":
/*!******************************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: DialogSearchModificationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchModificationComponent", function() { return DialogSearchModificationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _types_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _dialog_search_modification_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dialog-search-modification.service */ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DialogSearchModificationComponent = /** @class */ (function (_super) {
    __extends(DialogSearchModificationComponent, _super);
    function DialogSearchModificationComponent(dialogSearchModificationService) {
        var _this = _super.call(this, _enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_1__["ComponentOpenMode"].Write, 'DialogSearchModificationComponent') || this;
        _this.dialogSearchModificationService = dialogSearchModificationService;
        _this.onSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.filteredRowsNb = 0;
        _this.resultsTable = { list: [], moreResults: false };
        _this.searchObject = {};
        _this.searchObject = { familyCode: undefined };
        _this.isLoading = false;
        _this.resultsTableCols = [
            { field: 'familyCode', alignment: 'left', width: '15%' },
            { field: 'structureType', alignment: 'left', width: '10%' },
            { field: 'modificationType', alignment: 'left', width: '15%' },
            { field: 'modificationNumber', alignment: 'left', width: '15%' },
            { field: 'modificationRevisionNumber', alignment: 'left', width: '13%' },
            { field: 'modificationDocumentUrl', alignment: 'left', width: '18%' },
            { field: 'modificationTitle', alignment: 'left', width: '15%' }
        ];
        return _this;
    }
    DialogSearchModificationComponent.prototype.ngOnInit = function () {
        this.searchObject = this.searchObject || {};
        this.loadDropDownList();
    };
    DialogSearchModificationComponent.prototype.cancel = function () {
        _super.prototype.closeDialog.call(this);
    };
    DialogSearchModificationComponent.prototype.loadDropDownList = function () {
        var _this = this;
        this.dialogSearchModificationService.findBireFamily().subscribe(function (results) {
            _this.selectedFamily = undefined;
            _this.familyCodeList = results;
        });
    };
    DialogSearchModificationComponent.prototype.onChange = function (event) {
        if (!!event) {
            var familys = event.split('-');
            this.searchObject.familyCode = familys[0];
            this.searchObject.structureType = familys[1];
        }
        else {
            this.searchObject.familyCode = undefined;
            this.searchObject.structureType = undefined;
        }
    };
    DialogSearchModificationComponent.prototype.search = function () {
        this.loadModifications();
        this.selectedModification = undefined;
    };
    DialogSearchModificationComponent.prototype.loadModifications = function () {
        var _this = this;
        this.isLoading = true;
        this.dialogSearchModificationService.searchModificationList(this.searchObject).subscribe(function (results) {
            _this.isLoading = false;
            if (results) {
                _this.resultsTable = results;
                _this.filteredRowsNb = _this.resultsTable.list.length;
            }
        }, function () {
            _this.isLoading = false;
        });
    };
    // tslint:disable-next-line:no-any
    DialogSearchModificationComponent.prototype.onFilter = function (event) {
        this.filteredRowsNb = event.filteredValue.length;
    };
    DialogSearchModificationComponent.prototype.validate = function () {
        this.onSelected.emit(this.selectedModification);
        _super.prototype.closeDialog.call(this);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], DialogSearchModificationComponent.prototype, "onSelected", void 0);
    DialogSearchModificationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-dialog-search-modification',
            template: __webpack_require__(/*! ./dialog-search-modification.component.html */ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.html")
        }),
        __metadata("design:paramtypes", [_dialog_search_modification_service__WEBPACK_IMPORTED_MODULE_3__["DialogSearchModificationService"]])
    ], DialogSearchModificationComponent);
    return DialogSearchModificationComponent;
}(_types_dialog_component__WEBPACK_IMPORTED_MODULE_2__["DialogComponent"]));



/***/ }),

/***/ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.module.ts":
/*!***************************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-modification/dialog-search-modification.module.ts ***!
  \***************************************************************************************************/
/*! exports provided: DialogSearchModificationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchModificationModule", function() { return DialogSearchModificationModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primeng/dropdown */ "./node_modules/primeng/dropdown.js");
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(primeng_dropdown__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/table */ "./node_modules/primeng/table.js");
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(primeng_table__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_common_shared_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../angular-common-shared.module */ "./src/app/shared/angular-common-shared.module.ts");
/* harmony import */ var _angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../angular-generic-templates-shared-module */ "./src/app/shared/angular-generic-templates-shared-module.ts");
/* harmony import */ var _app_common_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../app-common-shared.module */ "./src/app/shared/app-common-shared.module.ts");
/* harmony import */ var _modal_modal_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../modal/modal.module */ "./src/app/shared/components/modal/modal.module.ts");
/* harmony import */ var _dialog_search_modification_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dialog-search-modification.component */ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.ts");
/* harmony import */ var _dialog_search_modification_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dialog-search-modification.service */ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};









/******************************************************************************
 * Modules
 *************************************************************************** */
var EXTERNAL_MODULES = [primeng_dropdown__WEBPACK_IMPORTED_MODULE_1__["DropdownModule"], primeng_table__WEBPACK_IMPORTED_MODULE_2__["TableModule"]];
var INTERNAL_MODULES = [_modal_modal_module__WEBPACK_IMPORTED_MODULE_6__["ModalModule"]];
/******************************************************************************
 * Components
 *************************************************************************** */
var COMPONENTS = [_dialog_search_modification_component__WEBPACK_IMPORTED_MODULE_7__["DialogSearchModificationComponent"]];
/******************************************************************************
 * Services
 *************************************************************************** */
var SERVICES = [_dialog_search_modification_service__WEBPACK_IMPORTED_MODULE_8__["DialogSearchModificationService"]];
var DialogSearchModificationModule = /** @class */ (function () {
    function DialogSearchModificationModule() {
    }
    DialogSearchModificationModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: __spread(COMPONENTS),
            exports: __spread(COMPONENTS),
            imports: __spread([
                _angular_common_shared_module__WEBPACK_IMPORTED_MODULE_3__["AngularCommonSharedModule"],
                _angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_4__["AngularGenericTemplatesSharedModule"],
                _app_common_shared_module__WEBPACK_IMPORTED_MODULE_5__["AppCommonSharedModule"]
            ], EXTERNAL_MODULES, INTERNAL_MODULES),
            providers: __spread(SERVICES)
        })
    ], DialogSearchModificationModule);
    return DialogSearchModificationModule;
}());



/***/ }),

/***/ "./src/app/shared/components/dialog-search-modification/dialog-search-modification.service.ts":
/*!****************************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-modification/dialog-search-modification.service.ts ***!
  \****************************************************************************************************/
/*! exports provided: DialogSearchModificationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchModificationService", function() { return DialogSearchModificationService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _services_app_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var DialogSearchModificationService = /** @class */ (function (_super) {
    __extends(DialogSearchModificationService, _super);
    function DialogSearchModificationService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    DialogSearchModificationService.prototype.findBireFamily = function () {
        var familyVariantInput = {
            useCase: _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireFamily, familyVariantInput);
    };
    DialogSearchModificationService.prototype.searchModificationList = function (bireModificationDTO) {
        var findBireModificationsByModificationPKAndDesignationInput = {};
        findBireModificationsByModificationPKAndDesignationInput = {
            bireModificationDTO: bireModificationDTO,
            useCase: _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireModificationsByModificationPKAndDesignation, findBireModificationsByModificationPKAndDesignationInput);
    };
    DialogSearchModificationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _services_app_config_service__WEBPACK_IMPORTED_MODULE_5__["AppConfigService"],
            _shared_api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], DialogSearchModificationService);
    return DialogSearchModificationService;
}(_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_4__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<a-modal class=\"aw-modal\" [(visible)]=\"display\" [width]=\"90\">\r\n  <a-header>\r\n    <div class=\"modal-title\">{{ getComponentName() + \".title\" | translate }}</div>\r\n  </a-header>\r\n\r\n  <a-content>\r\n    <div class=\"search-dialog-container\">\r\n      <div class=\"section\">\r\n        <h4 class=\"section-title\">{{ \"global.search\" | translate }}</h4>\r\n\r\n        <div class=\"section-content\">\r\n          <div class=\"column\">\r\n            <div class=\"row\">\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".familyVariant\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-dropdown\r\n                    class=\"aw-dropdown fixed-width\"\r\n                    [options]=\"propertyVariant\"\r\n                    [(ngModel)]=\"familyVariant\"\r\n                    [showClear]=\"true\"\r\n                    placeholder=\"&nbsp;\"\r\n                  ></p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".sbNumber\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"searchObject.sbNumber\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".statusState\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-dropdown\r\n                    class=\"aw-dropdown fixed-width\"\r\n                    [options]=\"propertyStatus\"\r\n                    [(ngModel)]=\"searchObject.statusState\"\r\n                    [showClear]=\"true\"\r\n                    placeholder=\"&nbsp;\"\r\n                  ></p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group\" *ngIf=\"dialogType !== 'AD'\">\r\n                <label class=\"form-label\"> {{ getComponentName() + \".sbType\" | translate }} </label>\r\n\r\n                <div class=\"form-control\">\r\n                  <p-dropdown\r\n                    class=\"aw-dropdown fixed-width\"\r\n                    [options]=\"propertyType\"\r\n                    [(ngModel)]=\"searchObject.sbType\"\r\n                    [showClear]=\"true\"\r\n                    placeholder=\"&nbsp;\"\r\n                  ></p-dropdown>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row search-criteria-footer\">\r\n              <div class=\"search-actions\" style=\"padding-right: 10px;\">\r\n                <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"search()\">\r\n                  {{ \"global.toSearch\" | translate }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"grid-row\">\r\n          <div class=\"grid-cell--12\">\r\n            <div class=\"grid-cell grid-cell--container\">\r\n              <div class=\"grid-cell-header\">\r\n                <div class=\"grid-cell-title-container\">\r\n                  <h3 class=\"grid-cell-title\">\r\n                    {{ \"global.results\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"grid-cell-content\">\r\n                <p-table\r\n                  [resizableColumns]=\"true\"\r\n                  #ptable\r\n                  class=\"aw-table2\"\r\n                  [columns]=\"tableColList\"\r\n                  [value]=\"resultsTable.list\"\r\n                  [(selection)]=\"selectedRow\"\r\n                  selectionMode=\"single\"\r\n                  [scrollable]=\"true\"\r\n                  dataKey=\"dataKey\"\r\n                >\r\n                  <ng-template pTemplate=\"emptymessage\">\r\n                    <span *ngIf=\"!isLoading\"> &nbsp;</span>\r\n\r\n                    <div *ngIf=\"isLoading\" class=\"aw-table-loading-indicator\">\r\n                      <div class=\"loading-message\">{{ \"table.loadingData\" | translate }}</div>\r\n                      <div class=\"lds-hourglass\"></div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"caption\">\r\n                    <div class=\"aw-table-header\">\r\n                      <div class=\"aw-table-global-filter\">\r\n                        <label class=\"aw-table-global-filter-label\">\r\n                          <i class=\"fa fa-fw fa-search\" aria-hidden=\"true\"></i>\r\n                        </label>\r\n\r\n                        <input\r\n                          #ptableGlobalFilter\r\n                          class=\"aw-table-global-filter-input\"\r\n                          type=\"text\"\r\n                          placeholder=\"{{ 'table.globalFilterText' | translate }}\"\r\n                          (input)=\"ptable.filterGlobal($event.target.value, 'contains')\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"colgroup\" let-columns>\r\n                    <colgroup>\r\n                      <col *ngFor=\"let col of columns\" [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\" />\r\n                      <col />\r\n                    </colgroup>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"header\" let-columns>\r\n                    <tr>\r\n                      <th\r\n                        pResizableColumn\r\n                        *ngFor=\"let col of columns\"\r\n                        [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                      >\r\n                        {{ getComponentName() + \".\" + col.field | translate }}\r\n                      </th>\r\n                      <th [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\"></th>\r\n                    </tr>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\" let-rowIndex=\"rowIndex\">\r\n                    <tr [pSelectableRow]=\"rowData\" [pSelectableRowIndex]=\"rowIndex\">\r\n                      <td\r\n                        *ngFor=\"let col of columns\"\r\n                        [ngSwitch]=\"col.field\"\r\n                        [ngStyle]=\"{ 'text-align': col.alignment, width: col.width }\"\r\n                      >\r\n                        <span\r\n                          *ngSwitchCase=\"'sbTitle'\"\r\n                          pTooltip=\"{{\r\n                            !!rowData['sbTitle'] && rowData['sbTitle'].length > 35 ? rowData['sbTitle'] : ''\r\n                          }}\"\r\n                        >\r\n                          {{ rowData[col.field] }}</span\r\n                        >\r\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\r\n                      </td>\r\n\r\n                      <td\r\n                        class=\"row-expand-wrapper\"\r\n                        [pRowToggler]=\"rowData\"\r\n                        [ngStyle]=\"{ width: '5%', 'text-align': 'left' }\"\r\n                      >\r\n                        <i\r\n                          class=\"fa fa-fw aw-icon aw-icon-with-border\"\r\n                          [ngClass]=\"rowData.expand ? 'fa-minus' : 'fa-plus'\"\r\n                          aria-hidden=\"true\"\r\n                          pTooltip=\"{{ 'global.showTableRowDetails' | translate }}\"\r\n                          tooltipPosition=\"top\"\r\n                          (click)=\"toggleRowDetailsVisibility(rowData)\"\r\n                        ></i>\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n\r\n                  <ng-template pTemplate=\"rowexpansion\" let-rowData let-columns=\"columns\">\r\n                    <tr class=\"row-expanded\">\r\n                      <td [attr.colspan]=\"columns.length + 2\">\r\n                        <div class=\"column forced-backgroung\">\r\n                          <div class=\"row\">\r\n                            <div class=\"form-group\">\r\n                              <label class=\"form-label\">\r\n                                {{ getComponentName() + \".\" + \"sbDocumentUrl\" | translate }}\r\n                              </label>\r\n                              <div class=\"form-control\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  class=\"aw-input\"\r\n                                  [(ngModel)]=\"rowData.sbDocumentUrl\"\r\n                                  [disabled]=\"true\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                              <label class=\"form-label\">\r\n                                {{ getComponentName() + \".\" + \"sbClass\" | translate }}\r\n                              </label>\r\n                              <div class=\"form-control\">\r\n                                <input type=\"text\" class=\"aw-input\" [(ngModel)]=\"rowData.sbClass\" [disabled]=\"true\" />\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                </p-table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-content>\r\n\r\n  <a-footer>\r\n    <button type=\"button\" mat-raised-button (click)=\"cancel()\">\r\n      {{ \"dialog.cancel\" | translate }}\r\n    </button>\r\n\r\n    <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"validate()\" [disabled]=\"!selectedRow\">\r\n      {{ \"dialog.validate\" | translate }}\r\n    </button>\r\n  </a-footer>\r\n</a-modal>\r\n"

/***/ }),

/***/ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .grid-cell--12 ::ng-deep .grid-cell--container {\n  box-shadow: none !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZGlhbG9nLXNlYXJjaC1zYmFkL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXHNoYXJlZFxcY29tcG9uZW50c1xcZGlhbG9nLXNlYXJjaC1zYmFkXFxkaWFsb2ctc2VhcmNoLXNiYWQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHTSwyQkFBMkIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2RpYWxvZy1zZWFyY2gtc2JhZC9kaWFsb2ctc2VhcmNoLXNiYWQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgLmdyaWQtY2VsbC0tMTIge1xyXG4gICAgOjpuZy1kZWVwIC5ncmlkLWNlbGwtLWNvbnRhaW5lciB7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.ts ***!
  \**************************************************************************************/
/*! exports provided: DialogSearchSbAdComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchSbAdComponent", function() { return DialogSearchSbAdComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../constants/aw-properties-constants */ "./src/app/shared/constants/aw-properties-constants.ts");
/* harmony import */ var _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../constants/bido-function-type-constants */ "./src/app/shared/constants/bido-function-type-constants.ts");
/* harmony import */ var _enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../enums/component-open-mode.enum */ "./src/app/shared/enums/component-open-mode.enum.ts");
/* harmony import */ var _services_date_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/date.service */ "./src/app/shared/services/date.service.ts");
/* harmony import */ var _services_message_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/message.service */ "./src/app/shared/services/message.service.ts");
/* harmony import */ var _services_properties_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/properties.service */ "./src/app/shared/services/properties.service.ts");
/* harmony import */ var _types_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../types/dialog-component */ "./src/app/shared/types/dialog-component.ts");
/* harmony import */ var _utils_label_value_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/label-value-utils */ "./src/app/shared/utils/label-value-utils.ts");
/* harmony import */ var _dialog_search_sbad_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dialog-search-sbad.service */ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};











var DialogSearchSbAdComponent = /** @class */ (function (_super) {
    __extends(DialogSearchSbAdComponent, _super);
    function DialogSearchSbAdComponent(messageService, propertiesService, dialogSearchSbAdService, dateService) {
        var _this = _super.call(this, _enums_component_open_mode_enum__WEBPACK_IMPORTED_MODULE_4__["ComponentOpenMode"].Write, 'DialogSearchSbAdComponent') || this;
        _this.messageService = messageService;
        _this.propertiesService = propertiesService;
        _this.dialogSearchSbAdService = dialogSearchSbAdService;
        _this.dateService = dateService;
        _this.onValidated = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        _this.propertyVariant = [];
        _this.propertyStatus = [];
        _this.propertyCompliance = [];
        _this.familyVariantDTOList = [];
        _this.resetControls();
        _this.setTableColList();
        return _this;
    }
    DialogSearchSbAdComponent.prototype.resetControls = function () {
        this.selectedRow = undefined;
        this.searchObject = {};
        this.resultsTable = { list: [], moreResults: false };
        this.familyVariant = undefined;
    };
    DialogSearchSbAdComponent.prototype.ngOnInit = function () {
        this.loadDropDownList();
        if (!!this.revisionNumber) {
            this.searchObject.sbNumber = this.revisionNumber;
        }
        if (this.dialogType === 'AD') {
            this.searchObject.sbType = _constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].SB_TYPE_AD_KEY;
        }
    };
    DialogSearchSbAdComponent.prototype.search = function () {
        var _this = this;
        this.isLoading = true;
        var familyCode;
        var structureType;
        var variantCode;
        if (this.familyVariantDTOList) {
            var familyVariantObject = this.familyVariantDTOList.find(function (family) { return !!family.labelValueDTO && family.labelValueDTO.label === _this.familyVariant; });
            if (familyVariantObject) {
                familyCode = familyVariantObject.familyCode || undefined;
                structureType = familyVariantObject.structureType || undefined;
                variantCode = familyVariantObject.variantCode || undefined;
            }
            else {
                familyCode = undefined;
                structureType = undefined;
                variantCode = undefined;
            }
        }
        else {
            familyCode = undefined;
            structureType = undefined;
            variantCode = undefined;
        }
        var findBireSbsBySbCriteriaInput = {
            bireSbDTO: this.searchObject,
            familyCode: familyCode,
            structureType: structureType,
            variantCode: variantCode
        };
        this.dialogSearchSbAdService.findBireSbsBySbCriteria(findBireSbsBySbCriteriaInput).subscribe(function (results) {
            if (results) {
                _this.resultsTable.moreResults = results.moreResults;
                _this.resultsTable.list = results.list.map(function (obj) {
                    var row = {
                        _obj: obj,
                        sbNumber: obj.sbNumber || '',
                        sbRevisionNumber: obj.sbRevisionNumber || '',
                        statusState: obj.statusState,
                        sbType: obj.sbType,
                        sbCompliance: obj.sbCompliance,
                        sbClass: obj.sbClass,
                        sbPublicationDate: _this.dateService.dateToString(obj.sbPublicationDate),
                        sbEffectiveDate: _this.dateService.dateToString(obj.sbEffectiveDate),
                        sbDocumentUrl: obj.sbDocumentUrl,
                        sbTitle: obj.sbTitle,
                        expand: false,
                        dataKey: obj.sbNumber + " " + obj.sbRevisionNumber
                    };
                    return row;
                });
                _this.resultsTable.list.forEach(function (element) {
                    _utils_label_value_utils__WEBPACK_IMPORTED_MODULE_9__["LabelValueUtils"].stringValueToLabel(element, 'statusState', _this.propertyStatus);
                    _utils_label_value_utils__WEBPACK_IMPORTED_MODULE_9__["LabelValueUtils"].stringValueToLabel(element, 'sbCompliance', _this.propertyCompliance);
                    _utils_label_value_utils__WEBPACK_IMPORTED_MODULE_9__["LabelValueUtils"].stringValueToLabel(element, 'sbType', _this.propertyType);
                });
            }
            _this.isLoading = false;
        });
    };
    DialogSearchSbAdComponent.prototype.toggleRowDetailsVisibility = function (row) {
        row.expand = !row.expand;
    };
    DialogSearchSbAdComponent.prototype.cancel = function () {
        _super.prototype.closeDialog.call(this);
    };
    DialogSearchSbAdComponent.prototype.validate = function () {
        if (!this.selectedRow) {
            this.messageService.showWarningMessage(this.getTranslateKey('warningOnNoSelection'));
        }
        else {
            this.onValidated.emit(this.selectedRow._obj);
            _super.prototype.closeDialog.call(this);
        }
    };
    DialogSearchSbAdComponent.prototype.loadDropDownList = function () {
        var _this = this;
        var familyVariantInput = {
            useCase: _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].UC_MCH_BOM,
            module: _constants_bido_function_type_constants__WEBPACK_IMPORTED_MODULE_3__["BidoFunctionTypeConstants"].MODULE_FAMILY
        };
        var familyVariantlist$ = this.dialogSearchSbAdService.getFamilyVariants(familyVariantInput);
        var statusList$ = this.propertiesService.getObjectStatusList(true, false, false, '3-loa', false); // this.propertiesService.getValue('getFuncObjectStatusMap'); //
        var typeList$ = this.propertiesService.getValue('getSbTypeMap');
        var compilanceList$ = this.propertiesService.getValue('getComplianceMap');
        Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])({
            familyVariant: familyVariantlist$,
            statusList: statusList$,
            typeList: typeList$,
            compilanceList: compilanceList$
        }).subscribe(function (_a) {
            var familyVariant = _a.familyVariant, statusList = _a.statusList, typeList = _a.typeList, compilanceList = _a.compilanceList;
            if (familyVariant) {
                var list_1 = [];
                familyVariant.forEach(function (element) {
                    if (!!element.labelValueDTO) {
                        list_1.push(element.labelValueDTO);
                    }
                    else {
                        _super.prototype.throwUnboundLocalError.call(_this, 'loadFamilyVariants', 'element.labelValueDTO');
                    }
                });
                _this.propertyVariant = list_1;
                _this.familyVariantDTOList = familyVariant;
            }
            if (statusList) {
                statusList.forEach(function (element) {
                    if (_this.propertyStatus.filter(function (status) { return status.value === element.value; }).length === 0) {
                        _this.propertyStatus.push(element);
                    }
                });
                _this.propertyStatus = __spread(_this.propertyStatus);
            }
            if (typeList) {
                if (_this.dialogType === 'SB') {
                    _this.propertyType = typeList.filter(function (obj) {
                        return obj.value !== _constants_aw_properties_constants__WEBPACK_IMPORTED_MODULE_2__["AWPropertiesConstants"].SB_TYPE_AD_KEY;
                    });
                }
                else {
                    _this.propertyType = typeList;
                }
            }
            if (compilanceList) {
                _this.propertyCompliance = compilanceList;
            }
        });
    };
    DialogSearchSbAdComponent.prototype.setTableColList = function () {
        this.tableColList = [
            { field: 'sbNumber', alignment: 'left', width: '12%' },
            { field: 'sbRevisionNumber', alignment: 'left', width: '10%' },
            { field: 'sbTitle', alignment: 'left', width: '28%' },
            { field: 'statusState', alignment: 'left', width: '10%' },
            { field: 'sbType', alignment: 'left', width: '10%' },
            { field: 'sbCompliance', alignment: 'left', width: '10%' },
            { field: 'sbPublicationDate', alignment: 'left', width: '10%' },
            { field: 'sbEffectiveDate', alignment: 'left', width: '10%' }
        ];
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DialogSearchSbAdComponent.prototype, "revisionNumber", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], DialogSearchSbAdComponent.prototype, "dialogType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DialogSearchSbAdComponent.prototype, "onValidated", void 0);
    DialogSearchSbAdComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'aw-dialog-search-sbad',
            template: __webpack_require__(/*! ./dialog-search-sbad.component.html */ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.html"),
            styles: [__webpack_require__(/*! ./dialog-search-sbad.component.scss */ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.scss")]
        }),
        __metadata("design:paramtypes", [_services_message_service__WEBPACK_IMPORTED_MODULE_6__["MessageService"],
            _services_properties_service__WEBPACK_IMPORTED_MODULE_7__["PropertiesService"],
            _dialog_search_sbad_service__WEBPACK_IMPORTED_MODULE_10__["DialogSearchSbAdService"],
            _services_date_service__WEBPACK_IMPORTED_MODULE_5__["DateService"]])
    ], DialogSearchSbAdComponent);
    return DialogSearchSbAdComponent;
}(_types_dialog_component__WEBPACK_IMPORTED_MODULE_8__["DialogComponent"]));



/***/ }),

/***/ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.module.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.module.ts ***!
  \***********************************************************************************/
/*! exports provided: DialogSearchSbAdModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchSbAdModule", function() { return DialogSearchSbAdModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primeng/dropdown */ "./node_modules/primeng/dropdown.js");
/* harmony import */ var primeng_dropdown__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(primeng_dropdown__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primeng/table */ "./node_modules/primeng/table.js");
/* harmony import */ var primeng_table__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(primeng_table__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/tooltip */ "./node_modules/primeng/tooltip.js");
/* harmony import */ var primeng_tooltip__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primeng_tooltip__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _main_engineering_management_sbad_form_popups_dialog_search_maintenance_program_dialog_search_maintenance_program_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module */ "./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module.ts");
/* harmony import */ var _angular_common_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../angular-common-shared.module */ "./src/app/shared/angular-common-shared.module.ts");
/* harmony import */ var _angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../angular-generic-templates-shared-module */ "./src/app/shared/angular-generic-templates-shared-module.ts");
/* harmony import */ var _app_common_shared_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../app-common-shared.module */ "./src/app/shared/app-common-shared.module.ts");
/* harmony import */ var _modal_modal_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../modal/modal.module */ "./src/app/shared/components/modal/modal.module.ts");
/* harmony import */ var _dialog_search_sbad_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dialog-search-sbad.component */ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.ts");
/* harmony import */ var _dialog_search_sbad_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dialog-search-sbad.service */ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};











/******************************************************************************
 * Modules
 *************************************************************************** */
var EXTERNAL_MODULES = [primeng_dropdown__WEBPACK_IMPORTED_MODULE_1__["DropdownModule"], primeng_table__WEBPACK_IMPORTED_MODULE_2__["TableModule"], primeng_tooltip__WEBPACK_IMPORTED_MODULE_3__["TooltipModule"]];
var INTERNAL_MODULES = [_modal_modal_module__WEBPACK_IMPORTED_MODULE_8__["ModalModule"]];
/******************************************************************************
 * Components
 *************************************************************************** */
var COMPONENTS = [_dialog_search_sbad_component__WEBPACK_IMPORTED_MODULE_9__["DialogSearchSbAdComponent"]];
/******************************************************************************
 * Services
 *************************************************************************** */
var SERVICES = [_dialog_search_sbad_service__WEBPACK_IMPORTED_MODULE_10__["DialogSearchSbAdService"]];
var DialogSearchSbAdModule = /** @class */ (function () {
    function DialogSearchSbAdModule() {
    }
    DialogSearchSbAdModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: __spread(COMPONENTS),
            exports: __spread(COMPONENTS),
            imports: __spread([
                _angular_common_shared_module__WEBPACK_IMPORTED_MODULE_5__["AngularCommonSharedModule"],
                _angular_generic_templates_shared_module__WEBPACK_IMPORTED_MODULE_6__["AngularGenericTemplatesSharedModule"],
                _app_common_shared_module__WEBPACK_IMPORTED_MODULE_7__["AppCommonSharedModule"],
                _main_engineering_management_sbad_form_popups_dialog_search_maintenance_program_dialog_search_maintenance_program_module__WEBPACK_IMPORTED_MODULE_4__["DialogSearchMaintenanceProgramModule"]
            ], EXTERNAL_MODULES, INTERNAL_MODULES),
            providers: __spread(SERVICES)
        })
    ], DialogSearchSbAdModule);
    return DialogSearchSbAdModule;
}());



/***/ }),

/***/ "./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.service.ts":
/*!************************************************************************************!*\
  !*** ./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.service.ts ***!
  \************************************************************************************/
/*! exports provided: DialogSearchSbAdService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSearchSbAdService", function() { return DialogSearchSbAdService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/product-structure-management.api */ "./src/app/shared/api/product-structure-management.api.ts");
/* harmony import */ var _http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../http/abstract-aw-http */ "./src/app/shared/http/abstract-aw-http.ts");
/* harmony import */ var _services_app_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/app-config.service */ "./src/app/shared/services/app-config.service.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DialogSearchSbAdService = /** @class */ (function (_super) {
    __extends(DialogSearchSbAdService, _super);
    function DialogSearchSbAdService(http, appConfigService, productStructureManagementApi) {
        var _this = _super.call(this, http, appConfigService) || this;
        _this.productStructureManagementApi = productStructureManagementApi;
        return _this;
    }
    DialogSearchSbAdService.prototype.findBireSbsBySbCriteria = function (criteria) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findBireSbsBySbCriteria, criteria);
    };
    DialogSearchSbAdService.prototype.getFamilyVariants = function (familyVariantInput) {
        return _super.prototype.post.call(this, this.productStructureManagementApi.findFamilyVariant, familyVariantInput);
    };
    DialogSearchSbAdService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
            _services_app_config_service__WEBPACK_IMPORTED_MODULE_4__["AppConfigService"],
            _api_product_structure_management_api__WEBPACK_IMPORTED_MODULE_2__["ProductStructureManagementApi"]])
    ], DialogSearchSbAdService);
    return DialogSearchSbAdService;
}(_http_abstract_aw_http__WEBPACK_IMPORTED_MODULE_3__["AbstractAwHttpService"]));



/***/ }),

/***/ "./src/app/shared/constants/bire-attribute-constants.ts":
/*!**************************************************************!*\
  !*** ./src/app/shared/constants/bire-attribute-constants.ts ***!
  \**************************************************************/
/*! exports provided: BireAttributeConstants */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BireAttributeConstants", function() { return BireAttributeConstants; });
var BireAttributeConstants = /** @class */ (function () {
    function BireAttributeConstants() {
    }
    /**************************************************************************
     * Standard Attributes
     *************************************************************************/
    BireAttributeConstants.ITEM_DOCUMENT_URL = '2';
    BireAttributeConstants.MAINTENANCE_PLAN_RMP_PLAN_CODE = '18';
    return BireAttributeConstants;
}());



/***/ }),

/***/ "./src/app/shared/constants/bire-maintenance-plan-constants.ts":
/*!*********************************************************************!*\
  !*** ./src/app/shared/constants/bire-maintenance-plan-constants.ts ***!
  \*********************************************************************/
/*! exports provided: BireMaintenancePlanConstants */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BireMaintenancePlanConstants", function() { return BireMaintenancePlanConstants; });
var BireMaintenancePlanConstants = /** @class */ (function () {
    function BireMaintenancePlanConstants() {
    }
    BireMaintenancePlanConstants.PLAN_TYPE_RMP = 'RMP';
    BireMaintenancePlanConstants.PLAN_TYPE_AMP = 'AMP';
    return BireMaintenancePlanConstants;
}());



/***/ }),

/***/ "./src/app/shared/constants/bire-measure-reference-constants.ts":
/*!**********************************************************************!*\
  !*** ./src/app/shared/constants/bire-measure-reference-constants.ts ***!
  \**********************************************************************/
/*! exports provided: BireMeasureReferenceConstants */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BireMeasureReferenceConstants", function() { return BireMeasureReferenceConstants; });
var BireMeasureReferenceConstants = /** @class */ (function () {
    function BireMeasureReferenceConstants() {
    }
    // Calendar Limit
    BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_CALENDAR_LIMIT = 'CAL';
    // References for Maintenance Program
    BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_PRE_FLIGHT = 'BF';
    BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_POST_FLIGHT = 'AF';
    BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_DAILY = 'DAILY';
    BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_TSN = 'TSN';
    return BireMeasureReferenceConstants;
}());



/***/ }),

/***/ "./src/app/shared/utils/array-utils.ts":
/*!*********************************************!*\
  !*** ./src/app/shared/utils/array-utils.ts ***!
  \*********************************************/
/*! exports provided: ArrayUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArrayUtils", function() { return ArrayUtils; });
var ArrayUtils = /** @class */ (function () {
    function ArrayUtils() {
    }
    ArrayUtils.compareValues = function (key, order) {
        if (order === void 0) { order = 'asc'; }
        return function (a, b) {
            if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {
                // property doesn't exist on either object
                return 0;
            }
            var varA = (typeof a[key] === 'string') ? a[key].toUpperCase() : a[key];
            var varB = (typeof b[key] === 'string') ? b[key].toUpperCase() : b[key];
            var comparison = 0;
            if (varA > varB) {
                comparison = 1;
            }
            else if (varA < varB) {
                comparison = -1;
            }
            return ((order === 'desc') ? (comparison * -1) : comparison);
        };
    };
    return ArrayUtils;
}());



/***/ }),

/***/ "./src/app/shared/utils/settings-utils.ts":
/*!************************************************!*\
  !*** ./src/app/shared/utils/settings-utils.ts ***!
  \************************************************/
/*! exports provided: SettingsUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsUtils", function() { return SettingsUtils; });
/* harmony import */ var _string_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./string-utils */ "./src/app/shared/utils/string-utils.ts");

var SettingsUtils = /** @class */ (function () {
    function SettingsUtils() {
    }
    SettingsUtils.isPropertyEnabled = function (settings, propertyInput) {
        var selectedProperty = settings.find(function (property) { return property.value === propertyInput; });
        return (!!selectedProperty &&
            !_string_utils__WEBPACK_IMPORTED_MODULE_0__["StringUtils"].isNullOrEmpty(selectedProperty.label) &&
            (selectedProperty.label.trim().toUpperCase() === 'X' ||
                selectedProperty.label === '1' ||
                selectedProperty.label.trim().toUpperCase() === 'TRUE'));
    };
    return SettingsUtils;
}());



/***/ }),

/***/ "./src/app/shared/utils/tab-object-id-utils.ts":
/*!*****************************************************!*\
  !*** ./src/app/shared/utils/tab-object-id-utils.ts ***!
  \*****************************************************/
/*! exports provided: TabObjectIdUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TabObjectIdUtils", function() { return TabObjectIdUtils; });
var TabObjectIdUtils = /** @class */ (function () {
    function TabObjectIdUtils() {
    }
    TabObjectIdUtils.bireOperationDTOIdToString = function (operationId) {
        return (operationId.opeCode +
            TabObjectIdUtils.DEFAULT_SEPARATOR +
            operationId.opeVersion +
            TabObjectIdUtils.DEFAULT_SEPARATOR +
            operationId.rangeCode);
    };
    TabObjectIdUtils.bireFamilyDTOIdToString = function (bireFamilyiD) {
        return bireFamilyiD.familyCode + TabObjectIdUtils.DEFAULT_SEPARATOR + bireFamilyiD.structureType;
    };
    TabObjectIdUtils.stringToBireFamilyDTOId = function (objectId) {
        var temp = objectId.split(this.DEFAULT_SEPARATOR);
        var bireFamilyId = { familyCode: temp[0], structureType: temp[1] };
        return bireFamilyId;
    };
    TabObjectIdUtils.bireSbDTOIdToString = function (bireSbId) {
        return bireSbId.sbNumber + TabObjectIdUtils.DEFAULT_SEPARATOR + bireSbId.sbRevisionNumber;
    };
    TabObjectIdUtils.stringToBireSbDTOId = function (objectId) {
        var temp = objectId.split(this.DEFAULT_SEPARATOR);
        var bireEvolutionId = { evolutionRevisionNumber: temp[1], evolutionNumber: temp[0] };
        return bireEvolutionId;
    };
    TabObjectIdUtils.bireEvolutionDTOIdToString = function (bireEvolutionId) {
        var evoNum = "" + bireEvolutionId.evolutionNumber;
        var evoRevNum = "" + bireEvolutionId.evolutionRevisionNumber;
        return evoNum.concat(TabObjectIdUtils.DEFAULT_SEPARATOR, evoRevNum);
    };
    TabObjectIdUtils.stringToBireEvolutionDTOId = function (objectId) {
        var temp = objectId.split(this.DEFAULT_SEPARATOR);
        var bireEvolutionId = { evolutionRevisionNumber: temp[1], evolutionNumber: temp[0] };
        return bireEvolutionId;
    };
    TabObjectIdUtils.DEFAULT_SEPARATOR = '|';
    TabObjectIdUtils.CONTEXT_SEPARATOR = '-';
    return TabObjectIdUtils;
}());



/***/ })

}]);
//# sourceMappingURL=engineering-management-engineering-management-module.js.map