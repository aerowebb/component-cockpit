{"version":3,"sources":["webpack:///./node_modules/primeng/fileupload.js","webpack:///./node_modules/primeng/inputtextarea.js","webpack:///./node_modules/primeng/keyfilter.js","webpack:///./node_modules/primeng/message.js","webpack:///./node_modules/primeng/overlaypanel.js","webpack:///./node_modules/primeng/progressbar.js","webpack:///./node_modules/primeng/radiobutton.js","webpack:///./node_modules/primeng/selectbutton.js","webpack:///./node_modules/primeng/splitbutton.js","webpack:///./src/app/main/logistics/material-request-transfer-order-management/form/material-request-transfer-order-management-form.component.html","webpack:///./src/app/main/logistics/material-request-transfer-order-management/form/material-request-transfer-order-management-form.component.ts","webpack:///./src/app/main/logistics/material-request-transfer-order-management/form/material-request-transfer-order-management-form.service.ts","webpack:///./src/app/main/logistics/material-request-transfer-order-management/form/popups/dialog-satisfaction-rate-transfe-order/dialog-satisfaction-rate-transfer-order.component.html","webpack:///./src/app/main/logistics/material-request-transfer-order-management/form/popups/dialog-satisfaction-rate-transfe-order/dialog-satisfaction-rate-transfer-order.component.scss","webpack:///./src/app/main/logistics/material-request-transfer-order-management/form/popups/dialog-satisfaction-rate-transfe-order/dialog-satisfaction-rate-transfer-order.component.ts","webpack:///./src/app/main/logistics/material-request-transfer-order-management/material-request-transfer-order-management.module.ts","webpack:///./src/app/main/logistics/material-request-transfer-order-management/shared/style.scss","webpack:///./src/app/shared/constants/bidt-stock-mvt-constants.ts","webpack:///./src/app/shared/constants/bidt-stock-mvt-type-constants.ts","webpack:///./src/app/shared/services/file.service.ts","webpack:///./src/app/shared/utils/image-utils.ts"],"names":[],"mappings":"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","file":"logistics-material-request-transfer-order-management-material-request-transfer-order-management-module.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/fileupload/fileupload\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/inputtextarea/inputtextarea\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/keyfilter/keyfilter\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/message/message\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/overlaypanel/overlaypanel\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/progressbar/progressbar\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/radiobutton/radiobutton\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/selectbutton/selectbutton\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/splitbutton/splitbutton\"));","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">{{ \\\"transaction.\\\" + componentData.componentId | translate }}</h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"subtitle\\\" class=\\\"page-subtitle\\\">- {{ subtitle }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"Show all actions\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item (click)=\\\"reload()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--8\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"page.mainData\\\" | translate }}\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <!-- ROW 1 -->\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".number\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control custom-anchor\\\">\\r\\n                      {{ transferOrder.torCode }}\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".type\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control custom-anchor\\\">\\r\\n                      {{ toNumber(transferOrder.torType) | formatSelectOption: torTypeList | extractTranslation }}\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".criticity\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        <span\\r\\n                          *ngIf=\\\"transferOrder.criticality === aWPropertiesConstants.LOGISTICAL_CRITICALITY_ROUTINE\\\"\\r\\n                          class=\\\"ok\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".routine\\\" | translate }}\\r\\n                        </span>\\r\\n\\r\\n                        <span\\r\\n                          *ngIf=\\\"transferOrder.criticality === aWPropertiesConstants.LOGISTICAL_CRITICALITY_IMMEDIATE\\\"\\r\\n                          class=\\\"nok\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".immediate\\\" | translate }}\\r\\n                        </span>\\r\\n\\r\\n                        <span\\r\\n                          *ngIf=\\\"transferOrder.criticality === aWPropertiesConstants.LOGISTICAL_CRITICALITY_URGENT\\\"\\r\\n                          class=\\\"warning\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".urgent\\\" | translate }}\\r\\n                        </span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <!-- ROW 2 -->\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".applicant\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">{{ applicant }} ({{ applicantLogin }})</div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".created\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      {{ transferOrder.statusDate | date: \\\"yyyy/MM/dd HH:mm\\\" }}\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"flex--4\\\"></div>\\r\\n                </div>\\r\\n\\r\\n                <!-- ROW 3 -->\\r\\n                <div style=\\\"display: flex; margin-top: 32px;\\\">\\r\\n                  <div class=\\\"section\\\" style=\\\"flex-grow: 1; margin-top: 0;\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ getComponentName() + \\\".shipper\\\" | translate }}\\r\\n                    </h4>\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group\\\" *ngIf=\\\"transferOrder.bidtSiteIssue\\\">\\r\\n                          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".site\\\" | translate }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"form-control-generic\\\">\\r\\n                              {{ transferOrder?.bidtSiteIssue?.siteCode }}\\r\\n                              <ng-container *ngIf=\\\"transferOrder?.bidtSiteIssue?.siteName\\\">\\r\\n                                - {{ transferOrder?.bidtSiteIssue?.siteName }}\\r\\n                              </ng-container>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\" *ngIf=\\\"transferOrder.bidtWarehouseIssue\\\">\\r\\n                          <label class=\\\"form-label\\\">{{ \\\"warehouse\\\" | translate }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"form-control-generic\\\">\\r\\n                              {{ transferOrder.bidtWarehouseIssue.whCode }}\\r\\n                              <ng-container *ngIf=\\\"transferOrder.bidtWarehouseIssue.whName\\\">\\r\\n                                - {{ transferOrder.bidtWarehouseIssue.whName }}\\r\\n                              </ng-container>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"section\\\" style=\\\"flex-grow: 1; margin-top: 0;\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ getComponentName() + \\\".recepient\\\" | translate }}\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".site\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"form-control-generic\\\">\\r\\n                              {{ transferOrder?.bidtSiteReceipt?.siteCode }}\\r\\n                              <ng-container *ngIf=\\\"transferOrder?.bidtSiteReceipt?.siteName\\\">\\r\\n                                - {{ transferOrder?.bidtSiteReceipt?.siteName }}\\r\\n                              </ng-container>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".warehouseAndWorkshop\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"form-control-generic\\\">\\r\\n                              {{ transferOrder?.bidtWarehouseReceipt?.whCode }}\\r\\n                              <ng-container *ngIf=\\\"transferOrder?.bidtWarehouseReceipt?.whName\\\">\\r\\n                                - {{ transferOrder?.bidtWarehouseReceipt?.whName }}\\r\\n                              </ng-container>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\" *ngIf=\\\"workPackageAsset\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            <ng-container\\r\\n                              *ngIf=\\\"\\r\\n                                workPackageAsset.equipmentFunction == aWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY\\r\\n                              \\\"\\r\\n                            >\\r\\n                              {{ \\\"aircraft\\\" | translate }}\\r\\n                            </ng-container>\\r\\n                            <ng-container\\r\\n                              *ngIf=\\\"\\r\\n                                workPackageAsset.equipmentFunction == aWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\\r\\n                              \\\"\\r\\n                            >\\r\\n                              {{ \\\"engine\\\" | translate }}\\r\\n                            </ng-container>\\r\\n                            <ng-container\\r\\n                              *ngIf=\\\"\\r\\n                                workPackageAsset.equipmentFunction !=\\r\\n                                  aWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY &&\\r\\n                                workPackageAsset.equipmentFunction != aWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\\r\\n                              \\\"\\r\\n                            >\\r\\n                              {{ \\\"equipment\\\" | translate }}\\r\\n                            </ng-container>\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"form-control-generic\\\">\\r\\n                              <a (click)=\\\"openWorkPackageAsset()\\\">{{ workPackageAssetName }}</a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"grid-cell--4\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".item\\\" | translate }}\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".partNumber\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ selectedTorItemBirePn?.pnCode }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".requestedQuantity\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ formatQuantity(selectedTorItem?.quantity) }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".designation\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ selectedTorItemBirePn?.articleDesignation }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"section\\\">\\r\\n                <h4 class=\\\"section-title\\\">\\r\\n                  {{ componentData.componentId + \\\".advancement\\\" | translate }}\\r\\n                </h4>\\r\\n\\r\\n                <div class=\\\"section-content\\\">\\r\\n                  <div class=\\\"row\\\" style=\\\"margin-bottom: 8px;\\\">\\r\\n                    <div\\r\\n                      style=\\\"padding: 8px; color: #000; border-radius: 4px; margin-left: 16px;\\\"\\r\\n                      [ngClass]=\\\"{\\r\\n                        'served--nok': shippedNb == 0,\\r\\n                        'served--ok': shippedNb > 0 && shippedNb === selectedTorItem.quantity,\\r\\n                        'served--warning': shippedNb > 0 && shippedNb !== selectedTorItem.quantity\\r\\n                      }\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"shippedNb == 0\\\">\\r\\n                        {{ componentData.componentId + \\\".notSelected\\\" | translate }}\\r\\n                      </span>\\r\\n                      <span *ngIf=\\\"shippedNb > 0 && shippedNb !== selectedTorItem.quantity\\\">\\r\\n                        {{ componentData.componentId + \\\".partiallySelected\\\" | translate }}\\r\\n                      </span>\\r\\n                      <span *ngIf=\\\"shippedNb > 0 && shippedNb === selectedTorItem.quantity\\\">\\r\\n                        {{ componentData.componentId + \\\".inTransit\\\" | translate }}\\r\\n                      </span>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 3rem; padding-bottom: 1rem;\\\">\\r\\n                          {{ notSelectedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        <ng-container>\\r\\n                          {{ getComponentName() + \\\".notSelected\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                      </label>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 3rem; padding-bottom: 1rem\\\">\\r\\n                          {{ selectedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        <ng-container>\\r\\n                          {{ getComponentName() + \\\".selected\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                      </label>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 3rem; padding-bottom: 1rem\\\">\\r\\n                          {{ shippedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".inTransit\\\" | translate }}</label>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 3rem; padding-bottom: 1rem\\\">\\r\\n                          {{ receivedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label\\r\\n                        class=\\\"form-label\\\"\\r\\n                        *ngIf=\\\"transferOrder.torType !== aWPropertiesConstants.TRANSFER_ORDER_TYPE_REVERSE_MVT\\\"\\r\\n                        >{{ getComponentName() + \\\".delivered\\\" | translate }}</label\\r\\n                      >\\r\\n                      <label\\r\\n                        class=\\\"form-label\\\"\\r\\n                        *ngIf=\\\"transferOrder.torType === aWPropertiesConstants.TRANSFER_ORDER_TYPE_REVERSE_MVT\\\"\\r\\n                        >{{ getComponentName() + \\\".reversed\\\" | translate }}</label\\r\\n                      >\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".suggestedAssets\\\" | translate }}\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div\\r\\n                  class=\\\"form-group\\\"\\r\\n                  *ngIf=\\\"\\r\\n                    transferOrder.torType != aWPropertiesConstants.TRANSFER_ORDER_TYPE_REVERSE_MVT &&\\r\\n                    transferOrder.torType != aWPropertiesConstants.TRANSFER_ORDER_TYPE_INTRA_SITE\\r\\n                  \\\"\\r\\n                >\\r\\n                  <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                    <p-selectButton\\r\\n                      [(ngModel)]=\\\"selectedcandidateAssetCategory\\\"\\r\\n                      [options]=\\\"candidateAssetCategoryList\\\"\\r\\n                      (onChange)=\\\"updateCandidateAssetTableColumns()\\\"\\r\\n                    ></p-selectButton>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableResults\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"materialProposedTableCols\\\"\\r\\n                  [value]=\\\"candidateAssets\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!iscandidateAssetsLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"iscandidateAssetsLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          #ptableResultsGlobalFilter\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableResults.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"table-actions\\\">\\r\\n                        <div class=\\\"aw-table-icon-actions\\\" style=\\\"margin-left: 0px;\\\">\\r\\n                          <i\\r\\n                            class=\\\"fa fa-fw fa-filter aw-icon aw-icon-with-border aw-icon-with-overlay\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            [ngClass]=\\\"{ active: filtersVisible }\\\"\\r\\n                            (click)=\\\"opFilters.toggle($event)\\\"\\r\\n                          ></i>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      <col [ngStyle]=\\\"{ width: '10%' }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th\\r\\n                        pResizableColumn\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                      >\\r\\n                        <ng-container *ngSwitchCase=\\\"'sn'\\\">\\r\\n                          <ng-container\\r\\n                            *ngIf=\\\"\\r\\n                              selectedTorItemBirePn?.traceability == aWPropertiesConstants.PN_TRACEABILITY_BY_SN ||\\r\\n                              selectedTorItemBirePn?.traceability ==\\r\\n                                aWPropertiesConstants.PN_TRACEABILITY_BY_PACKAGING_BATCH_AND_SN\\r\\n                            \\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".sn\\\" | translate }}\\r\\n                          </ng-container>\\r\\n                          <ng-container\\r\\n                            *ngIf=\\\"\\r\\n                              selectedTorItemBirePn?.traceability == aWPropertiesConstants.PN_TRACEABILITY_BY_BATCH\\r\\n                            \\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".manufacturingBatch\\\" | translate }}\\r\\n                          </ng-container>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <ng-container *ngSwitchDefault>\\r\\n                          {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                        </ng-container>\\r\\n                      </th>\\r\\n\\r\\n                      <th style=\\\"text-align: center;\\\">Action</th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                      >\\r\\n                        <div *ngSwitchCase=\\\"'msn'\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <a class=\\\"font-bold\\\" (click)=\\\"openEquipment(rowData['topEquipment'])\\\">{{\\r\\n                              rowData[\\\"topEquipment\\\"]?.sn\\r\\n                            }}</a>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\">\\r\\n                            {{ formatEquipmentStatus(rowData[\\\"topEquipment\\\"]?.equipmentDesignation) }}\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'locationForPicking'\\\">\\r\\n                          {{\\r\\n                            rowData[\\\"currentBidmProject\\\"]\\r\\n                              ? formatSite(rowData[\\\"currentBidmProject\\\"].bireRepairCenterCode)\\r\\n                              : rowData[\\\"topEquipmentLocation\\\"]\\r\\n                          }}\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'material'\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <a class=\\\"font-bold\\\" (click)=\\\"openPart(rowData)\\\">{{ rowData[\\\"pn\\\"]?.pnCode }}</a>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"equipment\\\"]?.equipmentDesignation }}</span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'sn'\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <a\\r\\n                              class=\\\"font-bold\\\"\\r\\n                              (click)=\\\"openEquipment(rowData['equipment'])\\\"\\r\\n                              *ngIf=\\\"rowData['equipment'].sn && !rowData['stockInformation']?.manufacturingBatchNumber\\\"\\r\\n                            >\\r\\n                              {{ rowData[\\\"equipment\\\"]?.sn }}\\r\\n                            </a>\\r\\n                            <a\\r\\n                              class=\\\"bold\\\"\\r\\n                              (click)=\\\"openManufacturingBatch(rowData['stockInformation'].manufacturingBatchNumber)\\\"\\r\\n                              *ngIf=\\\"!rowData['equipment'].sn && rowData['stockInformation']?.manufacturingBatchNumber\\\"\\r\\n                            >\\r\\n                              {{ rowData[\\\"stockInformation\\\"].manufacturingBatchNumber }}\\r\\n                            </a>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\" *ngIf=\\\"!rowData['equipment'].batchNumber\\\">\\r\\n                            <span class=\\\"italic\\\">{{\\r\\n                              formatEquipmentStatus(rowData[\\\"equipment\\\"]?.operationalStatus)\\r\\n                            }}</span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'snBatch'\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <a\\r\\n                              class=\\\"font-bold\\\"\\r\\n                              (click)=\\\"openEquipment(rowData['equipment'])\\\"\\r\\n                              *ngIf=\\\"rowData['equipment'].sn && !rowData['stockInformation']?.manufacturingBatchNumber\\\"\\r\\n                            >\\r\\n                              {{ rowData[\\\"equipment\\\"]?.sn }}\\r\\n                            </a>\\r\\n                            <a\\r\\n                              class=\\\"bold\\\"\\r\\n                              (click)=\\\"openManufacturingBatch(rowData['stockInformation'].manufacturingBatchNumber)\\\"\\r\\n                              *ngIf=\\\"!rowData['equipment'].sn && rowData['stockInformation']?.manufacturingBatchNumber\\\"\\r\\n                            >\\r\\n                              {{ rowData[\\\"stockInformation\\\"].manufacturingBatchNumber }}\\r\\n                            </a>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\" *ngIf=\\\"!rowData['equipment'].batchNumber\\\">\\r\\n                            <span class=\\\"italic\\\">{{\\r\\n                              formatEquipmentStatus(rowData[\\\"equipment\\\"]?.operationalStatus)\\r\\n                            }}</span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'quantity'\\\">\\r\\n                          {{ rowData[\\\"equipment\\\"]?.quantity | formatNumber }}\\r\\n                          <ng-container *ngIf=\\\"rowData['stockInformation'].stockMvtUnit\\\">\\r\\n                            {{ rowData[\\\"stockInformation\\\"].stockMvtUnit }}\\r\\n                          </ng-container>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'batch'\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <a\\r\\n                              class=\\\"font-bold\\\"\\r\\n                              (click)=\\\"\\r\\n                                rowData['equipment']?.sn\\r\\n                                  ? openEquipment(rowData['equipment'])\\r\\n                                  : openBatch(rowData['equipment'].equipmentCode)\\r\\n                              \\\"\\r\\n                              *ngIf=\\\"rowData['equipment']\\\"\\r\\n                            >\\r\\n                              {{ rowData[\\\"equipment\\\"].batchNumber }}\\r\\n                            </a>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\" *ngIf=\\\"rowData['equipment'].batchNumber\\\">\\r\\n                            <span class=\\\"italic\\\">{{\\r\\n                              formatEquipmentStatus(rowData[\\\"equipment\\\"]?.operationalStatus)\\r\\n                            }}</span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'location'\\\">\\r\\n                          <div class=\\\"row\\\" *ngIf=\\\"rowData['siteReceipt']?.siteName\\\">\\r\\n                            <span class=\\\"font-bold\\\">{{ rowData[\\\"siteReceipt\\\"]?.siteName }}</span>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"warehouseReceipt\\\"]?.whName }}</span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'technicalData'\\\">\\r\\n                          <div class=\\\"row\\\" *ngIf=\\\"rowData['potentialValue']\\\">\\r\\n                            <span style=\\\"width: 5rem;\\\">{{ getComponentName() + \\\".potential\\\" | translate }}</span>\\r\\n                            <span class=\\\"font-bold\\\"\\r\\n                              >{{ formatPotential(rowData[\\\"potentialValue\\\"]) }} {{ rowData[\\\"potentialUnit\\\"] }}</span\\r\\n                            >\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\" *ngIf=\\\"rowData['calendarPotential']\\\">\\r\\n                            <span style=\\\"width: 5rem;\\\">{{ getComponentName() + \\\".expiration\\\" | translate }}</span>\\r\\n                            <span class=\\\"font-bold\\\">{{\\r\\n                              rowData[\\\"calendarPotential\\\"] | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang\\r\\n                            }}</span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'availabilityAtDate'\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <span *ngIf=\\\"isCandidateAssetServed(rowData)\\\" class=\\\"font-bold\\\">\\r\\n                              {{ getComponentName() + \\\".served\\\" | translate }}\\r\\n                            </span>\\r\\n\\r\\n                            <span\\r\\n                              class=\\\"font-bold\\\"\\r\\n                              [ngClass]=\\\"{\\r\\n                                green: !rowData['transferOrder'] || rowData['transferOrder'].id === transferOrder.id,\\r\\n                                yellow: rowData['transferOrder'] && rowData['transferOrder'].id !== transferOrder.id\\r\\n                              }\\\"\\r\\n                              *ngIf=\\\"isAvailableAtDate(rowData) && !isCandidateAssetServed(rowData)\\\"\\r\\n                            >\\r\\n                              {{ \\\"yes\\\" | translate }}\\r\\n                              <span *ngIf=\\\"rowData['plannedAvailabilityDate']\\\">\\r\\n                                ({{\\r\\n                                  rowData[\\\"plannedAvailabilityDate\\\"]\\r\\n                                    | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang\\r\\n                                }})\\r\\n                              </span>\\r\\n                            </span>\\r\\n                            <span class=\\\"font-bold red\\\" *ngIf=\\\"!isAvailableAtDate(rowData)\\\">\\r\\n                              {{ \\\"no\\\" | translate }}\\r\\n                              <span *ngIf=\\\"rowData['plannedAvailabilityDate']\\\">\\r\\n                                ({{\\r\\n                                  rowData[\\\"plannedAvailabilityDate\\\"]\\r\\n                                    | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang\\r\\n                                }})\\r\\n                              </span>\\r\\n                            </span>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <span\\r\\n                              *ngIf=\\\"rowData['transferOrder'] && rowData['transferOrder'].id === transferOrder.id\\\"\\r\\n                              style=\\\"font-style: italic;\\\"\\r\\n                              class=\\\"green\\\"\\r\\n                            >\\r\\n                              <ng-container\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['transferOrder']?.torStatus ==\\r\\n                                  aWPropertiesConstants.TRANSFER_ORDER_STATUS_PLANNED\\r\\n                                \\\"\\r\\n                              >\\r\\n                                {{ getBookedQty(rowData) | formatNumber }}\\r\\n                                {{ getComponentName() + \\\".selectedBy\\\" | translate }}\\r\\n                              </ng-container>\\r\\n                              <ng-container\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['transferOrder']?.torStatus !=\\r\\n                                  aWPropertiesConstants.TRANSFER_ORDER_STATUS_PLANNED\\r\\n                                \\\"\\r\\n                              >\\r\\n                                {{ getBookedQty(rowData) | formatNumber }}\\r\\n                                {{ getComponentName() + \\\".bookedBy\\\" | translate }}\\r\\n                              </ng-container>\\r\\n\\r\\n                              <a (click)=\\\"openTransferOrder(rowData['transferOrder'])\\\">{{\\r\\n                                rowData[\\\"transferOrder\\\"]?.torCode\\r\\n                              }}</a>\\r\\n                            </span>\\r\\n\\r\\n                            <span\\r\\n                              *ngIf=\\\"\\r\\n                                rowData['transferOrder'] &&\\r\\n                                rowData['transferOrder'].id !== transferOrder.id &&\\r\\n                                (!rowData['warehouseReceipt'] ||\\r\\n                                  rowData['warehouseReceipt'] !==\\r\\n                                    aWPropertiesConstants.MM_WAREHOUSE_TYPE_DEPLOYEMENT_BATCH)\\r\\n                              \\\"\\r\\n                              style=\\\"font-style: italic;\\\"\\r\\n                              class=\\\"yellow\\\"\\r\\n                            >\\r\\n                              <ng-container\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['transferOrder']?.torStatus ==\\r\\n                                  aWPropertiesConstants.TRANSFER_ORDER_STATUS_PLANNED\\r\\n                                \\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".selectedFor\\\" | translate }}\\r\\n                              </ng-container>\\r\\n                              <ng-container\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['transferOrder']?.torStatus !=\\r\\n                                  aWPropertiesConstants.TRANSFER_ORDER_STATUS_PLANNED\\r\\n                                \\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".bookedFor\\\" | translate }}\\r\\n                              </ng-container>\\r\\n\\r\\n                              <a (click)=\\\"openProcurementRequest(rowData['transferOrder'])\\\">\\r\\n                                {{ rowData[\\\"transferOrder\\\"]?.torCode }}\\r\\n                              </a>\\r\\n                            </span>\\r\\n\\r\\n                            <span\\r\\n                              *ngIf=\\\"rowData['bookingProcurementRequest']\\\"\\r\\n                              style=\\\"font-style: italic;\\\"\\r\\n                              class=\\\"yellow\\\"\\r\\n                            >\\r\\n                              {{ getComponentName() + \\\".selectedFor\\\" | translate }}\\r\\n\\r\\n                              <a (click)=\\\"openProcurementRequest(rowData['bookingProcurementRequest'])\\\">\\r\\n                                {{ rowData[\\\"bookingProcurementRequest\\\"].procCode }}\\r\\n                              </a>\\r\\n                            </span>\\r\\n\\r\\n                            <span\\r\\n                              *ngIf=\\\"\\r\\n                                rowData['transferOrder'] &&\\r\\n                                rowData['transferOrder'].id !== transferOrder.id &&\\r\\n                                rowData['warehouseReceipt'] ===\\r\\n                                  aWPropertiesConstants.MM_WAREHOUSE_TYPE_DEPLOYEMENT_BATCH\\r\\n                              \\\"\\r\\n                              style=\\\"font-style: italic;\\\"\\r\\n                              class=\\\"yellow\\\"\\r\\n                            >\\r\\n                              {{ getComponentName() + \\\".bookedForDeploymentBatch\\\" | translate }}\\r\\n                            </span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngSwitchCase=\\\"'satisfactionRate'\\\">\\r\\n                          <div class=\\\"row\\\" *ngIf=\\\"!isCandidateAssetServed(rowData)\\\">\\r\\n                            <div style=\\\"width: 100%; cursor: pointer;\\\">\\r\\n                              <p-progressBar\\r\\n                                [ngClass]=\\\"{\\r\\n                                  green: calculateSatisfactionRate(rowData) == 100,\\r\\n                                  yellow: calculateSatisfactionRate(rowData) < 100,\\r\\n                                  red: calculateSatisfactionRate(rowData) < 40\\r\\n                                }\\\"\\r\\n                                [value]=\\\"calculateSatisfactionRate(rowData)\\\"\\r\\n                                (click)=\\\"openSatisfactionRateDetails(rowData)\\\"\\r\\n                              ></p-progressBar>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </td>\\r\\n\\r\\n                      <td style=\\\"text-align: center;\\\">\\r\\n                        <button\\r\\n                          style=\\\"margin: 0 auto\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          class=\\\"btn-with-spinner\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"bookCandidateAsset(rowData)\\\"\\r\\n                          *ngIf=\\\"!rowData['transferOrder'] && isSelectBtnVisible() && !isCandidateAssetServed(rowData)\\\"\\r\\n                        >\\r\\n                          <span class=\\\"lds-hourglass\\\" *ngIf=\\\"rowData['_bookCandidateAssetLoading']\\\"></span>\\r\\n                          {{ getComponentName() + \\\".select\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          style=\\\"margin: 0 auto\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          (click)=\\\"cancelBooking(rowData)\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            rowData['transferOrder'] &&\\r\\n                            rowData['transferOrder'].id == transferOrder.id &&\\r\\n                            isCancelBookingBtnVisible(rowData)\\r\\n                          \\\"\\r\\n                          mat-raised-button\\r\\n                          color=\\\"warn\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".cancel\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          style=\\\"margin: 0 auto\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          color=\\\"accent\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            rowData['transferOrder'] &&\\r\\n                            rowData['transferOrder'].id != transferOrder.id &&\\r\\n                            (rowData['transferOrder'].torStatus ==\\r\\n                              aWPropertiesConstants.TRANSFER_ORDER_STATUS_PERFORMED ||\\r\\n                              rowData['transferOrder'].torStatus ==\\r\\n                                aWPropertiesConstants.TRANSFER_ORDER_STATUS_ON_GOING) &&\\r\\n                            rowData['_hasPreemptionRight'] &&\\r\\n                            isSelectBtnVisible()\\r\\n                          \\\"\\r\\n                          (click)=\\\"confirmPreemptCandidateAsset(rowData)\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".select\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          style=\\\"margin: 0 auto\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          *ngIf=\\\"\\r\\n                            rowData['transferOrder'] &&\\r\\n                            rowData['transferOrder'].id != transferOrder.id &&\\r\\n                            rowData['transferOrder'].torStatus !=\\r\\n                              aWPropertiesConstants.TRANSFER_ORDER_STATUS_PERFORMED &&\\r\\n                            rowData['transferOrder'].torStatus !=\\r\\n                              aWPropertiesConstants.TRANSFER_ORDER_STATUS_ON_GOING &&\\r\\n                            isSelectBtnVisible()\\r\\n                          \\\"\\r\\n                          (click)=\\\"preemptCandidateAsset(rowData)\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".select\\\" | translate }}\\r\\n                        </button>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<p-overlayPanel #opFilters class=\\\"aw-overlay\\\" (onShow)=\\\"filtersVisible = true\\\" (onHide)=\\\"filtersVisible = false\\\">\\r\\n  <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".location\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\" style=\\\"min-width: 350px;\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".site\\\" | translate }} </label>\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-dropdown\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                  [showClear]=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"searchFilterObject.site\\\"\\r\\n                  [options]=\\\"siteList\\\"\\r\\n                  (onChange)=\\\"loadLocationWarehouses()\\\"\\r\\n                ></p-dropdown>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label\\r\\n                class=\\\"form-label\\\"\\r\\n                *ngIf=\\\"locationWarehouseType === aWPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE\\\"\\r\\n              >\\r\\n                {{ componentData.componentId + \\\".warehouse\\\" | translate }}\\r\\n              </label>\\r\\n              <label\\r\\n                class=\\\"form-label\\\"\\r\\n                *ngIf=\\\"locationWarehouseType === aWPropertiesConstants.WAREHOUSE_CATEGORY_WORKSHOP\\\"\\r\\n              >\\r\\n                {{ componentData.componentId + \\\".workshop\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control \\\">\\r\\n                <p-selectButton\\r\\n                  [options]=\\\"logisticsTypeList\\\"\\r\\n                  [(ngModel)]=\\\"locationWarehouseType\\\"\\r\\n                  (onChange)=\\\"loadLocationWarehouses()\\\"\\r\\n                ></p-selectButton>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\" style=\\\"min-width: 400px;\\\">\\r\\n              <label class=\\\"form-label\\\">&nbsp;</label>\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-dropdown\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                  [showClear]=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"searchFilterObject.warehouse\\\"\\r\\n                  [options]=\\\"warehouseList\\\"\\r\\n                ></p-dropdown>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sn\\\" | translate }} </label>\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input class=\\\"aw-input\\\" name=\\\"sn\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchFilterObject.sn\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".status\\\" | translate }} </label>\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-dropdown\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [options]=\\\"equipmentStatusListFilter\\\"\\r\\n                  [showClear]=\\\"true\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                  [(ngModel)]=\\\"searchFilterObject.status\\\"\\r\\n                >\\r\\n                </p-dropdown>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".satisfactionRate\\\" | translate }}</h4>\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <div class=\\\"row\\\" style=\\\"padding-bottom: 5px;\\\">\\r\\n              <div class=\\\"flex--2\\\">\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sameSiteFilter\\\" | translate }} </label>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"flex--1\\\">\\r\\n                <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                  <p-selectButton\\r\\n                    [(ngModel)]=\\\"searchFilterObject.sameSite\\\"\\r\\n                    [options]=\\\"satifactionRateStatus\\\"\\r\\n                  ></p-selectButton>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\" style=\\\"padding-bottom: 5px;\\\">\\r\\n              <div class=\\\"flex--2\\\">\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".bookingStatusFilter\\\" | translate }} </label>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"flex--1\\\">\\r\\n                <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                  <p-selectButton\\r\\n                    [(ngModel)]=\\\"searchFilterObject.bookingStatus\\\"\\r\\n                    [options]=\\\"satifactionRateStatus\\\"\\r\\n                  ></p-selectButton>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\" style=\\\"padding-bottom: 5px;\\\">\\r\\n              <div class=\\\"flex--2\\\">\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".availableAtDateFilter\\\" | translate }} </label>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"flex--1\\\">\\r\\n                <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                  <p-selectButton\\r\\n                    [(ngModel)]=\\\"searchFilterObject.availableAtDate\\\"\\r\\n                    [options]=\\\"satifactionRateStatus\\\"\\r\\n                  ></p-selectButton>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\" style=\\\"padding-bottom: 5px;\\\">\\r\\n              <div class=\\\"flex--2\\\">\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <label class=\\\"form-label\\\">\\r\\n                    {{ getComponentName() + \\\".noUnconfirmedFailureFilter\\\" | translate }}\\r\\n                  </label>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"flex--1\\\">\\r\\n                <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                  <p-selectButton\\r\\n                    [(ngModel)]=\\\"searchFilterObject.noUnconfirmedFailure\\\"\\r\\n                    [options]=\\\"satifactionRateStatus\\\"\\r\\n                  ></p-selectButton>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row action-list\\\" style=\\\"justify-content: flex-end;\\\">\\r\\n      <button type=\\\"button\\\" mat-raised-button (click)=\\\"opFilters.hide(); filtersVisible = false; resetFilters()\\\">\\r\\n        {{ \\\"global.reset\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"opFilters.hide(); filtersVisible = false; filterSearchResult()\\\"\\r\\n        color=\\\"primary\\\"\\r\\n        style=\\\"margin-left: 8px;\\\"\\r\\n      >\\r\\n        {{ \\\"global.filter\\\" | translate }}\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n</p-overlayPanel>\\r\\n\\r\\n<aw-dialog-satisfaction-rate-transfer-order\\r\\n  [(display)]=\\\"showSatisfactionRateDialog\\\"\\r\\n  *ngIf=\\\"showSatisfactionRateDialog\\\"\\r\\n  [transferOrder]=\\\"transferOrder\\\"\\r\\n  [candidateAsset]=\\\"selectedCandidateAsset\\\"\\r\\n></aw-dialog-satisfaction-rate-transfer-order>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { SafeResourceUrl } from '@angular/platform-browser';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MenuItem, SelectItem } from 'primeng/api';\r\nimport { Observable } from 'rxjs';\r\nimport { concatMap, finalize, map } from 'rxjs/operators';\r\n\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../../shared/constants/bido-function-type-constants';\r\nimport { BidtStockMvtConstants } from '../../../../shared/constants/bidt-stock-mvt-constants';\r\nimport { BidtStockMvtTypeConstant } from '../../../../shared/constants/bidt-stock-mvt-type-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { SearchCandidateAssetsTransferOrderInput } from '../../../../shared/types/api-input-types/logistic/search-candidate-assets-transfer-order-input.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidtProcurementRequestDTO } from '../../../../shared/types/api-types/bidt-procurement-request-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BidtStockMvtDTO } from '../../../../shared/types/api-types/bidt-stock-mvt-dto.interface';\r\nimport { BidtTorItemDTO } from '../../../../shared/types/api-types/bidt-tor-item-dto.interface';\r\nimport { BidtTransferOrderDTO } from '../../../../shared/types/api-types/bidt-transfer-order-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { CandidateAssetDTO } from '../../../../shared/types/api-types/candidate-asset-dto.interface';\r\nimport { FindTransferOrdersByCriteriaOutput } from '../../../../shared/types/api-types/find-transfer-orders-by-criteria-output';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { NumberUtils } from '../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { LogisticsService } from '../../logistics.service';\r\n\r\nimport { MaterialRequestTransferOrderManagementFormService } from './material-request-transfer-order-management-form.service';\r\n\r\ninterface SearchFilterInput {\r\n  status?: string;\r\n  site?: number;\r\n  warehouse?: number;\r\n  sn?: string;\r\n  sameSite?: SatisfactoryRateFilterState;\r\n  availableAtDate?: SatisfactoryRateFilterState;\r\n  bookingStatus?: SatisfactoryRateFilterState;\r\n  noUnconfirmedFailure?: SatisfactoryRateFilterState;\r\n}\r\n\r\nexport enum CandidateAssetCategory {\r\n  GLOBAL,\r\n  LOCAL,\r\n  PICKING,\r\n  WAREHOUSE\r\n}\r\n\r\nexport enum SatisfactoryRateFilterState {\r\n  UNDEFINED,\r\n  YES,\r\n  NO\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-material-request-transfer-order-management-form',\r\n  styleUrls: ['../shared/style.scss'],\r\n  templateUrl: './material-request-transfer-order-management-form.component.html'\r\n})\r\nexport class MaterialRequestTransferOrderManagementFormComponent extends FormPageComponent<PageComponentData>\r\n  implements OnInit {\r\n  public readonly CRITICITY_GREEN = 'green';\r\n  public readonly CRITICITY_RED = 'red';\r\n  public readonly CRITICITY_YELLOW = 'yellow';\r\n\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n  public readonly componentOpenMode: typeof ComponentOpenMode;\r\n  public readonly candidateAssetCategory: typeof CandidateAssetCategory;\r\n\r\n  public transferOrder: BidtTransferOrderDTO;\r\n  public selectedTorItem: BidtTorItemDTO;\r\n  public selectedTorItemBirePn: BirePnDTO;\r\n  public shippedNb: number;\r\n  public selectedNb: number;\r\n  public notSelectedNb: number;\r\n  public receivedNb: number;\r\n\r\n  public torTypeList: LabelValue<number>[];\r\n  public applicant: string;\r\n  public applicantLogin: string;\r\n\r\n  public subtitle: string;\r\n  public searchFilterObject: SearchFilterInput;\r\n  public materialProposedTableCols: TableColumn[];\r\n\r\n  public statusList: SelectItem[];\r\n  public siteList: SelectItem[];\r\n  public warehouseList: SelectItem[];\r\n  public openChangeCustomerDialog: boolean;\r\n  public dataSupplier: object;\r\n  public openImageDialog: boolean;\r\n  public filtersVisible: boolean;\r\n  public logisticsTypeList: SelectItem[];\r\n  public locationWarehouseType: string | undefined;\r\n  public satifactionRateStatus: SelectItem[];\r\n\r\n  public candidateAssetCategoryList: SelectItem[];\r\n  public selectedcandidateAssetCategory: CandidateAssetCategory;\r\n  public itemIllustration: SafeResourceUrl;\r\n  public potentialUnitList: MenuItem[];\r\n  public potentialUnitSelected: string;\r\n\r\n  public equipmentStatusList: LabelValue<string>[];\r\n  public equipmentStatusListFilter: LabelValue<string>[];\r\n\r\n  public candidateAssetsSrc: CandidateAssetDTO[];\r\n  public candidateAssets: CandidateAssetDTO[];\r\n  public selectedCandidateAsset: CandidateAssetDTO | undefined;\r\n  public iscandidateAssetsLoading: boolean;\r\n  public saving: boolean;\r\n\r\n  private sites: BidtSiteDTO[];\r\n\r\n  public showSatisfactionRateDialog: boolean;\r\n\r\n  public formattedRequestedPotential: string;\r\n\r\n  public isLoading: boolean;\r\n\r\n  public workPackageAsset: BidoEquipmentDTO | undefined;\r\n  public workPackageAssetName: string;\r\n\r\n  private transferedStockMvts: BidtStockMvtDTO[];\r\n\r\n  public showChangeSupplierAndQuantityDialog: boolean;\r\n\r\n  public currentSupplierWarehouse: BidtWarehouseDTO;\r\n  public isProRecSupplierWarehouse: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    public dateService: DateService,\r\n    public translateService: TranslateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly logisticsService: LogisticsService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly materialRequestTransferOrderFormService: MaterialRequestTransferOrderManagementFormService\r\n  ) {\r\n    super(ComponentOpenMode.Read, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n    this.componentOpenMode = ComponentOpenMode;\r\n    this.candidateAssetCategory = CandidateAssetCategory;\r\n\r\n    this.init();\r\n    this.initMaterialProposedTableCols();\r\n\r\n    this.materialRequestTransferOrderFormService.findAllSite().subscribe((sites) => {\r\n      this.sites = sites;\r\n    });\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_STATUS_MAP).subscribe((statusList) => {\r\n      this.statusList = ListUtils.orEmpty(statusList).sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n    });\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.OPERATIONAL_STATUS_MAP).subscribe((statusList) => {\r\n      this.equipmentStatusList = ListUtils.orEmpty(statusList).sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n    });\r\n\r\n    this.materialRequestTransferOrderFormService.getOperationalStatusMap(' ').subscribe((statusList) => {\r\n      this.equipmentStatusListFilter = ListUtils.orEmpty(statusList).sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n    });\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.WAREHOUSE_CATEGORY_MAP).subscribe((res) => {\r\n      if (res && res.length) {\r\n        this.logisticsTypeList = res.sort((s1, s2) => s1.value.localeCompare(s2.value));\r\n        this.locationWarehouseType = this.logisticsTypeList[0].value;\r\n      }\r\n    });\r\n\r\n    this.materialRequestTransferOrderFormService.fetchTypeList().subscribe((list) => {\r\n      this.torTypeList = list;\r\n    });\r\n\r\n    this.materialRequestTransferOrderFormService.findAllSite().subscribe({\r\n      next: (sites) => {\r\n        this.siteList = ListUtils.orEmpty(sites)\r\n          .filter((site) => !!site.siteId && !StringUtils.isNullOrEmpty(site.siteName))\r\n          .map((site) => {\r\n            return {\r\n              label: `${site.siteCode} - ${site.siteName}`,\r\n              value: site.siteId as number\r\n            };\r\n          })\r\n          .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n      }\r\n    });\r\n    const localLevelKey = this.getTranslateKey('localLevel');\r\n    const globalLevelKey = this.getTranslateKey('globalLevel');\r\n    const warehouseLevelKey = this.getTranslateKey('warehouseLevel');\r\n    const yesKey = this.getTranslateKey('yes');\r\n    const noKey = this.getTranslateKey('no');\r\n    const undefinedKey = this.getTranslateKey('undefined');\r\n    this.translateService\r\n      .get([localLevelKey, globalLevelKey, warehouseLevelKey, yesKey, noKey, undefinedKey])\r\n      .subscribe({\r\n        next: (results: { [key: string]: string }) => {\r\n          const localLevelLabel = !!results ? results[localLevelKey] : 'Local';\r\n          const globalLevelLabel = !!results ? results[globalLevelKey] : 'Global';\r\n          const warehouseLevelLabel = !!results ? results[warehouseLevelKey] : 'Warehouse';\r\n          this.candidateAssetCategoryList = [\r\n            { label: warehouseLevelLabel, value: CandidateAssetCategory.WAREHOUSE },\r\n            { label: localLevelLabel, value: CandidateAssetCategory.LOCAL },\r\n            { label: globalLevelLabel, value: CandidateAssetCategory.GLOBAL }\r\n          ];\r\n          const yesLabel = !!results ? results[yesKey] : 'Yes';\r\n          const noLabel = !!results ? results[noKey] : 'No';\r\n          const undefinedLabel = !!results ? results[undefinedKey] : 'Undefined';\r\n          this.satifactionRateStatus = [\r\n            { label: undefinedLabel, value: SatisfactoryRateFilterState.UNDEFINED },\r\n            { label: yesLabel, value: SatisfactoryRateFilterState.YES },\r\n            { label: noLabel, value: SatisfactoryRateFilterState.NO }\r\n          ];\r\n        }\r\n      });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.LOG_MATERIAL_REQUEST_TRANSFER_ORDER_MANAGEMENT_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.updateOpenMode(this.componentData.openMode);\r\n\r\n    this.load();\r\n  }\r\n\r\n  public reload(): void {\r\n    this.load();\r\n  }\r\n\r\n  private load(): void {\r\n    if (!this.isCreateOpenMode && this.componentData.objectId) {\r\n      const { torId, torItemId } = this.serializationService.deserialize(this.componentData.objectId) as {\r\n        torId: number;\r\n        torItemId: number;\r\n      };\r\n      this.materialRequestTransferOrderFormService\r\n        .findTransferOrderById(torId)\r\n        .subscribe((ftor: FindTransferOrdersByCriteriaOutput) => {\r\n          this.transferOrder = ftor.bidtTransferOrder;\r\n          if (!!this.transferOrder.bidtTorItems) {\r\n            const tempSelectedTorItem = this.transferOrder.bidtTorItems.find((item) => item.id === torItemId);\r\n\r\n            if (!!tempSelectedTorItem) {\r\n              this.selectedTorItem = tempSelectedTorItem;\r\n            }\r\n            if (!!this.selectedTorItem) {\r\n              this.materialRequestTransferOrderFormService\r\n                .getBirePnByPn({ pnCode: this.selectedTorItem.birePnPnCode })\r\n                .subscribe((result) => {\r\n                  this.selectedTorItemBirePn = result;\r\n                  this.updateCandidateAssetTableColumns();\r\n                });\r\n            }\r\n          }\r\n          if (this.transferOrder.statusUser) {\r\n            this.materialRequestTransferOrderFormService.findUser(this.transferOrder.statusUser).subscribe((user) => {\r\n              this.applicant = `${user.firstname} ${user.lastname}`;\r\n              this.applicantLogin = !!user.login ? user.login : '';\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  public openEquipment(equipment?: BidoEquipmentDTO): void {\r\n    if (equipment) {\r\n      const componentId =\r\n        equipment.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY\r\n          ? ComponentConstants.FLE_AIRCRAFT_FORM\r\n          : equipment.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY\r\n          ? ComponentConstants.FLE_ENGINE_FORM\r\n          : ComponentConstants.FLE_EQUIPMENT_FORM;\r\n      const data: PageComponentData = {\r\n        componentId,\r\n        id: this.tabService.generateId(),\r\n        objectId: this.serializationService.serialize({ equipmentCode: equipment.equipmentCode }),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openManufacturingBatch(manufacturingBatchNumber: string | undefined): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_MANUFACTURING_BATCH_FORM,\r\n      objectId: this.serializationService.serialize({ customerCode: manufacturingBatchNumber }),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openPart(candidateAsset: CandidateAssetDTO): void {\r\n    if (candidateAsset.pn) {\r\n      const data: PageComponentData = {\r\n        componentId: ComponentConstants.ENG_PART_NUMBER_FORM,\r\n        id: this.tabService.generateId(),\r\n        objectId: candidateAsset.pn.pnCode,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  private calculateSituation(): void {\r\n    const stockMvts = ListUtils.orEmpty(this.selectedTorItem.pickingMovements).filter(\r\n      (stockMvt) => stockMvt.stockMvtWay === BidtStockMvtConstants.MVT_WAY_DEBIT\r\n    );\r\n    this.transferedStockMvts = stockMvts.filter(\r\n      (stockMvt) => stockMvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY\r\n    );\r\n\r\n    this.selectedNb = stockMvts\r\n      .filter(\r\n        (stockMvt) =>\r\n          stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY &&\r\n          stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_CANCELED_KEY &&\r\n          (!StringUtils.isNullOrEmpty(stockMvt.stockMvtSn) || !StringUtils.isNullOrEmpty(stockMvt.stockMvtBatchNumber))\r\n      )\r\n      .map((stockMvt) => (stockMvt.stockMvtQuantity ? Number(stockMvt.stockMvtQuantity) : 0))\r\n      .reduce((acc, x) => acc + x, 0);\r\n\r\n    this.receivedNb = ListUtils.orEmpty(this.selectedTorItem.pickingMovements)\r\n      .filter(\r\n        (stockMvt) =>\r\n          stockMvt.stockMvtWay === BidtStockMvtConstants.MVT_WAY_CREDIT &&\r\n          stockMvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY\r\n      )\r\n      .map((stockMvt) => (stockMvt.stockMvtQuantity ? Number(stockMvt.stockMvtQuantity) : 0))\r\n      .reduce((acc, x) => acc + x, 0);\r\n\r\n    this.shippedNb =\r\n      this.transferedStockMvts\r\n        .map((stockMvt) => (stockMvt.stockMvtQuantity ? Number(stockMvt.stockMvtQuantity) : 0))\r\n        .reduce((acc, x) => acc + x, 0) - this.receivedNb;\r\n\r\n    if (!!this.selectedTorItem.quantity) {\r\n      this.notSelectedNb = this.selectedTorItem.quantity - this.shippedNb - this.selectedNb - this.receivedNb;\r\n    }\r\n  }\r\n\r\n  private loadPreemptionRight(candidateAsset: CandidateAssetDTO): void {\r\n    if (candidateAsset.stockInformation && candidateAsset.stockInformation.siteId) {\r\n      this.materialRequestTransferOrderFormService\r\n        .findSiteById(candidateAsset.stockInformation.siteId)\r\n        .pipe(\r\n          concatMap((site) =>\r\n            this.materialRequestTransferOrderFormService.hasDisplayRights({\r\n              useCaseCode: BidoFunctionTypeConstants.UC_MM_PREEMPTION,\r\n              functionCode: site.siteCode\r\n            })\r\n          )\r\n        )\r\n        .subscribe({\r\n          next: (hasPreemptionRight) => {\r\n            candidateAsset._hasPreemptionRight = hasPreemptionRight;\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  private loadCandidateAssets(): void {\r\n    this.iscandidateAssetsLoading = true;\r\n    this.candidateAssetsSrc = [];\r\n    this.candidateAssets = [];\r\n    this.resetFilters();\r\n    if (!!this.transferOrder.bidtSiteIssue && !!this.transferOrder.bidtWarehouseIssue) {\r\n      const param: SearchCandidateAssetsTransferOrderInput = {\r\n        torItemId: this.selectedTorItem.id,\r\n        pnCode: this.selectedTorItem.birePnPnCode,\r\n        requestedDate: this.transferOrder.statusDate,\r\n        bidtSiteReceiptId: this.transferOrder.bidtSiteIssue.siteId,\r\n        bidtWarehouseIssueId: this.transferOrder.bidtWarehouseIssue.wareHouseId\r\n      };\r\n      if (this.selectedcandidateAssetCategory === CandidateAssetCategory.WAREHOUSE) {\r\n        this.logisticsService\r\n          .searchWarehouseCandidateAssetsByTorItem(param)\r\n          .pipe(\r\n            finalize(() => {\r\n              this.iscandidateAssetsLoading = false;\r\n            })\r\n          )\r\n          .subscribe((candidateAssets) => {\r\n            this.candidateAssetsSrc = this.sortCandidateAssets(candidateAssets);\r\n            this.candidateAssetsSrc.forEach((candidateAsset) => {\r\n              this.loadPreemptionRight(candidateAsset);\r\n            });\r\n            this.candidateAssets = [...this.candidateAssetsSrc];\r\n            this.calculateSituation();\r\n          });\r\n      } else if (this.selectedcandidateAssetCategory === CandidateAssetCategory.LOCAL) {\r\n        this.logisticsService\r\n          .searchLocalCandidateAssetsByTorItem(param)\r\n          .pipe(\r\n            finalize(() => {\r\n              this.iscandidateAssetsLoading = false;\r\n            })\r\n          )\r\n          .subscribe((candidateAssets) => {\r\n            this.candidateAssetsSrc = this.sortCandidateAssets(candidateAssets);\r\n            this.candidateAssetsSrc.forEach((candidateAsset) => {\r\n              this.loadPreemptionRight(candidateAsset);\r\n            });\r\n            this.candidateAssets = [...this.candidateAssetsSrc];\r\n            this.calculateSituation();\r\n          });\r\n      } else if (this.selectedcandidateAssetCategory === CandidateAssetCategory.GLOBAL) {\r\n        this.logisticsService\r\n          .searchGlobalCandidateAssetsByTorItem(param)\r\n          .pipe(\r\n            finalize(() => {\r\n              this.iscandidateAssetsLoading = false;\r\n            })\r\n          )\r\n          .subscribe((candidateAssets) => {\r\n            this.candidateAssetsSrc = this.sortCandidateAssets(candidateAssets);\r\n            this.candidateAssetsSrc.forEach((candidateAsset) => {\r\n              this.loadPreemptionRight(candidateAsset);\r\n            });\r\n            this.candidateAssets = [...this.candidateAssetsSrc];\r\n            this.calculateSituation();\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  private sortCandidateAssets(candidateAssets: CandidateAssetDTO[]): CandidateAssetDTO[] {\r\n    return candidateAssets.sort((c1, c2) => {\r\n      if (this.isCandidateAssetServed(c1) && !this.isCandidateAssetServed(c2)) {\r\n        return -1;\r\n      } else if (!this.isCandidateAssetServed(c1) && this.isCandidateAssetServed(c2)) {\r\n        return 1;\r\n      } else {\r\n        if (\r\n          c1.transferOrder &&\r\n          c1.transferOrder.id === this.transferOrder.id &&\r\n          !(c2.transferOrder && c2.transferOrder.id === this.transferOrder.id)\r\n        ) {\r\n          return -1;\r\n        } else if (\r\n          c2.transferOrder &&\r\n          c2.transferOrder.id === this.transferOrder.id &&\r\n          !(c1.transferOrder && c1.transferOrder.id === this.transferOrder.id)\r\n        ) {\r\n          return 1;\r\n        } else {\r\n          const r1 = this.calculateSatisfactionRate(c1);\r\n          const r2 = this.calculateSatisfactionRate(c2);\r\n\r\n          if (r1 > r2) {\r\n            return -1;\r\n          } else if (r1 < r2) {\r\n            return 1;\r\n          } else {\r\n            const e1 = c1.equipment ? StringUtils.orEmpty(c1.equipment.sn) : '';\r\n            const e2 = c2.equipment ? StringUtils.orEmpty(c2.equipment.sn) : '';\r\n\r\n            return e1.localeCompare(e2);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private init() {\r\n    this.transferOrder = {};\r\n    this.applicant = '';\r\n    this.applicantLogin = '';\r\n    this.torTypeList = [];\r\n\r\n    this.formattedRequestedPotential = '';\r\n    this.selectedCandidateAsset = undefined;\r\n    this.selectedcandidateAssetCategory = CandidateAssetCategory.WAREHOUSE;\r\n    this.potentialUnitList = [];\r\n    this.candidateAssetsSrc = [];\r\n    this.candidateAssets = [];\r\n    this.equipmentStatusList = [];\r\n    this.statusList = [];\r\n    this.shippedNb = 0;\r\n    this.selectedNb = 0;\r\n    this.notSelectedNb = 0;\r\n    this.iscandidateAssetsLoading = false;\r\n    this.transferedStockMvts = [];\r\n    this.satifactionRateStatus = [];\r\n\r\n    this.workPackageAsset = undefined;\r\n    this.workPackageAssetName = '';\r\n\r\n    this.searchFilterObject = {};\r\n    this.searchFilterObject.sameSite = -1;\r\n    this.searchFilterObject.availableAtDate = -1;\r\n    this.searchFilterObject.bookingStatus = -1;\r\n    this.searchFilterObject.noUnconfirmedFailure = -1;\r\n    this.materialProposedTableCols = [];\r\n    this.siteList = [];\r\n    this.warehouseList = [];\r\n    this.logisticsTypeList = [];\r\n\r\n    this.showChangeSupplierAndQuantityDialog = false;\r\n  }\r\n\r\n  private initMaterialProposedTableCols(): void {\r\n    this.materialProposedTableCols = this.getCandidateAssetTableColumnsForLocalCategory();\r\n  }\r\n\r\n  private getCandidateAssetTableColumnsForPickingCategory(): TableColumn[] {\r\n    return [\r\n      { field: 'material', alignment: 'left', width: '15%' },\r\n      { field: 'snBatch', alignment: 'left', width: '12.5%' },\r\n      { field: 'msn', alignment: 'left', width: '15%' },\r\n      { field: 'locationForPicking', alignment: 'left', width: '17.5%' },\r\n      { field: 'technicalData', alignment: 'left', width: '15%' },\r\n      { field: 'availabilityAtDate', alignment: 'left', width: '15%' },\r\n      { field: 'satisfactionRate', alignment: 'left', width: '10%' }\r\n    ];\r\n  }\r\n\r\n  private getCandidateAssetTableColumnsForLocalCategory(): TableColumn[] {\r\n    return [\r\n      { field: 'material', alignment: 'left', width: '15%' },\r\n      { field: 'batch', alignment: 'left', width: '12.5%' },\r\n      { field: 'sn', alignment: 'left', width: '15%' },\r\n      { field: 'quantity', alignment: 'right', width: '5%' },\r\n      { field: 'location', alignment: 'left', width: '15%' },\r\n      { field: 'technicalData', alignment: 'left', width: '12.5%' },\r\n      { field: 'availabilityAtDate', alignment: 'left', width: '15%' },\r\n      { field: 'satisfactionRate', alignment: 'left', width: '10%' }\r\n    ];\r\n  }\r\n\r\n  public onChangeCustomer() {\r\n    this.openChangeCustomerDialog = true;\r\n  }\r\n\r\n  public resetFilters() {\r\n    this.searchFilterObject.status = undefined;\r\n    this.searchFilterObject.sn = undefined;\r\n    this.searchFilterObject.site = undefined;\r\n    this.searchFilterObject.warehouse = undefined;\r\n    this.searchFilterObject.sameSite = SatisfactoryRateFilterState.UNDEFINED;\r\n    this.searchFilterObject.availableAtDate = SatisfactoryRateFilterState.UNDEFINED;\r\n    this.searchFilterObject.bookingStatus = SatisfactoryRateFilterState.UNDEFINED;\r\n    this.searchFilterObject.noUnconfirmedFailure = SatisfactoryRateFilterState.UNDEFINED;\r\n    this.warehouseList = [];\r\n    this.locationWarehouseType = this.logisticsTypeList[0].value as string;\r\n    this.candidateAssets = [...this.candidateAssetsSrc];\r\n  }\r\n\r\n  public filterSearchResult() {\r\n    this.candidateAssets = this.candidateAssetsSrc.filter((elt) => {\r\n      return (\r\n        this.statusFilterCriteria(elt) &&\r\n        this.snFilterCriteria(elt) &&\r\n        this.siteFilterCriteria(elt) &&\r\n        this.warehouseFilterCriteria(elt) &&\r\n        this.satifactoryRateSameSiteFilterCriteria(elt) &&\r\n        this.satisfactoryRateAvailableAtDateCriteria(elt) &&\r\n        this.statifactoryRateBookingStatusCriteria(elt) &&\r\n        this.satisfactoryRateNoUnconfirmedFailureCriteria(elt)\r\n      );\r\n    });\r\n  }\r\n\r\n  private statusFilterCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      !this.searchFilterObject.status ||\r\n      (!!elt.equipment && elt.equipment.operationalStatus === this.searchFilterObject.status)\r\n    );\r\n  }\r\n\r\n  private snFilterCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      !this.searchFilterObject.sn ||\r\n      (!!elt.equipment &&\r\n        !!elt.equipment.sn &&\r\n        elt.equipment.sn.toUpperCase().includes(this.searchFilterObject.sn.toUpperCase()))\r\n    );\r\n  }\r\n\r\n  private siteFilterCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      !this.searchFilterObject.site || (!!elt.siteReceipt && elt.siteReceipt.siteId === this.searchFilterObject.site)\r\n    );\r\n  }\r\n\r\n  private warehouseFilterCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      !this.searchFilterObject.warehouse ||\r\n      (!!elt.warehouseReceipt && elt.warehouseReceipt.wareHouseId === this.searchFilterObject.warehouse)\r\n    );\r\n  }\r\n\r\n  private satifactoryRateSameSiteFilterCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      this.searchFilterObject.sameSite === SatisfactoryRateFilterState.UNDEFINED || // UNDEFINED\r\n      (this.searchFilterObject.sameSite === SatisfactoryRateFilterState.YES && // YES\r\n        !!elt.siteReceipt &&\r\n        !!this.transferOrder.bidtSiteReceipt &&\r\n        elt.siteReceipt.siteId === this.transferOrder.bidtSiteReceipt.siteId) ||\r\n      (this.searchFilterObject.sameSite === SatisfactoryRateFilterState.NO && // NO\r\n        !(\r\n          !!elt.siteReceipt &&\r\n          !!this.transferOrder.bidtSiteReceipt &&\r\n          elt.siteReceipt.siteId === this.transferOrder.bidtSiteReceipt.siteId\r\n        ))\r\n    );\r\n  }\r\n\r\n  private satisfactoryRateAvailableAtDateCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      this.searchFilterObject.availableAtDate === SatisfactoryRateFilterState.UNDEFINED || // UNDEFINED\r\n      (this.searchFilterObject.availableAtDate === SatisfactoryRateFilterState.YES && // YES\r\n        !ObjectUtils.isDefined(elt.plannedAvailabilityDate)) ||\r\n      (this.searchFilterObject.availableAtDate === SatisfactoryRateFilterState.NO && // NO\r\n        ObjectUtils.isDefined(elt.plannedAvailabilityDate))\r\n    );\r\n  }\r\n\r\n  private statifactoryRateBookingStatusCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      this.searchFilterObject.bookingStatus === SatisfactoryRateFilterState.UNDEFINED || // UNDEFINED\r\n      (this.searchFilterObject.bookingStatus === SatisfactoryRateFilterState.YES && // YES\r\n        (!ObjectUtils.isDefined(elt.transferOrder) ||\r\n          (!!elt.transferOrder && elt.transferOrder.id === this.transferOrder.id))) ||\r\n      (this.searchFilterObject.bookingStatus === SatisfactoryRateFilterState.NO && // NO\r\n        !(\r\n          !ObjectUtils.isDefined(elt.transferOrder) ||\r\n          (!!elt.transferOrder && elt.transferOrder.id === this.transferOrder.id)\r\n        ))\r\n    );\r\n  }\r\n\r\n  private satisfactoryRateNoUnconfirmedFailureCriteria(elt: CandidateAssetDTO): boolean {\r\n    return (\r\n      this.searchFilterObject.noUnconfirmedFailure === SatisfactoryRateFilterState.UNDEFINED || // UNDEFINED\r\n      (this.searchFilterObject.noUnconfirmedFailure === SatisfactoryRateFilterState.YES && // YES\r\n        !ObjectUtils.isDefined(elt.unconfirmedFailure)) ||\r\n      (this.searchFilterObject.noUnconfirmedFailure === SatisfactoryRateFilterState.NO && // NO\r\n        ObjectUtils.isDefined(elt.unconfirmedFailure))\r\n    );\r\n  }\r\n\r\n  public onGoBack() {\r\n    const openMode: ComponentOpenMode = ComponentOpenMode.Read;\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_MATERIAL_REQUEST_MANAGEMENT_SEARCH,\r\n      openMode\r\n    };\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public formatEquipmentStatus(statusValue: string | undefined): string {\r\n    const matchingStatus = this.equipmentStatusList.find((status) => status.value === statusValue);\r\n\r\n    return matchingStatus ? StringUtils.orEmpty(matchingStatus.label) : '';\r\n  }\r\n\r\n  public formatStatus(statusValue: string | undefined): string {\r\n    const matchingStatus = this.statusList.find((status) => status.value === statusValue);\r\n\r\n    return matchingStatus ? StringUtils.orEmpty(matchingStatus.label) : '';\r\n  }\r\n\r\n  public formatQuantity(quantity: string | undefined): string {\r\n    return quantity ? NumberUtils.roundNumber(NumberUtils.fromString(quantity), 2).toString() : '';\r\n  }\r\n\r\n  public formatPotential(potential: string | undefined): string {\r\n    return potential ? NumberUtils.roundNumber(NumberUtils.fromString(potential), 2).toString() : '';\r\n  }\r\n\r\n  public updateCandidateAssetTableColumns(): void {\r\n    this.materialProposedTableCols =\r\n      this.selectedcandidateAssetCategory === CandidateAssetCategory.PICKING\r\n        ? this.getCandidateAssetTableColumnsForPickingCategory()\r\n        : this.getCandidateAssetTableColumnsForLocalCategory();\r\n\r\n    this.loadCandidateAssets();\r\n  }\r\n\r\n  public isAvailableAtDate(candidateAsset: CandidateAssetDTO): boolean {\r\n    return !ObjectUtils.isDefined(candidateAsset.plannedAvailabilityDate);\r\n  }\r\n\r\n  public calculateSatisfactionRate(candidateAsset: CandidateAssetDTO): number {\r\n    const rates: number[] = [];\r\n    const rate = (value: boolean) => {\r\n      rates.push(value ? 1 : 0);\r\n    };\r\n\r\n    rate(this.isAvailableAtDate(candidateAsset));\r\n\r\n    rate(\r\n      !ObjectUtils.isDefined(candidateAsset.transferOrder) ||\r\n        (candidateAsset.transferOrder as BidtTransferOrderDTO).id === this.transferOrder.id\r\n    );\r\n\r\n    rate(\r\n      !!candidateAsset.siteReceipt &&\r\n        !!this.transferOrder.bidtSiteIssue &&\r\n        candidateAsset.siteReceipt.siteId === this.transferOrder.bidtSiteIssue.siteId\r\n    );\r\n\r\n    rate(!ObjectUtils.isDefined(candidateAsset.unconfirmedFailure));\r\n\r\n    // tslint:disable-next-line:no-magic-numbers\r\n    return NumberUtils.roundNumber((rates.filter((value) => value === 1).length / rates.length) * 100, 0);\r\n  }\r\n\r\n  public formatSite(siteCode: string | undefined): string {\r\n    const matchingSite = this.sites.find((site) => site.siteCode === siteCode);\r\n\r\n    return matchingSite ? StringUtils.orEmpty(matchingSite.siteName) : '';\r\n  }\r\n\r\n  public openSatisfactionRateDetails(candidateAsset: CandidateAssetDTO): void {\r\n    this.selectedCandidateAsset = candidateAsset;\r\n    this.showSatisfactionRateDialog = true;\r\n  }\r\n\r\n  public isSameQuantity(qt1?: string, qt2?: string): boolean {\r\n    return this.formatQuantity(qt1) === this.formatQuantity(qt2);\r\n  }\r\n\r\n  public openProcurementRequest(procurementRequest?: BidtProcurementRequestDTO): void {\r\n    if (procurementRequest) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.LOG_PROCUREMENT_REQUEST_FORM,\r\n        objectId: this.serializationService.serialize({ id: procurementRequest.id }),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public cancelBooking(rowData: CandidateAssetDTO): void {\r\n    if (rowData.equipment) {\r\n      this.logisticsService.isAssetBookedByTorItem(rowData.equipment).subscribe({\r\n        next: (stockMvt) => {\r\n          if (stockMvt) {\r\n            this.logisticsService.cancelBookedAssetByTorItem(stockMvt).subscribe({\r\n              next: () => {\r\n                this.reload();\r\n              }\r\n            });\r\n          } else {\r\n            this.messageService.showErrorMessage('errorOnCancelBookedAsset');\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public openBatch(code: string) {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_PACKAGING_BATCH_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    data.objectId = code;\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public isSelectBtnVisible(): boolean {\r\n    const procurementRequestQty = this.selectedTorItem.quantity ? this.selectedTorItem.quantity : undefined;\r\n\r\n    return (\r\n      ObjectUtils.isDefined(procurementRequestQty) &&\r\n      this.selectedNb + this.shippedNb < (procurementRequestQty as number)\r\n    );\r\n  }\r\n\r\n  public bookCandidateAsset(candidateAsset: CandidateAssetDTO): void {\r\n    if (candidateAsset.equipment) {\r\n      candidateAsset._bookCandidateAssetLoading = true;\r\n\r\n      const quantity = candidateAsset.equipment.sn\r\n        ? '1'\r\n        : Math.min(this.notSelectedNb, candidateAsset.equipment.quantity || 0).toString();\r\n\r\n      this.logisticsService\r\n        .bookCandidateAssetByTorItem({ quantity, candidateAsset, bidtTorItem: this.selectedTorItem })\r\n        .pipe(\r\n          finalize(() => {\r\n            candidateAsset._bookCandidateAssetLoading = false;\r\n          })\r\n        )\r\n        .subscribe({\r\n          next: () => {\r\n            this.reload();\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  public confirmPreemptCandidateAsset(candidateAsset: CandidateAssetDTO): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('confirmPreempt'),\r\n      accept: () => {\r\n        this.preemptCandidateAsset(candidateAsset);\r\n      }\r\n    });\r\n  }\r\n\r\n  public preemptCandidateAsset(candidateAsset: CandidateAssetDTO): void {\r\n    if (candidateAsset.equipment) {\r\n      candidateAsset._bookCandidateAssetLoading = true;\r\n\r\n      const quantity = candidateAsset.equipment.sn\r\n        ? '1'\r\n        : Math.min(this.notSelectedNb, candidateAsset.equipment.quantity || 0).toString();\r\n\r\n      this.logisticsService\r\n        .preemptCandidateAssetByTorItem({ quantity, candidateAsset, bidtTorItem: this.selectedTorItem })\r\n        .pipe(\r\n          finalize(() => {\r\n            candidateAsset._bookCandidateAssetLoading = false;\r\n          })\r\n        )\r\n        .subscribe({\r\n          next: () => {\r\n            this.reload();\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  public openWorkPackageAsset(): void {\r\n    if (this.workPackageAsset) {\r\n      let componentId: string;\r\n      if (this.workPackageAsset.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY) {\r\n        componentId = ComponentConstants.FLE_AIRCRAFT_FORM;\r\n      } else if (this.workPackageAsset.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY) {\r\n        componentId = ComponentConstants.FLE_ENGINE_FORM;\r\n      } else {\r\n        componentId = ComponentConstants.FLE_EQUIPMENT_FORM;\r\n      }\r\n\r\n      const data: PageComponentData = {\r\n        componentId,\r\n        id: this.tabService.generateId(),\r\n        objectId: this.serializationService.serialize({\r\n          equipmentCode: this.workPackageAsset.equipmentCode\r\n        }),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public isCancelBookingBtnVisible(candidateAsset: CandidateAssetDTO): boolean {\r\n    return (\r\n      !!candidateAsset.equipment &&\r\n      !!candidateAsset.transferOrder &&\r\n      !!candidateAsset.transferOrder.bidtTorItems &&\r\n      !!candidateAsset.transferOrder.bidtTorItems\r\n        .filter((torItem) => torItem && torItem.pickingMovements)\r\n        .map((torItem) => torItem.pickingMovements as BidtStockMvtDTO[])\r\n        .reduce((acc, x) => acc.concat(x))\r\n        .some(\r\n          (stockMvt) =>\r\n            (candidateAsset.equipment as BidoEquipmentDTO).sn === stockMvt.stockMvtSn &&\r\n            (candidateAsset.equipment as BidoEquipmentDTO).batchNumber === stockMvt.stockMvtBatchNumber &&\r\n            (stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.PICKING ||\r\n              stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.CROSS_DOCKING) &&\r\n            stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY &&\r\n            stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY\r\n        )\r\n    );\r\n  }\r\n\r\n  public isCandidateAssetServed(candidateAsset: CandidateAssetDTO): boolean {\r\n    return (\r\n      !!candidateAsset.equipment &&\r\n      this.transferedStockMvts.some(\r\n        (servedStockMvt) =>\r\n          servedStockMvt.stockMvtSn === (candidateAsset.equipment as BidoEquipmentDTO).sn &&\r\n          servedStockMvt.stockMvtBatchNumber === (candidateAsset.equipment as BidoEquipmentDTO).batchNumber\r\n      )\r\n    );\r\n  }\r\n\r\n  public loadLocationWarehouses(): void {\r\n    this.searchFilterObject.warehouse = undefined;\r\n    this.warehouseList = [];\r\n\r\n    if (!!this.searchFilterObject.site && this.locationWarehouseType) {\r\n      this.loadWareHouses(this.searchFilterObject.site, this.locationWarehouseType).subscribe({\r\n        next: (warehouses) => {\r\n          this.warehouseList = warehouses;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadWareHouses(siteId: number, warehouseCategory: string): Observable<LabelValue<number>[]> {\r\n    return this.materialRequestTransferOrderFormService.getWarehousesBySiteId(siteId).pipe(\r\n      map((warehouses) => {\r\n        return warehouses\r\n          .filter(\r\n            (warehouse) =>\r\n              !!warehouse.whCode &&\r\n              !!warehouse.whName &&\r\n              !!warehouse.whCategory &&\r\n              warehouseCategory === warehouse.whCategory\r\n          )\r\n          .map((warehouse) => {\r\n            return {\r\n              label: `${warehouse.whCode} - ${warehouse.whName}`,\r\n              value: warehouse.wareHouseId as number\r\n            };\r\n          })\r\n          .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n      })\r\n    );\r\n  }\r\n\r\n  public getBookedQty(candidateAsset: CandidateAssetDTO): string {\r\n    if (candidateAsset.transferOrder && candidateAsset.transferOrder.bidtTorItems) {\r\n      const matchingStockMvt = candidateAsset.transferOrder.bidtTorItems\r\n        .filter((torItem) => torItem && torItem.pickingMovements)\r\n        .map((torItem) => torItem.pickingMovements as BidtStockMvtDTO[])\r\n        .reduce((acc, x) => acc.concat(x))\r\n        .find(\r\n          (stockMvt) =>\r\n            (candidateAsset.equipment as BidoEquipmentDTO).sn === stockMvt.stockMvtSn &&\r\n            (candidateAsset.equipment as BidoEquipmentDTO).batchNumber === stockMvt.stockMvtBatchNumber &&\r\n            (stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.PICKING ||\r\n              stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.CROSS_DOCKING)\r\n        );\r\n\r\n      if (matchingStockMvt) {\r\n        return StringUtils.orEmpty(matchingStockMvt.stockMvtQuantity);\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  public onChangeSupplier(): void {\r\n    this.showChangeSupplierAndQuantityDialog = true;\r\n  }\r\n\r\n  public toNumber(str?: string): number {\r\n    return Number(str);\r\n  }\r\n\r\n  public openTransferOrder(transferOrder?: BidtTransferOrderDTO) {\r\n    if (transferOrder) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.LOG_TRANSFER_ORDER_FORM,\r\n        objectId: this.serializationService.serialize(transferOrder.id),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { BidoCustomerDTO } from '../../../../../../generated_files/api-types/bido-customer-dto.interface';\r\nimport { BidtDfTypeApi } from '../../../../shared/api/bidt-df-type.api';\r\nimport { BidtSiteApi } from '../../../../shared/api/bidt-site.api';\r\nimport { BidtTransferOrderApi } from '../../../../shared/api/bidt-transfer-order.api';\r\nimport { BidtWarehouseApi } from '../../../../shared/api/bidt-warehouse.api';\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../shared/api/product-structure-management.api';\r\nimport { UserProfileBusinessApi } from '../../../../shared/api/user-profile-business.api';\r\nimport { UserProfileManagementApi } from '../../../../shared/api/user-profile-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { AccessRightQueryDTO } from '../../../../shared/types/api-types/access-right-query-dto.interface';\r\nimport { BidoUserDTO } from '../../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BidtDfTypeDTO } from '../../../../shared/types/api-types/bidt-df-type-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BirePnDTOId } from '../../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { FindTransferOrdersByCriteriaOutput } from '../../../../shared/types/api-types/find-transfer-orders-by-criteria-output';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\n\r\n@Injectable()\r\nexport class MaterialRequestTransferOrderManagementFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly bidtSiteApi: BidtSiteApi,\r\n    private readonly userProfileBusinessApi: UserProfileBusinessApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly bidtWarehouseApi: BidtWarehouseApi,\r\n    private readonly bidtTransferOrderApi: BidtTransferOrderApi,\r\n    private readonly bidtDfTypeApi: BidtDfTypeApi,\r\n    private readonly userProfileManagementApi: UserProfileManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * User profile business api\r\n   *************************************************************************/\r\n\r\n  public hasDisplayRights(input: AccessRightQueryDTO): Observable<boolean> {\r\n    return super.post<AccessRightQueryDTO, boolean>(this.userProfileBusinessApi.hasDisplayRights, input);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Bidt site api\r\n   *************************************************************************/\r\n\r\n  public findAllSite(): Observable<BidtSiteDTO[]> {\r\n    return super.post<void, BidtSiteDTO[]>(this.bidtSiteApi.getSites);\r\n  }\r\n\r\n  public findSiteById(input: string): Observable<BidtSiteDTO> {\r\n    return super.post<string, BidtSiteDTO>(this.bidtSiteApi.getById, input);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Bidt warehouse api\r\n   *************************************************************************/\r\n\r\n  public getWarehousesBySiteId(siteId: number): Observable<BidtWarehouseDTO[]> {\r\n    return super.post<number, BidtWarehouseDTO[]>(this.bidtWarehouseApi.findBySiteId, siteId);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * search requested material api\r\n   *************************************************************************/\r\n\r\n  public getOperationalStatusMap(input: string): Observable<LabelValue<string>[]> {\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.initializeOperationalStatusList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findAllBidoCustomer(): Observable<BidoCustomerDTO[]> {\r\n    return super.post<void, BidoCustomerDTO[]>(this.fleetManagementApi.findAllBidoCustomer);\r\n  }\r\n\r\n  public findTransferOrderById(id: number): Observable<FindTransferOrdersByCriteriaOutput> {\r\n    return super.post<number, FindTransferOrdersByCriteriaOutput>(this.bidtTransferOrderApi.findTransferOrderById, id);\r\n  }\r\n\r\n  public fetchTypeList(): Observable<LabelValue<number>[]> {\r\n    return super.post<void, BidtDfTypeDTO[]>(this.bidtDfTypeApi.findShipmentDfTypes).pipe(\r\n      map((dfTypes) => {\r\n        return ListUtils.orEmpty(dfTypes).map((dfType) => {\r\n          return {\r\n            label: StringUtils.orEmpty(dfType.dftDesignation),\r\n            value: dfType.id as number\r\n          };\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * User profile management api\r\n   *************************************************************************/\r\n\r\n  public findUser(input: string): Observable<BidoUserDTO> {\r\n    return super.post<string, BidoUserDTO>(this.userProfileManagementApi.findUserByLogin, input);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Bire PN api\r\n   *************************************************************************/\r\n\r\n  public getBirePnByPn(birePnPnCode: BirePnDTOId): Observable<BirePnDTO> {\r\n    return super.post<BirePnDTOId, BirePnDTO>(this.productStructureManagementApi.findBirePn, birePnPnCode);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"45\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">\\r\\n      {{ getComponentName() + \\\".satisfactionRateDetails\\\" | translate }}\\r\\n\\r\\n      <div style=\\\"margin: 0 auto; width: 8rem;\\\">\\r\\n        <p-progressBar\\r\\n          [ngClass]=\\\"{\\r\\n            green: calculateSatisfactionRate() == 100,\\r\\n            yellow: calculateSatisfactionRate() < 100,\\r\\n            red: calculateSatisfactionRate() < 40\\r\\n          }\\\"\\r\\n          [value]=\\\"calculateSatisfactionRate()\\\"\\r\\n        ></p-progressBar>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\" style=\\\"font-size: 1rem; font-weight: bold;\\\">\\r\\n        {{ getComponentName() + \\\".intro\\\" | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <span>{{ getComponentName() + \\\".sameSite\\\" | translate }}</span>\\r\\n        <div class=\\\"criteria-value ok\\\" *ngIf=\\\"sameSite\\\">{{ \\\"yes\\\" | translate }}</div>\\r\\n        <div class=\\\"criteria-value nok\\\" *ngIf=\\\"!sameSite\\\">{{ \\\"no\\\" | translate }}</div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <span>{{ getComponentName() + \\\".bookingStatus\\\" | translate }}</span>\\r\\n        <div class=\\\"criteria-value ok\\\" *ngIf=\\\"bookingStatus\\\">{{ \\\"yes\\\" | translate }}</div>\\r\\n        <div class=\\\"criteria-value nok\\\" *ngIf=\\\"!bookingStatus\\\">{{ \\\"no\\\" | translate }}</div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <span>{{ getComponentName() + \\\".availableAtDate\\\" | translate }}</span>\\r\\n        <div class=\\\"criteria-value ok\\\" *ngIf=\\\"availableAtDate\\\">{{ \\\"yes\\\" | translate }}</div>\\r\\n        <div class=\\\"criteria-value nok\\\" *ngIf=\\\"!availableAtDate\\\">{{ \\\"no\\\" | translate }}</div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <span>{{ getComponentName() + \\\".noUnconfirmedFailure\\\" | translate }}</span>\\r\\n        <div class=\\\"criteria-value ok\\\" *ngIf=\\\"noUnconfirmedFailure\\\">{{ \\\"yes\\\" | translate }}</div>\\r\\n        <div class=\\\"criteria-value nok\\\" *ngIf=\\\"!noUnconfirmedFailure\\\">{{ \\\"no\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.close\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \":host .row {\\n  margin: 0.5rem 0; }\\n\\n:host .row > span {\\n  min-width: 40em;\\n  max-width: 40em;\\n  width: 40rem; }\\n\\n:host .criteria-value {\\n  width: 6rem;\\n  border-radius: 3px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center; }\\n\\n:host .criteria-value.ok {\\n    background-color: #4caf50; }\\n\\n:host .criteria-value.nok {\\n    background-color: #f6685e; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvbWF0ZXJpYWwtcmVxdWVzdC10cmFuc2Zlci1vcmRlci1tYW5hZ2VtZW50L2Zvcm0vcG9wdXBzL2RpYWxvZy1zYXRpc2ZhY3Rpb24tcmF0ZS10cmFuc2ZlLW9yZGVyL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxsb2dpc3RpY3NcXG1hdGVyaWFsLXJlcXVlc3QtdHJhbnNmZXItb3JkZXItbWFuYWdlbWVudFxcZm9ybVxccG9wdXBzXFxkaWFsb2ctc2F0aXNmYWN0aW9uLXJhdGUtdHJhbnNmZS1vcmRlclxcZGlhbG9nLXNhdGlzZmFjdGlvbi1yYXRlLXRyYW5zZmVyLW9yZGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL2xvZ2lzdGljcy9tYXRlcmlhbC1yZXF1ZXN0LXRyYW5zZmVyLW9yZGVyLW1hbmFnZW1lbnQvZm9ybS9wb3B1cHMvZGlhbG9nLXNhdGlzZmFjdGlvbi1yYXRlLXRyYW5zZmUtb3JkZXIvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUVJLGdCQUFnQixFQUFBOztBQUZwQjtFQU1JLGVBQWU7RUFDZixlQUFlO0VBQ2YsWUFBWSxFQUFBOztBQVJoQjtFQVlJLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsdUJBQXVCLEVBQUE7O0FBakIzQjtJQW9CTSx5QkNEZ0IsRUFBQTs7QURuQnRCO0lBd0JNLHlCQ0ZjLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2xvZ2lzdGljcy9tYXRlcmlhbC1yZXF1ZXN0LXRyYW5zZmVyLW9yZGVyLW1hbmFnZW1lbnQvZm9ybS9wb3B1cHMvZGlhbG9nLXNhdGlzZmFjdGlvbi1yYXRlLXRyYW5zZmUtb3JkZXIvZGlhbG9nLXNhdGlzZmFjdGlvbi1yYXRlLXRyYW5zZmVyLW9yZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5yb3cge1xyXG4gICAgbWFyZ2luOiAwLjVyZW0gMDtcclxuICB9XHJcblxyXG4gIC5yb3cgPiBzcGFuIHtcclxuICAgIG1pbi13aWR0aDogNDBlbTtcclxuICAgIG1heC13aWR0aDogNDBlbTtcclxuICAgIHdpZHRoOiA0MHJlbTtcclxuICB9XHJcblxyXG4gIC5jcml0ZXJpYS12YWx1ZSB7XHJcbiAgICB3aWR0aDogNnJlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cclxuICAgICYub2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gICAgfVxyXG5cclxuICAgICYubm9rIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iXX0= */\"","import { Component, Input } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { BidtTransferOrderDTO } from '../../../../../../shared/types/api-types/bidt-transfer-order-dto.interface';\r\nimport { CandidateAssetDTO } from '../../../../../../shared/types/api-types/candidate-asset-dto.interface';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { NumberUtils } from '../../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-satisfaction-rate-transfer-order',\r\n  styleUrls: ['./dialog-satisfaction-rate-transfer-order.component.scss', '../../../shared/style.scss'],\r\n  templateUrl: './dialog-satisfaction-rate-transfer-order.component.html'\r\n})\r\nexport class DialogSatisfactionRateTransferOrderComponent extends DialogComponent {\r\n  @Input()\r\n  public candidateAsset: CandidateAssetDTO;\r\n\r\n  @Input()\r\n  public transferOrder: BidtTransferOrderDTO;\r\n\r\n  public sameSite: boolean;\r\n  public availableAtDate: boolean;\r\n  public bookingStatus: boolean;\r\n  public noUnconfirmedFailure: boolean;\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Read, 'DialogSatisfactionRateTransferOrderComponent');\r\n\r\n    this.candidateAsset = {};\r\n    this.transferOrder = {};\r\n  }\r\n\r\n  public isAvailableAtDate(): boolean {\r\n    return !ObjectUtils.isDefined(this.candidateAsset.plannedAvailabilityDate);\r\n  }\r\n\r\n  public calculateSatisfactionRate(): number {\r\n    const rates: number[] = [];\r\n    const rate = (value: boolean) => {\r\n      rates.push(value ? 1 : 0);\r\n    };\r\n\r\n    this.availableAtDate = this.isAvailableAtDate();\r\n    rate(this.availableAtDate);\r\n\r\n    this.bookingStatus =\r\n      !ObjectUtils.isDefined(this.candidateAsset.transferOrder) ||\r\n      (this.candidateAsset.transferOrder as BidtTransferOrderDTO).id === this.transferOrder.id;\r\n    rate(this.bookingStatus);\r\n\r\n    this.sameSite =\r\n      !!this.candidateAsset.siteReceipt &&\r\n      !!this.transferOrder.bidtSiteIssue &&\r\n      this.candidateAsset.siteReceipt.siteId === this.transferOrder.bidtSiteIssue.siteId;\r\n    rate(this.sameSite);\r\n\r\n    this.noUnconfirmedFailure = !ObjectUtils.isDefined(this.candidateAsset.unconfirmedFailure);\r\n    rate(this.noUnconfirmedFailure);\r\n\r\n    // tslint:disable-next-line:no-magic-numbers\r\n    return NumberUtils.roundNumber((rates.filter((value) => value === 1).length / rates.length) * 100, 0);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { KeyFilterModule } from 'primeng/keyfilter';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\r\nimport { InputSwitchModule } from 'primeng/primeng';\r\nimport { ProgressBarModule } from 'primeng/progressbar';\r\nimport { RadioButtonModule } from 'primeng/radiobutton';\r\nimport { SelectButtonModule } from 'primeng/selectbutton';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { TableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TriStateCheckboxModule } from 'primeng/tristatecheckbox';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { ManageSearchCriteriaModule } from '../../../shared/components/manage-search-criteria/manage-search-criteria.module';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { FileService } from '../../../shared/services/file.service';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\n\r\nimport { MaterialRequestTransferOrderManagementFormComponent } from './form/material-request-transfer-order-management-form.component';\r\nimport { MaterialRequestTransferOrderManagementFormService } from './form/material-request-transfer-order-management-form.service';\r\nimport { DialogSatisfactionRateTransferOrderComponent } from './form/popups/dialog-satisfaction-rate-transfe-order/dialog-satisfaction-rate-transfer-order.component';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  CalendarModule,\r\n  CheckboxModule,\r\n  DropdownModule,\r\n  FileUploadModule,\r\n  InputTextareaModule,\r\n  InputSwitchModule,\r\n  TableModule,\r\n  TooltipModule,\r\n  KeyFilterModule,\r\n  MessageModule,\r\n  OverlayPanelModule,\r\n  ProgressBarModule,\r\n  RadioButtonModule,\r\n  SelectButtonModule,\r\n  SplitButtonModule,\r\n  TriStateCheckboxModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSatisfactionRateTransferOrderComponent];\r\n\r\nconst DYNAMIC_COMPONENTS = [MaterialRequestTransferOrderManagementFormComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [FileService, MaterialRequestTransferOrderManagementFormService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ManageSearchCriteriaModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class MaterialRequestTransferOrderManagementModule {}\r\n","module.exports = \":host .served--nok {\\n  background-color: #f6685e !important; }\\n\\n:host .served--ok {\\n  background-color: #4caf50 !important; }\\n\\n:host .served--warning {\\n  background-color: #ffc107 !important; }\\n\\n:host ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none; }\\n\\n:host .message {\\n  color: #01579b;\\n  font-size: 1rem;\\n  text-align: center;\\n  width: 100%; }\\n\\n:host .materials {\\n  width: 100%; }\\n\\n:host .warehouse {\\n  width: 100%; }\\n\\n:host .snBatch {\\n  width: 100%; }\\n\\n:host .ok {\\n  background-color: #4caf50 !important;\\n  padding: 0.2em; }\\n\\n:host .warning {\\n  background-color: #ffc107 !important;\\n  padding: 0.2em; }\\n\\n:host .nok {\\n  background-color: #f6685e !important;\\n  padding: 0.2em; }\\n\\n:host .font-ok {\\n  color: #4caf50 !important; }\\n\\n:host .font-warning {\\n  color: #ffc107 !important; }\\n\\n:host .font-nok {\\n  color: #f6685e !important; }\\n\\n:host .font-bold {\\n  font-weight: bold; }\\n\\n:host .font-italic {\\n  font-style: italic; }\\n\\n:host .select-box .arrow::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 50%;\\n  margin-top: -1.5em;\\n  border-top: 1.5em solid transparent;\\n  border-bottom: 1.5em solid transparent;\\n  border-left: 0.7em solid #01579b;\\n  right: -0.45em; }\\n\\n:host .section-without-margin {\\n  margin-left: 0px !important;\\n  margin-bottom: 1rem !important; }\\n\\n:host .col-width-20 {\\n  width: 20% !important; }\\n\\n:host ::ng-deep .red .ui-progressbar .ui-progressbar-value {\\n  border: 0 none;\\n  margin: 0;\\n  background: #f6685e !important; }\\n\\n:host ::ng-deep .yellow .ui-progressbar .ui-progressbar-value {\\n  border: 0 none;\\n  margin: 0;\\n  background: #ffc107 !important; }\\n\\n:host ::ng-deep .green .ui-progressbar .ui-progressbar-value {\\n  border: 0 none;\\n  margin: 0;\\n  background: #4caf50 !important; }\\n\\n:host span.green {\\n  color: #4caf50 !important; }\\n\\n:host span.red {\\n  color: #f6685e !important; }\\n\\n:host span.yellow {\\n  color: #ffc107 !important; }\\n\\n:host .img-dimension {\\n  height: 10rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvbWF0ZXJpYWwtcmVxdWVzdC10cmFuc2Zlci1vcmRlci1tYW5hZ2VtZW50L3NoYXJlZC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcbG9naXN0aWNzXFxtYXRlcmlhbC1yZXF1ZXN0LXRyYW5zZmVyLW9yZGVyLW1hbmFnZW1lbnRcXHNoYXJlZFxcc3R5bGUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUVJLG9DQUF3QyxFQUFBOztBQUY1QztFQU1JLG9DQUEwQyxFQUFBOztBQU45QztFQVVJLG9DQUFvQyxFQUFBOztBQVZ4QztFQWNJLFNBQVM7RUFDVCxVQUFVO0VBQ1YsZ0JBQWdCLEVBQUE7O0FBaEJwQjtFQW9CSSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixXQUFXLEVBQUE7O0FBdkJmO0VBMkJJLFdBQVcsRUFBQTs7QUEzQmY7RUErQkksV0FBVyxFQUFBOztBQS9CZjtFQW1DSSxXQUFXLEVBQUE7O0FBbkNmO0VBdUNJLG9DQUEwQztFQUMxQyxjQUFjLEVBQUE7O0FBeENsQjtFQTRDSSxvQ0FBb0M7RUFDcEMsY0FBYyxFQUFBOztBQTdDbEI7RUFpREksb0NBQXdDO0VBQ3hDLGNBQWMsRUFBQTs7QUFsRGxCO0VBc0RJLHlCQUErQixFQUFBOztBQXREbkM7RUEwREkseUJBQXlCLEVBQUE7O0FBMUQ3QjtFQThESSx5QkFBNkIsRUFBQTs7QUE5RGpDO0VBa0VJLGlCQUFpQixFQUFBOztBQWxFckI7RUFzRUksa0JBQWtCLEVBQUE7O0FBdEV0QjtFQTBFSSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixrQkFBa0I7RUFDbEIsbUNBQW1DO0VBQ25DLHNDQUFzQztFQUN0QyxnQ0FBZ0M7RUFDaEMsY0FBYyxFQUFBOztBQWpGbEI7RUFxRkksMkJBQTJCO0VBQzNCLDhCQUE4QixFQUFBOztBQXRGbEM7RUEwRkkscUJBQXFCLEVBQUE7O0FBMUZ6QjtFQWdHUSxjQUFjO0VBQ2QsU0FBUztFQUNULDhCQUFrQyxFQUFBOztBQWxHMUM7RUEwR1EsY0FBYztFQUNkLFNBQVM7RUFDVCw4QkFBOEIsRUFBQTs7QUE1R3RDO0VBb0hRLGNBQWM7RUFDZCxTQUFTO0VBQ1QsOEJBQW9DLEVBQUE7O0FBdEg1QztFQTZITSx5QkFBK0IsRUFBQTs7QUE3SHJDO0VBaUlNLHlCQUE2QixFQUFBOztBQWpJbkM7RUFxSU0seUJBQXlCLEVBQUE7O0FBckkvQjtFQTBJSSxhQUFhLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2xvZ2lzdGljcy9tYXRlcmlhbC1yZXF1ZXN0LXRyYW5zZmVyLW9yZGVyLW1hbmFnZW1lbnQvc2hhcmVkL3N0eWxlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiY29uc3RhbnRzXCI7XHJcbkBpbXBvcnQgXCJtaXhpbnNcIjtcclxuXHJcbjpob3N0IHtcclxuICAuc2VydmVkLS1ub2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5zZXJ2ZWQtLW9rIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5zZXJ2ZWQtLXdhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgdWwge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAubWVzc2FnZSB7XHJcbiAgICBjb2xvcjogIzAxNTc5YjtcclxuICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuXHJcbiAgLm1hdGVyaWFscyB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gIC53YXJlaG91c2Uge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG5cclxuICAuc25CYXRjaCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gIC5vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nOiAwLjJlbTtcclxuICB9XHJcblxyXG4gIC53YXJuaW5nIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2UgIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmc6IDAuMmVtO1xyXG4gIH1cclxuXHJcbiAgLm5vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogMC4yZW07XHJcbiAgfVxyXG5cclxuICAuZm9udC1vayB7XHJcbiAgICBjb2xvcjogJGdyZWVuLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmZvbnQtd2FybmluZyB7XHJcbiAgICBjb2xvcjogJG9yYW5nZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmZvbnQtbm9rIHtcclxuICAgIGNvbG9yOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmZvbnQtYm9sZCB7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICB9XHJcblxyXG4gIC5mb250LWl0YWxpYyB7XHJcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgfVxyXG5cclxuICAuc2VsZWN0LWJveCAuYXJyb3c6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIG1hcmdpbi10b3A6IC0xLjVlbTtcclxuICAgIGJvcmRlci10b3A6IDEuNWVtIHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMS41ZW0gc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItbGVmdDogMC43ZW0gc29saWQgIzAxNTc5YjtcclxuICAgIHJpZ2h0OiAtMC40NWVtO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24td2l0aG91dC1tYXJnaW4ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDBweCAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmNvbC13aWR0aC0yMCB7XHJcbiAgICB3aWR0aDogMjAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgLnJlZCB7XHJcbiAgICAudWktcHJvZ3Jlc3NiYXIge1xyXG4gICAgICAudWktcHJvZ3Jlc3NiYXItdmFsdWUge1xyXG4gICAgICAgIGJvcmRlcjogMCBub25lO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgLnllbGxvdyB7XHJcbiAgICAudWktcHJvZ3Jlc3NiYXIge1xyXG4gICAgICAudWktcHJvZ3Jlc3NiYXItdmFsdWUge1xyXG4gICAgICAgIGJvcmRlcjogMCBub25lO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAkb3JhbmdlICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCAuZ3JlZW4ge1xyXG4gICAgLnVpLXByb2dyZXNzYmFyIHtcclxuICAgICAgLnVpLXByb2dyZXNzYmFyLXZhbHVlIHtcclxuICAgICAgICBib3JkZXI6IDAgbm9uZTtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgYmFja2dyb3VuZDogJGdyZWVuLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzcGFuIHtcclxuICAgICYuZ3JlZW4ge1xyXG4gICAgICBjb2xvcjogJGdyZWVuLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgICYucmVkIHtcclxuICAgICAgY29sb3I6ICRyZWQtbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgJi55ZWxsb3cge1xyXG4gICAgICBjb2xvcjogJG9yYW5nZSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmltZy1kaW1lbnNpb24ge1xyXG4gICAgaGVpZ2h0OiAxMHJlbTtcclxuICB9XHJcbn1cclxuIl19 */\"","export class BidtStockMvtConstants {\r\n  public static readonly MVT_WAY_CREDIT: string = 'C';\r\n\r\n  public static readonly MVT_WAY_DEBIT: string = 'D';\r\n\r\n  public static readonly MVT_WAY_TRANSFER: string = 'T';\r\n\r\n  public static readonly MVT_RECONDITIONING: string = 'MVT_RECONDITIONING';\r\n\r\n  public static readonly MVT_RELATED_FL: string = 'MVT_RELATED_FL';\r\n\r\n  public static readonly MVT_STORAGE_COUNTER_RESET = 'MVT_STORAGE_COUNTER_RESET';\r\n\r\n  public static readonly MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT = 0;\r\n  public static readonly MVT_STATUS_STEP_WAY_TRANSFERT = 1;\r\n  public static readonly MVT_STATUS_STEP_WAY_DEBIT = 2;\r\n  public static readonly MVT_STATUS_STEP_WAY_CREDIT = 3;\r\n}\r\n","export class BidtStockMvtTypeConstant {\r\n  public static readonly RECEIPT = 10;\r\n  public static readonly STORAGE = 11;\r\n  public static readonly LOCATION_CHANGE = 12;\r\n  public static readonly QUARANTINE = 13;\r\n  public static readonly CROSS_DOCKING = 18;\r\n  public static readonly PICKING = 19;\r\n  public static readonly SHIPMENT = 20;\r\n  public static readonly BATCH_SPLITTING_PLUS = 22;\r\n  public static readonly BATCH_SPLITTING_MINUS = 23;\r\n  public static readonly INVENTORY_CORRECTION_PLUS = 24;\r\n  public static readonly INVENTORY_CORRECTION_MINUS = 25;\r\n  public static readonly WORKSHOP_ENTRY = 30;\r\n  public static readonly INSTALLATION = 40;\r\n  public static readonly REMOVAL = 50;\r\n  public static readonly WORKSHOP_ISSUE = 60;\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DocumentApi } from '../api/document.api';\r\nimport { ProductStructureManagementApi } from '../api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../http/abstract-aw-http';\r\nimport { BidoBireDocumentDTO } from '../types/api-types/bido-bire-documentdto';\r\nimport { BidoBireWrapperId } from '../types/api-types/bido-bire-wrapper-id';\r\nimport { BidoEquipmentDTO } from '../types/api-types/bido-equipment-dto.interface';\r\nimport { BireDocItemDTO } from '../types/api-types/bire-doc-item-dto.interface';\r\nimport { BireItemDTOId } from '../types/api-types/bire-item-dto-id.interface';\r\nimport { ImageUtils } from '../utils/image-utils';\r\n\r\nimport { AppConfigService } from './app-config.service';\r\n\r\n@Injectable()\r\nexport class FileService extends AbstractAwHttpService {\r\n  public constructor(http: HttpClient,\r\n                     appConfigService: AppConfigService,\r\n                     private readonly domSanitizer: DomSanitizer,\r\n                     private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n                     private readonly documentApi : DocumentApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findIllustration(bireItemDtoId: BireItemDTOId | undefined, bidoEquipementDTO: BidoEquipmentDTO)\r\n    : Observable<BidoBireDocumentDTO> {\r\n    const bidoBireId : BidoBireWrapperId = {\r\n      bidoEquipmentDTOId: {equipmentCode: bidoEquipementDTO.equipmentCode},\r\n      bireItemDTOId: bireItemDtoId,\r\n      sn: bidoEquipementDTO.sn\r\n    };\r\n\r\n    return super.post<BidoBireWrapperId, BidoBireDocumentDTO>(\r\n      this.documentApi.findBidoBireDoc, bidoBireId);\r\n  }\r\n\r\n  public findBireDocItemByPnCode(input: string): Observable<BireDocItemDTO | undefined> {\r\n    return super.post<string, BireDocItemDTO | undefined>(\r\n      this.productStructureManagementApi.findBireDocItemByPnCode,\r\n      input\r\n    );\r\n  }\r\n\r\n  public sanitizeAndGetBase64Prefix(illustrationDocument: BidoBireDocumentDTO) : SafeResourceUrl {\r\n    return this.domSanitizer.bypassSecurityTrustResourceUrl(\r\n      `${ImageUtils.getBase64Prefix(illustrationDocument.docType)}${illustrationDocument.docFile}`);\r\n  }\r\n}\r\n","import { StringUtils } from './string-utils';\r\n\r\nexport class ImageUtils {\r\n  private static readonly JPG_BASE64_ID = 'jpg';\r\n  private static readonly PNG_BASE64_ID = 'png';\r\n\r\n  private static readonly JPG_EXTENSION_LIST = ['jpeg', 'jpg'];\r\n  private static readonly PNG_EXTENSION_LIST = ['png'];\r\n\r\n  public static getBase64Prefix(extension: string | undefined): string {\r\n    let formattedExtension = '';\r\n    if (this.isJpg(extension)) {\r\n      formattedExtension = ImageUtils.JPG_BASE64_ID;\r\n    } else if (this.isPng(extension)) {\r\n      formattedExtension = ImageUtils.PNG_BASE64_ID;\r\n    }\r\n\r\n    return StringUtils.isEmpty(formattedExtension) ? '' : `data:image/${formattedExtension};base64,`;\r\n  }\r\n\r\n  public static isJpg(extension: string | undefined): boolean {\r\n    return this.isFormatMatching(extension, ImageUtils.JPG_EXTENSION_LIST);\r\n  }\r\n\r\n  public static isPng(extension: string | undefined): boolean {\r\n    return this.isFormatMatching(extension, ImageUtils.PNG_EXTENSION_LIST);\r\n  }\r\n\r\n  private static isFormatMatching(extension: string | undefined, validExtensionList: string[]): boolean {\r\n    if (StringUtils.isNullOrEmpty(extension)) {\r\n      return false;\r\n    } else {\r\n      const extensionToCheck = (extension as string).toLowerCase();\r\n\r\n      return validExtensionList.some((elt) => elt === extensionToCheck);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}