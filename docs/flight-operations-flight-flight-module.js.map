{"version":3,"sources":["webpack:///./src/app/brasidas/brasidas-crm.api.ts","webpack:///./src/app/brasidas/brasidas-crm.service.ts","webpack:///./src/app/main/flight-operations/flight/flight.module.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/crew/crew.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/crew/crew.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/crew/dialog-crew-member/dialog-crew-member.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/crew/dialog-crew-member/dialog-crew-member.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/dialog-add-defect/dialog-add-defect.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/dialog-add-defect/dialog-add-defect.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/engines/dialog-engine-dates/dialog-engine-dates.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/engines/dialog-engine-dates/dialog-engine-dates.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/engines/dialog-engine/dialog-engine.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/engines/dialog-engine/dialog-engine.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/engines/engines.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/engines/engines.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/flight-form.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/flight-form.component.scss","webpack:///./src/app/main/flight-operations/flight/form/flight/flight-form.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/flight-measures/flight-measures.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/flight-measures/flight-measures.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/fuel/fuel.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/fuel/fuel.component.scss","webpack:///./src/app/main/flight-operations/flight/form/flight/fuel/fuel.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/gonogo-validation-status/gonogo-validation-status.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/gonogo-validation-status/gonogo-validation-status.component.scss","webpack:///./src/app/main/flight-operations/flight/form/flight/gonogo-validation-status/gonogo-validation-status.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/gonogo-validation/gonogo-validation-form.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/gonogo-validation/gonogo-validation-form.component.scss","webpack:///./src/app/main/flight-operations/flight/form/flight/gonogo-validation/gonogo-validation-form.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/gonogo-validation/gonogo-validation-form.service.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/hums/hums.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/hums/hums.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/other-measures/dialog-measure/dialog-measure.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/other-measures/dialog-measure/dialog-measure.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/other-measures/other-measures.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/other-measures/other-measures.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/passengers-loads/dialog-add-load/dialog-add-load.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/passengers-loads/dialog-add-load/dialog-add-load.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/passengers-loads/dialog-edit-load/dialog-edit-load.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/passengers-loads/dialog-edit-load/dialog-edit-load.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/passengers-loads/passengers-loads.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/passengers-loads/passengers-loads.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/post-flight-records/post-flight-records.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/post-flight-records/post-flight-records.component.ts","webpack:///./src/app/main/flight-operations/flight/form/flight/replenishments-validation/replenishments-validation.component.html","webpack:///./src/app/main/flight-operations/flight/form/flight/replenishments-validation/replenishments-validation.component.scss","webpack:///./src/app/main/flight-operations/flight/form/flight/replenishments-validation/replenishments-validation.component.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/dialog-after-flight-quantity/dialog-after-flight-quantity.component.html","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/dialog-after-flight-quantity/dialog-after-flight-quantity.component.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/dialog-engine-oil-replenishment-measure/dialog-engine-oil-replenishment-measure.component.html","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/dialog-engine-oil-replenishment-measure/dialog-engine-oil-replenishment-measure.component.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/dialog-replenishment-measure/dialog-replenishment-measure.component.html","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/dialog-replenishment-measure/dialog-replenishment-measure.component.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/engine-oil-replenishment/engine-oil-replenishment.component.html","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/engine-oil-replenishment/engine-oil-replenishment.component.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/line-maintenance-form.component.html","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/line-maintenance-form.component.scss","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/line-maintenance-form.component.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/line-maintenance-form.service.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/operational-configuration-settling/operational-configuration-settling.component.html","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/operational-configuration-settling/operational-configuration-settling.component.scss","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/operational-configuration-settling/operational-configuration-settling.component.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/operational-configuration-settling/operational-configuration-setup.service.ts","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/replenishments/replenishments.component.html","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/replenishments/replenishments.component.scss","webpack:///./src/app/main/flight-operations/flight/form/line-maintenance/replenishments/replenishments.component.ts","webpack:///./src/app/main/flight-operations/flight/search/flight-search.component.ts","webpack:///./src/app/main/flight-operations/flight/search/line-maintenance-search.component.ts","webpack:///./src/app/main/flight-operations/flight/search/search.component.html","webpack:///./src/app/main/flight-operations/flight/search/search.component.ts","webpack:///./src/app/shared/api/operational-configuration-setup.api.ts","webpack:///./src/app/shared/components/dialog-search-aircraft/dialog-search-aircraft.component.html","webpack:///./src/app/shared/components/dialog-search-aircraft/dialog-search-aircraft.component.ts","webpack:///./src/app/shared/components/dialog-search-aircraft/dialog-search-aircraft.module.ts","webpack:///./src/app/shared/components/dialog-search-aircraft/dialog-search-aircraft.service.ts","webpack:///./src/app/shared/components/dialog-search-mission/dialog-search-mission.component.html","webpack:///./src/app/shared/components/dialog-search-mission/dialog-search-mission.component.ts","webpack:///./src/app/shared/components/dialog-search-mission/dialog-search-mission.module.ts","webpack:///./src/app/shared/components/dialog-search-mission/dialog-search-mission.service.ts","webpack:///./src/app/shared/components/dialog-update-task-application/dialog-update-task-application.component.html","webpack:///./src/app/shared/components/dialog-update-task-application/dialog-update-task-application.component.ts","webpack:///./src/app/shared/constants/bido-mission-equipment-constants.ts","webpack:///./src/app/shared/constants/bido-notification-type-constants.ts","webpack:///./src/app/shared/constants/bidt-qualification-constants.ts","webpack:///./src/app/shared/enums/table-column-filter-mode.enum.ts","webpack:///./src/app/shared/enums/table-selection-mode.enum.ts","webpack:///./src/app/shared/utils/bido-equipment-utils.ts","webpack:///./src/app/shared/utils/bido-family-variant-utils.ts","webpack:///./src/app/shared/utils/bidt-employee-utils.ts","webpack:///./src/app/shared/utils/bire-sb-utils.ts","webpack:///./src/app/shared/utils/label-value-utils.ts"],"names":[],"mappings":"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","file":"flight-operations-flight-flight-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\nimport { AbstractApi } from '../shared/api/abstract.api';\r\n\r\n@Injectable()\r\nexport class BrasidasCrmApi extends AbstractApi {\r\n  private static readonly baseUrl: string = 'brasidas/crm';\r\n\r\n  public readonly generateCrmPackageReport: string = super.appendToBaseUrl('');\r\n\r\n  public constructor() {\r\n    super(BrasidasCrmApi.baseUrl);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AbstractAwHttpService } from '../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../shared/services/app-config.service';\r\nimport { BidoMissionEquipmentDTOId } from '../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { FileContentDTO } from '../shared/types/api-types/file-content-dto.interface';\r\n\r\nimport { BrasidasCrmApi } from './brasidas-crm.api';\r\n\r\n@Injectable()\r\nexport class BrasidasCrmFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly brasidasCrmApi: BrasidasCrmApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public generateCrm(bidoMissionEquipmentDTOId: BidoMissionEquipmentDTOId): Observable<FileContentDTO> {\r\n    return super.post<BidoMissionEquipmentDTOId, FileContentDTO>(\r\n      this.brasidasCrmApi.generateCrmPackageReport,\r\n      bidoMissionEquipmentDTOId\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { ChartModule } from 'primeng/chart';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TreeTableModule } from 'primeng/treetable';\r\n\r\nimport { BrasidasCrmApi } from '../../../brasidas/brasidas-crm.api';\r\nimport { BrasidasCrmFormService } from '../../../brasidas/brasidas-crm.service';\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { OperationalConfigurationSetupApi } from '../../../shared/api/operational-configuration-setup.api';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { ComponentSidebarModule } from '../../../shared/components/component-sidebar/component-sidebar.mdule';\r\nimport { DialogSearchAircraftModule } from '../../../shared/components/dialog-search-aircraft/dialog-search-aircraft.module';\r\nimport { DialogSearchMissionModule } from '../../../shared/components/dialog-search-mission/dialog-search-mission.module';\r\nimport { DialogSearchOperationalConfigModule } from '../../../shared/components/dialog-search-operational-config/dialog-search-operational-config.module';\r\nimport { DialogUpdateTaskApplicationComponent } from '../../../shared/components/dialog-update-task-application/dialog-update-task-application.component';\r\nimport { DialogWorkPackageModule } from '../../../shared/components/dialog-work-package/dialog-work-package.module';\r\nimport { ManageSearchCriteriaModule } from '../../../shared/components/manage-search-criteria/manage-search-criteria.module';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { StatusUpdateHistoryModule } from '../../../shared/components/status-update-history/status-update-history.module';\r\nimport { TableModule } from '../../../shared/components/table/table.module';\r\nimport { WorkPackageListModule } from '../../../shared/components/work-package-list/work-package-list.module';\r\nimport { SettingsFormService } from '../../administration/settings/form/settings-form.service';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\nimport { FunctionalLocationSearchService } from '../../engineering-management/functional-location-search/functional-location-search.service';\r\nimport { InstallAssetService } from '../../fleet-management/install-asset/install-asset.service';\r\nimport { WorkPackageFormService } from '../../maintenance/work-package/form/work-package-form.service';\r\nimport { WorkPackageSearchService } from '../../maintenance/work-package/search/work-package-search.service';\r\n\r\nimport { CrewComponent } from './form/flight/crew/crew.component';\r\nimport { DialogCrewMemberComponent } from './form/flight/crew/dialog-crew-member/dialog-crew-member.component';\r\nimport { DialogAddDefectComponent } from './form/flight/dialog-add-defect/dialog-add-defect.component';\r\nimport { DialogEngineDatesComponent } from './form/flight/engines/dialog-engine-dates/dialog-engine-dates.component';\r\nimport { DialogEngineComponent } from './form/flight/engines/dialog-engine/dialog-engine.component';\r\nimport { EnginesComponent } from './form/flight/engines/engines.component';\r\nimport { FlightFormComponent } from './form/flight/flight-form.component';\r\nimport { FlightFormService } from './form/flight/flight-form.service';\r\nimport { FlightMeasuresComponent } from './form/flight/flight-measures/flight-measures.component';\r\nimport { FuelComponent } from './form/flight/fuel/fuel.component';\r\nimport { GonogoValidationStatusComponent } from './form/flight/gonogo-validation-status/gonogo-validation-status.component';\r\nimport { GonogoValidationFormComponent } from './form/flight/gonogo-validation/gonogo-validation-form.component';\r\nimport { GonogoValidationFormService } from './form/flight/gonogo-validation/gonogo-validation-form.service';\r\nimport { HumsComponent } from './form/flight/hums/hums.component';\r\nimport { DialogMeasureComponent } from './form/flight/other-measures/dialog-measure/dialog-measure.component';\r\nimport { OtherMeasuresComponent } from './form/flight/other-measures/other-measures.component';\r\nimport { DialogAddLoadComponent } from './form/flight/passengers-loads/dialog-add-load/dialog-add-load.component';\r\nimport { DialogEditLoadComponent } from './form/flight/passengers-loads/dialog-edit-load/dialog-edit-load.component';\r\nimport { PassengersLoadsComponent } from './form/flight/passengers-loads/passengers-loads.component';\r\nimport { PostFlightRecordsComponent } from './form/flight/post-flight-records/post-flight-records.component';\r\nimport { ReplenishmentsValidationComponent } from './form/flight/replenishments-validation/replenishments-validation.component';\r\nimport { DialogAfterFlightQuantityComponent } from './form/line-maintenance/dialog-after-flight-quantity/dialog-after-flight-quantity.component';\r\nimport { DialogEngineOilReplenishmentMeasureComponent } from './form/line-maintenance/dialog-engine-oil-replenishment-measure/dialog-engine-oil-replenishment-measure.component';\r\nimport { DialogReplenishmentMeasureComponent } from './form/line-maintenance/dialog-replenishment-measure/dialog-replenishment-measure.component';\r\nimport { EngineOilReplenishmentComponent } from './form/line-maintenance/engine-oil-replenishment/engine-oil-replenishment.component';\r\nimport { LineMaintenanceFormComponent } from './form/line-maintenance/line-maintenance-form.component';\r\nimport { LineMaintenanceFormService } from './form/line-maintenance/line-maintenance-form.service';\r\nimport { OperationalConfigurationSettlingComponent } from './form/line-maintenance/operational-configuration-settling/operational-configuration-settling.component';\r\nimport { OperationalConfigurationSetupService } from './form/line-maintenance/operational-configuration-settling/operational-configuration-setup.service';\r\nimport { ReplenishmentsComponent } from './form/line-maintenance/replenishments/replenishments.component';\r\nimport { FlightSearchComponent } from './search/flight-search.component';\r\nimport { LineMaintenanceSearchComponent } from './search/line-maintenance-search.component';\r\nimport { SearchService } from './search/search.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  CalendarModule,\r\n  ChartModule,\r\n  CheckboxModule,\r\n  DropdownModule,\r\n  OverlayPanelModule,\r\n  SplitButtonModule,\r\n  PrimeNgTableModule,\r\n  TooltipModule,\r\n  TreeTableModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [\r\n  ComponentSidebarModule,\r\n  DialogSearchAircraftModule,\r\n  DialogSearchMissionModule,\r\n  DialogSearchOperationalConfigModule,\r\n  DialogWorkPackageModule,\r\n  StatusUpdateHistoryModule,\r\n  ModalModule,\r\n  TableModule,\r\n  WorkPackageListModule,\r\n  ManageSearchCriteriaModule\r\n];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [\r\n  CrewComponent,\r\n  DialogAddDefectComponent,\r\n  DialogAfterFlightQuantityComponent,\r\n  DialogAddLoadComponent,\r\n  DialogCrewMemberComponent,\r\n  DialogEditLoadComponent,\r\n  DialogEngineComponent,\r\n  DialogEngineDatesComponent,\r\n  DialogEngineOilReplenishmentMeasureComponent,\r\n  DialogMeasureComponent,\r\n  DialogReplenishmentMeasureComponent,\r\n  DialogUpdateTaskApplicationComponent,\r\n  EngineOilReplenishmentComponent,\r\n  EnginesComponent,\r\n  FlightMeasuresComponent,\r\n  GonogoValidationStatusComponent,\r\n  FuelComponent,\r\n  HumsComponent,\r\n  OtherMeasuresComponent,\r\n  PassengersLoadsComponent,\r\n  PostFlightRecordsComponent,\r\n  ReplenishmentsComponent,\r\n  ReplenishmentsValidationComponent\r\n];\r\n\r\nconst DYNAMIC_COMPONENTS = [\r\n  FlightFormComponent,\r\n  FlightSearchComponent,\r\n  GonogoValidationFormComponent,\r\n  LineMaintenanceFormComponent,\r\n  LineMaintenanceSearchComponent,\r\n  OperationalConfigurationSettlingComponent\r\n];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [\r\n  FlightFormService,\r\n  GonogoValidationFormService,\r\n  LineMaintenanceFormService,\r\n  SearchService,\r\n  SettingsFormService,\r\n  FunctionalLocationSearchService,\r\n  InstallAssetService,\r\n  BrasidasCrmFormService,\r\n  OperationalConfigurationSetupService,\r\n  WorkPackageFormService,\r\n  WorkPackageSearchService\r\n];\r\n\r\n/******************************************************************************\r\n * API\r\n *************************************************************************** */\r\n\r\nconst API = [BrasidasCrmApi, OperationalConfigurationSetupApi];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...API, ...SERVICES]\r\n})\r\nexport class FlightModule {}\r\n","module.exports = \"<div #page>\\r\\n  <div class=\\\"grid-cell-header\\\">\\r\\n    <div class=\\\"grid-cell-title-container\\\">\\r\\n      <div id=\\\"crewMemberTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n        <span>{{ getComponentName() + \\\".crew\\\" | translate }}</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n    <div class=\\\"section\\\">\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div id=\\\"pilot\\\" class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ getComponentName() + \\\".pilot\\\" | translate }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                [options]=\\\"pilotList\\\"\\r\\n                [(ngModel)]=\\\"pilot\\\"\\r\\n                [disabled]=\\\"isReadOpenMode || !sessionService.hrModuleActivated\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div id=\\\"copilot\\\" class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ getComponentName() + \\\".copilot\\\" | translate }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                [options]=\\\"copilotList\\\"\\r\\n                [(ngModel)]=\\\"copilot\\\"\\r\\n                [disabled]=\\\"isReadOpenMode || !sessionService.hrModuleActivated\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"section\\\">\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <p-table\\r\\n          id=\\\"crewMemberTable\\\"\\r\\n          [resizableColumns]=\\\"true\\\"\\r\\n          #ptableCrew\\r\\n          class=\\\"aw-table2\\\"\\r\\n          [value]=\\\"crewMemberTable\\\"\\r\\n          [(selection)]=\\\"crewMemberTableSelection\\\"\\r\\n          selectionMode=\\\"single\\\"\\r\\n          [scrollable]=\\\"true\\\"\\r\\n          (onRowSelect)=\\\"onSelectcrewMemberTableRow($event.index)\\\"\\r\\n          (onRowUnselect)=\\\"onUnselectcrewMemberTableRow()\\\"\\r\\n        >\\r\\n          <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n            <span *ngIf=\\\"!crewMemberTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n            <div *ngIf=\\\"crewMemberTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n              <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n              <div class=\\\"lds-hourglass\\\"></div>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"caption\\\">\\r\\n            <div class=\\\"aw-table-header\\\">\\r\\n              <div class=\\\"aw-table-actions\\\">\\r\\n                <button\\r\\n                  id=\\\"deleteCrewMemberTable\\\"\\r\\n                  *ngIf=\\\"\\r\\n                    !isReadOpenMode &&\\r\\n                    sessionService.hrModuleActivated &&\\r\\n                    crewMemberTableSelection !== undefined &&\\r\\n                    crewMemberTableSelection !== null\\r\\n                  \\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  color=\\\"warn\\\"\\r\\n                  (click)=\\\"deleteCrewMember()\\\"\\r\\n                >\\r\\n                  {{ \\\"global.delete\\\" | translate }}\\r\\n                </button>\\r\\n\\r\\n                <button\\r\\n                  id=\\\"addCrewMemberTable\\\"\\r\\n                  *ngIf=\\\"\\r\\n                    !isReadOpenMode &&\\r\\n                    sessionService.hrModuleActivated &&\\r\\n                    (crewMemberTableSelection === undefined || crewMemberTableSelection === null)\\r\\n                  \\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"addCrewMember()\\\"\\r\\n                >\\r\\n                  {{ \\\"global.add\\\" | translate }}\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n            <colgroup>\\r\\n              <col [ngStyle]=\\\"{ 'text-align': 'left' }\\\" />\\r\\n            </colgroup>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n            <tr>\\r\\n              <th [ngStyle]=\\\"{ 'text-align': 'left' }\\\">\\r\\n                {{ getComponentName() + \\\".crew\\\" | translate }}\\r\\n                ({{ crewMemberTable ? crewMemberTable.length : 0 }})\\r\\n              </th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n            <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n              <td [ngStyle]=\\\"{ 'text-align': 'left' }\\\">\\r\\n                {{ rowData[\\\"name\\\"] }}\\r\\n              </td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </p-table>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-crew-member\\r\\n  *ngIf=\\\"dialogCrewMemberVisible\\\"\\r\\n  [(display)]=\\\"dialogCrewMemberVisible\\\"\\r\\n  [crewMemberList]=\\\"remainingCrewMemberList\\\"\\r\\n  (onValidate)=\\\"onAddedCrewMember($event)\\\"\\r\\n></aw-dialog-crew-member>\\r\\n\"","import { Component, ElementRef, Input } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { BidtQualificationConstants } from '../../../../../../shared/constants/bidt-qualification-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidtEmployeeDTO } from '../../../../../../shared/types/api-types/bidt-employee-dto.interface';\r\nimport { FlightCrewDTO } from '../../../../../../shared/types/api-types/flight-crew-dto.interface';\r\nimport { FlightDTO } from '../../../../../../shared/types/api-types/flight-dto.interface';\r\nimport { PersonDTO } from '../../../../../../shared/types/api-types/person-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { BidtEmployeeUtils } from '../../../../../../shared/utils/bidt-employee-utils';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\nimport { CrewMemberRow } from './types/crew-member-row.interface';\r\n\r\n@Component({\r\n  selector: 'aw-flight-crew',\r\n  templateUrl: './crew.component.html'\r\n})\r\nexport class CrewComponent extends GenericComponent {\r\n  private static readonly CREW_SEPARATOR: string = ';';\r\n\r\n  public copilot: BidtEmployeeDTO | undefined;\r\n  public copilotList: SelectItem[];\r\n  public crewMemberTable: CrewMemberRow[];\r\n  public crewMemberTableSelection: CrewMemberRow | undefined;\r\n  public crewMemberTableLoading: boolean;\r\n  public employeeList: BidtEmployeeDTO[];\r\n  public pilot: BidtEmployeeDTO | undefined;\r\n  public pilotList: SelectItem[];\r\n  public remainingCrewMemberList: SelectItem[];\r\n\r\n  public dialogCrewMemberVisible: boolean;\r\n\r\n  private crewMemberTableSelectionIndex: number | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(public sessionService: SessionService, private readonly flightFormService: FlightFormService) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'CrewComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.copilot = undefined;\r\n    this.copilotList = [];\r\n    this.crewMemberTable = [];\r\n    this.crewMemberTableSelection = undefined;\r\n    this.crewMemberTableSelectionIndex = undefined;\r\n    this.crewMemberTableLoading = false;\r\n    this.employeeList = [];\r\n    this.pilot = undefined;\r\n    this.pilotList = [];\r\n    this.remainingCrewMemberList = [];\r\n\r\n    this.dialogCrewMemberVisible = false;\r\n  }\r\n\r\n  public onLoad(missionEquipment: BidoMissionEquipmentDTO): void {\r\n    this.loadCopilotData(missionEquipment);\r\n    this.loadCrewData(missionEquipment);\r\n    this.loadPilotData(missionEquipment);\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public addCrewMember(): void {\r\n    this.dialogCrewMemberVisible = true;\r\n  }\r\n\r\n  public deleteCrewMember(): void {\r\n    this.crewMemberTable = this.crewMemberTable.filter((_, index) => index !== this.crewMemberTableSelectionIndex);\r\n    this.crewMemberTableSelection = undefined;\r\n    this.crewMemberTableSelectionIndex = undefined;\r\n\r\n    this.calculateRemainingLoadCategoryList();\r\n  }\r\n\r\n  public fillFlight(flight: FlightDTO, missionEquipment: BidoMissionEquipmentDTO): void {\r\n    if (this.sessionService.hrModuleActivated) {\r\n      const crewList: FlightCrewDTO[] = this.crewMemberTable.map((crewMember) =>\r\n        this.createFlightCrew(crewMember._obj, BidtQualificationConstants.CODE_FLIGHT_OPS_FLIGHT_OTHER)\r\n      );\r\n      if (this.copilot) {\r\n        crewList.push(this.createFlightCrew(this.copilot, BidtQualificationConstants.CODE_FLIGHT_OPS_COPILOT));\r\n      }\r\n      if (this.pilot) {\r\n        crewList.push(this.createFlightCrew(this.pilot, BidtQualificationConstants.CODE_FLIGHT_OPS_PILOT));\r\n      }\r\n      flight.flightCrewList = crewList;\r\n    } else {\r\n      flight.flightPilot = missionEquipment.commander;\r\n      flight.flightCopilot = missionEquipment.copilot;\r\n      flight.flightCrew = missionEquipment.crewExtra;\r\n    }\r\n  }\r\n\r\n  public onAddedCrewMember(newCrewMember: BidtEmployeeDTO): void {\r\n    this.crewMemberTable = [...this.crewMemberTable, this.createCrewMemberRow(newCrewMember)];\r\n\r\n    this.calculateRemainingLoadCategoryList();\r\n  }\r\n\r\n  public onSelectcrewMemberTableRow(rowIndex: number): void {\r\n    this.crewMemberTableSelectionIndex = rowIndex;\r\n  }\r\n\r\n  public onUnselectcrewMemberTableRow(): void {\r\n    this.crewMemberTableSelectionIndex = undefined;\r\n  }\r\n\r\n  private calculateRemainingLoadCategoryList(): void {\r\n    this.remainingCrewMemberList = this.createEmployeeList(\r\n      this.employeeList.filter(\r\n        (employee) => !this.crewMemberTable.some((crewMember) => crewMember._obj.id === employee.id)\r\n      )\r\n    );\r\n  }\r\n\r\n  private createCrewMemberRow(crewMember: BidtEmployeeDTO): CrewMemberRow {\r\n    const crewMemberRow: CrewMemberRow = {\r\n      name: BidtEmployeeUtils.format(crewMember),\r\n      _obj: crewMember\r\n    };\r\n\r\n    return crewMemberRow;\r\n  }\r\n\r\n  private createEmployeeList(employeeList: BidtEmployeeDTO[]): SelectItem[] {\r\n    return employeeList.map((employee) => {\r\n      return {\r\n        label: BidtEmployeeUtils.format(employee),\r\n        value: employee\r\n      };\r\n    });\r\n  }\r\n\r\n  private createFlightCrew(employee: BidtEmployeeDTO, position: string): FlightCrewDTO {\r\n    const person: PersonDTO = {\r\n      id: (employee.id as number).toString(),\r\n      firstName: employee.employeeFirstName,\r\n      lastName: employee.employeeLastName,\r\n      email: undefined,\r\n      phoneNumber: undefined,\r\n      actorId: undefined,\r\n      userId: undefined\r\n    };\r\n    const flightCrew: FlightCrewDTO = {\r\n      person,\r\n      position,\r\n      id: (employee.id as number).toString(),\r\n      license: undefined,\r\n      landing: undefined,\r\n      hourDayIfr: undefined,\r\n      hourDayVfr: undefined,\r\n      hourNightIfr: undefined,\r\n      hourNightVfr: undefined\r\n    };\r\n\r\n    return flightCrew;\r\n  }\r\n\r\n  private loadCopilotData(missionEquipment: BidoMissionEquipmentDTO): void {\r\n    this.flightFormService\r\n      .findAllEmployeeByQualificationCode(BidtQualificationConstants.CODE_FLIGHT_OPS_COPILOT)\r\n      .subscribe((copilotResults) => {\r\n        if (!ListUtils.isNullOrEmpty(copilotResults)) {\r\n          this.copilotList = this.createEmployeeList(copilotResults.filter((elt) => ObjectUtils.isDefined(elt.id)));\r\n          this.copilot = copilotResults.find((elt) => (elt.id as number).toString() === missionEquipment.copilot);\r\n        }\r\n      });\r\n  }\r\n\r\n  private loadCrewData(missionEquipment: BidoMissionEquipmentDTO): void {\r\n    this.crewMemberTableLoading = true;\r\n    this.flightFormService\r\n      .findAllEmployeeByQualificationType(AWPropertiesConstants.HR_QUALIFICATION_TYPE_FLIGHT_OPERATIONS)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.crewMemberTableLoading = false;\r\n        })\r\n      )\r\n      .subscribe((crewMemberResults) => {\r\n        this.employeeList = ListUtils.orEmpty(crewMemberResults)\r\n          .filter((elt) => ObjectUtils.isDefined(elt.id))\r\n          .filter((v, i, a) => a.indexOf(v) === i);\r\n\r\n        const crew = StringUtils.orEmpty(missionEquipment.crewExtra).split(CrewComponent.CREW_SEPARATOR);\r\n        this.crewMemberTable = this.employeeList\r\n          .filter((elt) => crew.includes((elt.id as number).toString()))\r\n          .map((crewMemberResult) => this.createCrewMemberRow(crewMemberResult));\r\n\r\n        this.calculateRemainingLoadCategoryList();\r\n      });\r\n  }\r\n\r\n  private loadPilotData(missionEquipment: BidoMissionEquipmentDTO): void {\r\n    this.flightFormService\r\n      .findAllEmployeeByQualificationCode(BidtQualificationConstants.CODE_FLIGHT_OPS_PILOT)\r\n      .subscribe((pilotResults) => {\r\n        if (!ListUtils.isNullOrEmpty(pilotResults)) {\r\n          this.pilotList = this.createEmployeeList(pilotResults.filter((elt) => ObjectUtils.isDefined(elt.id)));\r\n          this.pilot = pilotResults.find((elt) => (elt.id as number).toString() === missionEquipment.commander);\r\n        }\r\n      });\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".crewMember\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [options]=\\\"crewMemberList\\\"\\r\\n            [(ngModel)]=\\\"crewMember\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [disabled]=\\\"crewMember === undefined || crewMember === null\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../../shared/enums/component-open-mode.enum';\r\nimport { BidtEmployeeDTO } from '../../../../../../../shared/types/api-types/bidt-employee-dto.interface';\r\nimport { DialogComponent } from '../../../../../../../shared/types/dialog-component';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-crew-member',\r\n  templateUrl: './dialog-crew-member.component.html'\r\n})\r\nexport class DialogCrewMemberComponent extends DialogComponent {\r\n  public crewMember: BidtEmployeeDTO | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public crewMemberList: SelectItem[];\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public onValidate: EventEmitter<BidtEmployeeDTO>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Read, 'DialogCrewMemberComponent');\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.crewMember = undefined;\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.onValidate = new EventEmitter<BidtEmployeeDTO>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public validate(): void {\r\n    this.onValidate.emit(this.crewMember as BidtEmployeeDTO);\r\n    super.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".defectType\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control required\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [options]=\\\"defectTypeList\\\"\\r\\n            [(ngModel)]=\\\"defectTypeSelected\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!isValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Output } from '@angular/core';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-add-defect',\r\n  templateUrl: './dialog-add-defect.component.html'\r\n})\r\nexport class DialogAddDefectComponent extends DialogComponent {\r\n  @Output()\r\n  public onValidated: EventEmitter<string>;\r\n\r\n  public defectTypeList: LabelValue<string>[];\r\n  public defectTypeSelected: string | undefined;\r\n\r\n  public constructor(private readonly flightFormService: FlightFormService) {\r\n    super(ComponentOpenMode.Write, 'DialogAddDefectComponent');\r\n\r\n    this.init();\r\n    this.loadDefectTypeList();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return ObjectUtils.isDefined(this.defectTypeSelected);\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.defectTypeSelected);\r\n    this.closeDialog();\r\n  }\r\n\r\n  private init(): void {\r\n    this.defectTypeList = [];\r\n    this.defectTypeSelected = undefined;\r\n\r\n    this.onValidated = new EventEmitter<string>();\r\n  }\r\n\r\n  private loadDefectTypeList(): void {\r\n    this.flightFormService\r\n      .findAllBidoNotificationTypesByTypeCategory(AWPropertiesConstants.EVENT_CATEGORY_DEFECT_KEY)\r\n      .subscribe((results) => {\r\n        this.defectTypeList = ListUtils.orEmpty(results)\r\n          .filter(\r\n            (result) =>\r\n              !StringUtils.isNullOrEmpty(result.typeCode) && !StringUtils.isNullOrEmpty(result.typeDescription)\r\n          )\r\n          .map((result) => {\r\n            return {\r\n              label: result.typeDescription as string,\r\n              value: result.typeCode as string\r\n            };\r\n          });\r\n      });\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".startDate\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [showTime]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"startDate\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".endDate\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [showTime]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"endDate\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../../../../shared/services/session.service';\r\nimport { DialogComponent } from '../../../../../../../shared/types/dialog-component';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-flight-engine-dates',\r\n  templateUrl: './dialog-engine-dates.component.html'\r\n})\r\nexport class DialogEngineDatesComponent extends DialogComponent {\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public startDate: number | undefined;\r\n\r\n  @Input()\r\n  public endDate: number | undefined;\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public onValidate: EventEmitter<{ startDate: number | undefined; endDate: number | undefined }>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(public sessionService: SessionService) {\r\n    super(ComponentOpenMode.Read, 'DialogEngineDatesComponent');\r\n\r\n    this.onBeforeLoadOnce();\r\n  }\r\n\r\n  // ****************************************************************************\r\n  private onBeforeLoadOnce(): void {\r\n    this.onValidate = new EventEmitter<{ startDate: number | undefined; endDate: number | undefined }>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public validate(): void {\r\n    this.onValidate.emit({ startDate: this.startDate, endDate: this.endDate });\r\n    super.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".hours\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"hours\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div\\r\\n        class=\\\"form-group\\\"\\r\\n        [ngClass]=\\\"{\\r\\n          required: missionEquipment && missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED\\r\\n        }\\\"\\r\\n      >\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".cycles\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"cycles\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        missionEquipment &&\\r\\n        missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED &&\\r\\n        (cycles === undefined || cycles === null)\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../../../shared/services/message.service';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { DialogComponent } from '../../../../../../../shared/types/dialog-component';\r\nimport { ObjectUtils } from '../../../../../../../shared/utils/object-utils';\r\nimport { EngineRow } from '../types/engine-row.interface';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-flight-engine',\r\n  templateUrl: './dialog-engine.component.html'\r\n})\r\nexport class DialogEngineComponent extends DialogComponent {\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  public cycles: number | undefined;\r\n  public hours: number | undefined;\r\n\r\n  private _engine: EngineRow;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n\r\n  @Input()\r\n  public get engine(): EngineRow {\r\n    return this._engine;\r\n  }\r\n  public set engine(value: EngineRow) {\r\n    if (value) {\r\n      this._engine = value;\r\n\r\n      this.cycles = value.cycles ? Number(value.cycles) : undefined;\r\n      this.hours = value.hours ? Number(value.hours) : undefined;\r\n    }\r\n  }\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public onValidate: EventEmitter<EngineRow>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(private readonly messageService: MessageService) {\r\n    super(ComponentOpenMode.Read, 'DialogEngineComponent');\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.cycles = undefined;\r\n    this.hours = undefined;\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.onValidate = new EventEmitter<EngineRow>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public validate(): void {\r\n    const newEngine = { ...this.engine };\r\n    newEngine.cycles = ObjectUtils.isDefined(this.cycles) ? (this.cycles as number).toString() : '';\r\n    newEngine.hours = ObjectUtils.isDefined(this.hours) ? (this.hours as number).toString() : '';\r\n\r\n    if (Number(newEngine.cycles) < 0 || Number(newEngine.hours) < 0) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('positiveValuesOnly'));\r\n\r\n      return;\r\n    }\r\n\r\n    this.onValidate.emit(newEngine);\r\n    super.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <div class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".engines\\\" | translate }}</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content\\\">\\r\\n  <p-table\\r\\n    id=\\\"engineTable\\\"\\r\\n    [resizableColumns]=\\\"true\\\"\\r\\n    #ptableEngines\\r\\n    class=\\\"aw-table2\\\"\\r\\n    [columns]=\\\"engineTableColList\\\"\\r\\n    [value]=\\\"engineTable\\\"\\r\\n    [(selection)]=\\\"engineTableSelection\\\"\\r\\n    [scrollable]=\\\"true\\\"\\r\\n    selectionMode=\\\"single\\\"\\r\\n    (onRowSelect)=\\\"onSelectEngineTableRow($event.index)\\\"\\r\\n    (onRowUnselect)=\\\"onUnselectEngineTableRow()\\\"\\r\\n  >\\r\\n    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n      <span *ngIf=\\\"!engineTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n      <div *ngIf=\\\"engineTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n        <div class=\\\"lds-hourglass\\\"></div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"caption\\\">\\r\\n      <div\\r\\n        class=\\\"aw-table-header\\\"\\r\\n        [ngClass]=\\\"{\\r\\n          'rows-selected': !isReadOpenMode && engineTableSelection !== undefined && engineTableSelection !== null\\r\\n        }\\\"\\r\\n      >\\r\\n        <div class=\\\"aw-table-global-filter\\\">\\r\\n          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n          </label>\\r\\n\\r\\n          <input\\r\\n            class=\\\"aw-table-global-filter-input\\\"\\r\\n            type=\\\"text\\\"\\r\\n            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n            (input)=\\\"ptableEngines.filterGlobal($event.target.value, 'contains')\\\"\\r\\n          />\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"aw-table-actions\\\">\\r\\n          <button\\r\\n            id=\\\"editEngineTable\\\"\\r\\n            *ngIf=\\\"!isReadOpenMode && engineTableSelection !== undefined && engineTableSelection !== null\\\"\\r\\n            type=\\\"button\\\"\\r\\n            mat-raised-button\\r\\n            (click)=\\\"editEngine()\\\"\\r\\n          >\\r\\n            {{ getComponentName() + \\\".edit\\\" | translate }}\\r\\n          </button>\\r\\n\\r\\n          <button\\r\\n            id=\\\"editDatesEngineTable\\\"\\r\\n            *ngIf=\\\"\\r\\n              !isReadOpenMode &&\\r\\n              engineTable.length > 0 &&\\r\\n              (engineTableSelection === undefined || engineTableSelection === null)\\r\\n            \\\"\\r\\n            type=\\\"button\\\"\\r\\n            mat-raised-button\\r\\n            (click)=\\\"editDatesForAllEngineList()\\\"\\r\\n          >\\r\\n            {{ getComponentName() + \\\".editDates\\\" | translate }}\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n      <colgroup>\\r\\n        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n      </colgroup>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n      <tr>\\r\\n        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n          {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n        </th>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\" [ngClass]=\\\"{ 'read-only': isReadOpenMode }\\\">\\r\\n        <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n          {{ rowData[col.field] }}\\r\\n        </td>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n  </p-table>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-flight-engine\\r\\n  *ngIf=\\\"dialogEngineVisible\\\"\\r\\n  [(display)]=\\\"dialogEngineVisible\\\"\\r\\n  [engine]=\\\"engineTableSelection\\\"\\r\\n  [missionEquipment]=\\\"missionEquipment\\\"\\r\\n  (onValidate)=\\\"onEditedEngine($event)\\\"\\r\\n></aw-dialog-flight-engine>\\r\\n\\r\\n<aw-dialog-flight-engine-dates\\r\\n  *ngIf=\\\"dialogEngineDatesVisible\\\"\\r\\n  [(display)]=\\\"dialogEngineDatesVisible\\\"\\r\\n  [endDate]=\\\"engineStopDate\\\"\\r\\n  [startDate]=\\\"engineStartDate\\\"\\r\\n  (onValidate)=\\\"onEditedDatesForAllEngineList($event)\\\"\\r\\n></aw-dialog-flight-engine-dates>\\r\\n\"","import { Component, ElementRef, Input } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DateService } from '../../../../../../shared/services/date.service';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { FlightDTO } from '../../../../../../shared/types/api-types/flight-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { BidoEquipmentUtils } from '../../../../../../shared/utils/bido-equipment-utils';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\nimport { EngineRow } from './types/engine-row.interface';\r\n\r\n@Component({\r\n  selector: 'aw-flight-engines',\r\n  templateUrl: './engines.component.html'\r\n})\r\nexport class EnginesComponent extends GenericComponent {\r\n  public engineTable: EngineRow[];\r\n  public engineTableLoading: boolean;\r\n  public engineTableSelection: EngineRow | undefined;\r\n  public engineTableSelectionIndex: number | undefined;\r\n  public engineTableColList: TableColumn[];\r\n  public dialogEngineVisible: boolean;\r\n  public dialogEngineDatesVisible: boolean;\r\n\r\n  private engineStartDate: number | undefined;\r\n  private engineStopDate: number | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(private readonly dateService: DateService, private readonly flightFormService: FlightFormService) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'EnginesComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.engineStartDate = undefined;\r\n    this.engineStopDate = undefined;\r\n    this.engineTable = [];\r\n    this.engineTableLoading = false;\r\n    this.engineTableSelection = undefined;\r\n    this.engineTableSelectionIndex = undefined;\r\n    this.dialogEngineVisible = false;\r\n    this.dialogEngineDatesVisible = false;\r\n  }\r\n\r\n  public onLoad(equipmentCode: string, missionEquipment: BidoMissionEquipmentDTO): void {\r\n    this.engineStartDate = missionEquipment.engineStartDate;\r\n    this.engineStopDate = missionEquipment.engineStopDate;\r\n    this.engineTableLoading = true;\r\n\r\n    this.flightFormService\r\n      .findAllBidoEquipmentEngineByEquipmentCode(equipmentCode)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.engineTableLoading = false;\r\n        })\r\n      )\r\n      .subscribe((results) => {\r\n        let engine1Set = false;\r\n        let engine2Set = false;\r\n        let engine3Set = false;\r\n        let engine4Set = false;\r\n        ListUtils.orEmpty(results).forEach((result) => {\r\n          if (result.equipmentCode === missionEquipment.engine1AssetCode) {\r\n            engine1Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine1CycleNumber, missionEquipment.engine1HourNumber);\r\n          } else if (result.equipmentCode === missionEquipment.engine2AssetCode) {\r\n            engine2Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine2CycleNumber, missionEquipment.engine2HourNumber);\r\n          } else if (result.equipmentCode === missionEquipment.engine3AssetCode) {\r\n            engine3Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine3CycleNumber, missionEquipment.engine3HourNumber);\r\n          } else if (result.equipmentCode === missionEquipment.engine4AssetCode) {\r\n            engine4Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine4CycleNumber, missionEquipment.engine4HourNumber);\r\n          } else if (!engine1Set) {\r\n            engine1Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine1CycleNumber, missionEquipment.engine1HourNumber);\r\n          } else if (!engine2Set) {\r\n            engine2Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine2CycleNumber, missionEquipment.engine2HourNumber);\r\n          } else if (!engine3Set) {\r\n            engine3Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine3CycleNumber, missionEquipment.engine3HourNumber);\r\n          } else if (!engine4Set) {\r\n            engine4Set = true;\r\n            this.addEngineRow(result, missionEquipment.engine4CycleNumber, missionEquipment.engine4HourNumber);\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.setEngineTableColList();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public areEngineListCompleted(): boolean {\r\n    return this.engineTable.every((row) => !StringUtils.isEmpty(row.cycles));\r\n  }\r\n\r\n  public editDatesForAllEngineList(): void {\r\n    this.dialogEngineDatesVisible = true;\r\n  }\r\n\r\n  public editEngine(): void {\r\n    this.dialogEngineVisible = true;\r\n  }\r\n\r\n  public fillFlight(flight: FlightDTO, missionEquipment: BidoMissionEquipmentDTO): void {\r\n    if (this.engineTable.length > 0) {\r\n      flight.engineStartDate = new Date(this.engineTable[0].startDate);\r\n      flight.engineStopDate = new Date(this.engineTable[0].endDate);\r\n\r\n      this.engineTable.forEach((engine) => {\r\n        if (engine._assetCode === missionEquipment.engine1AssetCode) {\r\n          flight.engine1AssetCode = engine._assetCode;\r\n          flight.engine1AssetText = engine._assetText;\r\n          flight.engine1CycleNumber = engine.cycles;\r\n          flight.engine1HourNumber = engine.hours;\r\n        } else if (engine._assetCode === missionEquipment.engine2AssetCode) {\r\n          flight.engine2AssetCode = engine._assetCode;\r\n          flight.engine2AssetText = engine._assetText;\r\n          flight.engine2CycleNumber = engine.cycles;\r\n          flight.engine2HourNumber = engine.hours;\r\n        } else if (engine._assetCode === missionEquipment.engine3AssetCode) {\r\n          flight.engine3AssetCode = engine._assetCode;\r\n          flight.engine3AssetText = engine._assetText;\r\n          flight.engine3CycleNumber = engine.cycles;\r\n          flight.engine3HourNumber = engine.hours;\r\n        } else if (engine._assetCode === missionEquipment.engine4AssetCode) {\r\n          flight.engine4AssetCode = engine._assetCode;\r\n          flight.engine4AssetText = engine._assetText;\r\n          flight.engine4CycleNumber = engine.cycles;\r\n          flight.engine4HourNumber = engine.hours;\r\n        } else if (!flight.engine1AssetCode) {\r\n          flight.engine1AssetCode = engine._assetCode;\r\n          flight.engine1AssetText = engine._assetText;\r\n          flight.engine1CycleNumber = engine.cycles;\r\n          flight.engine1HourNumber = engine.hours;\r\n        } else if (!flight.engine2AssetCode) {\r\n          flight.engine2AssetCode = engine._assetCode;\r\n          flight.engine2AssetText = engine._assetText;\r\n          flight.engine2CycleNumber = engine.cycles;\r\n          flight.engine2HourNumber = engine.hours;\r\n        } else if (!flight.engine3AssetCode) {\r\n          flight.engine3AssetCode = engine._assetCode;\r\n          flight.engine3AssetText = engine._assetText;\r\n          flight.engine3CycleNumber = engine.cycles;\r\n          flight.engine3HourNumber = engine.hours;\r\n        } else if (!flight.engine4AssetCode) {\r\n          flight.engine4AssetCode = engine._assetCode;\r\n          flight.engine4AssetText = engine._assetText;\r\n          flight.engine4CycleNumber = engine.cycles;\r\n          flight.engine4HourNumber = engine.hours;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public onEditedDatesForAllEngineList(input: { startDate: number | undefined; endDate: number | undefined }): void {\r\n    this.engineStartDate = input.startDate;\r\n    this.engineStopDate = input.endDate;\r\n\r\n    this.engineTable.forEach((row) => {\r\n      row.startDate = this.dateService.timestampWithHourToString(this.engineStartDate);\r\n      row.endDate = this.dateService.timestampWithHourToString(this.engineStopDate);\r\n    });\r\n\r\n    this.engineTable = [...this.engineTable];\r\n    this.engineTableSelection = undefined;\r\n  }\r\n\r\n  public onEditedEngine(newEngine: EngineRow): void {\r\n    this.engineTable[this.engineTableSelectionIndex as number].cycles = newEngine.cycles;\r\n    this.engineTable[this.engineTableSelectionIndex as number].hours = newEngine.hours;\r\n\r\n    this.engineTable = [...this.engineTable];\r\n    this.engineTableSelection = undefined;\r\n    this.engineTableSelectionIndex = undefined;\r\n  }\r\n\r\n  public onSelectEngineTableRow(rowIndex: number): void {\r\n    this.engineTableSelectionIndex = rowIndex;\r\n  }\r\n\r\n  public onUnselectEngineTableRow(): void {\r\n    this.engineTableSelectionIndex = undefined;\r\n  }\r\n\r\n  private addEngineRow(equipment: BidoEquipmentDTO, cycles: string | undefined, hours: string | undefined): void {\r\n    const endDate = this.dateService.timestampWithHourToString(this.engineStopDate);\r\n    const engine = BidoEquipmentUtils.createAssetName(equipment);\r\n    const startDate = this.dateService.timestampWithHourToString(this.engineStartDate);\r\n\r\n    const engineRow: EngineRow = {\r\n      endDate,\r\n      engine,\r\n      startDate,\r\n      cycles: StringUtils.orEmpty(cycles),\r\n      hours: StringUtils.orEmpty(hours),\r\n      _assetCode: equipment.equipmentCode as string,\r\n      _assetText: engine\r\n    };\r\n\r\n    this.engineTable.push(engineRow);\r\n  }\r\n\r\n  private setEngineTableColList(): void {\r\n    this.engineTableColList = [\r\n      { field: 'engine', alignment: 'left', width: '40%' },\r\n      { field: 'startDate', alignment: 'left', width: '12.5%' },\r\n      { field: 'endDate', alignment: 'left', width: '12.5%' },\r\n      { field: 'hours', alignment: 'right', width: '17.5%' },\r\n      { field: 'cycles', alignment: 'right', width: '17.5%' }\r\n    ];\r\n  }\r\n}\r\n","module.exports = \"<div #page>\\r\\n  <div class=\\\"page-header\\\">\\r\\n    <div class=\\\"page-info\\\">\\r\\n      <div>\\r\\n        <h2 class=\\\"page-title\\\">\\r\\n          {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n        </h2>\\r\\n\\r\\n        <div class=\\\"page-subtitle\\\">\\r\\n          <div class=\\\"page-subtitle\\\">- {{ isCreateOpenMode ? (componentContext | translate) : componentContext }}</div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"object-status\\\" *ngIf=\\\"missionEquipment.statusState\\\" (click)=\\\"showStatus()\\\">\\r\\n        {{ missionEquipment.statusState | formatSelectOption: flightLabelStatusList }}\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-actions\\\">\\r\\n      <button\\r\\n        id=\\\"validateMeasures\\\"\\r\\n        *ngIf=\\\"isFlightStatusCompleted()\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"validateMeasures()\\\"\\r\\n      >\\r\\n        {{ getComponentName() + \\\".validateMeasures\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <!-- Test GoNoGo-->\\r\\n      <div\\r\\n        *ngIf=\\\"!!gonogoValidationFormComponent\\\"\\r\\n        class=\\\"hover-div\\\"\\r\\n        pTooltip=\\\"{{ getComponentName() + '.gonogoHover' | translate }}\\\"\\r\\n        [tooltipDisabled]=\\\"!validateGonogoDisabling()\\\"\\r\\n        tooltipPosition=\\\"bottom\\\"\\r\\n      >\\r\\n        <button\\r\\n          id=\\\"validateGonogo\\\"\\r\\n          *ngIf=\\\"\\r\\n            gonogoValidationFormComponent &&\\r\\n            missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_SCHEDULED\\r\\n          \\\"\\r\\n          type=\\\"button\\\"\\r\\n          mat-raised-button\\r\\n          (click)=\\\"gonogoValidationFormComponent.validateGonogo()\\\"\\r\\n          (onValidate)=\\\"onReload()\\\"\\r\\n          [disabled]=\\\"validateGonogoDisabling()\\\"\\r\\n        >\\r\\n          {{ \\\"GonogoValidationFormComponent\\\" + \\\".validateGonogo\\\" | translate }}\\r\\n        </button>\\r\\n      </div>\\r\\n\\r\\n      <button\\r\\n        id=\\\"edit\\\"\\r\\n        *ngIf=\\\"\\r\\n          isReadOpenMode &&\\r\\n          hasUpdateAccessRight &&\\r\\n          missionEquipment.statusState !== aWPropertiesConstants.FLIGHT_STATUS_VALIDATED\\r\\n        \\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"onEdit()\\\"\\r\\n      >\\r\\n        {{ \\\"global.edit\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"cancel\\\"\\r\\n        *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n        color=\\\"warn\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"onCancel()\\\"\\r\\n      >\\r\\n        {{ \\\"global.cancel\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"save\\\"\\r\\n        *ngIf=\\\"!isReadOpenMode\\\"\\r\\n        class=\\\"btn-with-spinner\\\"\\r\\n        color=\\\"primary\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"onSave($event)\\\"\\r\\n      >\\r\\n        <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n        {{ \\\"global.save\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"actions\\\"\\r\\n        mat-icon-button\\r\\n        class=\\\"mat-elevation-z1\\\"\\r\\n        matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n        matTooltipPosition=\\\"above\\\"\\r\\n        aria-label=\\\"Show all actions\\\"\\r\\n        [matMenuTriggerFor]=\\\"actions\\\"\\r\\n      >\\r\\n        <mat-icon>more_horiz</mat-icon>\\r\\n      </button>\\r\\n\\r\\n      <mat-menu #actions=\\\"matMenu\\\">\\r\\n        <button id=\\\"goTo\\\" mat-menu-item [matMenuTriggerFor]=\\\"navigations\\\">\\r\\n          {{ \\\"global.goTo\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"updates\\\" mat-menu-item (click)=\\\"openStatusUpdatesPopup()\\\">\\r\\n          {{ \\\"global.updates\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"refresh\\\" *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"onReload($event)\\\">\\r\\n          {{ \\\"global.refresh\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n          {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n\\r\\n      <mat-menu #navigations=\\\"matMenu\\\">\\r\\n        <button id=\\\"assetReview\\\" *ngIf=\\\"!isCreateOpenMode\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"openAssetReview()\\\">\\r\\n          {{ getComponentName() + \\\".assetReview\\\" | translate }}\\r\\n        </button>\\r\\n        <button\\r\\n          id=\\\"lineMaintenance\\\"\\r\\n          *ngIf=\\\"!isCreateOpenMode\\\"\\r\\n          type=\\\"button\\\"\\r\\n          mat-menu-item\\r\\n          (click)=\\\"openLineMaintenance()\\\"\\r\\n        >\\r\\n          {{ getComponentName() + \\\".lineMaintenance\\\" | translate }}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-wrapper\\\">\\r\\n    <div class=\\\"page-container\\\">\\r\\n      <div class=\\\"page-content\\\">\\r\\n        <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n          <!-- Home -->\\r\\n          <mat-tab id=\\\"homeTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ \\\"home\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <!-- Main Information -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"mainPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <div class=\\\"grid-cell-title\\\">\\r\\n                        <span>{{ \\\"page.mainData\\\" | translate }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"userFlightNumber\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".flightNumber\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              type=\\\"text\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.userFlightNumber\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div\\r\\n                          id=\\\"aircraftRepresentation\\\"\\r\\n                          class=\\\"form-group\\\"\\r\\n                          [ngClass]=\\\"{\\r\\n                            required:\\r\\n                              !isReadOpenMode &&\\r\\n                              missionEquipment.statusState != aWPropertiesConstants.FLIGHT_STATUS_DRAFT\\r\\n                          }\\\"\\r\\n                        >\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".aircraft\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div\\r\\n                            class=\\\"form-control form-control-with-modal\\\"\\r\\n                            [ngClass]=\\\"{ disabled: isReadOpenMode && !isCreateOpenMode }\\\"\\r\\n                          >\\r\\n                            <div\\r\\n                              class=\\\"form-control-data\\\"\\r\\n                              (click)=\\\"(!isReadOpenMode || isCreateOpenMode) && selectAircraft($event)\\\"\\r\\n                            >\\r\\n                              {{ aircraftRepresentation }}\\r\\n                            </div>\\r\\n\\r\\n                            <div *ngIf=\\\"!isReadOpenMode && showResetAircraft()\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                              <i\\r\\n                                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                (click)=\\\"resetAircraft()\\\"\\r\\n                              ></i>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"!isReadOpenMode && showUpdateAircraft()\\\" class=\\\"btn-search-wrapper\\\">\\r\\n                              <i\\r\\n                                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                (click)=\\\"selectAircraft($event)\\\"\\r\\n                              ></i>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"flightType\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".flightType\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"flightTypeList\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.flightType\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"customerCode\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".customer\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"flightCustomerList\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.customerCode\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"operatorCode\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".operator\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"flightOperatorList\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.customerOperatorCode\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"requestedOpeConfigCode\\\" *ngIf=\\\"isFunctionalItemStructure\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".operationalConfiguration\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n                            <div class=\\\"form-control-data\\\" (click)=\\\"openOperationalConfigDialog()\\\">\\r\\n                              {{ getRequestedConfigLabel() }}\\r\\n                            </div>\\r\\n                            <div\\r\\n                              *ngIf=\\\"!isReadOpenMode && missionEquipment.requestedOpeConfigCode\\\"\\r\\n                              class=\\\"btn-clear-wrapper\\\"\\r\\n                            >\\r\\n                              <i\\r\\n                                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                (click)=\\\"resetConfig()\\\"\\r\\n                              ></i>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"!isReadOpenMode\\\" class=\\\"btn-search-wrapper\\\">\\r\\n                              <i\\r\\n                                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                (click)=\\\"openOperationalConfigDialog()\\\"\\r\\n                              ></i>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"departureLocation\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".departureLocation\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"flightBaseList\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.departureLocation\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"arrivalLocation\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".arrivalLocation\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"flightBaseList\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.arrivalLocation\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"area\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".area\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"areaList\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.missionArea\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <!-- Dates and Duration-->\\r\\n              <div id=\\\"datesAndDurationPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <div class=\\\"grid-cell-title\\\">\\r\\n                        <span>{{ getComponentName() + \\\".datesAndDuration\\\" | translate }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"row flex-row--justify-end action-list\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"\\r\\n                              isCreateOpenMode && (mission.missionCode === undefined || mission.missionCode === null)\\r\\n                            \\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createNewMission()\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".createMission\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <!-- Mission -->\\r\\n                        <div id=\\\"missionCode\\\" class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateOpenMode }\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".mission\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div\\r\\n                            class=\\\"form-control form-control-with-modal\\\"\\r\\n                            [ngClass]=\\\"{ disabled: isReadOpenMode && !isCreateOpenMode }\\\"\\r\\n                          >\\r\\n                            <div\\r\\n                              class=\\\"form-control-data\\\"\\r\\n                              (click)=\\\"(!isReadOpenMode || isCreateOpenMode) && selectMissionCode($event)\\\"\\r\\n                            >\\r\\n                              {{ mission.missionCode }}\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"!isReadOpenMode\\\" class=\\\"btn-search-wrapper\\\">\\r\\n                              <i\\r\\n                                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                (click)=\\\"selectMissionCode($event)\\\"\\r\\n                              ></i>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".occurrence\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              type=\\\"number\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.occurrence\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div\\r\\n                          id=\\\"missionEquipmentStartDate\\\"\\r\\n                          class=\\\"form-group\\\"\\r\\n                          [ngClass]=\\\"{ required: !isReadOpenMode }\\\"\\r\\n                        >\\r\\n                          <label class=\\\"form-label\\\">{{\\r\\n                            getComponentName() + \\\".startDateWithTimeZone\\\" | translate\\r\\n                          }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-calendar\\r\\n                              showButtonBar=\\\"true\\\"\\r\\n                              [monthNavigator]=\\\"true\\\"\\r\\n                              [yearNavigator]=\\\"true\\\"\\r\\n                              [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                              class=\\\"aw-calendar\\\"\\r\\n                              [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                              [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                              [showTime]=\\\"true\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipmentStartDate\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              appendTo=\\\"body\\\"\\r\\n                            ></p-calendar>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"missionEquipmentEndDate\\\" class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                          <label class=\\\"form-label\\\">{{\\r\\n                            getComponentName() + \\\".endDateWithTimeZone\\\" | translate\\r\\n                          }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-calendar\\r\\n                              showButtonBar=\\\"true\\\"\\r\\n                              [monthNavigator]=\\\"true\\\"\\r\\n                              [yearNavigator]=\\\"true\\\"\\r\\n                              [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                              class=\\\"aw-calendar\\\"\\r\\n                              [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                              [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                              [showTime]=\\\"true\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipmentEndDate\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              (onSelect)=\\\"onSelectMissionEndDate()\\\"\\r\\n                              (onInput)=\\\"onSelectMissionEndDate()\\\"\\r\\n                              appendTo=\\\"body\\\"\\r\\n                            ></p-calendar>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div\\r\\n                          id=\\\"missionDuration\\\"\\r\\n                          class=\\\"form-group\\\"\\r\\n                          [ngClass]=\\\"{\\r\\n                            required:\\r\\n                              !isReadOpenMode &&\\r\\n                              missionEquipment &&\\r\\n                              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED\\r\\n                          }\\\"\\r\\n                        >\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".duration\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              type=\\\"text\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.missionDuration\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              (input)=\\\"onSelectDuration()\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div\\r\\n                          id=\\\"cycleNumber\\\"\\r\\n                          class=\\\"form-group\\\"\\r\\n                          [ngClass]=\\\"{\\r\\n                            required:\\r\\n                              !isReadOpenMode &&\\r\\n                              missionEquipment &&\\r\\n                              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED\\r\\n                          }\\\"\\r\\n                        >\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".cyclesNumber\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              type=\\\"text\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.cycleNumber\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <!-- Manual Flight Entries -->\\r\\n                        <!--                       <div *ngIf=\\\"sessionService.isSpecificDassault\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".manualFlightEntries\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-checkbox\\r\\n                            binary=\\\"true\\\"\\r\\n                            class=\\\"aw-checkbox\\\"\\r\\n                            [(ngModel)]=\\\"manualFlightEntries\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-checkbox>\\r\\n                        </div>\\r\\n                      </div> -->\\r\\n\\r\\n                        <div\\r\\n                          id=\\\"timeZoneSelected\\\"\\r\\n                          class=\\\"form-group\\\"\\r\\n                          [ngClass]=\\\"{ 'flex--3': sessionService.isSpecificDassault }\\\"\\r\\n                        >\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".timezone\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"timeZoneList\\\"\\r\\n                              [(ngModel)]=\\\"timeZoneSelected\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                              appendTo=\\\"body\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div id=\\\"vertical\\\" class=\\\"grid-cell--equally vertical\\\">\\r\\n                <!-- Fuel and GoNoGo-->\\r\\n                <div class=\\\"grid-row\\\">\\r\\n                  <!-- Fuel -->\\r\\n                  <div id=\\\"fuelPanel\\\" class=\\\"grid-cell--grow2\\\">\\r\\n                    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                      <div class=\\\"grid-cell-header\\\">\\r\\n                        <div class=\\\"grid-cell-title-container\\\">\\r\\n                          <div class=\\\"grid-cell-title\\\">\\r\\n                            <span>{{ \\\"page.fuel\\\" | translate }}</span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"grid-cell-content\\\">\\r\\n                        <div class=\\\"column\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <div id=\\\"fuelLoadFactual\\\" class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ \\\"FuelComponent.fuelLoadFactual\\\" | translate }}\\r\\n                                <span *ngIf=\\\"fuelComponent.defaultVolumeUnit\\\"\\r\\n                                  >({{ \\\"FuelComponent.defaultVolumeUnit\\\" | translate }})</span\\r\\n                                >\\r\\n                              </label>\\r\\n\\r\\n                              <div class=\\\"form-control\\\">\\r\\n                                <input\\r\\n                                  type=\\\"number\\\"\\r\\n                                  class=\\\"aw-input\\\"\\r\\n                                  [(ngModel)]=\\\"fuelComponent.fuelLoadFactual\\\"\\r\\n                                  [disabled]=\\\"true\\\"\\r\\n                                />\\r\\n                              </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div id=\\\"fuelLoadDesiredTotal\\\" class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ \\\"FuelComponent.fuelLoadDesiredTotal\\\" | translate }}\\r\\n                                <span *ngIf=\\\"fuelComponent.defaultVolumeUnit\\\"\\r\\n                                  >({{ \\\"FuelComponent.defaultVolumeUnit\\\" | translate }})</span\\r\\n                                >\\r\\n                              </label>\\r\\n\\r\\n                              <div class=\\\"form-control\\\">\\r\\n                                <input\\r\\n                                  type=\\\"number\\\"\\r\\n                                  class=\\\"aw-input\\\"\\r\\n                                  [(ngModel)]=\\\"fuelComponent.fuelLoadDesiredTotal\\\"\\r\\n                                  [disabled]=\\\"true\\\"\\r\\n                                />\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <!-- GoNoGo Validation -->\\r\\n                  <div id=\\\"goNoGoPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                      <aw-flight-gonogo-validation-status\\r\\n                        [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                        [componentEltRef]=\\\"gonogoValidationStatusComponent\\\"\\r\\n                        [equipmentCode]=\\\"equipmentCode\\\"\\r\\n                        [missionCode]=\\\"missionCode\\\"\\r\\n                        [missionEquipment]=\\\"missionEquipment\\\"\\r\\n                        [occurrence]=\\\"occurrence\\\"\\r\\n                        [openMode]=\\\"openMode\\\"\\r\\n                        (updateFlightStatus)=\\\"updateFlightStatus($event)\\\"\\r\\n                      ></aw-flight-gonogo-validation-status>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div\\r\\n                    id=\\\"humsPanel\\\"\\r\\n                    class=\\\"grid-cell--12\\\"\\r\\n                    [ngClass]=\\\"{\\r\\n                      'hums-min-height': sessionService.isSpecificDassault && isCreateOpenMode,\\r\\n                      'visibility--hidden': !sessionService.isSpecificDassault\\r\\n                    }\\\"\\r\\n                  >\\r\\n                    <div *ngIf=\\\"sessionService.isSpecificDassault\\\" class=\\\"grid-cell grid-cell--container\\\">\\r\\n                      <aw-flight-hums\\r\\n                        [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                        [componentEltRef]=\\\"humsEltRef\\\"\\r\\n                        [openMode]=\\\"openMode\\\"\\r\\n                        (onSendFscToHums)=\\\"sendFscToHums()\\\"\\r\\n                      ></aw-flight-hums>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <!-- Engines -->\\r\\n                <div class=\\\"grid-row\\\">\\r\\n                  <div id=\\\"enginesPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                      <aw-flight-engines\\r\\n                        [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                        [componentEltRef]=\\\"enginesEltRef\\\"\\r\\n                        [missionEquipment]=\\\"missionEquipment\\\"\\r\\n                        [openMode]=\\\"openMode\\\"\\r\\n                      ></aw-flight-engines>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <!-- Additional Information -->\\r\\n          <mat-tab id=\\\"additionalDataTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ \\\"additionalData\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <!--Ex Additional Information -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"additionalDataPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <div class=\\\"grid-cell-title\\\">\\r\\n                        <span>{{ \\\"page.additionalData\\\" | translate }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"missionComment\\\" class=\\\"form-group flex--2\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".comments\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <textarea\\r\\n                              class=\\\"aw-textarea\\\"\\r\\n                              pInputTextarea\\r\\n                              [rows]=\\\"3\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipment.missionComment\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            ></textarea>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"sourceSystemId\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sourceSystemId\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"sourceSystemIdList\\\"\\r\\n                              [(ngModel)]=\\\"sourceSystemId.attributeValue\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"sourceSystemReference\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".sourceSystemReference\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              type=\\\"text\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"sourceSystemReference.attributeValue\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <!-- Commentaires -->\\r\\n                        <!-- <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".comments\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            pInputTextarea\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            [(ngModel)]=\\\"missionEquipment.missionComment\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div> -->\\r\\n                      </div>\\r\\n\\r\\n                      <!-- A supprimer/remplacer par Area-->\\r\\n                      <!--                     <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".environment\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            pInputTextarea\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            [(ngModel)]=\\\"mission.environment\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div> -->\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <!-- Crew -->\\r\\n              <div id=\\\"crewPanel\\\" class=\\\"grid-cell--grow3\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <aw-flight-crew\\r\\n                    [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                    [componentEltRef]=\\\"crewEltRef\\\"\\r\\n                    [openMode]=\\\"openMode\\\"\\r\\n                  ></aw-flight-crew>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <!-- Passengers/Loads -->\\r\\n              <div id=\\\"passengersLoadsPanel\\\" class=\\\"grid-cell--grow2\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <aw-flight-passengers-loads\\r\\n                    [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                    [componentEltRef]=\\\"passengersLoadsEltRef\\\"\\r\\n                    [openMode]=\\\"openMode\\\"\\r\\n                  ></aw-flight-passengers-loads>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <!-- Conditions de vol -->\\r\\n              <div id=\\\"flightConditionsPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <div class=\\\"grid-cell-title\\\">\\r\\n                        <span>{{ \\\"page.flightConditions\\\" | translate }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                          <div id=\\\"ifrDuration\\\" class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ getComponentName() + \\\".ifrDuration\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input\\r\\n                                type=\\\"text\\\"\\r\\n                                class=\\\"aw-input\\\"\\r\\n                                [(ngModel)]=\\\"missionEquipment.ifrDuration\\\"\\r\\n                                [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"row\\\">\\r\\n                          <div id=\\\"nightMission\\\" class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">{{ getComponentName() + \\\".nightMission\\\" | translate }}</label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <p-checkbox\\r\\n                                binary=\\\"true\\\"\\r\\n                                class=\\\"aw-checkbox\\\"\\r\\n                                [(ngModel)]=\\\"missionEquipment.nightMission\\\"\\r\\n                                [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              ></p-checkbox>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <!-- GoNoGo Validation -->\\r\\n          <mat-tab id=\\\"gonogoValidationTab\\\" *ngIf=\\\"!isCreateOpenMode && !!aircraftRepresentation\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".gonogoValidation\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <aw-gonogo-validation-form\\r\\n                [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                [equipmentCode]=\\\"equipmentCode\\\"\\r\\n                [missionCode]=\\\"missionCode\\\"\\r\\n                [occurrence]=\\\"occurrence\\\"\\r\\n                (onValidate)=\\\"onReload()\\\"\\r\\n              ></aw-gonogo-validation-form>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <!-- Fuel -->\\r\\n          <!-- Supprimer Used-->\\r\\n          <mat-tab id=\\\"fuelTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ \\\"FuelComponent.fuel\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"fuelLoadDesiredPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <aw-flight-fuel\\r\\n                    [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                    [componentEltRef]=\\\"fuelEltRef\\\"\\r\\n                    [openMode]=\\\"openMode\\\"\\r\\n                    [showFuelTotal]=\\\"false\\\"\\r\\n                  ></aw-flight-fuel>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <!-- Measures -->\\r\\n          <mat-tab id=\\\"measuresTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ \\\"ReplenishmentsComponent.measures\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <!-- Measures -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"measuresPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <aw-flight-flight-measures\\r\\n                    [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                    [componentEltRef]=\\\"flightMeasuresEltRef\\\"\\r\\n                    [measureReferenceList]=\\\"measureReferenceList\\\"\\r\\n                    [missionCode]=\\\"missionCode\\\"\\r\\n                  ></aw-flight-flight-measures>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Other Measures -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"otherMeasuresPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <aw-flight-other-measures\\r\\n                    [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                    [componentEltRef]=\\\"otherMeasuresEltRef\\\"\\r\\n                    [measureReferenceList]=\\\"measureReferenceList\\\"\\r\\n                    [openMode]=\\\"openMode\\\"\\r\\n                  ></aw-flight-other-measures>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <!-- Post Flight Records -->\\r\\n          <mat-tab\\r\\n            id=\\\"postFlightRecordsTab\\\"\\r\\n            *ngIf=\\\"\\r\\n              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_VALIDATED ||\\r\\n              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_COMPLETED ||\\r\\n              missionEquipment.statusState === aWPropertiesConstants.FLIGHT_STATUS_ARRIVED\\r\\n            \\\"\\r\\n          >\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ \\\"PostFlightRecordsComponent.postFlightRecords\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <!-- Post-->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <aw-post-flight-records\\r\\n                [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                [componentEltRef]=\\\"postFlightRecordsEltRef\\\"\\r\\n                [openMode]=\\\"openMode\\\"\\r\\n                [missionEquipment]=\\\"missionEquipment\\\"\\r\\n              ></aw-post-flight-records>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n        </mat-tab-group>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <aw-dialog-search-aircraft\\r\\n      *ngIf=\\\"dialogAircraftVisible\\\"\\r\\n      [(display)]=\\\"dialogAircraftVisible\\\"\\r\\n      (onValidated)=\\\"onSelectedAircraft($event)\\\"\\r\\n    ></aw-dialog-search-aircraft>\\r\\n\\r\\n    <aw-dialog-search-mission\\r\\n      *ngIf=\\\"dialogMissionVisible\\\"\\r\\n      [(display)]=\\\"dialogMissionVisible\\\"\\r\\n      (onValidated)=\\\"onSelectedMission($event)\\\"\\r\\n    ></aw-dialog-search-mission>\\r\\n\\r\\n    <aw-dialog-search-operational-config\\r\\n      *ngIf=\\\"showOperationalConfigDialog\\\"\\r\\n      [(display)]=\\\"showOperationalConfigDialog\\\"\\r\\n      [config-name]=\\\"configName\\\"\\r\\n      [operationalConfigs]=\\\"operationalConfigs\\\"\\r\\n      (requestedOpeConfigCodeSelected)=\\\"setSelectedConfig($event)\\\"\\r\\n    ></aw-dialog-search-operational-config>\\r\\n\\r\\n    <!-- STATUS UPDATE HISTORY -->\\r\\n    <aw-status-update-history\\r\\n      *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n      [object]=\\\"missionEquipment\\\"\\r\\n      [data]=\\\"tableStatusUpdatesData\\\"\\r\\n      [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n      [keyMap]=\\\"updatesKeyMap\\\"\\r\\n      [isStatusEditable]=\\\"false\\\"\\r\\n    >\\r\\n    </aw-status-update-history>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .hums-min-height {\\n  min-height: 13.5rem; }\\n\\n:host .replenishments-validation-min-height {\\n  min-height: 18.5rem; }\\n\\n:host .vertical {\\n  padding-top: 0px !important;\\n  padding-bottom: 0px !important;\\n  padding-left: 0px !important;\\n  padding-right: 0px !important; }\\n\\n:host .hover-div {\\n  margin-right: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGZsaWdodC1vcGVyYXRpb25zXFxmbGlnaHRcXGZvcm1cXGZsaWdodFxcZmxpZ2h0LWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxtQkFBbUIsRUFBQTs7QUFGdkI7RUFNSSxtQkFBbUIsRUFBQTs7QUFOdkI7RUFVSSwyQkFBMkI7RUFDM0IsOEJBQThCO0VBQzlCLDRCQUE0QjtFQUM1Qiw2QkFBNkIsRUFBQTs7QUFiakM7RUFpQkksaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2ZsaWdodC1vcGVyYXRpb25zL2ZsaWdodC9mb3JtL2ZsaWdodC9mbGlnaHQtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAuaHVtcy1taW4taGVpZ2h0IHtcclxuICAgIG1pbi1oZWlnaHQ6IDEzLjVyZW07XHJcbiAgfVxyXG5cclxuICAucmVwbGVuaXNobWVudHMtdmFsaWRhdGlvbi1taW4taGVpZ2h0IHtcclxuICAgIG1pbi1oZWlnaHQ6IDE4LjVyZW07XHJcbiAgfVxyXG5cclxuICAudmVydGljYWwge1xyXG4gICAgcGFkZGluZy10b3A6IDBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwcHggIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDBweCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmhvdmVyLWRpdiB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICB9XHJcbn1cclxuIl19 */\"","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Observable, of } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { LabelValueHelper } from '../../../../../modules/purchase-contract/utils/label-value-helper';\r\nimport { PageTocService } from '../../../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { AWPropertiesConstants } from '../../../../../shared/constants/aw-properties-constants';\r\nimport { BidoAttributeConstants } from '../../../../../shared/constants/bido-attribute-constants';\r\nimport { BidoMissionEquipmentConstants } from '../../../../../shared/constants/bido-mission-equipment-constants';\r\nimport { ComponentConstants } from '../../../../../shared/constants/component-constants';\r\nimport { ControlConfigConstants } from '../../../../../shared/constants/control-config-constants';\r\nimport { GenericPropertyConstants } from '../../../../../shared/constants/generic-property-constants';\r\nimport { LangConstants } from '../../../../../shared/constants/lang-constants';\r\nimport { ReportConstants } from '../../../../../shared/constants/report-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { DateService } from '../../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../../shared/services/tab.service';\r\nimport { SaveFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/save-flight-input.interface';\r\nimport { FindAllBidoFlightLoadByFlightInput } from '../../../../../shared/types/api-input-types/fleet-management/find-all-bido-flight-load-by-flight-input.interface';\r\nimport { FindBidoFlightAttributeInput } from '../../../../../shared/types/api-input-types/fleet-management/find-bido-flight-attribute-input.interface';\r\nimport { FindBidoFlsBySearchCriteriaInput } from '../../../../../shared/types/api-input-types/fleet-management/find-bido-fls-by-search-criteria-input.interface';\r\nimport { SaveBidoFlightAttributeInput } from '../../../../../shared/types/api-input-types/fleet-management/save-bido-flight-attribute-input.interface';\r\nimport { AssetFlightTableDTO } from '../../../../../shared/types/api-output-types/airworthiness-management/asset-flight-table-dto.interface';\r\nimport { BidoCustomerDTO } from '../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoFlDTO } from '../../../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { BidoFlightAttributeDTO } from '../../../../../shared/types/api-types/bido-flight-attribute-dto.interface';\r\nimport { BidoMissionDTOId } from '../../../../../shared/types/api-types/bido-mission-dto-id.interface';\r\nimport { BidoMissionDTO } from '../../../../../shared/types/api-types/bido-mission-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoPropertiesDTO } from '../../../../../shared/types/api-types/bido-properties-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { BireUnitMeasureDTOId } from '../../../../../shared/types/api-types/bire-unit-measure-dto-id.interface';\r\nimport { FlightDTO } from '../../../../../shared/types/api-types/flight-dto.interface';\r\nimport { HBidoMissionEquipmentDTO } from '../../../../../shared/types/api-types/h-bido-mission-equipment-dto.interface';\r\nimport { FormPageComponent } from '../../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { BidoEquipmentUtils } from '../../../../../shared/utils/bido-equipment-utils';\r\nimport { DomUtils } from '../../../../../shared/utils/dom-utils';\r\nimport { ListUtils } from '../../../../../shared/utils/list-utils';\r\nimport { NumberUtils } from '../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../shared/utils/object-utils';\r\nimport { SelectItemUtils } from '../../../../../shared/utils/select-item-utils';\r\nimport { StringUtils } from '../../../../../shared/utils/string-utils';\r\nimport { WorkflowUtils } from '../../../../../shared/utils/workflow-utils';\r\nimport { FunctionalLocationSearchService } from '../../../../engineering-management/functional-location-search/functional-location-search.service';\r\nimport { InstallAssetService } from '../../../../fleet-management/install-asset/install-asset.service';\r\nimport { FlightsDTO } from '../../../../maintenance/asset-review/form/types/flights-dto.interface';\r\nimport { OverlayService } from '../../../../overlay/overlay.service';\r\nimport { FlightInputData } from '../../types/flight-input-data.interface';\r\n\r\nimport { CrewComponent } from './crew/crew.component';\r\nimport { EnginesComponent } from './engines/engines.component';\r\nimport { FlightFormService } from './flight-form.service';\r\nimport { FlightMeasuresComponent } from './flight-measures/flight-measures.component';\r\nimport { FuelComponent } from './fuel/fuel.component';\r\nimport { GonogoValidationStatusComponent } from './gonogo-validation-status/gonogo-validation-status.component';\r\nimport { GonogoValidationFormComponent } from './gonogo-validation/gonogo-validation-form.component';\r\nimport { HumsComponent } from './hums/hums.component';\r\nimport { OtherMeasuresComponent } from './other-measures/other-measures.component';\r\nimport { PassengersLoadsComponent } from './passengers-loads/passengers-loads.component';\r\nimport { PostFlightRecordsComponent } from './post-flight-records/post-flight-records.component';\r\nimport { FlightStatusComponent } from './status/status/flight-status.component';\r\n\r\ninterface Fields {\r\n  [key: string]: unknown;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-flight-form',\r\n  styleUrls: ['flight-form.component.scss'],\r\n  templateUrl: './flight-form.component.html'\r\n})\r\nexport class FlightFormComponent extends FormPageComponent<PageComponentData> implements OnInit, AfterViewInit {\r\n  public static readonly ADDITIONAL_INFORMATION_ANCHOR_ID: string = 'additionalInformationAnchor';\r\n  public static readonly CREW_ANCHOR_ID: string = 'crewAnchor';\r\n  public static readonly DATES_AND_DURATION_ANCHOR_ID: string = 'datesAndDurationAnchor';\r\n  public static readonly ENGINES_ANCHOR_ID: string = 'enginesAnchor';\r\n  public static readonly FLIGHT_MEASURES_ANCHOR_ID: string = 'flightMeasuresAnchor';\r\n  public static readonly FUEL_ANCHOR_ID: string = 'fuelAnchor';\r\n  public static readonly GONOGO_VALIDATION_STATUS_ANCHOR_ID: string = 'gonogoValidationStatusAnchor';\r\n  public static readonly HUMS_ANCHOR_ID: string = 'humsAnchor';\r\n  public static readonly MAIN_INFORMATION_ANCHOR_ID: string = 'mainInformationAnchor';\r\n  public static readonly OTHER_MEASURES_ANCHOR_ID: string = 'otherMeasuresAnchor';\r\n  public static readonly PASSENGERS_LOADS_ANCHOR_ID: string = 'passengersLoadsAnchor';\r\n  public static readonly POST_FLIGHT_RECORDS_ANCHOR_ID: string = 'postFlightRecordsAnchor';\r\n  public static readonly REPLENISHMENTS_VALIDATION_ANCHOR_ID: string = 'replenishmentsValidationAnchor';\r\n  public static readonly SCHEDULE_ANCHOR_ID: string = 'scheduleAnchor';\r\n\r\n  private static readonly TOC_HUMS_INDEX: number = 2;\r\n\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n  public readonly component: typeof FlightFormComponent;\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  public componentContext: string;\r\n\r\n  public showStatusUpdatesPopup: boolean;\r\n\r\n  public aircraftRepresentation: string | undefined;\r\n  public chronoNumber: string | undefined;\r\n  public countryZoneMap: Map<string, string>;\r\n  public equipment: BidoEquipmentDTO;\r\n  public equipmentCode: string;\r\n  public equipmentCodeToSave: string;\r\n  public flightBaseList: SelectItem[];\r\n  public flightCustomerList: SelectItem[];\r\n  public flightOperatorList: SelectItem[];\r\n  public flightLabelList: SelectItem[];\r\n  public flightLabelStatusList: LabelValue<string>[];\r\n  public flightStatusList: SelectItem[];\r\n  public workflowStatus: SelectItem[];\r\n  public flightTypeList: SelectItem[];\r\n  public gonogoValidationCommentReadOnly: boolean;\r\n  public isFunctionalItemStructure: boolean;\r\n  public manualFlightEntries: boolean;\r\n  public measureReferenceList: BireMeasureReferenceDTO[];\r\n  public mission: BidoMissionDTO;\r\n  public missionCode: string;\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n  public missionEquipmentEndDate: Date | undefined;\r\n  public missionEquipmentStartDate: Date | undefined;\r\n  public missionPeriodicityList: SelectItem[];\r\n  public operationalConfigurationStatusMap: LabelValue<string>[];\r\n  public occurrence: number;\r\n  public operationalConfigs: BidoFlDTO[];\r\n  public propertyCatalogIdNameMappingList: BidoPropertiesDTO[];\r\n  public areaList: LabelValue<string>[];\r\n  public showOperationalConfigDialog: boolean;\r\n  public sourceSystemId: BidoFlightAttributeDTO;\r\n  public sourceSystemIdList: SelectItem[];\r\n  public sourceSystemReference: BidoFlightAttributeDTO;\r\n  public timeZoneList: SelectItem[];\r\n  public timeZoneSelected: string | undefined;\r\n  public flightInputData: FlightInputData;\r\n\r\n  public dialogAircraftVisible: boolean;\r\n  public dialogMissionVisible: boolean;\r\n\r\n  private previousEquipmentCode: string | undefined;\r\n\r\n  // Validate measures for completed flights\r\n  public flightsTable: AssetFlightTableDTO[];\r\n  public selectedFlight: FlightsDTO;\r\n\r\n  // Historic popup\r\n  public updatesKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  public tableStatusUpdatesData: DialogTableData<HBidoMissionEquipmentDTO>;\r\n\r\n  // DOM references *************************************************************\r\n\r\n  @ViewChild(CrewComponent)\r\n  public crewComponent: CrewComponent;\r\n\r\n  @ViewChild(EnginesComponent)\r\n  public enginesComponent: EnginesComponent;\r\n\r\n  @ViewChild(FlightMeasuresComponent)\r\n  public flightMeasuresComponent: FlightMeasuresComponent;\r\n\r\n  @ViewChild(FuelComponent)\r\n  public fuelComponent: FuelComponent;\r\n\r\n  @ViewChild(GonogoValidationFormComponent)\r\n  public gonogoValidationFormComponent: GonogoValidationFormComponent;\r\n\r\n  @ViewChild(GonogoValidationStatusComponent)\r\n  public gonogoValidationStatusComponent: GonogoValidationStatusComponent;\r\n\r\n  @ViewChild(HumsComponent)\r\n  public humsComponent: HumsComponent;\r\n\r\n  @ViewChild(OtherMeasuresComponent)\r\n  public otherMeasuresComponent: OtherMeasuresComponent;\r\n\r\n  @ViewChild(PassengersLoadsComponent)\r\n  public passengersLoadsComponent: PassengersLoadsComponent;\r\n\r\n  @ViewChild(PostFlightRecordsComponent)\r\n  public postFlightRecordsComponent: PostFlightRecordsComponent;\r\n\r\n  // Table of content ***********************************************************\r\n\r\n  @ViewChild(FlightFormComponent.ADDITIONAL_INFORMATION_ANCHOR_ID)\r\n  public additionalInformationEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.CREW_ANCHOR_ID)\r\n  public crewEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.DATES_AND_DURATION_ANCHOR_ID)\r\n  public datesAndDurationEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.ENGINES_ANCHOR_ID)\r\n  public enginesEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.FLIGHT_MEASURES_ANCHOR_ID)\r\n  public flightMeasuresEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.FUEL_ANCHOR_ID)\r\n  public fuelEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.GONOGO_VALIDATION_STATUS_ANCHOR_ID)\r\n  public gonogoValidationStatusEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.HUMS_ANCHOR_ID)\r\n  public humsEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.MAIN_INFORMATION_ANCHOR_ID)\r\n  public mainInformationEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.OTHER_MEASURES_ANCHOR_ID)\r\n  public otherMeasuresEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.PASSENGERS_LOADS_ANCHOR_ID)\r\n  public passengersLoadsEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.POST_FLIGHT_RECORDS_ANCHOR_ID)\r\n  public postFlightRecordsEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.REPLENISHMENTS_VALIDATION_ANCHOR_ID)\r\n  public replenishmentsValidationEltRef: ElementRef;\r\n\r\n  @ViewChild(FlightFormComponent.SCHEDULE_ANCHOR_ID)\r\n  public scheduleEltRef: ElementRef;\r\n\r\n  public toc: PageTocEntry[];\r\n\r\n  // ****************************************************************************\r\n\r\n  public showSaveSpinner: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    pageTocService: PageTocService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    private readonly dateService: DateService,\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly functionalLocationSearchService: FunctionalLocationSearchService,\r\n    private readonly installAssetService: InstallAssetService,\r\n    private readonly _overlayService: OverlayService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n    this.component = FlightFormComponent;\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n    this.areaList = [];\r\n    this.countryZoneMap = new Map<string, string>();\r\n\r\n    this.userWorkflowSubject.subscribe((userWorkflow) => {\r\n      this.updateWorkflowStatusList();\r\n    });\r\n\r\n    this.onBeforeLoadOnce();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_FLIGHT_FORM;\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    super.updateOpenMode(this.componentData.openMode);\r\n\r\n    this.flightFormService.getPropertyCatalogIdNameMapping().subscribe((results) => {\r\n      this.propertyCatalogIdNameMappingList = results || [];\r\n      this.fillDropDown();\r\n    });\r\n\r\n    this.onBeforeLoad();\r\n\r\n    if (this.isCreateOpenMode) {\r\n      this.componentContext = 'tab.createMode';\r\n      this.displayComponentContext(this.componentContext, this.isCreateOpenMode);\r\n      this.setTableOfContent();\r\n      this.missionEquipment.statusState = '1-dra';\r\n      this.loadUserWorkflow(this.missionEquipment.statusState);\r\n    } else {\r\n      const inputData = this.serializationService.deserialize(this.componentData.objectId as string) as FlightInputData;\r\n      this.flightInputData = inputData;\r\n      this.chronoNumber = inputData.chronoNumber;\r\n      if (!!inputData.equipmentCode) {\r\n        this.equipmentCode = inputData.equipmentCode;\r\n      }\r\n      if (!!inputData.missionCode) {\r\n        this.missionCode = inputData.missionCode;\r\n      }\r\n      this.occurrence = ObjectUtils.isDefined(inputData.occurrence) ? (inputData.occurrence as number) : 0;\r\n\r\n      this.onLoad();\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    if (!this.isCreateOpenMode) {\r\n      this.loadEquipment();\r\n    }\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.aircraftRepresentation = undefined;\r\n    this.equipment = {};\r\n    this.flightBaseList = [];\r\n    this.flightCustomerList = [];\r\n    this.flightOperatorList = [];\r\n    this.flightLabelList = [];\r\n    this.flightStatusList = [];\r\n    this.flightTypeList = [];\r\n    this.manualFlightEntries = false;\r\n    this.measureReferenceList = [];\r\n    this.mission = {};\r\n    this.missionEquipment = {};\r\n    this.missionEquipmentEndDate = undefined;\r\n    this.missionEquipmentStartDate = undefined;\r\n    this.missionPeriodicityList = [];\r\n    this.sourceSystemId = {};\r\n    this.sourceSystemIdList = [];\r\n    this.sourceSystemReference = {};\r\n    this.timeZoneList = [];\r\n    this.timeZoneSelected = undefined;\r\n\r\n    this.dialogAircraftVisible = false;\r\n    this.dialogMissionVisible = false;\r\n    this.showOperationalConfigDialog = false;\r\n\r\n    this.updatesKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n\r\n    this.loadFlightBaseList();\r\n    this.loadFlightCustomerList();\r\n    this.loadFlightOperatorList();\r\n    this.loadFlightLabelList();\r\n    this.loadFlightStatusList();\r\n    this.loadFlightTypeList();\r\n    this.loadMissionPeriodicityList();\r\n    this.loadTimeZoneList();\r\n    this.loadOperationalConfigurationStatusMap();\r\n    this.loadOperationalConfigs();\r\n    this.loadKardexMode();\r\n  }\r\n\r\n  public onCancel(): void {\r\n    super.updateOpenMode(ComponentOpenMode.Read);\r\n    this.clearErrors();\r\n    this.onReload();\r\n  }\r\n\r\n  public onEdit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public onLoad(): void {\r\n    this.loadEquipment();\r\n    this.loadFlightAttributeData();\r\n    this.loadMeasureReferenceList(this.equipmentCode);\r\n    this.loadMission();\r\n    this.loadMissionEquipment();\r\n    this.gonogoValidationStatusComponent.onLoad(this.equipmentCode, this.missionCode, this.occurrence);\r\n    this.otherMeasuresComponent.onLoad(this.equipmentCode, this.missionCode, this.occurrence);\r\n    this.ngAfterViewInit();\r\n  }\r\n\r\n  public onReload(): void {\r\n    this.onBeforeLoad();\r\n    this.crewComponent.onBeforeLoad();\r\n    this.enginesComponent.onBeforeLoad();\r\n    this.flightMeasuresComponent.onBeforeLoad();\r\n    this.fuelComponent.onBeforeLoad();\r\n    this.gonogoValidationStatusComponent.onBeforeLoad();\r\n    this.otherMeasuresComponent.onBeforeLoad();\r\n    this.passengersLoadsComponent.onBeforeLoad();\r\n    if (!!this.postFlightRecordsComponent) {\r\n      this.postFlightRecordsComponent.onBeforeLoad();\r\n    }\r\n    if (this.sessionService.isSpecificDassault) {\r\n      this.humsComponent.onBeforeLoad();\r\n    }\r\n\r\n    this.fillDropDown();\r\n    this.onLoad();\r\n  }\r\n\r\n  public onSelectMissionEndDate(): void {\r\n    if (this.isCreateOpenMode && !!this.missionEquipmentStartDate && !!this.missionEquipmentEndDate) {\r\n      const diff = this.dateService.getDurationBetweenDatesInHour(\r\n        this.missionEquipmentStartDate,\r\n        this.missionEquipmentEndDate\r\n      );\r\n      this.missionEquipment.missionDuration = NumberUtils.toString(diff);\r\n    }\r\n  }\r\n\r\n  public onSelectDuration(): void {\r\n    if (this.isCreateOpenMode && !!this.missionEquipmentStartDate && !!this.missionEquipment.missionDuration) {\r\n      const diff: number = NumberUtils.fromString(this.missionEquipment.missionDuration);\r\n      this.missionEquipmentEndDate = this.dateService.addDurationToDate(this.missionEquipmentStartDate, diff);\r\n    }\r\n  }\r\n\r\n  public onSave(event?: Event): boolean {\r\n    const saved = this.isFlightCompleted();\r\n    if (saved) {\r\n      if (event) {\r\n        super.startTransaction(event);\r\n      }\r\n\r\n      const flight = this.fillFlight();\r\n      if (!this.equipmentCode) {\r\n        this.equipmentCode = BidoMissionEquipmentConstants.EMPTY_EQUIPMENT_CODE;\r\n      }\r\n\r\n      const saveFlightInput: SaveFlightInput = {\r\n        flight,\r\n        assetCode: !!this.equipmentCodeToSave ? this.equipmentCodeToSave : this.equipmentCode,\r\n        timezone: this.timeZoneSelected,\r\n        previousAssetCode: this.previousEquipmentCode,\r\n        customerOperatorCode: this.missionEquipment.customerOperatorCode\r\n      };\r\n\r\n      this.showSaveSpinner = true;\r\n      this.flightFormService\r\n        .saveFlight(saveFlightInput)\r\n        .pipe(\r\n          finalize(() => {\r\n            if (event) {\r\n              super.endTransaction(event);\r\n            }\r\n          })\r\n        )\r\n        .subscribe(\r\n          (result) => {\r\n            if (result.flight && result.result !== ReportConstants.SEVERITY_ERROR) {\r\n              this.occurrence = ObjectUtils.isDefined(result.flight.occurrence)\r\n                ? (result.flight.occurrence as number)\r\n                : 0;\r\n\r\n              this.saveFlightAttributeData();\r\n\r\n              if (result.flight) {\r\n                super.updateOpenMode(ComponentOpenMode.Read);\r\n\r\n                // if no equipment has been selected\r\n                if (!!result.flight.aircraft && result.flight.aircraft.assetCode) {\r\n                  this.equipmentCode = result.flight.aircraft.assetCode;\r\n                }\r\n\r\n                this.messageService.showSuccessMessage(super.getTranslateKey('successOnSaveFlight'));\r\n                this.onReload();\r\n              }\r\n            } else if (!StringUtils.isNullOrEmpty(result.message)) {\r\n              this.messageService.showRawErrorMessage(result.message as string);\r\n            } else {\r\n              this.messageService.showErrorMessage(super.getTranslateKey('errorOnSaveFlight'));\r\n            }\r\n            this.showSaveSpinner = false;\r\n          },\r\n          (error) => {\r\n            this.showSaveSpinner = false;\r\n            throw error;\r\n          }\r\n        );\r\n    }\r\n\r\n    return saved;\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    super.registerPageTocEntryObservable();\r\n\r\n    this.componentContext = '';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public fillDropDown() {\r\n    const propertyIds = this.propertyCatalogIdNameMappingList.filter(\r\n      (property) => property.propertiesName && property.propertiesName.toUpperCase() === 'FLIGHT_AREA'\r\n    );\r\n    const currentPropertyId = propertyIds[0] && propertyIds[0].propertiesId;\r\n\r\n    if (!!currentPropertyId) {\r\n      this.flightFormService.getFlightArea(parseInt(currentPropertyId, 10)).subscribe((results) => {\r\n        results.forEach((element) => {\r\n          let zoneElement: LabelValue<string>;\r\n          if (this.translateService.currentLang === LangConstants.FRENCH_CODE) {\r\n            if (!!element.frPropertiesValue && !!element.propertiesKey) {\r\n              zoneElement = {\r\n                label: element.frPropertiesValue,\r\n                value: element.propertiesKey\r\n              };\r\n\r\n              this.areaList.push(zoneElement);\r\n            }\r\n          } else {\r\n            if (!!element.enPropertiesValue && !!element.propertiesKey) {\r\n              zoneElement = {\r\n                label: element.enPropertiesValue,\r\n                value: element.propertiesKey\r\n              };\r\n\r\n              this.areaList.push(zoneElement);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n  public showUpdateAircraft(): boolean {\r\n    return (\r\n      this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_DRAFT ||\r\n      this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_SCHEDULED\r\n    );\r\n  }\r\n\r\n  public showResetAircraft(): boolean {\r\n    return (\r\n      !!this.aircraftRepresentation &&\r\n      (this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_DRAFT ||\r\n        this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_SCHEDULED)\r\n    );\r\n  }\r\n\r\n  public createNewMission(): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_FLIGHTS_MISSION_FORM,\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public isPostFlightRecordsVisible(): boolean {\r\n    return (\r\n      this.missionEquipment &&\r\n      (this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_GO_VALIDATED ||\r\n        this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_ARRIVED ||\r\n        this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_VALIDATED)\r\n    );\r\n  }\r\n\r\n  public onSelectedAircraft(selection: BidoEquipmentDTO): void {\r\n    this.aircraftRepresentation = BidoEquipmentUtils.createAssetName(selection);\r\n    this.equipmentCodeToSave = selection.equipmentCode as string;\r\n    this.copyMissionDatesToFlightDates();\r\n  }\r\n\r\n  public onSelectedMission(selection: BidoMissionDTO): void {\r\n    this.mission = selection;\r\n    this.missionCode = selection.missionCode as string;\r\n    this.missionEquipment.flightType = selection.missionType;\r\n    if (selection.customerOperatorCode) {\r\n      this.missionEquipment.customerOperatorCode = selection.customerOperatorCode;\r\n    }\r\n\r\n    this.copyMissionDatesToFlightDates();\r\n  }\r\n\r\n  public copyMissionDatesToFlightDates(): void {\r\n    if (!!this.mission.startDate) {\r\n      this.missionEquipmentStartDate = this.mission.startDate;\r\n    }\r\n    if (!!this.mission.endDate) {\r\n      this.missionEquipmentEndDate = this.mission.endDate;\r\n    }\r\n    if (!!this.mission.cycleNumber) {\r\n      this.missionEquipment.cycleNumber = this.mission.cycleNumber;\r\n    }\r\n    if (!!this.mission.missionDuration) {\r\n      this.missionEquipment.missionDuration = this.mission.missionDuration;\r\n    }\r\n  }\r\n\r\n  public openFlightValidation(objectId: BidoMissionEquipmentDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const componentId = 'FlightOperationsValidationComponent';\r\n    const labelKey = 'transaction.' + componentId;\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId,\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      data.objectId = this.serializationService.serialize(objectId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public validateMeasures(): void {\r\n    this.openFlightValidation(this.missionEquipment, ComponentOpenMode.Read);\r\n  }\r\n\r\n  public openLineMaintenance(): void {\r\n    const missionEquipmentId: FlightInputData = {\r\n      equipmentCode: this.equipmentCode,\r\n      missionCode: this.missionCode,\r\n      occurrence: this.occurrence,\r\n      chronoNumber: this.chronoNumber\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_LINE_MAINTENANCE_FORM,\r\n      objectId: this.serializationService.serialize(missionEquipmentId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openOperationalConfigDialog(): void {\r\n    if (!this.isReadOpenMode) {\r\n      this.showOperationalConfigDialog = true;\r\n    }\r\n  }\r\n\r\n  public setSelectedConfig(requestedOpeConfigCodeSelected: BidoFlDTO): void {\r\n    this.missionEquipment = {\r\n      ...this.missionEquipment,\r\n      requestedOpeConfigCode: requestedOpeConfigCodeSelected.flCode,\r\n      requestedOpeConfigDescription: requestedOpeConfigCodeSelected.flDescription\r\n    };\r\n  }\r\n\r\n  public resetConfig(): void {\r\n    this.missionEquipment.requestedOpeConfigCode = undefined;\r\n  }\r\n\r\n  public resetAircraft(): void {\r\n    this.aircraftRepresentation = undefined;\r\n    this.equipmentCodeToSave = BidoMissionEquipmentConstants.EMPTY_EQUIPMENT_CODE;\r\n  }\r\n\r\n  public resetMission(): void {\r\n    this.mission = {};\r\n  }\r\n\r\n  public isFlightStatusCompleted(): boolean {\r\n    return this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_COMPLETED;\r\n  }\r\n\r\n  public showAssetReview(): boolean {\r\n    return this.isFlightStatusCompleted();\r\n  }\r\n\r\n  public openAssetReview(): void {\r\n    const objectId = {\r\n      equipmentCodeList: [this.equipmentCode]\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_ASSET_REVIEW_FORM,\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public selectAircraft(event: MouseEvent): void {\r\n    if (this.showUpdateAircraft() && !DomUtils.isTargetDisabled(event.target)) {\r\n      this.dialogAircraftVisible = true;\r\n    }\r\n  }\r\n\r\n  public selectMissionCode(event: MouseEvent): void {\r\n    if (!DomUtils.isTargetDisabled(event.target)) {\r\n      this.dialogMissionVisible = true;\r\n    }\r\n  }\r\n\r\n  public sendFscToHums(): void {\r\n    // TODO\r\n  }\r\n\r\n  public updateFlightStatus(newStatus: string): void {\r\n    this.missionEquipment.statusState = newStatus;\r\n    this.onSave();\r\n  }\r\n\r\n  private fillFlight(): FlightDTO {\r\n    const flight: FlightDTO = {};\r\n\r\n    flight.endBase = this.mission.arrivalLocation;\r\n    flight.missionCode = this.mission.missionCode;\r\n    flight.missionDescription = this.mission.missionDescription;\r\n    flight.missionDetails = this.mission.missionDetails;\r\n    flight.missionNumber = this.mission.missionNumber;\r\n    flight.missionOperationCode = this.mission.operationCode;\r\n    flight.newMission = false;\r\n    flight.operationalMissionCode = this.mission.operationalMissionCode;\r\n    flight.startBase = this.mission.departureLocation;\r\n    flight.type = this.mission.missionType;\r\n\r\n    flight.missionComment = this.mission.missionComment;\r\n    flight.missionCycleNumber = this.mission.cycleNumber;\r\n    flight.missionDuration = this.mission.missionDuration;\r\n    flight.missionEndDate = this.mission.endDate;\r\n    flight.missionPeriodicityLimitDate = this.mission.periodicityLimitDate;\r\n    flight.missionPeriodicityType = this.mission.periodicityType;\r\n    flight.missionStartDate = this.mission.startDate;\r\n    flight.environment = this.mission.environment;\r\n\r\n    flight.comment = this.missionEquipment.missionComment;\r\n    flight.customerCode = this.missionEquipment.customerCode;\r\n    flight.duration = this.missionEquipment.missionDuration;\r\n    flight.durationIFR = this.missionEquipment.ifrDuration;\r\n    flight.endDate = this.missionEquipmentEndDate;\r\n    flight.flightArrivalLocation = this.missionEquipment.arrivalLocation;\r\n    flight.flightDepartureLocation = this.missionEquipment.departureLocation;\r\n    flight.flightDetails = this.missionEquipment.flightDetails;\r\n    flight.flightLabel = this.missionEquipment.flightLabel;\r\n    flight.flightMeasuresUpdatable =\r\n      this.missionEquipment.statusState !== AWPropertiesConstants.FLIGHT_STATUS_VALIDATED;\r\n    flight.flightRequestedOperationalConfig = this.missionEquipment.requestedOpeConfigCode;\r\n    flight.flightType = this.missionEquipment.flightType;\r\n    flight.missionArea = this.missionEquipment.missionArea;\r\n    flight.nbCycles = this.missionEquipment.cycleNumber;\r\n    flight.nightMission = this.missionEquipment.nightMission;\r\n    flight.number = this.missionEquipment.missionInstanceCode;\r\n    flight.occurrence = this.missionEquipment.occurrence;\r\n    flight.startDate = this.missionEquipmentStartDate;\r\n    flight.status = this.missionEquipment.statusState;\r\n    flight.userFlightNumber = this.missionEquipment.userFlightNumber;\r\n\r\n    this.crewComponent.fillFlight(flight, this.missionEquipment);\r\n    this.enginesComponent.fillFlight(flight, this.missionEquipment);\r\n    this.fuelComponent.fillFlight(flight);\r\n    this.passengersLoadsComponent.fillFlight(flight);\r\n    this.otherMeasuresComponent.fillFlight(flight);\r\n\r\n    return flight;\r\n  }\r\n\r\n  private isFlightCompleted(): boolean {\r\n    if (!this.validateWorkflowMissingFields()) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('warningOnMissingRequiredFields'));\r\n\r\n      return false;\r\n    }\r\n\r\n    if (this.isCreateOpenMode) {\r\n      const endDateFilled = ObjectUtils.isDefined(this.missionEquipmentEndDate);\r\n      const missionFilled = !StringUtils.isNullOrEmpty(this.mission.missionCode);\r\n      const startDateFilled = ObjectUtils.isDefined(this.missionEquipmentStartDate);\r\n\r\n      if (endDateFilled && missionFilled && startDateFilled) {\r\n        if (\r\n          !StringUtils.isNullOrEmpty(this.missionEquipment.statusState) &&\r\n          this.missionEquipment.statusState !== AWPropertiesConstants.FLIGHT_STATUS_DRAFT &&\r\n          this.missionEquipment.statusState !== AWPropertiesConstants.FLIGHT_STATUS_SCHEDULED\r\n        ) {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('errorOnInvalidFlightStatus'));\r\n\r\n          return false;\r\n        }\r\n\r\n        return true;\r\n      } else {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('warningOnMissingRequiredFields'));\r\n\r\n        return false;\r\n      }\r\n    }\r\n    if (this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_COMPLETED) {\r\n      if (\r\n        StringUtils.isNullOrEmpty(this.missionEquipment.missionDuration) ||\r\n        StringUtils.isNullOrEmpty(this.missionEquipment.cycleNumber)\r\n      ) {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('warningOnMissingMissionDurationAndCycle'));\r\n\r\n        return false;\r\n      } else {\r\n        const areEngineListCompleted = this.enginesComponent.areEngineListCompleted();\r\n        if (!areEngineListCompleted) {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('warningOnMissingEngineCycle'));\r\n        }\r\n\r\n        return areEngineListCompleted;\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private validateWorkflowMissingFields(): boolean {\r\n    let validated = true;\r\n    if (this.userWorkflow) {\r\n      let fields: {\r\n        [key: string]: unknown;\r\n      } = {\r\n        aircraftRepresentation: this.aircraftRepresentation,\r\n        ...this.missionEquipment,\r\n        missionCode: this.mission.missionCode,\r\n        sourceSystemId: this.sourceSystemId.attributeValue,\r\n        sourceSystemReference: this.sourceSystemReference.attributeValue,\r\n        missionEquipmentStartDate: this.missionEquipmentStartDate,\r\n        missionEquipmentEndDate: this.missionEquipmentEndDate,\r\n        timeZoneSelected: this.timeZoneSelected,\r\n        engineTable: this.enginesComponent ? this.enginesComponent.engineTable : undefined,\r\n        flightMeasuresTableTitle: this.flightMeasuresComponent ? this.flightMeasuresComponent.table : undefined,\r\n        otherMeasuresTableTitle: this.otherMeasuresComponent ? this.otherMeasuresComponent.table : undefined\r\n      };\r\n\r\n      fields = this.addCrewComponentFields(fields);\r\n      fields = this.addPostFlightFields(fields);\r\n      fields = this.addPassengersLoadFields(fields);\r\n      fields = this.addFuelFields(fields);\r\n      fields = this.addHumsFields(fields);\r\n      fields = this.addGonogoFields(fields);\r\n\r\n      const missingFields = this.checkMandatoryFields(fields);\r\n      validated = missingFields.length === 0;\r\n    }\r\n\r\n    return validated;\r\n  }\r\n\r\n  private addGonogoFields(fields: Fields): Fields {\r\n    let returnedFields = fields;\r\n    if (this.gonogoValidationFormComponent) {\r\n      returnedFields = {\r\n        ...fields,\r\n        acrsEventDate: this.gonogoValidationFormComponent.acrsEventDate,\r\n        missionAbilityTable: this.gonogoValidationFormComponent.missionAbilityTable,\r\n        acrsEventStatus: this.gonogoValidationFormComponent.acrsEventStatus,\r\n        acrsAvailabilityTable: this.gonogoValidationFormComponent.acrsAvailabilityTable,\r\n        acrsEventComment: this.gonogoValidationFormComponent.acrsEventComment,\r\n        missionAvailabilityTable: this.gonogoValidationFormComponent.missionAvailabilityTable,\r\n        gonogoValidationComment: this.gonogoValidationFormComponent.gonogoValidationComment,\r\n        defectTable: this.gonogoValidationFormComponent.defectTable\r\n      };\r\n    }\r\n\r\n    return returnedFields;\r\n  }\r\n\r\n  private addHumsFields(fields: Fields): Fields {\r\n    let returnedFields = fields;\r\n    if (this.humsComponent) {\r\n      returnedFields = {\r\n        ...fields,\r\n        humsStatus: this.humsComponent.humsStatus,\r\n        humsMessage: this.humsComponent.humsMessage\r\n      };\r\n    }\r\n\r\n    return returnedFields;\r\n  }\r\n\r\n  private addFuelFields(fields: Fields): Fields {\r\n    let returnedFields = fields;\r\n    if (this.fuelComponent) {\r\n      returnedFields = {\r\n        ...fields,\r\n        fuelLoadDesiredTotal: this.fuelComponent.fuelLoadDesiredTotal,\r\n        fuelLoadFactual: this.fuelComponent.fuelLoadFactual,\r\n        fuelLoadDesiredTotal2: this.fuelComponent.fuelLoadDesiredTotal,\r\n        fuelLoadFactual2: this.fuelComponent.fuelLoadFactual,\r\n        realisedFuelUsed: this.fuelComponent.realisedFuelUsed\r\n      };\r\n\r\n      if (this.fuelComponent.fuelDataList) {\r\n        this.fuelComponent.fuelDataList.forEach((fuelData) => {\r\n          returnedFields[`fuel${fuelData.type}`] = fuelData.value;\r\n        });\r\n      }\r\n    }\r\n\r\n    return returnedFields;\r\n  }\r\n\r\n  private addPassengersLoadFields(fields: Fields): Fields {\r\n    let returnedFields = fields;\r\n    if (this.passengersLoadsComponent) {\r\n      returnedFields = {\r\n        ...fields,\r\n        passengers: this.passengersLoadsComponent.passengers,\r\n        shipment: this.passengersLoadsComponent.shipment\r\n      };\r\n    }\r\n\r\n    return returnedFields;\r\n  }\r\n\r\n  private addPostFlightFields(fields: Fields): Fields {\r\n    let returnedFields = fields;\r\n    if (this.postFlightRecordsComponent) {\r\n      returnedFields = {\r\n        ...fields,\r\n        roleEquipmentTableTitle: this.postFlightRecordsComponent.roleEquipmentTable,\r\n        postFlightVisitTableTitle: this.postFlightRecordsComponent.postFlightVisitTable,\r\n        defectsTableTitle: this.postFlightRecordsComponent.defectTable\r\n      };\r\n    }\r\n\r\n    return returnedFields;\r\n  }\r\n\r\n  private addCrewComponentFields(fields: Fields): Fields {\r\n    let returnedFields = fields;\r\n    if (this.crewComponent) {\r\n      returnedFields = {\r\n        ...fields,\r\n        crewMemberTableTitle: this.crewComponent.crewMemberTable,\r\n        pilot: this.crewComponent.pilot,\r\n        copilot: this.crewComponent.copilot\r\n      };\r\n    }\r\n\r\n    return returnedFields;\r\n  }\r\n\r\n  private loadEquipment(): void {\r\n    const equipmentId: BidoEquipmentDTOId = {\r\n      equipmentCode: this.equipmentCode\r\n    };\r\n    this.flightFormService.findBidoEquipment(equipmentId).subscribe((result) => {\r\n      this.equipment = result || {};\r\n      if (this.equipment) {\r\n        this.aircraftRepresentation = BidoEquipmentUtils.createAircraftRepresentation(this.equipment);\r\n      } else {\r\n        this.aircraftRepresentation = '';\r\n      }\r\n      this.previousEquipmentCode = this.equipment.equipmentCode;\r\n      if (!!this.postFlightRecordsComponent) {\r\n        this.postFlightRecordsComponent.onLoad(this.equipment, this.missionCode, this.occurrence);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return Bido Mission Equipment DTO ID\r\n   */\r\n  private returnBidoMissionEquipmentDTOId(): BidoMissionEquipmentDTOId {\r\n    const bidoMissionEquipmentDTOId: BidoMissionEquipmentDTOId = {\r\n      equipmentCode: this.equipmentCode,\r\n      missionCode: this.missionCode,\r\n      occurrence: this.occurrence\r\n    };\r\n\r\n    return bidoMissionEquipmentDTOId;\r\n  }\r\n\r\n  private loadFlightAttributeData(): void {\r\n    this.flightFormService.getSourceSystemIdList().subscribe((sourceSystemIdList) => {\r\n      this.sourceSystemIdList = ListUtils.orEmpty(sourceSystemIdList);\r\n\r\n      const bidoMissionEquipmentDTOId: BidoMissionEquipmentDTOId = {\r\n        equipmentCode: this.equipmentCode,\r\n        missionCode: this.missionCode,\r\n        occurrence: this.occurrence\r\n      };\r\n\r\n      // Source system id\r\n      const sourceSystemIdInput: FindBidoFlightAttributeInput = {\r\n        bidoMissionEquipmentDTOId,\r\n        attributeId: BidoAttributeConstants.FLIGHT_SYSTEM_SOURCE_ID.toString()\r\n      };\r\n      this.flightFormService.findBidoFlightAttribute(sourceSystemIdInput).subscribe((sourceSystemId) => {\r\n        this.sourceSystemId = sourceSystemId || {};\r\n      });\r\n\r\n      // Source system reference\r\n      const sourceSystemReferenceInput: FindBidoFlightAttributeInput = {\r\n        bidoMissionEquipmentDTOId,\r\n        attributeId: BidoAttributeConstants.FLIGHT_SYSTEM_SOURCE_REFERENCE.toString()\r\n      };\r\n      this.flightFormService.findBidoFlightAttribute(sourceSystemReferenceInput).subscribe((sourceSystemReference) => {\r\n        this.sourceSystemReference = sourceSystemReference || {};\r\n      });\r\n    });\r\n  }\r\n\r\n  private loadFlightBaseList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_BASE_MAP).subscribe((results) => {\r\n      this.flightBaseList = SelectItemUtils.fromLabelValues(ListUtils.orEmpty(results));\r\n    });\r\n  }\r\n\r\n  private loadFlightCustomerList(): void {\r\n    const criteria: BidoCustomerDTO = {\r\n      customerType: AWPropertiesConstants.CUSTOMER_TYPE_CUS_KEY\r\n    };\r\n    this.flightFormService.findAllBidoCustomerBySearchCriteria(criteria).subscribe((results) => {\r\n      this.flightCustomerList = this.fetchCustomerOperatorList(results);\r\n    });\r\n  }\r\n\r\n  private loadFlightOperatorList(): void {\r\n    const criteria: BidoCustomerDTO = {\r\n      isOperator: true\r\n    };\r\n    this.flightFormService.findAllBidoCustomerBySearchCriteria(criteria).subscribe((results) => {\r\n      this.flightOperatorList = this.fetchCustomerOperatorList(results);\r\n    });\r\n  }\r\n  private fetchCustomerOperatorList(results: BidoCustomerDTO[]): SelectItem[] {\r\n    return ListUtils.orEmpty(results)\r\n      .filter((result) => !StringUtils.isNullOrEmpty(result.customerCode))\r\n      .map((result) => {\r\n        const label = StringUtils.isNullOrEmpty(result.customerName)\r\n          ? result.customerCode\r\n          : `${result.customerName} (${result.customerCode})`;\r\n\r\n        return {\r\n          label,\r\n          value: result.customerCode as string\r\n        };\r\n      });\r\n  }\r\n\r\n  private loadFlightLabelList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_LABEL_MAP).subscribe((results) => {\r\n      this.flightLabelList = SelectItemUtils.fromLabelValues(ListUtils.orEmpty(results));\r\n    });\r\n  }\r\n\r\n  private loadFlightLoad(): void {\r\n    const flightLoadInput: FindAllBidoFlightLoadByFlightInput = {\r\n      equipmentCode: this.missionEquipment.equipmentCode as string,\r\n      missionCode: this.missionEquipment.missionCode as string,\r\n      occurrence: this.occurrence\r\n    };\r\n    this.flightFormService.findAllBidoFlightLoadByFlight(flightLoadInput).subscribe((flightLoadResults) => {\r\n      this.propertiesService\r\n        .getConfigurationValue(AWPropertiesConstants.DEFAULT_VOLUME_UNIT)\r\n        .subscribe((defaultVolumeUnitKey) => {\r\n          const uomInput: BireUnitMeasureDTOId = {\r\n            unitCode: defaultVolumeUnitKey\r\n          };\r\n          this.flightFormService.findBireUnitMeasure(uomInput).subscribe((defaultVolumeUnitResult) => {\r\n            this.fuelComponent.onLoad(this.missionEquipment, flightLoadResults, defaultVolumeUnitResult);\r\n            this.passengersLoadsComponent.onLoad(this.missionEquipment, flightLoadResults, defaultVolumeUnitResult);\r\n          });\r\n        });\r\n    });\r\n  }\r\n\r\n  private loadFlightStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_STATUS_MAP).subscribe((results) => {\r\n      this.flightStatusList = [];\r\n      results.forEach((result: LabelValue<string>) => {\r\n        this.flightStatusList.push(SelectItemUtils.fromLabelValue(result));\r\n      });\r\n      this.flightLabelStatusList = results;\r\n    });\r\n  }\r\n\r\n  private updateWorkflowStatusList() {\r\n    this.workflowStatus = WorkflowUtils.filterWorkflowStatusList(\r\n      this.userWorkflow,\r\n      this.flightStatusList,\r\n      this.missionEquipment ? this.missionEquipment.statusState : undefined\r\n    );\r\n  }\r\n\r\n  private loadFlightTypeList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.EVENT_MISSION_TYPE_MAP).subscribe((results) => {\r\n      this.flightTypeList = SelectItemUtils.fromLabelValues(ListUtils.orEmpty(results));\r\n    });\r\n  }\r\n\r\n  private loadMeasureReferenceList(equipmentCode: string): void {\r\n    this.flightFormService.findAllBireMeasureReferenceOfStructureByEquipmentCode(equipmentCode).subscribe((results) => {\r\n      this.measureReferenceList = ListUtils.orEmpty(results).filter((result) =>\r\n        ObjectUtils.isDefined(result.counterCode)\r\n      );\r\n    });\r\n  }\r\n\r\n  private loadMission(): void {\r\n    const missionId: BidoMissionDTOId = {\r\n      missionCode: this.missionCode\r\n    };\r\n    this.flightFormService.findBidoMission(missionId).subscribe((result) => {\r\n      this.mission = result || {};\r\n      if (!this.mission || StringUtils.isNullOrEmpty(this.mission.missionCode)) {\r\n        this.messageService.showErrorMessage(super.getTranslateKey('errorOnLoadMission'));\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadMissionEquipment(): void {\r\n    const missionEquipmentId: BidoMissionEquipmentDTOId = {\r\n      equipmentCode: this.equipmentCode,\r\n      missionCode: this.missionCode,\r\n      occurrence: this.occurrence\r\n    };\r\n    this.flightFormService.findBidoMissionEquipment(missionEquipmentId).subscribe((result) => {\r\n      this.missionEquipment = result || {};\r\n      this.missionEquipmentEndDate = ObjectUtils.isDefined(this.missionEquipment.endDate)\r\n        ? new Date(this.missionEquipment.endDate as number)\r\n        : undefined;\r\n      this.missionEquipmentStartDate = ObjectUtils.isDefined(this.missionEquipment.startDate)\r\n        ? new Date(this.missionEquipment.startDate as number)\r\n        : undefined;\r\n      this.loadUserWorkflow(this.missionEquipment.statusState);\r\n      this.setComponentContextOfGivenFlight(this.missionEquipment.missionInstanceCode);\r\n      this.setTableOfContent();\r\n\r\n      if (\r\n        !this.missionEquipment ||\r\n        StringUtils.isNullOrEmpty(this.missionEquipment.equipmentCode) ||\r\n        StringUtils.isNullOrEmpty(this.missionEquipment.missionCode) ||\r\n        StringUtils.isNullOrEmpty(this.missionEquipment.missionInstanceCode)\r\n      ) {\r\n        this.messageService.showErrorMessage(super.getTranslateKey('errorOnLoadMissionEquipment'));\r\n      } else {\r\n        this.chronoNumber = this.missionEquipment.missionInstanceCode;\r\n\r\n        if (this.missionEquipment.bidoFlightAttributeDTOList) {\r\n          if (this.sessionService.isSpecificDassault) {\r\n            const manualFlightEntriesAttribute = this.missionEquipment.bidoFlightAttributeDTOList.find(\r\n              (attribute) => attribute.attributeId === BidoAttributeConstants.DAV_MANUAL_FLIGHT_ENTRIES.toString()\r\n            );\r\n            if (manualFlightEntriesAttribute) {\r\n              this.manualFlightEntries = StringUtils.orEmpty(manualFlightEntriesAttribute.attributeValue) === 'true';\r\n            }\r\n          }\r\n        }\r\n\r\n        this.loadFlightLoad();\r\n\r\n        this.crewComponent.onLoad(this.missionEquipment);\r\n        this.enginesComponent.onLoad(this.equipmentCode, this.missionEquipment);\r\n        this.flightMeasuresComponent.onLoad(this.equipmentCode, this.missionEquipment.missionInstanceCode as string);\r\n\r\n        if (this.sessionService.isSpecificDassault) {\r\n          this.humsComponent.onLoad(this.missionEquipment, this.manualFlightEntries);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadMissionPeriodicityList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.MISSION_PERIODICITY_TYPE_MAP).subscribe((results) => {\r\n      this.missionPeriodicityList = SelectItemUtils.fromLabelValues(ListUtils.orEmpty(results));\r\n    });\r\n  }\r\n\r\n  public loadOperationalConfigs(): void {\r\n    const criteria: FindBidoFlsBySearchCriteriaInput = {\r\n      bidoFlDTOCriteria: {\r\n        flFunction: AWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY,\r\n        statusState: AWPropertiesConstants.FLOC_STATUS_VALIDATED_KEY,\r\n        flIsOpeConf: true\r\n      }\r\n    };\r\n    this.functionalLocationSearchService.searchFunctionalLocationList(criteria).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.operationalConfigs = results.list.map((element) => {\r\n            const statusStateLabel = LabelValueHelper.getLabelByValue(\r\n              this.operationalConfigurationStatusMap,\r\n              element.statusState\r\n            );\r\n\r\n            return {\r\n              flCode: element.flCode,\r\n              flDescription: element.flDescription,\r\n              statusState: statusStateLabel\r\n            };\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearch'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public getRequestedConfigLabel(): string {\r\n    let toReturn = '';\r\n    if (!!this.missionEquipment.requestedOpeConfigCode) {\r\n      toReturn = `${this.missionEquipment.requestedOpeConfigCode}`;\r\n      toReturn = toReturn + `(${this.missionEquipment.requestedOpeConfigDescription})`;\r\n    }\r\n\r\n    return toReturn;\r\n  }\r\n\r\n  private loadOperationalConfigurationStatusMap(): void {\r\n    this.propertiesService\r\n      .getValue(GenericPropertyConstants.FLOC_STATUS_MAP)\r\n      .subscribe((result) => (this.operationalConfigurationStatusMap = result));\r\n  }\r\n\r\n  private loadKardexMode(): void {\r\n    this.installAssetService.isFunctionalItemStructure().subscribe((result) => {\r\n      this.isFunctionalItemStructure = result;\r\n    });\r\n  }\r\n\r\n  private loadTimeZoneList(): void {\r\n    this.propertiesService.getTimeZones().subscribe((results) => {\r\n      this.timeZoneList = results\r\n        .map((result) => {\r\n          return {\r\n            label: result.label,\r\n            value: this.dateService.getTimeZoneValue(result.value)\r\n          };\r\n        })\r\n        .filter((timezone) => !!timezone.value);\r\n\r\n      this.propertiesService.getDefaultTimeZoneCode().subscribe((result) => {\r\n        this.timeZoneSelected = this.dateService.getTimeZoneValue(result);\r\n      });\r\n    });\r\n  }\r\n\r\n  public showStatus(): void {\r\n    const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n      content: FlightStatusComponent,\r\n      data: this.missionEquipment\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          const currentState = this.missionEquipment.statusState;\r\n          this.missionEquipment.statusState = event.data;\r\n          const saved = this.onSave();\r\n          if (!saved) {\r\n            // Revert status change if save not launched\r\n            this.missionEquipment.statusState = currentState;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private saveFlightAttributeData(): void {\r\n    const missionEquipmentId: BidoMissionEquipmentDTOId = {\r\n      equipmentCode: this.equipmentCode,\r\n      missionCode: this.missionCode,\r\n      occurrence: this.occurrence\r\n    };\r\n\r\n    if (this.sessionService.isSpecificDassault) {\r\n      // Manual Flight entries attribute\r\n      const input: SaveBidoFlightAttributeInput = {\r\n        bidoMissionEquipmentDTOId: missionEquipmentId,\r\n        attributeId: BidoAttributeConstants.DAV_MANUAL_FLIGHT_ENTRIES.toString(),\r\n        attributeValue: String(this.manualFlightEntries)\r\n      };\r\n      this.flightFormService.saveBidoFlightAttribute(input).subscribe();\r\n    }\r\n\r\n    if (\r\n      !StringUtils.isNullOrEmpty(this.sourceSystemId.attributeId) ||\r\n      !StringUtils.isNullOrEmpty(this.sourceSystemId.attributeValue)\r\n    ) {\r\n      // Source system id\r\n      const sourceSystemIdInput: SaveBidoFlightAttributeInput = {\r\n        bidoMissionEquipmentDTOId: missionEquipmentId,\r\n        attributeId: BidoAttributeConstants.FLIGHT_SYSTEM_SOURCE_ID.toString(),\r\n        attributeValue: StringUtils.orEmpty(this.sourceSystemId.attributeValue)\r\n      };\r\n      this.flightFormService.saveBidoFlightAttribute(sourceSystemIdInput).subscribe();\r\n\r\n      // Source system reference\r\n      const sourceSystemReferenceInput: SaveBidoFlightAttributeInput = {\r\n        bidoMissionEquipmentDTOId: missionEquipmentId,\r\n        attributeId: BidoAttributeConstants.FLIGHT_SYSTEM_SOURCE_REFERENCE.toString(),\r\n        attributeValue: StringUtils.orEmpty(this.sourceSystemReference.attributeValue)\r\n      };\r\n      this.flightFormService.saveBidoFlightAttribute(sourceSystemReferenceInput).subscribe();\r\n    }\r\n  }\r\n\r\n  private setComponentContextOfGivenFlight(missionInstanceCode: string | undefined): void {\r\n    this.componentContext = StringUtils.orEmpty(missionInstanceCode);\r\n\r\n    this.displayComponentContext(this.componentContext, this.isCreateOpenMode);\r\n  }\r\n\r\n  /******************************************************************************\r\n   * Table Of Content\r\n   *****************************************************************************/\r\n\r\n  private setTableOfContent(): void {\r\n    const additionalDataKey = 'page.additionalData';\r\n    const crewKey = this.getTranslateKey('crew');\r\n    const datesAndDurationKey = this.getTranslateKey('datesAndDuration');\r\n    const enginesKey = this.getTranslateKey('engines');\r\n    const flightMeasuresKey = this.getTranslateKey('flightMeasures');\r\n    const fuelKey = this.getTranslateKey('fuel');\r\n    const gonogoValidationStatusKey = this.getTranslateKey('gonogoValidation');\r\n    const humsKey = this.getTranslateKey('hums');\r\n    const mainDataKey = 'page.mainData';\r\n    const otherMeasuresKey = this.getTranslateKey('otherMeasures');\r\n    const passengersLoadsKey = this.getTranslateKey('passengersLoads');\r\n    const postFlightRecordsKey = this.getTranslateKey('postFlightRecords');\r\n    const replenishmentsValidationKey = this.getTranslateKey('replenishmentsValidation');\r\n    const scheduleKey = this.getTranslateKey('schedule');\r\n\r\n    this.translateService\r\n      .get([\r\n        additionalDataKey,\r\n        crewKey,\r\n        datesAndDurationKey,\r\n        enginesKey,\r\n        flightMeasuresKey,\r\n        fuelKey,\r\n        gonogoValidationStatusKey,\r\n        humsKey,\r\n        mainDataKey,\r\n        otherMeasuresKey,\r\n        passengersLoadsKey,\r\n        postFlightRecordsKey,\r\n        replenishmentsValidationKey,\r\n        scheduleKey\r\n      ])\r\n      .subscribe((results) => {\r\n        const additionalDataLabel = !!results ? results[additionalDataKey] : 'Additional Information';\r\n        const crewLabel = !!results ? results[crewKey] : 'Crew';\r\n        const datesAndDurationLabel = !!results ? results[datesAndDurationKey] : 'Dates And Duration';\r\n        const enginesLabel = !!results ? results[enginesKey] : 'Engines';\r\n        const flightMeasuresLabel = !!results ? results[flightMeasuresKey] : 'Flight Measures';\r\n        const fuelLabel = !!results ? results[fuelKey] : 'Fuel';\r\n        const gonogoValidationStatusLabel = !!results ? results[gonogoValidationStatusKey] : 'GoNoGo Validation';\r\n        const mainDataLabel = !!results ? results[mainDataKey] : 'Main Information';\r\n        const otherMeasuresLabel = !!results ? results[otherMeasuresKey] : 'Other Measures';\r\n        const passengersLoadsLabel = !!results ? results[passengersLoadsKey] : 'Passengers/Loads';\r\n        const replenishmentsValidationLabel = !!results\r\n          ? results[replenishmentsValidationKey]\r\n          : 'Replenishments Validation';\r\n        const scheduleLabel = !!results ? results[scheduleKey] : 'Schedule';\r\n\r\n        this.toc = [\r\n          {\r\n            id: 'mainInformationAnchor',\r\n            anchor: this.mainInformationEltRef,\r\n            label: mainDataLabel\r\n          },\r\n          {\r\n            id: 'gonogoValidationStatusAnchor',\r\n            anchor: this.gonogoValidationStatusEltRef,\r\n            label: gonogoValidationStatusLabel\r\n          },\r\n          {\r\n            id: 'replenishmentsValidationAnchor',\r\n            anchor: this.replenishmentsValidationEltRef,\r\n            label: replenishmentsValidationLabel\r\n          },\r\n          {\r\n            id: 'scheduleAnchor',\r\n            anchor: this.scheduleEltRef,\r\n            label: scheduleLabel\r\n          },\r\n          {\r\n            id: 'datesAndDurationAnchor',\r\n            anchor: this.datesAndDurationEltRef,\r\n            label: datesAndDurationLabel\r\n          },\r\n          {\r\n            id: 'additionalInformationAnchor',\r\n            anchor: this.additionalInformationEltRef,\r\n            label: additionalDataLabel\r\n          },\r\n          {\r\n            id: 'enginesAnchor',\r\n            anchor: this.enginesEltRef,\r\n            label: enginesLabel\r\n          },\r\n          {\r\n            id: 'fuelAnchor',\r\n            anchor: this.fuelEltRef,\r\n            label: fuelLabel\r\n          },\r\n          {\r\n            id: 'flightMeasuresAnchor',\r\n            anchor: this.flightMeasuresEltRef,\r\n            label: flightMeasuresLabel\r\n          },\r\n          {\r\n            id: 'otherMeasuresAnchor',\r\n            anchor: this.otherMeasuresEltRef,\r\n            label: otherMeasuresLabel\r\n          },\r\n          {\r\n            id: 'crewAnchor',\r\n            anchor: this.crewEltRef,\r\n            label: crewLabel\r\n          },\r\n          {\r\n            id: 'passengersLoadsAnchor',\r\n            anchor: this.passengersLoadsEltRef,\r\n            label: passengersLoadsLabel\r\n          }\r\n        ];\r\n\r\n        super.selectPageTocEntry('mainInformationAnchor');\r\n\r\n        if (this.sessionService.isSpecificDassault) {\r\n          const humsLabel = !!results ? results[humsKey] : 'HUMS';\r\n          const humsTocEntry = {\r\n            id: 'humsAnchor',\r\n            anchor: this.humsEltRef,\r\n            label: humsLabel\r\n          };\r\n          this.toc.splice(FlightFormComponent.TOC_HUMS_INDEX, 0, humsTocEntry);\r\n        }\r\n\r\n        if (this.isPostFlightRecordsVisible()) {\r\n          const postFlightRecordsLabel = !!results ? results[postFlightRecordsKey] : 'Post Flight Records';\r\n          const postFlightRecordsEntry = {\r\n            id: 'postFlightRecordsAnchor',\r\n            anchor: this.postFlightRecordsEltRef,\r\n            label: postFlightRecordsLabel\r\n          };\r\n          this.toc = [...this.toc, postFlightRecordsEntry];\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Update status update popup\r\n   */\r\n  public openStatusUpdatesPopup() {\r\n    this.showStatusUpdatesPopup = true;\r\n\r\n    const objId: BidoMissionEquipmentDTOId = this.returnBidoMissionEquipmentDTOId();\r\n\r\n    const columns: TableColumn[] = [\r\n      { field: 'statusDate', alignment: 'left', width: '6.25rem', isDate: true },\r\n      { field: 'statusUser', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'action', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'statusState', alignment: 'left', width: '6.25rem' },\r\n      { field: 'missionInstanceCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'customerCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'flightType', alignment: 'left', width: '6.25rem' },\r\n      { field: 'occurrence', alignment: 'left', width: '6.25rem' },\r\n      { field: 'userFlightNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'departureLocation', alignment: 'left', width: '6.25rem' },\r\n      { field: 'arrivalLocation', alignment: 'left', width: '6.25rem' },\r\n      { field: 'missionArea', alignment: 'left', width: '6.25rem' },\r\n      { field: 'startDate', alignment: 'left', width: '6.25rem', isDate: true },\r\n      { field: 'endDate', alignment: 'left', width: '6.25rem', isDate: true },\r\n      { field: 'missionDuration', alignment: 'left', width: '6.25rem' },\r\n      { field: 'cycleNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'missionCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'ifrDuration', alignment: 'left', width: '6.25rem' },\r\n      { field: 'dayMission', alignment: 'left', width: '6.25rem' },\r\n      { field: 'nightMission', alignment: 'left', width: '6.25rem' },\r\n      { field: 'flightDetails', alignment: 'left', width: '6.25rem' },\r\n      { field: 'missionComment', alignment: 'left', width: '6.25rem' },\r\n      { field: 'requestedOpeConfigCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'requestedOpeConfigDetails', alignment: 'left', width: '6.25rem' },\r\n      { field: 'requestedOpeConfigModifs', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engine1AssetCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engine2AssetCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engine3AssetCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engine4AssetCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engineStartDate', alignment: 'left', width: '6.25rem', isDate: true },\r\n      { field: 'engineStopDate', alignment: 'left', width: '6.25rem', isDate: true },\r\n      { field: 'engine1CycleNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engine2CycleNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engine3CycleNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'engine4CycleNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'equipmentCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'fuelUsed', alignment: 'left', width: '6.25rem' },\r\n      { field: 'commander', alignment: 'left', width: '6.25rem' },\r\n      { field: 'copilot', alignment: 'left', width: '6.25rem' },\r\n      { field: 'crewExtra', alignment: 'left', width: '6.25rem' },\r\n      { field: 'passengerNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'shipmentNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'plannedPassengerNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'deplannedPassengerNumber', alignment: 'left', width: '6.25rem' }\r\n    ];\r\n\r\n    this.updatesKeyMap.set('status', of(this.flightLabelStatusList));\r\n    this.updatesKeyMap.set('missionArea', of(this.areaList));\r\n\r\n    if (!!objId) {\r\n      this.tableStatusUpdatesData = {\r\n        componentId: 'FlightFormComponent.historicPopup',\r\n        tableCols: columns,\r\n        tableRows: this.flightFormService.findHBidoMissionEquipments(objId),\r\n        dataKey: undefined,\r\n        selectionMode: TableSelectionMode.Multiple,\r\n        globalFilter: false\r\n      };\r\n    } else {\r\n      super.throwUnboundLocalError('openStatusUpdatesPopup', 'this.bidoMissionEquipmentDTO');\r\n    }\r\n  }\r\n\r\n  public validateGonogoDisabling(): boolean {\r\n    return (\r\n      this.gonogoValidationFormComponent.gonogoValidationComment === undefined ||\r\n      this.gonogoValidationFormComponent.gonogoValidationComment === null ||\r\n      this.gonogoValidationFormComponent.gonogoValidationComment.trim().length === 0\r\n    );\r\n  }\r\n\r\n  public disactivateGonogoCommentReadOnly(): void {\r\n    this.gonogoValidationFormComponent.gonogoValidationCommentReadOnly = false;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <div id=\\\"flightMeasuresTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".flightMeasures\\\" | translate }} ({{ table ? table.length : 0 }})</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content\\\">\\r\\n  <p-table\\r\\n    id=\\\"flightMeasuresTable\\\"\\r\\n    [resizableColumns]=\\\"true\\\"\\r\\n    #ptableFlightMeasure\\r\\n    class=\\\"aw-table2\\\"\\r\\n    [columns]=\\\"tableColList\\\"\\r\\n    [value]=\\\"table\\\"\\r\\n    [scrollable]=\\\"true\\\"\\r\\n    dataKey=\\\"_id\\\"\\r\\n  >\\r\\n    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n      <span *ngIf=\\\"!tableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n      <div *ngIf=\\\"tableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n        <div class=\\\"lds-hourglass\\\"></div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"caption\\\">\\r\\n      <div class=\\\"aw-table-header\\\">\\r\\n        <div class=\\\"aw-table-global-filter\\\">\\r\\n          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n          </label>\\r\\n\\r\\n          <input\\r\\n            class=\\\"aw-table-global-filter-input\\\"\\r\\n            type=\\\"text\\\"\\r\\n            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n            (input)=\\\"ptableFlightMeasure.filterGlobal($event.target.value, 'contains')\\\"\\r\\n          />\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"aw-table-actions\\\">\\r\\n          <button\\r\\n            id=\\\"importTable\\\"\\r\\n            *ngIf=\\\"sessionService.isSpecificDassault && table.length > 0\\\"\\r\\n            type=\\\"button\\\"\\r\\n            mat-raised-button\\r\\n            (click)=\\\"importPotential()\\\"\\r\\n          >\\r\\n            {{ \\\"global.import\\\" | translate }}\\r\\n          </button>\\r\\n\\r\\n          <button id=\\\"exportTable\\\" *ngIf=\\\"table.length > 0\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"exportTable()\\\">\\r\\n            {{ \\\"global.export\\\" | translate }}\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n      <colgroup>\\r\\n        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n        <col class=\\\"row-expand-wrapper\\\" />\\r\\n      </colgroup>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n      <tr>\\r\\n        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n          {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n        </th>\\r\\n\\r\\n        <th class=\\\"row-expand-wrapper\\\"></th>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"body\\\" let-rowData let-expanded=\\\"expanded\\\" let-columns=\\\"columns\\\">\\r\\n      <tr>\\r\\n        <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n          <span *ngSwitchCase=\\\"'delta'\\\">\\r\\n            <i\\r\\n              *ngIf=\\\"rowData['_deltaAlt'] !== undefined && rowData['_deltaAlt'] !== null\\\"\\r\\n              class=\\\"fa fa-fw fa-exclamation-triangle\\\"\\r\\n              aria-hidden=\\\"true\\\"\\r\\n              pTooltip=\\\"{{ rowData['_deltaAlt'] }}\\\"\\r\\n              tooltipPosition=\\\"top\\\"\\r\\n            ></i>\\r\\n            <span *ngIf=\\\"rowData['_deltaAlt'] === undefined || rowData['_deltaAlt'] === null\\\">\\r\\n              {{ rowData[col.field] }}\\r\\n            </span>\\r\\n          </span>\\r\\n\\r\\n          <span *ngSwitchDefault>\\r\\n            {{ rowData[col.field] }}\\r\\n          </span>\\r\\n        </td>\\r\\n\\r\\n        <td class=\\\"row-expand-wrapper\\\" [pRowToggler]=\\\"rowData\\\">\\r\\n          <i\\r\\n            class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n            [ngClass]=\\\"expanded ? 'fa-minus' : 'fa-plus'\\\"\\r\\n            aria-hidden=\\\"true\\\"\\r\\n            pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n            tooltipPosition=\\\"top\\\"\\r\\n            (click)=\\\"toggleTableRowDetailsVisibility(rowData)\\\"\\r\\n          ></i>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n      <tr class=\\\"row-expanded\\\">\\r\\n        <td [attr.colspan]=\\\"columns.length + 1\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".delta\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"delta\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".unit\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"unit\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"showMeasureCoefAndComment\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".coefficient\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"coefficient\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"showMeasureCoefAndComment\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".comment\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"comment\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".source\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"source\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"!showMeasureCoefAndComment\\\"></div>\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"!showMeasureCoefAndComment\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".status\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"status\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".time\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"time\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".author\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"author\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".state\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <div class=\\\"form-control-generic\\\">\\r\\n                    {{ rowData[\\\"state\\\"] }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\"></div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n  </p-table>\\r\\n</div>\\r\\n\"","import { Component, ElementRef, Input } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DateService } from '../../../../../../shared/services/date.service';\r\nimport { ExportService } from '../../../../../../shared/services/export.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { FindAllBidoMeasureByFlightForFlightInput } from '../../../../../../shared/types/api-input-types/fleet-management/find-all-bido-measure-by-flight-for-flight-input.interface';\r\nimport { FindAllBidoMeasureByFlightForFlightOutput } from '../../../../../../shared/types/api-output-types/fleet-management/find-all-bido-measure-by-flight-for-flight-output.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoMeasureDTO } from '../../../../../../shared/types/api-types/bido-measure-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { BireItemUtils } from '../../../../../../shared/utils/bire-item-utils';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\ninterface FlightMeasureRow {\r\n  author: string;\r\n  code: string;\r\n  coefficient: string;\r\n  comment: string;\r\n  delta: string;\r\n  designation: string;\r\n  item: string;\r\n  pn: string;\r\n  readingDate: string;\r\n  sn: string;\r\n  source: string;\r\n  state: string;\r\n  status: string;\r\n  time: string;\r\n  unit: string;\r\n  value: string;\r\n  formattedValue: string;\r\n  _id: string;\r\n  _deltaAlt: string | undefined;\r\n  _equipment: BidoEquipmentDTO | undefined;\r\n  _expand: boolean;\r\n  _measure: BidoMeasureDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-flight-flight-measures',\r\n  templateUrl: './flight-measures.component.html'\r\n})\r\nexport class FlightMeasuresComponent extends GenericComponent {\r\n  private static readonly EXPORT_TRANSLATE_KEY: string = 'FlightMeasuresComponentExport';\r\n\r\n  public table: FlightMeasureRow[];\r\n  public tableColList: TableColumn[];\r\n  public tableLoading: boolean;\r\n  public showMeasureCoefAndComment: boolean;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public measureReferenceList: BireMeasureReferenceDTO[];\r\n\r\n  @Input()\r\n  public missionCode: string;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    public sessionService: SessionService,\r\n    private readonly dateService: DateService,\r\n    private readonly exportService: ExportService,\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Read);\r\n    this.showMeasureCoefAndComment = true;\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'FlightMeasuresComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.table = [];\r\n    this.tableLoading = false;\r\n  }\r\n\r\n  public onLoad(equipmentCode: string, missionInstanceCode: string): void {\r\n    this.tableLoading = true;\r\n\r\n    const input: FindAllBidoMeasureByFlightForFlightInput = {\r\n      equipmentCode,\r\n      missionInstanceCode\r\n    };\r\n    this.flightFormService.findAllBidoMeasureByFlight(input).subscribe(\r\n      (measureResults) => {\r\n        if (ListUtils.isNullOrEmpty(measureResults)) {\r\n          this.tableLoading = false;\r\n        } else {\r\n          this.flightFormService\r\n            .findAllEquipmentInStructureByEquipmentCode(equipmentCode)\r\n            .pipe(\r\n              finalize(() => {\r\n                this.tableLoading = false;\r\n              })\r\n            )\r\n            .subscribe((equipmentResults) => {\r\n              if (!ListUtils.isNullOrEmpty(equipmentResults)) {\r\n                const equipmentMap = new Map<string, BidoEquipmentDTO>();\r\n                equipmentResults\r\n                  .filter((equipmentResult) => ObjectUtils.isDefined(equipmentResult))\r\n                  .forEach((equipmentResult) => {\r\n                    equipmentMap.set(equipmentResult.equipmentCode as string, equipmentResult);\r\n                  });\r\n\r\n                this.table = measureResults\r\n                  .filter(\r\n                    (measureResult) =>\r\n                      ObjectUtils.isDefined(measureResult.bidoMeasureDTO) &&\r\n                      ObjectUtils.isDefined((measureResult.bidoMeasureDTO as BidoMeasureDTO).measureId)\r\n                  )\r\n                  .map((measureResult) => this.createFlightMeasureRow(measureResult, equipmentMap));\r\n              }\r\n            });\r\n        }\r\n      },\r\n      () => {\r\n        this.tableLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.setTableColList();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public exportTable(): void {\r\n    const fileNamePrefixKey = super.getTranslateKey('fileNamePrefix', FlightMeasuresComponent.EXPORT_TRANSLATE_KEY);\r\n    this.translateService.get(fileNamePrefixKey).subscribe((fileNamePrefix) => {\r\n      const fileNameToExport =\r\n        ((fileNamePrefix as string) || 'measure_list') +\r\n        '-' +\r\n        this.missionCode +\r\n        '-' +\r\n        this.dateService.dateWithHourToString(new Date());\r\n\r\n      const exportOpts = {\r\n        header: [\r\n          'pn',\r\n          'sn',\r\n          'item',\r\n          'designation',\r\n          'code',\r\n          'value',\r\n          'delta',\r\n          'unit',\r\n          'readingDate',\r\n          'source',\r\n          'status',\r\n          'statusDate',\r\n          'statusState',\r\n          'statusUser'\r\n        ]\r\n      };\r\n\r\n      this.exportService.toExcel(\r\n        this.table,\r\n        fileNameToExport,\r\n        FlightMeasuresComponent.EXPORT_TRANSLATE_KEY,\r\n        exportOpts\r\n      );\r\n    });\r\n  }\r\n\r\n  public importPotential(): void {\r\n    // TODO\r\n  }\r\n\r\n  public toggleTableRowDetailsVisibility(row: FlightMeasureRow): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  private createFlightMeasureRow(\r\n    measureData: FindAllBidoMeasureByFlightForFlightOutput,\r\n    equipmentMap: Map<string, BidoEquipmentDTO>\r\n  ): FlightMeasureRow {\r\n    const measure = measureData.bidoMeasureDTO as BidoMeasureDTO;\r\n    const equipment = measure.equipmentCode ? equipmentMap.get(measure.equipmentCode) : undefined;\r\n    const selectedUnit = this.measureReferenceList.find((elt) => elt.counterCode === measure.counterCode);\r\n    const formattedValue =\r\n      StringUtils.orEmpty(measure.value) +\r\n      (!StringUtils.isNullOrEmpty(measure.value) && selectedUnit && !StringUtils.isNullOrEmpty(selectedUnit.unitCode)\r\n        ? `(${selectedUnit.unitCode})`\r\n        : '');\r\n\r\n    let designation: string | undefined;\r\n    let item: string | undefined;\r\n    let pn: string | undefined;\r\n    let sn: string | undefined;\r\n\r\n    if (equipment) {\r\n      designation = equipment.equipmentDesignation;\r\n      item = BireItemUtils.createItemKey(equipment);\r\n      pn = equipment.pnCode;\r\n      sn = equipment.sn;\r\n    }\r\n\r\n    const flightMeasureRow: FlightMeasureRow = {\r\n      formattedValue,\r\n      author: StringUtils.orEmpty(measure.statusUser),\r\n      code: StringUtils.orEmpty(measure.counterCode),\r\n      coefficient: measure.coefficient || '1',\r\n      comment: StringUtils.orEmpty(measure.measureDescription),\r\n      delta: StringUtils.orEmpty(measureData.delta),\r\n      designation: StringUtils.orEmpty(designation),\r\n      item: StringUtils.orEmpty(item),\r\n      pn: StringUtils.orEmpty(pn),\r\n      readingDate: this.dateService.dateToString(measure.readingDate),\r\n      sn: StringUtils.orEmpty(sn),\r\n      source: StringUtils.orEmpty(measure.source),\r\n      state: StringUtils.orEmpty(measureData.state),\r\n      status: StringUtils.orEmpty(measure.status),\r\n      time: this.dateService.dateWithHourToString(measure.statusDate),\r\n      unit: selectedUnit ? StringUtils.orEmpty(selectedUnit.unitCode) : '',\r\n      value: StringUtils.orEmpty(measure.value),\r\n      _id: measure.measureId as string,\r\n      _deltaAlt: measureData.deltaAlt,\r\n      _equipment: equipment,\r\n      _expand: false,\r\n      _measure: measure\r\n    };\r\n\r\n    return flightMeasureRow;\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.tableColList = [\r\n      { field: 'pn', alignment: 'left', width: '12.5%' },\r\n      { field: 'sn', alignment: 'left', width: '12.5%' },\r\n      { field: 'item', alignment: 'left', width: '12.5%' },\r\n      { field: 'designation', alignment: 'left', width: '25%' },\r\n      { field: 'code', alignment: 'left', width: '12.5%' },\r\n      { field: 'formattedValue', alignment: 'left', width: '12.5%' },\r\n      { field: 'readingDate', alignment: 'left', width: '12.5%' }\r\n    ];\r\n    this.showMeasureCoefAndComment = !this.sessionService.isSpecificDassault;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <div class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".fuelLoadDesired\\\" | translate }}</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n  <div class=\\\"section\\\" *ngIf=\\\"showFuelTotal\\\">\\r\\n    <div class=\\\"section-content\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div id=\\\"realisedFuelUsed\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">\\r\\n            {{ getComponentName() + \\\".fuelUsed\\\" | translate }}\\r\\n            <span *ngIf=\\\"defaultVolumeUnit\\\">({{ defaultVolumeUnit }})</span>\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"realisedFuelUsed\\\" [disabled]=\\\"isReadOpenMode\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"fuelLoadFactual2\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">\\r\\n            {{ getComponentName() + \\\".fuelLoadFactual\\\" | translate }}\\r\\n            <span *ngIf=\\\"defaultVolumeUnit\\\">({{ defaultVolumeUnit | translate }})</span>\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"fuelLoadFactual\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"fuelLoadDesiredTotal2\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">\\r\\n            {{ getComponentName() + \\\".fuelLoadDesiredTotal\\\" | translate }}\\r\\n            <span *ngIf=\\\"defaultVolumeUnit\\\">({{ defaultVolumeUnit | translate }})</span>\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"fuelLoadDesiredTotal\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"section\\\">\\r\\n    <div class=\\\"section-content\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"chart-inputs\\\">\\r\\n          <div id=\\\"fuel{{ fuelData.type }}\\\" *ngFor=\\\"let fuelData of fuelDataList\\\" class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ fuelData.label }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <input\\r\\n                type=\\\"number\\\"\\r\\n                class=\\\"aw-input\\\"\\r\\n                [(ngModel)]=\\\"fuelData.value\\\"\\r\\n                [disabled]=\\\"isReadOpenMode\\\"\\r\\n                (keyup)=\\\"fuelData.valueChanged.next(fuelData.value)\\\"\\r\\n              />\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"chart\\\" class=\\\"chart-wrapper\\\">\\r\\n          <p-chart [type]=\\\"chartType\\\" [data]=\\\"chartData\\\" [options]=\\\"chartOptions\\\" width=\\\"100%\\\" height=\\\"100%\\\"></p-chart>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .form-group {\\n  max-width: 12rem;\\n  min-width: 12rem; }\\n\\n:host .chart-inputs {\\n  display: flex;\\n  flex-direction: column;\\n  padding-bottom: 28px;\\n  width: 12rem; }\\n\\n:host .chart-wrapper {\\n  width: calc(100% - 12rem); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvZnVlbC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZmxpZ2h0LW9wZXJhdGlvbnNcXGZsaWdodFxcZm9ybVxcZmxpZ2h0XFxmdWVsXFxmdWVsLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL2ZsaWdodC1vcGVyYXRpb25zL2ZsaWdodC9mb3JtL2ZsaWdodC9mdWVsL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcc3R5bGVzXFxfbWl4aW5zLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFFSSxnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBSHBCO0VDZUUsYUFBYTtFQUNiLHNCQUFzQjtFRFBwQixvQkFBb0I7RUFDcEIsWUFBWSxFQUFBOztBQVZoQjtFQWNJLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvZnVlbC9mdWVsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5AaW1wb3J0IFwibWl4aW5zXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgLmZvcm0tZ3JvdXAge1xyXG4gICAgbWF4LXdpZHRoOiAxMnJlbTtcclxuICAgIG1pbi13aWR0aDogMTJyZW07XHJcbiAgfVxyXG5cclxuICAuY2hhcnQtaW5wdXRzIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtY29sdW1uKCk7XHJcblxyXG4gICAgcGFkZGluZy1ib3R0b206IDI4cHg7XHJcbiAgICB3aWR0aDogMTJyZW07XHJcbiAgfVxyXG5cclxuICAuY2hhcnQtd3JhcHBlciB7XHJcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMTJyZW0pO1xyXG4gIH1cclxufVxyXG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIFV0aWxzIC8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBidXR0b24tY29sb3IoJGJhY2tncm91bmQtY29sb3IsICRjb2xvciwgJGJvcmRlci1jb2xvcjogbnVsbCkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRiYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIGJvcmRlci1jb2xvcjogJGNvbG9yO1xyXG4gIGNvbG9yOiAkY29sb3I7XHJcblxyXG4gICY6bm90KDpkaXNhYmxlZCk6aG92ZXIsXHJcbiAgJjpub3QoOmRpc2FibGVkKS5hY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yO1xyXG4gICAgYm9yZGVyLWNvbG9yOiBpZigkYm9yZGVyLWNvbG9yID09IG51bGwsICRjb2xvciwgJGJvcmRlci1jb2xvcik7XHJcbiAgICBjb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZmxleC1jb2x1bW4oKSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcblxyXG5AbWl4aW4gZmxleC1yb3coKSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQoKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICBib3JkZXItbGVmdC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMDtcclxuICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcbiAgY29sb3I6IGluaGVyaXQ7XHJcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XHJcbiAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBwYWRkaW5nOiAycHggMCA0cHggMDtcclxuXHJcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxufVxyXG5cclxuQG1peGluIGlucHV0LWRpc2FibGVkKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWRpc2FibGVkO1xyXG4gIG9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dC1mb2N1cygpIHtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxufVxyXG5cclxuQG1peGluIGlucHV0LWhvdmVyKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG59XHJcblxyXG5AbWl4aW4gcGxhY2Vob2xkZXIge1xyXG4gICY6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG4gICY6LW1vei1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjo6LW1vei1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjotbXMtaW5wdXQtcGxhY2Vob2xkZXIge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc2VhcmNoLWNyaXRlcmlhLWNvbnRhaW5lciB7XHJcbiAgLmFkdmFuY2VkLWNyaXRlcmlhIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICB9XHJcblxyXG4gIC5zZWFyY2gtY3JpdGVyaWEtZm9vdGVyIHtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIG1hcmdpbi10b3A6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDIpO1xyXG5cclxuICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyIHtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXItbGVzcyxcclxuICAgICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1tb3JlIHtcclxuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXItbGVzcyxcclxuICAgICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXItbW9yZSB7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gLyAyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5zZWFyY2gtYWN0aW9ucyB7XHJcbiAgICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gICAgICAuYXctYnRuIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHNlY3Rpb24tY29udGFpbmVyIHtcclxuICBtYXJnaW4tdG9wOiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiA0KTtcclxuXHJcbiAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgfVxyXG5cclxuICAuc2VjdGlvbi10aXRsZSB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNzVyZW07XHJcbiAgICBtYXJnaW4tbGVmdDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcblxyXG4gICAgJi5yZXF1aXJlZCB7XHJcbiAgICAgIEBpbmNsdWRlIGdyaWQtZm9ybS1jb250cm9sLXJlcXVpcmVkKCk7XHJcbiAgICAgICY6OmFmdGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5hbGVydCB7XHJcbiAgICAgICAgY29sb3I6ICRyZWQtZGFyazE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXctaWNvbiB7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjc1cmVtO1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLWNvbnRlbnQge1xyXG4gICAgQGluY2x1ZGUgZmxleC1jb2x1bW4oKTtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLWFjdGlvbnMge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cclxuICAgICYgPiBidXR0b24ge1xyXG4gICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiB0ZXh0LW92ZXJmbG93LWhpZGRlbiB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIEdyaWQgZm9ybSBjb250cm9scyAvL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wge1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJNZWRpdW1cIjtcclxuXHJcbiAgJiA+IGlucHV0ICsgcC1tZXNzYWdlID4gLnVpLW1lc3NhZ2Uge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWFjdGlvbnMge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgJjpmb2N1cyxcclxuICAgICY6aG92ZXIge1xyXG4gICAgICAmID4gLmZvcm0tY29udHJvbC1hY3Rpb25zIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gbGVmdCwgcmdiKDI1NSwgMjU1LCAyNTUpIDYwJSwgdHJhbnNwYXJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJiA+ICo6Zmlyc3QtY2hpbGQge1xyXG4gICAgICB3aWR0aDogY2FsYygxMDAlIC0gMS43NXJlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgJiA+IC5mb3JtLWNvbnRyb2wtYWN0aW9ucyB7XHJcbiAgICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBib3R0b206IDA7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgIHRvcDogMDtcclxuXHJcbiAgICAgIC5hdy1pY29uIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1idG4sXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1tb2RhbCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICBib3JkZXItbGVmdC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICAgIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAkYm9yZGVyLXdpZHRoO1xyXG5cclxuICAgIHRyYW5zaXRpb246IGJvcmRlci1ib3R0b20tY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgJi5kaXNhYmxlZCB7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWJ0biB7XHJcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XHJcblxyXG4gICAgJiA+ICo6Zmlyc3QtY2hpbGQge1xyXG4gICAgICB3aWR0aDogY2FsYygxMDAlIC0gMS43NXJlbSk7XHJcblxyXG4gICAgICAmLmF3LWNhbGVuZGFyIC51aS1pbnB1dHRleHQsXHJcbiAgICAgICYuYXctZHJvcGRvd24gLnVpLWRyb3Bkb3duLFxyXG4gICAgICAmLmF3LWlucHV0LFxyXG4gICAgICAmLmF3LXRleHRhcmVhIHtcclxuICAgICAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJiA+IC5hdy1jYWxlbmRhciB7XHJcbiAgICAgIC8vIEZJWE1FOiBmaXggYW4gVUkgaXNzdWUgb24gUHJpbWVORyBjYWxlbmRhciBjb21wb25lbnQ7IHRvIHJlbW92ZSB3aGVuIGlzc3VlIHdpbGwgYmUgZml4ZWQgdXBzdHJlYW1cclxuICAgICAgb3ZlcmZsb3c6IGluaXRpYWw7XHJcbiAgICB9XHJcblxyXG4gICAgJiA+IC5hdy1pY29uIHtcclxuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1tb2RhbCB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBtYXgtaGVpZ2h0OiAzMHB4O1xyXG4gICAgbWluLWhlaWdodDogMzBweDtcclxuXHJcbiAgICAmLmRpc2FibGVkIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuXHJcbiAgICAgIC5hdy1pY29uOm5vdCgucmVhZC1vbmx5LWxpbmspIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jazsgLy8gbm9uZVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmZvcm0tY29udHJvbC1kYXRhIHtcclxuICAgICAgY29sb3I6IGluaGVyaXQ7XHJcbiAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcbiAgICAgIHBhZGRpbmc6IDJweCAwIDRweCAwO1xyXG4gICAgfVxyXG5cclxuICAgIC5idG4tbmltcCxcclxuICAgIC5idG4tZXh0ZXJuYWwtbGluay13cmFwcGVyLFxyXG4gICAgLmJ0bi1jbGVhci13cmFwcGVyLFxyXG4gICAgLmJ0bi1maWxlLXVwbG9hZC13cmFwcGVyLFxyXG4gICAgLmJ0bi1zZWFyY2gtd3JhcHBlciB7XHJcbiAgICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC5idG4tZmlsZS11cGxvYWQtd3JhcHBlciB7XHJcbiAgICAgIC5hdy1maWxldXBsb2FkIHtcclxuICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuXHJcbiAgICAgICAgJjpmb2N1cyxcclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC51aS1idXR0b24ge1xyXG4gICAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIHdpZHRoOiAxLjFyZW07XHJcblxyXG4gICAgICAgICAgJjpmb2N1cyxcclxuICAgICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudWktYnV0dG9uLWljb24tbGVmdCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGNvbnRlbnRzO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICAgICAgcG9zaXRpb246IGluaXRpYWw7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxLjFyZW07XHJcblxyXG4gICAgICAgICAgICAmOjpiZWZvcmUge1xyXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXFxlOTM0XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXctaWNvbiB7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5idG4tY2xlYXIge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5idG4tc2VhcmNoIHtcclxuICAgICAgICB3aWR0aDogMS43NXJlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1yYWRpb2J1dHRvbiB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgICYgPiAuYXctcmFkaW9idXR0b24ge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IGNhbGMoMiAqICN7JG1hcmdpbi12YWx1ZX0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1jb250cm9sLWdlbmVyaWMge1xyXG4gIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gIGhlaWdodDogMzBweDtcclxuICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0O1xyXG5cclxuICAmID4gYSB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJiA+IC5hbGVydCB7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDVyZW07XHJcblxyXG4gICAgJi5hbGVydC0tbm9rIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0tb2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gICAgfVxyXG5cclxuICAgICYuYWxlcnQtLXdhcm5pbmcge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkb3JhbmdlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1jb250cm9sLXJlcXVpcmVkIHtcclxuICAmOjphZnRlciB7XHJcbiAgICBjb2xvcjogJHJlZC1kYXJrMTtcclxuICAgIGNvbnRlbnQ6IFwiKlwiO1xyXG4gICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTRweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWNhbGVuZGFyIHtcclxuICAmLnVpLWlucHV0d3JhcHBlci1mb2N1cyB7XHJcbiAgICAudWktY2FsZW5kYXIgLnVpLWlucHV0dGV4dCB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0LWZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAudWktY2FsZW5kYXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgLnVpLWlucHV0dGV4dCB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0KCk7XHJcblxyXG4gICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICY6ZGlzYWJsZWQge1xyXG4gICAgICAgIEBpbmNsdWRlIGlucHV0LWRpc2FibGVkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KDpkaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICAgIEBpbmNsdWRlIGlucHV0LWhvdmVyKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tbGFiZWwge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuQG1peGluIGdyaWQtY2hlY2tib3gge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBoZWlnaHQ6ICRjaGVja2JveC1oZWlnaHQ7XHJcbiAgd2lkdGg6ICRjaGVja2JveC1oZWlnaHQ7XHJcblxyXG4gIC51aS1jaGtib3gge1xyXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgLnVpLWNoa2JveC1ib3gge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gICAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgICBjb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1hY3RpdmUge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1kcm9wZG93biB7XHJcbiAgLnVpLWRyb3Bkb3duIHtcclxuICAgIEBpbmNsdWRlIGlucHV0KCk7XHJcblxyXG4gICAgJi51aS1zdGF0ZS1kaXNhYmxlZCB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0LWRpc2FibGVkKCk7XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tbGFiZWwge1xyXG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWZvY3VzIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi10cmlnZ2VyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1jbGVhci1pY29uLFxyXG4gICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG5cclxuICAgICAgJjpmb2N1cyxcclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tY2xlYXItaWNvbiB7XHJcbiAgICAgIHJpZ2h0OiAxLjc1cmVtO1xyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi10cmlnZ2VyIHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWxhYmVsIHtcclxuICAgICAgQGluY2x1ZGUgdGV4dC1vdmVyZmxvdy1oaWRkZW4oKTtcclxuXHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAyICogMS43NXJlbSk7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZpeGVkLXdpZHRoIC51aS1kcm9wZG93biB7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZmlsZXVwbG9hZCB7XHJcbiAgQGV4dGVuZCAuYXctYnRuO1xyXG5cclxuICBwYWRkaW5nOiAwO1xyXG5cclxuICAudWktZmlsZXVwbG9hZC1jaG9vc2Uge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBwYWRkaW5nOiAwICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgLnVpLWJ1dHRvbi1pY29uLWxlZnQge1xyXG4gICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC51aS1idXR0b24tdGV4dCB7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtaW5wdXQoKSB7XHJcbiAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICY6ZGlzYWJsZWQge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuICB9XHJcblxyXG4gICY6bm90KDpkaXNhYmxlZCk6Zm9jdXMge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuICB9XHJcblxyXG4gICY6bm90KDpkaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLXRleHRhcmVhIHtcclxuICBAaW5jbHVkZSBncmlkLWlucHV0KCk7XHJcblxyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1pbi1oZWlnaHQ6ICRmb3JtLWNvbnRyb2wtaGVpZ2h0O1xyXG4gIHJlc2l6ZTogdmVydGljYWw7XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLXJhZGlvYnV0dG9uIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgaGVpZ2h0OiAkcmFkaW9idXR0b24taGVpZ2h0O1xyXG4gIHdpZHRoOiAkcmFkaW9idXR0b24taGVpZ2h0O1xyXG5cclxuICAudWktcmFkaW9idXR0b24ge1xyXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgLnVpLXJhZGlvYnV0dG9uLWJveCB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG4gICAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHdpZHRoOiBpbmhlcml0O1xyXG5cclxuICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG5cclxuICAgICAgJi51aS1zdGF0ZS1kaXNhYmxlZCB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtYWN0aXZlIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcblxyXG4gICAgICAgIC51aS1yYWRpb2J1dHRvbi1pY29uIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5AbWl4aW4gY2FsZW5kYXItcGFuZWwge1xyXG4gIC51aS1kYXRlcGlja2VyOm5vdCgudWktZGF0ZXBpY2tlci1pbmxpbmUpIHtcclxuICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3JkZXItc3R5bGU6ICRib3JkZXItc3R5bGU7XHJcbiAgICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcbiAgICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMTYpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGRyb3Bkb3duLXBhbmVsIHtcclxuICAudWktZHJvcGRvd24tcGFuZWwge1xyXG4gICAgYm9yZGVyOiAkYm9yZGVyLXdpZHRoICRib3JkZXItc3R5bGUgJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMTYpO1xyXG5cclxuICAgIC51aS1kcm9wZG93bi1pdGVtcy13cmFwcGVyIC51aS1kcm9wZG93bi1saXN0IHtcclxuICAgICAgLnVpLWRyb3Bkb3duLWl0ZW0ge1xyXG4gICAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgcGFkZGluZzogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLnVpLXN0YXRlLWhpZ2hsaWdodCB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgICAgY29sb3I6ICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, ElementRef, Input } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\nimport { AppConstants } from '../../../../../../shared/constants/app-constants';\r\nimport { GenericPropertyConstants } from '../../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { PropertiesService } from '../../../../../../shared/services/properties.service';\r\nimport { BidoFlightLoadDTO } from '../../../../../../shared/types/api-types/bido-flight-load-dto.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BireUnitMeasureDTO } from '../../../../../../shared/types/api-types/bire-unit-measure-dto.interface';\r\nimport { FlightDTO } from '../../../../../../shared/types/api-types/flight-dto.interface';\r\nimport { FlightFuelDTO } from '../../../../../../shared/types/api-types/flight-fuel-dto.interface';\r\nimport { FlightUnitOfMeasureDTO } from '../../../../../../shared/types/api-types/flight-unit-of-measure-dto.interface';\r\nimport { ChartType } from '../../../../../../shared/types/chart-type.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\ninterface FuelData {\r\n  graphIndex: number;\r\n  label: string;\r\n  type: string;\r\n  value: number;\r\n  valueChanged: Subject<number>;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-flight-fuel',\r\n  styleUrls: ['./fuel.component.scss'],\r\n  templateUrl: './fuel.component.html'\r\n})\r\nexport class FuelComponent extends GenericComponent {\r\n  private static readonly GRAPH_INPUT_DEBOUNCE_TIME: number = 500;\r\n\r\n  public defaultVolumeUnit: string | undefined;\r\n  public fuelDataList: FuelData[];\r\n  public fuelLoadDesiredTotal: number;\r\n  public fuelLoadFactual: number;\r\n  public realisedFuelUsed: number;\r\n\r\n  public chartData: ChartType;\r\n  public chartOptions: unknown;\r\n  public chartType: string;\r\n\r\n  private defaultVolumeUnitCode: string | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public showFuelTotal: boolean = true;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'FuelComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.defaultVolumeUnit = undefined;\r\n    this.defaultVolumeUnitCode = undefined;\r\n    this.fuelDataList = [];\r\n    this.fuelLoadDesiredTotal = 0;\r\n    this.fuelLoadFactual = 0;\r\n    this.realisedFuelUsed = 0;\r\n  }\r\n\r\n  public onLoad(\r\n    missionEquipment: BidoMissionEquipmentDTO,\r\n    flightLoadList: BidoFlightLoadDTO[],\r\n    unitMeasure: BireUnitMeasureDTO\r\n  ): void {\r\n    this.defaultVolumeUnit = unitMeasure.unitName || unitMeasure.unitCode;\r\n    this.defaultVolumeUnitCode = unitMeasure.unitCode;\r\n    this.realisedFuelUsed = ObjectUtils.isDefined(missionEquipment.fuelUsed)\r\n      ? (missionEquipment.fuelUsed as number)\r\n      : 0;\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.FUEL_TYPE_MAP).subscribe((fuelTypeResults) => {\r\n      this.fuelDataList = fuelTypeResults.map((fuelType, index) => {\r\n        const selectedFlightLoad = flightLoadList.find((flightLoad) => flightLoad.floType === fuelType.value);\r\n\r\n        return this.createFuelData(fuelType, selectedFlightLoad, index);\r\n      });\r\n\r\n      this.setChart();\r\n    });\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.registerFuelUpdatedObservable();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public fillFlight(flight: FlightDTO): void {\r\n    flight.flightFuelList = this.fuelDataList.map((fuelData) => this.createFlightFuel(fuelData));\r\n    flight.usedFuel = this.realisedFuelUsed;\r\n  }\r\n\r\n  private createFlightFuel(fuelData: FuelData): FlightFuelDTO {\r\n    const flightUom: FlightUnitOfMeasureDTO = {\r\n      id: this.defaultVolumeUnitCode,\r\n      name: '',\r\n      description: ''\r\n    };\r\n    const flightFuel: FlightFuelDTO = {\r\n      id: '',\r\n      type: fuelData.type,\r\n      uom: flightUom,\r\n      value: fuelData.value\r\n    };\r\n\r\n    return flightFuel;\r\n  }\r\n\r\n  private createFuelData(\r\n    fuelType: LabelValue<string>,\r\n    flightLoad: BidoFlightLoadDTO | undefined,\r\n    graphIndex: number\r\n  ): FuelData {\r\n    const fuelData: FuelData = {\r\n      graphIndex,\r\n      label: fuelType.label,\r\n      type: fuelType.value,\r\n      value: flightLoad && flightLoad.floValue ? Number(flightLoad.floValue) : 0,\r\n      valueChanged: this.setFuelDataValueChanged(graphIndex)\r\n    };\r\n    fuelData.valueChanged.next(fuelData.value);\r\n\r\n    return fuelData;\r\n  }\r\n\r\n  private registerFuelUpdatedObservable(): void {\r\n    this.flightFormService.fuelUpdated$.pipe(takeUntil(this.unsubscribe)).subscribe((newValue: number) => {\r\n      this.fuelLoadFactual = newValue;\r\n    });\r\n  }\r\n\r\n  private setFuelDataValueChanged(graphIndex: number): Subject<number> {\r\n    const valueChanged = new Subject<number>();\r\n    valueChanged\r\n      .pipe(debounceTime(FuelComponent.GRAPH_INPUT_DEBOUNCE_TIME), distinctUntilChanged(), takeUntil(this.unsubscribe))\r\n      .subscribe((value) => {\r\n        this.updateChartValue(graphIndex, value);\r\n        this.updateChart();\r\n\r\n        this.fuelLoadDesiredTotal = this.chartData.datasets[0].data.reduce((acc, val) => acc + val, 0);\r\n      });\r\n\r\n    return valueChanged;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Chart\r\n   *************************************************************************/\r\n\r\n  private setChart(): void {\r\n    this.chartType = 'horizontalBar';\r\n    this.chartData = {\r\n      datasets: [\r\n        {\r\n          data: this.fuelDataList.map((fuelData) => fuelData.value),\r\n          backgroundColor: [],\r\n          hoverBackgroundColor: []\r\n        }\r\n      ],\r\n      labels: []\r\n    };\r\n\r\n    this.setChartLabels();\r\n    this.setChartOptions();\r\n  }\r\n\r\n  private setChartLabels(): void {\r\n    const additionalReserveKey = this.getTranslateKey('additionalReserve');\r\n    const clearanceReserveKey = this.getTranslateKey('clearanceReserve');\r\n    const finalReserveKey = this.getTranslateKey('finalReserve');\r\n    const roadReserveKey = this.getTranslateKey('roadReserve');\r\n    const rollingKey = this.getTranslateKey('rolling');\r\n    const stepConsumptionKey = this.getTranslateKey('stepConsumption');\r\n\r\n    this.translateService\r\n      .get([additionalReserveKey, clearanceReserveKey, finalReserveKey, roadReserveKey, rollingKey, stepConsumptionKey])\r\n      .subscribe((results) => {\r\n        const additionalReserveLabel = results ? results[additionalReserveKey] : 'Additional Reserve';\r\n        const clearanceReserveLabel = results ? results[clearanceReserveKey] : 'Clearance Reserve';\r\n        const finalReserveLabel = results ? results[finalReserveKey] : 'Final Reserve';\r\n        const roadReserveLabel = results ? results[roadReserveKey] : 'Road Reserve';\r\n        const rollingLabel = results ? results[rollingKey] : 'Rolling';\r\n        const stepConsumptionLabel = results ? results[stepConsumptionKey] : 'Step Consumption';\r\n\r\n        this.chartData.labels = [\r\n          rollingLabel,\r\n          stepConsumptionLabel,\r\n          roadReserveLabel,\r\n          clearanceReserveLabel,\r\n          finalReserveLabel,\r\n          additionalReserveLabel\r\n        ];\r\n      });\r\n  }\r\n\r\n  private setChartOptions(): void {\r\n    this.chartOptions = {\r\n      legend: {\r\n        display: false\r\n      },\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            ticks: {\r\n              beginAtZero: true,\r\n              suggestedMax: 100\r\n            }\r\n          }\r\n        ],\r\n        yAxes: [\r\n          {\r\n            display: false\r\n          }\r\n        ]\r\n      },\r\n      tooltips: {\r\n        bodyFontColor: AppConstants.COLOR_BACKGROUND_PRIMARY\r\n      }\r\n    };\r\n  }\r\n\r\n  private updateChart(): void {\r\n    this.chartData = { ...this.chartData };\r\n  }\r\n\r\n  private updateChartValue(index: number, value: number): void {\r\n    this.chartData.datasets[0].data[index] = value;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <div class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".gonogoValidation\\\" | translate }}</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content\\\">\\r\\n  <div class=\\\"column\\\">\\r\\n    <div *ngIf=\\\"sessionService.isSpecificDassault\\\" class=\\\"row data\\\">\\r\\n      <div id=\\\"goNoGoStatus\\\" *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".status\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <div class=\\\"form-control-generic\\\">\\r\\n            <span *ngIf=\\\"gonogoValidationStatus === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n              {{ getComponentName() + \\\".validationOk\\\" | translate }}\\r\\n            </span>\\r\\n\\r\\n            <span *ngIf=\\\"gonogoValidationStatus === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n              {{ getComponentName() + \\\".validationNok\\\" | translate }}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div\\r\\n        id=\\\"date\\\"\\r\\n        class=\\\"form-group\\\"\\r\\n        [ngClass]=\\\"{ 'visibility--hidden': gonogoValidationStatus === controlConfigConstants.ICON_RED }\\\"\\r\\n      >\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".date\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [showTime]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"date\\\"\\r\\n            [disabled]=\\\"true\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div\\r\\n        id=\\\"user\\\"\\r\\n        class=\\\"form-group\\\"\\r\\n        [ngClass]=\\\"{ 'visibility--hidden': gonogoValidationStatus === controlConfigConstants.ICON_RED }\\\"\\r\\n      >\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".user\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"user\\\" [disabled]=\\\"true\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!sessionService.isSpecificDassault\\\" class=\\\"row\\\">\\r\\n      <div id=\\\"goNoGoStatus\\\" *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".status\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <div class=\\\"form-control-generic\\\">\\r\\n            <span *ngIf=\\\"gonogoValidationStatus === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n              {{ getComponentName() + \\\".validationOk\\\" | translate }}\\r\\n            </span>\\r\\n\\r\\n            <span *ngIf=\\\"gonogoValidationStatus === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n              {{ getComponentName() + \\\".validationNok\\\" | translate }}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .action-list .aw-btn {\\n  margin-left: 8px; }\\n  :host .action-list .aw-btn:first-of-type {\\n    margin-left: 0; }\\n  :host .data > .form-group:first-of-type {\\n  max-width: 4.5rem; }\\n  :host .data > .form-group:nth-of-type(2) {\\n  max-width: 10.5rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvZ29ub2dvLXZhbGlkYXRpb24tc3RhdHVzL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxmbGlnaHQtb3BlcmF0aW9uc1xcZmxpZ2h0XFxmb3JtXFxmbGlnaHRcXGdvbm9nby12YWxpZGF0aW9uLXN0YXR1c1xcZ29ub2dvLXZhbGlkYXRpb24tc3RhdHVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL2ZsaWdodC1vcGVyYXRpb25zL2ZsaWdodC9mb3JtL2ZsaWdodC9nb25vZ28tdmFsaWRhdGlvbi1zdGF0dXMvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUdNLGdCQ3VDWSxFQUFBO0VEMUNsQjtJQU1RLGNBQWMsRUFBQTtFQU50QjtFQWNRLGlCQUFpQixFQUFBO0VBZHpCO0VBa0JRLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvZ29ub2dvLXZhbGlkYXRpb24tc3RhdHVzL2dvbm9nby12YWxpZGF0aW9uLXN0YXR1cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjpob3N0IHtcclxuICAuYWN0aW9uLWxpc3Qge1xyXG4gICAgLmF3LWJ0biB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmRhdGEge1xyXG4gICAgJiA+IC5mb3JtLWdyb3VwIHtcclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDQuNXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMC41cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iXX0= */\"","import { Component, ElementRef, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../../../shared/constants/component-constants';\r\nimport { ControlConfigConstants } from '../../../../../../shared/constants/control-config-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../../../shared/services/date.service';\r\nimport { SerializationService } from '../../../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../../../shared/services/tab.service';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { PageComponentData } from '../../../../../../shared/types/page-component-data.interface';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightInputData } from '../../../types/flight-input-data.interface';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-flight-gonogo-validation-status',\r\n  styleUrls: ['./gonogo-validation-status.component.scss'],\r\n  templateUrl: './gonogo-validation-status.component.html'\r\n})\r\nexport class GonogoValidationStatusComponent extends GenericComponent {\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  public date: string;\r\n  public gonogoValidationStatus: ControlConfigConstants;\r\n  public user: string;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public equipmentCode: string;\r\n\r\n  @Input()\r\n  public missionCode: string;\r\n\r\n  @Input()\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n\r\n  @Input()\r\n  public occurrence: number;\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public updateFlightStatus: EventEmitter<string>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    public sessionService: SessionService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly dateService: DateService,\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly serializationService: SerializationService,\r\n    private readonly tabService: TabService\r\n  ) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'GonogoValidationStatusComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.date = '';\r\n    this.gonogoValidationStatus = ControlConfigConstants.ICON_RED;\r\n    this.user = '';\r\n  }\r\n\r\n  public onLoad(equipmentCode: string, missionCode: string, occurrence: number): void {\r\n    const input: BidoMissionEquipmentDTOId = {\r\n      equipmentCode,\r\n      missionCode,\r\n      occurrence\r\n    };\r\n    this.flightFormService.findGoNoGoValidationStatus(input).subscribe((result) => {\r\n      if (result) {\r\n        this.date = this.dateService.dateWithHourToString(result.statusDate);\r\n        this.gonogoValidationStatus = ControlConfigConstants.ICON_GREEN;\r\n        this.user = StringUtils.orEmpty(result.statusUser);\r\n      }\r\n    });\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.updateFlightStatus = new EventEmitter<string>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public backToGoValidatedStatus(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('confirmBackToGoValidatedStatus'),\r\n      accept: () => {\r\n        this.updateFlightStatus.emit(AWPropertiesConstants.FLIGHT_STATUS_GO_VALIDATED);\r\n      }\r\n    });\r\n  }\r\n\r\n  public openGonogoValidation(): void {\r\n    const objectId: FlightInputData = {\r\n      equipmentCode: this.equipmentCode,\r\n      missionCode: this.missionCode,\r\n      occurrence: this.occurrence\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_GONOGO_VALIDATION_FORM,\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode: this.openMode\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n}\r\n","module.exports = \"<!-- GoNoGo Validation and ACRS Event -->\\r\\n<div class=\\\"grid-row\\\">\\r\\n  <!-- Validation GoNoGo -->\\r\\n  <div id=\\\"commentGoNoGoPanel\\\" class=\\\"grid-cell--grow5\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container grid-cell-gonogo-validation\\\">\\r\\n      <div class=\\\"grid-cell-header\\\">\\r\\n        <div class=\\\"grid-cell-title-container\\\">\\r\\n          <div class=\\\"grid-cell-title\\\">\\r\\n            <span>{{ getComponentName() + \\\".commentGoNoGo\\\" | translate }}</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-cell-content\\\">\\r\\n        <div class=\\\"column\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div id=\\\"gonogoValidationComment\\\" class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".comment\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <textarea\\r\\n                  class=\\\"aw-textarea\\\"\\r\\n                  pInputTextarea\\r\\n                  [rows]=\\\"3\\\"\\r\\n                  [(ngModel)]=\\\"gonogoValidationComment\\\"\\r\\n                  [disabled]=\\\"isReadOpenMode || gonogoValidationCommentReadOnly\\\"\\r\\n                ></textarea>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Evenement APRS -->\\r\\n  <div id=\\\"acrsEventPanel\\\" class=\\\"grid-cell--grow7\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container grid-cell-acrs\\\">\\r\\n      <div class=\\\"grid-cell-header\\\">\\r\\n        <div class=\\\"grid-cell-title-container\\\">\\r\\n          <div class=\\\"grid-cell-title\\\">\\r\\n            <span>{{ getComponentName() + \\\".acrsEvent\\\" | translate }}</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n        <div class=\\\"section\\\">\\r\\n          <div class=\\\"section-content\\\">\\r\\n            <div *ngIf=\\\"acrsEventAlert !== undefined && acrsEventAlert !== null\\\" class=\\\"row acrs-event-alert\\\">\\r\\n              <i class=\\\"fa fa-fw fa-exclamation-triangle\\\" aria-hidden=\\\"true\\\"></i>\\r\\n              {{ acrsEventAlert }}\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"acrsEventAlert === undefined\\\" class=\\\"row\\\">\\r\\n              <div id=\\\"acrsEventDate\\\" class=\\\"form-group acrs-date\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".acrsDate\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"acrsEventDate\\\" [disabled]=\\\"true\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div id=\\\"acrsEventStatus\\\" class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".status\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"acrsEventStatus\\\" [disabled]=\\\"true\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"acrsEventAlert === undefined\\\" class=\\\"row\\\">\\r\\n              <div id=\\\"acrsEventComment\\\" class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".comment\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <textarea\\r\\n                    class=\\\"aw-textarea\\\"\\r\\n                    [rows]=\\\"3\\\"\\r\\n                    pInputTextarea\\r\\n                    [(ngModel)]=\\\"acrsEventComment\\\"\\r\\n                    [disabled]=\\\"true\\\"\\r\\n                  ></textarea>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"section\\\">\\r\\n          <div class=\\\"section-content\\\">\\r\\n            <p-table\\r\\n              id=\\\"acrsAvailabilityTable\\\"\\r\\n              [resizableColumns]=\\\"true\\\"\\r\\n              #ptableAcrsAvailability\\r\\n              class=\\\"aw-table2\\\"\\r\\n              [columns]=\\\"acrsAvailabilityTableColList\\\"\\r\\n              [value]=\\\"acrsAvailabilityTable\\\"\\r\\n              [scrollable]=\\\"true\\\"\\r\\n            >\\r\\n              <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                <span *ngIf=\\\"!acrsAvailabilityTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                <div *ngIf=\\\"acrsAvailabilityTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                  <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                  <div class=\\\"lds-hourglass\\\"></div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"caption\\\">\\r\\n                <div class=\\\"aw-table-header\\\">\\r\\n                  <div class=\\\"aw-table-global-filter\\\">\\r\\n                    <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                      <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                    </label>\\r\\n\\r\\n                    <input\\r\\n                      class=\\\"aw-table-global-filter-input\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                      (input)=\\\"ptableDefectToProcess.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                    />\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                <colgroup>\\r\\n                  <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                </colgroup>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                <tr>\\r\\n                  <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                  </th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                  <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    <span *ngSwitchCase=\\\"'control'\\\" pTooltip=\\\"{{ rowData['controlAlt'] }}\\\" tooltipPosition=\\\"top\\\">\\r\\n                      <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n                        {{ getComponentName() + \\\".reportElementOk\\\" | translate }}\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n                        {{ getComponentName() + \\\".reportElementNok\\\" | translate }}\\r\\n                      </span>\\r\\n\\r\\n                      <span\\r\\n                        *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_YELLOW\\\"\\r\\n                        class=\\\"alert alert--warning\\\"\\r\\n                      >\\r\\n                        {{ getComponentName() + \\\".reportElementWarning\\\" | translate }}\\r\\n                      </span>\\r\\n                    </span>\\r\\n\\r\\n                    <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </p-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Mission Availability and Mission Ability -->\\r\\n<div class=\\\"grid-row\\\">\\r\\n  <!-- Disponibilite mission -->\\r\\n  <div id=\\\"missionAvailabilityPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n      <div class=\\\"grid-cell-header\\\">\\r\\n        <div class=\\\"grid-cell-title-container\\\">\\r\\n          <div class=\\\"grid-cell-title\\\">\\r\\n            <span\\r\\n              >{{ getComponentName() + \\\".missionAvailability\\\" | translate }} ({{\\r\\n                missionAvailabilityTable ? missionAvailabilityTable.length : 0\\r\\n              }})</span\\r\\n            >\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-cell-content\\\">\\r\\n        <p-table\\r\\n          id=\\\"missionAvailabilityTable\\\"\\r\\n          [resizableColumns]=\\\"true\\\"\\r\\n          #ptableMissionAvailability\\r\\n          class=\\\"aw-table2\\\"\\r\\n          [columns]=\\\"missionAvailabilityTableColList\\\"\\r\\n          [value]=\\\"missionAvailabilityTable\\\"\\r\\n          [scrollable]=\\\"true\\\"\\r\\n        >\\r\\n          <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n            <span *ngIf=\\\"!missionAvailabilityTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n            <div *ngIf=\\\"missionAvailabilityTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n              <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n              <div class=\\\"lds-hourglass\\\"></div>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"caption\\\">\\r\\n            <div class=\\\"aw-table-header\\\">\\r\\n              <div class=\\\"aw-table-global-filter\\\">\\r\\n                <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                  <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </label>\\r\\n\\r\\n                <input\\r\\n                  class=\\\"aw-table-global-filter-input\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                  (input)=\\\"ptableMissionAvailability.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n            <colgroup>\\r\\n              <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n            </colgroup>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n            <tr>\\r\\n              <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n              </th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n            <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n              <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                <span *ngSwitchCase=\\\"'control'\\\" pTooltip=\\\"{{ rowData['controlAlt'] }}\\\" tooltipPosition=\\\"top\\\">\\r\\n                  <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n                    {{ getComponentName() + \\\".reportElementOk\\\" | translate }}\\r\\n                  </span>\\r\\n\\r\\n                  <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n                    {{ getComponentName() + \\\".reportElementNok\\\" | translate }}\\r\\n                  </span>\\r\\n\\r\\n                  <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_YELLOW\\\" class=\\\"alert alert--warning\\\">\\r\\n                    {{ getComponentName() + \\\".reportElementWarning\\\" | translate }}\\r\\n                  </span>\\r\\n                </span>\\r\\n\\r\\n                <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n              </td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </p-table>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Aptitude Mission -->\\r\\n  <div id=\\\"missionAbilityPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n      <div class=\\\"grid-cell-header\\\">\\r\\n        <div class=\\\"grid-cell-title-container\\\">\\r\\n          <div class=\\\"grid-cell-title\\\">\\r\\n            <span\\r\\n              >{{ getComponentName() + \\\".missionAbility\\\" | translate }} ({{\\r\\n                missionAbilityTable ? missionAbilityTable.length : 0\\r\\n              }})</span\\r\\n            >\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-cell-content\\\">\\r\\n        <p-table\\r\\n          id=\\\"missionAbilityTable\\\"\\r\\n          [resizableColumns]=\\\"true\\\"\\r\\n          #ptableMissionAbility\\r\\n          class=\\\"aw-table2\\\"\\r\\n          [columns]=\\\"missionAbilityTableColList\\\"\\r\\n          [value]=\\\"missionAbilityTable\\\"\\r\\n          [scrollable]=\\\"true\\\"\\r\\n        >\\r\\n          <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n            <span *ngIf=\\\"!missionAbilityTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n            <div *ngIf=\\\"missionAbilityTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n              <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n              <div class=\\\"lds-hourglass\\\"></div>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"caption\\\">\\r\\n            <div class=\\\"aw-table-header\\\">\\r\\n              <div class=\\\"aw-table-global-filter\\\">\\r\\n                <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                  <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </label>\\r\\n\\r\\n                <input\\r\\n                  class=\\\"aw-table-global-filter-input\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                  (input)=\\\"ptableMissionAbility.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n            <colgroup>\\r\\n              <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n            </colgroup>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n            <tr>\\r\\n              <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n              </th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n            <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n              <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                <span *ngSwitchCase=\\\"'control'\\\" pTooltip=\\\"{{ rowData['controlAlt'] }}\\\" tooltipPosition=\\\"top\\\">\\r\\n                  <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n                    {{ getComponentName() + \\\".reportElementOk\\\" | translate }}\\r\\n                  </span>\\r\\n\\r\\n                  <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n                    {{ getComponentName() + \\\".reportElementNok\\\" | translate }}\\r\\n                  </span>\\r\\n\\r\\n                  <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_YELLOW\\\" class=\\\"alert alert--warning\\\">\\r\\n                    {{ getComponentName() + \\\".reportElementWarning\\\" | translate }}\\r\\n                  </span>\\r\\n                </span>\\r\\n\\r\\n                <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n              </td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </p-table>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Defauts a traiter -->\\r\\n<div id=\\\"defectsToProcessPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n  <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n    <div class=\\\"grid-cell-header\\\">\\r\\n      <div class=\\\"grid-cell-title-container\\\">\\r\\n        <div class=\\\"grid-cell-title\\\">\\r\\n          <span\\r\\n            >{{ getComponentName() + \\\".defectsToProcess\\\" | translate }} ({{\\r\\n              defectTable ? defectTable.length : 0\\r\\n            }})</span\\r\\n          >\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"grid-cell-content\\\">\\r\\n      <p-table\\r\\n        id=\\\"defectTable\\\"\\r\\n        [resizableColumns]=\\\"true\\\"\\r\\n        #ptableDefectToProcess\\r\\n        class=\\\"aw-table2\\\"\\r\\n        [columns]=\\\"defectTableColList\\\"\\r\\n        [value]=\\\"defectTable\\\"\\r\\n        [scrollable]=\\\"true\\\"\\r\\n        dataKey=\\\"eventCode\\\"\\r\\n      >\\r\\n        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n          <span *ngIf=\\\"!defectTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n          <div *ngIf=\\\"defectTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n            <div class=\\\"lds-hourglass\\\"></div>\\r\\n          </div>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"caption\\\">\\r\\n          <div class=\\\"aw-table-header\\\">\\r\\n            <div class=\\\"aw-table-global-filter\\\">\\r\\n              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n              </label>\\r\\n\\r\\n              <input\\r\\n                class=\\\"aw-table-global-filter-input\\\"\\r\\n                type=\\\"text\\\"\\r\\n                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                (input)=\\\"ptableDefectToProcess.filterGlobal($event.target.value, 'contains')\\\"\\r\\n              />\\r\\n            </div>\\r\\n          </div>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n          <colgroup>\\r\\n            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n            <col class=\\\"row-expand-wrapper\\\" />\\r\\n          </colgroup>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n          <tr>\\r\\n            <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n              {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n            </th>\\r\\n\\r\\n            <th class=\\\"row-expand-wrapper\\\"></th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-expanded=\\\"expanded\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n            <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n              <span *ngSwitchCase=\\\"'critical'\\\">\\r\\n                <i\\r\\n                  *ngIf=\\\"rowData[col.field] !== undefined && rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                  class=\\\"fa fa-fw fa-check\\\"\\r\\n                  aria-hidden=\\\"true\\\"\\r\\n                ></i>\\r\\n              </span>\\r\\n\\r\\n              <span *ngSwitchCase=\\\"'control'\\\">\\r\\n                <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n                  {{ getComponentName() + \\\".reportElementOk\\\" | translate }}\\r\\n                </span>\\r\\n\\r\\n                <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n                  {{ getComponentName() + \\\".reportElementNok\\\" | translate }}\\r\\n                </span>\\r\\n\\r\\n                <span *ngIf=\\\"rowData[col.field] === controlConfigConstants.ICON_YELLOW\\\" class=\\\"alert alert--warning\\\">\\r\\n                  {{ getComponentName() + \\\".reportElementWarning\\\" | translate }}\\r\\n                </span>\\r\\n              </span>\\r\\n\\r\\n              <span *ngSwitchCase=\\\"'eventCode'\\\">\\r\\n                <a (click)=\\\"openDefect(rowData[col.field])\\\">{{ rowData[col.field] }}</a>\\r\\n              </span>\\r\\n\\r\\n              <span *ngSwitchCase=\\\"'linkedEvent'\\\">\\r\\n                <a (click)=\\\"openEvent(rowData[col.field])\\\">{{ rowData[col.field] }}</a>\\r\\n              </span>\\r\\n\\r\\n              <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n            </td>\\r\\n\\r\\n            <td class=\\\"row-expand-wrapper\\\" [pRowToggler]=\\\"rowData\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                [ngClass]=\\\"expanded ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                tooltipPosition=\\\"top\\\"\\r\\n                (click)=\\\"toggleDefectTableRowDetailsVisibility(rowData)\\\"\\r\\n              ></i>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n          <tr class=\\\"row-expanded\\\">\\r\\n            <td [attr.colspan]=\\\"columns.length + 1\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".description\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <textarea\\r\\n                        class=\\\"aw-textarea\\\"\\r\\n                        pInputTextarea\\r\\n                        [rows]=\\\"3\\\"\\r\\n                        [(ngModel)]=\\\"rowData['description']\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                      ></textarea>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".name\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <textarea\\r\\n                        class=\\\"aw-textarea\\\"\\r\\n                        pInputTextarea\\r\\n                        [rows]=\\\"3\\\"\\r\\n                        [(ngModel)]=\\\"rowData['name']\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                      ></textarea>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".logNumber\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"rowData['logNumber']\\\" [disabled]=\\\"true\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".location\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"rowData['location']\\\" [disabled]=\\\"true\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".rootCause\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"rowData['rootCause']\\\" [disabled]=\\\"true\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".lastAuthor\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"rowData['lastAuthor']\\\" [disabled]=\\\"true\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </p-table>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .grid-cell-acrs .acrs-date {\\n  max-width: 8rem; }\\n\\n:host .grid-cell-acrs .acrs-event-alert {\\n  color: #a82525;\\n  font-style: italic;\\n  justify-content: center; }\\n\\n:host .grid-cell-aircraft .grid-cell-content > .row > div:nth-of-type(1) {\\n  max-width: 22.5%;\\n  min-width: 22.5%; }\\n\\n:host .grid-cell-aircraft .grid-cell-content > .row > div:nth-of-type(2) {\\n  max-width: 32.5%;\\n  min-width: 32.5%; }\\n\\n:host .grid-cell-aircraft .grid-cell-content > .row > div:nth-of-type(3),\\n:host .grid-cell-aircraft .grid-cell-content > .row > div:nth-of-type(4) {\\n  max-width: 22.5%;\\n  min-width: 22.5%; }\\n\\n:host .grid-cell-gonogo-validation .grid-cell-content > .column .row:first-of-type {\\n  justify-content: flex-end; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvZ29ub2dvLXZhbGlkYXRpb24vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGZsaWdodC1vcGVyYXRpb25zXFxmbGlnaHRcXGZvcm1cXGZsaWdodFxcZ29ub2dvLXZhbGlkYXRpb25cXGdvbm9nby12YWxpZGF0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZmxpZ2h0LW9wZXJhdGlvbnMvZmxpZ2h0L2Zvcm0vZmxpZ2h0L2dvbm9nby12YWxpZGF0aW9uL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcc3R5bGVzXFxfY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFHTSxlQUFlLEVBQUE7O0FBSHJCO0VBT00sY0NjYTtFRGJiLGtCQUFrQjtFQUNsQix1QkFBdUIsRUFBQTs7QUFUN0I7RUFnQlEsZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBOztBQWpCeEI7RUFvQlEsZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBOztBQXJCeEI7O0VBeUJRLGdCQUFnQjtFQUNoQixnQkFBZ0IsRUFBQTs7QUExQnhCO0VBaUNNLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvZ29ub2dvLXZhbGlkYXRpb24vZ29ub2dvLXZhbGlkYXRpb24tZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjpob3N0IHtcclxuICAuZ3JpZC1jZWxsLWFjcnMge1xyXG4gICAgLmFjcnMtZGF0ZSB7XHJcbiAgICAgIG1heC13aWR0aDogOHJlbTtcclxuICAgIH1cclxuXHJcbiAgICAuYWNycy1ldmVudC1hbGVydCB7XHJcbiAgICAgIGNvbG9yOiAkcmVkLWRhcmsxO1xyXG4gICAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmdyaWQtY2VsbC1haXJjcmFmdCB7XHJcbiAgICAuZ3JpZC1jZWxsLWNvbnRlbnQgPiAucm93IHtcclxuICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgxKSB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAyMi41JTtcclxuICAgICAgICBtaW4td2lkdGg6IDIyLjUlO1xyXG4gICAgICB9XHJcbiAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgIG1heC13aWR0aDogMzIuNSU7XHJcbiAgICAgICAgbWluLXdpZHRoOiAzMi41JTtcclxuICAgICAgfVxyXG4gICAgICAmID4gZGl2Om50aC1vZi10eXBlKDMpLFxyXG4gICAgICAmID4gZGl2Om50aC1vZi10eXBlKDQpIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDIyLjUlO1xyXG4gICAgICAgIG1pbi13aWR0aDogMjIuNSU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5ncmlkLWNlbGwtZ29ub2dvLXZhbGlkYXRpb24ge1xyXG4gICAgLmdyaWQtY2VsbC1jb250ZW50ID4gLmNvbHVtbiAucm93OmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4kc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiRwcmltYXJ5LXRleHQtY29sb3I6ICMwMDA7XHJcbiRzZWNvbmRhcnktdGV4dC1jb2xvcjogIzU5NTk1OTtcclxuJGFjY2VudC1jb2xvcjogIzAxNTc5YjtcclxuXHJcbiRib2R5LWJhY2tncm91bmQtY29sb3I6ICNlOGViZWQ7XHJcbiR0b3BiYXItY29sb3I6ICNmYWZhZmE7XHJcblxyXG4vLyAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xyXG4vLyAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XHJcbi8vICRwcmltYXJ5LXRleHQtY29sb3I6ICNlOGU4ZTg7XHJcbi8vICRzZWNvbmRhcnktdGV4dC1jb2xvcjogI2ZmZjtcclxuLy8gJGFjY2VudC1jb2xvcjogIzljZGNmZTtcclxuXHJcbiRib3JkZXItY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ6IHRyYW5zcGFyZW50O1xyXG4kYm9yZGVyLWNvbG9yLS1mb2N1czogJGFjY2VudC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0taG92ZXI6ICMxYTFhMWE7XHJcblxyXG4kZ3JlZW4tZGFyazE6ICMyNzYzMmE7XHJcbiRncmVlbi1saWdodDE6ICM0Y2FmNTA7XHJcbiRvcmFuZ2U6ICNmZmMxMDc7XHJcbiRyZWQtZGFyazE6ICNhODI1MjU7XHJcbiRyZWQtbGlnaHQxOiAjZjY2ODVlO1xyXG4kYmx1ZS1saWdodDE6ICNiOGQwZTg7XHJcbiRibHVlLWRhcmsxOiAjMDA2ZWE5O1xyXG4kZ3JleTE6ICNjOGQ0ZDY7XHJcbiR5ZWxsb3cxOiAjZGRkZjAwO1xyXG5cclxuJGNyaXRpY2FsLXZhbHVlLWRhcms6ICNmYmE2NDM7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY3JpdGljYWwtdmFsdWUtbGlnaHQ6ICNmZWNjOGU7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY2FsZW5kYXIteWVsbG93OiAjZWZlZmIwOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGJhZC12YWx1ZS1kYXJrOiAjZmY2NzU4OyAvLyBUT0RPOiByZW1vdmUgaXRcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRib3JkZXItcmFkaXVzOiA0cHg7XHJcbiRib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiRmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJcIjtcclxuJGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiRmb250LXdlaWdodDogNDAwO1xyXG4kbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDI5O1xyXG4kbWFyZ2luLXZhbHVlOiA4cHg7XHJcbiRwYWdlLW1heC13aWR0aDogMTM2NnB4O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtNDogNDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTM6IDM7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0yOiAyO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGxlZnQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiR0b3BiYXItaGVpZ2h0OiA0MHB4O1xyXG4kbWFpbmJhci1ib3JkZXItY29sb3I6IGRhcmtlbigkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IsIDUlKTtcclxuJG1haW5iYXItYm9yZGVyLXdpZHRoOiAycHg7XHJcbiRwYWdlLWhlYWRlci1oZWlnaHQ6IDUuNXJlbTtcclxuJGZvcm0tY29udHJvbC1oZWlnaHQ6IDIuNXJlbTtcclxuJGNoZWNrYm94LWhlaWdodDogMS4yNXJlbTtcclxuJHJhZGlvYnV0dG9uLWhlaWdodDogMS4yNXJlbTtcclxuIl19 */\"","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { PageTocEntry } from '../../../../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../../../shared/constants/component-constants';\r\nimport { ControlConfigConstants } from '../../../../../../shared/constants/control-config-constants';\r\nimport { GenericPropertyConstants } from '../../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../../../shared/services/date.service';\r\nimport { PropertiesService } from '../../../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../../../shared/services/tab.service';\r\nimport { FindCsnAndTsnValuesInput } from '../../../../../../shared/types/api-input-types/airworthiness-management/find-csn-and-tsn-values-input.interface';\r\nimport { GoNoGoValidationInput } from '../../../../../../shared/types/api-input-types/fleet-business/gonogo-validation-input.interface';\r\nimport { ValidateGoNoGoInput } from '../../../../../../shared/types/api-input-types/fleet-business/validate-gonogo-input.interface';\r\nimport { GoNoGoValidationDefectLWO } from '../../../../../../shared/types/api-output-types/fleet-business/gonogo-validation-defect-lwo.interface';\r\nimport { GoNoGoValidationReportElementDTO } from '../../../../../../shared/types/api-output-types/fleet-business/gonogo-validation-report-element-dto.interface';\r\nimport { BidoCustomerDTO } from '../../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoNotificationDTOId } from '../../../../../../shared/types/api-types/bido-notification-dto-id.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { NumberUtils } from '../../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\n\r\nimport { GonogoValidationFormService } from './gonogo-validation-form.service';\r\n\r\ninterface DefectRow {\r\n  control: string;\r\n  context: string;\r\n  critical: boolean;\r\n  date: string;\r\n  description: string;\r\n  eventCode: string;\r\n  flightRestriction: string;\r\n  lastAuthor: string;\r\n  linkedEvent: string;\r\n  location: string;\r\n  logNumber: string;\r\n  name: string;\r\n  rootCause: string;\r\n  title: string;\r\n  _expand: boolean;\r\n}\r\n\r\ninterface ReportElementRow {\r\n  control: string;\r\n  controlAlt: string;\r\n  currentValue: string;\r\n  description: string;\r\n  expectedValue: string;\r\n  id: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-gonogo-validation-form',\r\n  styleUrls: ['./gonogo-validation-form.component.scss'],\r\n  templateUrl: './gonogo-validation-form.component.html'\r\n})\r\nexport class GonogoValidationFormComponent extends GenericComponent implements OnInit {\r\n  public static readonly ACRS_EVENT_ANCHOR_ID: string = 'acrsEventAnchor';\r\n  public static readonly AIRCRAFT_ANCHOR_ID: string = 'aircraftAnchor';\r\n  public static readonly DEFECTS_TO_PROCESS_ANCHOR_ID: string = 'defectsToProcessAnchor';\r\n  public static readonly FLIGHT_ANCHOR_ID: string = 'flightAnchor';\r\n  public static readonly GONOGO_VALIDATION_ANCHOR_ID: string = 'gonogoValidationAnchor';\r\n  public static readonly MISSION_ABILITY_ANCHOR_ID: string = 'missionAbilityAnchor';\r\n  public static readonly MISSION_AVAILABILITY_ANCHOR_ID: string = 'missionAvailabilityAnchor';\r\n\r\n  public readonly component: typeof GonogoValidationFormComponent;\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  public componentContext: string;\r\n\r\n  public acrsAvailabilityTable: ReportElementRow[];\r\n  public acrsAvailabilityTableColList: TableColumn[];\r\n  public acrsAvailabilityTableLoading: boolean;\r\n  public acrsEventAlert: string | undefined;\r\n  public acrsEventComment: string;\r\n  public acrsEventDate: string;\r\n  public acrsEventStatus: string;\r\n  public aircraftCsn: string;\r\n  public aircraftTsn: string;\r\n  public aircraftValuesLoading: boolean;\r\n  public defectTable: DefectRow[];\r\n  public defectTableColList: TableColumn[];\r\n  public defectTableLoading: boolean;\r\n  public equipment: BidoEquipmentDTO;\r\n  public equipmentStatus: string;\r\n  public gonogoValidationComment: string | undefined;\r\n  public gonogoValidationCommentReadOnly: boolean;\r\n  public labelCsn: string;\r\n  public labelTsn: string;\r\n  public missionAbilityTable: ReportElementRow[];\r\n  public missionAbilityTableColList: TableColumn[];\r\n  public missionAbilityTableLoading: boolean;\r\n  public missionAvailabilityTable: ReportElementRow[];\r\n  public missionAvailabilityTableColList: TableColumn[];\r\n  public missionAvailabilityTableLoading: boolean;\r\n  public missionEquipment: BidoMissionEquipmentDTO | undefined;\r\n  public missionEquipmentCustomer: string;\r\n  public missionEquipmentDuration: string;\r\n  public missionEquipmentStartDate: string;\r\n  public missionEquipmentStatus: string;\r\n  public missionEquipmentType: string;\r\n\r\n  @Input()\r\n  public missionCode: string;\r\n  @Input()\r\n  public occurrence: number;\r\n  @Input()\r\n  public equipmentCode: string;\r\n  @Input()\r\n  public openModeGoNoGo: ComponentOpenMode;\r\n  @Output()\r\n  public onValidate: EventEmitter<void> = new EventEmitter();\r\n\r\n  private flightCustomerList: BidoCustomerDTO[];\r\n  private flightStatusList: LabelValue<string>[];\r\n  private flightTypeList: LabelValue<string>[];\r\n  private operationalStatusList: LabelValue<string>[];\r\n\r\n  // Table of content ***********************************************************\r\n\r\n  @ViewChild(GonogoValidationFormComponent.ACRS_EVENT_ANCHOR_ID)\r\n  public acrsEventEltRef: ElementRef;\r\n\r\n  @ViewChild(GonogoValidationFormComponent.AIRCRAFT_ANCHOR_ID)\r\n  public aircraftEltRef: ElementRef;\r\n\r\n  @ViewChild(GonogoValidationFormComponent.DEFECTS_TO_PROCESS_ANCHOR_ID)\r\n  public defectsToProcessEltRef: ElementRef;\r\n\r\n  @ViewChild(GonogoValidationFormComponent.FLIGHT_ANCHOR_ID)\r\n  public flightEltRef: ElementRef;\r\n\r\n  @ViewChild(GonogoValidationFormComponent.GONOGO_VALIDATION_ANCHOR_ID)\r\n  public gonogoValidationEltRef: ElementRef;\r\n\r\n  @ViewChild(GonogoValidationFormComponent.MISSION_ABILITY_ANCHOR_ID)\r\n  public missionAbilityEltRef: ElementRef;\r\n\r\n  @ViewChild(GonogoValidationFormComponent.MISSION_AVAILABILITY_ANCHOR_ID)\r\n  public missionAvailabilityCheckEltRef: ElementRef;\r\n\r\n  public toc: PageTocEntry[];\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    private readonly serializationService: SerializationService,\r\n    private readonly tabService: TabService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly dateService: DateService,\r\n    private readonly gonogoValidationFormService: GonogoValidationFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Write);\r\n\r\n    this.component = GonogoValidationFormComponent;\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n\r\n    this.onBeforeLoadOnce();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_GONOGO_VALIDATION_FORM;\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public ngOnInit(): void {\r\n    super.updateOpenMode(this.openModeGoNoGo);\r\n\r\n    this.setTableOfContent();\r\n\r\n    this.onBeforeLoad();\r\n\r\n    this.componentContext = this.missionCode;\r\n\r\n    this.onLoad();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.acrsAvailabilityTable = [];\r\n    this.acrsAvailabilityTableLoading = false;\r\n    this.acrsEventAlert = undefined;\r\n    this.acrsEventComment = '';\r\n    this.acrsEventDate = '';\r\n    this.acrsEventStatus = '';\r\n    this.aircraftCsn = '';\r\n    this.aircraftTsn = '';\r\n    this.aircraftValuesLoading = false;\r\n    this.defectTable = [];\r\n    this.defectTableLoading = false;\r\n    this.equipment = {};\r\n    this.equipmentStatus = '';\r\n    this.gonogoValidationComment = undefined;\r\n    this.gonogoValidationCommentReadOnly = false;\r\n    this.missionAbilityTable = [];\r\n    this.missionAbilityTableLoading = false;\r\n    this.missionAvailabilityTable = [];\r\n    this.missionAvailabilityTableLoading = false;\r\n    this.missionEquipment = {};\r\n    this.missionEquipmentCustomer = '';\r\n    this.missionEquipmentDuration = '';\r\n    this.missionEquipmentStartDate = '';\r\n    this.missionEquipmentStatus = '';\r\n    this.missionEquipmentType = '';\r\n  }\r\n\r\n  public onLoad(): void {\r\n    this.acrsAvailabilityTableLoading = true;\r\n    this.aircraftValuesLoading = true;\r\n    this.defectTableLoading = true;\r\n    this.missionAbilityTableLoading = true;\r\n    this.missionAvailabilityTableLoading = true;\r\n\r\n    forkJoin([\r\n      this.loadFlightCustomerList(),\r\n      this.loadFlightStatusList(),\r\n      this.loadFlightTypeList(),\r\n      this.loadOperationalStatusList()\r\n    ]).subscribe(([flightCustomerList, flightStatusList, flightTypeList, operationalStatusList]) => {\r\n      this.flightCustomerList = ListUtils.orEmpty(flightCustomerList);\r\n      this.flightStatusList = ListUtils.orEmpty(flightStatusList);\r\n      this.flightTypeList = ListUtils.orEmpty(flightTypeList);\r\n      this.operationalStatusList = ListUtils.orEmpty(operationalStatusList);\r\n\r\n      this.loadEquipmentAndMissionEquipment();\r\n    });\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.loadLabelCsn();\r\n    this.loadLabelTsn();\r\n\r\n    this.setAcrsAvailabilityTableColList();\r\n    this.setDefectTableColList();\r\n    this.setMissionAbilityTableColList();\r\n    this.setMissionAvailabilityTableColList();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public openAssetReview(): void {\r\n    const objectId = {\r\n      equipmentCodeList: [this.equipmentCode]\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_ASSET_REVIEW_FORM,\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openDefect(eventCode: string): void {\r\n    const objectId: BidoNotificationDTOId = {\r\n      notificationCode: eventCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLE_DEFECT_FORM,\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openEvent(eventCode: string): void {\r\n    const objectId: BidoNotificationDTOId = {\r\n      notificationCode: eventCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLE_EVENT_CREATE,\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public toggleDefectTableRowDetailsVisibility(row: DefectRow): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  public validateGonogo(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('warningOnCountersUpdate'),\r\n      accept: () => {\r\n        const input: ValidateGoNoGoInput = {\r\n          relatedEquipment: this.equipment,\r\n          missionCode: this.missionCode,\r\n          missionOccurence: this.occurrence,\r\n          comment: this.gonogoValidationComment as string\r\n        };\r\n        this.gonogoValidationFormService.validateGoNoGo(input).subscribe(() => {\r\n          this.gonogoValidationCommentReadOnly = true;\r\n\r\n          const flightStatus = this.flightStatusList.find(\r\n            (elt) => elt.value === AWPropertiesConstants.FLIGHT_STATUS_GO_VALIDATED\r\n          );\r\n          this.missionEquipmentStatus = flightStatus ? flightStatus.label : '';\r\n          this.onValidate.emit();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private createDefectRow(defect: GoNoGoValidationDefectLWO): DefectRow {\r\n    const defectRow: DefectRow = {\r\n      control: StringUtils.orEmpty(defect.control),\r\n      context: StringUtils.orEmpty(defect.context),\r\n      critical: ObjectUtils.isDefined(defect.critical) ? (defect.critical as boolean) : false,\r\n      date: this.dateService.dateToString(defect.date),\r\n      description: StringUtils.orEmpty(defect.description),\r\n      eventCode: StringUtils.orEmpty(defect.eventCode),\r\n      flightRestriction: StringUtils.orEmpty(defect.flightRestriction),\r\n      lastAuthor: StringUtils.orEmpty(defect.lastAuthor),\r\n      linkedEvent: StringUtils.orEmpty(defect.linkedEvent),\r\n      location: StringUtils.orEmpty(defect.location),\r\n      logNumber: StringUtils.orEmpty(defect.logNumber),\r\n      name: StringUtils.orEmpty(defect.name),\r\n      rootCause: StringUtils.orEmpty(defect.rootCause),\r\n      title: StringUtils.orEmpty(defect.title),\r\n      _expand: false\r\n    };\r\n\r\n    return defectRow;\r\n  }\r\n\r\n  private createReportElementRow(reportElement: GoNoGoValidationReportElementDTO): ReportElementRow {\r\n    const reportElementRow: ReportElementRow = {\r\n      control: StringUtils.orEmpty(reportElement.controlResult),\r\n      controlAlt: StringUtils.orEmpty(reportElement.controlResultAlt),\r\n      currentValue: StringUtils.orEmpty(reportElement.propertyValue),\r\n      description: StringUtils.orEmpty(reportElement.propertyDescription),\r\n      expectedValue: StringUtils.orEmpty(reportElement.propertyExpectedValue),\r\n      id: StringUtils.orEmpty(reportElement.propertyId)\r\n    };\r\n\r\n    return reportElementRow;\r\n  }\r\n\r\n  private loadCsnAndTsnValues(): void {\r\n    const input: FindCsnAndTsnValuesInput = {\r\n      equipmentCode: this.equipmentCode\r\n    };\r\n    this.gonogoValidationFormService\r\n      .findCsnAndTsnValues(input)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.aircraftValuesLoading = false;\r\n        })\r\n      )\r\n      .subscribe((result) => {\r\n        if (result) {\r\n          this.aircraftCsn = StringUtils.orEmpty(result.csn);\r\n          this.aircraftTsn = StringUtils.orEmpty(result.tsn);\r\n        }\r\n      });\r\n  }\r\n\r\n  private loadEquipmentAndMissionEquipment(): void {\r\n    const equipmentInput: BidoEquipmentDTOId = {\r\n      equipmentCode: this.equipmentCode\r\n    };\r\n    const missionEquipmentInput: BidoMissionEquipmentDTOId = {\r\n      equipmentCode: this.equipmentCode,\r\n      missionCode: this.missionCode,\r\n      occurrence: this.occurrence\r\n    };\r\n    const observables: Observable<BidoEquipmentDTO | BidoMissionEquipmentDTOId>[] = [\r\n      this.gonogoValidationFormService.findEquipment(equipmentInput),\r\n      this.gonogoValidationFormService.findMissionEquipment(missionEquipmentInput)\r\n    ];\r\n    forkJoin(observables).subscribe(([equipment, missionEquipment]) => {\r\n      // Equipment\r\n      this.equipment = equipment;\r\n      if (this.equipment) {\r\n        const operationalStatus = this.operationalStatusList.find(\r\n          (elt) => elt.value === this.equipment.operationalStatus\r\n        );\r\n\r\n        this.equipmentStatus = operationalStatus ? operationalStatus.label : '';\r\n      }\r\n\r\n      // Mission Equipment\r\n      this.missionEquipment = missionEquipment;\r\n      if (this.missionEquipment) {\r\n        const flightCustomer = this.flightCustomerList.find(\r\n          (elt) => elt.customerCode === (this.missionEquipment as BidoMissionEquipmentDTO).customerCode\r\n        );\r\n        const flightStatus = this.flightStatusList.find(\r\n          (elt) => elt.value === (this.missionEquipment as BidoMissionEquipmentDTO).statusState\r\n        );\r\n        const flightType = this.flightTypeList.find(\r\n          (elt) => elt.value === (this.missionEquipment as BidoMissionEquipmentDTO).flightType\r\n        );\r\n\r\n        this.missionEquipmentCustomer = flightCustomer ? StringUtils.orEmpty(flightCustomer.customerName) : '';\r\n        this.missionEquipmentDuration = StringUtils.isNullOrEmpty(this.missionEquipment.missionDuration)\r\n          ? ''\r\n          : NumberUtils.roundNumber(Number(this.missionEquipment.missionDuration), 0).toString();\r\n        this.missionEquipmentStartDate = this.dateService.timestampToString(this.missionEquipment.startDate);\r\n        this.missionEquipmentStatus = flightStatus ? flightStatus.label : '';\r\n        this.missionEquipmentType = flightType ? flightType.label : '';\r\n      }\r\n\r\n      this.loadCsnAndTsnValues();\r\n      this.loadGoNoGoValidation();\r\n    });\r\n  }\r\n\r\n  private loadFlightCustomerList(): Observable<BidoCustomerDTO[]> {\r\n    const input: BidoCustomerDTO = {\r\n      customerType: AWPropertiesConstants.CUSTOMER_TYPE_CUS_KEY\r\n    };\r\n\r\n    return this.gonogoValidationFormService.findAllBidoCustomerByCriteria(input);\r\n  }\r\n\r\n  private loadFlightStatusList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_STATUS_MAP);\r\n  }\r\n\r\n  private loadFlightTypeList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.EVENT_MISSION_TYPE_MAP);\r\n  }\r\n\r\n  private loadGoNoGoValidation(): void {\r\n    const input: GoNoGoValidationInput = {\r\n      missionCode: this.missionCode,\r\n      occurrence: this.occurrence,\r\n      bidoEquipment: this.equipment,\r\n      bidoMissionEquipment: this.missionEquipment\r\n    };\r\n    this.gonogoValidationFormService\r\n      .goNoGoValidation(input)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.acrsAvailabilityTableLoading = false;\r\n          this.defectTableLoading = false;\r\n          this.missionAbilityTableLoading = false;\r\n          this.missionAvailabilityTableLoading = false;\r\n        })\r\n      )\r\n      .subscribe((reportResult) => {\r\n        if (reportResult) {\r\n          if (reportResult.gonogoValidation) {\r\n            this.gonogoValidationComment = StringUtils.orEmpty(reportResult.gonogoValidation.attributeValue);\r\n            this.gonogoValidationCommentReadOnly = true;\r\n          }\r\n\r\n          // ACRS\r\n          if (reportResult.acrsEventStatus) {\r\n            this.acrsEventDate = this.dateService.dateToString(reportResult.acrsEventStatus.reportingPeriodStartDate);\r\n\r\n            if (!StringUtils.isNullOrEmpty(reportResult.acrsEventStatus.status)) {\r\n              this.propertiesService\r\n                .getEventStatusValue(reportResult.acrsEventStatus.status as string)\r\n                .subscribe((eventStatusResult) => {\r\n                  this.acrsEventStatus = eventStatusResult;\r\n                });\r\n            }\r\n          } else {\r\n            this.translateService.get(super.getTranslateKey('errorOnNoAcrsEvent')).subscribe((messageResult) => {\r\n              this.acrsEventAlert = messageResult || 'No ACRS Event for this Flight';\r\n            });\r\n          }\r\n\r\n          // ACRS availability\r\n          this.acrsAvailabilityTable = ListUtils.orEmpty(reportResult.acrsAvailabilityList).map((elt) =>\r\n            this.createReportElementRow(elt)\r\n          );\r\n\r\n          // Defect\r\n          this.defectTable = ListUtils.orEmpty(reportResult.defectlist)\r\n            .filter((elt) => elt.status !== AWPropertiesConstants.EVENT_STATUS_CLOSED_KEY)\r\n            .map((elt) => this.createDefectRow(elt));\r\n\r\n          // Mission ability\r\n          this.missionAbilityTable = ListUtils.orEmpty(reportResult.missionAbilityList).map((elt) =>\r\n            this.createReportElementRow(elt)\r\n          );\r\n\r\n          // Mission availability\r\n          this.missionAvailabilityTable = ListUtils.orEmpty(reportResult.missionAvailabilityList).map((elt) =>\r\n            this.createReportElementRow(elt)\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  private loadLabelCsn(): void {\r\n    this.gonogoValidationFormService.getStandardCycleCounterLabel().subscribe((result) => {\r\n      this.labelCsn = StringUtils.orEmpty(result);\r\n    });\r\n  }\r\n\r\n  private loadLabelTsn(): void {\r\n    this.gonogoValidationFormService.getStandardTimeCounterLabel().subscribe((result) => {\r\n      this.labelTsn = StringUtils.orEmpty(result);\r\n    });\r\n  }\r\n\r\n  private loadOperationalStatusList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.OPERATIONAL_STATUS_MAP);\r\n  }\r\n\r\n  private setAcrsAvailabilityTableColList(): void {\r\n    this.acrsAvailabilityTableColList = [\r\n      { field: 'control', alignment: 'center', width: '14.5%' },\r\n      { field: 'id', alignment: 'left', width: '20%' },\r\n      { field: 'description', alignment: 'left', width: '35.5%' },\r\n      { field: 'expectedValue', alignment: 'left', width: '15%' },\r\n      { field: 'currentValue', alignment: 'left', width: '15%' }\r\n    ];\r\n  }\r\n\r\n  private setDefectTableColList(): void {\r\n    this.defectTableColList = [\r\n      { field: 'control', alignment: 'center', width: '7%' },\r\n      { field: 'eventCode', alignment: 'left', width: '9%' },\r\n      { field: 'date', alignment: 'left', width: '6.5%' },\r\n      { field: 'linkedEvent', alignment: 'left', width: '9%' },\r\n      { field: 'critical', alignment: 'center', width: '6.5%' },\r\n      { field: 'flightRestriction', alignment: 'left', width: '16.5%' },\r\n      { field: 'title', alignment: 'left', width: '16.5%' },\r\n      { field: 'context', alignment: 'left', width: '16.5%' }\r\n    ];\r\n  }\r\n\r\n  private setMissionAbilityTableColList(): void {\r\n    this.missionAbilityTableColList = [\r\n      { field: 'control', alignment: 'center', width: '7%' },\r\n      { field: 'id', alignment: 'left', width: '15%' },\r\n      { field: 'description', alignment: 'left', width: '48%' },\r\n      { field: 'expectedValue', alignment: 'left', width: '15%' },\r\n      { field: 'currentValue', alignment: 'left', width: '15%' }\r\n    ];\r\n  }\r\n\r\n  private setMissionAvailabilityTableColList(): void {\r\n    this.missionAvailabilityTableColList = [\r\n      { field: 'control', alignment: 'center', width: '7%' },\r\n      { field: 'id', alignment: 'left', width: '15%' },\r\n      { field: 'description', alignment: 'left', width: '48%' },\r\n      { field: 'expectedValue', alignment: 'left', width: '15%' },\r\n      { field: 'currentValue', alignment: 'left', width: '15%' }\r\n    ];\r\n  }\r\n\r\n  private setTableOfContent(): void {\r\n    const acrsEventKey = this.getTranslateKey('acrsEvent');\r\n    const aircraftKey = this.getTranslateKey('aircraft');\r\n    const defectsToProcessKey = this.getTranslateKey('defectsToProcess');\r\n    const flightKey = this.getTranslateKey('flight');\r\n    const gonogoValidationKey = this.getTranslateKey('gonogoValidation');\r\n    const missionAbilityKey = this.getTranslateKey('missionAbility');\r\n    const missionAvailabilityKey = this.getTranslateKey('missionAvailability');\r\n\r\n    this.translateService\r\n      .get([\r\n        acrsEventKey,\r\n        aircraftKey,\r\n        defectsToProcessKey,\r\n        flightKey,\r\n        gonogoValidationKey,\r\n        missionAbilityKey,\r\n        missionAvailabilityKey\r\n      ])\r\n      .subscribe((results) => {\r\n        const acrsEventLabel = !!results ? results[acrsEventKey] : 'ACRS Event';\r\n        const aircraftLabel = !!results ? results[aircraftKey] : 'Aircraft';\r\n        const defectsToProcessLabel = !!results ? results[defectsToProcessKey] : 'Defects To Process';\r\n        const flightLabel = !!results ? results[flightKey] : 'Flight';\r\n        const gonogoValidationLabel = !!results ? results[gonogoValidationKey] : 'GoNoGo Validation';\r\n        const missionAbilityLabel = !!results ? results[missionAbilityKey] : 'Mission Ability';\r\n        const missionAvailabilityLabel = !!results ? results[missionAvailabilityKey] : 'Mission Availability';\r\n\r\n        this.toc = [\r\n          {\r\n            id: 'gonogoValidationAnchor',\r\n            anchor: this.gonogoValidationEltRef,\r\n            label: gonogoValidationLabel\r\n          },\r\n          {\r\n            id: 'flightAnchor',\r\n            anchor: this.flightEltRef,\r\n            label: flightLabel\r\n          },\r\n          {\r\n            id: 'aircraftAnchor',\r\n            anchor: this.aircraftEltRef,\r\n            label: aircraftLabel\r\n          },\r\n          {\r\n            id: 'acrsAnchor',\r\n            anchor: this.acrsEventEltRef,\r\n            label: acrsEventLabel\r\n          },\r\n          {\r\n            id: 'defectsToProcessAnchor',\r\n            anchor: this.defectsToProcessEltRef,\r\n            label: defectsToProcessLabel\r\n          },\r\n          {\r\n            id: 'missionAvailabilityAnchor',\r\n            anchor: this.missionAvailabilityCheckEltRef,\r\n            label: missionAvailabilityLabel\r\n          },\r\n          {\r\n            id: 'missionAbilityAnchor',\r\n            anchor: this.missionAbilityEltRef,\r\n            label: missionAbilityLabel\r\n          }\r\n        ];\r\n      });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AirworthinessManagementApi } from '../../../../../../shared/api/airworthiness-management.api';\r\nimport { FleetBusinessApi } from '../../../../../../shared/api/fleet-business.api';\r\nimport { FleetManagementApi } from '../../../../../../shared/api/fleet-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../../shared/services/app-config.service';\r\nimport { FindCsnAndTsnValuesInput } from '../../../../../../shared/types/api-input-types/airworthiness-management/find-csn-and-tsn-values-input.interface';\r\nimport { GoNoGoValidationInput } from '../../../../../../shared/types/api-input-types/fleet-business/gonogo-validation-input.interface';\r\nimport { ValidateGoNoGoInput } from '../../../../../../shared/types/api-input-types/fleet-business/validate-gonogo-input.interface';\r\nimport { FindCsnAndTsnValuesOutput } from '../../../../../../shared/types/api-output-types/airworthiness-management/find-csn-and-tsn-values-output.interface';\r\nimport { GoNoGoValidationOutput } from '../../../../../../shared/types/api-output-types/fleet-business/gonogo-validation-output.interface';\r\nimport { BidoCustomerDTO } from '../../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\n\r\n@Injectable()\r\nexport class GonogoValidationFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly airworthinessManagementApi: AirworthinessManagementApi,\r\n    private readonly fleetBusinessApi: FleetBusinessApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Airworthiness management api\r\n   *************************************************************************/\r\n\r\n  public findCsnAndTsnValues(input: FindCsnAndTsnValuesInput): Observable<FindCsnAndTsnValuesOutput> {\r\n    return super.post<FindCsnAndTsnValuesInput, FindCsnAndTsnValuesOutput>(\r\n      this.airworthinessManagementApi.findCsnAndTsnValues,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet business api\r\n   *************************************************************************/\r\n\r\n  public validateGoNoGo(input: ValidateGoNoGoInput): Observable<BidoMissionEquipmentDTO> {\r\n    return super.post<ValidateGoNoGoInput, BidoMissionEquipmentDTO>(this.fleetBusinessApi.validateGoNoGo, input);\r\n  }\r\n\r\n  public goNoGoValidation(input: GoNoGoValidationInput): Observable<GoNoGoValidationOutput> {\r\n    return super.post<GoNoGoValidationInput, GoNoGoValidationOutput>(this.fleetBusinessApi.goNoGoValidation, input);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet management api\r\n   *************************************************************************/\r\n\r\n  public findAllBidoCustomerByCriteria(input: BidoCustomerDTO): Observable<BidoCustomerDTO[]> {\r\n    return super.post<BidoCustomerDTO, BidoCustomerDTO[]>(\r\n      this.fleetManagementApi.findAllBidoCustomerBySearchCriteria,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findEquipment(input: BidoEquipmentDTOId): Observable<BidoEquipmentDTO> {\r\n    return super.post<BidoEquipmentDTOId, BidoEquipmentDTO>(this.fleetManagementApi.findBidoEquipment, input);\r\n  }\r\n\r\n  public findMissionEquipment(input: BidoMissionEquipmentDTOId): Observable<BidoMissionEquipmentDTO> {\r\n    return super.post<BidoMissionEquipmentDTOId, BidoMissionEquipmentDTO>(\r\n      this.fleetManagementApi.findBidoMissionEquipment,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Product structure management api\r\n   *************************************************************************/\r\n\r\n  public getStandardCycleCounterLabel(): Observable<string> {\r\n    return super.post<void, string>(this.productStructureManagementApi.getStandardCycleCounterLabel);\r\n  }\r\n\r\n  public getStandardTimeCounterLabel(): Observable<string> {\r\n    return super.post<void, string>(this.productStructureManagementApi.getStandardTimeCounterLabel);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <h3 class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".hums\\\" | translate }}</span>\\r\\n    </h3>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content\\\">\\r\\n  <div class=\\\"column\\\">\\r\\n    <div class=\\\"row flex-row--justify-end\\\">\\r\\n      <button id=\\\"sendFscHumsPanel\\\" *ngIf=\\\"sendFscVisible\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"sendFscToHums()\\\">\\r\\n        {{ getComponentName() + \\\".sendFsc\\\" | translate }}\\r\\n      </button>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div id=\\\"humsStatus\\\" class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".status\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"humsStatus\\\" [disabled]=\\\"isReadOpenMode\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div id=\\\"humsMessage\\\" class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".message\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <textarea\\r\\n            class=\\\"aw-textarea\\\"\\r\\n            pInputTextarea\\r\\n            [rows]=\\\"3\\\"\\r\\n            [(ngModel)]=\\\"humsMessage\\\"\\r\\n            [disabled]=\\\"isReadOpenMode\\\"\\r\\n          ></textarea>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, ElementRef, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { BidoAttributeConstants } from '../../../../../../shared/constants/bido-attribute-constants';\r\nimport { BidoMissionEquipmentConstants } from '../../../../../../shared/constants/bido-mission-equipment-constants';\r\nimport { ControlConfigConstants } from '../../../../../../shared/constants/control-config-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../../shared/services/confirmation.service';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\n\r\n@Component({\r\n  selector: 'aw-flight-hums',\r\n  templateUrl: './hums.component.html'\r\n})\r\nexport class HumsComponent extends GenericComponent {\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  public humsMessage: string;\r\n  public humsStatus: string;\r\n  public sendFscVisible: boolean;\r\n\r\n  private humsStatusValue: string | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public onSendFscToHums: EventEmitter<void>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'HumsComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.humsMessage = '';\r\n    this.humsStatus = '';\r\n    this.humsStatusValue = undefined;\r\n    this.sendFscVisible = false;\r\n  }\r\n\r\n  public onLoad(missionEquipment: BidoMissionEquipmentDTO, manualFlightEntries: boolean): void {\r\n    if (missionEquipment && missionEquipment.bidoFlightAttributeDTOList) {\r\n      const humsMessageAttribute = missionEquipment.bidoFlightAttributeDTOList.find(\r\n        (attribute) => attribute.attributeId === BidoAttributeConstants.DAV_HUMS_MESSAGE.toString()\r\n      );\r\n      if (humsMessageAttribute) {\r\n        this.humsMessage = StringUtils.orEmpty(humsMessageAttribute.attributeValue);\r\n      }\r\n\r\n      const humsStatusAttribute = missionEquipment.bidoFlightAttributeDTOList.find(\r\n        (attribute) => attribute.attributeId === BidoAttributeConstants.DAV_HUMS_STATUS.toString()\r\n      );\r\n      this.humsStatusValue = humsStatusAttribute ? humsStatusAttribute.attributeValue : undefined;\r\n      if (this.humsStatusValue) {\r\n        this.formatHumsStatus(this.humsStatusValue);\r\n      }\r\n\r\n      if (\r\n        !manualFlightEntries &&\r\n        missionEquipment.statusState &&\r\n        missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_GO_VALIDATED &&\r\n        (StringUtils.isNullOrEmpty(this.humsStatusValue) ||\r\n          this.humsStatusValue === BidoMissionEquipmentConstants.DAV_HUMS_STATUS_FSC_IN_ERROR ||\r\n          this.humsStatusValue === BidoMissionEquipmentConstants.DAV_HUMS_STATUS_UNDO_DONE) &&\r\n        !StringUtils.isNullOrEmpty(missionEquipment.missionInstanceCode)\r\n      ) {\r\n        this.sendFscVisible = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.onSendFscToHums = new EventEmitter<void>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public sendFscToHums(): void {\r\n    if (this.humsStatusValue === BidoMissionEquipmentConstants.DAV_HUMS_STATUS_UNDO_DONE) {\r\n      this.confirmationService.confirm({\r\n        messageKey: this.getTranslateKey('warningOnCountersUpdate'),\r\n        accept: () => this.onSendFscToHums.emit()\r\n      });\r\n    } else {\r\n      this.onSendFscToHums.emit();\r\n    }\r\n  }\r\n\r\n  private formatHumsStatus(status: string): void {\r\n    let statusKey: string;\r\n\r\n    switch (status) {\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_FSC_SENT:\r\n        statusKey = 'statusFscSent';\r\n        break;\r\n\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_FSC_IN_ERROR:\r\n        statusKey = 'statusFscInError';\r\n        break;\r\n\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_FSC_VALIDATED:\r\n        statusKey = 'statusFscValidated';\r\n        break;\r\n\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_UNDO_SENT:\r\n        statusKey = 'statusUndoSent';\r\n        break;\r\n\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_UNDO_IN_PROCESS:\r\n        statusKey = 'statusUndoInProcess';\r\n        break;\r\n\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_POTENTIAL_RECEIVED:\r\n        statusKey = 'statusPotentialReceived';\r\n        break;\r\n\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_POTENTIAL_IN_ERROR:\r\n        statusKey = 'statusPotentialInError';\r\n        break;\r\n\r\n      case BidoMissionEquipmentConstants.DAV_HUMS_STATUS_FSC_DONE:\r\n        statusKey = 'statusFscDone';\r\n        break;\r\n\r\n      default:\r\n        statusKey = 'statusFscNotSent';\r\n        break;\r\n    }\r\n\r\n    this.translateService.get(this.getTranslateKey(statusKey)).subscribe((result) => {\r\n      this.humsStatus = StringUtils.orEmpty(result);\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".code\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [options]=\\\"measureReferenceList\\\"\\r\\n            [(ngModel)]=\\\"code\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".value\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"value\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [disabled]=\\\"code === undefined || code === null || value === undefined || value === null\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DialogComponent } from '../../../../../../../shared/types/dialog-component';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-flight-measure',\r\n  templateUrl: './dialog-measure.component.html'\r\n})\r\nexport class DialogMeasureComponent extends DialogComponent {\r\n  public code: string | undefined;\r\n  public value: number | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public measureReferenceList: SelectItem[];\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public onValidate: EventEmitter<{ code: string; value: number }>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Read, 'DialogMeasureComponent');\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.code = undefined;\r\n    this.measureReferenceList = [];\r\n    this.value = undefined;\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.onValidate = new EventEmitter<{ code: string; value: number }>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public validate(): void {\r\n    this.onValidate.emit({ code: this.code as string, value: this.value as number });\r\n    super.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <div id=\\\"otherMeasuresTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".otherMeasures\\\" | translate }} ({{ table ? table.length : 0 }})</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content\\\">\\r\\n  <p-table\\r\\n    id=\\\"otherMeasuresTable\\\"\\r\\n    [resizableColumns]=\\\"true\\\"\\r\\n    #ptableOtherMeasure\\r\\n    class=\\\"aw-table2\\\"\\r\\n    [columns]=\\\"tableColList\\\"\\r\\n    [value]=\\\"table\\\"\\r\\n    [(selection)]=\\\"tableSelection\\\"\\r\\n    selectionMode=\\\"single\\\"\\r\\n    [scrollable]=\\\"true\\\"\\r\\n    (onRowSelect)=\\\"onSelectTableRow($event.index)\\\"\\r\\n    (onRowUnselect)=\\\"onUnselectTableRow()\\\"\\r\\n  >\\r\\n    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n      <span *ngIf=\\\"!tableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n      <div *ngIf=\\\"tableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n        <div class=\\\"lds-hourglass\\\"></div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"caption\\\">\\r\\n      <div class=\\\"aw-table-header\\\">\\r\\n        <div class=\\\"aw-table-global-filter\\\">\\r\\n          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n          </label>\\r\\n\\r\\n          <input\\r\\n            class=\\\"aw-table-global-filter-input\\\"\\r\\n            type=\\\"text\\\"\\r\\n            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n            (input)=\\\"ptableOtherMeasure.filterGlobal($event.target.value, 'contains')\\\"\\r\\n          />\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"aw-table-actions\\\">\\r\\n          <button\\r\\n            id=\\\"deleteOtherMeasures\\\"\\r\\n            *ngIf=\\\"!isReadOpenMode && tableSelection !== undefined && tableSelection !== null\\\"\\r\\n            type=\\\"button\\\"\\r\\n            mat-raised-button\\r\\n            color=\\\"warn\\\"\\r\\n            (click)=\\\"deleteMeasure()\\\"\\r\\n          >\\r\\n            {{ \\\"global.delete\\\" | translate }}\\r\\n          </button>\\r\\n\\r\\n          <button\\r\\n            id=\\\"addOtherMeasures\\\"\\r\\n            *ngIf=\\\"!isReadOpenMode && (tableSelection === undefined || tableSelection === null)\\\"\\r\\n            type=\\\"button\\\"\\r\\n            mat-raised-button\\r\\n            (click)=\\\"addMeasure()\\\"\\r\\n          >\\r\\n            {{ \\\"global.add\\\" | translate }}\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n      <colgroup>\\r\\n        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n      </colgroup>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n      <tr>\\r\\n        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n          {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n        </th>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n        <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n          {{ rowData[col.field] }}\\r\\n        </td>\\r\\n      </tr>\\r\\n    </ng-template>\\r\\n  </p-table>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-flight-measure\\r\\n  *ngIf=\\\"dialogMeasureVisible\\\"\\r\\n  [(display)]=\\\"dialogMeasureVisible\\\"\\r\\n  [measureReferenceList]=\\\"remainingMeasureReferenceList\\\"\\r\\n  (onValidate)=\\\"onAddedMeasure($event)\\\"\\r\\n></aw-dialog-flight-measure>\\r\\n\"","import { Component, ElementRef, Input } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { forkJoin } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { FindBidoFlightMeasuresByFlightInput } from '../../../../../../shared/types/api-input-types/fleet-management/find-bido-flight-measures-by-flight-input.interface';\r\nimport { BidoFlightMeasureDTO } from '../../../../../../shared/types/api-types/bido-flight-measure-dto.interface';\r\nimport { BireMeasureReferenceDTOId } from '../../../../../../shared/types/api-types/bire-measure-reference-dto-id.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { FlightCounterDTO } from '../../../../../../shared/types/api-types/flight-counter-dto.interface';\r\nimport { FlightDTO } from '../../../../../../shared/types/api-types/flight-dto.interface';\r\nimport { FlightMeasureDTO } from '../../../../../../shared/types/api-types/flight-measure-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\nimport { MeasureRow } from './types/measure-row.interface';\r\n\r\n@Component({\r\n  selector: 'aw-flight-other-measures',\r\n  templateUrl: './other-measures.component.html'\r\n})\r\nexport class OtherMeasuresComponent extends GenericComponent {\r\n  public remainingMeasureReferenceList: SelectItem[];\r\n  public table: MeasureRow[];\r\n  public tableColList: TableColumn[];\r\n  public tableLoading: boolean;\r\n  public tableSelection: MeasureRow | undefined;\r\n\r\n  public dialogMeasureVisible: boolean;\r\n\r\n  private tableSelectionIndex: number | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public measureReferenceList: BireMeasureReferenceDTO[];\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(private readonly flightFormService: FlightFormService) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'OtherMeasuresComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.remainingMeasureReferenceList = [];\r\n    this.table = [];\r\n    this.tableLoading = false;\r\n    this.tableSelection = undefined;\r\n    this.tableSelectionIndex = undefined;\r\n\r\n    this.dialogMeasureVisible = false;\r\n  }\r\n\r\n  public onLoad(equipmentCode: string, missionCode: string, occurrence: number | undefined): void {\r\n    this.tableLoading = true;\r\n\r\n    const allFlightMeasureInput: FindBidoFlightMeasuresByFlightInput = {\r\n      equipmentCode,\r\n      missionCode,\r\n      occurrence: ObjectUtils.isDefined(occurrence) ? (occurrence as number) : 0\r\n    };\r\n    this.flightFormService.findAllBidoFlightMeasureByFlight(allFlightMeasureInput).subscribe((allFlightMeasure) => {\r\n      const observables = ListUtils.orEmpty(allFlightMeasure)\r\n        .filter((result) => ObjectUtils.isDefined(result.meaCode))\r\n        .map((result) => {\r\n          const measureReferenceInput: BireMeasureReferenceDTOId = {\r\n            counterCode: result.meaCode as string\r\n          };\r\n\r\n          return this.flightFormService.findBireMeasureReference(measureReferenceInput);\r\n        });\r\n\r\n      forkJoin(observables)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.tableLoading = false;\r\n            this.calculateRemainingMeasureReferenceList();\r\n          })\r\n        )\r\n        .subscribe((allMeasureReference) => {\r\n          this.table = ListUtils.orEmpty(allMeasureReference).map((measureReference, index) =>\r\n            this.createMeasureRow(allFlightMeasure[index], measureReference)\r\n          );\r\n\r\n        });\r\n    });\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.setTableColList();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public addMeasure(): void {\r\n    this.dialogMeasureVisible = true;\r\n  }\r\n\r\n  public deleteMeasure(): void {\r\n    this.table = this.table.filter((_, index) => index !== this.tableSelectionIndex);\r\n    this.tableSelection = undefined;\r\n    this.tableSelectionIndex = undefined;\r\n\r\n    this.calculateRemainingMeasureReferenceList();\r\n  }\r\n\r\n  public fillFlight(flight: FlightDTO): void {\r\n    const flightMeasureList = this.table\r\n      .filter((row) => !StringUtils.isEmpty(row.value) && Number(row.value) !== 0 && !StringUtils.isEmpty(row.code))\r\n      .map((row) => {\r\n        const flightCounter: FlightCounterDTO = {\r\n          code: row.code,\r\n          name: row.description,\r\n          unitOfMeasure: row.uom\r\n        };\r\n        const flightMeasure: FlightMeasureDTO = {\r\n          id: '',\r\n          counter: flightCounter,\r\n          value: Number(row.value)\r\n        };\r\n\r\n        return flightMeasure;\r\n      });\r\n\r\n    flight.flightMeasuresList = flightMeasureList;\r\n  }\r\n\r\n  public onAddedMeasure(data: { code: string; value: number }): void {\r\n    const selectedMeasureReference = this.measureReferenceList.find((elt) => elt.counterCode === data.code);\r\n    const newMeasure: MeasureRow = {\r\n      code: data.code,\r\n      description: selectedMeasureReference ? StringUtils.orEmpty(selectedMeasureReference.counterRemarks) : '',\r\n      value: data.value.toString(),\r\n      uom: selectedMeasureReference ? StringUtils.orEmpty(selectedMeasureReference.unitCode) : '',\r\n      _flightMeasure: undefined,\r\n      _measureReference: undefined\r\n    };\r\n\r\n    this.table = [...this.table, newMeasure];\r\n\r\n    this.calculateRemainingMeasureReferenceList();\r\n  }\r\n\r\n  public onSelectTableRow(rowIndex: number): void {\r\n    this.tableSelectionIndex = rowIndex;\r\n  }\r\n\r\n  public onUnselectTableRow(): void {\r\n    this.tableSelectionIndex = undefined;\r\n  }\r\n\r\n  private calculateRemainingMeasureReferenceList(): void {\r\n    this.remainingMeasureReferenceList = this.measureReferenceList\r\n      .filter((measureReference) => !this.table.some((row) => row.code === measureReference.counterCode))\r\n      .map((measureReference) => {\r\n        const code = measureReference.counterCode as string;\r\n\r\n        return {\r\n          label: code,\r\n          value: code\r\n        };\r\n      });\r\n  }\r\n\r\n  private createMeasureRow(flightMeasure: BidoFlightMeasureDTO, measureReference: BireMeasureReferenceDTO): MeasureRow {\r\n    const measureRow: MeasureRow = {\r\n      code: StringUtils.orEmpty(measureReference.counterCode),\r\n      description: StringUtils.orEmpty(measureReference.counterRemarks),\r\n      value: flightMeasure.meaValue || '0',\r\n      uom: StringUtils.orEmpty(measureReference.unitCode),\r\n      _flightMeasure: flightMeasure,\r\n      _measureReference: measureReference\r\n    };\r\n\r\n    return measureRow;\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.tableColList = [\r\n      { field: 'code', alignment: 'left', width: '12.5%' },\r\n      { field: 'description', alignment: 'left', width: '55%' },\r\n      { field: 'value', alignment: 'right', width: '20%' },\r\n      { field: 'uom', alignment: 'left', width: '12.5%' }\r\n    ];\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".category\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [options]=\\\"loadCategoryList\\\"\\r\\n            [(ngModel)]=\\\"category\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            (onChange)=\\\"onChangeLoadCategory()\\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".value\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"value\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".uom\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [options]=\\\"uomList\\\"\\r\\n            [(ngModel)]=\\\"uom\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            [disabled]=\\\"\\r\\n              category === undefined ||\\r\\n              category === null ||\\r\\n              (category &&\\r\\n                (category === aWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY ||\\r\\n                  category === aWPropertiesConstants.FLIGHT_LOAD_CATEGORY_OIL_KEY))\\r\\n            \\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!isLoadValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DialogComponent } from '../../../../../../../shared/types/dialog-component';\r\nimport { ObjectUtils } from '../../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../../shared/utils/string-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-add-load',\r\n  templateUrl: './dialog-add-load.component.html'\r\n})\r\nexport class DialogAddLoadComponent extends DialogComponent {\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  public category: string | undefined;\r\n  public uom: string | undefined;\r\n  public value: number | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public defaultVolumeUnitCode: string | undefined;\r\n\r\n  @Input()\r\n  public loadCategoryList: SelectItem[];\r\n\r\n  @Input()\r\n  public uomList: SelectItem[];\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public onValidate: EventEmitter<{ category: string; value: string; uom: string }>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Read, 'DialogAddLoadComponent');\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.category = undefined;\r\n    this.uom = undefined;\r\n    this.value = undefined;\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.onValidate = new EventEmitter<{ category: string; value: string; uom: string }>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public isLoadValid(): boolean {\r\n    return (\r\n      !StringUtils.isNullOrEmpty(this.category) &&\r\n      ObjectUtils.isDefined(this.value) &&\r\n      !StringUtils.isNullOrEmpty(this.uom)\r\n    );\r\n  }\r\n\r\n  public onChangeLoadCategory(): void {\r\n    if (this.category) {\r\n      if (\r\n        this.category === AWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY ||\r\n        this.category === AWPropertiesConstants.FLIGHT_LOAD_CATEGORY_OIL_KEY\r\n      ) {\r\n        this.uom = this.defaultVolumeUnitCode;\r\n      } else {\r\n        this.uom = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidate.emit({\r\n      category: this.category as string,\r\n      value: (this.value as number).toString(),\r\n      uom: this.uom as string\r\n    });\r\n    super.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".category\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <div class=\\\"form-control-generic\\\">\\r\\n            {{ loadRow.category }}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".value\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"value\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".uom\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [options]=\\\"uomList\\\"\\r\\n            [(ngModel)]=\\\"uom\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            [disabled]=\\\"\\r\\n              loadRow._categoryCode === aWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY ||\\r\\n              loadRow._categoryCode === aWPropertiesConstants.FLIGHT_LOAD_CATEGORY_OIL_KEY\\r\\n            \\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!isLoadValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DialogComponent } from '../../../../../../../shared/types/dialog-component';\r\nimport { ObjectUtils } from '../../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../../shared/utils/string-utils';\r\nimport { LoadRow } from '../types/load-row.interface';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-edit-load',\r\n  templateUrl: './dialog-edit-load.component.html'\r\n})\r\nexport class DialogEditLoadComponent extends DialogComponent implements OnInit {\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  public uom: string | undefined;\r\n  public value: number | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public loadRow: LoadRow;\r\n\r\n  @Input()\r\n  public uomList: SelectItem[];\r\n\r\n  // Outputs ********************************************************************\r\n\r\n  @Output()\r\n  public onValidate: EventEmitter<{ value: string; uom: string }>;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Read, 'DialogEditLoadComponent');\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.uom = this.loadRow._uomCode;\r\n    this.value = Number(this.loadRow.value);\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.uom = undefined;\r\n    this.value = undefined;\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.onValidate = new EventEmitter<{ value: string; uom: string }>();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public isLoadValid(): boolean {\r\n    return ObjectUtils.isDefined(this.value) && !StringUtils.isNullOrEmpty(this.uom);\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidate.emit({ value: (this.value as number).toString(), uom: this.uom as string });\r\n    super.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <div class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".passengersLoads\\\" | translate }}</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n  <div class=\\\"section\\\">\\r\\n    <div class=\\\"section-content\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div id=\\\"passengers\\\" class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ getComponentName() + \\\".passengers\\\" | translate }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"passengers\\\" [disabled]=\\\"isReadOpenMode\\\" />\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div id=\\\"shipment\\\" class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ getComponentName() + \\\".shipment\\\" | translate }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"shipment\\\" [disabled]=\\\"isReadOpenMode\\\" />\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-add-load\\r\\n    *ngIf=\\\"dialogAddLoadVisible\\\"\\r\\n    [(display)]=\\\"dialogAddLoadVisible\\\"\\r\\n    [defaultVolumeUnitCode]=\\\"defaultVolumeUnitCode\\\"\\r\\n    [loadCategoryList]=\\\"remainingloadCategoryList\\\"\\r\\n    [uomList]=\\\"uomList\\\"\\r\\n    (onValidate)=\\\"onAddedLoad($event)\\\"\\r\\n  ></aw-dialog-add-load>\\r\\n\\r\\n  <aw-dialog-edit-load\\r\\n    *ngIf=\\\"dialogEditLoadVisible\\\"\\r\\n    [(display)]=\\\"dialogEditLoadVisible\\\"\\r\\n    [loadRow]=\\\"loadTableSelection\\\"\\r\\n    [uomList]=\\\"uomList\\\"\\r\\n    (onValidate)=\\\"onEditedLoad($event)\\\"\\r\\n  ></aw-dialog-edit-load>\\r\\n</div>\\r\\n\"","import { Component, ElementRef, Input } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { forkJoin } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { GenericPropertyConstants } from '../../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { PropertiesService } from '../../../../../../shared/services/properties.service';\r\nimport { BidoFlightLoadDTO } from '../../../../../../shared/types/api-types/bido-flight-load-dto.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BireUnitMeasureDTO } from '../../../../../../shared/types/api-types/bire-unit-measure-dto.interface';\r\nimport { FlightDTO } from '../../../../../../shared/types/api-types/flight-dto.interface';\r\nimport { FlightFuelDTO } from '../../../../../../shared/types/api-types/flight-fuel-dto.interface';\r\nimport { FlightLoadCategoryDTO } from '../../../../../../shared/types/api-types/flight-load-category-dto.interface';\r\nimport { FlightLoadDTO } from '../../../../../../shared/types/api-types/flight-load-dto.interface';\r\nimport { FlightUnitOfMeasureDTO } from '../../../../../../shared/types/api-types/flight-unit-of-measure-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\nimport { LoadRow } from './types/load-row.interface';\r\n\r\n@Component({\r\n  selector: 'aw-flight-passengers-loads',\r\n  templateUrl: './passengers-loads.component.html'\r\n})\r\nexport class PassengersLoadsComponent extends GenericComponent {\r\n  public defaultVolumeUnitCode: string | undefined;\r\n  public loadTable: LoadRow[];\r\n  public loadTableColList: TableColumn[];\r\n  public loadTableSelection: LoadRow | undefined;\r\n  public loadTableLoading: boolean;\r\n  public passengers: number;\r\n  public passengersDeplanned: number;\r\n  public passengersPlanned: number;\r\n  public remainingloadCategoryList: SelectItem[];\r\n  public shipment: number;\r\n  public uomList: SelectItem[];\r\n\r\n  public dialogAddLoadVisible: boolean;\r\n  public dialogEditLoadVisible: boolean;\r\n\r\n  private loadCategoryList: LabelValue<string>[];\r\n  private loadTableSelectionIndex: number | undefined;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'PassengersLoadsComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.defaultVolumeUnitCode = undefined;\r\n    this.loadCategoryList = [];\r\n    this.loadTable = [];\r\n    this.loadTableSelection = undefined;\r\n    this.loadTableSelectionIndex = undefined;\r\n    this.loadTableLoading = false;\r\n    this.passengers = 0;\r\n    this.passengersDeplanned = 0;\r\n    this.passengersPlanned = 0;\r\n    this.remainingloadCategoryList = [];\r\n    this.shipment = 0;\r\n    this.uomList = [];\r\n\r\n    this.dialogAddLoadVisible = false;\r\n    this.dialogEditLoadVisible = false;\r\n  }\r\n\r\n  public onLoad(\r\n    missionEquipment: BidoMissionEquipmentDTO,\r\n    flightLoad: BidoFlightLoadDTO[],\r\n    unitMeasure: BireUnitMeasureDTO\r\n  ): void {\r\n    this.loadTableLoading = true;\r\n\r\n    this.defaultVolumeUnitCode = unitMeasure.unitCode;\r\n\r\n    this.passengers = ObjectUtils.isDefined(missionEquipment.passengerNumber)\r\n      ? (missionEquipment.passengerNumber as number)\r\n      : 0;\r\n    this.passengersDeplanned = ObjectUtils.isDefined(missionEquipment.deplannedPassengerNumber)\r\n      ? (missionEquipment.deplannedPassengerNumber as number)\r\n      : 0;\r\n    this.passengersPlanned = ObjectUtils.isDefined(missionEquipment.plannedPassengerNumber)\r\n      ? (missionEquipment.plannedPassengerNumber as number)\r\n      : 0;\r\n    this.shipment = ObjectUtils.isDefined(missionEquipment.shipmentNumber)\r\n      ? (missionEquipment.shipmentNumber as number)\r\n      : 0;\r\n\r\n    forkJoin([\r\n      this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_LOAD_CATEGORY_MAP),\r\n      this.flightFormService.findAllBireUnitMeasure()\r\n    ])\r\n      .pipe(\r\n        finalize(() => {\r\n          this.loadTableLoading = false;\r\n        })\r\n      )\r\n      .subscribe(([loadCategoryResults, unitMeasureResults]) => {\r\n        this.loadCategoryList = ListUtils.orEmpty(loadCategoryResults);\r\n        this.uomList = ListUtils.orEmpty(unitMeasureResults)\r\n          .filter((uom) => !StringUtils.isNullOrEmpty(uom.unitCode))\r\n          .map((uom) => {\r\n            return {\r\n              label: StringUtils.isNullOrEmpty(uom.unitName) ? uom.unitCode : uom.unitName,\r\n              value: uom.unitCode\r\n            };\r\n          });\r\n\r\n        this.loadCategoryList.forEach((result) => {\r\n          const selectedLoad = flightLoad.find(\r\n            (load) => load.floCategory === result.value && !ObjectUtils.isDefined(load.floType)\r\n          );\r\n          if (selectedLoad && selectedLoad.floCategory && selectedLoad.floUnitCode && selectedLoad.floValue) {\r\n            this.loadTable = [\r\n              ...this.loadTable,\r\n              this.createLoadRow(selectedLoad.floCategory, selectedLoad.floUnitCode, selectedLoad.floValue)\r\n            ];\r\n          }\r\n        });\r\n\r\n        // Send fuel load factual value if it exists\r\n        const fuelRow = this.loadTable.find(\r\n          (row) => row._categoryCode === AWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY\r\n        );\r\n        if (fuelRow) {\r\n          this.flightFormService.updateFuelValue(Number(fuelRow.value));\r\n        }\r\n\r\n        this.calculateRemainingLoadCategoryList();\r\n      });\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.setTableColList();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public addLoad(): void {\r\n    this.dialogAddLoadVisible = true;\r\n  }\r\n\r\n  public deleteLoad(): void {\r\n    const categoryToDelete = (this.loadTableSelection as LoadRow)._categoryCode;\r\n    if (categoryToDelete === AWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY) {\r\n      this.flightFormService.updateFuelValue(0);\r\n    }\r\n\r\n    this.loadTable = this.loadTable.filter((_, index) => index !== this.loadTableSelectionIndex);\r\n    this.loadTableSelection = undefined;\r\n    this.loadTableSelectionIndex = undefined;\r\n\r\n    this.calculateRemainingLoadCategoryList();\r\n  }\r\n\r\n  public editLoad(): void {\r\n    this.dialogEditLoadVisible = true;\r\n  }\r\n\r\n  public fillFlight(flight: FlightDTO): void {\r\n    flight.aboardPax = this.passengers;\r\n    flight.deplannedPax = this.passengersDeplanned;\r\n    flight.plannedPax = this.passengersPlanned;\r\n    flight.shipmentNumber = this.shipment;\r\n\r\n    const flightFuelList: FlightFuelDTO[] = [];\r\n    const flightLoadList: FlightLoadDTO[] = [];\r\n    this.loadTable\r\n      .filter((load) => !StringUtils.isEmpty(load.value) && Number(load.value) !== 0)\r\n      .forEach((load) => {\r\n        if (load._categoryCode === AWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY) {\r\n          flightFuelList.push(this.createFlightFuel(load));\r\n        } else {\r\n          flightLoadList.push(this.createFlightLoad(load));\r\n        }\r\n      });\r\n    flight.flightFuelLoadedList = flightFuelList;\r\n    flight.flightLoadList = flightLoadList;\r\n  }\r\n\r\n  public onAddedLoad(data: { category: string; value: string; uom: string }): void {\r\n    if (data.category === AWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY) {\r\n      this.flightFormService.updateFuelValue(Number(data.value));\r\n    }\r\n\r\n    this.loadTable = [...this.loadTable, this.createLoadRow(data.category, data.uom, data.value)];\r\n\r\n    this.calculateRemainingLoadCategoryList();\r\n  }\r\n\r\n  public onEditedLoad(data: { value: string; uom: string }): void {\r\n    const editedCategory = (this.loadTableSelection as LoadRow)._categoryCode;\r\n    if (editedCategory === AWPropertiesConstants.FLIGHT_LOAD_CATEGORY_FUEL_KEY) {\r\n      this.flightFormService.updateFuelValue(Number(data.value));\r\n    }\r\n\r\n    this.loadTable[this.loadTableSelectionIndex as number] = this.createLoadRow(editedCategory, data.uom, data.value);\r\n    this.loadTable = [...this.loadTable];\r\n    this.loadTableSelection = undefined;\r\n    this.loadTableSelectionIndex = undefined;\r\n\r\n    this.calculateRemainingLoadCategoryList();\r\n  }\r\n\r\n  public onSelectLoadTableRow(rowIndex: number): void {\r\n    this.loadTableSelectionIndex = rowIndex;\r\n  }\r\n\r\n  public onUnselectLoadTableRow(): void {\r\n    this.loadTableSelectionIndex = undefined;\r\n  }\r\n\r\n  private calculateRemainingLoadCategoryList(): void {\r\n    this.remainingloadCategoryList = this.loadCategoryList.filter(\r\n      (loadCategory) => !this.loadTable.some((loadRow) => loadRow.category === loadCategory.label)\r\n    );\r\n  }\r\n\r\n  private createFlightFuel(load: LoadRow): FlightFuelDTO {\r\n    const flightUom: FlightUnitOfMeasureDTO = {\r\n      id: this.defaultVolumeUnitCode,\r\n      name: '',\r\n      description: ''\r\n    };\r\n    const flightFuel: FlightFuelDTO = {\r\n      id: '',\r\n      type: undefined,\r\n      uom: flightUom,\r\n      value: Number(load.value)\r\n    };\r\n\r\n    return flightFuel;\r\n  }\r\n\r\n  private createFlightLoad(load: LoadRow): FlightLoadDTO {\r\n    const flightLoadCategory: FlightLoadCategoryDTO = {\r\n      id: load._categoryCode,\r\n      name: load.category\r\n    };\r\n    const flightUom: FlightUnitOfMeasureDTO = {\r\n      id: load._uomCode,\r\n      name: '',\r\n      description: ''\r\n    };\r\n    const flightLoad: FlightLoadDTO = {\r\n      id: '',\r\n      loadCategory: flightLoadCategory,\r\n      uom: flightUom,\r\n      value: Number(load.value)\r\n    };\r\n\r\n    return flightLoad;\r\n  }\r\n\r\n  private createLoadRow(categoryCode: string, unitCode: string, value: string): LoadRow {\r\n    const selectedCategory = this.loadCategoryList.find((loadCategory) => loadCategory.value === categoryCode);\r\n    const selectedUom = this.uomList.find((uom) => uom.value === unitCode);\r\n    const loadRow: LoadRow = {\r\n      value,\r\n      category: selectedCategory ? selectedCategory.label : StringUtils.orEmpty(categoryCode),\r\n      uom: selectedUom ? (selectedUom.label as string) : StringUtils.orEmpty(unitCode),\r\n      _categoryCode: categoryCode,\r\n      _uomCode: unitCode\r\n    };\r\n\r\n    return loadRow;\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.loadTableColList = [\r\n      { field: 'category', alignment: 'left' },\r\n      { field: 'value', alignment: 'right' },\r\n      { field: 'uom', alignment: 'left' }\r\n    ];\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid row\\\">\\r\\n  <div id=\\\"defectsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n      <div class=\\\"grid-cell-header\\\">\\r\\n        <div class=\\\"grid-cell-title-container\\\">\\r\\n          <div id=\\\"defectsTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n            <span>{{ getComponentName() + \\\".defects\\\" | translate }} ({{ defectTable ? defectTable.length : 0 }})</span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n        <div class=\\\"section\\\">\\r\\n          <div class=\\\"section-content\\\">\\r\\n            <p-table\\r\\n              id=\\\"defectsTable\\\"\\r\\n              [resizableColumns]=\\\"true\\\"\\r\\n              #ptableDefect\\r\\n              class=\\\"aw-table2\\\"\\r\\n              [columns]=\\\"defectTableColList\\\"\\r\\n              [value]=\\\"defectTable\\\"\\r\\n              selectionMode=\\\"single\\\"\\r\\n              [scrollable]=\\\"true\\\"\\r\\n              dataKey=\\\"_id\\\"\\r\\n            >\\r\\n              <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                <span *ngIf=\\\"!loading\\\"> &nbsp;</span>\\r\\n\\r\\n                <div *ngIf=\\\"loading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                  <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                  <div class=\\\"lds-hourglass\\\"></div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"caption\\\">\\r\\n                <div class=\\\"aw-table-header\\\">\\r\\n                  <div class=\\\"aw-table-global-filter\\\">\\r\\n                    <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                      <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                    </label>\\r\\n\\r\\n                    <input\\r\\n                      class=\\\"aw-table-global-filter-input\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                      (input)=\\\"ptableDefect.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                    />\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"aw-table-actions\\\">\\r\\n                    <button id=\\\"addDefect\\\" *ngIf=\\\"!loading\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"addDefect()\\\">\\r\\n                      {{ getComponentName() + \\\".addDefect\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                <colgroup>\\r\\n                  <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                  <col class=\\\"row-expand-wrapper\\\" />\\r\\n                </colgroup>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                <tr>\\r\\n                  <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                  </th>\\r\\n                  <th class=\\\"row-expand-wrapper\\\"></th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template\\r\\n                pTemplate=\\\"body\\\"\\r\\n                let-rowData\\r\\n                let-expanded=\\\"expanded\\\"\\r\\n                let-columns=\\\"columns\\\"\\r\\n                let-rowIndex=\\\"rowIndex\\\"\\r\\n              >\\r\\n                <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                  <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    <span *ngSwitchCase=\\\"'eventCode'\\\">\\r\\n                      <a (click)=\\\"openDefectRow(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                    </span>\\r\\n\\r\\n                    <span *ngSwitchCase=\\\"'isCritical'\\\">\\r\\n                      <i\\r\\n                        *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                        class=\\\"fa fa-fw fa-check\\\"\\r\\n                        aria-hidden=\\\"true\\\"\\r\\n                      ></i>\\r\\n                    </span>\\r\\n\\r\\n                    <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                  </td>\\r\\n\\r\\n                  <td class=\\\"row-expand-wrapper\\\" [pRowToggler]=\\\"rowData\\\">\\r\\n                    <i\\r\\n                      class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                      [ngClass]=\\\"expanded ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                      aria-hidden=\\\"true\\\"\\r\\n                      pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                      tooltipPosition=\\\"top\\\"\\r\\n                      (click)=\\\"togglePostFlightVisitTableRowDetailsVisibility(rowData)\\\"\\r\\n                    ></i>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n                <tr class=\\\"row-expanded\\\">\\r\\n                  <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".linkedEventCode\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.linkedEventCode\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".logNumber\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.logNumber\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".rootCause\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.rootCause\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".lastAuthor\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.lastAuthor\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </p-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"postFlightVisitsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n      <div class=\\\"grid-cell-header\\\">\\r\\n        <div class=\\\"grid-cell-title-container\\\">\\r\\n          <div id=\\\"postFlightVisitTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n            <span\\r\\n              >{{ getComponentName() + \\\".postFlightVisits\\\" | translate }} ({{\\r\\n                postFlightVisitTable ? postFlightVisitTable.length : 0\\r\\n              }})</span\\r\\n            >\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n        <div class=\\\"section\\\">\\r\\n          <div class=\\\"section-content\\\">\\r\\n            <p-table\\r\\n              id=\\\"postFlightVisitTable\\\"\\r\\n              [resizableColumns]=\\\"true\\\"\\r\\n              #ptablePostFlightVisit\\r\\n              class=\\\"aw-table2\\\"\\r\\n              [columns]=\\\"postFlightVisitTableColList\\\"\\r\\n              [value]=\\\"postFlightVisitTable\\\"\\r\\n              [(selection)]=\\\"postFlightVisitTableSelection\\\"\\r\\n              selectionMode=\\\"single\\\"\\r\\n              [scrollable]=\\\"true\\\"\\r\\n            >\\r\\n              <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                <span *ngIf=\\\"!loading\\\"> &nbsp;</span>\\r\\n\\r\\n                <div *ngIf=\\\"loading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                  <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                  <div class=\\\"lds-hourglass\\\"></div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"caption\\\">\\r\\n                <div class=\\\"aw-table-header\\\">\\r\\n                  <div class=\\\"aw-table-global-filter\\\">\\r\\n                    <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                      <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                    </label>\\r\\n\\r\\n                    <input\\r\\n                      class=\\\"aw-table-global-filter-input\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                      (input)=\\\"ptablePostFlightVisit.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                    />\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"aw-table-actions\\\">\\r\\n                    <button\\r\\n                      id=\\\"applyTaskPostFlightVisitTable\\\"\\r\\n                      *ngIf=\\\"isUpdateTaskApplicationButtonVisible()\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"updateTaskApplication()\\\"\\r\\n                    >\\r\\n                      {{ getComponentName() + \\\".applyTask\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                <colgroup>\\r\\n                  <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                </colgroup>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                <tr>\\r\\n                  <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                  </th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                  <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    <span *ngSwitchCase=\\\"'isDone'\\\">\\r\\n                      <i\\r\\n                        *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                        class=\\\"fa fa-fw fa-check\\\"\\r\\n                        aria-hidden=\\\"true\\\"\\r\\n                      ></i>\\r\\n                    </span>\\r\\n\\r\\n                    <span *ngSwitchCase=\\\"'operation'\\\">\\r\\n                      <a (click)=\\\"openOperationRow(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                    </span>\\r\\n\\r\\n                    <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </p-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"roleEquipmentsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n      <div class=\\\"grid-cell-header\\\">\\r\\n        <div class=\\\"grid-cell-title-container\\\">\\r\\n          <div id=\\\"roleEquipmentTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n            <span\\r\\n              >{{ getComponentName() + \\\".roleEquipments\\\" | translate }} ({{\\r\\n                roleEquipmentTable ? roleEquipmentTable.length : 0\\r\\n              }})</span\\r\\n            >\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n        <div class=\\\"section\\\">\\r\\n          <div class=\\\"section-content\\\">\\r\\n            <p-table\\r\\n              id=\\\"roleEquipmentTable\\\"\\r\\n              [resizableColumns]=\\\"true\\\"\\r\\n              #ptableRoleEquipment\\r\\n              class=\\\"aw-table2\\\"\\r\\n              [columns]=\\\"roleEquipmentTableColList\\\"\\r\\n              [value]=\\\"roleEquipmentTable\\\"\\r\\n              [(selection)]=\\\"roleEquipmentTableSelectionList\\\"\\r\\n              selectionMode=\\\"single\\\"\\r\\n              [scrollable]=\\\"true\\\"\\r\\n            >\\r\\n              <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                <span *ngIf=\\\"!loading\\\"> &nbsp;</span>\\r\\n\\r\\n                <div *ngIf=\\\"loading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                  <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                  <div class=\\\"lds-hourglass\\\"></div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"caption\\\">\\r\\n                <div class=\\\"aw-table-header\\\">\\r\\n                  <div class=\\\"aw-table-global-filter\\\">\\r\\n                    <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                      <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                    </label>\\r\\n\\r\\n                    <input\\r\\n                      class=\\\"aw-table-global-filter-input\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                      (input)=\\\"ptableRoleEquipment.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                    />\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"aw-table-actions\\\">\\r\\n                    <button\\r\\n                      id=\\\"removeRoleEquipmentTable\\\"\\r\\n                      *ngIf=\\\"roleEquipmentTableSelectionList.length === 1\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"removeRoleEquipment()\\\"\\r\\n                    >\\r\\n                      {{ getComponentName() + \\\".remove\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                <colgroup>\\r\\n                  <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                </colgroup>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                <tr>\\r\\n                  <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                  </th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                  <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    <span *ngSwitchCase=\\\"'roleEquipment'\\\">\\r\\n                      <a (click)=\\\"openAssetRow(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                    </span>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </p-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-add-defect\\r\\n    *ngIf=\\\"dialogAddDefectVisible\\\"\\r\\n    [(display)]=\\\"dialogAddDefectVisible\\\"\\r\\n    (onValidated)=\\\"onAddDefect($event)\\\"\\r\\n  ></aw-dialog-add-defect>\\r\\n\\r\\n  <aw-dialog-update-task-application\\r\\n    *ngIf=\\\"dialogUpdateTaskAppliactionVisible\\\"\\r\\n    [(display)]=\\\"dialogUpdateTaskAppliactionVisible\\\"\\r\\n    (onValidated)=\\\"onUpdateTaskApplication($event)\\\"\\r\\n  ></aw-dialog-update-task-application>\\r\\n</div>\\r\\n\"","import { Component, ElementRef, Input } from '@angular/core';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DateService } from '../../../../../../shared/services/date.service';\r\nimport { SerializationService } from '../../../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../../../shared/services/tab.service';\r\nimport { ApplyTaskForFlightInput } from '../../../../../../shared/types/api-input-types/airworthiness-management/apply-task-for-flight-input.interface';\r\nimport { CalculatePostFlightRecordsInformationsInput } from '../../../../../../shared/types/api-input-types/fleet-business/calculate-post-flight-records-informations-input.interface';\r\nimport { CreateDefectInput } from '../../../../../../shared/types/api-input-types/fleet-business/create-defect-input.interface';\r\nimport { AssetRemovedInput } from '../../../../../../shared/types/api-input-types/fleet-history/asset-removed-input.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoNotificationDTOId } from '../../../../../../shared/types/api-types/bido-notification-dto-id.interface';\r\nimport { BireTaskDTOId } from '../../../../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { DefectLWO } from '../../../../../../shared/types/api-types/defect-lwo.interface';\r\nimport { OperationLWO } from '../../../../../../shared/types/api-types/operation-lwo.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { PageComponentData } from '../../../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { BidoEquipmentUtils } from '../../../../../../shared/utils/bido-equipment-utils';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\ninterface DefectRow {\r\n  context: string;\r\n  date: string;\r\n  description: string;\r\n  eventCode: string;\r\n  flightRestriction: string;\r\n  isCritical: boolean;\r\n  lastAuthor: string;\r\n  linkedEventCode: string;\r\n  location: string;\r\n  logNumber: string;\r\n  name: string;\r\n  rootCause: string;\r\n  title: string;\r\n  _obj: DefectLWO;\r\n  _id: string;\r\n}\r\n\r\ninterface OperationRow {\r\n  comment: string;\r\n  date: string;\r\n  designation: string;\r\n  dmc: string;\r\n  isDone: boolean;\r\n  operation: string;\r\n  _obj: OperationLWO;\r\n  _expand: boolean;\r\n  _id: string;\r\n}\r\n\r\ninterface RoleEquipmentRow {\r\n  roleEquipment: string;\r\n  _obj: BidoEquipmentDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-post-flight-records',\r\n  templateUrl: './post-flight-records.component.html'\r\n})\r\nexport class PostFlightRecordsComponent extends GenericComponent {\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public defectTable: DefectRow[];\r\n  public defectTableColList: TableColumn[];\r\n  public loading: boolean;\r\n  public postFlightVisitTable: OperationRow[];\r\n  public postFlightVisitTableColList: TableColumn[];\r\n  public postFlightVisitTableSelection: OperationRow | undefined;\r\n  public roleEquipmentTable: RoleEquipmentRow[];\r\n  public roleEquipmentTableColList: TableColumn[];\r\n  public roleEquipmentTableSelectionList: RoleEquipmentRow[];\r\n\r\n  public dialogAddDefectVisible: boolean;\r\n  public dialogUpdateTaskAppliactionVisible: boolean;\r\n\r\n  private equipment: BidoEquipmentDTO;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    private readonly dateService: DateService,\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly serializationService: SerializationService,\r\n    private readonly tabService: TabService\r\n  ) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'PostFlightRecordsComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.defectTable = [];\r\n    this.loading = true;\r\n    this.postFlightVisitTable = [];\r\n    this.postFlightVisitTableSelection = undefined;\r\n    this.roleEquipmentTable = [];\r\n    this.roleEquipmentTableSelectionList = [];\r\n\r\n    this.dialogAddDefectVisible = false;\r\n    this.dialogUpdateTaskAppliactionVisible = false;\r\n  }\r\n\r\n  public onLoad(equipment: BidoEquipmentDTO, missionCode: string, missionOccurrence: number): void {\r\n    this.equipment = equipment;\r\n    const input: CalculatePostFlightRecordsInformationsInput = {\r\n      equipment,\r\n      missionCode,\r\n      missionOccurrence\r\n    };\r\n    this.flightFormService.calculatePostFlightRecordsInformations(input).subscribe({\r\n      next: (result) => {\r\n        this.defectTable = ListUtils.orEmpty(result.defectList).map((elt) => this.createDefectRow(elt));\r\n        this.postFlightVisitTable = ListUtils.orEmpty(result.operationList).map((elt) => this.createOperationRow(elt));\r\n        this.roleEquipmentTable = ListUtils.orEmpty(result.roleEquipmentList).map((elt) =>\r\n          this.createRoleEquipmentRow(elt)\r\n        );\r\n      },\r\n      complete: () => {\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.setDefectTableColList();\r\n    this.setPostFlightVisitTableColList();\r\n    this.setRoleEquipmentTableColList();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public addDefect(): void {\r\n    this.dialogAddDefectVisible = true;\r\n  }\r\n\r\n  public isUpdateTaskApplicationButtonVisible(): boolean {\r\n    return (\r\n      ObjectUtils.isDefined(this.postFlightVisitTableSelection) &&\r\n      !StringUtils.isNullOrEmpty((this.postFlightVisitTableSelection as OperationRow)._obj.taskCode) &&\r\n      !(this.postFlightVisitTableSelection as OperationRow).isDone\r\n    );\r\n  }\r\n\r\n  public onAddDefect(defectType: string): void {\r\n    const notificationInput: CreateDefectInput = {\r\n      defectType,\r\n      equipment: this.equipment,\r\n      missionInstance: this.missionEquipment.missionInstanceCode as string\r\n    };\r\n    this.flightFormService.createDefect(notificationInput).subscribe((defect) => {\r\n      this.defectTable = [...this.defectTable, this.createDefectRow(defect)];\r\n    });\r\n  }\r\n\r\n  public onUpdateTaskApplication(data: { comment: string; date: Date }): void {\r\n    if (ObjectUtils.isDefined(this.postFlightVisitTableSelection)) {\r\n      const selection = this.postFlightVisitTableSelection as OperationRow;\r\n      const input: ApplyTaskForFlightInput = {\r\n        taskId: {\r\n          taskCode: selection._obj.taskCode as string,\r\n          taskVersion: selection._obj.taskVersion as string\r\n        },\r\n        chronoNumber: this.missionEquipment.missionInstanceCode as string,\r\n        comment: data.comment,\r\n        equipmentCode: this.equipment.equipmentCode as string,\r\n        dateTime: data.date\r\n      };\r\n      this.flightFormService.applyTaskForFlight(input).subscribe(() => {\r\n        const selectedRow = this.postFlightVisitTable.find((row) => row._id === selection._id);\r\n        if (selectedRow) {\r\n          selectedRow.comment = data.comment;\r\n          selectedRow.isDone = true;\r\n        }\r\n      });\r\n\r\n      this.postFlightVisitTableSelection = undefined;\r\n    }\r\n  }\r\n\r\n  public openAssetRow(row: RoleEquipmentRow): void {\r\n    const asset = row._obj;\r\n    const assetCode = asset.equipmentCode as string;\r\n\r\n    if (asset.equipmentFunction && asset.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY) {\r\n      this.openAircraft(assetCode);\r\n    } else if (\r\n      asset.equipmentFunction &&\r\n      asset.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY\r\n    ) {\r\n      this.openEngine(assetCode);\r\n    } else {\r\n      this.openEquipment(assetCode);\r\n    }\r\n  }\r\n\r\n  public openDefectRow(row: DefectRow): void {\r\n    this.openDefect(row.eventCode);\r\n  }\r\n\r\n  public openOperationRow(row: OperationRow): void {\r\n    if (!StringUtils.isNullOrEmpty(row._obj.taskCode) && !StringUtils.isNullOrEmpty(row._obj.taskVersion)) {\r\n      const taskId: BireTaskDTOId = {\r\n        taskCode: row._obj.taskCode as string,\r\n        taskVersion: row._obj.taskVersion as string\r\n      };\r\n      if (row._obj.taskKind === AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_TASK_KEY) {\r\n        this.openTask(taskId);\r\n      } else {\r\n        this.openVisit(taskId);\r\n      }\r\n    } else if (!StringUtils.isNullOrEmpty(row._obj.notificationCode)) {\r\n      this.openDefect(row._obj.notificationCode as string);\r\n    }\r\n  }\r\n\r\n  public removeRoleEquipment(): void {\r\n    const row = this.roleEquipmentTableSelectionList[0];\r\n    const objectId: AssetRemovedInput = {\r\n      assetCode: [row._obj.equipmentCode as string],\r\n      date: new Date(),\r\n      superiorAssetCode: row._obj.equipmentCode as string\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: 'RemoveAssetComponent',\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public togglePostFlightVisitTableRowDetailsVisibility(row: OperationRow): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  public updateTaskApplication(): void {\r\n    this.dialogUpdateTaskAppliactionVisible = true;\r\n  }\r\n\r\n  private createDefectRow(defect: DefectLWO): DefectRow {\r\n    const row: DefectRow = {\r\n      context: StringUtils.orEmpty(defect.context),\r\n      date: this.dateService.dateToString(defect.date),\r\n      description: StringUtils.orEmpty(defect.description),\r\n      eventCode: StringUtils.orEmpty(defect.eventCode),\r\n      flightRestriction: StringUtils.orEmpty(defect.flightRestriction),\r\n      isCritical: ObjectUtils.isDefined(defect.isCritical) && (defect.isCritical as boolean),\r\n      lastAuthor: StringUtils.orEmpty(defect.lastAuthor),\r\n      linkedEventCode: StringUtils.orEmpty(defect.linkedEventCode),\r\n      location: StringUtils.orEmpty(defect.location),\r\n      logNumber: StringUtils.orEmpty(defect.logNumber),\r\n      name: StringUtils.orEmpty(defect.name),\r\n      rootCause: StringUtils.orEmpty(defect.rootCause),\r\n      title: StringUtils.orEmpty(defect.title),\r\n      _obj: defect,\r\n      _id: StringUtils.orEmpty(defect.eventCode)\r\n    };\r\n\r\n    return row;\r\n  }\r\n\r\n  private createOperationRow(operation: OperationLWO): OperationRow {\r\n    const row: OperationRow = {\r\n      comment: StringUtils.orEmpty(operation.comment),\r\n      date: this.dateService.dateToString(operation.operationValidity),\r\n      designation: StringUtils.orEmpty(operation.operationDesignation),\r\n      dmc: StringUtils.orEmpty(operation.dmc),\r\n      isDone: ObjectUtils.isDefined(operation.isDone) && (operation.isDone as boolean),\r\n      operation: StringUtils.orEmpty(operation.operation),\r\n      _obj: operation,\r\n      _expand: false,\r\n      _id: StringUtils.orEmpty(operation.id)\r\n    };\r\n\r\n    return row;\r\n  }\r\n\r\n  private createRoleEquipmentRow(equipment: BidoEquipmentDTO): RoleEquipmentRow {\r\n    const row: RoleEquipmentRow = {\r\n      roleEquipment: BidoEquipmentUtils.createAssetName(equipment),\r\n      _obj: equipment\r\n    };\r\n\r\n    return row;\r\n  }\r\n\r\n  private openAircraft(equipmentCode: string): void {\r\n    const objectId: BidoEquipmentDTO = {\r\n      equipmentCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.FLE_AIRCRAFT_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openDefect(notificationCode: string): void {\r\n    const defectId: BidoNotificationDTOId = {\r\n      notificationCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLE_DEFECT_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize(defectId)\r\n    };\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openEngine(equipmentCode: string): void {\r\n    const objectId: BidoEquipmentDTO = {\r\n      equipmentCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.FLE_ENGINE_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openEquipment(equipmentCode: string): void {\r\n    const objectId: BidoEquipmentDTO = {\r\n      equipmentCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.FLE_EQUIPMENT_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openTask(taskId: BireTaskDTOId): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.ENG_TASK_FORM,\r\n      objectId: this.serializationService.serialize(taskId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openVisit(taskId: BireTaskDTOId): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.ENG_VISIT_FORM,\r\n      objectId: this.serializationService.serialize(taskId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private setDefectTableColList(): void {\r\n    this.defectTableColList = [\r\n      { field: 'eventCode', alignment: 'left', width: '15%' },\r\n      { field: 'date', alignment: 'left', width: '10%' },\r\n      { field: 'isCritical', alignment: 'center', width: '5%' },\r\n      { field: 'flightRestriction', alignment: 'left', width: '10%' },\r\n      { field: 'title', alignment: 'left', width: '20%' },\r\n      { field: 'name', alignment: 'left', width: '10%' },\r\n      { field: 'location', alignment: 'left', width: '10%' },\r\n      { field: 'description', alignment: 'left', width: '20%' }\r\n    ];\r\n  }\r\n\r\n  private setPostFlightVisitTableColList(): void {\r\n    this.postFlightVisitTableColList = [\r\n      { field: 'operation', alignment: 'left', width: '20%' },\r\n      { field: 'designation', alignment: 'left', width: '20%' },\r\n      { field: 'dmc', alignment: 'left', width: '20%' },\r\n      { field: 'isDone', alignment: 'center', width: '10%' },\r\n      { field: 'date', alignment: 'left', width: '10%' },\r\n      { field: 'comment', alignment: 'left', width: '20%' }\r\n    ];\r\n  }\r\n\r\n  private setRoleEquipmentTableColList(): void {\r\n    this.roleEquipmentTableColList = [{ field: 'roleEquipment', alignment: 'left' }];\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <div class=\\\"grid-cell-title\\\">\\r\\n      <span>{{ getComponentName() + \\\".replenishmentsValidation\\\" | translate }}</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content\\\">\\r\\n  <div class=\\\"column\\\">\\r\\n    <div *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"row flex-row--justify-end\\\">\\r\\n      <button *ngIf=\\\"showCancelReplenishmentButton()\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n        {{ \\\"global.cancel\\\" | translate }}\\r\\n      </button>\\r\\n      <button\\r\\n        *ngIf=\\\"showValidateReplenishmentButton()\\\"\\r\\n        color=\\\"primary\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"validate()\\\"\\r\\n      >\\r\\n        {{ \\\"global.validate\\\" | translate }}\\r\\n      </button>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"sessionService.isSpecificDassault\\\" class=\\\"row data\\\">\\r\\n      <div *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".status\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <div class=\\\"form-control-generic\\\">\\r\\n            <span *ngIf=\\\"replenishmentValidationStatus === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n              {{ getComponentName() + \\\".validationOk\\\" | translate }}\\r\\n            </span>\\r\\n\\r\\n            <span *ngIf=\\\"replenishmentValidationStatus === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n              {{ getComponentName() + \\\".validationNok\\\" | translate }}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div\\r\\n        class=\\\"form-group\\\"\\r\\n        [ngClass]=\\\"{ 'visibility--hidden': replenishmentValidationStatus === controlConfigConstants.ICON_RED }\\\"\\r\\n      >\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".date\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [showTime]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"missionEquipment.repleValidationDate\\\"\\r\\n            [disabled]=\\\"true\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div\\r\\n        class=\\\"form-group\\\"\\r\\n        [ngClass]=\\\"{ 'visibility--hidden': replenishmentValidationStatus === controlConfigConstants.ICON_RED }\\\"\\r\\n      >\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".user\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"missionEquipment.repleValidationUser\\\" [disabled]=\\\"true\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!sessionService.isSpecificDassault\\\" class=\\\"row\\\">\\r\\n      <div *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".status\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <div class=\\\"form-control-generic\\\">\\r\\n            <span *ngIf=\\\"replenishmentValidationStatus === controlConfigConstants.ICON_GREEN\\\" class=\\\"alert alert--ok\\\">\\r\\n              {{ getComponentName() + \\\".validationOk\\\" | translate }}\\r\\n            </span>\\r\\n\\r\\n            <span *ngIf=\\\"replenishmentValidationStatus === controlConfigConstants.ICON_RED\\\" class=\\\"alert alert--nok\\\">\\r\\n              {{ getComponentName() + \\\".validationNok\\\" | translate }}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".date\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [showTime]=\\\"true\\\"\\r\\n            [(ngModel)]=\\\"missionEquipment.repleValidationDate\\\"\\r\\n            [disabled]=\\\"true\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!sessionService.isSpecificDassault\\\" class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".user\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"missionEquipment.repleValidationUser\\\" [disabled]=\\\"true\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .data > .form-group:first-of-type {\\n  max-width: 4.5rem; }\\n\\n:host .data > .form-group:nth-of-type(2) {\\n  max-width: 10.5rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9mbGlnaHQvcmVwbGVuaXNobWVudHMtdmFsaWRhdGlvbi9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZmxpZ2h0LW9wZXJhdGlvbnNcXGZsaWdodFxcZm9ybVxcZmxpZ2h0XFxyZXBsZW5pc2htZW50cy12YWxpZGF0aW9uXFxyZXBsZW5pc2htZW50cy12YWxpZGF0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBSVEsaUJBQWlCLEVBQUE7O0FBSnpCO0VBUVEsa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2ZsaWdodC1vcGVyYXRpb25zL2ZsaWdodC9mb3JtL2ZsaWdodC9yZXBsZW5pc2htZW50cy12YWxpZGF0aW9uL3JlcGxlbmlzaG1lbnRzLXZhbGlkYXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgLmRhdGEge1xyXG4gICAgJiA+IC5mb3JtLWdyb3VwIHtcclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDQuNXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMC41cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, ElementRef, Input } from '@angular/core';\r\n\r\nimport { ControlConfigConstants } from '../../../../../../shared/constants/control-config-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../../shared/services/confirmation.service';\r\nimport { MessageService } from '../../../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { FlightFormService } from '../flight-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-flight-replenishments-validation',\r\n  styleUrls: ['./replenishments-validation.component.scss'],\r\n  templateUrl: './replenishments-validation.component.html'\r\n})\r\nexport class ReplenishmentsValidationComponent extends GenericComponent {\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  public replenishmentValidationStatus: ControlConfigConstants | undefined;\r\n\r\n  private _missionEquipment: BidoMissionEquipmentDTO;\r\n\r\n  // Inputs *********************************************************************\r\n\r\n  @Input()\r\n  public componentEltRef: ElementRef;\r\n\r\n  @Input()\r\n  public equipmentCode: string;\r\n\r\n  @Input()\r\n  public missionCode: string;\r\n\r\n  @Input()\r\n  public occurrence: number;\r\n\r\n  @Input()\r\n  public get missionEquipment(): BidoMissionEquipmentDTO {\r\n    return this._missionEquipment;\r\n  }\r\n  public set missionEquipment(value: BidoMissionEquipmentDTO) {\r\n    if (value) {\r\n      this._missionEquipment = value;\r\n      this.onLoad();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set openMode(value: ComponentOpenMode) {\r\n    if (ObjectUtils.isDefined(value)) {\r\n      super.updateOpenMode(value);\r\n    }\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    public sessionService: SessionService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Read);\r\n\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'ReplenishmentsValidationComponent';\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.missionEquipment = {};\r\n    this.replenishmentValidationStatus = undefined;\r\n  }\r\n\r\n  public onLoad(): void {\r\n    this.calculateReplenishmentValidationStatus();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public cancel(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('confirmInvalidation'),\r\n      accept: () => {\r\n        const input: BidoMissionEquipmentDTOId = {\r\n          equipmentCode: this.equipmentCode,\r\n          missionCode: this.missionCode,\r\n          occurrence: this.occurrence\r\n        };\r\n        this.flightFormService.cancelFlightReplenishmentValidation(input).subscribe((result) => {\r\n          if (ObjectUtils.isDefined(result)) {\r\n            this.missionEquipment.repleValidationDate = undefined;\r\n            this.missionEquipment.repleValidationUser = undefined;\r\n            this.replenishmentValidationStatus = ControlConfigConstants.ICON_RED;\r\n\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('successOnInvalidation'));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public validate(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('confirmValidation'),\r\n      accept: () => {\r\n        const input: BidoMissionEquipmentDTOId = {\r\n          equipmentCode: this.equipmentCode,\r\n          missionCode: this.missionCode,\r\n          occurrence: this.occurrence\r\n        };\r\n        this.flightFormService.validateFlightReplenishment(input).subscribe((result) => {\r\n          if (ObjectUtils.isDefined(result)) {\r\n            this.missionEquipment.repleValidationDate = result.repleValidationDate;\r\n            this.missionEquipment.repleValidationUser = result.repleValidationUser;\r\n            this.replenishmentValidationStatus = ControlConfigConstants.ICON_GREEN;\r\n\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('successOnValidation'));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private calculateReplenishmentValidationStatus(): void {\r\n    this.replenishmentValidationStatus = ObjectUtils.isDefined(this.missionEquipment.repleValidationDate)\r\n      ? ControlConfigConstants.ICON_GREEN\r\n      : ControlConfigConstants.ICON_RED;\r\n  }\r\n\r\n  public showValidateReplenishmentButton(): boolean {\r\n    return this.replenishmentValidationStatus === this.controlConfigConstants.ICON_RED;\r\n  }\r\n\r\n  public showCancelReplenishmentButton(): boolean {\r\n    return this.replenishmentValidationStatus === this.controlConfigConstants.ICON_GREEN;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".afterFlightQuantityFromAicraft\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"quantity\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!isValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-line-maintenance-after-flight-quantity',\r\n  templateUrl: './dialog-after-flight-quantity.component.html'\r\n})\r\nexport class DialogAfterFlightQuantityComponent extends DialogComponent {\r\n  @Input()\r\n  public quantity: number | undefined;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<number>;\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Write, 'DialogAfterFlightQuantityComponent');\r\n\r\n    this.init();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return ObjectUtils.isDefined(this.quantity);\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.quantity);\r\n    this.closeDialog();\r\n  }\r\n\r\n  private init(): void {\r\n    this.quantity = undefined;\r\n\r\n    this.onValidated = new EventEmitter<number>();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"40\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ getComponentName() + \\\".hotReplenishment\\\" | translate }}\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".volume\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"measure.hotReplenishmentVolume\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".date\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-calendar\\r\\n                  showButtonBar=\\\"true\\\"\\r\\n                  [monthNavigator]=\\\"true\\\"\\r\\n                  [yearNavigator]=\\\"true\\\"\\r\\n                  [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                  class=\\\"aw-calendar\\\"\\r\\n                  [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                  [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                  [(ngModel)]=\\\"measure.hotReplenishmentDate\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                ></p-calendar>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ getComponentName() + \\\".coldReplenishment\\\" | translate }}\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".volume\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"measure.coldReplenishmentVolume\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".date\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-calendar\\r\\n                  showButtonBar=\\\"true\\\"\\r\\n                  [monthNavigator]=\\\"true\\\"\\r\\n                  [yearNavigator]=\\\"true\\\"\\r\\n                  [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                  class=\\\"aw-calendar\\\"\\r\\n                  [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                  [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                  [(ngModel)]=\\\"measure.coldReplenishmentDate\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                ></p-calendar>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!isValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-line-maintenance-engine-oilreplenishment-measure',\r\n  templateUrl: './dialog-engine-oil-replenishment-measure.component.html'\r\n})\r\nexport class DialogEngineOilReplenishmentMeasureComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public coldReplenishmentDate: Date;\r\n\r\n  @Input()\r\n  public coldReplenishmentVolume: string;\r\n\r\n  @Input()\r\n  public hotReplenishmentDate: Date;\r\n\r\n  @Input()\r\n  public hotReplenishmentVolume: string;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<{\r\n    coldReplenishmentDate?: Date;\r\n    coldReplenishmentVolume?: string;\r\n    hotReplenishmentDate?: Date;\r\n    hotReplenishmentVolume?: string;\r\n  }>;\r\n\r\n  public measure: {\r\n    coldReplenishmentDate?: Date;\r\n    coldReplenishmentVolume?: string;\r\n    hotReplenishmentDate?: Date;\r\n    hotReplenishmentVolume?: string;\r\n  };\r\n\r\n  public constructor(public sessionService: SessionService) {\r\n    super(ComponentOpenMode.Write, 'DialogEngineOilReplenishmentMeasureComponent');\r\n\r\n    this.init();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.measure.coldReplenishmentDate = this.coldReplenishmentDate;\r\n    this.measure.coldReplenishmentVolume = this.coldReplenishmentVolume;\r\n    this.measure.hotReplenishmentDate = this.hotReplenishmentDate;\r\n    this.measure.hotReplenishmentVolume = this.hotReplenishmentVolume;\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return (\r\n      ObjectUtils.isDefined(this.measure.coldReplenishmentDate) ||\r\n      ObjectUtils.isDefined(this.measure.hotReplenishmentDate)\r\n    );\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.measure);\r\n    this.closeDialog();\r\n  }\r\n\r\n  private init(): void {\r\n    this.measure = {};\r\n\r\n    this.onValidated = new EventEmitter<{\r\n      coldReplenishmentDate?: Date;\r\n      coldReplenishmentVolume?: string;\r\n      hotReplenishmentDate?: Date;\r\n      hotReplenishmentVolume?: string;\r\n    }>();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"40\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ getComponentName() + \\\".deltaValue\\\" | translate }}\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".quantity\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"deltaValue.quantity\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".volume\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"deltaValue.volume\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ getComponentName() + \\\".meteredSource\\\" | translate }}\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".quantity\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"meteredSource.quantity\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".volume\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"meteredSource.volume\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ getComponentName() + \\\".context\\\" | translate }}\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".density\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-dropdown\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [options]=\\\"densityList\\\"\\r\\n                  [(ngModel)]=\\\"density\\\"\\r\\n                  [showClear]=\\\"true\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                ></p-dropdown>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group required\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".occurrence\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-dropdown\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [options]=\\\"occurrenceList\\\"\\r\\n                  [(ngModel)]=\\\"occurrence\\\"\\r\\n                  [showClear]=\\\"true\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                ></p-dropdown>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group required\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".date\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-calendar\\r\\n                  showButtonBar=\\\"true\\\"\\r\\n                  [monthNavigator]=\\\"true\\\"\\r\\n                  [yearNavigator]=\\\"true\\\"\\r\\n                  [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                  class=\\\"aw-calendar\\\"\\r\\n                  [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                  [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                  [(ngModel)]=\\\"date\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                ></p-calendar>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group required\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".origin\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-dropdown\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [options]=\\\"originList\\\"\\r\\n                  [(ngModel)]=\\\"origin\\\"\\r\\n                  [showClear]=\\\"true\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                ></p-dropdown>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".batchNumber\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"batchNumber\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!isValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { GenericPropertyConstants } from '../../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../../shared/services/properties.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { NumberUtils } from '../../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { SelectItemUtils } from '../../../../../../shared/utils/select-item-utils';\r\nimport { ReplenishmentMeasure } from '../../../types/replenishment-measure.interface';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-line-maintenance-replenishment-measure',\r\n  templateUrl: './dialog-replenishment-measure.component.html'\r\n})\r\nexport class DialogReplenishmentMeasureComponent extends DialogComponent {\r\n  private static readonly DENSITY_LIST_FIRST_VALUE: number = 0.5;\r\n  private static readonly DENSITY_LIST_LAST_VALUE: number = 1.6;\r\n  private static readonly DENSITY_LIST_STEP: number = 0.1;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<{ deltaValue: ReplenishmentMeasure; meteredSource: ReplenishmentMeasure }>;\r\n\r\n  public date: Date | undefined;\r\n  public deltaValue: ReplenishmentMeasure;\r\n  public density: number | undefined;\r\n  public densityList: SelectItem[];\r\n  public meteredSource: ReplenishmentMeasure;\r\n  public occurrence: string | undefined;\r\n  public occurrenceList: SelectItem[];\r\n  public origin: string | undefined;\r\n  public originList: SelectItem[];\r\n  public batchNumber: string | undefined;\r\n\r\n  public constructor(\r\n    public sessionService: SessionService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogReplenishmentMeasureComponent');\r\n\r\n    this.init();\r\n\r\n    this.loadOccurrenceList();\r\n    this.loadOriginList();\r\n\r\n    this.setDensityList();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return (\r\n      ObjectUtils.isDefined(this.date) && ObjectUtils.isDefined(this.occurrence) && ObjectUtils.isDefined(this.origin)\r\n    );\r\n  }\r\n\r\n  public validate(): void {\r\n    if (!ObjectUtils.isDefined(this.deltaValue.quantity) && !ObjectUtils.isDefined(this.meteredSource.quantity)) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('warningOnMissingQuantity'));\r\n    } else {\r\n      const result = {\r\n        deltaValue: {},\r\n        meteredSource: {}\r\n      };\r\n      if (ObjectUtils.isDefined(this.deltaValue.quantity)) {\r\n        result.deltaValue = {\r\n          date: this.date,\r\n          density: this.density,\r\n          quantity: this.deltaValue.quantity,\r\n          occurrence: this.occurrence,\r\n          origin: this.origin,\r\n          volume: this.deltaValue.volume,\r\n          batchNumber: this.batchNumber\r\n        };\r\n      }\r\n      if (ObjectUtils.isDefined(this.meteredSource.quantity)) {\r\n        result.meteredSource = {\r\n          date: this.date,\r\n          density: this.density,\r\n          quantity: this.meteredSource.quantity,\r\n          occurrence: this.occurrence,\r\n          origin: this.origin,\r\n          volume: this.meteredSource.volume,\r\n          batchNumber: this.batchNumber\r\n        };\r\n      }\r\n\r\n      this.onValidated.emit(result);\r\n      this.closeDialog();\r\n    }\r\n  }\r\n\r\n  private init(): void {\r\n    this.date = undefined;\r\n    this.deltaValue = {};\r\n    this.density = undefined;\r\n    this.meteredSource = {};\r\n    this.occurrence = undefined;\r\n    this.occurrenceList = [];\r\n    this.origin = undefined;\r\n    this.originList = [];\r\n    this.batchNumber = undefined;\r\n\r\n    this.onValidated = new EventEmitter<{ deltaValue: ReplenishmentMeasure; meteredSource: ReplenishmentMeasure }>();\r\n  }\r\n\r\n  private loadOccurrenceList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.RM_OCCURRENCE_MAP).subscribe((results) => {\r\n      this.occurrenceList = results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  private loadOriginList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.RM_ORIGIN_MAP).subscribe((results) => {\r\n      this.originList = results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  private setDensityList(): void {\r\n    const first = DialogReplenishmentMeasureComponent.DENSITY_LIST_FIRST_VALUE;\r\n    const last = DialogReplenishmentMeasureComponent.DENSITY_LIST_LAST_VALUE;\r\n    const step = DialogReplenishmentMeasureComponent.DENSITY_LIST_STEP;\r\n\r\n    this.densityList = [];\r\n    for (let i = first; i < last; i += step) {\r\n      const density = {\r\n        label: NumberUtils.toString(NumberUtils.roundNumber(i, 2)),\r\n        value: i\r\n      };\r\n      this.densityList = [...this.densityList, density];\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <h3 class=\\\"grid-cell-title\\\">\\r\\n      {{ getComponentName() + \\\".engineOil\\\" | translate }}\\r\\n      ({{ table ? table.length : 0 }})\\r\\n    </h3>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <p-table\\r\\n      [resizableColumns]=\\\"true\\\"\\r\\n      #ptable\\r\\n      class=\\\"aw-table2\\\"\\r\\n      [columns]=\\\"tableColList\\\"\\r\\n      [value]=\\\"table\\\"\\r\\n      [(selection)]=\\\"tableSelectedList\\\"\\r\\n      [scrollable]=\\\"true\\\"\\r\\n      dataKey=\\\"designation\\\"\\r\\n    >\\r\\n      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n        <span *ngIf=\\\"!tableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n        <div *ngIf=\\\"tableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n          <div class=\\\"lds-hourglass\\\"></div>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n\\r\\n      <ng-template pTemplate=\\\"caption\\\">\\r\\n        <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': tableSelectedList.length > 0 }\\\">\\r\\n          <div class=\\\"aw-table-global-filter\\\">\\r\\n            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            </label>\\r\\n\\r\\n            <input\\r\\n              class=\\\"aw-table-global-filter-input\\\"\\r\\n              type=\\\"text\\\"\\r\\n              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n              (input)=\\\"ptable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n            />\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"aw-table-actions\\\">\\r\\n            <button\\r\\n              *ngIf=\\\"!tableLoading && tableSelectedList.length === 1\\\"\\r\\n              type=\\\"button\\\"\\r\\n              mat-raised-button\\r\\n              (click)=\\\"editReplenishmentMeasure()\\\"\\r\\n            >\\r\\n              {{ getComponentName() + \\\".editReplenishmentMeasure\\\" | translate }}\\r\\n            </button>\\r\\n\\r\\n            <button\\r\\n              *ngIf=\\\"!tableLoading && table.length > 0 && tableSelectedList.length === 1\\\"\\r\\n              type=\\\"button\\\"\\r\\n              mat-raised-button\\r\\n              (click)=\\\"resetOilConsumption()\\\"\\r\\n            >\\r\\n              {{ getComponentName() + \\\".resetOilConsumption\\\" | translate }}\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n\\r\\n      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n        <colgroup>\\r\\n          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n        </colgroup>\\r\\n      </ng-template>\\r\\n\\r\\n      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n        <tr>\\r\\n          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n          </th>\\r\\n\\r\\n          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n            {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n          </th>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n\\r\\n      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n          </td>\\r\\n\\r\\n          <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n            {{ rowData[col.field] }}\\r\\n          </td>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n    </p-table>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-line-maintenance-engine-oilreplenishment-measure\\r\\n    *ngIf=\\\"dialogEngineOilReplenishmentMeasureVisible\\\"\\r\\n    [(display)]=\\\"dialogEngineOilReplenishmentMeasureVisible\\\"\\r\\n    [coldReplenishmentDate]=\\\"tableSelectedList[0].coldReplenishmentDate\\\"\\r\\n    [coldReplenishmentVolume]=\\\"tableSelectedList[0].coldReplenishmentVolume\\\"\\r\\n    [hotReplenishmentDate]=\\\"tableSelectedList[0].hotReplenishmentDate\\\"\\r\\n    [hotReplenishmentVolume]=\\\"tableSelectedList[0].hotReplenishmentVolume\\\"\\r\\n    (onValidated)=\\\"saveNewReplenishmentMeasure($event)\\\"\\r\\n  ></aw-dialog-line-maintenance-engine-oilreplenishment-measure>\\r\\n</div>\\r\\n\"","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { BidoAttributeConstants } from '../../../../../../shared/constants/bido-attribute-constants';\r\nimport { BidoMissionEquipmentConstants } from '../../../../../../shared/constants/bido-mission-equipment-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DateService } from '../../../../../../shared/services/date.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { CreateReplenishmentByFlightAndEquipmentAndReplenishmentTypeInput } from '../../../../../../shared/types/api-input-types/fleet-business/create-replenishment-by-flight-and-equipment-and-replenishment-type-input.interface';\r\nimport { FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput } from '../../../../../../shared/types/api-input-types/fleet-management/find-replenishment-by-mission-equipment-and-type-and-equipment-code-input.interface';\r\nimport { SaveReplenishmentMeasureListInput } from '../../../../../../shared/types/api-input-types/fleet-management/save-replenishment-measure-list-input.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoFlightAttributeDTO } from '../../../../../../shared/types/api-types/bido-flight-attribute-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoReplenishmentDTOId } from '../../../../../../shared/types/api-types/bido-replenishment-dto-id.interface';\r\nimport { BidoReplenishmentDTO } from '../../../../../../shared/types/api-types/bido-replenishment-dto.interface';\r\nimport { BidoReplenishmentMeasureDTO } from '../../../../../../shared/types/api-types/bido-replenishment-measure-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { NumberUtils } from '../../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { LineMaintenanceFormService } from '../line-maintenance-form.service';\r\n\r\ninterface TableRow {\r\n  coldReplenishmentDate: string;\r\n  coldReplenishmentVolume: string;\r\n  designation: string;\r\n  hotReplenishmentDate: string;\r\n  hotReplenishmentVolume: string;\r\n  oilConsumption: string;\r\n  resetDate: string;\r\n  _replenishmentId: BidoReplenishmentDTOId;\r\n  _coldReplenishmentMeasure: BidoReplenishmentMeasureDTO | undefined;\r\n  _hotReplenishmentMeasure: BidoReplenishmentMeasureDTO | undefined;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-line-maintenance-engine-oil-replenishment',\r\n  templateUrl: './engine-oil-replenishment.component.html'\r\n})\r\nexport class EngineOilReplenishmentComponent extends GenericComponent implements OnInit {\r\n  @Input()\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n\r\n  @Input()\r\n  public missionEquipmentId: BidoMissionEquipmentDTOId;\r\n\r\n  public dialogEngineOilReplenishmentMeasureVisible: boolean;\r\n  public table: TableRow[];\r\n  public tableColList: TableColumn[];\r\n  public tableLoading: boolean;\r\n  public tableSelectedList: TableRow[];\r\n\r\n  private equipmentList: BidoEquipmentDTO[];\r\n  private replenishmentLoadedNb: number;\r\n\r\n  public constructor(\r\n    private readonly dateService: DateService,\r\n    private readonly lineMaintenanceFormService: LineMaintenanceFormService,\r\n    private readonly sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write);\r\n\r\n    this.init();\r\n\r\n    this.setTableColList();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'EngineOilReplenishmentComponent';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.load();\r\n  }\r\n\r\n  public editReplenishmentMeasure(): void {\r\n    this.dialogEngineOilReplenishmentMeasureVisible = true;\r\n  }\r\n\r\n  public reload(): void {\r\n    this.equipmentList = [];\r\n    this.replenishmentLoadedNb = 0;\r\n    this.table = [];\r\n    this.tableLoading = false;\r\n    this.tableSelectedList = [];\r\n\r\n    this.load();\r\n  }\r\n\r\n  public resetOilConsumption(): void {\r\n    const replenishmentId = this.tableSelectedList[0]._replenishmentId;\r\n    if (replenishmentId) {\r\n      this.lineMaintenanceFormService.resetReplenishmentEngineOilConsumption(replenishmentId).subscribe((_) => {\r\n        this.reload();\r\n      });\r\n    }\r\n  }\r\n\r\n  public saveNewReplenishmentMeasure(measure: {\r\n    coldReplenishmentDate?: Date;\r\n    coldReplenishmentVolume?: string;\r\n    hotReplenishmentDate?: Date;\r\n    hotReplenishmentVolume?: string;\r\n  }): void {\r\n    let checkForEngineOilCalculation = false;\r\n    let engineOilReplenishmentMeasureList: BidoReplenishmentMeasureDTO[] = [];\r\n\r\n    if (ObjectUtils.isDefined(measure.hotReplenishmentDate)) {\r\n      const hotReplenishment: BidoReplenishmentMeasureDTO = {\r\n        engineOilReplenishmentType: AWPropertiesConstants.RM_ENGINE_OIL_TYPE_HOT,\r\n        equipmentCode: this.tableSelectedList[0]._replenishmentId.equipmentCode,\r\n        replenishmentId: this.tableSelectedList[0]._replenishmentId.replenishmentId,\r\n        rmDate: measure.hotReplenishmentDate ? new Date(measure.hotReplenishmentDate) : undefined,\r\n        rmId: this.tableSelectedList[0]._hotReplenishmentMeasure\r\n          ? this.tableSelectedList[0]._hotReplenishmentMeasure.rmId\r\n          : undefined,\r\n        rmVolume: measure.hotReplenishmentVolume\r\n      };\r\n      engineOilReplenishmentMeasureList = [...engineOilReplenishmentMeasureList, hotReplenishment];\r\n\r\n      checkForEngineOilCalculation = true;\r\n    }\r\n\r\n    if (ObjectUtils.isDefined(measure.coldReplenishmentDate)) {\r\n      const coldReplenishment: BidoReplenishmentMeasureDTO = {\r\n        engineOilReplenishmentType: AWPropertiesConstants.RM_ENGINE_OIL_TYPE_COLD,\r\n        equipmentCode: this.tableSelectedList[0]._replenishmentId.equipmentCode,\r\n        replenishmentId: this.tableSelectedList[0]._replenishmentId.replenishmentId,\r\n        rmDate: measure.coldReplenishmentDate ? new Date(measure.coldReplenishmentDate) : undefined,\r\n        rmId: this.tableSelectedList[0]._coldReplenishmentMeasure\r\n          ? this.tableSelectedList[0]._coldReplenishmentMeasure.rmId\r\n          : undefined,\r\n        rmVolume: measure.coldReplenishmentVolume\r\n      };\r\n      engineOilReplenishmentMeasureList = [...engineOilReplenishmentMeasureList, coldReplenishment];\r\n    }\r\n\r\n    if (!ListUtils.isEmpty(engineOilReplenishmentMeasureList)) {\r\n      const input: SaveReplenishmentMeasureListInput = {\r\n        replenishmentMeasureList: engineOilReplenishmentMeasureList\r\n      };\r\n      this.lineMaintenanceFormService.saveReplenishmentMeasureList(input).subscribe((_) => {\r\n        if (checkForEngineOilCalculation) {\r\n          this.checkAndCalculateEngineOilConsumption(this.tableSelectedList[0]).subscribe({\r\n            complete: () => {\r\n              this.reload();\r\n            }\r\n          });\r\n        } else {\r\n          this.reload();\r\n        }\r\n      });\r\n    } else {\r\n      this.tableSelectedList = [];\r\n    }\r\n  }\r\n\r\n  private areManualFlightEntries(missionEquipment: BidoMissionEquipmentDTO): boolean {\r\n    let areManualFlightEntries = false;\r\n\r\n    if (ObjectUtils.isDefined(missionEquipment) && ObjectUtils.isDefined(missionEquipment.bidoFlightAttributeDTOList)) {\r\n      for (const flightAttribute of missionEquipment.bidoFlightAttributeDTOList as BidoFlightAttributeDTO[]) {\r\n        areManualFlightEntries =\r\n          flightAttribute.attributeId === BidoAttributeConstants.DAV_MANUAL_FLIGHT_ENTRIES.toString();\r\n      }\r\n    }\r\n\r\n    return areManualFlightEntries;\r\n  }\r\n\r\n  private getHumsStatusValue(missionEquipment: BidoMissionEquipmentDTO): string | undefined {\r\n    let humsStatusValue: string | undefined;\r\n\r\n    if (ObjectUtils.isDefined(missionEquipment) && ObjectUtils.isDefined(missionEquipment.bidoFlightAttributeDTOList)) {\r\n      for (const flightAttribute of missionEquipment.bidoFlightAttributeDTOList as BidoFlightAttributeDTO[]) {\r\n        if (flightAttribute.attributeId === BidoAttributeConstants.DAV_HUMS_STATUS.toString()) {\r\n          humsStatusValue = flightAttribute.attributeValue;\r\n        }\r\n      }\r\n    }\r\n\r\n    return humsStatusValue;\r\n  }\r\n\r\n  private checkAndCalculateEngineOilConsumption(row: TableRow): Observable<BidoReplenishmentDTO | undefined> {\r\n    let launchEngineOilCalculation = false;\r\n    if (this.sessionService.isSpecificDassault) {\r\n      // Only if FSC_Done\r\n      if (\r\n        this.areManualFlightEntries(this.missionEquipment) ||\r\n        this.getHumsStatusValue(this.missionEquipment) === BidoMissionEquipmentConstants.DAV_HUMS_STATUS_FSC_DONE\r\n      ) {\r\n        launchEngineOilCalculation = true;\r\n      }\r\n    } else {\r\n      // Only if validated\r\n      if (this.missionEquipment.statusState === AWPropertiesConstants.FLIGHT_STATUS_VALIDATED) {\r\n        launchEngineOilCalculation = true;\r\n      }\r\n    }\r\n\r\n    return launchEngineOilCalculation\r\n      ? this.lineMaintenanceFormService.calculateReplenishmentEngineOilConsumption(row._replenishmentId)\r\n      : of();\r\n  }\r\n\r\n  private createAndAddDefaultReplenishmentRow(\r\n    equipment: BidoEquipmentDTO,\r\n    replenishmentId: BidoReplenishmentDTOId\r\n  ): void {\r\n    this.lineMaintenanceFormService\r\n      .getEquipmentRepresentation(this.getEquipmentToFormat(equipment))\r\n      .subscribe((equipmentRepresentation) => {\r\n        const replenishmentMeasure: BidoReplenishmentMeasureDTO = {\r\n          equipmentCode: replenishmentId.equipmentCode,\r\n          replenishmentId: replenishmentId.replenishmentId\r\n        };\r\n        const tableRow: TableRow = {\r\n          coldReplenishmentDate: '',\r\n          coldReplenishmentVolume: '',\r\n          hotReplenishmentDate: '',\r\n          hotReplenishmentVolume: '',\r\n          designation: equipmentRepresentation,\r\n          oilConsumption: this.getReplenishmentEngineOilConsumption(replenishmentId),\r\n          resetDate: this.getReplenishmentEngineResetDate(replenishmentId),\r\n          _replenishmentId: replenishmentId,\r\n          _coldReplenishmentMeasure: replenishmentMeasure,\r\n          _hotReplenishmentMeasure: replenishmentMeasure\r\n        };\r\n\r\n        this.table = [...this.table, tableRow];\r\n        this.sortTable();\r\n\r\n        this.tableLoading = ++this.replenishmentLoadedNb < this.equipmentList.length;\r\n      });\r\n  }\r\n\r\n  private createReplenishment(equipment: BidoEquipmentDTO): void {\r\n    const input: CreateReplenishmentByFlightAndEquipmentAndReplenishmentTypeInput = {\r\n      bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n      replenishmentType: AWPropertiesConstants.REPLENISHMENT_TYPE_ENGINE_OIL,\r\n      equipmentCode: equipment.equipmentCode as string\r\n    };\r\n    this.lineMaintenanceFormService\r\n      .createReplenishmentByFlightAndEquipmentAndReplenishmentType(input)\r\n      .subscribe((result) => {\r\n        this.createAndAddDefaultReplenishmentRow(equipment, result);\r\n      });\r\n  }\r\n\r\n  private getEquipmentToFormat(equipment: BidoEquipmentDTO): BidoEquipmentDTO {\r\n    return {\r\n      equipmentCode: equipment.equipmentCode,\r\n      equipmentFunction: equipment.equipmentFunction,\r\n      familyVariantCode: equipment.familyVariantCode,\r\n      pnCode: equipment.pnCode,\r\n      registration: equipment.registration,\r\n      sn: equipment.sn\r\n    };\r\n  }\r\n\r\n  private getReplenishmentEngineOilConsumption(replenishment: BidoReplenishmentDTO): string {\r\n    let oilConsumption = StringUtils.orEmpty(replenishment.oilConsumptionCalculatedQty);\r\n    if (!StringUtils.isEmpty(oilConsumption)) {\r\n      oilConsumption += ` ${StringUtils.orEmpty(replenishment.quantityUnit)}`;\r\n    }\r\n\r\n    return oilConsumption;\r\n  }\r\n\r\n  private getReplenishmentEngineResetDate(replenishment: BidoReplenishmentDTO): string {\r\n    return this.dateService.timestampWithHourToString(replenishment.oilConsumptionReinitDate);\r\n  }\r\n\r\n  private init(): void {\r\n    this.dialogEngineOilReplenishmentMeasureVisible = false;\r\n    this.equipmentList = [];\r\n    this.replenishmentLoadedNb = 0;\r\n    this.table = [];\r\n    this.tableLoading = false;\r\n    this.tableSelectedList = [];\r\n  }\r\n\r\n  private load(): void {\r\n    this.replenishmentLoadedNb = 0;\r\n    this.tableLoading = true;\r\n\r\n    this.lineMaintenanceFormService\r\n      .findEquipmentEngineListByEquipmentCode(this.missionEquipmentId.equipmentCode as string)\r\n      .subscribe((equipmentList) => {\r\n        this.equipmentList = ListUtils.orEmpty(equipmentList).filter((elt) => ObjectUtils.isDefined(elt.equipmentCode));\r\n\r\n        this.tableLoading = this.equipmentList.length > 0;\r\n\r\n        this.equipmentList.forEach((equipment) => {\r\n          const input: FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput = {\r\n            bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n            replenishmentType: AWPropertiesConstants.REPLENISHMENT_TYPE_ENGINE_OIL,\r\n            engineCode: equipment.equipmentCode\r\n          };\r\n          this.lineMaintenanceFormService\r\n            .findReplenishmentByMissionEquipmentAndTypeAndEquipmentCode(input)\r\n            .subscribe((result) => {\r\n              if (ObjectUtils.isDefined(result)) {\r\n                this.loadReplenishmentMeasureList(equipment, result);\r\n              } else {\r\n                this.createReplenishment(equipment);\r\n              }\r\n            });\r\n        });\r\n      });\r\n  }\r\n\r\n  private loadReplenishmentMeasureList(equipment: BidoEquipmentDTO, replenishment: BidoReplenishmentDTO): void {\r\n    const replenishmentId: BidoReplenishmentDTOId = {\r\n      equipmentCode: replenishment.equipmentCode,\r\n      replenishmentId: replenishment.replenishmentId\r\n    };\r\n    this.lineMaintenanceFormService\r\n      .findReplenishmentMeasureListByReplenishmentId(replenishmentId)\r\n      .subscribe((results) => {\r\n        if (ListUtils.isEmpty(results)) {\r\n          this.createAndAddDefaultReplenishmentRow(equipment, replenishmentId);\r\n        } else {\r\n          this.lineMaintenanceFormService\r\n            .getEquipmentRepresentation(this.getEquipmentToFormat(equipment))\r\n            .subscribe((equipmentRepresentation) => {\r\n              const engineOilColdTypeData: BidoReplenishmentMeasureDTO | undefined = results.find(\r\n                (elt) => elt.engineOilReplenishmentType === AWPropertiesConstants.RM_ENGINE_OIL_TYPE_COLD\r\n              );\r\n              const engineOilHotTypeData: BidoReplenishmentMeasureDTO | undefined = results.find(\r\n                (elt) => elt.engineOilReplenishmentType === AWPropertiesConstants.RM_ENGINE_OIL_TYPE_HOT\r\n              );\r\n\r\n              const coldReplenishmentDate = ObjectUtils.isDefined(engineOilColdTypeData)\r\n                ? this.dateService.dateWithHourToString((engineOilColdTypeData as BidoReplenishmentMeasureDTO).rmDate)\r\n                : '';\r\n              const coldReplenishmentVolume = ObjectUtils.isDefined(engineOilColdTypeData)\r\n                ? NumberUtils.roundNumber(\r\n                    Number((engineOilColdTypeData as BidoReplenishmentMeasureDTO).rmVolume),\r\n                    0\r\n                  ).toString()\r\n                : '';\r\n              const hotReplenishmentDate = ObjectUtils.isDefined(engineOilHotTypeData)\r\n                ? this.dateService.dateWithHourToString((engineOilHotTypeData as BidoReplenishmentMeasureDTO).rmDate)\r\n                : '';\r\n              const hotReplenishmentVolume = ObjectUtils.isDefined(engineOilHotTypeData)\r\n                ? NumberUtils.roundNumber(\r\n                    Number((engineOilHotTypeData as BidoReplenishmentMeasureDTO).rmVolume),\r\n                    0\r\n                  ).toString()\r\n                : '';\r\n\r\n              const tableRow: TableRow = {\r\n                coldReplenishmentDate,\r\n                coldReplenishmentVolume,\r\n                hotReplenishmentDate,\r\n                hotReplenishmentVolume,\r\n                designation: equipmentRepresentation,\r\n                oilConsumption: this.getReplenishmentEngineOilConsumption(replenishment),\r\n                resetDate: this.getReplenishmentEngineResetDate(replenishment),\r\n                _replenishmentId: replenishmentId,\r\n                _coldReplenishmentMeasure: engineOilColdTypeData,\r\n                _hotReplenishmentMeasure: engineOilHotTypeData\r\n              };\r\n\r\n              this.table = [...this.table, tableRow];\r\n            });\r\n        }\r\n\r\n        this.tableLoading = ++this.replenishmentLoadedNb < this.equipmentList.length;\r\n        this.sortTable();\r\n      });\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.tableColList = [\r\n      { field: 'designation', alignment: 'left', width: '25%' },\r\n      { field: 'oilConsumption', alignment: 'left', width: '12.5%' },\r\n      { field: 'resetDate', alignment: 'left', width: '12.5%' },\r\n      { field: 'hotReplenishmentVolume', alignment: 'right', width: '12.5%' },\r\n      { field: 'hotReplenishmentDate', alignment: 'left', width: '12.5%' },\r\n      { field: 'coldReplenishmentVolume', alignment: 'right', width: '12.5%' },\r\n      { field: 'coldReplenishmentDate', alignment: 'left', width: '12.5%' }\r\n    ];\r\n  }\r\n\r\n  private sortTable(): void {\r\n    this.table = this.table.sort((e1, e2) => {\r\n      return e1.designation.localeCompare(e2.designation);\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ componentContext }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item [matMenuTriggerFor]=\\\"navigations\\\">{{ \\\"goTo\\\" | translate }}</button>\\r\\n      <button mat-menu-item (click)=\\\"reload()\\\">{{ \\\"global.refresh\\\" | translate }}</button>\\r\\n      <button mat-menu-item *ngIf=\\\"sessionService.isSpecificBRASIDAS\\\" (click)=\\\"generateCrm()\\\">\\r\\n        {{ getComponentName() + \\\".generateCrm\\\" | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n    <mat-menu #navigations=\\\"matMenu\\\">\\r\\n      <button mat-menu-item (click)=\\\"(navigationLinkList[0].command)\\\">\\r\\n        {{ navigationLinkList[0].label | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item (click)=\\\"(navigationLinkList[1].command)\\\">\\r\\n        {{ navigationLinkList[1].label | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item (click)=\\\"(navigationLinkList[2].command)\\\">\\r\\n        {{ navigationLinkList[2].label | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item (click)=\\\"(navigationLinkList[3].command)\\\">\\r\\n        {{ navigationLinkList[3].label | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight [(selectedIndex)]=\\\"tabIndexValue\\\">\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"home\\\" | translate }}\\r\\n        </ng-template>\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--6 grid-cell--no-padding\\\">\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">{{ getComponentName() + \\\".flight\\\" | translate }}</h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".chronoNumber\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"form-control-generic\\\">\\r\\n                              <a (click)=\\\"openFlight(missionEquipment)\\\">\\r\\n                                {{ missionEquipment.missionInstanceCode }}\\r\\n                              </a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".flightType\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"missionEquipmentType\\\" [disabled]=\\\"true\\\" />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".flightStatus\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipmentStatus\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".flightCustomer\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipmentCustomer\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".flightDate\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipmentStartDate\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".flightDuration\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"missionEquipmentDuration\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">{{ getComponentName() + \\\".aircraft\\\" | translate }}</h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"row aircraft-row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".aircraftRegistration\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-generic\\\">\\r\\n                            <a (click)=\\\"openAsset()\\\">{{ equipment.registration }}</a>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".aircraftStatus\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"equipmentStatus\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ labelTsn }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"equipmentTsn\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ labelCsn }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"equipmentCsn\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-cell--6\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                  <div class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".checksSummary\\\" | translate }}\\r\\n                    <div\\r\\n                      *ngIf=\\\"\\r\\n                        modificationTableLoading ||\\r\\n                        roleEquipmentAndOmeTableLoading ||\\r\\n                        taskTableLoading ||\\r\\n                        workPackageTableLoading\\r\\n                      \\\"\\r\\n                      class=\\\"lds-hourglass\\\"\\r\\n                    ></div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div\\r\\n                  *ngIf=\\\"\\r\\n                    summaryTableVisible &&\\r\\n                    !modificationTableLoading &&\\r\\n                    !roleEquipmentAndOmeTableLoading &&\\r\\n                    !taskTableLoading &&\\r\\n                    !workPackageTableLoading\\r\\n                  \\\"\\r\\n                  class=\\\"table-summary-wrapper\\\"\\r\\n                >\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    class=\\\"aw-table-control-summary\\\"\\r\\n                    [columns]=\\\"summaryTableColList\\\"\\r\\n                    [value]=\\\"summaryTable\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th\\r\\n                          pResizableColumn\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <span *ngSwitchCase=\\\"'category'\\\"></span>\\r\\n\\r\\n                          <span *ngSwitchDefault> {{ \\\"table.\\\" + col.field | translate }} </span>\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-columns=\\\"columns\\\" let-rowData>\\r\\n                      <tr>\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <span *ngSwitchCase=\\\"'nok'\\\" class=\\\"control-result\\\" [ngClass]=\\\"{ nok: rowData['nok'] > 0 }\\\">\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngSwitchCase=\\\"'warning'\\\"\\r\\n                            class=\\\"control-result\\\"\\r\\n                            [ngClass]=\\\"{ warning: rowData['nok'] == 0 && rowData['warning'] > 0 }\\\"\\r\\n                          >\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngSwitchCase=\\\"'ok'\\\"\\r\\n                            class=\\\"control-result\\\"\\r\\n                            [ngClass]=\\\"{ ok: rowData['nok'] == 0 && rowData['warning'] == 0 && rowData['ok'] >= 0 }\\\"\\r\\n                          >\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </span>\\r\\n\\r\\n                          <span *ngSwitchCase=\\\"'category'\\\">\\r\\n                            <span\\r\\n                              *ngIf=\\\"rowData[col.field] === component.SUMMARY_TABLE_GLOBAL_LABEL\\\"\\r\\n                              class=\\\"custom-color\\\"\\r\\n                            >\\r\\n                              {{ getComponentName() + \\\".\\\" + rowData[col.field] | translate }}\\r\\n                            </span>\\r\\n                            <a\\r\\n                              (click)=\\\"goToRespectivePanel(rowData[col.field])\\\"\\r\\n                              *ngIf=\\\"rowData[col.field] !== component.SUMMARY_TABLE_GLOBAL_LABEL\\\"\\r\\n                            >\\r\\n                              {{ getComponentName() + \\\".\\\" + rowData[col.field] | translate }}\\r\\n                            </a>\\r\\n                          </span>\\r\\n\\r\\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ getComponentName() + \\\".maintenanceStatus\\\" | translate }}\\r\\n        </ng-template>\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".defectsAndTasksCheck\\\" | translate }} ({{\\r\\n                      taskTable ? taskTable.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableTasks\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"taskTableColList\\\"\\r\\n                  [value]=\\\"taskTable\\\"\\r\\n                  [(selection)]=\\\"taskTableSelectedList\\\"\\r\\n                  dataKey=\\\"_id\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!taskTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"taskTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': taskTableSelectedList.length > 0 }\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableTasks.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"aw-table-actions\\\">\\r\\n                        <button\\r\\n                          *ngIf=\\\"\\r\\n                            !taskTableLoading &&\\r\\n                            taskTableSelectedList.length > 0 &&\\r\\n                            isUpdateTaskApplicationButtonVisible()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"updateTaskApplication()\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".updateTaskApplication\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"!taskTableLoading && addToWorkPackageForTasksCheckButtonVisible()\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          [ngClass]=\\\"{ active: workPackageListToAddVisible }\\\"\\r\\n                          (click)=\\\"opWorkPackageToAddForTasksCheck.toggle($event)\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".addToWP\\\" | translate }} &nbsp;\\r\\n                          <i class=\\\"fa fa-fw fa-chevron-down\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"!taskTableLoading && createWorkPackageForTasksCheckButtonVisible()\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"createWorkPackageForTasksCheck()\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".createWP\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      <col class=\\\"row-expand-wrapper\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableHeaderCheckbox *ngIf=\\\"taskTableSelectAllVisible()\\\" class=\\\"aw-table-checkbox\\\">\\r\\n                        </p-tableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n\\r\\n                      <th class=\\\"row-expand-wrapper\\\"></th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template\\r\\n                    pTemplate=\\\"body\\\"\\r\\n                    let-rowData\\r\\n                    let-expanded=\\\"expanded\\\"\\r\\n                    let-columns=\\\"columns\\\"\\r\\n                    let-rowIndex=\\\"rowIndex\\\"\\r\\n                  >\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableCheckbox\\r\\n                          *ngIf=\\\"taskRowSelectVisible(rowData)\\\"\\r\\n                          class=\\\"aw-table-checkbox\\\"\\r\\n                          [value]=\\\"rowData\\\"\\r\\n                        ></p-tableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                      >\\r\\n                        <span *ngSwitchCase=\\\"'operation'\\\">\\r\\n                          <a (click)=\\\"openOperationRow(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'alert'\\\">\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_GREEN\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--ok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_RED\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--nok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_YELLOW\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--warning\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertWarning\\\" | translate }}\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'wpNumber'\\\">\\r\\n                          <a (click)=\\\"clickWorkPackageLink(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'isDoneByUser'\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                            class=\\\"fa fa-fw fa-check\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                          ></i>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n\\r\\n                      <td class=\\\"row-expand-wrapper\\\" [pRowToggler]=\\\"rowData\\\">\\r\\n                        <i\\r\\n                          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                          [ngClass]=\\\"expanded ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                          tooltipPosition=\\\"top\\\"\\r\\n                          (click)=\\\"toggleTaskTableRowDetailsVisibility(rowData)\\\"\\r\\n                        ></i>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n                    <tr class=\\\"row-expanded\\\">\\r\\n                      <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".dmc\\\" | translate }} </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.dmc\\\" [disabled]=\\\"true\\\" />\\r\\n                            </div>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ getComponentName() + \\\".operationFrequency\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input\\r\\n                                class=\\\"aw-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                [(ngModel)]=\\\"rowData.operationFrequency\\\"\\r\\n                                [disabled]=\\\"true\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ getComponentName() + \\\".operationValidity\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input\\r\\n                                class=\\\"aw-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                [(ngModel)]=\\\"rowData.operationValidity\\\"\\r\\n                                [disabled]=\\\"true\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ \\\"comment\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.comment\\\" [disabled]=\\\"true\\\" />\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".workPackagesCheck\\\" | translate }}\\r\\n                    ({{ workPackageTable ? workPackageTable.length : 0 }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableWorkPackages\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"workPackageTableColList\\\"\\r\\n                  [value]=\\\"workPackageTable\\\"\\r\\n                  [(selection)]=\\\"workPackageTableSelectedList\\\"\\r\\n                  dataKey=\\\"_id\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': taskTableSelectedList.length > 0 }\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableWorkPackages.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                      <div class=\\\"aw-table-actions\\\">\\r\\n                        <p-dropdown [options]=\\\"wpList\\\" [(ngModel)]=\\\"selectedWpForOme\\\"></p-dropdown>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"\\r\\n                            !roleEquipmentAndOmeTableLoading &&\\r\\n                            addToWorkPackageForRoleEquipmentsAndOmeCheckButtonVisible()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          [ngClass]=\\\"{ active: workPackageListToAddVisible }\\\"\\r\\n                          (click)=\\\"opWorkPackageToAddForRoleEquipmentsAndOmeCheck.toggle($event)\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".addToWP\\\" | translate }} &nbsp;\\r\\n                          <i class=\\\"fa fa-fw fa-chevron-down\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"\\r\\n                            !roleEquipmentAndOmeTableLoading &&\\r\\n                            createWorkPackageForRoleEquipmentsAndOmeCheckButtonVisible()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"createWorkPackageForRoleEquipmentsAndOmeCheck()\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".createWP\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!workPackageTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"workPackageTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-treeTableHeaderCheckbox\\r\\n                          *ngIf=\\\"roleEquipmentAndOmeTableSelectAllVisible()\\\"\\r\\n                          class=\\\"aw-table-checkbox\\\"\\r\\n                        ></p-treeTableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th ttResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowNode let-rowData=\\\"rowData\\\" let-columns=\\\"columns\\\">\\r\\n                    <tr>\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-treeTableCheckbox\\r\\n                          *ngIf=\\\"roleEquipmentAndOmeRowSelectVisible(rowData)\\\"\\r\\n                          class=\\\"aw-table-checkbox\\\"\\r\\n                          [value]=\\\"rowNode\\\"\\r\\n                        >\\r\\n                        </p-treeTableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns; let i = index\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        ttEditableColumn\\r\\n                      >\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptableWorkPackages.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button type=\\\"button\\\" mat-raised-button (click)=\\\"removeWorkPackage()\\\">\\r\\n                            {{ getComponentName() + \\\".removeWP\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"\\r\\n                              !workPackageTableLoading &&\\r\\n                              workPackageTableSelectedList.length === 1 &&\\r\\n                              workPackageTableSelectedList[0].assetBreakdownCheck\\r\\n                            \\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"updateAssetBreakdown(workPackageTableSelectedList[0])\\\"\\r\\n                          >\\r\\n                            {{ \\\"updateAssetBreakdown\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"\\r\\n                              !workPackageTableLoading &&\\r\\n                              workPackageTableSelectedList.length === 1 &&\\r\\n                              workPackageTableSelectedList[0].logbookCheck\\r\\n                            \\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"updateLogbook(workPackageTableSelectedList[0])\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".updateLogbook\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                    </tr></ng-template\\r\\n                  >\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      <col class=\\\"row-expand-wrapper\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n\\r\\n                      <th class=\\\"row-expand-wrapper\\\"></th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template\\r\\n                    pTemplate=\\\"body\\\"\\r\\n                    let-rowData\\r\\n                    let-expanded=\\\"expanded\\\"\\r\\n                    let-columns=\\\"columns\\\"\\r\\n                    let-rowIndex=\\\"rowIndex\\\"\\r\\n                  >\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                      >\\r\\n                        <span\\r\\n                          *ngSwitchCase=\\\"'checkResult'\\\"\\r\\n                          pTooltip=\\\"{{ rowData['checkResultTooltip'] }}\\\"\\r\\n                          tooltipPosition=\\\"top\\\"\\r\\n                        >\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_GREEN\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--ok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_RED\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--nok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_YELLOW\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--warning\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertWarning\\\" | translate }}\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'assetBreakdownCheck'\\\">\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_GREEN\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--ok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_RED\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--nok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'logbookCheck'\\\">\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_GREEN\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--ok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_RED\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--nok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'number'\\\">\\r\\n                          <a (click)=\\\"openWorkPackage(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n\\r\\n                      <td class=\\\"row-expand-wrapper\\\" [pRowToggler]=\\\"rowData\\\">\\r\\n                        <i\\r\\n                          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                          [ngClass]=\\\"expanded ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                          tooltipPosition=\\\"top\\\"\\r\\n                          (click)=\\\"toggleWorkPackageTableRowDetailsVisibility(rowData)\\\"\\r\\n                        ></i>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n                    <tr class=\\\"row-expanded\\\">\\r\\n                      <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".mroCenter\\\" | translate }} </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.mroCenter\\\" [disabled]=\\\"true\\\" />\\r\\n                            </div>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ getComponentName() + \\\".customer\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.customer\\\" [disabled]=\\\"true\\\" />\\r\\n                            </div>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ getComponentName() + \\\".assignedTo\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.assignedTo\\\" [disabled]=\\\"true\\\" />\\r\\n                            </div>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ getComponentName() + \\\".dueDate\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.dueDate\\\" [disabled]=\\\"true\\\" />\\r\\n                            </div>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ getComponentName() + \\\".closedBy\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"rowData.closedBy\\\" [disabled]=\\\"true\\\" />\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".modificationsCheck\\\" | translate }}\\r\\n                    ({{ modificationTable ? modificationTable.length : 0 }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableModifications\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"modificationTableColList\\\"\\r\\n                  [value]=\\\"modificationTable\\\"\\r\\n                  [(selection)]=\\\"modificationTableSelectedList\\\"\\r\\n                  dataKey=\\\"evolutionNumber\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!modificationTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"modificationTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div\\r\\n                      class=\\\"aw-table-header\\\"\\r\\n                      [ngClass]=\\\"{ 'rows-selected': modificationTableSelectedList.length > 0 }\\\"\\r\\n                    >\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableModifications.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"aw-table-actions\\\">\\r\\n                        <button\\r\\n                          *ngIf=\\\"!modificationTableLoading && addToWorkPackageForModificationsCheckButtonVisible()\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          [ngClass]=\\\"{ active: workPackageListToAddVisible }\\\"\\r\\n                          (click)=\\\"opWorkPackageToAddForModificationsCheck.toggle($event)\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".addToWP\\\" | translate }} &nbsp;\\r\\n                          <i class=\\\"fa fa-fw fa-chevron-down\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"!modificationTableLoading && createWorkPackageForModificationsCheckButtonVisible()\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"createWorkPackageForModificationsCheck()\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".createWP\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableHeaderCheckbox *ngIf=\\\"modificationTableSelectAllVisible()\\\" class=\\\"aw-table-checkbox\\\">\\r\\n                        </p-tableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template\\r\\n                    pTemplate=\\\"body\\\"\\r\\n                    let-rowData\\r\\n                    let-expanded=\\\"expanded\\\"\\r\\n                    let-columns=\\\"columns\\\"\\r\\n                    let-rowIndex=\\\"rowIndex\\\"\\r\\n                  >\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableCheckbox\\r\\n                          *ngIf=\\\"modificationRowSelectVisible(rowData)\\\"\\r\\n                          class=\\\"aw-table-checkbox\\\"\\r\\n                          [value]=\\\"rowData\\\"\\r\\n                        ></p-tableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                      >\\r\\n                        <span *ngSwitchCase=\\\"'control'\\\">\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_GREEN\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--ok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_RED\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--nok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_YELLOW\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--warning\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertWarning\\\" | translate }}\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'evolutionNumber'\\\">\\r\\n                          <a (click)=\\\"openModification(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'isDeclared'\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                            class=\\\"fa fa-fw fa-check\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                          ></i>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'isEmbodied'\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                            class=\\\"fa fa-fw fa-check\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                          ></i>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'isMandatory'\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                            class=\\\"fa fa-fw fa-check\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                          ></i>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'isRequested'\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                            class=\\\"fa fa-fw fa-check\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                          ></i>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ getComponentName() + \\\".roleEquipmentsAndOmeCheck\\\" | translate }}\\r\\n        </ng-template>\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".roleEquipmentsAndOmeCheck\\\" | translate }}\\r\\n                    ({{ roleEquipmentAndOmeTable ? roleEquipmentAndOmeTable.length : 0 }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <p-treeTable\\r\\n                  #ptableRoleEquipmentsAndOme\\r\\n                  class=\\\"aw-tree-table2\\\"\\r\\n                  [value]=\\\"roleEquipmentAndOmeTable\\\"\\r\\n                  [columns]=\\\"roleEquipmentAndOmeTableColList\\\"\\r\\n                  selectionMode=\\\"checkbox\\\"\\r\\n                  [(selection)]=\\\"roleEquipmentAndOmeTableSelectedList\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                  (onNodeUnselect)=\\\"onSelectOmeRoleEquipmentRow($event.node)\\\"\\r\\n                  (onNodeSelect)=\\\"onUnselectOmeRoleEquipmentRow($event.node)\\\"\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!roleEquipmentAndOmeTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"roleEquipmentAndOmeTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div\\r\\n                      class=\\\"aw-table-header\\\"\\r\\n                      [ngClass]=\\\"{\\r\\n                        'rows-selected': roleEquipmentAndOmeTableSelectedList.length > 0\\r\\n                      }\\\"\\r\\n                    >\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableRoleEquipmentsAndOme.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"aw-table-actions\\\">\\r\\n                        <button\\r\\n                          *ngIf=\\\"canSetupOperationalConfiguration\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"initAndOpenOperationalConfigurationSettling()\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".configurationSettling\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <p-dropdown [options]=\\\"wpList\\\" [(ngModel)]=\\\"selectedWpForOme\\\"></p-dropdown>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"\\r\\n                            !roleEquipmentAndOmeTableLoading &&\\r\\n                            addToWorkPackageForRoleEquipmentsAndOmeCheckButtonVisible()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          [ngClass]=\\\"{ active: workPackageListToAddVisible }\\\"\\r\\n                          (click)=\\\"opWorkPackageToAddForRoleEquipmentsAndOmeCheck.toggle($event)\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".addToWP\\\" | translate }} &nbsp;\\r\\n                          <i class=\\\"fa fa-fw fa-chevron-down\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"\\r\\n                            !roleEquipmentAndOmeTableLoading &&\\r\\n                            createWorkPackageForRoleEquipmentsAndOmeCheckButtonVisible()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"createWorkPackageForRoleEquipmentsAndOmeCheck()\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".createWP\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-treeTableHeaderCheckbox\\r\\n                          *ngIf=\\\"roleEquipmentAndOmeTableSelectAllVisible()\\\"\\r\\n                          class=\\\"aw-table-checkbox\\\"\\r\\n                        ></p-treeTableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th ttResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowNode let-rowData=\\\"rowData\\\" let-columns=\\\"columns\\\">\\r\\n                    <tr>\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-treeTableCheckbox\\r\\n                          *ngIf=\\\"roleEquipmentAndOmeRowSelectVisible(rowData)\\\"\\r\\n                          class=\\\"aw-table-checkbox\\\"\\r\\n                          [value]=\\\"rowNode\\\"\\r\\n                        >\\r\\n                        </p-treeTableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns; let i = index\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        ttEditableColumn\\r\\n                      >\\r\\n                        <p-treeTableToggler [rowNode]=\\\"rowNode\\\" *ngIf=\\\"i == 0\\\"></p-treeTableToggler>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'control'\\\">\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_GREEN\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--ok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_RED\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--nok\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"\\r\\n                              rowData[col.field] !== undefined &&\\r\\n                              rowData[col.field] !== null &&\\r\\n                              rowData[col.field] === controlConfigConstants.ICON_YELLOW\\r\\n                            \\\"\\r\\n                            class=\\\"alert alert--warning\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".alertWarning\\\" | translate }}\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'fl'\\\">\\r\\n                          <a\\r\\n                            pTooltip=\\\"{{ rowData[col.field] }}\\\"\\r\\n                            tooltipPosition=\\\"top\\\"\\r\\n                            (click)=\\\"openFunctionalLocation(rowData)\\\"\\r\\n                            >{{ rowData[col.field] }}</a\\r\\n                          >\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'isRequested'\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\"\\r\\n                            class=\\\"fa fa-fw fa-check\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                          ></i>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'pnCode'\\\">\\r\\n                          <span *ngIf=\\\"rowData._obj.suggestedIssueVisible\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown\\\"\\r\\n                              [options]=\\\"rowData._obj.pnCandidateList\\\"\\r\\n                              optionLabel=\\\"pnCode\\\"\\r\\n                              [(ngModel)]=\\\"rowData._obj.currentPnCode\\\"\\r\\n                              *ngIf=\\\"!isOmeRoleEquipmentSuggestedPnReadOnly(rowData)\\\"\\r\\n                              appendTo=\\\"body\\\"\\r\\n                            ></p-dropdown>\\r\\n\\r\\n                            <span *ngIf=\\\"isOmeRoleEquipmentSuggestedPnReadOnly(rowData)\\\">{{\\r\\n                              rowData._obj.currentPnCode\\r\\n                            }}</span>\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'relatedEquipment'\\\">\\r\\n                          <a (click)=\\\"openEquipment(rowData[col.field])\\\">{{ rowData[col.field] }}</a>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'wpNumber'\\\">\\r\\n                          <span *ngIf=\\\"!!rowData[col.field]\\\">{{ rowData[col.field] }}</span>\\r\\n                          <button\\r\\n                            *ngIf=\\\"!rowData[col.field] && rowData.isRequested\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"addToSelectedWorkPackageForRoleEquipmentsAndOmeCheck(rowData)\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".addToWP\\\" | translate }}\\r\\n                          </button>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchCase=\\\"'suggestedReceipt'\\\">\\r\\n                          <span *ngIf=\\\"rowData._obj.suggestedReceiptVisible\\\">\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </span>\\r\\n                        </span>\\r\\n\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-treeTable>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ getComponentName() + \\\".replenishments\\\" | translate }}\\r\\n        </ng-template>\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <aw-line-maintenance-replenishments\\r\\n                *ngIf=\\\"missionEquipmentId\\\"\\r\\n                [missionEquipmentId]=\\\"missionEquipmentId\\\"\\r\\n                [missionEquipment]=\\\"missionEquipment\\\"\\r\\n                [equipment]=\\\"equipment\\\"\\r\\n              >\\r\\n              </aw-line-maintenance-replenishments>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <aw-line-maintenance-engine-oil-replenishment\\r\\n                *ngIf=\\\"missionEquipmentId\\\"\\r\\n                [missionEquipment]=\\\"missionEquipment\\\"\\r\\n                [missionEquipmentId]=\\\"missionEquipmentId\\\"\\r\\n              >\\r\\n              </aw-line-maintenance-engine-oil-replenishment>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n    </mat-tab-group>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-update-task-application\\r\\n    *ngIf=\\\"updateTaskAppliactionVisible\\\"\\r\\n    [(display)]=\\\"updateTaskAppliactionVisible\\\"\\r\\n    [lastExecutionDateOfPreviousFlight]=\\\"lastExecutionDateOfPreviousFlight\\\"\\r\\n    (onValidated)=\\\"onUpdateTaskApplication($event)\\\"\\r\\n  ></aw-dialog-update-task-application>\\r\\n\\r\\n  <aw-dialog-work-package\\r\\n    *ngIf=\\\"modificationTableWorkPackageCreationVisible\\\"\\r\\n    [(display)]=\\\"modificationTableWorkPackageCreationVisible\\\"\\r\\n    [displayDescription]=\\\"false\\\"\\r\\n    [displayOperation]=\\\"false\\\"\\r\\n    [displayStatus]=\\\"false\\\"\\r\\n    [displayWorkCenter]=\\\"false\\\"\\r\\n    [wpType]=\\\"wpType.GO_NO_GO\\\"\\r\\n    (onValidated)=\\\"onCreateWorkPackageForModificationsCheck($event)\\\"\\r\\n  ></aw-dialog-work-package>\\r\\n\\r\\n  <aw-dialog-work-package\\r\\n    *ngIf=\\\"roleEquipmentAndOmeTableWorkPackageCreationVisible\\\"\\r\\n    [(display)]=\\\"roleEquipmentAndOmeTableWorkPackageCreationVisible\\\"\\r\\n    [displayDescription]=\\\"false\\\"\\r\\n    [displayOperation]=\\\"false\\\"\\r\\n    [displayStatus]=\\\"false\\\"\\r\\n    [displayWorkCenter]=\\\"false\\\"\\r\\n    [wpType]=\\\"wpType.GO_NO_GO\\\"\\r\\n    (onValidated)=\\\"onCreateWorkPackageForRoleEquipmentsAndOmeCheck($event)\\\"\\r\\n  ></aw-dialog-work-package>\\r\\n\\r\\n  <aw-dialog-work-package\\r\\n    *ngIf=\\\"taskTableWorkPackageCreationVisible\\\"\\r\\n    [(display)]=\\\"taskTableWorkPackageCreationVisible\\\"\\r\\n    [displayDescription]=\\\"false\\\"\\r\\n    [displayOperation]=\\\"false\\\"\\r\\n    [displayStatus]=\\\"false\\\"\\r\\n    [displayWorkCenter]=\\\"false\\\"\\r\\n    [wpType]=\\\"wpType.GO_NO_GO\\\"\\r\\n    (onValidated)=\\\"onCreateWorkPackageForTasksCheck($event)\\\"\\r\\n  ></aw-dialog-work-package>\\r\\n\\r\\n  <p-overlayPanel\\r\\n    #opWorkPackageToAddForModificationsCheck\\r\\n    (onShow)=\\\"workPackageListToAddVisible = true\\\"\\r\\n    (onHide)=\\\"workPackageListToAddVisible = false\\\"\\r\\n  >\\r\\n    <aw-work-package-list\\r\\n      [addToVisible]=\\\"true\\\"\\r\\n      [workPackageList]=\\\"workPackageList\\\"\\r\\n      [workPackageStatusList]=\\\"workPackageStatusList\\\"\\r\\n      (onAddTo)=\\\"\\r\\n        opWorkPackageToAddForModificationsCheck.hide();\\r\\n        workPackageListToAddVisible = false;\\r\\n        addToWorkPackageForModificationsCheck($event)\\r\\n      \\\"\\r\\n    >\\r\\n    </aw-work-package-list>\\r\\n  </p-overlayPanel>\\r\\n\\r\\n  <p-overlayPanel\\r\\n    #opWorkPackageToAddForRoleEquipmentsAndOmeCheck\\r\\n    (onShow)=\\\"workPackageListToAddVisible = true\\\"\\r\\n    (onHide)=\\\"workPackageListToAddVisible = false\\\"\\r\\n  >\\r\\n    <aw-work-package-list\\r\\n      [addToVisible]=\\\"true\\\"\\r\\n      [workPackageList]=\\\"workPackageList\\\"\\r\\n      [workPackageStatusList]=\\\"workPackageStatusList\\\"\\r\\n      (onAddTo)=\\\"\\r\\n        opWorkPackageToAddForRoleEquipmentsAndOmeCheck.hide();\\r\\n        workPackageListToAddVisible = false;\\r\\n        addToWorkPackageForRoleEquipmentsAndOmeCheck($event)\\r\\n      \\\"\\r\\n    >\\r\\n    </aw-work-package-list>\\r\\n  </p-overlayPanel>\\r\\n\\r\\n  <p-overlayPanel\\r\\n    #opWorkPackageToAddForTasksCheck\\r\\n    (onShow)=\\\"workPackageListToAddVisible = true\\\"\\r\\n    (onHide)=\\\"workPackageListToAddVisible = false\\\"\\r\\n  >\\r\\n    <aw-work-package-list\\r\\n      [addToVisible]=\\\"true\\\"\\r\\n      [workPackageList]=\\\"workPackageList\\\"\\r\\n      [workPackageStatusList]=\\\"workPackageStatusList\\\"\\r\\n      (onAddTo)=\\\"\\r\\n        opWorkPackageToAddForTasksCheck.hide();\\r\\n        workPackageListToAddVisible = false;\\r\\n        addToWorkPackageForTasksCheck($event)\\r\\n      \\\"\\r\\n    >\\r\\n    </aw-work-package-list>\\r\\n  </p-overlayPanel>\\r\\n</div>\\r\\n\"","module.exports = \":host .aircraft-row > div:nth-of-type(1) {\\n  max-width: 22.5%;\\n  min-width: 22.5%; }\\n\\n:host .aircraft-row > div:nth-of-type(2) {\\n  max-width: 32.5%;\\n  min-width: 32.5%; }\\n\\n:host .aircraft-row > div:nth-of-type(3),\\n:host .aircraft-row > div:nth-of-type(4) {\\n  max-width: 22.5%;\\n  min-width: 22.5%; }\\n\\n:host .table-summary-wrapper {\\n  margin: calc(8px * 2) auto 0 auto;\\n  width: 30rem; }\\n\\n:host .custom-color {\\n  color: #01579b; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9saW5lLW1haW50ZW5hbmNlL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxmbGlnaHQtb3BlcmF0aW9uc1xcZmxpZ2h0XFxmb3JtXFxsaW5lLW1haW50ZW5hbmNlXFxsaW5lLW1haW50ZW5hbmNlLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFHTSxnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBSnRCO0VBT00sZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBOztBQVJ0Qjs7RUFZTSxnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBYnRCO0VBaUJJLGlDQUE4QztFQUM5QyxZQUFZLEVBQUE7O0FBbEJoQjtFQXNCSSxjQUFjLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2ZsaWdodC1vcGVyYXRpb25zL2ZsaWdodC9mb3JtL2xpbmUtbWFpbnRlbmFuY2UvbGluZS1tYWludGVuYW5jZS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5haXJjcmFmdC1yb3cge1xyXG4gICAgJiA+IGRpdjpudGgtb2YtdHlwZSgxKSB7XHJcbiAgICAgIG1heC13aWR0aDogMjIuNSU7XHJcbiAgICAgIG1pbi13aWR0aDogMjIuNSU7XHJcbiAgICB9XHJcbiAgICAmID4gZGl2Om50aC1vZi10eXBlKDIpIHtcclxuICAgICAgbWF4LXdpZHRoOiAzMi41JTtcclxuICAgICAgbWluLXdpZHRoOiAzMi41JTtcclxuICAgIH1cclxuICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMyksXHJcbiAgICAmID4gZGl2Om50aC1vZi10eXBlKDQpIHtcclxuICAgICAgbWF4LXdpZHRoOiAyMi41JTtcclxuICAgICAgbWluLXdpZHRoOiAyMi41JTtcclxuICAgIH1cclxuICB9XHJcbiAgLnRhYmxlLXN1bW1hcnktd3JhcHBlciB7XHJcbiAgICBtYXJnaW46IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDIpIGF1dG8gMCBhdXRvO1xyXG4gICAgd2lkdGg6IDMwcmVtO1xyXG4gIH1cclxuXHJcbiAgLmN1c3RvbS1jb2xvciB7XHJcbiAgICBjb2xvcjogIzAxNTc5YjtcclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, ElementRef, EventEmitter, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as moment from 'moment';\r\nimport { MenuItem, SelectItem, TreeNode } from 'primeng/api';\r\nimport { Observable, forkJoin } from 'rxjs';\r\n\r\nimport { BrasidasCrmFormService } from '../../../../../brasidas/brasidas-crm.service';\r\nimport { PageTocService } from '../../../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { WPType } from '../../../../../shared/components/dialog-work-package/dialog-work-package.component';\r\nimport { AWPropertiesConstants } from '../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../../shared/constants/component-constants';\r\nimport { ControlConfigConstants } from '../../../../../shared/constants/control-config-constants';\r\nimport { GenericPropertyConstants } from '../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../../shared/services/tab.service';\r\nimport { ApplyTaskForFlightInput } from '../../../../../shared/types/api-input-types/airworthiness-management/apply-task-for-flight-input.interface';\r\nimport { ValidateActionsOnModificationsOfFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/validate-actions-on-modifications-of-flight-input.interface';\r\nimport { ValidateActionsOnOmeAndRoleEquipmentsOfFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/validate-actions-on-ome-and-role-equipments-of-flight-input.interface';\r\nimport { ValidateActionsOnTasksOfFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/validate-actions-on-tasks-of-flight-input.interface';\r\nimport { GetOperationalConfigurationSetupInputDTO } from '../../../../../shared/types/api-input-types/operational-configuration-setup/get-operational-configuration-setup-input-dto.interface';\r\nimport { LineMaintenanceModificationDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-modification-dto.interface';\r\nimport { LineMaintenanceOperationDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-operation-dto.interface';\r\nimport { LineMaintenanceRoleEquipmentOmeDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-role-equipment-ome-dto.interface';\r\nimport { LineMaintenanceWorkPackageDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-work-package-dto.interface';\r\nimport { CountOperationalConfigurationSetupOutputDTO } from '../../../../../shared/types/api-output-types/operational-configuration-setup/count-operational-configuration-setup-output-dto.interface';\r\nimport { BidmProjectDTOId } from '../../../../../shared/types/api-types/bidm-project-dto-id.interface';\r\nimport { BidmProjectDTO } from '../../../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidoCustomerDTO } from '../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoFlDTO } from '../../../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoNotificationDTOId } from '../../../../../shared/types/api-types/bido-notification-dto-id.interface';\r\nimport { BireEvolutionDTOId } from '../../../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireEvolutionDTO } from '../../../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireModificationDTOId } from '../../../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireModificationDTO } from '../../../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { BireSbDTOId } from '../../../../../shared/types/api-types/bire-sb-dto-id.interface';\r\nimport { BireSbDTO } from '../../../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { BireTaskDTOId } from '../../../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { AppliedConfigurationManagementInput } from '../../../../../shared/types/component-input-types/maintenance/applied-configuration-management.interface';\r\nimport { FormPageComponent } from '../../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../../shared/types/page-component-data.interface';\r\nimport { SummaryRow } from '../../../../../shared/types/summary-row.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { BireSbUtils } from '../../../../../shared/utils/bire-sb-utils';\r\nimport { FileUtils } from '../../../../../shared/utils/file-utils';\r\nimport { ListUtils } from '../../../../../shared/utils/list-utils';\r\nimport { NumberUtils } from '../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../../shared/utils/string-utils';\r\nimport { AirworthinessControlFormComponentInput } from '../../../../maintenance/airworthiness-control/types/airworthiness-control-form-component-input.interface';\r\nimport { FlightInputData } from '../../types/flight-input-data.interface';\r\n\r\nimport { EngineOilReplenishmentComponent } from './engine-oil-replenishment/engine-oil-replenishment.component';\r\nimport { LineMaintenanceFormService } from './line-maintenance-form.service';\r\nimport { OperationalConfigurationSetupService } from './operational-configuration-settling/operational-configuration-setup.service';\r\nimport { ReplenishmentsComponent } from './replenishments/replenishments.component';\r\n\r\ninterface ModificationRow {\r\n  asset: string;\r\n  complianceStatus: string;\r\n  complianceStatusDate: string;\r\n  control: string;\r\n  evolutionNumber: string;\r\n  isDeclared: boolean;\r\n  isEmbodied: boolean;\r\n  isMandatory: boolean;\r\n  isRequested: boolean;\r\n  wpNumber: string;\r\n  relatedEvolution?: BireEvolutionDTO;\r\n  relatedSb?: BireSbDTO;\r\n  relatedModification?: BireModificationDTO;\r\n}\r\n\r\ninterface RoleEquipmentAndOmeRow {\r\n  control: string;\r\n  fl: string;\r\n  flFunction: string;\r\n  isRequested: boolean;\r\n  relatedEquipment: string;\r\n  suggestedReceipt: string;\r\n  wpNumber: string;\r\n  _obj: LineMaintenanceRoleEquipmentOmeDTO;\r\n}\r\n\r\nenum TabCategory {\r\n  Home = 0,\r\n  MaintenanceStatus = 1,\r\n  RoleEquipmentAndOme = 2,\r\n  Replenishments = 3\r\n}\r\n\r\ninterface TaskRow {\r\n  alert: ControlConfigConstants;\r\n  comment: string;\r\n  dmc: string;\r\n  isDoneByUser: boolean;\r\n  operation: string;\r\n  operationDesignation: string;\r\n  operationFrequency: string;\r\n  operationKind: string;\r\n  operationValidity: string;\r\n  nextTerm: string;\r\n  status: string;\r\n  wpNumber: string;\r\n  _obj: LineMaintenanceOperationDTO;\r\n  _id: string;\r\n  _expand: boolean;\r\n  _lastExecutionDate: Date | undefined;\r\n}\r\n\r\ninterface WorkPackageRow {\r\n  assetBreakdownCheck: string | undefined;\r\n  assignedTo: string;\r\n  checkResult: string;\r\n  checkResultTooltip: string;\r\n  closedBy: string;\r\n  customer: string;\r\n  dueDate: string;\r\n  endDate: string;\r\n  logbookCheck: string | undefined;\r\n  mroCenter: string;\r\n  name: string;\r\n  number: string;\r\n  startDate: string;\r\n  status: string;\r\n  _id: string;\r\n  _expand: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-line-maintenance-form',\r\n  styleUrls: ['./line-maintenance-form.component.scss'],\r\n  templateUrl: './line-maintenance-form.component.html'\r\n})\r\nexport class LineMaintenanceFormComponent extends FormPageComponent<PageComponentData> implements OnDestroy, OnInit {\r\n  public static readonly AIRCRAFT_ANCHOR_ID: string = 'aircraftAnchor';\r\n  public static readonly CHECKS_SUMMARY_ANCHOR_ID: string = 'checksSummaryAnchor';\r\n  public static readonly DEFECTS_AND_TASKS_CHECK_ANCHOR_ID: string = 'defectsAndTasksCheckAnchor';\r\n  public static readonly ENGINE_OIL_REPLENISHMENT_ANCHOR_ID: string = 'engineOilReplenishmentAnchor';\r\n  public static readonly FLIGHT_ANCHOR_ID: string = 'flightAnchor';\r\n  public static readonly MODIFICATIONS_CHECK_ANCHOR_ID: string = 'modificationsCheckAnchor';\r\n  public static readonly REPLENISHMENTS_ANCHOR_ID: string = 'replenishmentsAnchor';\r\n  public static readonly ROLE_EQUIPMENTS_AND_OME_CHECK_ANCHOR_ID: string = 'roleEquipmentsAndOmeCheckAnchor';\r\n  public static readonly WORK_PACKAGES_CHECK_ANCHOR_ID: string = 'workPackagesCheckAnchor';\r\n\r\n  public static readonly SUMMARY_TABLE_DEFECTS_LABEL: string = 'defectsCheck';\r\n  public static readonly SUMMARY_TABLE_GLOBAL_LABEL: string = 'globalCheck';\r\n  public static readonly SUMMARY_TABLE_MODIFICATIONS_LABEL: string = 'modificationsCheck';\r\n  public static readonly SUMMARY_TABLE_ROLE_EQUIPMENTS_OME_LABEL: string = 'roleEquipmentsAndOmeCheck';\r\n  public static readonly SUMMARY_TABLE_TASKS_LABEL: string = 'tasksCheck';\r\n  public static readonly SUMMARY_TABLE_WORK_PACKAGES_LABEL: string = 'workPackagesCheck';\r\n\r\n  private static SUMMARY_TABLE_DEFECTS_INDEX: number;\r\n  private static SUMMARY_TABLE_GLOBAL_INDEX: number;\r\n  private static SUMMARY_TABLE_MODIFICATIONS_INDEX: number;\r\n  private static SUMMARY_TABLE_ROLE_EQUIPMENTS_OME_INDEX: number;\r\n  private static SUMMARY_TABLE_TASKS_INDEX: number;\r\n  private static SUMMARY_TABLE_WORK_PACKAGES_INDEX: number;\r\n\r\n  private static readonly TOC_ROLE_EQUIPMENTS_OME_INDEX: number = 4;\r\n\r\n  @Output() public onValidate: EventEmitter<Event>;\r\n\r\n  @ViewChild(EngineOilReplenishmentComponent)\r\n  public engineOilReplenishmentComponent: EngineOilReplenishmentComponent;\r\n\r\n  @ViewChild(ReplenishmentsComponent)\r\n  public replenishmentsComponent: ReplenishmentsComponent;\r\n\r\n  public readonly component: typeof LineMaintenanceFormComponent;\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n  public readonly wpType: typeof WPType;\r\n\r\n  public componentContext: string;\r\n\r\n  public equipment: BidoEquipmentDTO;\r\n  public equipmentCsn: string;\r\n  public equipmentStatus: string;\r\n  public equipmentTsn: string;\r\n  public labelCsn: string;\r\n  public labelTsn: string;\r\n  public lastExecutionDateOfPreviousFlight: Date | undefined;\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n  public missionEquipmentId: BidoMissionEquipmentDTOId;\r\n  public missionEquipmentCustomer: string;\r\n  public missionEquipmentDuration: string;\r\n  public missionEquipmentStartDate: string;\r\n  public missionEquipmentStatus: string;\r\n  public missionEquipmentType: string;\r\n  public modificationTable: ModificationRow[];\r\n  public modificationTableColList: TableColumn[];\r\n  public modificationTableLoading: boolean;\r\n  public modificationTableSelectedList: ModificationRow[];\r\n  public modificationTableWorkPackageCreationVisible: boolean;\r\n  public replenishmentValidationStatus: ControlConfigConstants | undefined;\r\n  public roleEquipmentAndOmeTable: TreeNode[];\r\n  public roleEquipmentAndOmeTableColList: TableColumn[];\r\n  public roleEquipmentAndOmeTableLoading: boolean;\r\n  public roleEquipmentAndOmeTableSelectedList: TreeNode[];\r\n  public roleEquipmentAndOmeTableWorkPackageCreationVisible: boolean;\r\n  public countOperationalConfigurationSetupOutputDTO?: CountOperationalConfigurationSetupOutputDTO;\r\n  public canSetupOperationalConfiguration: boolean;\r\n  public summaryTable: SummaryRow[];\r\n  public summaryTableColList: TableColumn[];\r\n  public summaryTableVisible: boolean;\r\n  public taskTable: TaskRow[];\r\n  public taskTableColList: TableColumn[];\r\n  public taskTableLoading: boolean;\r\n  public taskTableSelectedList: TaskRow[];\r\n  public taskTableWorkPackageCreationVisible: boolean;\r\n  public updateTaskAppliactionVisible: boolean;\r\n  public workPackageList: BidmProjectDTO[];\r\n  public workPackageListToAddVisible: boolean;\r\n  public workPackageStatusList: LabelValue<string>[];\r\n  public workPackageTable: WorkPackageRow[];\r\n  public workPackageTableColList: TableColumn[];\r\n  public workPackageTableLoading: boolean;\r\n  public workPackageTableSelectedList: WorkPackageRow[];\r\n  public wpList: SelectItem[];\r\n  public selectedWpForOme: BidmProjectDTO | undefined;\r\n\r\n  private atLeastOneOmeOrREElementSelected: boolean;\r\n  private flightCustomerList: BidoCustomerDTO[];\r\n  private flightStatusList: LabelValue<string>[];\r\n  private flightTypeList: LabelValue<string>[];\r\n  private operationalStatusList: LabelValue<string>[];\r\n  private relatedEquipment: BidoEquipmentDTO | undefined;\r\n  private roleEquipmentAndOmeList: LineMaintenanceRoleEquipmentOmeDTO[];\r\n\r\n  public navigationLinkList: MenuItem[];\r\n  public tabIndexValue: number;\r\n\r\n  // Table of content ***********************************************************\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.AIRCRAFT_ANCHOR_ID)\r\n  public aircraftEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.CHECKS_SUMMARY_ANCHOR_ID)\r\n  public checksSummaryEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.DEFECTS_AND_TASKS_CHECK_ANCHOR_ID)\r\n  public defectsAndTasksCheckEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.ENGINE_OIL_REPLENISHMENT_ANCHOR_ID)\r\n  public engineOilReplenishmentEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.FLIGHT_ANCHOR_ID)\r\n  public flightEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.MODIFICATIONS_CHECK_ANCHOR_ID)\r\n  public modificationsCheckEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.ROLE_EQUIPMENTS_AND_OME_CHECK_ANCHOR_ID)\r\n  public roleEquipmentsAndOmeCheckEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.REPLENISHMENTS_ANCHOR_ID)\r\n  public replenishmentsEltRef: ElementRef;\r\n\r\n  @ViewChild(LineMaintenanceFormComponent.WORK_PACKAGES_CHECK_ANCHOR_ID)\r\n  public workPackagesCheckEltRef: ElementRef;\r\n\r\n  public toc: PageTocEntry[];\r\n\r\n  public showGenerateSpinner: boolean;\r\n\r\n  // ****************************************************************************\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    pageTocService: PageTocService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly dateService: DateService,\r\n    private readonly brasidasCrmFormService: BrasidasCrmFormService,\r\n    private readonly lineMaintenanceFormService: LineMaintenanceFormService,\r\n    private readonly operationalConfigurationSetupService: OperationalConfigurationSetupService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n    this.onValidate = new EventEmitter<Event>();\r\n\r\n    this.component = LineMaintenanceFormComponent;\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n    this.wpType = WPType;\r\n\r\n    super.registerPageTocEntryObservable();\r\n\r\n    this.init();\r\n\r\n    this.loadLabelCsn();\r\n    this.loadLabelTsn();\r\n\r\n    this.setModificationTableColList();\r\n    this.setRoleEquipmentAndOmeTableColList();\r\n    this.setSummaryTableColList();\r\n    this.setTaskTableColList();\r\n    this.setWorkPackageTableColList();\r\n    this.setNavigationLinkList();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_LINE_MAINTENANCE_FORM;\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.lineMaintenanceFormService.clearLineMaintenanceCache(this.missionEquipmentId).subscribe();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.updateOpenMode(this.componentData.openMode);\r\n\r\n    if (!this.componentData.objectId) {\r\n      this.messageService.showErrorMessage('global.errorOnNavigate');\r\n    } else {\r\n      this.setTableOfContent();\r\n      this.setSummaryTableIndex();\r\n      this.initSummaryTable();\r\n\r\n      const componentInputData = this.serializationService.deserialize(this.componentData.objectId) as FlightInputData;\r\n      if (componentInputData.equipmentCode && componentInputData.missionCode && componentInputData.occurrence) {\r\n        this.missionEquipmentId = {\r\n          equipmentCode: componentInputData.equipmentCode,\r\n          missionCode: componentInputData.missionCode,\r\n          occurrence: componentInputData.occurrence\r\n        };\r\n\r\n        forkJoin([\r\n          this.loadFlightCustomerList(),\r\n          this.loadFlightStatusList(),\r\n          this.loadFlightTypeList(),\r\n          this.loadOperationalStatusList(),\r\n          this.loadWorkPackageStatusList()\r\n        ]).subscribe(\r\n          ([flightCustomerList, flightStatusList, flightTypeList, operationalStatusList, workPackageStatusList]) => {\r\n            this.flightCustomerList = ListUtils.orEmpty(flightCustomerList);\r\n            this.flightStatusList = ListUtils.orEmpty(flightStatusList);\r\n            this.flightTypeList = ListUtils.orEmpty(flightTypeList);\r\n            this.operationalStatusList = ListUtils.orEmpty(operationalStatusList);\r\n            this.workPackageStatusList = ListUtils.orEmpty(workPackageStatusList);\r\n\r\n            this.loadEquipmentAndMissionEquipment();\r\n            this.loadLineMaintenance();\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  public generateCrm() {\r\n    if (this.sessionService.isSpecificBRASIDAS) {\r\n      const onSuccess = (result) => {\r\n        if (!!result.fileContent && result.fileName) {\r\n          this.downLoadFiles(result.fileContent, result.fileName);\r\n        }\r\n      };\r\n\r\n      const onError = (err) => {\r\n        this.showGenerateSpinner = false;\r\n        this.onValidate.emit();\r\n        if (!!err && !!err.errorDetail) {\r\n          this.messageService.showErrorMessage(err.errorDetail);\r\n        } else {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGeneratingDoc'));\r\n        }\r\n      };\r\n\r\n      this.showGenerateSpinner = true;\r\n\r\n      this.brasidasCrmFormService.generateCrm(this.missionEquipmentId).subscribe(onSuccess, onError);\r\n    }\r\n  }\r\n\r\n  public downLoadFiles(docFile: Uint8Array, docName: string): void {\r\n    FileUtils.downloadFile(docFile, docName);\r\n    this.showGenerateSpinner = false;\r\n    this.onValidate.emit();\r\n  }\r\n\r\n  public addToWorkPackageForModificationsCheck(workPackage: BidmProjectDTO): void {\r\n    if (!!this.relatedEquipment) {\r\n      const input: ValidateActionsOnModificationsOfFlightInput = {\r\n        bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n        relatedEquipment: this.relatedEquipment,\r\n        relatedProject: workPackage,\r\n        evolutionNumberList: this.modificationTableSelectedList.map((task) => task.evolutionNumber)\r\n      };\r\n      this.lineMaintenanceFormService.validateActionsOnModificationsOfFlight(input).subscribe((_) => {\r\n        // Update selected modifications\r\n        this.loadLineMaintenanceWorkPackageList();\r\n\r\n        this.modificationTableSelectedList = [];\r\n      });\r\n    }\r\n  }\r\n\r\n  public addToWorkPackageForRoleEquipmentsAndOmeCheck(workPackage: BidmProjectDTO): void {\r\n    if (!!this.relatedEquipment) {\r\n      const input: ValidateActionsOnOmeAndRoleEquipmentsOfFlightInput = {\r\n        bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n        relatedEquipment: this.relatedEquipment,\r\n        relatedProject: workPackage,\r\n        roleEquipmentAndOmeList: this.roleEquipmentAndOmeList\r\n      };\r\n      this.lineMaintenanceFormService.validateActionsOnOmeAndRoleEquipmentsOfFlight(input).subscribe((_) => {\r\n        // Update selected role equipments and OME\r\n        this.loadLineMaintenanceRoleEquipmentAndOmeList();\r\n\r\n        // Update work packages\r\n        this.loadLineMaintenanceWorkPackageList();\r\n\r\n        this.roleEquipmentAndOmeTableSelectedList = [];\r\n      });\r\n    }\r\n  }\r\n\r\n  public addToWorkPackageForTasksCheck(workPackage: BidmProjectDTO): void {\r\n    if (!!this.relatedEquipment) {\r\n      const input: ValidateActionsOnTasksOfFlightInput = {\r\n        bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n        relatedEquipment: this.relatedEquipment,\r\n        relatedProject: workPackage,\r\n        operationCodeList: this.taskTableSelectedList.map((task) => task.operation)\r\n      };\r\n      this.lineMaintenanceFormService.validateActionsOnTasksOfFlight(input).subscribe((wp) => {\r\n        // Update selected tasks\r\n        this.loadLineMaintenanceTaskList();\r\n\r\n        this.taskTableSelectedList = [];\r\n      });\r\n    }\r\n  }\r\n\r\n  public addToWorkPackageForModificationsCheckButtonVisible(): boolean {\r\n    return (\r\n      this.workPackageList.length > 0 &&\r\n      this.modificationTableSelectedList.length > 0 &&\r\n      this.modificationTableSelectedList.every((elt) => elt.wpNumber.length === 0)\r\n    );\r\n  }\r\n\r\n  public addToSelectedWorkPackageForRoleEquipmentsAndOmeCheck(row): void {\r\n    if (!!row && !!this.selectedWpForOme && !!this.relatedEquipment) {\r\n      if (!row._obj.currentPnCode) {\r\n        if (!!row._obj.pnCandidateList && row._obj.pnCandidateList.length > 0) {\r\n          row._obj.currentPnCode = row._obj.pnCandidateList[0].pnCode;\r\n        }\r\n      } else {\r\n        row._obj.currentPnCode = row._obj.currentPnCode.pnCode;\r\n      }\r\n      const input: ValidateActionsOnOmeAndRoleEquipmentsOfFlightInput = {\r\n        bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n        relatedEquipment: this.relatedEquipment,\r\n        relatedProject: this.selectedWpForOme,\r\n        roleEquipmentAndOmeList: JSON.parse(JSON.stringify(this.roleEquipmentAndOmeList)),\r\n        flCode: row._obj.flCode,\r\n        pnCode: row._obj.currentPnCode,\r\n        wpNumber: this.selectedWpForOme ? this.selectedWpForOme.projectNumber : undefined,\r\n        projectId: this.selectedWpForOme ? this.selectedWpForOme.projectId : undefined\r\n      };\r\n      this.prepareDataForOme(input.roleEquipmentAndOmeList);\r\n      this.lineMaintenanceFormService.validateActionsOnOmeAndRoleEquipmentsOfFlight(input).subscribe((_) => {\r\n        this.reload();\r\n      });\r\n    }\r\n  }\r\n\r\n  private prepareDataForOme(list: LineMaintenanceRoleEquipmentOmeDTO[]): void {\r\n    list.forEach((element: LineMaintenanceRoleEquipmentOmeDTO) => {\r\n      element.pnCandidateList = [];\r\n      element.currentPnCode = '';\r\n      if (!!element.subFlList) {\r\n        this.prepareDataForOme(element.subFlList);\r\n      }\r\n    });\r\n  }\r\n\r\n  public addToWorkPackageForRoleEquipmentsAndOmeCheckButtonVisible(): boolean {\r\n    return (\r\n      this.workPackageList.length > 0 &&\r\n      this.roleEquipmentAndOmeTableSelectedList.length > 0 &&\r\n      this.roleEquipmentAndOmeTableSelectedList.every((elt) => elt.data.wpNumber.length === 0)\r\n    );\r\n  }\r\n\r\n  public addToWorkPackageForTasksCheckButtonVisible(): boolean {\r\n    return (\r\n      this.workPackageList.length > 0 &&\r\n      this.taskTableSelectedList.length > 0 &&\r\n      this.taskTableSelectedList.every((elt) => elt.wpNumber.length === 0)\r\n    );\r\n  }\r\n\r\n  public createWorkPackageForModificationsCheck(): void {\r\n    this.modificationTableWorkPackageCreationVisible = true;\r\n  }\r\n\r\n  public createWorkPackageForModificationsCheckButtonVisible(): boolean {\r\n    return (\r\n      this.modificationTableSelectedList.length > 0 &&\r\n      this.modificationTableSelectedList.every((elt) => elt.wpNumber.length === 0)\r\n    );\r\n  }\r\n\r\n  public createWorkPackageForRoleEquipmentsAndOmeCheck(): void {\r\n    this.roleEquipmentAndOmeTableWorkPackageCreationVisible = true;\r\n  }\r\n\r\n  public createWorkPackageForRoleEquipmentsAndOmeCheckButtonVisible(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public createWorkPackageForTasksCheck(): void {\r\n    this.taskTableWorkPackageCreationVisible = true;\r\n  }\r\n\r\n  public createWorkPackageForTasksCheckButtonVisible(): boolean {\r\n    return (\r\n      this.taskTableSelectedList.length > 0 && this.taskTableSelectedList.every((elt) => elt.wpNumber.length === 0)\r\n    );\r\n  }\r\n\r\n  public isOmeRoleEquipmentSuggestedPnReadOnly(element: RoleEquipmentAndOmeRow): boolean {\r\n    return !StringUtils.isNullOrEmpty(element.wpNumber) || ListUtils.isNullOrEmpty(element._obj.pnCandidateList);\r\n  }\r\n\r\n  public isUpdateTaskApplicationButtonVisible(): boolean {\r\n    return this.taskTableSelectedList.every(\r\n      (row) => !StringUtils.isNullOrEmpty(row._obj.taskCode) && !row.isDoneByUser\r\n    );\r\n  }\r\n\r\n  public modificationRowSelectVisible(row: ModificationRow): boolean {\r\n    return !row.isDeclared && !row.isEmbodied && row.wpNumber.length === 0;\r\n  }\r\n\r\n  public modificationTableSelectAllVisible(): boolean {\r\n    return (\r\n      this.modificationTable.length === 0 ||\r\n      this.modificationTable.some((row) => this.modificationRowSelectVisible(row))\r\n    );\r\n  }\r\n\r\n  public onCreateWorkPackageForModificationsCheck(data: { workPackage: BidmProjectDTO; workcenter: string }): void {\r\n    if (!!this.relatedEquipment) {\r\n      data.workPackage.assetCode = this.relatedEquipment.equipmentCode;\r\n\r\n      this.lineMaintenanceFormService.createBidmProject(data.workPackage).subscribe({\r\n        next: () => {\r\n          const input: ValidateActionsOnModificationsOfFlightInput = {\r\n            bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n            relatedEquipment: this.relatedEquipment as BidoEquipmentDTO,\r\n            relatedProject: data.workPackage,\r\n            evolutionNumberList: this.modificationTableSelectedList.map((task) => task.evolutionNumber)\r\n          };\r\n          this.lineMaintenanceFormService.validateActionsOnModificationsOfFlight(input).subscribe((_) => {\r\n            this.reload();\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public onCreateWorkPackageForRoleEquipmentsAndOmeCheck(data: {\r\n    workPackage: BidmProjectDTO;\r\n    workcenter: string;\r\n  }): void {\r\n    if (!!this.relatedEquipment) {\r\n      data.workPackage.assetCode = this.relatedEquipment.equipmentCode;\r\n      data.workPackage.projectType = AWPropertiesConstants.WP_TYPE_GONOGO;\r\n      data.workPackage.statusState = AWPropertiesConstants.AIRM_PROJECT_STATUS_RELEASED;\r\n\r\n      this.lineMaintenanceFormService.createBidmProject(data.workPackage).subscribe({\r\n        next: () => {\r\n          this.atLeastOneOmeOrREElementSelected = false;\r\n          let everySelectedElementOK = this.roleEquipmentAndOmeTable.length > 0;\r\n\r\n          for (const element of this.roleEquipmentAndOmeTable) {\r\n            if (!this.checkOmeRoleEquipmentElementForUpdate(element.data._obj)) {\r\n              everySelectedElementOK = false;\r\n            }\r\n          }\r\n\r\n          if (this.atLeastOneOmeOrREElementSelected && everySelectedElementOK) {\r\n            this.addToWorkPackageForRoleEquipmentsAndOmeCheck(data.workPackage);\r\n          }\r\n\r\n          this.reload();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public onCreateWorkPackageForTasksCheck(data: { workPackage: BidmProjectDTO; workcenter: string }): void {\r\n    if (!!this.relatedEquipment) {\r\n      data.workPackage.assetCode = this.relatedEquipment.equipmentCode;\r\n\r\n      this.lineMaintenanceFormService.createBidmProject(data.workPackage).subscribe({\r\n        next: () => {\r\n          const input: ValidateActionsOnTasksOfFlightInput = {\r\n            bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n            relatedEquipment: this.relatedEquipment as BidoEquipmentDTO,\r\n            relatedProject: data.workPackage,\r\n            operationCodeList: this.taskTableSelectedList.map((task) => task.operation)\r\n          };\r\n          this.lineMaintenanceFormService.validateActionsOnTasksOfFlight(input).subscribe((_) => {\r\n            this.reload();\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public onSelectOmeRoleEquipmentRow(node: TreeNode): void {\r\n    node.data.isSelected = true;\r\n  }\r\n\r\n  public onUnselectOmeRoleEquipmentRow(node: TreeNode): void {\r\n    node.data.isSelected = false;\r\n  }\r\n\r\n  public onUpdateTaskApplication(data: { comment: string; date: Date }): void {\r\n    this.taskTableSelectedList.forEach((selection) => {\r\n      const input: ApplyTaskForFlightInput = {\r\n        taskId: {\r\n          taskCode: selection._obj.taskCode as string,\r\n          taskVersion: selection._obj.taskVersion as string\r\n        },\r\n        chronoNumber: this.missionEquipment.missionInstanceCode as string,\r\n        comment: data.comment,\r\n        equipmentCode: this.equipment.equipmentCode as string,\r\n        dateTime: data.date\r\n      };\r\n      this.lineMaintenanceFormService.applyTaskForFlight(input).subscribe(() => {\r\n        const selectedRow = this.taskTable.find((row) => row._id === selection._id);\r\n        if (selectedRow) {\r\n          selectedRow.comment = data.comment;\r\n          selectedRow.isDoneByUser = true;\r\n        }\r\n      });\r\n    });\r\n\r\n    this.taskTableSelectedList = [];\r\n  }\r\n\r\n  public openAsset(): void {\r\n    const objectId: BidoEquipmentDTO = {\r\n      equipmentCode: this.equipment.equipmentCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.FLE_AIRCRAFT_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openEquipment(objectId: string | undefined): void {\r\n    // TODO\r\n  }\r\n\r\n  public openFunctionalLocation(row: RoleEquipmentAndOmeRow): void {\r\n    if (!!row._obj) {\r\n      const objectId: BidoFlDTO = {\r\n        flCode: row._obj.flCode\r\n      };\r\n      const openMode = ComponentOpenMode.Read;\r\n      if (row._obj.flIsOpeConf) {\r\n        const data: PageComponentData = {\r\n          id: this.tabService.generateId(),\r\n          componentId: ComponentConstants.ENG_OPERATIONAL_CONFIGURATION_FORM,\r\n          objectId: objectId != undefined ? this.serializationService.serialize(objectId) : undefined,\r\n          openMode\r\n        };\r\n        const labelKey = 'transaction.OperationalConfigurationFormComponent';\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      } else {\r\n        const data: PageComponentData = {\r\n          id: this.tabService.generateId(),\r\n          componentId: 'FunctionalLocationFormComponent',\r\n          objectId: objectId != undefined ? this.serializationService.serialize(objectId) : undefined,\r\n          openMode\r\n        };\r\n        const labelKey = 'transaction.FunctionalLocationFormComponent';\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      }\r\n    }\r\n  }\r\n\r\n  public openModification(object: ModificationRow): void {\r\n    if (!!object) {\r\n      if (!!object.relatedEvolution) {\r\n        if (object.relatedEvolution.evolutionNumber && object.relatedEvolution.evolutionRevisionNumber) {\r\n          const bireEvolutionId: BireEvolutionDTOId = {\r\n            evolutionNumber: object.relatedEvolution.evolutionNumber,\r\n            evolutionRevisionNumber: object.relatedEvolution.evolutionRevisionNumber\r\n          };\r\n          const labelKey = 'transaction.EvolutionFormComponent';\r\n          const data: PageComponentData = {\r\n            id: this.tabService.generateId(),\r\n            componentId: ComponentConstants.ENG_EVOLUTION_FORM,\r\n            objectId: this.serializationService.serialize(bireEvolutionId),\r\n            openMode: ComponentOpenMode.Read\r\n          };\r\n          this.tabService.open(this.tabService.create(data, labelKey, true));\r\n        }\r\n      } else if (!!object.relatedSb) {\r\n        if (object.relatedSb.sbNumber && object.relatedSb.sbRevisionNumber) {\r\n          const bireSbId: BireSbDTOId = {\r\n            sbNumber: object.relatedSb.sbNumber,\r\n            sbRevisionNumber: object.relatedSb.sbRevisionNumber\r\n          };\r\n          if (BireSbUtils.isAD(object.relatedSb)) {\r\n            const labelKey = 'transaction.AirworthinessDirectiveFormComponent';\r\n            const data: PageComponentData = {\r\n              id: this.tabService.generateId(),\r\n              componentId: ComponentConstants.ENG_AIRWORTHINESS_DIRECTIVE_FORM,\r\n              objectId: this.serializationService.serialize(bireSbId),\r\n              openMode: ComponentOpenMode.Read\r\n            };\r\n            this.tabService.open(this.tabService.create(data, labelKey, true));\r\n          } else {\r\n            const labelKey = 'transaction.SbadFormComponent';\r\n            const data: PageComponentData = {\r\n              id: this.tabService.generateId(),\r\n              componentId: ComponentConstants.ENG_SBAD_FORM,\r\n              objectId: this.serializationService.serialize(bireSbId),\r\n              openMode: ComponentOpenMode.Read\r\n            };\r\n            this.tabService.open(this.tabService.create(data, labelKey, true));\r\n          }\r\n        }\r\n      } else if (!!object.relatedModification) {\r\n        const bireModificationDTO: BireModificationDTO = object.relatedModification;\r\n        const labelKey = 'transaction.ModificationFormComponent';\r\n        const bireModificationDTOId: BireModificationDTOId = {\r\n          modificationNumber: bireModificationDTO.modificationNumber,\r\n          modificationRevisionNumber: bireModificationDTO.modificationRevisionNumber,\r\n          modificationType: bireModificationDTO.modificationType,\r\n          familyCode: bireModificationDTO.familyCode,\r\n          structureType: bireModificationDTO.structureType\r\n        };\r\n        const data: PageComponentData = {\r\n          id: this.tabService.generateId(),\r\n          componentId: ComponentConstants.ENG_MODIFICATION_FORM,\r\n          objectId: bireModificationDTOId ? this.serializationService.serialize(bireModificationDTOId) : undefined,\r\n          openMode: ComponentOpenMode.Read\r\n        };\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      }\r\n    }\r\n  }\r\n\r\n  public openOperationRow(row: TaskRow): void {\r\n    if (!StringUtils.isNullOrEmpty(row._obj.taskCode) && !StringUtils.isNullOrEmpty(row._obj.taskVersion)) {\r\n      const taskId: BireTaskDTOId = {\r\n        taskCode: row._obj.taskCode as string,\r\n        taskVersion: row._obj.taskVersion as string\r\n      };\r\n      if (row._obj.taskKind === AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_TASK_KEY) {\r\n        this.openTask(taskId);\r\n      } else {\r\n        this.openVisit(taskId);\r\n      }\r\n    } else if (!StringUtils.isNullOrEmpty(row._obj.notificationCode)) {\r\n      this.openDefect(row._obj.notificationCode as string);\r\n    }\r\n  }\r\n\r\n  public openWorkPackage(wp: WorkPackageRow): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_WORK_PACKAGE_FORM,\r\n      openMode: ComponentOpenMode.Write,\r\n      objectId: this.serializationService.serialize({ wpId: wp._id })\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public reload(): void {\r\n    this.lineMaintenanceFormService.clearLineMaintenanceCache(this.missionEquipmentId).subscribe((_) => {\r\n      this.atLeastOneOmeOrREElementSelected = false;\r\n      this.equipment = {};\r\n      this.equipmentCsn = '';\r\n      this.equipmentStatus = '';\r\n      this.equipmentTsn = '';\r\n      this.missionEquipment = {};\r\n      this.missionEquipmentCustomer = '';\r\n      this.missionEquipmentDuration = '';\r\n      this.missionEquipmentStartDate = '';\r\n      this.missionEquipmentStatus = '';\r\n      this.missionEquipmentType = '';\r\n      this.modificationTable = [];\r\n      this.modificationTableLoading = false;\r\n      this.modificationTableSelectedList = [];\r\n      this.modificationTableWorkPackageCreationVisible = false;\r\n      this.relatedEquipment = undefined;\r\n      this.roleEquipmentAndOmeList = [];\r\n      this.roleEquipmentAndOmeTable = [];\r\n      this.roleEquipmentAndOmeTableLoading = false;\r\n      this.roleEquipmentAndOmeTableSelectedList = [];\r\n      this.roleEquipmentAndOmeTableWorkPackageCreationVisible = false;\r\n      this.taskTable = [];\r\n      this.taskTableLoading = false;\r\n      this.taskTableSelectedList = [];\r\n      this.taskTableWorkPackageCreationVisible = false;\r\n      this.workPackageList = [];\r\n      this.workPackageListToAddVisible = false;\r\n      this.workPackageTable = [];\r\n      this.workPackageTableLoading = false;\r\n      this.workPackageTableSelectedList = [];\r\n\r\n      this.initSummaryTable();\r\n\r\n      this.loadEquipmentAndMissionEquipment();\r\n      this.loadLineMaintenance();\r\n\r\n      this.engineOilReplenishmentComponent.reload();\r\n      this.replenishmentsComponent.reload();\r\n    });\r\n  }\r\n\r\n  public removeWorkPackage(): void {\r\n    const partialKey =\r\n      this.workPackageTableSelectedList.length === 1\r\n        ? 'confirmRemoveElementFromWorkPackage'\r\n        : 'confirmRemoveElementsFromWorkPackage';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialKey),\r\n      accept: () => {\r\n        this.workPackageTableSelectedList.forEach((workPackageSelected) => {\r\n          const input: BidmProjectDTOId = {\r\n            projectId: workPackageSelected._id\r\n          };\r\n          this.lineMaintenanceFormService.removeBidmProject(input).subscribe(() => {\r\n            this.workPackageTable = this.workPackageTable.filter(\r\n              (workPackage) => workPackage._id !== workPackageSelected._id\r\n            );\r\n\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('successOnRemoveFromWP'));\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public roleEquipmentAndOmeRowSelectVisible(row: TreeNode): boolean {\r\n    const rowData = row.data as RoleEquipmentAndOmeRow;\r\n\r\n    if (!rowData) {\r\n      return false;\r\n    } else {\r\n      return rowData._obj.correctiveActionCode === ControlConfigConstants.OME_CHECK_CORRECTIVE_ACTION_SUGGESTED;\r\n    }\r\n  }\r\n\r\n  public roleEquipmentAndOmeTableSelectAllVisible(): boolean {\r\n    return (\r\n      this.roleEquipmentAndOmeTable.length === 0 ||\r\n      this.roleEquipmentAndOmeTable.some((row) => this.roleEquipmentAndOmeRowSelectVisible(row))\r\n    );\r\n  }\r\n\r\n  public taskRowSelectVisible(row: TaskRow): boolean {\r\n    return (\r\n      !row._obj.isFromPreviousFlight &&\r\n      row.wpNumber.length === 0 &&\r\n      StringUtils.isNullOrEmpty(row._obj.lastExecutionUser)\r\n    );\r\n  }\r\n\r\n  public taskTableSelectAllVisible(): boolean {\r\n    return this.taskTable.length === 0 || this.taskTable.some((row) => this.taskRowSelectVisible(row));\r\n  }\r\n\r\n  public toggleTaskTableRowDetailsVisibility(row: TaskRow): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  public toggleWorkPackageTableRowDetailsVisibility(row: WorkPackageRow): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  public updateAssetBreakdown(row: WorkPackageRow): void {\r\n    this.lineMaintenanceFormService.findBidmProject(row._id).subscribe({\r\n      next: (workPackage) => {\r\n        const objectId: AppliedConfigurationManagementInput = {\r\n          equipmentCodeList: StringUtils.isNullOrEmpty(workPackage.assetCode) ? [] : [workPackage.assetCode as string],\r\n          workPackage: workPackage.projectId\r\n        };\r\n\r\n        const data: PageComponentData = {\r\n          id: this.tabService.generateId(),\r\n          openMode: ComponentOpenMode.Read,\r\n          componentId: ComponentConstants.MAI_CONFIGURATION_CONTROL,\r\n          objectId: this.serializationService.serialize(objectId)\r\n        };\r\n        const labelKey = 'transaction.' + data.componentId;\r\n\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      }\r\n    });\r\n  }\r\n\r\n  public updateLogbook(row: WorkPackageRow): void {\r\n    this.lineMaintenanceFormService.findBidmProject(row._id).subscribe({\r\n      next: (workPackage) => {\r\n        const data: PageComponentData = {\r\n          id: this.tabService.generateId(),\r\n          componentId: ComponentConstants.MAI_UPDATE_LOGBOOK_FORM,\r\n          openMode: ComponentOpenMode.Write,\r\n          objectId: this.serializationService.serialize({\r\n            wpId: row._id,\r\n            assetCode: workPackage.assetCode\r\n          })\r\n        };\r\n        const labelKey = 'transaction.' + data.componentId;\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      }\r\n    });\r\n  }\r\n\r\n  public updateTaskApplication(): void {\r\n    this.updateTaskAppliactionVisible = true;\r\n  }\r\n\r\n  private checkOmeRoleEquipmentElementForUpdate(element: LineMaintenanceRoleEquipmentOmeDTO): boolean {\r\n    if (element.isSelected) {\r\n      this.atLeastOneOmeOrREElementSelected = true;\r\n\r\n      if (element.correctiveActionCode === ControlConfigConstants.OME_CHECK_EQUIPMENT_MISSING) {\r\n        if (!ObjectUtils.isDefined(element.pnCandidateList) || StringUtils.isNullOrEmpty(element.currentPnCode)) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!ListUtils.isNullOrEmpty(element.subFlList)) {\r\n      for (const childElement of element.subFlList as LineMaintenanceRoleEquipmentOmeDTO[]) {\r\n        if (!this.checkOmeRoleEquipmentElementForUpdate(childElement)) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public openFlight(missionEquipment: BidoMissionEquipmentDTO): void {\r\n    const missionEquipmentId: FlightInputData = {\r\n      equipmentCode: missionEquipment.equipmentCode,\r\n      missionCode: missionEquipment.missionCode,\r\n      occurrence: missionEquipment.occurrence,\r\n      chronoNumber: missionEquipment.missionInstanceCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_FLIGHT_FORM,\r\n      objectId: this.serializationService.serialize(missionEquipmentId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private createBidmProject(workPackage: LineMaintenanceWorkPackageDTO): BidmProjectDTO {\r\n    const bidmProject: BidmProjectDTO = {\r\n      projectId: workPackage.id,\r\n      projectNumber: workPackage.number,\r\n      projectName: workPackage.name,\r\n      projectStartDate: workPackage.startDate,\r\n      projectEndDate: workPackage.endDate,\r\n      projectDueDate: workPackage.dueDate,\r\n      bidoCustomerCode: workPackage.customer,\r\n      bireRepairCenterCode: workPackage.mroCenter,\r\n      statusState: workPackage.status\r\n    };\r\n\r\n    return bidmProject;\r\n  }\r\n\r\n  private createModificationRow(modification: LineMaintenanceModificationDTO): ModificationRow {\r\n    const modificationRow: ModificationRow = {\r\n      asset: StringUtils.orEmpty(modification.asset),\r\n      complianceStatus: StringUtils.orEmpty(modification.complianceStatus),\r\n      complianceStatusDate: StringUtils.orEmpty(modification.complianceStatusDate),\r\n      control: StringUtils.orEmpty(modification.control),\r\n      evolutionNumber: StringUtils.orEmpty(modification.evolutionNumber),\r\n      isDeclared: ObjectUtils.isDefined(modification.isDeclared) ? (modification.isDeclared as boolean) : false,\r\n      isEmbodied: ObjectUtils.isDefined(modification.isEmbodied) ? (modification.isEmbodied as boolean) : false,\r\n      isMandatory: ObjectUtils.isDefined(modification.isMandatory) ? (modification.isMandatory as boolean) : false,\r\n      isRequested: ObjectUtils.isDefined(modification.isRequested) ? (modification.isRequested as boolean) : false,\r\n      wpNumber: this.formatWorkPackageNumber(modification.wpNumber),\r\n      relatedEvolution: modification.relatedEvolution,\r\n      relatedSb: modification.relatedSb,\r\n      relatedModification: modification.relatedModification\r\n    };\r\n\r\n    return modificationRow;\r\n  }\r\n\r\n  private createRoleEquipmentAndOmeTreeNode(baseElement: LineMaintenanceRoleEquipmentOmeDTO): TreeNode {\r\n    const node: TreeNode = {\r\n      data: this.createRoleEquipmentAndOmeRow(baseElement),\r\n      expanded: true,\r\n      leaf: !baseElement.subFlList || baseElement.subFlList.length === 0,\r\n      children: ListUtils.orEmpty(baseElement.subFlList).map((childElement) =>\r\n        this.createRoleEquipmentAndOmeTreeNode(childElement)\r\n      )\r\n    };\r\n    node.expanded = node.children && node.children.filter((x) => !x.leaf).length > 0;\r\n\r\n    return node;\r\n  }\r\n\r\n  private createRoleEquipmentAndOmeRow(\r\n    roleEquipmentAndOme: LineMaintenanceRoleEquipmentOmeDTO\r\n  ): RoleEquipmentAndOmeRow {\r\n    const isRequested = ObjectUtils.isDefined(roleEquipmentAndOme.isRequested)\r\n      ? (roleEquipmentAndOme.isRequested as boolean)\r\n      : false;\r\n\r\n    const roleEquipmentAndOmeRow: RoleEquipmentAndOmeRow = {\r\n      isRequested,\r\n      control: StringUtils.orEmpty(roleEquipmentAndOme.controlResult),\r\n      fl: StringUtils.orEmpty(roleEquipmentAndOme.flText),\r\n      flFunction: StringUtils.orEmpty(roleEquipmentAndOme.flFunction),\r\n      relatedEquipment: StringUtils.orEmpty(roleEquipmentAndOme.relatedEquipmentText),\r\n      suggestedReceipt: StringUtils.orEmpty(roleEquipmentAndOme.suggestedReceiptText),\r\n      wpNumber: roleEquipmentAndOme.wpNumber ? this.formatWorkPackageNumber(roleEquipmentAndOme.wpNumber) : '',\r\n      _obj: roleEquipmentAndOme\r\n    };\r\n\r\n    return roleEquipmentAndOmeRow;\r\n  }\r\n\r\n  public clickWorkPackageLink(row: TaskRow): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_WORK_PACKAGE_FORM,\r\n      openMode: ComponentOpenMode.Write,\r\n      objectId: this.serializationService.serialize({ wpId: row._obj.projectId })\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private createTaskRow(task: LineMaintenanceOperationDTO, id: number): TaskRow {\r\n    const taskRow: TaskRow = {\r\n      alert: StringUtils.orEmpty(task.controlResult),\r\n      comment: StringUtils.orEmpty(task.comment),\r\n      dmc: StringUtils.orEmpty(task.dmc),\r\n      isDoneByUser: ObjectUtils.isDefined(task.isDoneByUser) && (task.isDoneByUser as boolean),\r\n      operation: StringUtils.orEmpty(task.operation),\r\n      operationDesignation: StringUtils.orEmpty(task.operationDesignation),\r\n      operationFrequency: StringUtils.orEmpty(task.operationFrequency),\r\n      operationKind: StringUtils.orEmpty(task.operationKind),\r\n      operationValidity: this.dateService.dateToString(task.operationValidity),\r\n      nextTerm: StringUtils.orEmpty(task.nextTerm),\r\n      status: StringUtils.orEmpty(task.operationStatus),\r\n      wpNumber: !!task.wpNumber ? this.formatWorkPackageNumber(task.wpNumber) : '',\r\n      _obj: task,\r\n      _id: id.toString(),\r\n      _expand: false,\r\n      _lastExecutionDate: task.lastExecutionDate\r\n    };\r\n\r\n    return taskRow;\r\n  }\r\n\r\n  private createWorkPackageRow(workPackage: LineMaintenanceWorkPackageDTO): WorkPackageRow {\r\n    const workPackageRow: WorkPackageRow = {\r\n      assetBreakdownCheck: workPackage.assetBreakdownCheck,\r\n      assignedTo: StringUtils.orEmpty(workPackage.assignedTo),\r\n      checkResult: StringUtils.orEmpty(workPackage.checkResult),\r\n      checkResultTooltip: StringUtils.orEmpty(workPackage.checkResultTooltip),\r\n      closedBy: StringUtils.orEmpty(workPackage.closedBy),\r\n      customer: StringUtils.orEmpty(workPackage.customer),\r\n      dueDate: this.dateService.dateToString(workPackage.dueDate),\r\n      endDate: this.dateService.dateToString(workPackage.endDate),\r\n      logbookCheck: workPackage.logbookCheck,\r\n      mroCenter: StringUtils.orEmpty(workPackage.mroCenter),\r\n      name: StringUtils.orEmpty(workPackage.name),\r\n      number: NumberUtils.toString(workPackage.number),\r\n      startDate: this.dateService.dateToString(workPackage.startDate),\r\n      status: StringUtils.orEmpty(workPackage.status),\r\n      _id: workPackage.id,\r\n      _expand: false\r\n    };\r\n\r\n    return workPackageRow;\r\n  }\r\n\r\n  private formatWorkPackageNumber(wpNumber: number | undefined): string {\r\n    return ObjectUtils.isDefined(wpNumber) && !StringUtils.isNullOrEmpty((wpNumber as number).toString())\r\n      ? `WP n°${wpNumber}`\r\n      : '';\r\n  }\r\n\r\n  private init(): void {\r\n    this.componentContext = '';\r\n\r\n    this.atLeastOneOmeOrREElementSelected = false;\r\n    this.equipment = {};\r\n    this.equipmentCsn = '';\r\n    this.equipmentStatus = '';\r\n    this.equipmentTsn = '';\r\n    this.flightCustomerList = [];\r\n    this.flightStatusList = [];\r\n    this.flightTypeList = [];\r\n    this.labelCsn = '';\r\n    this.labelTsn = '';\r\n    this.lastExecutionDateOfPreviousFlight = undefined;\r\n    this.missionEquipment = {};\r\n    this.missionEquipmentCustomer = '';\r\n    this.missionEquipmentDuration = '';\r\n    this.missionEquipmentStartDate = '';\r\n    this.missionEquipmentStatus = '';\r\n    this.missionEquipmentType = '';\r\n    this.modificationTable = [];\r\n    this.modificationTableLoading = false;\r\n    this.modificationTableSelectedList = [];\r\n    this.modificationTableWorkPackageCreationVisible = false;\r\n    this.operationalStatusList = [];\r\n    this.relatedEquipment = undefined;\r\n    this.roleEquipmentAndOmeList = [];\r\n    this.roleEquipmentAndOmeTable = [];\r\n    this.roleEquipmentAndOmeTableLoading = false;\r\n    this.roleEquipmentAndOmeTableSelectedList = [];\r\n    this.roleEquipmentAndOmeTableWorkPackageCreationVisible = false;\r\n    this.taskTable = [];\r\n    this.taskTableLoading = false;\r\n    this.taskTableSelectedList = [];\r\n    this.taskTableWorkPackageCreationVisible = false;\r\n    this.workPackageList = [];\r\n    this.workPackageListToAddVisible = false;\r\n    this.workPackageStatusList = [];\r\n    this.workPackageTable = [];\r\n    this.workPackageTableLoading = false;\r\n    this.workPackageTableSelectedList = [];\r\n    this.canSetupOperationalConfiguration = false;\r\n  }\r\n\r\n  private initSummaryTable(): void {\r\n    this.summaryTableVisible = false;\r\n    this.summaryTable = [\r\n      {\r\n        category: LineMaintenanceFormComponent.SUMMARY_TABLE_GLOBAL_LABEL,\r\n        nok: 0,\r\n        ok: 0,\r\n        warning: 0\r\n      },\r\n      {\r\n        category: LineMaintenanceFormComponent.SUMMARY_TABLE_TASKS_LABEL,\r\n        nok: 0,\r\n        ok: 0,\r\n        warning: 0\r\n      },\r\n      {\r\n        category: LineMaintenanceFormComponent.SUMMARY_TABLE_DEFECTS_LABEL,\r\n        nok: 0,\r\n        ok: 0,\r\n        warning: 0\r\n      },\r\n      {\r\n        category: LineMaintenanceFormComponent.SUMMARY_TABLE_MODIFICATIONS_LABEL,\r\n        nok: 0,\r\n        ok: 0,\r\n        warning: 0\r\n      },\r\n      {\r\n        category: LineMaintenanceFormComponent.SUMMARY_TABLE_WORK_PACKAGES_LABEL,\r\n        nok: 0,\r\n        ok: 0,\r\n        warning: 0\r\n      }\r\n    ];\r\n\r\n    const roleEquipmentsAndOmeCheckSummaryRow = {\r\n      category: LineMaintenanceFormComponent.SUMMARY_TABLE_ROLE_EQUIPMENTS_OME_LABEL,\r\n      nok: 0,\r\n      ok: 0,\r\n      warning: 0\r\n    };\r\n    this.summaryTable.splice(\r\n      LineMaintenanceFormComponent.SUMMARY_TABLE_ROLE_EQUIPMENTS_OME_INDEX,\r\n      0,\r\n      roleEquipmentsAndOmeCheckSummaryRow\r\n    );\r\n  }\r\n\r\n  private loadEquipmentAndMissionEquipment(): void {\r\n    const equipmentInput: BidoEquipmentDTOId = {\r\n      equipmentCode: this.missionEquipmentId.equipmentCode\r\n    };\r\n    const missionEquipmentInput: BidoMissionEquipmentDTOId = {\r\n      equipmentCode: this.missionEquipmentId.equipmentCode,\r\n      missionCode: this.missionEquipmentId.missionCode,\r\n      occurrence: this.missionEquipmentId.occurrence\r\n    };\r\n    const observables: Observable<BidoEquipmentDTO | BidoMissionEquipmentDTOId>[] = [\r\n      this.lineMaintenanceFormService.getEquipment(equipmentInput),\r\n      this.lineMaintenanceFormService.getBidoMissionEquipment(missionEquipmentInput)\r\n    ];\r\n    forkJoin(observables).subscribe(([equipment, missionEquipment]) => {\r\n      this.equipment = equipment;\r\n      this.missionEquipment = missionEquipment;\r\n      const flightCustomer = this.flightCustomerList.find(\r\n        (elt) => elt.customerCode === this.missionEquipment.customerCode\r\n      );\r\n      const flightStatus = this.flightStatusList.find((elt) => elt.value === this.missionEquipment.statusState);\r\n      const flightType = this.flightTypeList.find((elt) => elt.value === this.missionEquipment.flightType);\r\n      const operationalStatus = this.operationalStatusList.find(\r\n        (elt) => elt.value === this.equipment.operationalStatus\r\n      );\r\n      this.equipmentStatus = operationalStatus ? operationalStatus.label : '';\r\n      this.missionEquipmentCustomer = flightCustomer ? StringUtils.orEmpty(flightCustomer.customerName) : '';\r\n      this.missionEquipmentDuration = StringUtils.isNullOrEmpty(this.missionEquipment.missionDuration)\r\n        ? ''\r\n        : NumberUtils.roundNumber(Number(this.missionEquipment.missionDuration), 0).toString();\r\n      this.missionEquipmentStartDate = this.dateService.timestampToString(this.missionEquipment.startDate);\r\n      this.missionEquipmentStatus = flightStatus ? flightStatus.label : '';\r\n      this.missionEquipmentType = flightType ? flightType.label : '';\r\n      this.computeCanSetupOperationalConfiguration();\r\n      this.setComponentContext();\r\n    });\r\n  }\r\n\r\n  private loadFlightCustomerList(): Observable<BidoCustomerDTO[]> {\r\n    const input: BidoCustomerDTO = {\r\n      customerType: AWPropertiesConstants.CUSTOMER_TYPE_CUS_KEY\r\n    };\r\n\r\n    return this.lineMaintenanceFormService.findAllBidoCustomerBySearchCriteria(input);\r\n  }\r\n\r\n  private loadFlightStatusList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_STATUS_MAP);\r\n  }\r\n\r\n  private loadFlightTypeList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.EVENT_MISSION_TYPE_MAP);\r\n  }\r\n\r\n  private loadLabelCsn(): void {\r\n    this.lineMaintenanceFormService.getStandardCycleCounterLabel().subscribe((result) => {\r\n      this.labelCsn = StringUtils.orEmpty(result);\r\n    });\r\n  }\r\n\r\n  private loadLabelTsn(): void {\r\n    this.lineMaintenanceFormService.getStandardTimeCounterLabel().subscribe((result) => {\r\n      this.labelTsn = StringUtils.orEmpty(result);\r\n    });\r\n  }\r\n\r\n  private loadLineMaintenance(): void {\r\n    this.modificationTableLoading = true;\r\n    this.taskTableLoading = true;\r\n    this.workPackageTableLoading = true;\r\n    this.summaryTableVisible = true;\r\n    this.roleEquipmentAndOmeTableLoading = true;\r\n\r\n    if (!!this.componentData.objectId) {\r\n      this.lineMaintenanceFormService.initializeLineMaintenance(this.missionEquipmentId).subscribe((_) => {\r\n        this.lineMaintenanceFormService.loadLineMaintenance(this.missionEquipmentId).subscribe((lineMaintenance) => {\r\n          this.equipmentCsn = lineMaintenance.assetCSN;\r\n          this.equipmentTsn = lineMaintenance.assetTSN;\r\n          this.relatedEquipment = lineMaintenance.equipmentDTO;\r\n        });\r\n\r\n        this.loadLineMaintenanceModificationList();\r\n        this.loadLineMaintenanceTaskList();\r\n        this.loadLineMaintenanceWorkPackageList();\r\n        this.loadLineMaintenanceRoleEquipmentAndOmeList();\r\n        this.countOperationalConfigurationSetup();\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadLineMaintenanceModificationList(): void {\r\n    this.lineMaintenanceFormService\r\n      .loadLineMaintenanceModificationList(this.missionEquipmentId)\r\n      .subscribe((lineMaintenanceModificationDTOList) => {\r\n        this.modificationTable = ListUtils.orEmpty(lineMaintenanceModificationDTOList).map((modification) =>\r\n          this.createModificationRow(modification)\r\n        );\r\n\r\n        this.updateSummaryTableModificationList();\r\n        this.updateSummaryTable();\r\n\r\n        this.modificationTableLoading = false;\r\n      });\r\n  }\r\n\r\n  private loadLineMaintenanceRoleEquipmentAndOmeList(): void {\r\n    this.lineMaintenanceFormService\r\n      .loadLineMaintenanceRoleEquipmentOmeList(this.missionEquipmentId)\r\n      .subscribe((lineMaintenanceRoleEquipmentAndOmeDTOList) => {\r\n        this.roleEquipmentAndOmeList = ListUtils.orEmpty(lineMaintenanceRoleEquipmentAndOmeDTOList).filter((elt) =>\r\n          ObjectUtils.isDefined(elt)\r\n        );\r\n        this.roleEquipmentAndOmeTable = this.roleEquipmentAndOmeList.map((roleEquipmentAndOme) =>\r\n          this.createRoleEquipmentAndOmeTreeNode(roleEquipmentAndOme)\r\n        );\r\n\r\n        this.updateSummaryTableRoleEquipmentAndOmeList();\r\n        this.updateSummaryTable();\r\n\r\n        this.roleEquipmentAndOmeTableLoading = false;\r\n      });\r\n  }\r\n\r\n  private loadLineMaintenanceTaskList(): void {\r\n    this.lineMaintenanceFormService\r\n      .loadLineMaintenanceOperationList(this.missionEquipmentId)\r\n      .subscribe((lineMaintenanceOperationDTOList) => {\r\n        this.taskTable = ListUtils.orEmpty(lineMaintenanceOperationDTOList).map((task, i) =>\r\n          this.createTaskRow(task, i)\r\n        );\r\n\r\n        this.setLastExecutionDateOfPreviousFlight();\r\n        this.updateSummaryTableDefectList();\r\n        this.updateSummaryTableTaskList();\r\n        this.updateSummaryTable();\r\n\r\n        this.taskTableLoading = false;\r\n      });\r\n  }\r\n\r\n  private loadLineMaintenanceWorkPackageList(): void {\r\n    this.lineMaintenanceFormService\r\n      .loadLineMaintenanceWorkPackageList(this.missionEquipmentId)\r\n      .subscribe((lineMaintenanceWorkPackageDTOList) => {\r\n        const list = ListUtils.orEmpty(lineMaintenanceWorkPackageDTOList);\r\n        this.workPackageList = list.map((workPackage) => this.createBidmProject(workPackage));\r\n        this.workPackageTable = list.map((workPackage) => this.createWorkPackageRow(workPackage));\r\n\r\n        this.updateSummaryTableWorkPackageList();\r\n        this.updateSummaryTable();\r\n\r\n        this.workPackageTableLoading = false;\r\n        this.wpList = [];\r\n        this.selectedWpForOme = undefined;\r\n        list.forEach((elem: LineMaintenanceWorkPackageDTO) => {\r\n          this.wpList.push({\r\n            label: this.buildWpNameForRoleEquipmentAndOme(elem),\r\n            value: this.createBidmProject(elem)\r\n          });\r\n        });\r\n        if (list.length > 0) {\r\n          this.selectedWpForOme = this.wpList[0].value;\r\n        }\r\n      });\r\n  }\r\n\r\n  private buildWpNameForRoleEquipmentAndOme(wp: LineMaintenanceWorkPackageDTO): string {\r\n    let toReturn = `WP n° ${wp.number} `;\r\n    if (!!wp.status) {\r\n      toReturn += '(' + wp.status;\r\n      toReturn += !!wp.startDate ? `, ${this.dateService.dateWithHourToStringWithoutHour(wp.startDate)})` : `)`;\r\n    }\r\n\r\n    return toReturn;\r\n  }\r\n\r\n  private loadOperationalStatusList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.OPERATIONAL_STATUS_MAP);\r\n  }\r\n\r\n  private loadWorkPackageStatusList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.AIRM_PROJECT_STATUS_MAP);\r\n  }\r\n\r\n  private openDefect(notificationCode: string): void {\r\n    const defectId: BidoNotificationDTOId = {\r\n      notificationCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLE_DEFECT_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize(defectId)\r\n    };\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openTask(taskId: BireTaskDTOId): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.ENG_TASK_FORM,\r\n      objectId: this.serializationService.serialize(taskId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openVisit(taskId: BireTaskDTOId): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.ENG_VISIT_FORM,\r\n      objectId: this.serializationService.serialize(taskId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private resetSummaryTableRow(index: number): void {\r\n    this.summaryTable[index].nok = 0;\r\n    this.summaryTable[index].ok = 0;\r\n    this.summaryTable[index].warning = 0;\r\n  }\r\n\r\n  private setComponentContext(): void {\r\n    const aircraftKey = this.getTranslateKey('aircraft');\r\n    const flightKey = this.getTranslateKey('flight');\r\n    this.translateService.get([aircraftKey, flightKey]).subscribe(([aircraftLabel, flightLabel]) => {\r\n      const equipmentRegistration = StringUtils.orEmpty(this.equipment.registration);\r\n      const missionEquipmentCode = StringUtils.orEmpty(this.missionEquipment.missionInstanceCode);\r\n      this.componentContext =\r\n        ((flightLabel as string) || 'Flight') +\r\n        ' ' +\r\n        missionEquipmentCode +\r\n        ' / ' +\r\n        ((aircraftLabel as string) || 'Aircraft') +\r\n        ' ' +\r\n        equipmentRegistration;\r\n\r\n      this.displayComponentContext(missionEquipmentCode + ' / ' + equipmentRegistration, false);\r\n    });\r\n  }\r\n\r\n  private setLastExecutionDateOfPreviousFlight(): void {\r\n    this.lastExecutionDateOfPreviousFlight = undefined;\r\n    this.taskTable.forEach((row) => {\r\n      if (ObjectUtils.isDefined(row._lastExecutionDate)) {\r\n        if (\r\n          !ObjectUtils.isDefined(this.lastExecutionDateOfPreviousFlight) ||\r\n          moment(row._lastExecutionDate).isAfter(moment(this.lastExecutionDateOfPreviousFlight))\r\n        ) {\r\n          this.lastExecutionDateOfPreviousFlight = row._lastExecutionDate;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private setTableOfContent(): void {\r\n    const aircraftKey = this.getTranslateKey('aircraft');\r\n    const checksSummaryKey = this.getTranslateKey('checksSummary');\r\n    const defectsAndTasksCheckKey = this.getTranslateKey('defectsAndTasksCheck');\r\n    const engineOilReplenishmentKey = this.getTranslateKey('engineOilReplenishment');\r\n    const flightKey = this.getTranslateKey('flight');\r\n    const modificationsCheckKey = this.getTranslateKey('modificationsCheck');\r\n    const replenishmentsKey = this.getTranslateKey('replenishments');\r\n    const roleEquipmentsAndOmeCheckKey = this.getTranslateKey('roleEquipmentsAndOmeCheck');\r\n    const workPackagesCheckKey = this.getTranslateKey('workPackagesCheck');\r\n    this.translateService\r\n      .get([\r\n        aircraftKey,\r\n        checksSummaryKey,\r\n        defectsAndTasksCheckKey,\r\n        engineOilReplenishmentKey,\r\n        flightKey,\r\n        modificationsCheckKey,\r\n        replenishmentsKey,\r\n        roleEquipmentsAndOmeCheckKey,\r\n        workPackagesCheckKey\r\n      ])\r\n      .subscribe((results: string[]) => {\r\n        const aircraftLabel = !!results ? results[aircraftKey] : 'Aircraft';\r\n        const checksSummaryLabel = !!results ? results[checksSummaryKey] : 'Summary';\r\n        const defectsAndTasksCheckLabel = !!results ? results[defectsAndTasksCheckKey] : 'Defects & Tasks';\r\n        const engineOilReplenishmentLabel = !!results ? results[engineOilReplenishmentKey] : 'Engine Oil Replenishment';\r\n        const flightLabel = !!results ? results[flightKey] : 'Flight';\r\n        const modificationsCheckLabel = !!results ? results[modificationsCheckKey] : 'Modifications';\r\n        const replenishmentsLabel = !!results ? results[replenishmentsKey] : 'Replenishments';\r\n        const workPackagesCheckLabel = !!results ? results[workPackagesCheckKey] : 'Work Packages';\r\n\r\n        this.toc = [\r\n          {\r\n            id: 'flightAnchor',\r\n            anchor: this.flightEltRef,\r\n            label: flightLabel\r\n          },\r\n          {\r\n            id: 'aircraftAnchor',\r\n            anchor: this.aircraftEltRef,\r\n            label: aircraftLabel\r\n          },\r\n          {\r\n            id: 'checksSummaryAnchor',\r\n            anchor: this.checksSummaryEltRef,\r\n            label: checksSummaryLabel\r\n          },\r\n          {\r\n            id: 'defectsAndTasksCheckAnchor',\r\n            anchor: this.defectsAndTasksCheckEltRef,\r\n            label: defectsAndTasksCheckLabel\r\n          },\r\n          {\r\n            id: 'modificationsCheckAnchor',\r\n            anchor: this.modificationsCheckEltRef,\r\n            label: modificationsCheckLabel\r\n          },\r\n          {\r\n            id: 'workPackagesCheckAnchor',\r\n            anchor: this.workPackagesCheckEltRef,\r\n            label: workPackagesCheckLabel\r\n          },\r\n          {\r\n            id: 'replenishmentsAnchor',\r\n            anchor: this.replenishmentsEltRef,\r\n            label: replenishmentsLabel\r\n          },\r\n          {\r\n            id: 'engineOilReplenishmentAnchor',\r\n            anchor: this.engineOilReplenishmentEltRef,\r\n            label: engineOilReplenishmentLabel\r\n          }\r\n        ];\r\n\r\n        super.selectPageTocEntry(this.component.FLIGHT_ANCHOR_ID);\r\n\r\n        const roleEquipmentsAndOmeCheckLabel = !!results\r\n          ? results[roleEquipmentsAndOmeCheckKey]\r\n          : 'Role Equipments & OME';\r\n        const roleEquipmentsAndOmeCheckTocEntry = {\r\n          id: 'roleEquipmentsAndOmeCheckAnchor',\r\n          anchor: this.roleEquipmentsAndOmeCheckEltRef,\r\n          label: roleEquipmentsAndOmeCheckLabel\r\n        };\r\n        this.toc.splice(\r\n          LineMaintenanceFormComponent.TOC_ROLE_EQUIPMENTS_OME_INDEX,\r\n          0,\r\n          roleEquipmentsAndOmeCheckTocEntry\r\n        );\r\n      });\r\n  }\r\n\r\n  private setModificationTableColList(): void {\r\n    this.modificationTableColList = [\r\n      { field: 'evolutionNumber', alignment: 'left', width: '9%' },\r\n      { field: 'asset', alignment: 'left', width: '21.5%' },\r\n      { field: 'complianceStatus', alignment: 'left', width: '12%' },\r\n      { field: 'complianceStatusDate', alignment: 'left', width: '13%' },\r\n      { field: 'isDeclared', alignment: 'center', width: '7%' },\r\n      { field: 'isEmbodied', alignment: 'center', width: '7%' },\r\n      { field: 'isRequested', alignment: 'center', width: '7%' },\r\n      { field: 'isMandatory', alignment: 'center', width: '7%' },\r\n      { field: 'control', alignment: 'center', width: '7.5%' },\r\n      { field: 'wpNumber', alignment: 'left', width: '9%' }\r\n    ];\r\n  }\r\n\r\n  private setRoleEquipmentAndOmeTableColList(): void {\r\n    this.roleEquipmentAndOmeTableColList = [\r\n      { field: 'fl', alignment: 'left', width: '10%' },\r\n      { field: 'flFunction', alignment: 'center', width: '10%' },\r\n      { field: 'relatedEquipment', alignment: 'center', width: '22.5%' },\r\n      { field: 'isRequested', alignment: 'center', width: '10%' },\r\n      { field: 'control', alignment: 'left', width: '7.5%' },\r\n      { field: 'suggestedReceipt', alignment: 'center', width: '5%' },\r\n      { field: 'pnCode', alignment: 'center', width: '25%' },\r\n      { field: 'wpNumber', alignment: 'center', width: '10%' }\r\n    ];\r\n  }\r\n\r\n  private setSummaryTableColList(): void {\r\n    this.summaryTableColList = [\r\n      { field: 'category', alignment: 'left', width: '40%' },\r\n      { field: 'ok', alignment: 'center', width: '20%' },\r\n      { field: 'warning', alignment: 'center', width: '20%' },\r\n      { field: 'nok', alignment: 'center', width: '20%' }\r\n    ];\r\n  }\r\n\r\n  private setSummaryTableIndex(): void {\r\n    const defectsIndex = 2;\r\n    const globalIndex = 0;\r\n    const modificationsIndex = 4;\r\n    const roleEquipmentsOmeIndex = 3;\r\n    const tasksIndex = 1;\r\n    const workPackagesIndex = 5;\r\n    LineMaintenanceFormComponent.SUMMARY_TABLE_DEFECTS_INDEX = defectsIndex;\r\n    LineMaintenanceFormComponent.SUMMARY_TABLE_GLOBAL_INDEX = globalIndex;\r\n    LineMaintenanceFormComponent.SUMMARY_TABLE_MODIFICATIONS_INDEX = modificationsIndex;\r\n    LineMaintenanceFormComponent.SUMMARY_TABLE_ROLE_EQUIPMENTS_OME_INDEX = roleEquipmentsOmeIndex;\r\n    LineMaintenanceFormComponent.SUMMARY_TABLE_TASKS_INDEX = tasksIndex;\r\n    LineMaintenanceFormComponent.SUMMARY_TABLE_WORK_PACKAGES_INDEX = workPackagesIndex;\r\n  }\r\n\r\n  private setTaskTableColList(): void {\r\n    this.taskTableColList = [\r\n      { field: 'operation', alignment: 'left', width: '21%' },\r\n      { field: 'operationDesignation', alignment: 'left', width: '31.5%' },\r\n      { field: 'alert', alignment: 'center', width: '7.5%' },\r\n      { field: 'status', alignment: 'left', width: '12.5%' },\r\n      { field: 'nextTerm', alignment: 'left', width: '12.5%' },\r\n      { field: 'wpNumber', alignment: 'left', width: '9%' },\r\n      { field: 'isDoneByUser', alignment: 'center', width: '6%' }\r\n    ];\r\n  }\r\n\r\n  private setWorkPackageTableColList(): void {\r\n    this.workPackageTableColList = [\r\n      { field: 'number', alignment: 'left', width: '10%' },\r\n      { field: 'name', alignment: 'left', width: '30%' },\r\n      { field: 'startDate', alignment: 'left', width: '10%' },\r\n      { field: 'endDate', alignment: 'left', width: '10%' },\r\n      { field: 'status', alignment: 'left', width: '10%' },\r\n      { field: 'checkResult', alignment: 'center', width: '10%' },\r\n      { field: 'assetBreakdownCheck', alignment: 'center', width: '10%' },\r\n      { field: 'logbookCheck', alignment: 'center', width: '10%' }\r\n    ];\r\n  }\r\n\r\n  private updateSummaryTable(): void {\r\n    this.summaryTable = [...this.summaryTable];\r\n  }\r\n\r\n  private updateSummaryTableDefectList(): void {\r\n    const index = LineMaintenanceFormComponent.SUMMARY_TABLE_DEFECTS_INDEX;\r\n    const defectList = this.taskTable.filter((task) => StringUtils.isNullOrEmpty(task.operationFrequency));\r\n\r\n    // Reset old values\r\n    this.resetSummaryTableRow(index);\r\n\r\n    // Fill with new values\r\n    this.summaryTable[index].nok = defectList.filter(\r\n      (defect) => defect.alert === ControlConfigConstants.ICON_RED\r\n    ).length;\r\n    this.summaryTable[index].ok = defectList.filter(\r\n      (defect) => defect.alert === ControlConfigConstants.ICON_GREEN\r\n    ).length;\r\n    this.summaryTable[index].warning = defectList.filter(\r\n      (defect) => defect.alert === ControlConfigConstants.ICON_YELLOW\r\n    ).length;\r\n\r\n    // Update global row\r\n    this.updateSummaryTableGlobal();\r\n  }\r\n\r\n  private updateSummaryTableModificationList(): void {\r\n    const index = LineMaintenanceFormComponent.SUMMARY_TABLE_MODIFICATIONS_INDEX;\r\n\r\n    // Reset old values\r\n    this.resetSummaryTableRow(index);\r\n\r\n    // Fill with new values\r\n    this.summaryTable[index].nok = this.modificationTable.filter(\r\n      (wp) => wp.control === ControlConfigConstants.ICON_RED\r\n    ).length;\r\n    this.summaryTable[index].ok = this.modificationTable.filter(\r\n      (wp) => wp.control === ControlConfigConstants.ICON_GREEN\r\n    ).length;\r\n    this.summaryTable[index].warning = this.modificationTable.filter(\r\n      (wp) => wp.control === ControlConfigConstants.ICON_YELLOW\r\n    ).length;\r\n\r\n    // Update global row\r\n    this.updateSummaryTableGlobal();\r\n  }\r\n\r\n  private updateSummaryTableGlobal(): void {\r\n    const index = LineMaintenanceFormComponent.SUMMARY_TABLE_GLOBAL_INDEX;\r\n\r\n    this.summaryTable[index].nok = this.summaryTable\r\n      .slice(1)\r\n      .map((row) => row.nok)\r\n      .reduce((a, b) => a + b, 0);\r\n\r\n    this.summaryTable[index].ok = this.summaryTable\r\n      .slice(1)\r\n      .map((row) => row.ok)\r\n      .reduce((a, b) => a + b, 0);\r\n\r\n    this.summaryTable[index].warning = this.summaryTable\r\n      .slice(1)\r\n      .map((row) => row.warning)\r\n      .reduce((a, b) => a + b, 0);\r\n  }\r\n\r\n  private updateSummaryTableRoleEquipmentAndOmeList(): void {\r\n    // TODO\r\n  }\r\n\r\n  private updateSummaryTableTaskList(): void {\r\n    const index = LineMaintenanceFormComponent.SUMMARY_TABLE_TASKS_INDEX;\r\n    const taskList = this.taskTable.filter((task) => !StringUtils.isNullOrEmpty(task.operationFrequency));\r\n\r\n    // Reset old values\r\n    this.resetSummaryTableRow(index);\r\n\r\n    // Fill with new values\r\n    this.summaryTable[index].nok = taskList.filter((defect) => defect.alert === ControlConfigConstants.ICON_RED).length;\r\n    this.summaryTable[index].ok = taskList.filter(\r\n      (defect) => defect.alert === ControlConfigConstants.ICON_GREEN\r\n    ).length;\r\n    this.summaryTable[index].warning = taskList.filter(\r\n      (defect) => defect.alert === ControlConfigConstants.ICON_YELLOW\r\n    ).length;\r\n\r\n    // Update global row\r\n    this.updateSummaryTableGlobal();\r\n  }\r\n\r\n  private updateSummaryTableWorkPackageList(): void {\r\n    const index = LineMaintenanceFormComponent.SUMMARY_TABLE_WORK_PACKAGES_INDEX;\r\n\r\n    // Reset old values\r\n    this.resetSummaryTableRow(index);\r\n\r\n    // Fill with new values\r\n    this.summaryTable[index].nok = this.workPackageTable.filter(\r\n      (wp) => wp.checkResult === ControlConfigConstants.ICON_RED\r\n    ).length;\r\n    this.summaryTable[index].ok = this.workPackageTable.filter(\r\n      (wp) => wp.checkResult === ControlConfigConstants.ICON_GREEN\r\n    ).length;\r\n    this.summaryTable[index].warning = this.workPackageTable.filter(\r\n      (wp) => wp.checkResult === ControlConfigConstants.ICON_YELLOW\r\n    ).length;\r\n\r\n    // Update global row\r\n    this.updateSummaryTableGlobal();\r\n  }\r\n\r\n  private setNavigationLinkList(): void {\r\n    const airworthinessControlKey = this.getTranslateKey('airworthinessStatus');\r\n    const appliedConfigurationControlKey = this.getTranslateKey('appliedConfigurationControl');\r\n    const assetMaintenancePlanKey = this.getTranslateKey('assetMaintenancePlan');\r\n    const assetReviewKey = this.getTranslateKey('assetReview');\r\n    this.translateService\r\n      .get([airworthinessControlKey, appliedConfigurationControlKey, assetMaintenancePlanKey, assetReviewKey])\r\n      .subscribe((results) => {\r\n        const airworthinessControlLabel = results ? results[airworthinessControlKey] : 'Airworthiness Status';\r\n        const appliedConfigurationControlLabel = results\r\n          ? results[appliedConfigurationControlKey]\r\n          : 'Applied Configuration Control';\r\n        const assetMaintenancePlanLabel = results ? results[assetMaintenancePlanKey] : 'Asset Maintenance Plan';\r\n        const assetReviewLabel = results ? results[assetReviewKey] : 'Asset Review';\r\n\r\n        this.navigationLinkList = [\r\n          {\r\n            label: airworthinessControlLabel,\r\n            command: () => {\r\n              this.openAirworthinessControl();\r\n            }\r\n          },\r\n          {\r\n            label: appliedConfigurationControlLabel,\r\n            command: () => {\r\n              this.openAppliedConfigurationControl();\r\n            }\r\n          },\r\n          {\r\n            label: assetMaintenancePlanLabel,\r\n            command: () => {\r\n              this.openAssetMaintenancePlan();\r\n            }\r\n          },\r\n          {\r\n            label: assetReviewLabel,\r\n            command: () => {\r\n              this.openAssetReview();\r\n            }\r\n          }\r\n        ];\r\n      });\r\n  }\r\n\r\n  private openAirworthinessControl(): void {\r\n    const objectId: AirworthinessControlFormComponentInput = {\r\n      equipmentCodeList: [this.missionEquipmentId.equipmentCode as string]\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Write,\r\n      componentId: ComponentConstants.MAI_AIRWORTHINESS_CONTROL_FOR_ASSET_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openAppliedConfigurationControl(): void {\r\n    const objectId: AirworthinessControlFormComponentInput = {\r\n      equipmentCodeList: [this.missionEquipmentId.equipmentCode as string]\r\n    };\r\n\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.MAI_CONFIGURATION_CONTROL,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openAssetMaintenancePlan(): void {\r\n    const objectId: BidoEquipmentDTOId = {\r\n      equipmentCode: this.missionEquipmentId.equipmentCode\r\n    };\r\n\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: 'AssetMaintenancePlanComponent', // TODO\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openAssetReview(): void {\r\n    const objectId: AirworthinessControlFormComponentInput = {\r\n      equipmentCodeList: [this.missionEquipmentId.equipmentCode as string]\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Write,\r\n      componentId: ComponentConstants.MAI_ASSET_REVIEW_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public initAndOpenOperationalConfigurationSettling(objectId: string | undefined, openMode: ComponentOpenMode): void {\r\n    this.operationalConfigurationSetupService\r\n      .initOperationalConfigurationSetup(this.missionEquipmentId)\r\n      .subscribe((bidmProjectDTOId) => {\r\n        const getOperationConfigurationSetup: GetOperationalConfigurationSetupInputDTO = {\r\n          bidmProjectDTOId,\r\n          opConfCode: this.missionEquipment.requestedOpeConfigCode || ''\r\n        };\r\n        this.openOperationalConfigurationSettling(getOperationConfigurationSetup, ComponentOpenMode.Write);\r\n      });\r\n  }\r\n\r\n  public openOperationalConfigurationSettling(\r\n    objectId: GetOperationalConfigurationSetupInputDTO,\r\n    openMode: ComponentOpenMode\r\n  ): void {\r\n    const labelKey = 'transaction.' + ComponentConstants.FLI_OPERATIONAL_CONFIGURATION_SETTLING;\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_OPERATIONAL_CONFIGURATION_SETTLING,\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private countOperationalConfigurationSetup(): void {\r\n    this.operationalConfigurationSetupService\r\n      .countOperationalConfigurationSetup(this.missionEquipmentId)\r\n      .subscribe((result) => {\r\n        this.countOperationalConfigurationSetupOutputDTO = result;\r\n        this.computeCanSetupOperationalConfiguration();\r\n      });\r\n  }\r\n\r\n  public computeCanSetupOperationalConfiguration(): void {\r\n    this.canSetupOperationalConfiguration =\r\n      !StringUtils.isNullOrEmpty(this.missionEquipment.requestedOpeConfigCode) &&\r\n      !!this.countOperationalConfigurationSetupOutputDTO &&\r\n      (!!this.countOperationalConfigurationSetupOutputDTO.nbRequiredInstalls ||\r\n        !!this.countOperationalConfigurationSetupOutputDTO.nbRequiredRemovals);\r\n  }\r\n\r\n  public goToRespectivePanel(panelName: string): void {\r\n    if (\r\n      panelName === LineMaintenanceFormComponent.SUMMARY_TABLE_TASKS_LABEL ||\r\n      panelName === LineMaintenanceFormComponent.SUMMARY_TABLE_DEFECTS_LABEL ||\r\n      panelName === LineMaintenanceFormComponent.SUMMARY_TABLE_MODIFICATIONS_LABEL ||\r\n      panelName === LineMaintenanceFormComponent.SUMMARY_TABLE_WORK_PACKAGES_LABEL\r\n    ) {\r\n      this.tabIndexValue = TabCategory.MaintenanceStatus;\r\n    } else if (panelName === LineMaintenanceFormComponent.SUMMARY_TABLE_ROLE_EQUIPMENTS_OME_LABEL) {\r\n      this.tabIndexValue = TabCategory.RoleEquipmentAndOme;\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AirworthinessManagementApi } from '../../../../../shared/api/airworthiness-management.api';\r\nimport { AMProjectManagementApi } from '../../../../../shared/api/am-project-management.api';\r\nimport { FleetBusinessApi } from '../../../../../shared/api/fleet-business.api';\r\nimport { FleetManagementApi } from '../../../../../shared/api/fleet-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { ApplyTaskForFlightInput } from '../../../../../shared/types/api-input-types/airworthiness-management/apply-task-for-flight-input.interface';\r\nimport { CheckGoNoGoWPsOfFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/check-go-no-go-wps-of-flight-input.interface';\r\nimport { CreateReplenishmentByFlightAndEquipmentAndReplenishmentTypeInput } from '../../../../../shared/types/api-input-types/fleet-business/create-replenishment-by-flight-and-equipment-and-replenishment-type-input.interface';\r\nimport { ValidateActionsOnModificationsOfFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/validate-actions-on-modifications-of-flight-input.interface';\r\nimport { ValidateActionsOnOmeAndRoleEquipmentsOfFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/validate-actions-on-ome-and-role-equipments-of-flight-input.interface';\r\nimport { ValidateActionsOnTasksOfFlightInput } from '../../../../../shared/types/api-input-types/fleet-business/validate-actions-on-tasks-of-flight-input.interface';\r\nimport { FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput } from '../../../../../shared/types/api-input-types/fleet-management/find-replenishment-by-mission-equipment-and-type-and-equipment-code-input.interface';\r\nimport { RemoveReplenishmentMeasureListInput } from '../../../../../shared/types/api-input-types/fleet-management/remove-replenishment-measure-list-input.interface';\r\nimport { SaveReplenishmentMeasureListInput } from '../../../../../shared/types/api-input-types/fleet-management/save-replenishment-measure-list-input.interface';\r\nimport { UpdateReplenishmentAfterFlightQuantityFromAircraftInput } from '../../../../../shared/types/api-input-types/fleet-management/update-replenishment-after-flight-quantity-from-aircraft-input.interface';\r\nimport { LineMaintenanceModificationDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-modification-dto.interface';\r\nimport { LineMaintenanceOperationDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-operation-dto.interface';\r\nimport { LineMaintenanceRoleEquipmentOmeDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-role-equipment-ome-dto.interface';\r\nimport { LineMaintenanceWorkPackageDTO } from '../../../../../shared/types/api-output-types/fleet-business/line-maintenance-work-package-dto.interface';\r\nimport { LoadLineMaintenanceOuput } from '../../../../../shared/types/api-output-types/fleet-business/load-line-maintenance-output.interface';\r\nimport { BidmProjectDTOId } from '../../../../../shared/types/api-types/bidm-project-dto-id.interface';\r\nimport { BidmProjectDTO } from '../../../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidoCustomerDTO } from '../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoFlDTO } from '../../../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoNotificationDTO } from '../../../../../shared/types/api-types/bido-notification-dto.interface';\r\nimport { BidoReplenishmentDTOId } from '../../../../../shared/types/api-types/bido-replenishment-dto-id.interface';\r\nimport { BidoReplenishmentDTO } from '../../../../../shared/types/api-types/bido-replenishment-dto.interface';\r\nimport { BidoReplenishmentMeasureDTO } from '../../../../../shared/types/api-types/bido-replenishment-measure-dto.interface';\r\n\r\n@Injectable()\r\nexport class LineMaintenanceFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly airworthinessManagementApi: AirworthinessManagementApi,\r\n    private readonly aMProjectManagementApi: AMProjectManagementApi,\r\n    private readonly fleetBusinessApi: FleetBusinessApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Airworthiness management api\r\n   *************************************************************************/\r\n\r\n  public applyTaskForFlight(input: ApplyTaskForFlightInput): Observable<BidoNotificationDTO> {\r\n    return super.post<ApplyTaskForFlightInput, BidoNotificationDTO>(\r\n      this.airworthinessManagementApi.applyTaskForFlight,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * AM project management api\r\n   *************************************************************************/\r\n\r\n  public createBidmProject(input: BidmProjectDTO): Observable<BidmProjectDTOId> {\r\n    return super.post<BidmProjectDTO, BidmProjectDTOId>(this.aMProjectManagementApi.createBidmProject, input);\r\n  }\r\n\r\n  public findBidmProject(projectId: string): Observable<BidmProjectDTO> {\r\n    return super.post<string, BidmProjectDTO>(this.aMProjectManagementApi.findBidmProject, projectId);\r\n  }\r\n\r\n  public removeBidmProject(id: BidmProjectDTOId): Observable<void> {\r\n    return super.post<BidmProjectDTOId, void>(this.aMProjectManagementApi.removeBidmProject, id);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet business api\r\n   *************************************************************************/\r\n\r\n  public calculateReplenishmentEngineOilConsumption(input: BidoReplenishmentDTOId): Observable<BidoReplenishmentDTO> {\r\n    return super.post<BidoReplenishmentDTOId, BidoReplenishmentDTO>(\r\n      this.fleetBusinessApi.calculateReplenishmentEngineOilConsumption,\r\n      input\r\n    );\r\n  }\r\n\r\n  public calculateReplenishmentQuantityList(input: BidoReplenishmentDTOId): Observable<BidoReplenishmentDTO> {\r\n    return super.post<BidoReplenishmentDTOId, BidoReplenishmentDTO>(\r\n      this.fleetBusinessApi.calculateReplenishmentQuantityList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public checkGoNoGoWPsOfFlight(input: CheckGoNoGoWPsOfFlightInput): Observable<LineMaintenanceWorkPackageDTO[]> {\r\n    return super.post<CheckGoNoGoWPsOfFlightInput, LineMaintenanceWorkPackageDTO[]>(\r\n      this.fleetBusinessApi.checkGoNoGoWPsOfFlight,\r\n      input\r\n    );\r\n  }\r\n\r\n  public clearLineMaintenanceCache(input: BidoMissionEquipmentDTOId): Observable<void> {\r\n    return super.post<BidoMissionEquipmentDTOId, void>(this.fleetBusinessApi.clearLineMaintenanceCache, input);\r\n  }\r\n\r\n  public createReplenishmentByFlightAndEquipmentAndReplenishmentType(\r\n    input: CreateReplenishmentByFlightAndEquipmentAndReplenishmentTypeInput\r\n  ): Observable<BidoReplenishmentDTOId> {\r\n    return super.post<CreateReplenishmentByFlightAndEquipmentAndReplenishmentTypeInput, BidoReplenishmentDTOId>(\r\n      this.fleetBusinessApi.createReplenishmentByFlightAndEquipmentAndReplenishmentType,\r\n      input\r\n    );\r\n  }\r\n\r\n  public initializeLineMaintenance(input: BidoMissionEquipmentDTOId): Observable<void> {\r\n    return super.post<BidoMissionEquipmentDTOId, void>(this.fleetBusinessApi.initializeLineMaintenance, input);\r\n  }\r\n\r\n  public loadLineMaintenance(input: BidoMissionEquipmentDTOId): Observable<LoadLineMaintenanceOuput> {\r\n    return super.post<BidoMissionEquipmentDTOId, LoadLineMaintenanceOuput>(\r\n      this.fleetBusinessApi.loadLineMaintenance,\r\n      input\r\n    );\r\n  }\r\n\r\n  public loadLineMaintenanceModificationList(\r\n    input: BidoMissionEquipmentDTOId\r\n  ): Observable<LineMaintenanceModificationDTO[]> {\r\n    return super.post<BidoMissionEquipmentDTOId, LineMaintenanceModificationDTO[]>(\r\n      this.fleetBusinessApi.loadLineMaintenanceModificationList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public loadLineMaintenanceOperationList(input: BidoMissionEquipmentDTOId): Observable<LineMaintenanceOperationDTO[]> {\r\n    return super.post<BidoMissionEquipmentDTOId, LineMaintenanceOperationDTO[]>(\r\n      this.fleetBusinessApi.loadLineMaintenanceOperationList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public loadLineMaintenanceRoleEquipmentOmeList(\r\n    input: BidoMissionEquipmentDTOId\r\n  ): Observable<LineMaintenanceRoleEquipmentOmeDTO[]> {\r\n    return super.post<BidoMissionEquipmentDTOId, LineMaintenanceRoleEquipmentOmeDTO[]>(\r\n      this.fleetBusinessApi.loadLineMaintenanceRoleEquipmentOmeList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public loadLineMaintenanceWorkPackageList(\r\n    input: BidoMissionEquipmentDTOId\r\n  ): Observable<LineMaintenanceWorkPackageDTO[]> {\r\n    return super.post<BidoMissionEquipmentDTOId, LineMaintenanceWorkPackageDTO[]>(\r\n      this.fleetBusinessApi.loadLineMaintenanceWorkPackageList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public resetReplenishmentEngineOilConsumption(input: BidoReplenishmentDTOId): Observable<void> {\r\n    return super.post<BidoReplenishmentDTOId, void>(\r\n      this.fleetBusinessApi.resetReplenishmentEngineOilConsumption,\r\n      input\r\n    );\r\n  }\r\n\r\n  public validateActionsOnModificationsOfFlight(input: ValidateActionsOnModificationsOfFlightInput): Observable<void> {\r\n    return super.post<ValidateActionsOnModificationsOfFlightInput, void>(\r\n      this.fleetBusinessApi.validateActionsOnModificationsOfFlight,\r\n      input\r\n    );\r\n  }\r\n\r\n  public validateActionsOnOmeAndRoleEquipmentsOfFlight(\r\n    input: ValidateActionsOnOmeAndRoleEquipmentsOfFlightInput\r\n  ): Observable<void> {\r\n    return super.post<ValidateActionsOnOmeAndRoleEquipmentsOfFlightInput, void>(\r\n      this.fleetBusinessApi.validateActionsOnOmeAndRoleEquipmentsOfFlight,\r\n      input\r\n    );\r\n  }\r\n\r\n  public validateActionsOnTasksOfFlight(input: ValidateActionsOnTasksOfFlightInput): Observable<void> {\r\n    return super.post<ValidateActionsOnTasksOfFlightInput, void>(\r\n      this.fleetBusinessApi.validateActionsOnTasksOfFlight,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet management api\r\n   *************************************************************************/\r\n\r\n  public findAllBidoCustomerBySearchCriteria(input: BidoCustomerDTO): Observable<BidoCustomerDTO[]> {\r\n    return super.post<BidoCustomerDTO, BidoCustomerDTO[]>(\r\n      this.fleetManagementApi.findAllBidoCustomerBySearchCriteria,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findEquipmentEngineListByEquipmentCode(input: string): Observable<BidoEquipmentDTO[]> {\r\n    return super.post<string, BidoEquipmentDTO[]>(\r\n      this.fleetManagementApi.findEquipmentEngineListByEquipmentCode,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findFlCurrentlyAppliedByEquipmentCode(input: string): Observable<BidoFlDTO> {\r\n    return super.post<string, BidoFlDTO>(this.fleetManagementApi.findFlCurrentlyAppliedByEquipmentCode, input);\r\n  }\r\n\r\n  public findReplenishmentByMissionEquipmentAndTypeAndEquipmentCode(\r\n    input: FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput\r\n  ): Observable<BidoReplenishmentDTO> {\r\n    return super.post<FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput, BidoReplenishmentDTO>(\r\n      this.fleetManagementApi.findReplenishmentByMissionEquipmentAndTypeAndEquipmentCode,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findReplenishmentMeasureListByReplenishmentId(\r\n    input: BidoReplenishmentDTOId\r\n  ): Observable<BidoReplenishmentMeasureDTO[]> {\r\n    return super.post<BidoReplenishmentDTOId, BidoReplenishmentMeasureDTO[]>(\r\n      this.fleetManagementApi.findReplenishmentMeasureListByReplenishmentId,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getBidoMissionEquipment(input: BidoMissionEquipmentDTOId): Observable<BidoMissionEquipmentDTO> {\r\n    return super.post<BidoMissionEquipmentDTOId, BidoMissionEquipmentDTO>(\r\n      this.fleetManagementApi.findBidoMissionEquipment,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getEquipment(input: BidoEquipmentDTOId): Observable<BidoEquipmentDTO> {\r\n    return super.post<BidoEquipmentDTOId, BidoEquipmentDTO>(this.fleetManagementApi.findBidoEquipment, input);\r\n  }\r\n\r\n  public getEquipmentRepresentation(input: BidoEquipmentDTO): Observable<string> {\r\n    return super.post<BidoEquipmentDTO, string>(this.fleetManagementApi.getEquipmentRepresentation, input);\r\n  }\r\n\r\n  public getHighestReplenishmentMeasureNumberByReplenishmentId(input: BidoReplenishmentDTOId): Observable<number> {\r\n    return super.post<BidoReplenishmentDTOId, number>(\r\n      this.fleetManagementApi.getHighestReplenishmentMeasureNumberByReplenishmentId,\r\n      input\r\n    );\r\n  }\r\n\r\n  public removeReplenishmentMeasureList(input: RemoveReplenishmentMeasureListInput): Observable<void> {\r\n    return super.post<RemoveReplenishmentMeasureListInput, void>(\r\n      this.fleetManagementApi.removeReplenishmentMeasureList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public saveReplenishmentMeasureList(input: SaveReplenishmentMeasureListInput): Observable<void> {\r\n    return super.post<SaveReplenishmentMeasureListInput, void>(\r\n      this.fleetManagementApi.saveReplenishmentMeasureList,\r\n      input\r\n    );\r\n  }\r\n\r\n  public updateReplenishmentAfterFlightQuantityFromAircraft(\r\n    input: UpdateReplenishmentAfterFlightQuantityFromAircraftInput\r\n  ): Observable<void> {\r\n    return super.post<UpdateReplenishmentAfterFlightQuantityFromAircraftInput, void>(\r\n      this.fleetManagementApi.updateReplenishmentAfterFlightQuantityFromAircraft,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Product structure management api\r\n   *************************************************************************/\r\n\r\n  public getStandardCycleCounterLabel(): Observable<string> {\r\n    return super.post<void, string>(this.productStructureManagementApi.getStandardCycleCounterLabel);\r\n  }\r\n\r\n  public getStandardTimeCounterLabel(): Observable<string> {\r\n    return super.post<void, string>(this.productStructureManagementApi.getStandardTimeCounterLabel);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ getOperationalConfigurationSetupInputDTO.opConfCode }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button color=\\\"warn\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button class=\\\"btn-with-spinner\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onSave()\\\">\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <!-- Main Information -->\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <div class=\\\"grid-cell-title\\\">\\r\\n                  <span>{{ \\\"page.mainData\\\" | translate }}</span>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                  <label class=\\\"form-label\\\">\\r\\n                    {{ getComponentName() + \\\".wpNumber\\\" | translate }}\\r\\n                  </label>\\r\\n\\r\\n                  <div class=\\\"form-control\\\">\\r\\n                    <a style=\\\"cursor: pointer\\\" (click)=\\\"openProject()\\\" class=\\\"form-control-generic\\\">\\r\\n                      {{ project.projectNumber }}\\r\\n                    </a>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                  <label class=\\\"form-label\\\">\\r\\n                    {{ getComponentName() + \\\".asset\\\" | translate }}\\r\\n                  </label>\\r\\n\\r\\n                  <div class=\\\"form-control\\\">\\r\\n                    <a style=\\\"cursor: pointer\\\" (click)=\\\"openProjectAsset()\\\" class=\\\"form-control-generic\\\">\\r\\n                      {{ projectAssetRepresentation }}\\r\\n                    </a>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                  <label class=\\\"form-label\\\">\\r\\n                    {{ getComponentName() + \\\".mroCenter\\\" | translate }}\\r\\n                  </label>\\r\\n\\r\\n                  <div class=\\\"form-control\\\">\\r\\n                    {{ repairCenterLabel }}\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                  <label class=\\\"form-label\\\">\\r\\n                    {{ getComponentName() + \\\".workshop\\\" | translate }}\\r\\n                  </label>\\r\\n\\r\\n                  <div class=\\\"form-control\\\">\\r\\n                    {{ employeeWarehouseName }}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- People to get -->\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <div class=\\\"grid-cell-title\\\">\\r\\n                  <span>{{ getComponentName() + \\\".assets\\\" | translate }}</span>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                #ptableOperationalConfigurationSetup\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                class=\\\"aw-table2 with-column-group\\\"\\r\\n                [columns]=\\\"operationalConfigurationSetupColumns\\\"\\r\\n                [value]=\\\"operationalConfigurationSetupTable\\\"\\r\\n                [(selection)]=\\\"operationalConfigurationSetupSelection\\\"\\r\\n                [scrollable]=\\\"true\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\">\\r\\n                    <div class=\\\"aw-table-global-filter\\\">\\r\\n                      <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                        <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </label>\\r\\n\\r\\n                      <input\\r\\n                        class=\\\"aw-table-global-filter-input\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                        (input)=\\\"ptableOperationalConfigurationSetup.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"aw-table-actions\\\">\\r\\n                      <button\\r\\n                        class=\\\"btn-with-spinner\\\"\\r\\n                        *ngIf=\\\"operationalConfigurationSetupSelection.length > 0 && canExecute\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"executeSelection()\\\"\\r\\n                      >\\r\\n                        <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showExecuteSpinner\\\"></span>\\r\\n                        {{ getComponentName() + \\\".execute\\\" | translate }}\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th colspan=\\\"6\\\" [ngStyle]=\\\"{ 'text-align': 'left' }\\\" class=\\\"column-group-separator\\\">\\r\\n                      {{ getComponentName() + \\\".setupAsset\\\" | translate }}\\r\\n                    </th>\\r\\n\\r\\n                    <th colspan=\\\"4\\\" [ngStyle]=\\\"{ 'text-align': 'left' }\\\" class=\\\"column-group-separator\\\">\\r\\n                      {{ getComponentName() + \\\".superiorAsset\\\" | translate }}\\r\\n                    </th>\\r\\n                  </tr>\\r\\n\\r\\n                  <tr>\\r\\n                    <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                    </th>\\r\\n\\r\\n                    <th\\r\\n                      pResizableColumn\\r\\n                      *ngFor=\\\"let col of columns; let colIndex = index\\\"\\r\\n                      [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                      [ngClass]=\\\"{ 'column-group-separator': colIndex === 4 || colIndex === 8 }\\\"\\r\\n                    >\\r\\n                      {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template\\r\\n                  pTemplate=\\\"body\\\"\\r\\n                  let-rowData\\r\\n                  let-columns=\\\"columns\\\"\\r\\n                  let-editing=\\\"editing\\\"\\r\\n                  let-rowIndex=\\\"rowIndex\\\"\\r\\n                >\\r\\n                  <tr\\r\\n                    [pEditableRow]=\\\"rowData\\\"\\r\\n                    [pSelectableRow]=\\\"rowData\\\"\\r\\n                    [pSelectableRowIndex]=\\\"rowIndex\\\"\\r\\n                    class=\\\"overflow\\\"\\r\\n                  >\\r\\n                    <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                    </td>\\r\\n\\r\\n                    <td\\r\\n                      *ngFor=\\\"let col of columns; let i = index\\\"\\r\\n                      [ngSwitch]=\\\"col.field\\\"\\r\\n                      [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                    >\\r\\n                      <span *ngSwitchCase=\\\"'control'\\\">\\r\\n                        <span\\r\\n                          class=\\\"alert\\\"\\r\\n                          [ngClass]=\\\"{ 'alert--ok': rowData.control, 'alert--nok': !rowData.control }\\\"\\r\\n                          pTooltip=\\\"{{ rowData.woAssetManagementDTO.alertMessage }}\\\"\\r\\n                          tooltipPosition=\\\"left\\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + (rowData.control ? \\\".alertOk\\\" : \\\".alertNok\\\") | translate }}\\r\\n                        </span>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'pn'\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown\\\"\\r\\n                          [options]=\\\"rowData.pnList\\\"\\r\\n                          [(ngModel)]=\\\"rowData.pn\\\"\\r\\n                          (onChange)=\\\"onPnSelected($event.value, rowData)\\\"\\r\\n                          [disabled]=\\\"rowData.pnDisabled\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                          appendTo=\\\"body\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'sn'\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown\\\"\\r\\n                          [options]=\\\"rowData.snList\\\"\\r\\n                          [(ngModel)]=\\\"rowData.equipmentCode\\\"\\r\\n                          (onChange)=\\\"onSnSelected($event.value, rowData)\\\"\\r\\n                          [disabled]=\\\"rowData.snDisabled\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                          appendTo=\\\"body\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'newOperationalStatus'\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown\\\"\\r\\n                          [options]=\\\"operationalStatusList\\\"\\r\\n                          [(ngModel)]=\\\"rowData.woAssetManagementDTO.selectedStatus\\\"\\r\\n                          [disabled]=\\\"rowData.newOperationalStatusDisabled\\\"\\r\\n                          (onChange)=\\\"onStatusSelected($event.value, rowData)\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                          appendTo=\\\"body\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'date'\\\">\\r\\n                        <p-calendar\\r\\n                          showButtonBar=\\\"true\\\"\\r\\n                          [monthNavigator]=\\\"true\\\"\\r\\n                          [yearNavigator]=\\\"true\\\"\\r\\n                          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                          class=\\\"aw-calendar\\\"\\r\\n                          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          [(ngModel)]=\\\"rowData.woAssetManagementDTO.notificationDate\\\"\\r\\n                          appendTo=\\\"body\\\"\\r\\n                        ></p-calendar>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"::ng-deep body#aw-app .aw-table2.with-column-group th.column-group-separator {\\n  border-right-width: 0.3em !important;\\n  border-right-style: solid !important;\\n  border-right-color: black !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9saW5lLW1haW50ZW5hbmNlL29wZXJhdGlvbmFsLWNvbmZpZ3VyYXRpb24tc2V0dGxpbmcvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGZsaWdodC1vcGVyYXRpb25zXFxmbGlnaHRcXGZvcm1cXGxpbmUtbWFpbnRlbmFuY2VcXG9wZXJhdGlvbmFsLWNvbmZpZ3VyYXRpb24tc2V0dGxpbmdcXG9wZXJhdGlvbmFsLWNvbmZpZ3VyYXRpb24tc2V0dGxpbmcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxvQ0FBb0M7RUFDcEMsb0NBQW9DO0VBQ3BDLG9DQUFvQyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9saW5lLW1haW50ZW5hbmNlL29wZXJhdGlvbmFsLWNvbmZpZ3VyYXRpb24tc2V0dGxpbmcvb3BlcmF0aW9uYWwtY29uZmlndXJhdGlvbi1zZXR0bGluZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjo6bmctZGVlcCBib2R5I2F3LWFwcCAuYXctdGFibGUyLndpdGgtY29sdW1uLWdyb3VwIHRoLmNvbHVtbi1ncm91cC1zZXBhcmF0b3Ige1xyXG4gIGJvcmRlci1yaWdodC13aWR0aDogMC4zZW0gIWltcG9ydGFudDtcclxuICBib3JkZXItcmlnaHQtc3R5bGU6IHNvbGlkICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { LabelValueHelper } from '../../../../../../modules/purchase-contract/utils/label-value-helper';\r\nimport { PageTocService } from '../../../../../../shared/components/component-sidebar/page-toc.service';\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { BidoNotificationTypeConstants } from '../../../../../../shared/constants/bido-notification-type-constants';\r\nimport { ComponentConstants } from '../../../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../../../shared/services/tab.service';\r\nimport { GetOperationalConfigurationSetupInputDTO } from '../../../../../../shared/types/api-input-types/operational-configuration-setup/get-operational-configuration-setup-input-dto.interface';\r\nimport { UpdateOperationalConfigurationSetupInputDTO } from '../../../../../../shared/types/api-input-types/operational-configuration-setup/update-operational-configuration-setup-input-dto.interface';\r\nimport { BidmProjectDTO } from '../../../../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { WoAssetManagementDTO } from '../../../../../../shared/types/api-types/wo-asset-management-dto.interface';\r\nimport { FormPageComponent } from '../../../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { WorkPackageFormService } from '../../../../../maintenance/work-package/form/work-package-form.service';\r\nimport { WorkPackageSearchService } from '../../../../../maintenance/work-package/search/work-package-search.service';\r\nimport { FlightFormService } from '../../flight/flight-form.service';\r\n\r\nimport { OperationalConfigurationSetupService } from './operational-configuration-setup.service';\r\n\r\ninterface OperationalConfigurationSetupRow {\r\n  decision?: string;\r\n  reason?: string;\r\n  sn?: string;\r\n  snDisabled: boolean;\r\n  equipmentCode?: string;\r\n  pn?: string;\r\n  pnDisabled: boolean;\r\n  designation?: string;\r\n  functionalLocation?: string;\r\n  pnList?: LabelValue<string>[];\r\n  snList?: LabelValue<string>[];\r\n  superiorAssetPn?: string;\r\n  superiorAssetSn?: string;\r\n  superiorAssetDesignation?: string;\r\n  superiorAssetOperationalStatus?: string;\r\n  newOperationalStatusDisabled: boolean;\r\n  control: boolean;\r\n  editing: boolean;\r\n  woAssetManagementDTO: WoAssetManagementDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-operational-configuration-settling',\r\n  styleUrls: ['./operational-configuration-settling.component.scss'],\r\n  templateUrl: './operational-configuration-settling.component.html'\r\n})\r\nexport class OperationalConfigurationSettlingComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public getOperationalConfigurationSetupInputDTO: GetOperationalConfigurationSetupInputDTO;\r\n\r\n  public componentContext: string;\r\n  public wpNumber: string;\r\n  public operationalConfigurationSetupColumns: TableColumn[];\r\n  public operationalConfigurationSetupTable: OperationalConfigurationSetupRow[];\r\n  public operationalConfigurationSetupSelection: OperationalConfigurationSetupRow[];\r\n  public operationalStatusList: LabelValue<string>[];\r\n  public decisionList: LabelValue<string>[];\r\n\r\n  public project: BidmProjectDTO;\r\n  public projectAssetRepresentation?: string;\r\n  public repairCenterLabel?: string;\r\n  public employeeWarehouseId?: number;\r\n  public employeeWarehouseName?: string;\r\n\r\n  public showSaveSpinner: boolean;\r\n  public showExecuteSpinner: boolean;\r\n  public canExecute: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    pageTocService: PageTocService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly operationalConfigurationSetupService: OperationalConfigurationSetupService,\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly workPackageFormService: WorkPackageFormService,\r\n    private readonly workPackageSearchService: WorkPackageSearchService,\r\n    private readonly propertiesService: PropertiesService,\r\n    public sessionService: SessionService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n    this.getOperationalConfigurationSetupInputDTO = {};\r\n    this.operationalStatusList = [];\r\n    this.operationalConfigurationSetupSelection = [];\r\n    this.project = {};\r\n    this.showSaveSpinner = false;\r\n    this.canExecute = false;\r\n\r\n    this.initOperationalConfigurationSetupColumns();\r\n  }\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_OPERATIONAL_CONFIGURATION_SETTLING;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Initialisation\r\n   *************************************************************************/\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.loadEquipmentOperationalStatusList();\r\n    this.loadDecisionList();\r\n\r\n    if (this.componentData.objectId) {\r\n      this.getOperationalConfigurationSetupInputDTO = this.serializationService.deserialize(\r\n        this.componentData.objectId\r\n      );\r\n      this.loadOperationConfigurationSetup();\r\n    }\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  private loadEquipmentOperationalStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.OPERATIONAL_STATUS_MAP).subscribe((results) => {\r\n      this.operationalStatusList = results;\r\n      this.setTableOperationalStatus();\r\n    });\r\n  }\r\n\r\n  private setTableOperationalStatus(): void {\r\n    if (this.operationalConfigurationSetupTable && this.operationalStatusList) {\r\n      this.operationalConfigurationSetupTable.forEach((row) => {\r\n        this.setRowOperationalStatus(row);\r\n      });\r\n    }\r\n  }\r\n\r\n  private setRowOperationalStatus(row: OperationalConfigurationSetupRow) {\r\n    if (\r\n      row.woAssetManagementDTO.selectedSuperiorBidoEquipmentDTO &&\r\n      row.woAssetManagementDTO.selectedSuperiorBidoEquipmentDTO.operationalStatus\r\n    ) {\r\n      row.superiorAssetOperationalStatus = LabelValueHelper.getLabelByValue(\r\n        this.operationalStatusList,\r\n        row.woAssetManagementDTO.selectedSuperiorBidoEquipmentDTO.operationalStatus\r\n      );\r\n    }\r\n  }\r\n\r\n  private loadDecisionList(): void {\r\n    this.flightFormService\r\n      .findAllBidoNotificationTypesByTypeCategory(AWPropertiesConstants.EVENT_CATEGORY_MAINTENANCE_KEY)\r\n      .subscribe((results) => {\r\n        this.decisionList = results.map((type) => ({\r\n          value: type.typeCode || '',\r\n          label: type.typeDescription || ''\r\n        }));\r\n        this.setTableDecision();\r\n      });\r\n  }\r\n\r\n  private setTableDecision(): void {\r\n    if (this.operationalConfigurationSetupTable && this.decisionList) {\r\n      this.operationalConfigurationSetupTable.forEach((row) => {\r\n        this.setRowDecision(row);\r\n      });\r\n    }\r\n  }\r\n\r\n  private setRowDecision(row: OperationalConfigurationSetupRow) {\r\n    if (row.woAssetManagementDTO.notificationType) {\r\n      row.decision = LabelValueHelper.getLabelByValue(this.decisionList, row.woAssetManagementDTO.notificationType);\r\n    }\r\n  }\r\n\r\n  private loadOperationConfigurationSetup(): void {\r\n    this.operationalConfigurationSetupService\r\n      .getOperationalConfigurationSetup(this.getOperationalConfigurationSetupInputDTO)\r\n      .subscribe((results) => {\r\n        if (results.woAssetManagementDTOList) {\r\n          this.operationalConfigurationSetupTable = results.woAssetManagementDTOList.map((woAssetManagementDTO) => {\r\n            const row = this.createOperationConfigurationRow(woAssetManagementDTO);\r\n            this.initStatus(row);\r\n\r\n            return row;\r\n          });\r\n        }\r\n        this.project = results.bidmProjectDTO || {};\r\n        this.projectAssetRepresentation = results.projectAssetRepresentation;\r\n        this.repairCenterLabel = results.repairCenterLabel;\r\n        this.employeeWarehouseId = results.employeeWarehouseId;\r\n        this.employeeWarehouseName = results.employeeWarehouseName;\r\n      });\r\n  }\r\n\r\n  private initStatus(row: OperationalConfigurationSetupRow): void {\r\n    if (row.woAssetManagementDTO.notificationType === BidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE) {\r\n      row.woAssetManagementDTO.selectedStatus = AWPropertiesConstants.OPERATIONAL_STATUS_SPARE_KEY;\r\n    } else {\r\n      row.woAssetManagementDTO.selectedStatus = AWPropertiesConstants.OPERATIONAL_STATUS_IN_OPERATION_KEY;\r\n    }\r\n  }\r\n\r\n  private createOperationConfigurationRow(\r\n    woAssetManagementDTO: WoAssetManagementDTO\r\n  ): OperationalConfigurationSetupRow {\r\n    const isRemoval = woAssetManagementDTO.notificationType === BidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE;\r\n    const operationalConfigurationSetupRow: OperationalConfigurationSetupRow = {\r\n      pn: woAssetManagementDTO.selectedPn,\r\n      pnDisabled:\r\n        isRemoval ||\r\n        (!!woAssetManagementDTO.availablePNDTOList && woAssetManagementDTO.availablePNDTOList.length === 1),\r\n      snDisabled: isRemoval,\r\n      functionalLocation: woAssetManagementDTO.selectedFlCode,\r\n      control: this.isControlOk(woAssetManagementDTO),\r\n      editing: true,\r\n      newOperationalStatusDisabled: !isRemoval,\r\n      woAssetManagementDTO\r\n    };\r\n    const superiorAsset = woAssetManagementDTO.selectedSuperiorBidoEquipmentDTO;\r\n    if (superiorAsset) {\r\n      // Mapping of superior asset data\r\n      operationalConfigurationSetupRow.superiorAssetPn = superiorAsset.pnCode;\r\n      operationalConfigurationSetupRow.superiorAssetSn = superiorAsset.sn;\r\n      operationalConfigurationSetupRow.superiorAssetDesignation = superiorAsset.equipmentDesignation;\r\n      operationalConfigurationSetupRow.superiorAssetOperationalStatus = superiorAsset.operationalStatus;\r\n    }\r\n\r\n    // Converts Pn list into LabelValue\r\n    const pnList = woAssetManagementDTO.availablePNDTOList;\r\n    if (pnList) {\r\n      operationalConfigurationSetupRow.pnList = pnList.map((pn) => ({\r\n        label: pn.pnCode || '',\r\n        value: pn.pnCode || ''\r\n      }));\r\n    }\r\n\r\n    const snList = woAssetManagementDTO.availableBidoEquipmentList;\r\n    if (snList) {\r\n      operationalConfigurationSetupRow.snList = snList.map((sn) => ({\r\n        label: sn.sn || '',\r\n        value: sn.equipmentCode || ''\r\n      }));\r\n    }\r\n\r\n    this.applySelectedEquipementOnRow(operationalConfigurationSetupRow);\r\n    this.setRowDecision(operationalConfigurationSetupRow);\r\n    this.setRowOperationalStatus(operationalConfigurationSetupRow);\r\n\r\n    return operationalConfigurationSetupRow;\r\n  }\r\n\r\n  private isControlOk(woAssetManagementDTO: WoAssetManagementDTO): boolean {\r\n    return !woAssetManagementDTO.alertIcon || woAssetManagementDTO.alertIcon === '0';\r\n  }\r\n\r\n  private applySelectedEquipementOnRow(operationalConfigurationSetupRow: OperationalConfigurationSetupRow) {\r\n    const equipement = operationalConfigurationSetupRow.woAssetManagementDTO.selectedBidoEquipmentDTO;\r\n    if (equipement) {\r\n      operationalConfigurationSetupRow.equipmentCode = equipement.equipmentCode;\r\n      operationalConfigurationSetupRow.sn = equipement.sn;\r\n      operationalConfigurationSetupRow.designation = equipement.equipmentDesignation;\r\n    }\r\n  }\r\n\r\n  private initOperationalConfigurationSetupColumns(): void {\r\n    this.operationalConfigurationSetupColumns = [\r\n      { field: 'decision', alignment: 'left', width: '7%' },\r\n      { field: 'pn', alignment: 'left', width: '10%' },\r\n      { field: 'sn', alignment: 'left', width: '10%' },\r\n      { field: 'designation', alignment: 'left', width: '10%' },\r\n      { field: 'functionalLocation', alignment: 'left', width: '8%' },\r\n      { field: 'superiorAssetPn', alignment: 'left', width: '8%' },\r\n      { field: 'superiorAssetSn', alignment: 'left', width: '8%' },\r\n      { field: 'superiorAssetDesignation', alignment: 'left', width: '8%' },\r\n      { field: 'superiorAssetOperationalStatus', alignment: 'left', width: '8%' },\r\n      { field: 'date', alignment: 'left', width: '8%' },\r\n      { field: 'newOperationalStatus', alignment: 'left', width: '10%' },\r\n      { field: 'control', alignment: 'center', width: '7%' }\r\n    ];\r\n  }\r\n\r\n  /**************************************************************************\r\n   * User interactions\r\n   *************************************************************************/\r\n  public onCancel(): void {\r\n    if (this.project.projectId) {\r\n      const projectId = this.project.projectId;\r\n      this.confirmationService.confirmDelete({\r\n        messageKey: this.getTranslateKey('confirmProjectDeletion'),\r\n        accept: () => {\r\n          this.workPackageSearchService.removeBidmProject({ projectId }).subscribe(() => {\r\n            this.closeComponent();\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public onSave(): void {\r\n    this.project.statusState = AWPropertiesConstants.AIRM_PROJECT_STATUS_SCHEDULED;\r\n    this.showSaveSpinner = true;\r\n    this.workPackageFormService\r\n      .updateBidmProject(this.project)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.showSaveSpinner = false;\r\n        })\r\n      )\r\n      .subscribe(() => {\r\n        this.canExecute = true;\r\n        this.messageService.showSuccessMessage('global.successOnSave');\r\n      });\r\n  }\r\n\r\n  public onPnSelected(pnCode: string, currentRow: OperationalConfigurationSetupRow) {\r\n    currentRow.woAssetManagementDTO.selectedPn = pnCode;\r\n    this.operationalConfigurationSetupService\r\n      .updateWOAssetManagementPn(this.initUpdateInput(currentRow))\r\n      .subscribe((result) => {\r\n        if (result) {\r\n          this.replaceCurrentRow(currentRow, result);\r\n        }\r\n      });\r\n  }\r\n\r\n  public onSnSelected(equipmentCode: string, currentRow: OperationalConfigurationSetupRow) {\r\n    const currentWo = currentRow.woAssetManagementDTO;\r\n    if (currentWo.availableBidoEquipmentList) {\r\n      currentWo.selectedBidoEquipmentDTO = currentWo.availableBidoEquipmentList.find(\r\n        (equ) => equ.equipmentCode === equipmentCode\r\n      );\r\n      this.applySelectedEquipementOnRow(currentRow);\r\n\r\n      this.operationalConfigurationSetupService\r\n        .updateWOAssetManagementSelectedEquipment(this.initUpdateInput(currentRow))\r\n        .subscribe((result) => {\r\n          if (result) {\r\n            this.replaceCurrentRow(currentRow, result);\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  public onStatusSelected(statusSelected: string, currentRow: OperationalConfigurationSetupRow) {\r\n    currentRow.woAssetManagementDTO.selectedStatus = statusSelected;\r\n    this.operationalConfigurationSetupService\r\n      .controlWOAssetManagement(this.initUpdateInput(currentRow))\r\n      .subscribe((result) => {\r\n        if (result) {\r\n          this.replaceCurrentRow(currentRow, result);\r\n        }\r\n      });\r\n  }\r\n\r\n  private replaceCurrentRow(currentRow: OperationalConfigurationSetupRow, woAssetManagementDTO: WoAssetManagementDTO) {\r\n    const position = this.operationalConfigurationSetupTable.indexOf(currentRow);\r\n    if (position >= 0) {\r\n      const newRow = this.createOperationConfigurationRow(woAssetManagementDTO);\r\n      this.operationalConfigurationSetupTable.splice(position, 1, newRow);\r\n\r\n      const positionSelection = this.operationalConfigurationSetupSelection.indexOf(currentRow);\r\n      if (positionSelection >= 0) {\r\n        this.operationalConfigurationSetupSelection.splice(positionSelection, 1, newRow);\r\n      }\r\n    }\r\n  }\r\n\r\n  private initUpdateInput(\r\n    operationalConfigurationSetupRow: OperationalConfigurationSetupRow\r\n  ): UpdateOperationalConfigurationSetupInputDTO {\r\n    return {\r\n      woAssetManagementDTO: operationalConfigurationSetupRow.woAssetManagementDTO,\r\n      woAssetManagementDTOList: this.operationalConfigurationSetupTable.map((row) => row.woAssetManagementDTO)\r\n    };\r\n  }\r\n\r\n  public executeSelection(): void {\r\n    if (this.operationalConfigurationSetupSelection.length > 0 && this.validateExecutionSelection()) {\r\n      const selectedWoAssetManagements = this.operationalConfigurationSetupSelection.map(\r\n        (row) => row.woAssetManagementDTO\r\n      );\r\n      this.showExecuteSpinner = true;\r\n      this.operationalConfigurationSetupService\r\n        .executeWOAssetManagementDecision(selectedWoAssetManagements)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.showExecuteSpinner = false;\r\n          })\r\n        )\r\n        .subscribe((results) => {\r\n          if (results) {\r\n            results.forEach((result) => {\r\n              this.replaceRowByWorkOrderId(result);\r\n            });\r\n            this.operationalConfigurationSetupSelection = [];\r\n          }\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('executeSuccess'));\r\n        });\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('executeInvalid'));\r\n    }\r\n  }\r\n\r\n  private validateExecutionSelection() {\r\n    return this.operationalConfigurationSetupSelection.every((row) => {\r\n      const woam = row.woAssetManagementDTO;\r\n\r\n      return !!woam.selectedBidoEquipmentDTO && !!woam.selectedStatus && this.isControlOk(woam);\r\n    });\r\n  }\r\n\r\n  private replaceRowByWorkOrderId(result: WoAssetManagementDTO) {\r\n    const rowIndex = this.operationalConfigurationSetupTable.findIndex(\r\n      (row) =>\r\n        !!row.woAssetManagementDTO.bidmWorkOrderDTOId &&\r\n        !!result.bidmWorkOrderDTOId &&\r\n        row.woAssetManagementDTO.bidmWorkOrderDTOId.woId === result.bidmWorkOrderDTOId.woId\r\n    );\r\n    if (rowIndex >= 0) {\r\n      this.operationalConfigurationSetupTable.splice(rowIndex, 1, this.createOperationConfigurationRow(result));\r\n    }\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Opening other form\r\n   *************************************************************************/\r\n\r\n  public openProject(): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_WORK_PACKAGE_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize({ wpId: this.project.projectId })\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openProjectAsset(): void {\r\n    const equipmentCode = this.project.assetCode;\r\n\r\n    const objectId: BidoEquipmentDTO = {\r\n      equipmentCode\r\n    };\r\n\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.FLE_AIRCRAFT_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { OperationalConfigurationSetupApi } from '../../../../../../shared/api/operational-configuration-setup.api';\r\nimport { AbstractAwHttpService } from '../../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../../shared/services/app-config.service';\r\nimport { GetOperationalConfigurationSetupInputDTO } from '../../../../../../shared/types/api-input-types/operational-configuration-setup/get-operational-configuration-setup-input-dto.interface';\r\nimport { UpdateOperationalConfigurationSetupInputDTO } from '../../../../../../shared/types/api-input-types/operational-configuration-setup/update-operational-configuration-setup-input-dto.interface';\r\nimport { CountOperationalConfigurationSetupOutputDTO } from '../../../../../../shared/types/api-output-types/operational-configuration-setup/count-operational-configuration-setup-output-dto.interface';\r\nimport { GetOperationalConfigurationSetupOutputDTO } from '../../../../../../shared/types/api-output-types/operational-configuration-setup/get-operational-configuration-setup-output-dto.interface';\r\nimport { BidmProjectDTOId } from '../../../../../../shared/types/api-types/bidm-project-dto-id.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { WoAssetManagementDTO } from '../../../../../../shared/types/api-types/wo-asset-management-dto.interface';\r\n\r\n@Injectable()\r\nexport class OperationalConfigurationSetupService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly operationalConfigurationSetupApi: OperationalConfigurationSetupApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public initOperationalConfigurationSetup(input: BidoMissionEquipmentDTOId): Observable<BidmProjectDTOId> {\r\n    return super.post<BidoMissionEquipmentDTOId, BidmProjectDTOId>(this.operationalConfigurationSetupApi.init, input);\r\n  }\r\n\r\n  public countOperationalConfigurationSetup(\r\n    input: BidoMissionEquipmentDTOId\r\n  ): Observable<CountOperationalConfigurationSetupOutputDTO> {\r\n    return super.post<BidoMissionEquipmentDTOId, CountOperationalConfigurationSetupOutputDTO>(\r\n      this.operationalConfigurationSetupApi.count,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getOperationalConfigurationSetup(\r\n    input: GetOperationalConfigurationSetupInputDTO\r\n  ): Observable<GetOperationalConfigurationSetupOutputDTO> {\r\n    return super.post<GetOperationalConfigurationSetupInputDTO, GetOperationalConfigurationSetupOutputDTO>(\r\n      this.operationalConfigurationSetupApi.get,\r\n      input\r\n    );\r\n  }\r\n\r\n  public updateWOAssetManagementPn(\r\n    input: UpdateOperationalConfigurationSetupInputDTO\r\n  ): Observable<WoAssetManagementDTO> {\r\n    return super.post<UpdateOperationalConfigurationSetupInputDTO, WoAssetManagementDTO>(\r\n      this.operationalConfigurationSetupApi.updateWoAssetManagementPn,\r\n      input\r\n    );\r\n  }\r\n\r\n  public updateWOAssetManagementSelectedEquipment(\r\n    input: UpdateOperationalConfigurationSetupInputDTO\r\n  ): Observable<WoAssetManagementDTO> {\r\n    return super.post<UpdateOperationalConfigurationSetupInputDTO, WoAssetManagementDTO>(\r\n      this.operationalConfigurationSetupApi.updateWoAssetManagementSelectedEquipment,\r\n      input\r\n    );\r\n  }\r\n\r\n  public controlWOAssetManagement(\r\n    input: UpdateOperationalConfigurationSetupInputDTO\r\n  ): Observable<WoAssetManagementDTO> {\r\n    return super.post<UpdateOperationalConfigurationSetupInputDTO, WoAssetManagementDTO>(\r\n      this.operationalConfigurationSetupApi.controlWOAssetManagement,\r\n      input\r\n    );\r\n  }\r\n\r\n  public executeWOAssetManagementDecision(input: WoAssetManagementDTO[]): Observable<WoAssetManagementDTO[]> {\r\n    return super.post<WoAssetManagementDTO[], WoAssetManagementDTO[]>(\r\n      this.operationalConfigurationSetupApi.executeWoAssetManagementDecision,\r\n      input\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell-header\\\">\\r\\n  <div class=\\\"grid-cell-title-container\\\">\\r\\n    <h3 class=\\\"grid-cell-title\\\">\\r\\n      {{ getComponentName() + \\\".replenishments\\\" | translate }}\\r\\n    </h3>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n  <div *ngIf=\\\"!isCreateOpenMode && !!replenishmentTypeSelected\\\" class=\\\"row\\\">\\r\\n    <div class=\\\"line-maintenance-validate\\\">\\r\\n      <button *ngIf=\\\"showCancelReplenishmentButton()\\\" type=\\\"button\\\" color=\\\"warn\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n        {{ \\\"global.cancel\\\" | translate }}\\r\\n      </button>\\r\\n      <button\\r\\n        *ngIf=\\\"showValidateReplenishmentButton()\\\"\\r\\n        color=\\\"primary\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"validate()\\\"\\r\\n      >\\r\\n        {{ \\\"global.validate\\\" | translate }}\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"section\\\">\\r\\n    <div class=\\\"section-content\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">\\r\\n            {{ getComponentName() + \\\".replenishmentType\\\" | translate }}\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [options]=\\\"replenishmentTypeList\\\"\\r\\n              [(ngModel)]=\\\"replenishmentTypeSelected\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              (onChange)=\\\"selectReplenishmentType($event.value)\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group flex--3\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"replenishmentTypeSelected !== undefined && replenishmentTypeSelected !== null\\\" class=\\\"section\\\">\\r\\n    <h4 class=\\\"section-title\\\">\\r\\n      {{ getComponentName() + \\\".measuresByStep\\\" | translate }}\\r\\n    </h4>\\r\\n\\r\\n    <div class=\\\"section-content\\\">\\r\\n      <div class=\\\"row measures-by-step-wrapper\\\">\\r\\n        <div class=\\\"measures-by-step\\\">\\r\\n          <div class=\\\"measure\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n              {{ getComponentName() + \\\".initialStatus\\\" | translate }}\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"value\\\">\\r\\n              {{ replenishmentInitialStatusQuantity }}\\r\\n              {{ replenishmentQuantityUnit }}\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"measure\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n              {{ getComponentName() + \\\".beforeFlight\\\" | translate }}\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"value\\\">\\r\\n              {{ replenishmentBeforeFlightQuantity }}\\r\\n              {{ replenishmentQuantityUnit }}\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"measure\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n              {{ getComponentName() + \\\".afterFlight\\\" | translate }}\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"value\\\">\\r\\n              {{ replenishmentAfterFlightQuantity }}\\r\\n              {{ replenishmentQuantityUnit }}\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"measure\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n              {{ getComponentName() + \\\".endStatus\\\" | translate }}\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"value\\\">\\r\\n              {{ replenishmentEndStatusQuantity }}\\r\\n              {{ replenishmentQuantityUnit }}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">\\r\\n            {{ getComponentName() + \\\".afterFlightQuantityFromAicraft\\\" | translate }}\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" (click)=\\\"openAfterFlightQuantityFromAircraftDialog()\\\">\\r\\n            <div class=\\\"form-control-data\\\">\\r\\n              {{ replenishmentAfterFlightQuantityFromAC }}\\r\\n              {{ replenishmentQuantityUnit }}\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw fa-pencil aw-icon btn-search\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"openAfterFlightQuantityFromAircraftDialog()\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group flex--3\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"replenishmentTypeSelected !== undefined && replenishmentTypeSelected !== null\\\" class=\\\"section\\\">\\r\\n    <h4 class=\\\"section-title\\\">\\r\\n      {{ getComponentName() + \\\".measures\\\" | translate }}\\r\\n      ({{ replenishmentMeasureTable ? replenishmentMeasureTable.length : 0 }})\\r\\n    </h4>\\r\\n\\r\\n    <div class=\\\"section-content\\\">\\r\\n      <p-table\\r\\n        [resizableColumns]=\\\"true\\\"\\r\\n        #ptableReplenishments\\r\\n        class=\\\"aw-table2\\\"\\r\\n        [columns]=\\\"replenishmentMeasureTableColList\\\"\\r\\n        [value]=\\\"replenishmentMeasureTable\\\"\\r\\n        [(selection)]=\\\"replenishmentMeasureTableSelectedList\\\"\\r\\n        [scrollable]=\\\"true\\\"\\r\\n        dataKey=\\\"_rmId\\\"\\r\\n      >\\r\\n        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n          <span *ngIf=\\\"!replenishmentMeasureTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n          <div *ngIf=\\\"replenishmentMeasureTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n            <div class=\\\"lds-hourglass\\\"></div>\\r\\n          </div>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"caption\\\">\\r\\n          <div\\r\\n            class=\\\"aw-table-header\\\"\\r\\n            [ngClass]=\\\"{ 'rows-selected': replenishmentMeasureTableSelectedList.length > 0 }\\\"\\r\\n          >\\r\\n            <div class=\\\"aw-table-global-filter\\\">\\r\\n              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n              </label>\\r\\n\\r\\n              <input\\r\\n                class=\\\"aw-table-global-filter-input\\\"\\r\\n                type=\\\"text\\\"\\r\\n                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                (input)=\\\"ptableReplenishments.filterGlobal($event.target.value, 'contains')\\\"\\r\\n              />\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"aw-table-actions\\\">\\r\\n              <button\\r\\n                *ngIf=\\\"!replenishmentTableLoading && replenishmentMeasureTableSelectedList.length > 0\\\"\\r\\n                type=\\\"button\\\"\\r\\n                mat-raised-button\\r\\n                (click)=\\\"removeSelectedReplenishmentMeasureList()\\\"\\r\\n              >\\r\\n                {{ getComponentName() + \\\".removeSelectedMeasures\\\" | translate }}\\r\\n              </button>\\r\\n\\r\\n              <button\\r\\n                *ngIf=\\\"!replenishmentTableLoading && replenishmentMeasureTableSelectedList.length === 0\\\"\\r\\n                type=\\\"button\\\"\\r\\n                mat-raised-button\\r\\n                [ngClass]=\\\"{ active: workPackageListToAddVisible }\\\"\\r\\n                (click)=\\\"openReplenishmentMeasureDialog()\\\"\\r\\n              >\\r\\n                {{ getComponentName() + \\\".addMeasure\\\" | translate }}\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n          <colgroup>\\r\\n            <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n          </colgroup>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n          <tr>\\r\\n            <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n              <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n            </th>\\r\\n\\r\\n            <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n              {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n            </th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n            <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n              <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n            </td>\\r\\n\\r\\n            <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n              {{ rowData[col.field] }}\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </p-table>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-line-maintenance-after-flight-quantity\\r\\n    *ngIf=\\\"dialogAfterFlightQuantityVisible\\\"\\r\\n    [(display)]=\\\"dialogAfterFlightQuantityVisible\\\"\\r\\n    [quantity]=\\\"replenishmentAfterFlightQuantityFromAC\\\"\\r\\n    (onValidated)=\\\"updateAfterFlightQuantity($event)\\\"\\r\\n  ></aw-dialog-line-maintenance-after-flight-quantity>\\r\\n\\r\\n  <aw-dialog-line-maintenance-replenishment-measure\\r\\n    *ngIf=\\\"dialogReplenishmentMeasureVisible\\\"\\r\\n    [(display)]=\\\"dialogReplenishmentMeasureVisible\\\"\\r\\n    (onValidated)=\\\"addReplenishmentMeasure($event)\\\"\\r\\n  ></aw-dialog-line-maintenance-replenishment-measure>\\r\\n</div>\\r\\n\"","module.exports = \":host .measures-by-step-wrapper {\\n  justify-content: center; }\\n\\n:host .measures-by-step {\\n  display: flex;\\n  flex-direction: row;\\n  border: 1px solid #595959;\\n  border-radius: 4px; }\\n\\n:host .measures-by-step .measure {\\n    display: flex;\\n    flex-direction: column;\\n    height: 6rem;\\n    width: 8rem; }\\n\\n:host .measures-by-step .measure .title {\\n      display: flex;\\n      flex-direction: row;\\n      justify-content: center; }\\n\\n:host .measures-by-step .measure .value {\\n      display: flex;\\n      flex-direction: row;\\n      align-items: center;\\n      flex: 1;\\n      font-size: 1.25rem;\\n      font-weight: 600;\\n      justify-content: center; }\\n\\n:host .line-maintenance-validate {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: row;\\n  justify-content: flex-end; }\\n\\n:host .line-maintenance-validate button {\\n    margin-left: 0.5rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQvZm9ybS9saW5lLW1haW50ZW5hbmNlL3JlcGxlbmlzaG1lbnRzL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxmbGlnaHQtb3BlcmF0aW9uc1xcZmxpZ2h0XFxmb3JtXFxsaW5lLW1haW50ZW5hbmNlXFxyZXBsZW5pc2htZW50c1xccmVwbGVuaXNobWVudHMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZmxpZ2h0LW9wZXJhdGlvbnMvZmxpZ2h0L2Zvcm0vbGluZS1tYWludGVuYW5jZS9yZXBsZW5pc2htZW50cy9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXHN0eWxlc1xcX21peGlucy5zY3NzIiwic3JjL2FwcC9tYWluL2ZsaWdodC1vcGVyYXRpb25zL2ZsaWdodC9mb3JtL2xpbmUtbWFpbnRlbmFuY2UvcmVwbGVuaXNobWVudHMvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUVJLHVCQUF1QixFQUFBOztBQUYzQjtFQ29CRSxhQUFhO0VBQ2IsbUJBQW1CO0VEYmpCLHlCRVIwQjtFRlMxQixrQkV5QmUsRUFBQTs7QUZsQ25CO0lDZUUsYUFBYTtJQUNiLHNCQUFzQjtJREZsQixZQUFZO0lBQ1osV0FBVyxFQUFBOztBQWZqQjtNQ29CRSxhQUFhO01BQ2IsbUJBQW1CO01ERGIsdUJBQXVCLEVBQUE7O0FBcEIvQjtNQ29CRSxhQUFhO01BQ2IsbUJBQW1CO01ES2IsbUJBQW1CO01BQ25CLE9BQU87TUFDUCxrQkFBa0I7TUFDbEIsZ0JBQWdCO01BQ2hCLHVCQUF1QixFQUFBOztBQTlCL0I7RUFtQ0ksYUFBYTtFQUNiLE9BQU87RUFDUCxtQkFBbUI7RUFDbkIseUJBQXlCLEVBQUE7O0FBdEM3QjtJQXdDTSxtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZmxpZ2h0LW9wZXJhdGlvbnMvZmxpZ2h0L2Zvcm0vbGluZS1tYWludGVuYW5jZS9yZXBsZW5pc2htZW50cy9yZXBsZW5pc2htZW50cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuQGltcG9ydCBcIm1peGluc1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5tZWFzdXJlcy1ieS1zdGVwLXdyYXBwZXIge1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAubWVhc3VyZXMtYnktc3RlcCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGJvcmRlcjogJGJvcmRlci13aWR0aCAkYm9yZGVyLXN0eWxlICRib3JkZXItY29sb3I7XHJcbiAgICBib3JkZXItcmFkaXVzOiAkYm9yZGVyLXJhZGl1cztcclxuXHJcbiAgICAubWVhc3VyZSB7XHJcbiAgICAgIEBpbmNsdWRlIGZsZXgtY29sdW1uKCk7XHJcblxyXG4gICAgICBoZWlnaHQ6IDZyZW07XHJcbiAgICAgIHdpZHRoOiA4cmVtO1xyXG5cclxuICAgICAgLnRpdGxlIHtcclxuICAgICAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnZhbHVlIHtcclxuICAgICAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGZsZXg6IDE7XHJcbiAgICAgICAgZm9udC1zaXplOiAxLjI1cmVtO1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLmxpbmUtbWFpbnRlbmFuY2UtdmFsaWRhdGUge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXg6IDE7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAwLjVyZW07XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gVXRpbHMgLy9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuQG1peGluIGJ1dHRvbi1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yOiBudWxsKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgYm9yZGVyLWNvbG9yOiAkY29sb3I7XHJcbiAgY29sb3I6ICRjb2xvcjtcclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlcixcclxuICAmOm5vdCg6ZGlzYWJsZWQpLmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7XHJcbiAgICBib3JkZXItY29sb3I6IGlmKCRib3JkZXItY29sb3IgPT0gbnVsbCwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yKTtcclxuICAgIGNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LWNvbHVtbigpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LXJvdygpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dCgpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG4gIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICBjb2xvcjogaW5oZXJpdDtcclxuICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHBhZGRpbmc6IDJweCAwIDRweCAwO1xyXG5cclxuICB0cmFuc2l0aW9uOiBib3JkZXItYm90dG9tLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtZGlzYWJsZWQoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ7XHJcbiAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuQG1peGluIGlucHV0LWZvY3VzKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtaG92ZXIoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbn1cclxuXHJcbkBtaXhpbiBwbGFjZWhvbGRlciB7XHJcbiAgJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzZWFyY2gtY3JpdGVyaWEtY29udGFpbmVyIHtcclxuICAuYWR2YW5jZWQtY3JpdGVyaWEge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1jcml0ZXJpYS1mb290ZXIge1xyXG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xyXG4gICAgbWFyZ2luLXRvcDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcblxyXG4gICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXIge1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLW1vcmUge1xyXG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1tb3JlIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAvIDIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnNlYXJjaC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAgIC5hdy1idG4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc2VjdGlvbi1jb250YWluZXIge1xyXG4gIG1hcmdpbi10b3A6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDQpO1xyXG5cclxuICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLXRpdGxlIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICBsaW5lLWhlaWdodDogMS43NXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuXHJcbiAgICAmLnJlcXVpcmVkIHtcclxuICAgICAgQGluY2x1ZGUgZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQoKTtcclxuICAgICAgJjo6YWZ0ZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmFsZXJ0IHtcclxuICAgICAgICBjb2xvcjogJHJlZC1kYXJrMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgbGluZS1oZWlnaHQ6IDEuNzVyZW07XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcblxyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tY29udGVudCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LWNvbHVtbigpO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gICAgJiA+IGJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHRleHQtb3ZlcmZsb3ctaGlkZGVuIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gR3JpZCBmb3JtIGNvbnRyb2xzIC8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tY29udHJvbCB7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYk1lZGl1bVwiO1xyXG5cclxuICAmID4gaW5wdXQgKyBwLW1lc3NhZ2UgPiAudWktbWVzc2FnZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAmOmZvY3VzLFxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgICYgPiAuZm9ybS1jb250cm9sLWFjdGlvbnMge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBsZWZ0LCByZ2IoMjU1LCAyNTUsIDI1NSkgNjAlLCB0cmFuc3BhcmVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmZvcm0tY29udHJvbC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIGJvdHRvbTogMDtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMDtcclxuICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgLmF3LWljb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3M7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWJ0bixcclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcblxyXG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAmLmRpc2FibGVkIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYnRuIHtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuXHJcbiAgICAgICYuYXctY2FsZW5kYXIgLnVpLWlucHV0dGV4dCxcclxuICAgICAgJi5hdy1kcm9wZG93biAudWktZHJvcGRvd24sXHJcbiAgICAgICYuYXctaW5wdXQsXHJcbiAgICAgICYuYXctdGV4dGFyZWEge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWNhbGVuZGFyIHtcclxuICAgICAgLy8gRklYTUU6IGZpeCBhbiBVSSBpc3N1ZSBvbiBQcmltZU5HIGNhbGVuZGFyIGNvbXBvbmVudDsgdG8gcmVtb3ZlIHdoZW4gaXNzdWUgd2lsbCBiZSBmaXhlZCB1cHN0cmVhbVxyXG4gICAgICBvdmVyZmxvdzogaW5pdGlhbDtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWljb24ge1xyXG4gICAgICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1heC1oZWlnaHQ6IDMwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAzMHB4O1xyXG5cclxuICAgICYuZGlzYWJsZWQge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG5cclxuICAgICAgLmF3LWljb246bm90KC5yZWFkLW9ubHktbGluaykge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyAvLyBub25lXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1jb250cm9sLWRhdGEge1xyXG4gICAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICAgICAgcGFkZGluZzogMnB4IDAgNHB4IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1uaW1wLFxyXG4gICAgLmJ0bi1leHRlcm5hbC1saW5rLXdyYXBwZXIsXHJcbiAgICAuYnRuLWNsZWFyLXdyYXBwZXIsXHJcbiAgICAuYnRuLWZpbGUtdXBsb2FkLXdyYXBwZXIsXHJcbiAgICAuYnRuLXNlYXJjaC13cmFwcGVyIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1maWxlLXVwbG9hZC13cmFwcGVyIHtcclxuICAgICAgLmF3LWZpbGV1cGxvYWQge1xyXG4gICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG5cclxuICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnVpLWJ1dHRvbiB7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC51aS1idXR0b24taWNvbi1sZWZ0IHtcclxuICAgICAgICAgICAgZGlzcGxheTogY29udGVudHM7XHJcbiAgICAgICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogaW5pdGlhbDtcclxuICAgICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAgICY6OmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgY29udGVudDogXCJcXGU5MzRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1jbGVhciB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1zZWFyY2gge1xyXG4gICAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLXJhZGlvYnV0dG9uIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgJiA+IC5hdy1yYWRpb2J1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogY2FsYygyICogI3skbWFyZ2luLXZhbHVlfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtZ2VuZXJpYyB7XHJcbiAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcblxyXG4gICYgPiBhIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmID4gLmFsZXJ0IHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNXJlbTtcclxuXHJcbiAgICAmLmFsZXJ0LS1ub2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MTtcclxuICAgIH1cclxuXHJcbiAgICAmLmFsZXJ0LS1vayB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0td2FybmluZyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQge1xyXG4gICY6OmFmdGVyIHtcclxuICAgIGNvbG9yOiAkcmVkLWRhcmsxO1xyXG4gICAgY29udGVudDogXCIqXCI7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtNHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtY2FsZW5kYXIge1xyXG4gICYudWktaW5wdXR3cmFwcGVyLWZvY3VzIHtcclxuICAgIC51aS1jYWxlbmRhciAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC51aS1jYWxlbmRhciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgJjpkaXNhYmxlZCB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1sYWJlbCB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1jaGVja2JveCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGhlaWdodDogJGNoZWNrYm94LWhlaWdodDtcclxuICB3aWR0aDogJGNoZWNrYm94LWhlaWdodDtcclxuXHJcbiAgLnVpLWNoa2JveCB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktY2hrYm94LWJveCB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgIGNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgICYudWktc3RhdGUtZGlzYWJsZWQge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWFjdGl2ZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWRyb3Bkb3duIHtcclxuICAudWktZHJvcGRvd24ge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi1sYWJlbCB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtZm9jdXMge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWNsZWFyLWljb24sXHJcbiAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1jbGVhci1pY29uIHtcclxuICAgICAgcmlnaHQ6IDEuNzVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tbGFiZWwge1xyXG4gICAgICBAaW5jbHVkZSB0ZXh0LW92ZXJmbG93LWhpZGRlbigpO1xyXG5cclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIgKiAxLjc1cmVtKTtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZml4ZWQtd2lkdGggLnVpLWRyb3Bkb3duIHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1maWxldXBsb2FkIHtcclxuICBAZXh0ZW5kIC5hdy1idG47XHJcblxyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC51aS1maWxldXBsb2FkLWNob29zZSB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgIHBhZGRpbmc6IDAgJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAudWktYnV0dG9uLWljb24tbGVmdCB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWJ1dHRvbi10ZXh0IHtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1pbnB1dCgpIHtcclxuICBAaW5jbHVkZSBpbnB1dCgpO1xyXG5cclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgJjpkaXNhYmxlZCB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1kaXNhYmxlZCgpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpmb2N1cyB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtdGV4dGFyZWEge1xyXG4gIEBpbmNsdWRlIGdyaWQtaW5wdXQoKTtcclxuXHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWluLWhlaWdodDogJGZvcm0tY29udHJvbC1oZWlnaHQ7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxufVxyXG5cclxuQG1peGluIGdyaWQtcmFkaW9idXR0b24ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBoZWlnaHQ6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcbiAgd2lkdGg6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcblxyXG4gIC51aS1yYWRpb2J1dHRvbiB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktcmFkaW9idXR0b24tYm94IHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICBjb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1hY3RpdmUge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuXHJcbiAgICAgICAgLnVpLXJhZGlvYnV0dG9uLWljb24ge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBjYWxlbmRhci1wYW5lbCB7XHJcbiAgLnVpLWRhdGVwaWNrZXI6bm90KC51aS1kYXRlcGlja2VyLWlubGluZSkge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICAgIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZHJvcGRvd24tcGFuZWwge1xyXG4gIC51aS1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICBib3JkZXI6ICRib3JkZXItd2lkdGggJGJvcmRlci1zdHlsZSAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWl0ZW1zLXdyYXBwZXIgLnVpLWRyb3Bkb3duLWxpc3Qge1xyXG4gICAgICAudWktZHJvcGRvd24taXRlbSB7XHJcbiAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBwYWRkaW5nOiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYudWktc3RhdGUtaGlnaGxpZ2h0IHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */\"","import { Component, Input, OnInit } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../../shared/constants/aw-properties-constants';\r\nimport { ControlConfigConstants } from '../../../../../../shared/constants/control-config-constants';\r\nimport { GenericPropertyConstants } from '../../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../../../shared/services/date.service';\r\nimport { MessageService } from '../../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../../shared/services/properties.service';\r\nimport { CreateReplenishmentByFlightAndEquipmentAndReplenishmentTypeInput } from '../../../../../../shared/types/api-input-types/fleet-business/create-replenishment-by-flight-and-equipment-and-replenishment-type-input.interface';\r\nimport { FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput } from '../../../../../../shared/types/api-input-types/fleet-management/find-replenishment-by-mission-equipment-and-type-and-equipment-code-input.interface';\r\nimport { RemoveReplenishmentMeasureListInput } from '../../../../../../shared/types/api-input-types/fleet-management/remove-replenishment-measure-list-input.interface';\r\nimport { SaveReplenishmentMeasureListInput } from '../../../../../../shared/types/api-input-types/fleet-management/save-replenishment-measure-list-input.interface';\r\nimport { UpdateReplenishmentAfterFlightQuantityFromAircraftInput } from '../../../../../../shared/types/api-input-types/fleet-management/update-replenishment-after-flight-quantity-from-aircraft-input.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoReplenishmentDTOId } from '../../../../../../shared/types/api-types/bido-replenishment-dto-id.interface';\r\nimport { BidoReplenishmentMeasureDTO } from '../../../../../../shared/types/api-types/bido-replenishment-measure-dto.interface';\r\nimport { GenericComponent } from '../../../../../../shared/types/generic-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { ListUtils } from '../../../../../../shared/utils/list-utils';\r\nimport { NumberUtils } from '../../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../../shared/utils/object-utils';\r\nimport { SelectItemUtils } from '../../../../../../shared/utils/select-item-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { ReplenishmentMeasure } from '../../../types/replenishment-measure.interface';\r\nimport { FlightFormService } from '../../flight/flight-form.service';\r\nimport { LineMaintenanceFormService } from '../line-maintenance-form.service';\r\n\r\ninterface ReplenishmentMeasureRow {\r\n  date: string;\r\n  density: string;\r\n  measureSource: string;\r\n  occurrence: string;\r\n  origin: string;\r\n  quantity: string;\r\n  volume: string;\r\n  rmBatchNumber: string;\r\n  _equipmentCode: string | undefined;\r\n  _replenishmentId: string | undefined;\r\n  _rmId: string | undefined;\r\n  _rmNumber: number | undefined;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-line-maintenance-replenishments',\r\n  styleUrls: ['./replenishments.component.scss'],\r\n  templateUrl: './replenishments.component.html'\r\n})\r\nexport class ReplenishmentsComponent extends GenericComponent implements OnInit {\r\n  @Input()\r\n  public missionEquipmentId: BidoMissionEquipmentDTOId;\r\n\r\n  @Input()\r\n  public missionEquipment: BidoMissionEquipmentDTO;\r\n\r\n  @Input()\r\n  public equipment: BidoEquipmentDTO;\r\n\r\n  public controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  public dialogAfterFlightQuantityVisible: boolean;\r\n  public dialogReplenishmentMeasureVisible: boolean;\r\n  public replenishmentAfterFlightQuantity: string;\r\n  public replenishmentAfterFlightQuantityFromAC: string;\r\n  public replenishmentBeforeFlightQuantity: string;\r\n  public replenishmentEndStatusQuantity: string;\r\n  public replenishmentInitialStatusQuantity: string;\r\n  public replenishmentQuantityUnit: string;\r\n  public replenishmentValidationStatus: ControlConfigConstants | undefined;\r\n  public replenishmentMeasureTable: ReplenishmentMeasureRow[];\r\n  public replenishmentMeasureTableColList: TableColumn[];\r\n  public replenishmentMeasureTableLoading: boolean;\r\n  public replenishmentMeasureTableSelectedList: ReplenishmentMeasureRow[];\r\n  public replenishmentTypeList: SelectItem[];\r\n  public replenishmentTypeSelected: string | undefined;\r\n\r\n  private maxNumberReplenishment: number;\r\n  private replenishmentMap: Map<string, BidoReplenishmentDTOId>;\r\n  private replenishmentOccurrenceList: LabelValue<string>[];\r\n  private replenishmentOriginList: LabelValue<string>[];\r\n  private replenishmentSourceList: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    private readonly dateService: DateService,\r\n    private readonly lineMaintenanceFormService: LineMaintenanceFormService,\r\n    private readonly messageService: MessageService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly flightFormService: FlightFormService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write);\r\n\r\n    this.init();\r\n    this.loadReplenishmentOccurrenceList();\r\n    this.loadReplenishmentOriginList();\r\n    this.loadReplenishmentSourceList();\r\n\r\n    this.setReplenishmentTableColList();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'ReplenishmentsComponent';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.loadReplenishmentTypeList();\r\n    this.calculateReplenishmentValidationStatus();\r\n  }\r\n\r\n  public addReplenishmentMeasure(data: {\r\n    deltaValue: ReplenishmentMeasure;\r\n    meteredSource: ReplenishmentMeasure;\r\n  }): void {\r\n    this.maxNumberReplenishment++;\r\n    const replenishmentId = this.replenishmentMap.get(\r\n      this.replenishmentTypeSelected as string\r\n    ) as BidoReplenishmentDTOId;\r\n\r\n    let replenishmentMeasureList: BidoReplenishmentMeasureDTO[] = [];\r\n    if (ObjectUtils.isDefined(data.deltaValue.quantity)) {\r\n      replenishmentMeasureList = [\r\n        ...replenishmentMeasureList,\r\n        this.createReplenishmentMeasure(data.deltaValue, AWPropertiesConstants.RM_SOURCE_DELTA_VALUE, replenishmentId)\r\n      ];\r\n    }\r\n    if (ObjectUtils.isDefined(data.meteredSource.quantity)) {\r\n      replenishmentMeasureList = [\r\n        ...replenishmentMeasureList,\r\n        this.createReplenishmentMeasure(\r\n          data.meteredSource,\r\n          AWPropertiesConstants.RM_SOURCE_METERED_SOURCE,\r\n          replenishmentId\r\n        )\r\n      ];\r\n    }\r\n\r\n    const input: SaveReplenishmentMeasureListInput = {\r\n      replenishmentMeasureList\r\n    };\r\n    this.lineMaintenanceFormService.saveReplenishmentMeasureList(input).subscribe((_) => {\r\n      this.loadReplenishmentMeasureList(replenishmentId);\r\n      this.refreshReplenishmentQuantityList(replenishmentId);\r\n    });\r\n  }\r\n\r\n  public openAfterFlightQuantityFromAircraftDialog(): void {\r\n    this.dialogAfterFlightQuantityVisible = true;\r\n  }\r\n\r\n  public openReplenishmentMeasureDialog(): void {\r\n    this.dialogReplenishmentMeasureVisible = true;\r\n  }\r\n\r\n  public reload(): void {\r\n    this.replenishmentTypeSelected = undefined;\r\n  }\r\n\r\n  public removeSelectedReplenishmentMeasureList(): void {\r\n    const replenishmentMeasureList = this.replenishmentMeasureTableSelectedList.map((elt) => {\r\n      return {\r\n        equipmentCode: elt._equipmentCode,\r\n        replenishmentId: elt._replenishmentId,\r\n        rmId: elt._rmId\r\n      };\r\n    });\r\n    const input: RemoveReplenishmentMeasureListInput = {\r\n      replenishmentMeasureList\r\n    };\r\n    this.lineMaintenanceFormService.removeReplenishmentMeasureList(input).subscribe((_) => {\r\n      const replenishmentId = this.replenishmentMap.get(\r\n        this.replenishmentTypeSelected as string\r\n      ) as BidoReplenishmentDTOId;\r\n      this.loadReplenishmentMeasureList(replenishmentId);\r\n      this.refreshReplenishmentQuantityList(replenishmentId);\r\n\r\n      this.replenishmentMeasureTableSelectedList = [];\r\n    });\r\n  }\r\n\r\n  public selectReplenishmentType(replenishmentType: string | undefined): void {\r\n    this.maxNumberReplenishment = 0;\r\n    this.replenishmentMeasureTable = [];\r\n    this.replenishmentMeasureTableSelectedList = [];\r\n\r\n    if (ObjectUtils.isDefined(replenishmentType)) {\r\n      this.replenishmentMeasureTableLoading = true;\r\n\r\n      const input: FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput = {\r\n        bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n        replenishmentType: replenishmentType as string\r\n      };\r\n      this.lineMaintenanceFormService\r\n        .findReplenishmentByMissionEquipmentAndTypeAndEquipmentCode(input)\r\n        .subscribe((result) => {\r\n          if (ObjectUtils.isDefined(result)) {\r\n            this.replenishmentMap.set(this.replenishmentTypeSelected as string, result);\r\n\r\n            this.getHighestReplenishmentMeasureNumber(result);\r\n            this.refreshReplenishmentQuantityList(result);\r\n\r\n            const replenishmentId: BidoReplenishmentDTOId = {\r\n              equipmentCode: result.equipmentCode,\r\n              replenishmentId: result.replenishmentId\r\n            };\r\n            this.loadReplenishmentMeasureList(replenishmentId);\r\n          } else {\r\n            this.createReplenishment();\r\n\r\n            this.replenishmentMeasureTableLoading = false;\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  public updateAfterFlightQuantity(quantity: number): void {\r\n    const input: UpdateReplenishmentAfterFlightQuantityFromAircraftInput = {\r\n      replenishmentAfterFlightQuantityFromAircraft: quantity.toString(),\r\n      replenishmentDTOId: this.replenishmentMap.get(this.replenishmentTypeSelected as string) as BidoReplenishmentDTOId\r\n    };\r\n    this.lineMaintenanceFormService.updateReplenishmentAfterFlightQuantityFromAircraft(input).subscribe((_) => {\r\n      this.replenishmentAfterFlightQuantityFromAC = NumberUtils.roundNumber(quantity, 0).toString();\r\n\r\n      this.messageService.showSuccessMessage(this.getTranslateKey('successOnUpdateAfterFlightQuantityFromAircraft'));\r\n    });\r\n  }\r\n\r\n  private createReplenishment(): void {\r\n    const input: CreateReplenishmentByFlightAndEquipmentAndReplenishmentTypeInput = {\r\n      bidoMissionEquipmentDTOId: this.missionEquipmentId,\r\n      replenishmentType: this.replenishmentTypeSelected as string,\r\n      equipmentCode: this.missionEquipmentId.equipmentCode as string\r\n    };\r\n    this.lineMaintenanceFormService\r\n      .createReplenishmentByFlightAndEquipmentAndReplenishmentType(input)\r\n      .subscribe((result) => {\r\n        this.replenishmentMap.set(this.replenishmentTypeSelected as string, result);\r\n\r\n        this.refreshReplenishmentQuantityList(result);\r\n      });\r\n  }\r\n\r\n  private createReplenishmentMeasure(\r\n    measure: ReplenishmentMeasure,\r\n    measureSource: string,\r\n    replenishmentId: BidoReplenishmentDTOId\r\n  ): BidoReplenishmentMeasureDTO {\r\n    const bidoReplenishmentMeasure: BidoReplenishmentMeasureDTO = {\r\n      equipmentCode: replenishmentId.equipmentCode,\r\n      replenishmentId: replenishmentId.replenishmentId,\r\n      rmDate: measure.date as Date,\r\n      rmDensity: ObjectUtils.isDefined(measure.density) ? (measure.density as number).toString() : undefined,\r\n      rmNumber: this.maxNumberReplenishment,\r\n      rmOccurrence: measure.occurrence,\r\n      rmOrigin: measure.origin,\r\n      rmSource: measureSource,\r\n      rmVolume: ObjectUtils.isDefined(measure.volume) ? (measure.volume as number).toString() : undefined,\r\n      rmWeight: (measure.quantity as number).toString(),\r\n      rmBatchNumber: measure.batchNumber\r\n    };\r\n\r\n    return bidoReplenishmentMeasure;\r\n  }\r\n\r\n  private createReplenishmentRow(replenishmentMeasure: BidoReplenishmentMeasureDTO): ReplenishmentMeasureRow {\r\n    const occurrence = this.replenishmentOccurrenceList.find((elt) => elt.value === replenishmentMeasure.rmOccurrence);\r\n    const origin = this.replenishmentOriginList.find((elt) => elt.value === replenishmentMeasure.rmOrigin);\r\n    const source = this.replenishmentSourceList.find((elt) => elt.value === replenishmentMeasure.rmSource);\r\n\r\n    const density = ObjectUtils.isDefined(replenishmentMeasure.rmDensity)\r\n      ? NumberUtils.roundNumber(Number(replenishmentMeasure.rmDensity), 2).toString()\r\n      : '';\r\n    const quantity = ObjectUtils.isDefined(replenishmentMeasure.rmWeight)\r\n      ? NumberUtils.roundNumber(Number(replenishmentMeasure.rmWeight), 0).toString()\r\n      : '';\r\n    const volume = ObjectUtils.isDefined(replenishmentMeasure.rmVolume)\r\n      ? NumberUtils.roundNumber(Number(replenishmentMeasure.rmVolume), 0).toString()\r\n      : '';\r\n\r\n    const replenishmentMeasureRow: ReplenishmentMeasureRow = {\r\n      rmBatchNumber: replenishmentMeasure.rmBatchNumber ? replenishmentMeasure.rmBatchNumber : '',\r\n      density,\r\n      quantity,\r\n      volume,\r\n      date: this.dateService.dateWithHourToString(replenishmentMeasure.rmDate),\r\n      measureSource: source ? source.label : '',\r\n      occurrence: occurrence ? occurrence.label : '',\r\n      origin: origin ? origin.label : '',\r\n      _equipmentCode: replenishmentMeasure.equipmentCode,\r\n      _replenishmentId: replenishmentMeasure.replenishmentId,\r\n      _rmId: replenishmentMeasure.rmId,\r\n      _rmNumber: replenishmentMeasure.rmNumber\r\n    };\r\n\r\n    return replenishmentMeasureRow;\r\n  }\r\n\r\n  private getHighestReplenishmentMeasureNumber(replenishmentId: BidoReplenishmentDTOId): void {\r\n    this.lineMaintenanceFormService\r\n      .getHighestReplenishmentMeasureNumberByReplenishmentId(replenishmentId)\r\n      .subscribe((result) => {\r\n        this.maxNumberReplenishment = result || 0;\r\n      });\r\n  }\r\n\r\n  private init(): void {\r\n    this.dialogAfterFlightQuantityVisible = false;\r\n    this.dialogReplenishmentMeasureVisible = false;\r\n    this.maxNumberReplenishment = 0;\r\n    this.replenishmentAfterFlightQuantity = '';\r\n    this.replenishmentAfterFlightQuantityFromAC = '';\r\n    this.replenishmentBeforeFlightQuantity = '';\r\n    this.replenishmentEndStatusQuantity = '';\r\n    this.replenishmentInitialStatusQuantity = '';\r\n    this.replenishmentMap = new Map<string, BidoReplenishmentDTOId>();\r\n    this.replenishmentOccurrenceList = [];\r\n    this.replenishmentOriginList = [];\r\n    this.replenishmentQuantityUnit = '';\r\n    this.replenishmentMeasureTable = [];\r\n    this.replenishmentMeasureTableLoading = false;\r\n    this.replenishmentMeasureTableSelectedList = [];\r\n    this.replenishmentSourceList = [];\r\n    this.replenishmentTypeList = [];\r\n    this.replenishmentTypeSelected = undefined;\r\n\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n    this.replenishmentValidationStatus = undefined;\r\n  }\r\n\r\n  private loadReplenishmentMeasureList(replenishmentId: BidoReplenishmentDTOId): void {\r\n    this.lineMaintenanceFormService\r\n      .findReplenishmentMeasureListByReplenishmentId(replenishmentId)\r\n      .subscribe((results) => {\r\n        this.replenishmentMeasureTable = ListUtils.orEmpty(results).map((elt) => this.createReplenishmentRow(elt));\r\n\r\n        this.replenishmentMeasureTableLoading = false;\r\n      });\r\n  }\r\n\r\n  private loadReplenishmentOccurrenceList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.RM_OCCURRENCE_MAP).subscribe((results) => {\r\n      this.replenishmentOccurrenceList = results || [];\r\n    });\r\n  }\r\n\r\n  private loadReplenishmentOriginList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.RM_ORIGIN_MAP).subscribe((results) => {\r\n      this.replenishmentOriginList = results || [];\r\n    });\r\n  }\r\n\r\n  private loadReplenishmentSourceList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.RM_SOURCE_MAP).subscribe((results) => {\r\n      this.replenishmentSourceList = results || [];\r\n    });\r\n  }\r\n\r\n  private loadReplenishmentTypeList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.REPLENISHMENT_TYPE_MAP).subscribe((results) => {\r\n      this.replenishmentTypeList = results ? SelectItemUtils.fromLabelValues(results) : [];\r\n      // Remove engine oil replenishment type from list\r\n      const engineOilReplenishmentType = this.replenishmentTypeList.find(\r\n        (elt) => elt.value === AWPropertiesConstants.REPLENISHMENT_TYPE_ENGINE_OIL\r\n      );\r\n      this.replenishmentTypeList = this.replenishmentTypeList.filter(\r\n        (replenishmentType) => replenishmentType !== engineOilReplenishmentType\r\n      );\r\n\r\n      if (!ListUtils.isNullOrEmpty(this.replenishmentTypeList)) {\r\n        const defaultReplenishmentType = this.replenishmentTypeList.find(\r\n          (elt) => elt.value === AWPropertiesConstants.REPLENISHMENT_TYPE_FUEL\r\n        );\r\n        if (defaultReplenishmentType && !StringUtils.isNullOrEmpty(defaultReplenishmentType.value as string)) {\r\n          this.replenishmentTypeSelected = defaultReplenishmentType.value as string;\r\n          this.selectReplenishmentType(this.replenishmentTypeSelected);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private refreshReplenishmentQuantityList(replenishmentId: BidoReplenishmentDTOId): void {\r\n    this.lineMaintenanceFormService.calculateReplenishmentQuantityList(replenishmentId).subscribe((result) => {\r\n      this.replenishmentAfterFlightQuantity = StringUtils.orEmpty(result.afterFlightQty);\r\n      this.replenishmentBeforeFlightQuantity = StringUtils.orEmpty(result.beforeFlightQty);\r\n      this.replenishmentEndStatusQuantity = StringUtils.orEmpty(result.endStatusQty);\r\n      this.replenishmentInitialStatusQuantity = StringUtils.orEmpty(result.initialStatusQty);\r\n      this.replenishmentQuantityUnit = StringUtils.orEmpty(result.quantityUnit);\r\n\r\n      this.replenishmentAfterFlightQuantityFromAC = ObjectUtils.isDefined(result.afterFlightQtyFromAc)\r\n        ? NumberUtils.roundNumber(Number(result.afterFlightQtyFromAc), 0).toString()\r\n        : '';\r\n    });\r\n  }\r\n\r\n  private setReplenishmentTableColList(): void {\r\n    this.replenishmentMeasureTableColList = [\r\n      { field: 'measureSource', alignment: 'left', width: '12.5%' },\r\n      { field: 'quantity', alignment: 'right', width: '12.5%' },\r\n      { field: 'volume', alignment: 'right', width: '12.5%' },\r\n      { field: 'density', alignment: 'right', width: '12.5%' },\r\n      { field: 'occurrence', alignment: 'left', width: '12.5%' },\r\n      { field: 'date', alignment: 'left', width: '12.5%' },\r\n      { field: 'origin', alignment: 'left', width: '12.5%' },\r\n      { field: 'rmBatchNumber', alignment: 'left', width: '12.5%' }\r\n    ];\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('confirmInvalidation'),\r\n      accept: () => {\r\n        const input: BidoMissionEquipmentDTOId = {\r\n          equipmentCode: this.equipment.equipmentCode,\r\n          missionCode: this.missionEquipmentId.missionCode,\r\n          occurrence: this.missionEquipmentId.occurrence\r\n        };\r\n        this.flightFormService.cancelFlightReplenishmentValidation(input).subscribe(\r\n          (result) => {\r\n            if (ObjectUtils.isDefined(result)) {\r\n              this.missionEquipment.repleValidationDate = undefined;\r\n              this.missionEquipment.repleValidationUser = undefined;\r\n              this.replenishmentValidationStatus = ControlConfigConstants.ICON_RED;\r\n\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('successOnInvalidation'));\r\n            }\r\n          },\r\n          (error) => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnInvalidation'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public validate(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('confirmValidation'),\r\n      accept: () => {\r\n        const input: BidoMissionEquipmentDTOId = {\r\n          equipmentCode: this.equipment.equipmentCode,\r\n          missionCode: this.missionEquipmentId.missionCode,\r\n          occurrence: this.missionEquipmentId.occurrence\r\n        };\r\n        this.flightFormService.validateFlightReplenishment(input).subscribe(\r\n          (result) => {\r\n            if (ObjectUtils.isDefined(result)) {\r\n              this.missionEquipment.repleValidationDate = result.repleValidationDate;\r\n              this.missionEquipment.repleValidationUser = result.repleValidationUser;\r\n              this.replenishmentValidationStatus = ControlConfigConstants.ICON_GREEN;\r\n\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('successOnValidation'));\r\n            }\r\n          },\r\n          (error) => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnValidation'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  private calculateReplenishmentValidationStatus(): void {\r\n    this.replenishmentValidationStatus = ObjectUtils.isDefined(this.missionEquipment.repleValidationDate)\r\n      ? ControlConfigConstants.ICON_GREEN\r\n      : ControlConfigConstants.ICON_RED;\r\n  }\r\n\r\n  public showValidateReplenishmentButton(): boolean {\r\n    return (\r\n      this.replenishmentValidationStatus === this.controlConfigConstants.ICON_RED && !!this.replenishmentTypeSelected\r\n    );\r\n  }\r\n\r\n  public showCancelReplenishmentButton(): boolean {\r\n    return this.replenishmentValidationStatus === this.controlConfigConstants.ICON_GREEN;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { SettingsFormService } from '../../../administration/settings/form/settings-form.service';\r\nimport { FunctionalLocationSearchService } from '../../../engineering-management/functional-location-search/functional-location-search.service';\r\nimport { FlightInputData } from '../types/flight-input-data.interface';\r\nimport { MissionEquipmentRow } from '../types/mission-equipment-row.interface';\r\n\r\nimport { SearchComponent } from './search.component';\r\nimport { SearchService } from './search.service';\r\n\r\n@Component({\r\n  selector: 'aw-flight-search',\r\n  templateUrl: './search.component.html'\r\n})\r\nexport class FlightSearchComponent extends SearchComponent {\r\n  private static readonly TABLE_EXPORT_NAME: string = 'flight-list';\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    sessionService: SessionService,\r\n    confirmationService: ConfirmationService,\r\n    dateService: DateService,\r\n    exportService: ExportService,\r\n    searchService: SearchService,\r\n    propertiesService: PropertiesService,\r\n    translateService: TranslateService,\r\n    functionalLocationSearchService: FunctionalLocationSearchService,\r\n    settingsFormService: SettingsFormService\r\n  ) {\r\n    super(\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      sessionService,\r\n      confirmationService,\r\n      dateService,\r\n      exportService,\r\n      searchService,\r\n      propertiesService,\r\n      translateService,\r\n      functionalLocationSearchService,\r\n      settingsFormService\r\n    );\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_FLIGHT_SEARCH;\r\n  }\r\n\r\n  public get isFlightSearch(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public exportFlightLogbookVisible(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public openNewMissionEquipment(): void {\r\n    this.openMissionEquipment(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  protected getMissionEquipmentTableExportName(): string {\r\n    return FlightSearchComponent.TABLE_EXPORT_NAME;\r\n  }\r\n\r\n  protected openMissionEquipment(missionEquipment: MissionEquipmentRow | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_FLIGHT_FORM,\r\n      openMode\r\n    };\r\n    if (!!missionEquipment) {\r\n      const missionEquipmentId: FlightInputData = {\r\n        equipmentCode: missionEquipment.equipmentCode,\r\n        missionCode: missionEquipment.missionCode,\r\n        occurrence: missionEquipment.occurrence,\r\n        chronoNumber: missionEquipment.chronoNumber\r\n      };\r\n      data.objectId = this.serializationService.serialize(missionEquipmentId);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { SettingsFormService } from '../../../administration/settings/form/settings-form.service';\r\nimport { FunctionalLocationSearchService } from '../../../engineering-management/functional-location-search/functional-location-search.service';\r\nimport { FlightInputData } from '../types/flight-input-data.interface';\r\nimport { MissionEquipmentRow } from '../types/mission-equipment-row.interface';\r\n\r\nimport { SearchComponent } from './search.component';\r\nimport { SearchService } from './search.service';\r\n\r\n@Component({\r\n  selector: 'aw-line-maintenance-search',\r\n  templateUrl: './search.component.html'\r\n})\r\nexport class LineMaintenanceSearchComponent extends SearchComponent {\r\n  private static readonly TABLE_EXPORT_NAME: string = 'line-maintenance-list';\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    sessionService: SessionService,\r\n    confirmationService: ConfirmationService,\r\n    dateService: DateService,\r\n    exportService: ExportService,\r\n    searchService: SearchService,\r\n    propertiesService: PropertiesService,\r\n    translateService: TranslateService,\r\n    functionalLocationSearchService: FunctionalLocationSearchService,\r\n    settingsFormService: SettingsFormService\r\n  ) {\r\n    super(\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      sessionService,\r\n      confirmationService,\r\n      dateService,\r\n      exportService,\r\n      searchService,\r\n      propertiesService,\r\n      translateService,\r\n      functionalLocationSearchService,\r\n      settingsFormService\r\n    );\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_LINE_MAINTENANCE_SEARCH;\r\n  }\r\n\r\n  public get isFlightSearch(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public openNewMissionEquipment(): void {\r\n    // create a line maintenance is not available\r\n  }\r\n\r\n  protected getMissionEquipmentTableExportName(): string {\r\n    return LineMaintenanceSearchComponent.TABLE_EXPORT_NAME;\r\n  }\r\n\r\n  protected openMissionEquipment(missionEquipment: MissionEquipmentRow | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_LINE_MAINTENANCE_FORM,\r\n      openMode\r\n    };\r\n    if (!!missionEquipment) {\r\n      const missionEquipmentId: FlightInputData = {\r\n        equipmentCode: missionEquipment.equipmentCode,\r\n        missionCode: missionEquipment.missionCode,\r\n        occurrence: missionEquipment.occurrence,\r\n        chronoNumber: missionEquipment.chronoNumber\r\n      };\r\n      data.objectId = this.serializationService.serialize(missionEquipmentId);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header-container\\\">\\r\\n  <div class=\\\"page-context\\\">\\r\\n    <div class=\\\"page-title-container\\\">\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-secondary-actions\\\">\\r\\n        <i\\r\\n          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n          [ngClass]=\\\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          (click)=\\\"updateFavoriteState()\\\"\\r\\n          pTooltip=\\\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-subtitle-container\\\">\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        {{ \\\"page.searchPage\\\" | translate }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-primary-actions\\\">\\r\\n    <button\\r\\n      *ngIf=\\\"isFlightSearch && hasUpdateAccessRight\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"openNewMissionEquipment()\\\"\\r\\n    >\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.search\\\" | translate }}\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <aw-manage-search-criteria\\r\\n                    [componentId]=\\\"SEARCH_CRITERIA_ID\\\"\\r\\n                    (onSelected)=\\\"loadSearchCriteria($event)\\\"\\r\\n                    (onSavedAsked)=\\\"saveSearchCriteriaAsked()\\\"\\r\\n                    [objectFromPage]=\\\"criteriaToSave\\\"\\r\\n                  ></aw-manage-search-criteria>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentName + \\\".aircraftRegistration\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"criteria.registration\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentName + \\\".flightType\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"eventMissionTypeList\\\"\\r\\n                        [(ngModel)]=\\\"criteria.flightType\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        appendTo=\\\"body\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentName + \\\".chronoNumber\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"criteria.missionInstanceCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentName + \\\".missionCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"criteria.missionCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div id=\\\"operatorCode\\\" class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentName + \\\".operator\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"flightOperatorList\\\"\\r\\n                        [(ngModel)]=\\\"criteria.customerOperatorCode\\\"\\r\\n                        [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        appendTo=\\\"body\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentName + \\\".customer\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"flightCustomerList\\\"\\r\\n                        [(ngModel)]=\\\"criteria.customerCode\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        appendTo=\\\"body\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div *ngIf=\\\"isFunctionalItemStructure\\\" class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentName + \\\".operationalConfiguration\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n                      <div class=\\\"form-control-data\\\" (click)=\\\"openOperationalConfigDialog()\\\">\\r\\n                        {{ criteria.requestedOpeConfigCode }}\\r\\n                      </div>\\r\\n                      <div *ngIf=\\\"criteria.requestedOpeConfigCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                        <i\\r\\n                          class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"resetConfig()\\\"\\r\\n                        ></i>\\r\\n                      </div>\\r\\n                      <div class=\\\"btn-search-wrapper\\\">\\r\\n                        <i\\r\\n                          class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"openOperationalConfigDialog()\\\"\\r\\n                        ></i>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ componentName + \\\".flightDateFrom\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [showTime]=\\\"true\\\"\\r\\n                        [defaultDate]=\\\"searchFlightDateFromDefault\\\"\\r\\n                        [(ngModel)]=\\\"criteria.flightDateFrom\\\"\\r\\n                        appendTo=\\\"body\\\"\\r\\n                      ></p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--1\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ componentName + \\\".flightDateTo\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [showTime]=\\\"true\\\"\\r\\n                        [defaultDate]=\\\"searchFlightDateToDefault\\\"\\r\\n                        [(ngModel)]=\\\"criteria.flightDateTo\\\"\\r\\n                        appendTo=\\\"body\\\"\\r\\n                      ></p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentName + \\\".flightStatus\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"eventMissionStatusList\\\"\\r\\n                        [(ngModel)]=\\\"criteria.statusState\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        appendTo=\\\"body\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ componentName + \\\".onlyNonAffectedFlights\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-checkbox\\r\\n                        binary=\\\"true\\\"\\r\\n                        class=\\\"aw-checkbox\\\"\\r\\n                        [(ngModel)]=\\\"criteria.onlyNotAffectedFlights\\\"\\r\\n                      ></p-checkbox>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"advanced-criteria\\\" [ngClass]=\\\"{ 'display--none': !searchAdvancedCriteriaVisible }\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".msn\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"criteria.msn\\\" />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".missionNumber\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"criteria.missionNumber\\\" />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".sourceSystemId\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"sourceSystemIdList\\\"\\r\\n                          [(ngModel)]=\\\"criteria.sourceSystemId\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".sourceSystemReference\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"criteria.sourceSystemReference\\\" />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".departure\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"flightBaseList\\\"\\r\\n                          [(ngModel)]=\\\"criteria.departureLocation\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".arrival\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"flightBaseList\\\"\\r\\n                          [(ngModel)]=\\\"criteria.arrivalLocation\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".pilot\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"pilotList\\\"\\r\\n                          [(ngModel)]=\\\"criteria.pilot\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentName + \\\".copilot\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"copilotList\\\"\\r\\n                          [(ngModel)]=\\\"criteria.copilot\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <button mat-button (click)=\\\"searchAdvancedCriteriaVisible = !searchAdvancedCriteriaVisible\\\">\\r\\n                    <ng-container *ngIf=\\\"searchAdvancedCriteriaVisible\\\">\\r\\n                      <mat-icon>remove</mat-icon>\\r\\n                      {{ \\\"global.collapseCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"!searchAdvancedCriteriaVisible\\\">\\r\\n                      <mat-icon>add</mat-icon>\\r\\n                      {{ \\\"global.expandCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                  </button>\\r\\n\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ resultsTableDataSource.dataCount }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ \\\"global.timeZone\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"timeZoneList\\\"\\r\\n                        [(ngModel)]=\\\"currentTimeZone\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (onChange)=\\\"updateMissionEquipmentDates()\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <a-table [dataSource]=\\\"resultsTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"hasManageAccessRight && resultsTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteMissionEquipmentSelectedList()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"resultsTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openMissionEquipmentSelectedList()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"resultsTableDataSource.dataCount === 1 && exportFlightLogbookVisible()\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"exportFlightLogbook()\\\"\\r\\n                      >\\r\\n                        {{ componentName + \\\".exportFlightLogbook\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"resultsTableDataSource.hasData && !resultsTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"exportMissionEquipmentTable()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.export\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"asset\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <span>\\r\\n                        <a (click)=\\\"openAircraft(rowData)\\\">{{ rowData[\\\"asset\\\"] }}</a>\\r\\n                      </span>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"chronoNumber\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <span>\\r\\n                        <a (click)=\\\"openFlight(rowData)\\\">{{ rowData[\\\"chronoNumber\\\"] }}</a>\\r\\n                      </span>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"missionCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <span>\\r\\n                        <a (click)=\\\"openMission(rowData)\\\">{{ rowData[\\\"missionCode\\\"] }}</a>\\r\\n                      </span>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"customerOperatorCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <span>\\r\\n                        {{ rowData[\\\"customerOperatorCode\\\"] | formatSelectOption: flightOperatorList }}\\r\\n                      </span>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-search-operational-config\\r\\n  *ngIf=\\\"showOperationalConfigDialog\\\"\\r\\n  [(display)]=\\\"showOperationalConfigDialog\\\"\\r\\n  [config-name]=\\\"configName\\\"\\r\\n  [operationalConfigs]=\\\"operationalConfigs\\\"\\r\\n  (requestedOpeConfigCodeSelected)=\\\"setSelectedConfig($event)\\\"\\r\\n></aw-dialog-search-operational-config>\\r\\n\"","import { ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as moment from 'moment';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { LabelValueHelper } from '../../../../modules/purchase-contract/utils/label-value-helper';\r\nimport { ISearchCriteria } from '../../../../shared/components/manage-search-criteria/search-criteria.interface';\r\nimport { ColumnAlignment, TableDataSource } from '../../../../shared/components/table/table-data-source';\r\nimport { AppConstants } from '../../../../shared/constants/app-constants';\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { BidtQualificationConstants } from '../../../../shared/constants/bidt-qualification-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { GenerateFlightLogbookPdfInput } from '../../../../shared/types/api-input-types/fleet-business/generate-flight-logbook-pdf-input.interface';\r\nimport { FindAllBidoMissionEquipmentByCriteriaInput } from '../../../../shared/types/api-input-types/fleet-management/find-all-bido-mission-equipment-by-criteria-input.interface';\r\nimport { FindBidoFlsBySearchCriteriaInput } from '../../../../shared/types/api-input-types/fleet-management/find-bido-fls-by-search-criteria-input.interface';\r\nimport { FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput } from '../../../../shared/types/api-input-types/fleet-management/find-replenishment-by-mission-equipment-and-type-and-equipment-code-input.interface';\r\nimport { BidoMissionEquipmentLWO } from '../../../../shared/types/api-output-types/fleet-management/bido-mission-equipment-lwo.interface';\r\nimport { BidoCustomerDTO } from '../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoFlDTO } from '../../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { BidoMissionDTO } from '../../../../shared/types/api-types/bido-mission-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoMissionEquipmentDTO } from '../../../../shared/types/api-types/bido-mission-equipment-dto.interface';\r\nimport { BidoPropertiesDTO } from '../../../../shared/types/api-types/bido-properties-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { FileUtils } from '../../../../shared/utils/file-utils';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../shared/utils/object-utils';\r\nimport { SelectItemUtils } from '../../../../shared/utils/select-item-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { SettingsFormService } from '../../../administration/settings/form/settings-form.service';\r\nimport { FunctionalLocationSearchService } from '../../../engineering-management/functional-location-search/functional-location-search.service';\r\nimport { FlightInputData } from '../types/flight-input-data.interface';\r\nimport { MissionEquipmentRow } from '../types/mission-equipment-row.interface';\r\n\r\nimport { SearchService } from './search.service';\r\n\r\ninterface ExportedMissionEquipment {\r\n  asset: string;\r\n  missionCode: string;\r\n  flightType: string;\r\n  missionNumber: string;\r\n  missionDepartureLocation: string;\r\n  missionArrivalLocation: string;\r\n  chronoNumber: string;\r\n  startDate: string;\r\n  endDate: string;\r\n  duration: string;\r\n  ifrDuration: string;\r\n  cycleNumber: string;\r\n  engineStartDate: string;\r\n  engineStopDate: string;\r\n  pilot: string;\r\n  copilot: string;\r\n  resetOilState?: string;\r\n  resetOilEngine?: string;\r\n}\r\n\r\nexport abstract class SearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  /**************************************************************************\r\n   * Abstract methods\r\n   *************************************************************************/\r\n\r\n  public abstract get isFlightSearch(): boolean;\r\n  private static readonly AEROWEB_CONFIG_PROPERTY_ID = '1';\r\n  public readonly componentName: string;\r\n\r\n  public SEARCH_CRITERIA_ID: string;\r\n\r\n  @ViewChild('resultsContainerAnchor')\r\n  public resultsContainerAnchor: ElementRef;\r\n  public operationalConfigs: BidoFlDTO[];\r\n  public searchObject: BidoMissionEquipmentDTO;\r\n  public bidoMissionEquipmentDTO: BidoMissionEquipmentDTO;\r\n  public showOperationalConfigDialog: boolean;\r\n  public copilotList: SelectItem[];\r\n  public currentTimeZone: string | undefined;\r\n  public eventMissionTypeList: SelectItem[];\r\n  public eventMissionStatusList: SelectItem[];\r\n  public flightBaseList: SelectItem[];\r\n  public isFunctionalItemStructure: boolean;\r\n  public resultsTableDataSource: TableDataSource<MissionEquipmentRow>;\r\n  public pilotList: SelectItem[];\r\n  public searchAdvancedCriteriaVisible: boolean;\r\n  public searchConfigStatus: string | undefined;\r\n  public searchEquipmentCode: string | undefined;\r\n  public searchFlightDateFromDefault: Date | undefined;\r\n  public searchFlightDateToDefault: Date | undefined;\r\n  public searchIsPendingForValidation: boolean;\r\n  public sourceSystemId: string | undefined;\r\n  public sourceSystemReference: string | undefined;\r\n  public sourceSystemIdList: SelectItem[];\r\n  public timeZoneList: SelectItem[];\r\n  public objectStatusMap: LabelValue<string>[];\r\n  public flightCustomerList: LabelValue<string>[];\r\n  public flightOperatorList: LabelValue<string>[];\r\n\r\n  public criteria: FindAllBidoMissionEquipmentByCriteriaInput;\r\n  public criteriaToSave: FindAllBidoMissionEquipmentByCriteriaInput;\r\n\r\n  private defaultTimezone: string | undefined;\r\n  private previousTimezone: string | undefined;\r\n  private equipmentList: BidoEquipmentDTO[];\r\n  private resetValue: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly dateService: DateService,\r\n    private readonly exportService: ExportService,\r\n    private readonly searchService: SearchService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly functionalLocationSearchService: FunctionalLocationSearchService,\r\n    private readonly settingsFormService: SettingsFormService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.SEARCH_CRITERIA_ID = AppConstants.FLIGHT_OPERATION_SEARCH_SEARCH_CRITERIA_ID;\r\n\r\n    this.componentName = 'SearchComponent';\r\n\r\n    this.init();\r\n    this.showOperationalConfigDialog = false;\r\n    this.resetSearchCriteria();\r\n\r\n    this.loadEventMissionTypeList();\r\n    this.loadEventMissionStatusList();\r\n    this.loadFlightBaseList();\r\n    this.loadSourceSystemIdList();\r\n    this.loadTimeZoneList();\r\n    this.loadObjectStatusMap();\r\n    this.loadOperationalConfigs();\r\n    this.loadReferentialFunctionalItemStructure();\r\n    this.loadFlightCustomerList();\r\n    this.loadFlightOperatorList();\r\n\r\n    if (this.sessionService.hrModuleActivated) {\r\n      this.loadEmployeeList(BidtQualificationConstants.CODE_FLIGHT_OPS_PILOT);\r\n      this.loadEmployeeList(BidtQualificationConstants.CODE_FLIGHT_OPS_COPILOT);\r\n    }\r\n\r\n    this.initResultsTableDataSource();\r\n  }\r\n\r\n  private initResultsTableDataSource(): void {\r\n    this.resultsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'asset', alignment: ColumnAlignment.LEFT, width: '25%', translateKey: this.getTranslateKey('asset') },\r\n        {\r\n          field: 'chronoNumber',\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '12.5%',\r\n          translateKey: this.getTranslateKey('chronoNumber')\r\n        },\r\n        {\r\n          field: 'missionCode',\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '12.5%',\r\n          translateKey: this.getTranslateKey('missionCode')\r\n        },\r\n        {\r\n          field: 'flightType',\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '12.5%',\r\n          translateKey: this.getTranslateKey('flightType')\r\n        },\r\n        {\r\n          field: 'customerOperatorCode',\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '12.5%',\r\n          translateKey: this.getTranslateKey('operator')\r\n        },\r\n        {\r\n          field: 'startDate',\r\n          alignment: ColumnAlignment.RIGHT,\r\n          width: '12.5%',\r\n          translateKey: this.getTranslateKey('startDate')\r\n        },\r\n        {\r\n          field: 'endDate',\r\n          alignment: ColumnAlignment.RIGHT,\r\n          width: '12.5%',\r\n          translateKey: this.getTranslateKey('endDate')\r\n        },\r\n        {\r\n          field: 'statusState',\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '12.5%',\r\n          translateKey: this.getTranslateKey('statusState')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  protected getTranslateKey(key: string): string {\r\n    return super.getTranslateKey(key, this.componentName);\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.bidoMissionEquipmentDTO = {};\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  private loadReferentialFunctionalItemStructure(): void {\r\n    const bidoPropertiesDTO: BidoPropertiesDTO = {\r\n      propertiesId: SearchComponent.AEROWEB_CONFIG_PROPERTY_ID,\r\n      propertiesName: 'aerowebb_configuration',\r\n      propertiesType: 'TECHNICAL',\r\n      isInternationalized: false\r\n    };\r\n    this.settingsFormService.findBidoPropertyValuesByPropertyId(bidoPropertiesDTO).subscribe((result) => {\r\n      if (!!result) {\r\n        const isFunctionalItemStructureProperty = result.find(\r\n          (property) => property.propertiesKey === 'referential.is_functional_item_structure'\r\n        );\r\n        if (!!isFunctionalItemStructureProperty) {\r\n          this.isFunctionalItemStructure = isFunctionalItemStructureProperty.propertiesValue === 'true' ? true : false;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadFlightCustomerList(): void {\r\n    const criteria: BidoCustomerDTO = {\r\n      customerType: AWPropertiesConstants.CUSTOMER_TYPE_CUS_KEY\r\n    };\r\n    this.searchService.findAllBidoCustomerBySearchCriteria(criteria).subscribe((results) => {\r\n      this.flightCustomerList = this.fetchCustomerOperatorList(results);\r\n    });\r\n  }\r\n  private loadFlightOperatorList(): void {\r\n    const criteria: BidoCustomerDTO = {\r\n      isOperator: true\r\n    };\r\n    this.searchService.findAllBidoCustomerBySearchCriteria(criteria).subscribe((results) => {\r\n      this.flightOperatorList = this.fetchCustomerOperatorList(results);\r\n    });\r\n  }\r\n\r\n  private fetchCustomerOperatorList(results: BidoCustomerDTO[]): LabelValue<string>[] {\r\n    return ListUtils.orEmpty(results)\r\n      .filter((result) => !StringUtils.isNullOrEmpty(result.customerCode))\r\n      .map(\r\n        (result): LabelValue<string> => {\r\n          const label = StringUtils.isNullOrEmpty(result.customerName)\r\n            ? `${result.customerCode}`\r\n            : `${result.customerName} (${result.customerCode})`;\r\n\r\n          return {\r\n            label,\r\n            value: result.customerCode as string\r\n          };\r\n        }\r\n      );\r\n  }\r\n\r\n  public deleteMissionEquipmentSelectedList(): void {\r\n    const confirmMessageKey = this.resultsTableDataSource.hasDataSelection\r\n      ? 'confirmDeleteSelectedMissionEquipments'\r\n      : 'confirmDeleteSelectedMissionEquipment';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.componentName + '.' + confirmMessageKey,\r\n      accept: () => {\r\n        const missionEquipmentIdList = this.resultsTableDataSource.dataSelection.map((missionEquipment) => {\r\n          const missionEquipmentId: BidoMissionEquipmentDTOId = {\r\n            equipmentCode: missionEquipment.equipmentCode as string,\r\n            missionCode: missionEquipment.missionCode as string,\r\n            occurrence: missionEquipment.occurrence as number\r\n          };\r\n\r\n          return missionEquipmentId;\r\n        });\r\n\r\n        this.searchService.removeBidoMissionEquipment(missionEquipmentIdList).subscribe(() => {\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteMissionEquipment'));\r\n          this.search();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public exportFlightLogbook(): void {\r\n    const input: GenerateFlightLogbookPdfInput = {\r\n      arrivalLocation: this.criteria.arrivalLocation,\r\n      copilot: this.criteria.copilot,\r\n      departureLocation: this.criteria.departureLocation,\r\n      equipmentCode: this.resultsTableDataSource.data[0].equipmentCode,\r\n      flightDateFrom: this.criteria.flightDateFrom,\r\n      flightDateTo: this.criteria.flightDateTo,\r\n      flightType: this.criteria.flightType,\r\n      hrModuleActivated: this.sessionService.hrModuleActivated,\r\n      missionCode: this.criteria.missionCode,\r\n      missionInstanceCode: this.getSearchMissionInstanceCode(),\r\n      missionNumber: this.criteria.missionNumber,\r\n      onlyNotAffectedFlights: this.criteria.onlyNotAffectedFlights,\r\n      pilot: this.criteria.pilot,\r\n      registration: this.criteria.registration,\r\n      statusState: this.criteria.statusState\r\n    };\r\n    this.searchService.generateFlightLogbookPDF(input).subscribe((result) => {\r\n      FileUtils.downloadFile(result.fileContent, result.fileName);\r\n    });\r\n  }\r\n\r\n  public exportFlightLogbookVisible(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public exportMissionEquipmentTable(): void {\r\n    const table: ExportedMissionEquipment[] = this.resultsTableDataSource.data.map((missionEquipment) => {\r\n      return {\r\n        asset: missionEquipment.asset,\r\n        missionCode: missionEquipment.missionCode,\r\n        flightType: missionEquipment.flightType,\r\n        missionNumber: missionEquipment.missionNumber,\r\n        missionDepartureLocation: missionEquipment.missionDepartureLocation,\r\n        missionArrivalLocation: missionEquipment.missionArrivalLocation,\r\n        chronoNumber: missionEquipment.chronoNumber,\r\n        startDate: missionEquipment.startDate,\r\n        endDate: missionEquipment.endDate,\r\n        duration: missionEquipment.duration,\r\n        ifrDuration: missionEquipment.ifrDuration,\r\n        cycleNumber: missionEquipment.cycleNumber,\r\n        engineStartDate: missionEquipment.engineStartDate,\r\n        engineStopDate: missionEquipment.engineStopDate,\r\n        pilot: missionEquipment.pilot,\r\n        copilot: missionEquipment.copilot,\r\n        resetOilState: missionEquipment.resetOilState\r\n          ? this.translateService.instant(missionEquipment.resetOilState)\r\n          : undefined,\r\n        resetOilEngine: missionEquipment.resetOilEngine\r\n      };\r\n    });\r\n    this.exportService.toExcel(table, this.getMissionEquipmentTableExportName(), this.componentName);\r\n  }\r\n\r\n  public loadOperationalConfigs(): void {\r\n    const criteria: FindBidoFlsBySearchCriteriaInput = {\r\n      bidoFlDTOCriteria: { flFunction: '1-air' }\r\n    };\r\n    this.functionalLocationSearchService.searchFunctionalLocationList(criteria).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.operationalConfigs = results.list.map((element) => {\r\n            const statusStateLabel = LabelValueHelper.getLabelByValue(this.objectStatusMap, element.statusState);\r\n\r\n            return {\r\n              flCode: element.flCode,\r\n              statusState: statusStateLabel\r\n            };\r\n          });\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearch'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public openAircraft(missionEquipment: MissionEquipmentRow): void {\r\n    const objectId: BidoEquipmentDTO = {\r\n      equipmentCode: missionEquipment.equipmentCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      openMode: ComponentOpenMode.Read,\r\n      componentId: ComponentConstants.FLE_AIRCRAFT_FORM,\r\n      objectId: this.serializationService.serialize(objectId)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openFlight(missionEquipment: MissionEquipmentRow): void {\r\n    const missionEquipmentId: FlightInputData = {\r\n      equipmentCode: missionEquipment.equipmentCode,\r\n      missionCode: missionEquipment.missionCode,\r\n      occurrence: missionEquipment.occurrence,\r\n      chronoNumber: missionEquipment.chronoNumber\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_FLIGHT_FORM,\r\n      objectId: this.serializationService.serialize(missionEquipmentId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openMission(missionEquipment: MissionEquipmentRow): void {\r\n    const objectId: BidoMissionDTO = {\r\n      missionCode: missionEquipment.missionCode\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLI_FLIGHTS_MISSION_FORM,\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openMissionEquipmentSelectedList(): void {\r\n    this.resultsTableDataSource.dataSelection.forEach((missionEquipment) =>\r\n      this.openMissionEquipment(missionEquipment, ComponentOpenMode.Read)\r\n    );\r\n  }\r\n\r\n  // Open Operational configuration popup in search criteria\r\n  public openOperationalConfigDialog(): void {\r\n    this.showOperationalConfigDialog = true;\r\n  }\r\n\r\n  private resetSearchCriteria(): void {\r\n    this.searchConfigStatus = undefined;\r\n    this.searchEquipmentCode = undefined;\r\n\r\n    this.searchIsPendingForValidation = false;\r\n    this.sourceSystemReference = undefined;\r\n\r\n    this.criteria = {};\r\n  }\r\n\r\n  public loadSearchCriteria(event: ISearchCriteria): void {\r\n    const criteria: {} | undefined = event.criteria;\r\n    if (!criteria) {\r\n      this.resetSearchCriteria();\r\n\r\n      return;\r\n    }\r\n\r\n    this.criteria = criteria || {};\r\n  }\r\n\r\n  public saveSearchCriteriaAsked(): void {\r\n    this.criteriaToSave = this.criteria;\r\n  }\r\n\r\n  public search(): void {\r\n    this.clearMissionEquipmentTable();\r\n    super.scrollToAnchor(this.resultsContainerAnchor);\r\n\r\n    this.fillCriteria();\r\n\r\n    this.searchService.findAllBidoMissionEquipmentByCriteria(this.criteria).subscribe((result) => {\r\n      this.setMissionEquipmentTable(result);\r\n      this.updateMissionEquipmentDates();\r\n      this.getMissionEquipementReplenishement();\r\n\r\n      super.differ(() => {\r\n        super.scrollToAnchor(this.resultsContainerAnchor);\r\n      });\r\n    });\r\n  }\r\n  private fillCriteria() {\r\n    this.criteria.hrModuleActivated = this.sessionService.hrModuleActivated;\r\n  }\r\n\r\n  public updateMissionEquipmentDates(): void {\r\n    const previousTimezoneValue = Number(this.previousTimezone);\r\n    const currentTimeZoneValue = Number(this.currentTimeZone);\r\n\r\n    if (currentTimeZoneValue !== previousTimezoneValue) {\r\n      const gap =\r\n        Math.abs(previousTimezoneValue) >= 0 && Math.abs(currentTimeZoneValue)\r\n          ? Math.abs(Math.abs(previousTimezoneValue) - Math.abs(currentTimeZoneValue))\r\n          : Math.abs(previousTimezoneValue) + Math.abs(currentTimeZoneValue);\r\n      const isGapPositive = currentTimeZoneValue >= previousTimezoneValue;\r\n\r\n      this.resultsTableDataSource.setData(\r\n        this.resultsTableDataSource.data.map((row) => {\r\n          row.startDate = this.updateMissionEquipmentDate(gap, isGapPositive, row.startDate);\r\n          row.endDate = this.updateMissionEquipmentDate(gap, isGapPositive, row.endDate);\r\n          row.engineStartDate = this.updateMissionEquipmentDate(gap, isGapPositive, row.engineStartDate);\r\n          row.engineStopDate = this.updateMissionEquipmentDate(gap, isGapPositive, row.engineStopDate);\r\n\r\n          return row;\r\n        })\r\n      );\r\n    }\r\n\r\n    this.previousTimezone = this.currentTimeZone;\r\n  }\r\n\r\n  public getMissionEquipementReplenishement() {\r\n    this.resultsTableDataSource.setData(\r\n      this.resultsTableDataSource.data.map((row) => {\r\n        const missionEquipmentId: BidoMissionEquipmentDTOId = {\r\n          equipmentCode: row.equipmentCode,\r\n          missionCode: row.missionCode,\r\n          occurrence: row.occurrence\r\n        };\r\n        this.searchService.findEquipmentEngineListByEquipmentCode(row.equipmentCode).subscribe((equipmentList) => {\r\n          this.equipmentList = ListUtils.orEmpty(equipmentList).filter((elt) =>\r\n            ObjectUtils.isDefined(elt.equipmentCode)\r\n          );\r\n          this.equipmentList.forEach((equipment) => {\r\n            const input: FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput = {\r\n              bidoMissionEquipmentDTOId: missionEquipmentId,\r\n              replenishmentType: AWPropertiesConstants.REPLENISHMENT_TYPE_ENGINE_OIL,\r\n              engineCode: equipment.equipmentCode\r\n            };\r\n            this.searchService.findReplenishmentByMissionEquipmentAndTypeAndEquipmentCode(input).subscribe((result) => {\r\n              if (result && result.oilConsumptionReinitDate) {\r\n                this.searchService\r\n                  .getEquipmentRepresentation(this.getEquipmentToFormat(equipment))\r\n                  .subscribe((equipmentRepresentation) => {\r\n                    row.resetOilState = this.resetValue;\r\n                    row.resetOilEngine = equipmentRepresentation;\r\n                  });\r\n              }\r\n            });\r\n          });\r\n        });\r\n\r\n        return row;\r\n      })\r\n    );\r\n  }\r\n\r\n  public setSelectedConfig(requestedOpeConfigCodeSelected: BidoFlDTO): void {\r\n    this.criteria.requestedOpeConfigCode = requestedOpeConfigCodeSelected.flCode;\r\n  }\r\n\r\n  public resetConfig(): void {\r\n    this.criteria.requestedOpeConfigCode = undefined;\r\n  }\r\n\r\n  private getEquipmentToFormat(equipment: BidoEquipmentDTO): BidoEquipmentDTO {\r\n    return {\r\n      equipmentCode: equipment.equipmentCode,\r\n      equipmentFunction: equipment.equipmentFunction,\r\n      familyVariantCode: equipment.familyVariantCode,\r\n      pnCode: equipment.pnCode,\r\n      registration: equipment.registration,\r\n      sn: equipment.sn\r\n    };\r\n  }\r\n\r\n  private clearMissionEquipmentTable(): void {\r\n    this.resultsTableDataSource.setData([]);\r\n  }\r\n\r\n  private getSearchMissionInstanceCode(): string | undefined {\r\n    return StringUtils.isNullOrEmpty(this.criteria.missionInstanceCode)\r\n      ? undefined\r\n      : `%${this.criteria.missionInstanceCode}`;\r\n  }\r\n\r\n  private init(): void {\r\n    this.copilotList = [];\r\n    this.currentTimeZone = undefined;\r\n    this.defaultTimezone = undefined;\r\n    this.searchFlightDateFromDefault = moment()\r\n      .startOf('day')\r\n      .toDate();\r\n    this.searchFlightDateToDefault = moment()\r\n      .endOf('day')\r\n      .toDate();\r\n    this.eventMissionTypeList = [];\r\n    this.eventMissionStatusList = [];\r\n    this.equipmentList = [];\r\n    this.flightBaseList = [];\r\n    this.pilotList = [];\r\n    this.previousTimezone = undefined;\r\n    this.searchAdvancedCriteriaVisible = false;\r\n    this.timeZoneList = [];\r\n    this.criteria = {};\r\n    this.getResetLabel();\r\n  }\r\n\r\n  public getResetLabel(): void {\r\n    this.resetValue = this.getTranslateKey('reset');\r\n  }\r\n\r\n  private loadEventMissionTypeList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.EVENT_MISSION_TYPE_MAP).subscribe((results) => {\r\n      this.eventMissionTypeList = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  private loadEventMissionStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_STATUS_MAP).subscribe((results) => {\r\n      this.eventMissionStatusList = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  private loadFlightBaseList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_BASE_MAP).subscribe((results) => {\r\n      this.flightBaseList = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  private loadEmployeeList(qualificationCode: string): void {\r\n    this.searchService.findAllEmployeeByQualificationCode(qualificationCode).subscribe((results) => {\r\n      this.pilotList = results\r\n        .filter((elt) => ObjectUtils.isDefined(elt.id))\r\n        .map((elt) => {\r\n          let label: string;\r\n          if (!!elt.employeeLastName && !!elt.employeeFirstName) {\r\n            label = elt.employeeLastName + ' ' + elt.employeeFirstName;\r\n          } else if (!!elt.employeeLastName) {\r\n            label = elt.employeeLastName;\r\n          } else if (!!elt.employeeFirstName) {\r\n            label = elt.employeeFirstName;\r\n          } else if (!!elt.employeeNumber) {\r\n            label = elt.employeeNumber;\r\n          } else {\r\n            label = (elt.id as number).toString();\r\n          }\r\n\r\n          return {\r\n            label,\r\n            value: (elt.id as number).toString()\r\n          };\r\n        });\r\n    });\r\n  }\r\n\r\n  private loadSourceSystemIdList(): void {\r\n    this.searchService.getSourceSystemIdList().subscribe((results) => {\r\n      this.sourceSystemIdList = ListUtils.orEmpty(results);\r\n    });\r\n  }\r\n\r\n  private loadTimeZoneList(): void {\r\n    this.propertiesService.getTimeZones().subscribe((results) => {\r\n      this.timeZoneList = results\r\n        .map((result) => {\r\n          return {\r\n            label: result.label,\r\n            value: this.dateService.getTimeZoneValue(result.value)\r\n          };\r\n        })\r\n        .filter((timezone) => !!timezone.value);\r\n\r\n      this.propertiesService.getDefaultTimeZoneCode().subscribe((result) => {\r\n        this.defaultTimezone = this.dateService.getTimeZoneValue(result);\r\n\r\n        this.resetTimezone();\r\n      });\r\n    });\r\n  }\r\n\r\n  private loadObjectStatusMap(): void {\r\n    this.propertiesService\r\n      .getValue(GenericPropertyConstants.OBJECT_STATUS_MAP)\r\n      .subscribe((result) => (this.objectStatusMap = result));\r\n  }\r\n\r\n  private resetTimezone(): void {\r\n    this.currentTimeZone = this.defaultTimezone;\r\n    this.previousTimezone = this.currentTimeZone;\r\n  }\r\n\r\n  private setMissionEquipmentTable(missionEquipmentData: SearchResultsDTO<BidoMissionEquipmentLWO>): void {\r\n    this.resultsTableDataSource.setData(\r\n      missionEquipmentData.list\r\n        .filter(\r\n          (missionEquipment) =>\r\n            !!missionEquipment &&\r\n            !!missionEquipment.equipmentCode &&\r\n            !!missionEquipment.missionCode &&\r\n            !!missionEquipment.occurrence\r\n        )\r\n        .map((missionEquipment) => {\r\n          const missionEquipmentRow: MissionEquipmentRow = {\r\n            equipmentCode: missionEquipment.equipmentCode as string,\r\n            missionCode: missionEquipment.missionCode as string,\r\n            occurrence: missionEquipment.occurrence as number,\r\n            asset: StringUtils.orEmpty(missionEquipment.asset),\r\n            chronoNumber: StringUtils.orEmpty(missionEquipment.chronoNumber),\r\n            copilot: StringUtils.orEmpty(missionEquipment.copilot),\r\n            customer: StringUtils.orEmpty(missionEquipment.customer),\r\n            cycleNumber: StringUtils.orEmpty(missionEquipment.cycleNumber),\r\n            duration: StringUtils.orEmpty(missionEquipment.duration),\r\n            endDate: this.dateService.dateWithHourToString(missionEquipment.endDate),\r\n            engineStartDate: this.dateService.dateWithHourToString(missionEquipment.engineStartDate),\r\n            engineStopDate: this.dateService.dateWithHourToString(missionEquipment.engineStopDate),\r\n            flightType: StringUtils.orEmpty(missionEquipment.flightType),\r\n            fuelUsed: StringUtils.orEmpty(missionEquipment.fuelUsed),\r\n            ifrDuration: StringUtils.orEmpty(missionEquipment.ifrDuration),\r\n            missionArrivalLocation: StringUtils.orEmpty(missionEquipment.missionArrivalLocation),\r\n            missionDepartureLocation: StringUtils.orEmpty(missionEquipment.missionDepartureLocation),\r\n            missionNumber: StringUtils.orEmpty(missionEquipment.missionNumber),\r\n            pilot: StringUtils.orEmpty(missionEquipment.pilot),\r\n            startDate: this.dateService.dateWithHourToString(missionEquipment.startDate),\r\n            statusState: StringUtils.orEmpty(missionEquipment.statusState)\r\n          };\r\n\r\n          return missionEquipmentRow;\r\n        })\r\n    );\r\n  }\r\n\r\n  private updateMissionEquipmentDate(gap: number, isGapPositive: boolean, date: string): string {\r\n    if (StringUtils.isNullOrEmpty(date)) {\r\n      return '';\r\n    } else {\r\n      const dateValue = new Date(date);\r\n      const updatedDate = isGapPositive\r\n        ? moment(dateValue).add(gap, 'hours')\r\n        : moment(dateValue).subtract(gap, 'hours');\r\n\r\n      return updatedDate.format(this.sessionService.dateTimeFormatMomentJS);\r\n    }\r\n  }\r\n\r\n  public abstract openNewMissionEquipment(): void;\r\n\r\n  protected abstract getMissionEquipmentTableExportName(): string;\r\n\r\n  protected abstract openMissionEquipment(\r\n    missionEquipment: MissionEquipmentRow | undefined,\r\n    openMode: ComponentOpenMode\r\n  ): void;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { AbstractApi } from './abstract.api';\r\n\r\n@Injectable()\r\nexport class OperationalConfigurationSetupApi extends AbstractApi {\r\n  private static readonly baseUrl: string = '/operational_configuration_setup';\r\n\r\n  public readonly init: string = super.appendToBaseUrl('/init');\r\n\r\n  public readonly count: string = super.appendToBaseUrl('/count');\r\n\r\n  public readonly get: string = super.appendToBaseUrl('/get');\r\n\r\n  public readonly updateWoAssetManagementPn: string = super.appendToBaseUrl('/update_wo_asset_management_pn');\r\n\r\n  public readonly updateWoAssetManagementSelectedEquipment: string = super.appendToBaseUrl(\r\n    '/update_wo_asset_management_selected_equipment'\r\n  );\r\n\r\n  public readonly executeWoAssetManagementDecision: string = super.appendToBaseUrl(\r\n    '/execute_wo_asset_management_decision'\r\n  );\r\n\r\n  public readonly controlWOAssetManagement: string = super.appendToBaseUrl('/control_wo_asset_management');\r\n\r\n  public constructor() {\r\n    super(OperationalConfigurationSetupApi.baseUrl);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".assetCode\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.equipmentCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".msn\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.sn\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".designation\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.equipmentDesignation\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".registration\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.registration\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".operator\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.operatorCustomerCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">{{ getComponentName() + \\\".status\\\" | translate }}</label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"statusList\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.statusState\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\">\\r\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"search()\\\">\\r\\n                  {{ \\\"global.toSearch\\\" | translate }}\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ \\\"global.results\\\" | translate }}\\r\\n          ({{ table.list ? table.list.length : 0 }}{{ table.moreResults ? \\\"+\\\" : \\\"\\\" }})\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            #ptableOperation\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"tableColList\\\"\\r\\n            [value]=\\\"table.list\\\"\\r\\n            [(selection)]=\\\"tableSelection\\\"\\r\\n            selectionMode=\\\"single\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!tableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"tableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptableOperation.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ rowData[col.field] }}\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"dialog.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!tableSelection\\\">\\r\\n      {{ \\\"dialog.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { GenericPropertyConstants } from '../../constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { FindAllAircraftByCriteriaInput } from '../../types/api-input-types/fleet-management/find-all-aircraft-by-criteria-input.interface';\r\nimport { BidoEquipmentDTO } from '../../types/api-types/bido-equipment-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { TableColumn } from '../../types/table-column.interface';\r\nimport { ListUtils } from '../../utils/list-utils';\r\nimport { StringUtils } from '../../utils/string-utils';\r\n\r\nimport { DialogSearchAircraftService } from './dialog-search-aircraft.service';\r\n\r\ninterface AircraftRow {\r\n  designation: string;\r\n  familyVariant: string;\r\n  msn: string;\r\n  operator: string;\r\n  registration: string;\r\n  status: string;\r\n  _obj: BidoEquipmentDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-aircraft',\r\n  templateUrl: 'dialog-search-aircraft.component.html'\r\n})\r\nexport class DialogSearchAircraftComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public searchObject: BidoEquipmentDTO;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<BidoEquipmentDTO>;\r\n\r\n  public statusList: SelectItem[];\r\n  public table: SearchResultsDTO<AircraftRow>;\r\n  public tableColList: TableColumn[];\r\n  public tableLoading: boolean;\r\n  public tableSelection: AircraftRow | undefined;\r\n\r\n  public constructor(\r\n    private readonly dialogSearchAircraftService: DialogSearchAircraftService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogSearchAircraftComponent');\r\n\r\n    this.onBeforeLoadOnce();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public ngOnInit(): void {\r\n    this.searchObject = this.searchObject || {};\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public onBeforeLoad(): void {\r\n    this.statusList = [];\r\n    this.tableLoading = false;\r\n\r\n    this.clearTableData();\r\n  }\r\n\r\n  private onBeforeLoadOnce(): void {\r\n    this.onValidated = new EventEmitter<BidoEquipmentDTO>();\r\n\r\n    this.loadStatusList();\r\n    this.setTableColList();\r\n  }\r\n\r\n  // ****************************************************************************\r\n\r\n  public search(): void {\r\n    this.tableLoading = true;\r\n    this.clearTableData();\r\n\r\n    const input: FindAllAircraftByCriteriaInput = {\r\n      bidoEquipmentDTO: this.searchObject\r\n    };\r\n    this.dialogSearchAircraftService\r\n      .findAllAircraftByCriteria(input)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.tableLoading = false;\r\n        })\r\n      )\r\n      .subscribe((results) => {\r\n        this.table.list = ListUtils.orEmpty(results.list)\r\n          .filter((result) => !StringUtils.isNullOrEmpty(result.equipmentCode))\r\n          .map((result) => this.createAircraftRow(result));\r\n        this.table.moreResults = results.moreResults;\r\n      });\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit((this.tableSelection as AircraftRow)._obj);\r\n    super.closeDialog();\r\n  }\r\n\r\n  private clearTableData(): void {\r\n    this.table = { list: [], moreResults: false };\r\n    this.tableSelection = undefined;\r\n  }\r\n\r\n  private createAircraftRow(obj: BidoEquipmentDTO): AircraftRow {\r\n    const selectedStatus = this.statusList.find((elt) => elt.value === obj.statusState);\r\n\r\n    const aircraftRow: AircraftRow = {\r\n      designation: StringUtils.orEmpty(obj.equipmentDesignation),\r\n      familyVariant: StringUtils.orEmpty(obj.familyVariantCode),\r\n      msn: StringUtils.orEmpty(obj.sn),\r\n      operator: StringUtils.orEmpty(obj.operatorCustomerCode),\r\n      registration: StringUtils.orEmpty(obj.registration),\r\n      status: selectedStatus ? StringUtils.orEmpty(selectedStatus.label) : '',\r\n      _obj: obj\r\n    };\r\n\r\n    return aircraftRow;\r\n  }\r\n\r\n  private loadStatusList() {\r\n    this.propertiesService.getValue(GenericPropertyConstants.OPERATIONAL_STATUS_MAP).subscribe((results) => {\r\n      this.statusList = ListUtils.orEmpty(results);\r\n    });\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.tableColList = [\r\n      { field: 'msn', alignment: 'left', width: '15%' },\r\n      { field: 'registration', alignment: 'left', width: '15%' },\r\n      { field: 'designation', alignment: 'left', width: '25%' },\r\n      { field: 'operator', alignment: 'left', width: '15%' },\r\n      { field: 'status', alignment: 'left', width: '15%' },\r\n      { field: 'familyVariant', alignment: 'left', width: '15%' }\r\n    ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchAircraftComponent } from './dialog-search-aircraft.component';\r\nimport { DialogSearchAircraftService } from './dialog-search-aircraft.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchAircraftComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchAircraftService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchAircraftModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../api/fleet-management.api';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\nimport { FindAllAircraftByCriteriaInput } from '../../types/api-input-types/fleet-management/find-all-aircraft-by-criteria-input.interface';\r\nimport { BidoEquipmentDTO } from '../../types/api-types/bido-equipment-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class DialogSearchAircraftService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findAllAircraftByCriteria(\r\n    criteria: FindAllAircraftByCriteriaInput\r\n  ): Observable<SearchResultsDTO<BidoEquipmentDTO>> {\r\n    return super.post<FindAllAircraftByCriteriaInput, SearchResultsDTO<BidoEquipmentDTO>>(\r\n      this.fleetManagementApi.findAllAircraftByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"70\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".missionCode\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.missionCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".missionType\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"missionTypeList\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.missionType\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".missionNumber\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.missionNumber\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".departureLocation\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.departureLocation\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".arrivalLocation\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.arrivalLocation\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\">\\r\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"search()\\\">\\r\\n                  {{ \\\"global.toSearch\\\" | translate }}\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ \\\"global.results\\\" | translate }}\\r\\n          ({{ table.list ? table.list.length : 0 }}{{ table.moreResults ? \\\"+\\\" : \\\"\\\" }})\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            #ptableMission\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"tableColList\\\"\\r\\n            [value]=\\\"table.list\\\"\\r\\n            [(selection)]=\\\"tableSelection\\\"\\r\\n            selectionMode=\\\"single\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!tableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"tableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptableMission.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ rowData[col.field] }}\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      {{ \\\"dialog.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!tableSelection\\\">\\r\\n      {{ \\\"dialog.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { GenericPropertyConstants } from '../../constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { BidoMissionDTO } from '../../types/api-types/bido-mission-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { TableColumn } from '../../types/table-column.interface';\r\nimport { ListUtils } from '../../utils/list-utils';\r\nimport { StringUtils } from '../../utils/string-utils';\r\n\r\nimport { DialogSearchMissionService } from './dialog-search-mission.service';\r\n\r\ninterface MissionRow {\r\n  arrivalLocation: string;\r\n  departureLocation: string;\r\n  missionNumber: string;\r\n  missionCode: string;\r\n  missionType: string;\r\n  _obj: BidoMissionDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-mission',\r\n  templateUrl: 'dialog-search-mission.component.html'\r\n})\r\nexport class DialogSearchMissionComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public searchObject: BidoMissionDTO;\r\n\r\n  @Output()\r\n  public onValidated = new EventEmitter<BidoMissionDTO>();\r\n\r\n  public missionTypeList: LabelValue<string>[];\r\n  public table: SearchResultsDTO<MissionRow>;\r\n  public tableColList: TableColumn[];\r\n  public tableLoading: boolean;\r\n  public tableSelection: MissionRow | undefined;\r\n\r\n  private flightBaseList: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    private readonly dialogSearchMissionService: DialogSearchMissionService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogSearchMissionComponent');\r\n\r\n    this.init();\r\n\r\n    this.loadFlightBaseList();\r\n    this.loadMissionsTypeList();\r\n\r\n    this.setTableColList();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.searchObject = this.searchObject || {};\r\n  }\r\n\r\n  public search(): void {\r\n    this.tableLoading = true;\r\n    this.clearTableData();\r\n\r\n    this.dialogSearchMissionService.findAllBidoMissionByCriteria(this.searchObject).subscribe((result) => {\r\n      if (result) {\r\n        this.table.moreResults = result.moreResults;\r\n        this.table.list = ListUtils.orEmpty(result.list)\r\n          .filter((elt) => !StringUtils.isNullOrEmpty(elt.missionCode))\r\n          .map((elt) => this.createMissionRow(elt));\r\n      }\r\n      this.tableLoading = false;\r\n    });\r\n  }\r\n\r\n  public cancel(): void {\r\n    super.closeDialog();\r\n  }\r\n\r\n  public validate(): void {\r\n    if (!this.tableSelection) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('warningOnNoSelection'));\r\n    } else {\r\n      this.onValidated.emit(this.tableSelection._obj);\r\n      super.closeDialog();\r\n    }\r\n  }\r\n\r\n  private clearTableData(): void {\r\n    this.table = { list: [], moreResults: false };\r\n    this.tableSelection = undefined;\r\n  }\r\n\r\n  private createMissionRow(obj: BidoMissionDTO): MissionRow {\r\n    const selectedArrival = this.flightBaseList.find((elt) => elt.value === obj.arrivalLocation);\r\n    const selectedDeparture = this.flightBaseList.find((elt) => elt.value === obj.departureLocation);\r\n    const selectedMissionType = this.missionTypeList.find((elt) => elt.value === obj.missionType);\r\n\r\n    const operationRow: MissionRow = {\r\n      arrivalLocation: selectedArrival ? StringUtils.orEmpty(selectedArrival.label) : '',\r\n      departureLocation: selectedDeparture ? StringUtils.orEmpty(selectedDeparture.label) : '',\r\n      missionCode: StringUtils.orEmpty(obj.missionCode),\r\n      missionNumber: StringUtils.orEmpty(obj.missionNumber),\r\n      missionType: selectedMissionType ? StringUtils.orEmpty(selectedMissionType.label) : '',\r\n      _obj: obj\r\n    };\r\n\r\n    return operationRow;\r\n  }\r\n\r\n  private init(): void {\r\n    this.clearTableData();\r\n\r\n    this.flightBaseList = [];\r\n    this.missionTypeList = [];\r\n    this.tableLoading = false;\r\n  }\r\n\r\n  private loadFlightBaseList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLIGHT_BASE_MAP).subscribe((results) => {\r\n      this.flightBaseList = ListUtils.orEmpty(results);\r\n    });\r\n  }\r\n\r\n  private loadMissionsTypeList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.EVENT_MISSION_TYPE_MAP).subscribe((results) => {\r\n      if (results) {\r\n        this.missionTypeList = ListUtils.orEmpty(results);\r\n      }\r\n    });\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.tableColList = [\r\n      { field: 'missionCode', alignment: 'left', width: '25%' },\r\n      { field: 'missionType', alignment: 'left', width: '30%' },\r\n      { field: 'missionNumber', alignment: 'left', width: '15%' },\r\n      { field: 'departureLocation', alignment: 'left', width: '15%' },\r\n      { field: 'arrivalLocation', alignment: 'left', width: '15%' }\r\n    ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchMissionComponent } from './dialog-search-mission.component';\r\nimport { DialogSearchMissionService } from './dialog-search-mission.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchMissionComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchMissionService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchMissionModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../shared/api/fleet-management.api';\r\nimport { BidoMissionDTO } from '../../../shared/types/api-types/bido-mission-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\n\r\n@Injectable()\r\nexport class DialogSearchMissionService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findAllBidoMissionByCriteria(criteria: BidoMissionDTO): Observable<SearchResultsDTO<BidoMissionDTO>> {\r\n    return super.post<BidoMissionDTO, SearchResultsDTO<BidoMissionDTO>>(\r\n      this.fleetManagementApi.findBidoMissionsBySearchCriteriaForOVS,\r\n      criteria\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group required\\\">\\r\\n          <label class=\\\"form-label\\\">\\r\\n            {{ getComponentName() + \\\".comment\\\" | translate }}\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control required\\\">\\r\\n            <textarea\\r\\n              class=\\\"aw-textarea\\\"\\r\\n              [rows]=\\\"3\\\"\\r\\n              pInputTextarea\\r\\n              autoResize=\\\"autoResize\\\"\\r\\n              [(ngModel)]=\\\"comment\\\"\\r\\n            ></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group required\\\">\\r\\n          <label class=\\\"form-label\\\">\\r\\n            {{ getComponentName() + \\\".date\\\" | translate }}\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control required\\\">\\r\\n            <p-calendar\\r\\n              showButtonBar=\\\"true\\\"\\r\\n              [monthNavigator]=\\\"true\\\"\\r\\n              [yearNavigator]=\\\"true\\\"\\r\\n              [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n              class=\\\"aw-calendar\\\"\\r\\n              [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n              [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n              [(ngModel)]=\\\"date\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n              [showTime]=\\\"true\\\"\\r\\n              [readonlyInput]=\\\"true\\\"\\r\\n            ></p-calendar>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"validate()\\\" [disabled]=\\\"!isValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport * as moment from 'moment';\r\n\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { SessionService } from '../../services/session.service';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { ObjectUtils } from '../../utils/object-utils';\r\nimport { StringUtils } from '../../utils/string-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-update-task-application',\r\n  templateUrl: './dialog-update-task-application.component.html'\r\n})\r\nexport class DialogUpdateTaskApplicationComponent extends DialogComponent {\r\n  @Input()\r\n  public lastExecutionDateOfPreviousFlight: Date | undefined;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<{ comment: string; date: Date }>;\r\n\r\n  public comment: string | undefined;\r\n  public date: Date | undefined;\r\n\r\n  public constructor(public sessionService: SessionService, private readonly messageService: MessageService) {\r\n    super(ComponentOpenMode.Write, 'DialogUpdateTaskApplicationComponent');\r\n\r\n    this.init();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return ObjectUtils.isDefined(this.date) && !StringUtils.isNullOrEmpty(this.comment);\r\n  }\r\n\r\n  public validate(): void {\r\n    if (moment(this.date).isAfter(moment())) {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnDateInFuture'));\r\n    } else if (\r\n      ObjectUtils.isDefined(this.lastExecutionDateOfPreviousFlight) &&\r\n      moment(this.date).isBefore(moment(this.lastExecutionDateOfPreviousFlight))\r\n    ) {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnDateBeforePreviousPostFlightTask'));\r\n    } else {\r\n      this.onValidated.emit({ comment: this.comment as string, date: this.date as Date });\r\n      this.closeDialog();\r\n    }\r\n  }\r\n\r\n  private init(): void {\r\n    this.comment = undefined;\r\n    this.date = undefined;\r\n\r\n    this.onValidated = new EventEmitter<{ comment: string; date: Date }>();\r\n  }\r\n}\r\n","export class BidoMissionEquipmentConstants {\r\n  // Dassault *******************************************************************\r\n  public static readonly DAV_HUMS_STATUS_FSC_DONE = 'FSC_DONE';\r\n  public static readonly DAV_HUMS_STATUS_FSC_IN_ERROR = 'FSC_IN_ERROR';\r\n  public static readonly DAV_HUMS_STATUS_FSC_SENT = 'FSC_SENT';\r\n  public static readonly DAV_HUMS_STATUS_FSC_VALIDATED = 'FSC_VALIDATED';\r\n  public static readonly DAV_HUMS_STATUS_POTENTIAL_IN_ERROR = 'POTENTIAL_IN_ERROR';\r\n  public static readonly DAV_HUMS_STATUS_POTENTIAL_RECEIVED = 'POTENTIAL_RECEIVED';\r\n  public static readonly DAV_HUMS_STATUS_UNDO_DONE = 'UNDO_DONE';\r\n  public static readonly DAV_HUMS_STATUS_UNDO_IN_PROCESS = 'UNDO_IN_PROCESS';\r\n  public static readonly DAV_HUMS_STATUS_UNDO_SENT = 'UNDO_SENT';\r\n  public static readonly EMPTY_EQUIPMENT_CODE = 'EMPTY';\r\n}\r\n","export class BidoNotificationTypeConstants {\r\n  // Maintenance\r\n  public static readonly ACRS_TYPE_CODE = 'ACRS';\r\n  public static readonly TASK_APPLIED_TYPE_CODE = 'TA';\r\n  public static readonly EVOLUTION_APPLIED_TYPE_CODE = 'EA';\r\n  public static readonly ASSEMBLY_TYPE_CODE = 'AS';\r\n  public static readonly DISASSEMBLY_TYPE_CODE = 'DI';\r\n  public static readonly FORM1_TYPE_CODE = 'FORM1';\r\n}\r\n","export class BidtQualificationConstants {\r\n  public static readonly CODE_FLIGHT_OPS_COPILOT: string = 'COP';\r\n\r\n  public static readonly CODE_FLIGHT_OPS_FLIGHT_OTHER: string = 'FOT';\r\n\r\n  public static readonly CODE_FLIGHT_OPS_PILOT: string = 'PIL';\r\n}\r\n","export enum TableColumnFilterMode {\r\n  None = 'none',\r\n  Tricheckbox = 'tricheckbox',\r\n  Input = 'input'\r\n}\r\n","export enum TableSelectionMode {\r\n  Multiple = 'multiple',\r\n  Single = 'single'\r\n}\r\n","import { BidoEquipmentDTO } from '../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BireItemDTOId } from '../../shared/types/api-types/bire-item-dto-id.interface';\r\nimport { StringUtils } from '../../shared/utils/string-utils';\r\nimport { AWPropertiesConstants } from '../constants/aw-properties-constants';\r\n\r\nimport { BidoFamilyVariantUtils } from './bido-family-variant-utils';\r\n\r\nexport class BidoEquipmentUtils {\r\n  public static createAssetName(equipment: BidoEquipmentDTO | undefined): string {\r\n    if (!equipment) {\r\n      return '';\r\n    } else {\r\n      let designation: string;\r\n      switch (equipment.equipmentFunction) {\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY:\r\n          designation = StringUtils.orEmpty(equipment.registration);\r\n          break;\r\n\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY:\r\n          designation = StringUtils.orEmpty(equipment.sn);\r\n          break;\r\n\r\n        default:\r\n          designation = StringUtils.orEmpty(equipment.pnCode) + '/' + StringUtils.orEmpty(equipment.sn);\r\n          break;\r\n      }\r\n\r\n      return designation;\r\n    }\r\n  }\r\n\r\n  public static createAircraftRepresentation(equipment: BidoEquipmentDTO | undefined): string {\r\n    let aircraftRepresentation = '';\r\n    if (!equipment) {\r\n      return '';\r\n    } else {\r\n      if (BidoEquipmentUtils.createAssetName(equipment) !== '') {\r\n        aircraftRepresentation =\r\n          'MSN ' + StringUtils.orEmpty(equipment.sn) + ' | ' + BidoEquipmentUtils.createAssetName(equipment);\r\n      }\r\n      if (BidoEquipmentUtils.createAssetName(equipment) === '' && StringUtils.orEmpty(equipment.sn) !== '') {\r\n        aircraftRepresentation = 'MSN ' + StringUtils.orEmpty(equipment.sn);\r\n      }\r\n\r\n      return aircraftRepresentation;\r\n    }\r\n  }\r\n\r\n  public static createAssetRepresentation(equipment: BidoEquipmentDTO | undefined): string {\r\n    let assetRepresentation = '';\r\n    if (equipment) {\r\n      let designation: string;\r\n      switch (equipment.equipmentFunction) {\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY:\r\n          assetRepresentation =\r\n            StringUtils.orEmpty(equipment.familyVariantCode) +\r\n            ' | MSN ' +\r\n            StringUtils.orEmpty(equipment.sn) +\r\n            ' | ' +\r\n            StringUtils.orEmpty(equipment.registration);\r\n          designation = StringUtils.orEmpty(equipment.registration);\r\n          break;\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY:\r\n          assetRepresentation =\r\n            StringUtils.orEmpty(equipment.familyVariantCode) +\r\n            ' | MSN ' +\r\n            StringUtils.orEmpty(equipment.sn) +\r\n            ' | ' +\r\n            StringUtils.orEmpty(equipment.registration);\r\n          designation = StringUtils.orEmpty(equipment.registration);\r\n          break;\r\n        default:\r\n          assetRepresentation =\r\n            StringUtils.orEmpty(equipment.familyVariantCode) + ' | SN ' + StringUtils.orEmpty(equipment.sn);\r\n          designation = StringUtils.orEmpty(equipment.sn);\r\n          break;\r\n      }\r\n    }\r\n\r\n    return assetRepresentation;\r\n  }\r\n\r\n  public static getBireItemPK(equipment: BidoEquipmentDTO): BireItemDTOId | undefined {\r\n    if (\r\n      !!equipment.chapter &&\r\n      !StringUtils.isEmpty(equipment.chapter) &&\r\n      !!equipment.marks &&\r\n      !StringUtils.isEmpty(equipment.marks) &&\r\n      !!equipment.section &&\r\n      !StringUtils.isEmpty(equipment.section) &&\r\n      !!equipment.sheet &&\r\n      !StringUtils.isEmpty(equipment.sheet) &&\r\n      !!equipment.subject &&\r\n      !StringUtils.isEmpty(equipment.subject)\r\n    ) {\r\n      const itemId: BireItemDTOId = {\r\n        familyCode: BidoFamilyVariantUtils.getFamilyCodeFromFamilyVariantCode(equipment.familyVariantCode),\r\n        chapter: equipment.chapter,\r\n        subject: equipment.subject,\r\n        variantCode: BidoFamilyVariantUtils.getVariantCodeFromFamilyVariantCode(equipment.familyVariantCode),\r\n        section: equipment.section,\r\n        sheet: equipment.sheet,\r\n        marks: equipment.marks,\r\n        structureType: AWPropertiesConstants.STRUCTURE_TYPE_IPC_KEY\r\n      };\r\n\r\n      return itemId;\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  public static toString(asset: BidoEquipmentDTO | undefined, withFamilyVariantCode: boolean = true): string {\r\n    if (!asset) {\r\n      return '';\r\n    }\r\n\r\n    const equipmentCode = asset.equipmentCode;\r\n    const equipmentFunction = asset.equipmentFunction;\r\n    const familyVariantCode = withFamilyVariantCode ? `${asset.familyVariantCode} | ` : '';\r\n    const pn = asset.pnCode;\r\n    const registration = asset.registration;\r\n    const sn = asset.sn;\r\n\r\n    if (equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY) {\r\n      const formattedMsn = !StringUtils.isNullOrEmpty(sn) ? `MSN ${sn}` : '';\r\n      const formattedRegistration = !StringUtils.isNullOrEmpty(registration) ? ` | ${registration}` : '';\r\n\r\n      return `${familyVariantCode}${formattedMsn}${formattedRegistration}`;\r\n    } else if (equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY) {\r\n      const formattedEsn = !StringUtils.isNullOrEmpty(sn) ? `ESN ${sn}` : '';\r\n\r\n      return `${familyVariantCode}${formattedEsn}`;\r\n    } else {\r\n      if (!StringUtils.isNullOrEmpty(pn)) {\r\n        if (!StringUtils.isNullOrEmpty(sn)) {\r\n          return `P/N ${pn} | S/N ${sn}`;\r\n        } else {\r\n          return `P/N ${pn}`;\r\n        }\r\n      } else if (!StringUtils.isNullOrEmpty(sn)) {\r\n        return `S/N ${sn}`;\r\n      } else {\r\n        return StringUtils.orEmpty(equipmentCode);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { StringUtils } from '../../shared/utils/string-utils';\r\n\r\nexport class BidoFamilyVariantUtils {\r\n  public static buildFamilyVariantCode(\r\n    familyCode: string | undefined,\r\n    variantCode: string | undefined\r\n  ): string | undefined {\r\n    if (StringUtils.isNullOrEmpty(familyCode) || StringUtils.isNullOrEmpty(variantCode)) {\r\n      return undefined;\r\n    } else {\r\n      return `${familyCode}-${variantCode}`;\r\n    }\r\n  }\r\n\r\n  public static getFamilyCodeFromFamilyVariantCode(familyVariantCode: string | undefined): string | undefined {\r\n    return !!familyVariantCode && familyVariantCode.indexOf('-') > -1\r\n      ? familyVariantCode.substring(0, familyVariantCode.indexOf('-'))\r\n      : undefined;\r\n  }\r\n\r\n  public static getVariantCodeFromFamilyVariantCode(familyVariantCode: string | undefined): string | undefined {\r\n    return !!familyVariantCode && familyVariantCode.indexOf('-') > -1\r\n      ? familyVariantCode.substring(familyVariantCode.indexOf('-') + 1)\r\n      : undefined;\r\n  }\r\n}\r\n","import { BidtEmployeeDTO } from '../types/api-types/bidt-employee-dto.interface';\r\n\r\nimport { ObjectUtils } from './object-utils';\r\nimport { StringUtils } from './string-utils';\r\n\r\nexport class BidtEmployeeUtils {\r\n  public static format(employee: BidtEmployeeDTO): string {\r\n    let label: string;\r\n    if (\r\n      !StringUtils.isNullOrEmpty(employee.employeeLastName) &&\r\n      !StringUtils.isNullOrEmpty(employee.employeeFirstName)\r\n    ) {\r\n      label = `${employee.employeeLastName} ${employee.employeeFirstName}`;\r\n    } else if (!StringUtils.isNullOrEmpty(employee.employeeLastName)) {\r\n      label = employee.employeeLastName as string;\r\n    } else if (!StringUtils.isNullOrEmpty(employee.employeeFirstName)) {\r\n      label = employee.employeeFirstName as string;\r\n    } else if (!StringUtils.isNullOrEmpty(employee.employeeNumber)) {\r\n      label = employee.employeeNumber as string;\r\n    } else {\r\n      label = ObjectUtils.isDefined(employee.id) ? (employee.id as number).toString() : '';\r\n    }\r\n\r\n    return label;\r\n  }\r\n}\r\n","import { AWPropertiesConstants } from '../constants/aw-properties-constants';\r\nimport { BireSbDTO } from '../types/api-types/bire-sb-dto.interface';\r\n\r\nexport class BireSbUtils {\r\n  public static isAD(bireSbDto: BireSbDTO): boolean {\r\n    return (\r\n      !!bireSbDto &&\r\n      (bireSbDto.sbType === AWPropertiesConstants.SB_TYPE_AD_KEY ||\r\n        bireSbDto.sbType === AWPropertiesConstants.SB_TYPE_SAIB_KEY ||\r\n        bireSbDto.sbType === AWPropertiesConstants.SB_TYPE_SIB_KEY)\r\n    );\r\n  }\r\n}\r\n","import { LabelValue } from '../../shared/types/label-value.interface';\r\n\r\nexport class LabelValueUtils {\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static stringValueToLabel<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.value === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.label;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static labelToStringValue<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.label === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.value;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n"],"sourceRoot":""}