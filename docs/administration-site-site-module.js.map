{"version":3,"sources":["webpack:///./node_modules/primeng/components/inputtextarea/inputtextarea.js","webpack:///./node_modules/primeng/components/keyfilter/keyfilter.js","webpack:///./node_modules/primeng/components/message/message.js","webpack:///./node_modules/primeng/dialog.js","webpack:///./node_modules/primeng/inputtextarea.js","webpack:///./node_modules/primeng/keyfilter.js","webpack:///./node_modules/primeng/message.js","webpack:///./src/app/main/administration/site/form/dialog-capability/dialog-capability.component.html","webpack:///./src/app/main/administration/site/form/dialog-capability/dialog-capability.component.ts","webpack:///./src/app/main/administration/site/form/site-form.component.html","webpack:///./src/app/main/administration/site/form/site-form.component.scss","webpack:///./src/app/main/administration/site/form/site-form.component.ts","webpack:///./src/app/main/administration/site/form/site-form.service.ts","webpack:///./src/app/main/administration/site/search/site-search.component.html","webpack:///./src/app/main/administration/site/search/site-search.component.scss","webpack:///./src/app/main/administration/site/search/site-search.component.ts","webpack:///./src/app/main/administration/site/search/site-search.service.ts","webpack:///./src/app/main/administration/site/site.module.ts","webpack:///./src/app/shared/utils/label-value-utils.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,cAAc,mBAAO,CAAC,oEAAgB;AACtC,eAAe,mBAAO,CAAC,uEAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;ACrHa;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,eAAe,mBAAO,CAAC,uEAAiB;AACxC,mBAAmB,mBAAO,CAAC,8EAAmB;AAC9C,cAAc,mBAAO,CAAC,oEAAgB;AACtC;AACA;AACA,gDAAgD,kBAAkB,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC/Ka;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,iEAAe;AACpC,eAAe,mBAAO,CAAC,uEAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iJAAiJ,kOAAkO;AACnX,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;ACzEA;AACa;AACb;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,SAAS,mBAAO,CAAC,sFAA4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","file":"administration-site-site-module.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar forms_1 = require(\"@angular/forms\");\nvar common_1 = require(\"@angular/common\");\nvar InputTextarea = /** @class */ (function () {\n    function InputTextarea(el, ngModel) {\n        this.el = el;\n        this.ngModel = ngModel;\n        this.onResize = new core_1.EventEmitter();\n    }\n    InputTextarea.prototype.ngDoCheck = function () {\n        this.updateFilledState();\n        if (this.autoResize) {\n            this.resize();\n        }\n    };\n    //To trigger change detection to manage ui-state-filled for material labels when there is no value binding\n    InputTextarea.prototype.onInput = function (e) {\n        this.updateFilledState();\n        if (this.autoResize) {\n            this.resize(e);\n        }\n    };\n    InputTextarea.prototype.updateFilledState = function () {\n        this.filled = (this.el.nativeElement.value && this.el.nativeElement.value.length) || (this.ngModel && this.ngModel.model);\n    };\n    InputTextarea.prototype.onFocus = function (e) {\n        if (this.autoResize) {\n            this.resize(e);\n        }\n    };\n    InputTextarea.prototype.onBlur = function (e) {\n        if (this.autoResize) {\n            this.resize(e);\n        }\n    };\n    InputTextarea.prototype.resize = function (event) {\n        this.el.nativeElement.style.height = this.el.nativeElement.scrollHeight + 'px';\n        if (parseFloat(this.el.nativeElement.style.height) >= parseFloat(this.el.nativeElement.style.maxHeight)) {\n            this.el.nativeElement.style.overflowY = \"scroll\";\n            this.el.nativeElement.style.height = this.el.nativeElement.style.maxHeight;\n        }\n        else {\n            this.el.nativeElement.style.overflow = \"hidden\";\n        }\n        this.onResize.emit(event || {});\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], InputTextarea.prototype, \"autoResize\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], InputTextarea.prototype, \"onResize\", void 0);\n    __decorate([\n        core_1.HostListener('input', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], InputTextarea.prototype, \"onInput\", null);\n    __decorate([\n        core_1.HostListener('focus', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], InputTextarea.prototype, \"onFocus\", null);\n    __decorate([\n        core_1.HostListener('blur', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], InputTextarea.prototype, \"onBlur\", null);\n    InputTextarea = __decorate([\n        core_1.Directive({\n            selector: '[pInputTextarea]',\n            host: {\n                '[class.ui-inputtext]': 'true',\n                '[class.ui-corner-all]': 'true',\n                '[class.ui-inputtextarea-resizable]': 'autoResize',\n                '[class.ui-state-default]': 'true',\n                '[class.ui-widget]': 'true',\n                '[class.ui-state-filled]': 'filled'\n            }\n        }),\n        __param(1, core_1.Optional()),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef, forms_1.NgModel])\n    ], InputTextarea);\n    return InputTextarea;\n}());\nexports.InputTextarea = InputTextarea;\nvar InputTextareaModule = /** @class */ (function () {\n    function InputTextareaModule() {\n    }\n    InputTextareaModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            exports: [InputTextarea],\n            declarations: [InputTextarea]\n        })\n    ], InputTextareaModule);\n    return InputTextareaModule;\n}());\nexports.InputTextareaModule = InputTextareaModule;\n//# sourceMappingURL=inputtextarea.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar domhandler_1 = require(\"../dom/domhandler\");\nvar forms_1 = require(\"@angular/forms\");\nexports.KEYFILTER_VALIDATOR = {\n    provide: forms_1.NG_VALIDATORS,\n    useExisting: core_1.forwardRef(function () { return KeyFilter; }),\n    multi: true\n};\nvar KeyFilter = /** @class */ (function () {\n    function KeyFilter(el) {\n        this.el = el;\n    }\n    KeyFilter_1 = KeyFilter;\n    Object.defineProperty(KeyFilter.prototype, \"pattern\", {\n        get: function () {\n            return this._pattern;\n        },\n        set: function (_pattern) {\n            this._pattern = _pattern;\n            this.regex = KeyFilter_1.DEFAULT_MASKS[this._pattern] || this._pattern;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    KeyFilter.prototype.isNavKeyPress = function (e) {\n        var k = e.keyCode;\n        k = domhandler_1.DomHandler.getBrowser().safari ? (KeyFilter_1.SAFARI_KEYS[k] || k) : k;\n        return (k >= 33 && k <= 40) || k == KeyFilter_1.KEYS.RETURN || k == KeyFilter_1.KEYS.TAB || k == KeyFilter_1.KEYS.ESC;\n    };\n    ;\n    KeyFilter.prototype.isSpecialKey = function (e) {\n        var k = e.keyCode;\n        var c = e.charCode;\n        return k == 9 || k == 13 || k == 27 || k == 16 || k == 17 || (k >= 18 && k <= 20) ||\n            (domhandler_1.DomHandler.getBrowser().opera && !e.shiftKey && (k == 8 || (k >= 33 && k <= 35) || (k >= 36 && k <= 39) || (k >= 44 && k <= 45)));\n    };\n    KeyFilter.prototype.getKey = function (e) {\n        var k = e.keyCode || e.charCode;\n        return domhandler_1.DomHandler.getBrowser().safari ? (KeyFilter_1.SAFARI_KEYS[k] || k) : k;\n    };\n    KeyFilter.prototype.getCharCode = function (e) {\n        return e.charCode || e.keyCode || e.which;\n    };\n    ;\n    KeyFilter.prototype.onKeyPress = function (e) {\n        if (this.pValidateOnly) {\n            return;\n        }\n        var browser = domhandler_1.DomHandler.getBrowser();\n        if (e.ctrlKey || e.altKey) {\n            return;\n        }\n        var k = this.getKey(e);\n        if (k == 13) {\n            return;\n        }\n        if (browser.mozilla && (this.isNavKeyPress(e) || k == KeyFilter_1.KEYS.BACKSPACE || (k == KeyFilter_1.KEYS.DELETE && e.charCode == 0))) {\n            return;\n        }\n        var c = this.getCharCode(e);\n        var cc = String.fromCharCode(c);\n        var ok = true;\n        if (browser.mozilla && (this.isSpecialKey(e) || !cc)) {\n            return;\n        }\n        ok = this.regex.test(cc);\n        if (!ok) {\n            e.preventDefault();\n        }\n    };\n    KeyFilter.prototype.onPaste = function (e) {\n        var clipboardData = e.clipboardData || window.clipboardData.getData('text');\n        if (clipboardData) {\n            var pastedText = clipboardData;\n            if (!this.regex.test(pastedText)) {\n                e.preventDefault();\n            }\n        }\n    };\n    KeyFilter.prototype.validate = function (c) {\n        if (this.pValidateOnly) {\n            var value = this.el.nativeElement.value;\n            if (value && !this.regex.test(value)) {\n                return {\n                    validatePattern: false\n                };\n            }\n        }\n    };\n    var KeyFilter_1;\n    KeyFilter.DEFAULT_MASKS = {\n        pint: /[\\d]/,\n        'int': /[\\d\\-]/,\n        pnum: /[\\d\\.]/,\n        money: /[\\d\\.\\s,]/,\n        num: /[\\d\\-\\.]/,\n        hex: /[0-9a-f]/i,\n        email: /[a-z0-9_\\.\\-@]/i,\n        alpha: /[a-z_]/i,\n        alphanum: /[a-z0-9_]/i\n    };\n    KeyFilter.KEYS = {\n        TAB: 9,\n        RETURN: 13,\n        ESC: 27,\n        BACKSPACE: 8,\n        DELETE: 46\n    };\n    KeyFilter.SAFARI_KEYS = {\n        63234: 37,\n        63235: 39,\n        63232: 38,\n        63233: 40,\n        63276: 33,\n        63277: 34,\n        63272: 46,\n        63273: 36,\n        63275: 35 // end\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Boolean)\n    ], KeyFilter.prototype, \"pValidateOnly\", void 0);\n    __decorate([\n        core_1.Input('pKeyFilter'),\n        __metadata(\"design:type\", Object),\n        __metadata(\"design:paramtypes\", [Object])\n    ], KeyFilter.prototype, \"pattern\", null);\n    __decorate([\n        core_1.HostListener('keypress', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [KeyboardEvent]),\n        __metadata(\"design:returntype\", void 0)\n    ], KeyFilter.prototype, \"onKeyPress\", null);\n    __decorate([\n        core_1.HostListener('paste', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Object]),\n        __metadata(\"design:returntype\", void 0)\n    ], KeyFilter.prototype, \"onPaste\", null);\n    KeyFilter = KeyFilter_1 = __decorate([\n        core_1.Directive({\n            selector: '[pKeyFilter]',\n            providers: [exports.KEYFILTER_VALIDATOR]\n        }),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef])\n    ], KeyFilter);\n    return KeyFilter;\n}());\nexports.KeyFilter = KeyFilter;\nvar KeyFilterModule = /** @class */ (function () {\n    function KeyFilterModule() {\n    }\n    KeyFilterModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            exports: [KeyFilter],\n            declarations: [KeyFilter]\n        })\n    ], KeyFilterModule);\n    return KeyFilterModule;\n}());\nexports.KeyFilterModule = KeyFilterModule;\n//# sourceMappingURL=keyfilter.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar UIMessage = /** @class */ (function () {\n    function UIMessage() {\n    }\n    Object.defineProperty(UIMessage.prototype, \"icon\", {\n        get: function () {\n            var icon = null;\n            if (this.severity) {\n                switch (this.severity) {\n                    case 'success':\n                        icon = 'pi pi-check';\n                        break;\n                    case 'info':\n                        icon = 'pi pi-info-circle';\n                        break;\n                    case 'error':\n                        icon = 'pi pi-times';\n                        break;\n                    case 'warn':\n                        icon = 'pi pi-exclamation-triangle';\n                        break;\n                    default:\n                        icon = 'pi pi-info-circle';\n                        break;\n                }\n            }\n            return icon;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], UIMessage.prototype, \"severity\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], UIMessage.prototype, \"text\", void 0);\n    UIMessage = __decorate([\n        core_1.Component({\n            selector: 'p-message',\n            template: \"\\n        <div aria-live=\\\"polite\\\" class=\\\"ui-message ui-widget ui-corner-all\\\" *ngIf=\\\"severity\\\"\\n        [ngClass]=\\\"{'ui-message-info': (severity === 'info'),\\n                'ui-message-warn': (severity === 'warn'),\\n                'ui-message-error': (severity === 'error'),\\n                'ui-message-success': (severity === 'success')}\\\">\\n            <span class=\\\"ui-message-icon\\\" [ngClass]=\\\"icon\\\"></span>\\n            <span class=\\\"ui-message-text\\\" [innerHTML]=\\\"text\\\"></span>\\n        </div>\\n    \"\n        })\n    ], UIMessage);\n    return UIMessage;\n}());\nexports.UIMessage = UIMessage;\nvar MessageModule = /** @class */ (function () {\n    function MessageModule() {\n    }\n    MessageModule = __decorate([\n        core_1.NgModule({\n            imports: [common_1.CommonModule],\n            exports: [UIMessage],\n            declarations: [UIMessage]\n        })\n    ], MessageModule);\n    return MessageModule;\n}());\nexports.MessageModule = MessageModule;\n//# sourceMappingURL=message.js.map","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/dialog/dialog\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/inputtextarea/inputtextarea\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/keyfilter/keyfilter\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/message/message\"));","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".partNumber\\\" | translate }}</label>\\r\\n      <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode || !isCreateOpenMode }\\\">\\r\\n        <div class=\\\"form-control-data\\\" (click)=\\\"openPartNumberDialog()\\\">{{ capability.pnCode }}</div>\\r\\n\\r\\n        <div *ngIf=\\\"capability.pnCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n          <i\\r\\n            class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n            aria-hidden=\\\"true\\\"\\r\\n            (click)=\\\"capability.pnCode = undefined\\\"\\r\\n          ></i>\\r\\n        </div>\\r\\n        <div class=\\\"btn-search-wrapper\\\">\\r\\n          <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"openPartNumberDialog()\\\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".technicalLevel\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-dropdown\\r\\n          name=\\\"bidtTechnicalLevels\\\"\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n          [options]=\\\"technicalLevels\\\"\\r\\n          [(ngModel)]=\\\"capability.technicalLevel\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n          [showClear]=\\\"true\\\"\\r\\n          [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n          required\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".cost\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          #cost=\\\"ngModel\\\"\\r\\n          name=\\\"cost\\\"\\r\\n          type=\\\"text\\\"\\r\\n          [pKeyFilter]=\\\"inputValidationService.validatorOfMoney()\\\"\\r\\n          [pValidateOnly]=\\\"true\\\"\\r\\n          maxlength=\\\"37\\\"\\r\\n          [(ngModel)]=\\\"capability.cost\\\"\\r\\n          class=\\\"aw-input \\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n          [pKeyFilter]=\\\"inputValidationService.validatorOfPositiveNumber()\\\"\\r\\n          [pValidateOnly]=\\\"true\\\"\\r\\n        />\\r\\n        <p-message\\r\\n          *ngIf=\\\"cost.invalid && (cost.dirty || cost.touched)\\\"\\r\\n          severity=\\\"error\\\"\\r\\n          [text]=\\\"inputValidationService.formatOfMoney()\\\"\\r\\n        ></p-message>\\r\\n      </div>\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".euro\\\" | translate }}</label>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".validityDate\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-calendar\\r\\n          showButtonBar=\\\"true\\\"\\r\\n          [monthNavigator]=\\\"true\\\"\\r\\n          [yearNavigator]=\\\"true\\\"\\r\\n          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n          class=\\\"aw-calendar \\\"\\r\\n          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n          [ngClass]=\\\"{ inactive: isReadOpenMode }\\\"\\r\\n          [(ngModel)]=\\\"capability.availabilityDate\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n        ></p-calendar>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".tat\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          #tat=\\\"ngModel\\\"\\r\\n          type=\\\"number\\\"\\r\\n          name=\\\"tat\\\"\\r\\n          [pKeyFilter]=\\\"inputValidationService.validatorOfInteger()\\\"\\r\\n          [pValidateOnly]=\\\"true\\\"\\r\\n          onKeyPress=\\\"if(this.value.length==10) return false;\\\"\\r\\n          [(ngModel)]=\\\"capability.tat\\\"\\r\\n          class=\\\"aw-input \\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n        />\\r\\n        <p-message\\r\\n          *ngIf=\\\"tat.invalid && (tat.dirty || tat.touched)\\\"\\r\\n          severity=\\\"error\\\"\\r\\n          [text]=\\\"inputValidationService.formatOfInteger()\\\"\\r\\n        ></p-message>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        (cost.invalid && (cost.dirty || cost.touched)) ||\\r\\n        !capability.pnCode ||\\r\\n        capability.pnCode.length === 0 ||\\r\\n        !capability.technicalLevel ||\\r\\n        capability.technicalLevel.length === 0\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.close\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showPartNumberDialog\\\"\\r\\n  [data]=\\\"partNumberTableData\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showPartNumberDialog\\\"\\r\\n  (onSelected)=\\\"onSelectedPartNumber($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { InputValidationService } from '../../../../../shared/services/input-validation.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { FindAllBirePnByCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-all-bire-pn-by-criteria-input.interface';\r\nimport { BirePnDTO } from '../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BsdeSitePnTilDTO } from '../../../../../shared/types/api-types/bsde-site-pn-til-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { StringUtils } from '../../../../../shared/utils/string-utils';\r\nimport { SiteFormService } from '../site-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-capability',\r\n  templateUrl: './dialog-capability.component.html'\r\n})\r\nexport class DialogCapabilityComponent extends DialogComponent implements OnInit {\r\n  public technicalLevels: LabelValue<string>[];\r\n  @Input()\r\n  public capabilityTemp: BsdeSitePnTilDTO;\r\n  @Input()\r\n  public openMode: ComponentOpenMode;\r\n  @Output()\r\n  public onValidated: EventEmitter<BsdeSitePnTilDTO>;\r\n\r\n  public partNumberTableData: DialogTableData<BirePnDTO>;\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  public showPartNumberDialog: boolean;\r\n\r\n  public capability: BsdeSitePnTilDTO;\r\n\r\n  public constructor(\r\n    public inputValidationService: InputValidationService,\r\n    private readonly siteFormService: SiteFormService,\r\n    private readonly messageService: MessageService,\r\n    public readonly sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Read, 'DialogCapabilityComponent');\r\n    this.technicalLevels = [];\r\n    this.onValidated = new EventEmitter<BsdeSitePnTilDTO>();\r\n\r\n    this.showPartNumberDialog = false;\r\n    this.capability = {};\r\n  }\r\n\r\n  private loadTechnicalLevel(): void {\r\n    this.siteFormService.findAllBireTils().subscribe((results) => {\r\n      results.forEach((result) => {\r\n        if (result.technicalLevel !== null && result.technicalLevel !== undefined && !!result.tilName) {\r\n          const tempName: LabelValue<string> = {\r\n            value: result.technicalLevel.toString(),\r\n            label: result.tilName\r\n          };\r\n          this.technicalLevels.push(tempName);\r\n        }\r\n      });\r\n\r\n      if (this.capabilityTemp != undefined) {\r\n        this.capability = this.capabilityTemp;\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.loadTechnicalLevel();\r\n    this.updateOpenMode(this.openMode);\r\n\r\n    if (!this.capability) {\r\n      this.capability = {};\r\n      this.capability.tat = 0;\r\n      this.capability.cost = '0';\r\n    }\r\n  }\r\n\r\n  public openPartNumberDialog(): void {\r\n    this.showPartNumberDialog = true;\r\n    this.initPartNumberTableData();\r\n  }\r\n\r\n  public validate(): void {\r\n    if (\r\n      StringUtils.isNullOrEmpty(this.capability.pnCode) ||\r\n      StringUtils.isNullOrEmpty(this.capability.technicalLevel)\r\n    ) {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    } else {\r\n      // Checking if part Number typed is valid or not\r\n      this.isPartNumberValid((cb) => {\r\n        if (cb === '') {\r\n          return;\r\n        } else {\r\n          this.capability.pnCode = cb.pnCode;\r\n          this.onValidated.emit(this.capability);\r\n          this.closeDialog();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private isPartNumberValid(callback) {\r\n    const criteria: FindAllBirePnByCriteriaInput = {};\r\n    if (this.capability.pnCode) {\r\n      criteria.birePnDTO = {};\r\n      criteria.birePnDTO.pnCode = this.capability.pnCode;\r\n    }\r\n\r\n    this.siteFormService.findAllBirePnByCriteria(criteria).subscribe((res) => {\r\n      if (res.list.length === 0) {\r\n        callback('');\r\n      }\r\n      res.list.map((result) => {\r\n        if (\r\n          !!this.capability.pnCode &&\r\n          !!result.pnCode &&\r\n          this.capability.pnCode.toLowerCase() === result.pnCode.toLowerCase()\r\n        ) {\r\n          callback(result);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private initPartNumberTableData(): void {\r\n    const partNumberTableCols: TableColumn[] = [\r\n      { field: 'pnCode', alignment: 'left', filterMode: TableColumnFilterMode.Input, width: '10rem' },\r\n      { field: 'articleDesignation', alignment: 'left', filterMode: TableColumnFilterMode.Input, width: '20rem' },\r\n      { field: 'manufacturerOtanCode', alignment: 'left', filterMode: TableColumnFilterMode.Input, width: '10rem' },\r\n      { field: 'otanPnReference', alignment: 'left', filterMode: TableColumnFilterMode.Input, width: '10rem' },\r\n      { field: 'quantityUnit', alignment: 'left', filterMode: TableColumnFilterMode.Input, width: '8rem' }\r\n    ];\r\n    const criteria: FindAllBirePnByCriteriaInput = {};\r\n    if (this.capability.pnCode) {\r\n      criteria.birePnDTO = {};\r\n      criteria.birePnDTO.pnCode = this.capability.pnCode;\r\n    }\r\n    this.partNumberTableData = {\r\n      componentId: this.getComponentName() + '.partDialog',\r\n      tableCols: partNumberTableCols,\r\n      tableRows: this.siteFormService.findAllBirePnByCriteria(criteria),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  public onSelectedPartNumber(birePnDTO: BirePnDTO): void {\r\n    if (!!birePnDTO) {\r\n      this.capability.pnCode = birePnDTO.pnCode;\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          - {{ this.serializationService.deserialize(this.componentData.objectId).siteCode }}\\r\\n          {{ this.serializationService.deserialize(this.componentData.objectId).siteName }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"editSite()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"warn\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"cancelSite()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"saveSite()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item (click)=\\\"reloadSite()\\\">{{ \\\"global.refresh\\\" | translate }}</button>\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".siteCode\\\" | translate }} </label>\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input\\r\\n                    type=\\\"text\\\"\\r\\n                    class=\\\"aw-input\\\"\\r\\n                    [(ngModel)]=\\\"site.siteCode\\\"\\r\\n                    maxlength=\\\"50\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".siteName\\\" | translate }} </label>\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input\\r\\n                    type=\\\"text\\\"\\r\\n                    class=\\\"aw-input\\\"\\r\\n                    [(ngModel)]=\\\"site.siteName\\\"\\r\\n                    maxlength=\\\"100\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".bidtCompanyId\\\" | translate }} </label>\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    name=\\\"bidtCompanyName\\\"\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    [options]=\\\"companies\\\"\\r\\n                    [(ngModel)]=\\\"site.companyId\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    (onChange)=\\\"loadCompany()\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                    required\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".siteDescription\\\" | translate }} </label>\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <textarea\\r\\n                    class=\\\"aw-textarea\\\"\\r\\n                    [rows]=\\\"3\\\"\\r\\n                    maxlength=\\\"300\\\"\\r\\n                    [(ngModel)]=\\\"site.siteDescription\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                    pInputTextarea\\r\\n                  ></textarea>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #documentTableAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <!-- Capabilities table -->\\r\\n\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ componentData.componentId + \\\".capabilities\\\" | translate }} ({{\\r\\n                    capabilityTableDataSource ? capabilityTableDataSource.dataCount : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"capabilityTableDataSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"!isReadOpenMode && !capabilityTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"createCapability()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.add\\\" | translate }}\\r\\n                  </button>\\r\\n                  <button\\r\\n                    *ngIf=\\\"!isReadOpenMode && capabilityTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteCapability()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n                  <button\\r\\n                    *ngIf=\\\"!isReadOpenMode && capabilityTableDataSource.dataSelectionCount === 1\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"editCapability()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.edit\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"capabilityTableDataSource.dataSelectionCount === 1\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openCapability()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-capability\\r\\n    *ngIf=\\\"showCapabilityDialog\\\"\\r\\n    [(display)]=\\\"showCapabilityDialog\\\"\\r\\n    [capabilityTemp]=\\\"currentCapability\\\"\\r\\n    [openMode]=\\\"capabilityDialogOpenMode\\\"\\r\\n    (onValidated)=\\\"onAddCapability($event)\\\"\\r\\n  >\\r\\n  </aw-dialog-capability>\\r\\n</div>\\r\\n\"","module.exports = \":host #site-form-component .main-data .form-group {\\n  width: 15rem; }\\n\\n:host #site-form-component .attributes-tab,\\n:host #site-form-component .general-tab {\\n  flex-direction: column; }\\n\\n:host #site-form-component .general-tab .general-fields {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%; }\\n\\n:host #site-form-component .general-tab .general-fields .general-field {\\n    width: 10rem; }\\n\\n:host #site-form-component .general-tab .general-fields .general-type-checkbox {\\n    width: 8rem; }\\n\\n:host #site-form-component .general-tab .general-fields .location-container {\\n    display: flex;\\n    flex-direction: row; }\\n\\n:host #site-form-component .general-tab .general-fields .location-container > div:nth-of-type(2) {\\n      flex: 1; }\\n\\n:host #site-form-component .general-tab .general-fields > div {\\n    display: flex;\\n    flex-direction: column;\\n    width: 50%; }\\n\\n:host #site-form-component .general-tab .general-fields > div:first-of-type {\\n      padding-right: 24px; }\\n\\n:host #site-form-component .general-tab .general-fields > div:nth-of-type(2) {\\n      padding-left: 24px; }\\n\\n:host #site-form-component .general-tab .general-tables {\\n  display: flex;\\n  flex-direction: column;\\n  padding-top: 24px; }\\n\\n:host #site-form-component .general-tab .general-tables .row {\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: wrap; }\\n\\n:host #site-form-component .general-tab .general-tables .row:first-of-type {\\n      margin-bottom: 24px; }\\n\\n:host #site-form-component .general-tab .general-tables .row .table-wrapper {\\n      width: 50%; }\\n\\n:host #site-form-component .general-tab .general-tables .row .table-wrapper:first-of-type {\\n        padding-right: 24px; }\\n\\n:host #site-form-component .general-tab .general-tables .row .table-wrapper:nth-of-type(2) {\\n        padding-left: 24px; }\\n\\n:host #site-form-component .documents-tab .table-wrapper {\\n  width: 100%; }\\n\\n:host #site-form-component .evolution-form-popup {\\n  display: flex;\\n  flex-direction: row;\\n  transition: width 0.3s;\\n  width: 20vw; }\\n\\n:host #site-form-component .evolution-form-popup > div:nth-of-type(2) {\\n    flex: 1; }\\n\\n:host #site-form-component .evolution-form-popup.active-right-panel {\\n    width: 70vw; }\\n\\n:host #site-form-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\\n      background-color: #e5e5e5; }\\n\\n:host #site-form-component .evolution-form-popup.active-right-panel .left-panel .form-group {\\n      padding: 20px; }\\n\\n:host #site-form-component .evolution-form-popup.active-right-panel .right-panel {\\n      border-left: 1px solid #bdbdbd;\\n      padding: 20px 0 20px 20px; }\\n\\n:host #site-form-component .evolution-number-panel {\\n  margin-bottom: 1rem;\\n  height: 409px;\\n  transition: height 0.5s ease-in-out; }\\n\\n:host #site-form-component .evolution-number-panel .form-group {\\n    margin-bottom: 5px;\\n    margin-left: 0;\\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\\n\\n:host #site-form-component .evolution-number-panel .table-container {\\n    -webkit-animation: fade 1s;\\n            animation: fade 1s;\\n    opacity: 1; }\\n\\n:host #site-form-component .evolution-number-panel.collapsed {\\n    box-shadow: none;\\n    height: 56px; }\\n\\n:host #site-form-component .evolution-number-panel.collapsed .panel-content {\\n      padding-bottom: 0; }\\n\\n:host #site-form-component .evolution-number-panel.collapsed .form-group {\\n      margin-bottom: 0;\\n      margin-left: -24px;\\n      margin-top: -24px; }\\n\\n:host #site-form-component .evolution-number-panel.collapsed .table-container {\\n      -webkit-animation: fade-out 1s;\\n              animation: fade-out 1s; }\\n\\n::ng-deep .export-methods {\\n  list-style-type: none;\\n  margin: 0;\\n  min-width: 100px;\\n  padding: 0; }\\n\\n::ng-deep .export-methods .export-method-wrapper {\\n    cursor: pointer;\\n    font-size: 0.8rem;\\n    padding: 5px 0; }\\n\\n::ng-deep .export-methods .export-method-wrapper .export-method {\\n      padding-left: 5px; }\\n\\n::ng-deep .export-methods .export-method-wrapper .export-method:hover {\\n        text-decoration: underline; }\\n\\n::ng-deep #business-partner-form-component .aw-dialog .ui-dialog {\\n  max-width: 90%; }\\n\\n@-webkit-keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n\\n@keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n\\n@-webkit-keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n\\n@keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9hZG1pbmlzdHJhdGlvbi9zaXRlL2Zvcm0vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGFkbWluaXN0cmF0aW9uXFxzaXRlXFxmb3JtXFxzaXRlLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHTSxZQUFZLEVBQUE7O0FBSGxCOztFQVFNLHNCQUFzQixFQUFBOztBQVI1QjtFQWFRLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsV0FBVyxFQUFBOztBQWZuQjtJQWtCVSxZQUFZLEVBQUE7O0FBbEJ0QjtJQXNCVSxXQUFXLEVBQUE7O0FBdEJyQjtJQTBCVSxhQUFhO0lBQ2IsbUJBQW1CLEVBQUE7O0FBM0I3QjtNQThCWSxPQUFPLEVBQUE7O0FBOUJuQjtJQW1DVSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFVBQVUsRUFBQTs7QUFyQ3BCO01Bd0NZLG1CQUFtQixFQUFBOztBQXhDL0I7TUE0Q1ksa0JBQWtCLEVBQUE7O0FBNUM5QjtFQWtEUSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGlCQUFpQixFQUFBOztBQXBEekI7SUF1RFUsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixlQUFlLEVBQUE7O0FBekR6QjtNQTREWSxtQkFBbUIsRUFBQTs7QUE1RC9CO01BZ0VZLFVBQVUsRUFBQTs7QUFoRXRCO1FBbUVjLG1CQUFtQixFQUFBOztBQW5FakM7UUF1RWMsa0JBQWtCLEVBQUE7O0FBdkVoQztFQWdGUSxXQUFXLEVBQUE7O0FBaEZuQjtFQXFGTSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHNCQUFzQjtFQUN0QixXQUFXLEVBQUE7O0FBeEZqQjtJQTJGUSxPQUFPLEVBQUE7O0FBM0ZmO0lBK0ZRLFdBQVcsRUFBQTs7QUEvRm5CO01BbUdZLHlCQUF5QixFQUFBOztBQW5HckM7TUF1R1ksYUFBYSxFQUFBOztBQXZHekI7TUE0R1UsOEJBQThCO01BQzlCLHlCQUF5QixFQUFBOztBQTdHbkM7RUFtSE0sbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixtQ0FBbUMsRUFBQTs7QUFySHpDO0lBd0hRLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2Qsc0VBQXNFLEVBQUE7O0FBMUg5RTtJQThIUSwwQkFBa0I7WUFBbEIsa0JBQWtCO0lBQ2xCLFVBQVUsRUFBQTs7QUEvSGxCO0lBbUlRLGdCQUFnQjtJQUNoQixZQUFZLEVBQUE7O0FBcElwQjtNQXVJVSxpQkFBaUIsRUFBQTs7QUF2STNCO01BMklVLGdCQUFnQjtNQUNoQixrQkFBa0I7TUFDbEIsaUJBQWlCLEVBQUE7O0FBN0kzQjtNQWlKVSw4QkFBc0I7Y0FBdEIsc0JBQXNCLEVBQUE7O0FBT2hDO0VBQ0UscUJBQXFCO0VBQ3JCLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBOztBQUpaO0lBT0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjLEVBQUE7O0FBVGxCO01BWU0saUJBQWlCLEVBQUE7O0FBWnZCO1FBZVEsMEJBQTBCLEVBQUE7O0FBTWxDO0VBQ0UsY0FBYyxFQUFBOztBQUdoQjtFQUNFO0lBQ0UsYUFBYTtJQUNiLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7O0FBUGQ7RUFDRTtJQUNFLGFBQWE7SUFDYixVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBOztBQUlkO0VBQ0U7SUFDRSxVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBOztBQU5kO0VBQ0U7SUFDRSxVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9hZG1pbmlzdHJhdGlvbi9zaXRlL2Zvcm0vc2l0ZS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICNzaXRlLWZvcm0tY29tcG9uZW50IHtcclxuICAgIC5tYWluLWRhdGEgLmZvcm0tZ3JvdXAge1xyXG4gICAgICB3aWR0aDogMTVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLmF0dHJpYnV0ZXMtdGFiLFxyXG4gICAgLmdlbmVyYWwtdGFiIHtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIH1cclxuXHJcbiAgICAuZ2VuZXJhbC10YWIge1xyXG4gICAgICAuZ2VuZXJhbC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmdlbmVyYWwtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmdlbmVyYWwtdHlwZS1jaGVja2JveCB7XHJcbiAgICAgICAgICB3aWR0aDogOHJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5sb2NhdGlvbi1jb250YWluZXIge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblxyXG4gICAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIGZsZXg6IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuZ2VuZXJhbC10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmRvY3VtZW50cy10YWIge1xyXG4gICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZXZvbHV0aW9uLWZvcm0tcG9wdXAge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xyXG4gICAgICB3aWR0aDogMjB2dztcclxuXHJcbiAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgIGZsZXg6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYWN0aXZlLXJpZ2h0LXBhbmVsIHtcclxuICAgICAgICB3aWR0aDogNzB2dztcclxuXHJcbiAgICAgICAgLmxlZnQtcGFuZWwge1xyXG4gICAgICAgICAgLmV2b2x1dGlvbi1udW1iZXIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5yaWdodC1wYW5lbCB7XHJcbiAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNiZGJkYmQ7XHJcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4IDAgMjBweCAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5ldm9sdXRpb24tbnVtYmVyLXBhbmVsIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgICAgaGVpZ2h0OiA0MDlweDtcclxuICAgICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG1hcmdpbi1sZWZ0IDAuNXMgZWFzZS1pbi1vdXQsIG1hcmdpbi10b3AgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogZmFkZSAxcztcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmNvbGxhcHNlZCB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICBoZWlnaHQ6IDU2cHg7XHJcblxyXG4gICAgICAgIC5wYW5lbC1jb250ZW50IHtcclxuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtMjRweDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IC0yNHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBhbmltYXRpb246IGZhZGUtb3V0IDFzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOjpuZy1kZWVwIC5leHBvcnQtbWV0aG9kcyB7XHJcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gIG1hcmdpbjogMDtcclxuICBtaW4td2lkdGg6IDEwMHB4O1xyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC5leHBvcnQtbWV0aG9kLXdyYXBwZXIge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgICBwYWRkaW5nOiA1cHggMDtcclxuXHJcbiAgICAuZXhwb3J0LW1ldGhvZCB7XHJcbiAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAjYnVzaW5lc3MtcGFydG5lci1mb3JtLWNvbXBvbmVudCAuYXctZGlhbG9nIC51aS1kaWFsb2cge1xyXG4gIG1heC13aWR0aDogOTAlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGUge1xyXG4gIDAlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gIH1cclxuXHJcbiAgMTAwJSB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlLW91dCB7XHJcbiAgMCUge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { TableDataSource } from '../../../../shared/components/table/table-data-source';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BsdeSitePnTilDTOId } from '../../../../shared/types/api-types/bsde-site-pn-til-dto-id.interface';\r\nimport { BsdeSitePnTilDTO } from '../../../../shared/types/api-types/bsde-site-pn-til-dto.interface';\r\nimport { SaveSiteInput } from '../../../../shared/types/api-types/save-site-screen-input';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { DTOUtils } from '../../../../shared/utils/dto-utils';\r\nimport { LabelValueUtils } from '../../../../shared/utils/label-value-utils';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\n\r\nimport { SiteFormService } from './site-form.service';\r\n\r\ninterface CapabilityRow {\r\n  repairCenterCode: string | undefined;\r\n  pnCode: string;\r\n  technicalLevel: string;\r\n  technicalLevelId: string;\r\n  cost: string | undefined;\r\n  availabilityDate: string | undefined;\r\n  tat: number | undefined;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-site-form',\r\n  styleUrls: ['./site-form.component.scss'],\r\n  templateUrl: './site-form.component.html'\r\n})\r\nexport class SiteFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public companies: LabelValue<string>[];\r\n  public technicalLevels: LabelValue<string>[];\r\n  public site: BidtSiteDTO;\r\n  public capabilityTableDataSource: TableDataSource<CapabilityRow>;\r\n  private capability: BsdeSitePnTilDTO[];\r\n  public currentCapability: BsdeSitePnTilDTO | undefined;\r\n  public capabilityDialogOpenMode: ComponentOpenMode;\r\n  public showCapabilityDialog: boolean;\r\n  private currentCapabilityIndex: number;\r\n  private capabilityAdded: BsdeSitePnTilDTO[];\r\n  private capabilityRemoved: BsdeSitePnTilDTOId[];\r\n  private capabilityUpdated: BsdeSitePnTilDTO[];\r\n  public isLoading: boolean;\r\n\r\n  public showSaveSpinner: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public translateService: TranslateService,\r\n    private readonly siteFormService: SiteFormService,\r\n    private readonly dateService: DateService,\r\n    private readonly confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Read, favoriteService, loaderService, messageService, serializationService, tabService);\r\n    this.init();\r\n    this.initCapabilityTableDataSource();\r\n  }\r\n\r\n  private init(): void {\r\n    this.site = {};\r\n    this.companies = [];\r\n    this.capability = [];\r\n    this.capabilityAdded = [];\r\n    this.capabilityRemoved = [];\r\n    this.capabilityUpdated = [];\r\n    this.currentCapability = undefined;\r\n    this.currentCapabilityIndex = -1;\r\n    this.capabilityDialogOpenMode = ComponentOpenMode.Read;\r\n    this.showCapabilityDialog = false;\r\n    this.isLoading = false;\r\n    this.technicalLevels = [];\r\n    this.loadCompany();\r\n    this.loadTechnicalLevel();\r\n  }\r\n\r\n  private initCapabilityTableDataSource(): void {\r\n    this.capabilityTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'pnCode',\r\n          translateKey: this.getTranslateKey('pnCode')\r\n        },\r\n        {\r\n          field: 'technicalLevel',\r\n          translateKey: this.getTranslateKey('technicalLevel')\r\n        },\r\n        {\r\n          field: 'cost',\r\n          translateKey: this.getTranslateKey('cost')\r\n        },\r\n        {\r\n          field: 'availabilityDate',\r\n          translateKey: this.getTranslateKey('availabilityDate')\r\n        },\r\n        {\r\n          field: 'tat',\r\n          translateKey: this.getTranslateKey('tat')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ADM_SITE_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    if (!!this.componentData) {\r\n      this.loadCompany();\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      const context =\r\n        this.componentData.objectId && this.serializationService.deserialize(this.componentData.objectId).siteName\r\n          ? `${this.serializationService.deserialize(this.componentData.objectId).siteCode} ${\r\n              this.serializationService.deserialize(this.componentData.objectId).siteName\r\n            }`\r\n          : this.componentData.objectId &&\r\n            `${this.serializationService.deserialize(this.componentData.objectId).siteCode}`;\r\n      const contextMode = this.isCreateOpenMode ? 'tab.createMode' : context;\r\n      if (!!contextMode) {\r\n        this.displayComponentContext(contextMode, this.isCreateOpenMode);\r\n      }\r\n      this.loadSite();\r\n    }\r\n  }\r\n\r\n  public loadCompany(): void {\r\n    this.siteFormService.findBidtCompanyByCriteria({}).subscribe((results) => {\r\n      this.companies = results;\r\n    });\r\n  }\r\n\r\n  private loadTechnicalLevel(): void {\r\n    this.siteFormService.findAllBireTils().subscribe((results) => {\r\n      results.forEach((result) => {\r\n        if (result.technicalLevel !== null && result.technicalLevel !== undefined && !!result.tilName) {\r\n          const tempName: LabelValue<string> = {\r\n            value: result.technicalLevel.toString(),\r\n            label: result.tilName\r\n          };\r\n          this.technicalLevels.push(tempName);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private loadSite(): void {\r\n    if (!!this.componentData && !!this.componentData.objectId) {\r\n      this.isLoading = true;\r\n      // Load Site object\r\n      const siteObject: BidtSiteDTO = this.serializationService.deserialize(this.componentData.objectId);\r\n      if (!!siteObject.siteId) {\r\n        this.siteFormService.getById(siteObject.siteId).subscribe((result) => {\r\n          this.isLoading = false;\r\n          if (!!result) {\r\n            this.site = result;\r\n            this.site.companyId = !!result.bidtCompanyId ? result.bidtCompanyId.toString() : '';\r\n            if (!!this.site && !!this.site.siteCode) {\r\n              const siteCode = this.site.siteCode;\r\n              this.loadcapabilities(siteCode);\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        super.throwUnboundLocalError('loadSite', 'siteObject.siteId');\r\n      }\r\n    }\r\n  }\r\n\r\n  public getTechnicalLevelValueById(technicalLevelId: number): string {\r\n    const selectedTechnicalLevel = this.technicalLevels.find((technicalLevel) => {\r\n      return technicalLevel.value === technicalLevelId.toString();\r\n    });\r\n\r\n    return selectedTechnicalLevel ? selectedTechnicalLevel.label : '';\r\n  }\r\n\r\n  private loadcapabilities(repairCenterCode: string): void {\r\n    this.siteFormService.findBsdeSitePnTilsBySiteCode(repairCenterCode).subscribe((results) => {\r\n      this.capability = ListUtils.orEmpty(results);\r\n      const capabilities: CapabilityRow[] = [];\r\n      results.forEach((result) => {\r\n        const tempCapability = this.createCapabilityRow(result);\r\n        if (!!result && !!tempCapability) {\r\n          capabilities.push(tempCapability);\r\n        }\r\n      });\r\n      this.capabilityTableDataSource.setData(capabilities);\r\n    });\r\n  }\r\n\r\n  private createCapabilityRow(resultCapability: BsdeSitePnTilDTO): CapabilityRow | undefined {\r\n    if (!!resultCapability.pnCode && !!resultCapability.technicalLevel) {\r\n      const capabilityRow: CapabilityRow = {\r\n        repairCenterCode: resultCapability.repairCenterCode,\r\n        pnCode: resultCapability.pnCode,\r\n        technicalLevel: this.getTechnicalLevelValueById(Number(resultCapability.technicalLevel)),\r\n        technicalLevelId: resultCapability.technicalLevel,\r\n        cost: resultCapability.cost,\r\n        availabilityDate: this.dateService.dateToString(resultCapability.availabilityDate),\r\n        tat: resultCapability.tat\r\n      };\r\n\r\n      return capabilityRow;\r\n    } else {\r\n      super.throwUnboundLocalError('createCapabilityRow', 'resultCapability');\r\n    }\r\n  }\r\n\r\n  public createCapability(): void {\r\n    this.currentCapability = undefined;\r\n    this.capabilityDialogOpenMode = ComponentOpenMode.Create;\r\n    this.showCapabilityDialog = true;\r\n  }\r\n\r\n  public editCapability(): void {\r\n    if (this.capabilityTableDataSource.dataSelectionCount === 1) {\r\n      const selectedCapability = this.findMatchingCapability(this.capabilityTableDataSource.dataSelection[0]);\r\n      if (!!selectedCapability) {\r\n        this.currentCapabilityIndex = this.capability.findIndex((capability) => {\r\n          return DTOUtils.equalsBsdeSitePnTilDTO(capability, capability);\r\n        });\r\n        this.currentCapability = { ...selectedCapability };\r\n        this.capabilityDialogOpenMode = ComponentOpenMode.Write;\r\n        this.showCapabilityDialog = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private findMatchingCapability(row: CapabilityRow | undefined): BsdeSitePnTilDTO | undefined {\r\n    let bsdeSitePnTilDTOToReturn: BsdeSitePnTilDTO | undefined;\r\n    if (!!row) {\r\n      bsdeSitePnTilDTOToReturn = this.capability.find((capability) => {\r\n        return (\r\n          !!capability.pnCode &&\r\n          capability.pnCode === row.pnCode &&\r\n          !!capability.technicalLevel &&\r\n          capability.technicalLevel === row.technicalLevelId\r\n        );\r\n      });\r\n    }\r\n\r\n    return bsdeSitePnTilDTOToReturn;\r\n  }\r\n\r\n  public openCapability(): void {\r\n    if (this.capabilityTableDataSource.dataSelectionCount === 1) {\r\n      this.currentCapability = this.findMatchingCapability(this.capabilityTableDataSource.dataSelection[0]);\r\n      this.currentCapabilityIndex = -1;\r\n      this.capabilityDialogOpenMode = ComponentOpenMode.Read;\r\n      this.showCapabilityDialog = true;\r\n    }\r\n  }\r\n\r\n  public onAddCapability(capability: BsdeSitePnTilDTO): void {\r\n    if (!!capability) {\r\n      capability.repairCenterCode = this.site.siteCode;\r\n\r\n      if (this.currentCapabilityIndex !== -1) {\r\n        this.capability[this.currentCapabilityIndex] = capability;\r\n        const createdRowFromCapabilityDataEvent = this.createCapabilityRow(capability);\r\n        if (!!createdRowFromCapabilityDataEvent) {\r\n          this.capabilityTableDataSource.replaceData(\r\n            this.capabilityTableDataSource.dataSelection[0],\r\n            createdRowFromCapabilityDataEvent\r\n          );\r\n          const updatedCustomerEvolutionIndex = this.capabilityUpdated.findIndex((customerEvolutionUpdated) =>\r\n            DTOUtils.equalsBsdeSitePnTilDTO(customerEvolutionUpdated, capability)\r\n          );\r\n          if (updatedCustomerEvolutionIndex !== -1) {\r\n            this.capabilityUpdated[updatedCustomerEvolutionIndex] = capability;\r\n          } else {\r\n            this.capabilityUpdated = [...this.capabilityUpdated, capability];\r\n          }\r\n        }\r\n      } else {\r\n        const isAdded = this.capability.some((capabilityAdded) =>\r\n          DTOUtils.equalsBsdeSitePnTilDTO(capabilityAdded, capability)\r\n        );\r\n        if (isAdded) {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('warningOnCapabilityExists'));\r\n        } else {\r\n          const tempCapability = this.createCapabilityRow(capability);\r\n          if (!!tempCapability) {\r\n            this.capability = [...this.capability, capability];\r\n            this.capabilityAdded = [...this.capabilityAdded, capability];\r\n            this.capabilityTableDataSource.addData([tempCapability]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.capabilityTableDataSource.dataSelection = [];\r\n    this.currentCapabilityIndex = -1;\r\n  }\r\n\r\n  public deleteCapability(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.deleteConfirmationMsg',\r\n      accept: () => {\r\n        this.capabilityTableDataSource.dataSelection.forEach((capability) => {\r\n          LabelValueUtils.labelToStringValue(capability, 'technicalLevel', this.technicalLevels);\r\n          if (!!capability.pnCode && !!capability.technicalLevel) {\r\n            const bsdeSitePnTilDTO: BsdeSitePnTilDTOId = {\r\n              pnCode: capability.pnCode,\r\n              repairCenterCode: capability.repairCenterCode,\r\n              technicalLevel: capability.technicalLevel\r\n            };\r\n            const selectedCapability = this.findMatchingCapability(capability);\r\n            const capabilityAddedWithoutSelection = this.capabilityAdded.filter((capabilityAdded) => {\r\n              return !!selectedCapability && !DTOUtils.equalsBsdeSitePnTilDTO(selectedCapability, capabilityAdded);\r\n            });\r\n            if (this.capabilityAdded.length !== capabilityAddedWithoutSelection.length) {\r\n              this.capabilityAdded = capabilityAddedWithoutSelection;\r\n            } else {\r\n              this.capabilityRemoved.push(bsdeSitePnTilDTO);\r\n            }\r\n          } else {\r\n            super.throwUnboundLocalError('deleteCapability', 'capability');\r\n          }\r\n        });\r\n\r\n        this.capabilityTableDataSource.setData(\r\n          this.capabilityTableDataSource.dataSrc.filter((capability) => {\r\n            return !this.capabilityTableDataSource.dataSelection.some((selectedCapability) => {\r\n              return DTOUtils.equalsBsdeSitePnTilDTO(\r\n                this.findMatchingCapability(capability),\r\n                this.findMatchingCapability(selectedCapability)\r\n              );\r\n            });\r\n          })\r\n        );\r\n        this.capabilityTableDataSource.dataSelection = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public editSite(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  private validateForm() {\r\n    if (!!this.site && !!this.site.siteCode && this.site.siteCode.trim() && this.site.companyId) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public saveSite(): void {\r\n    if (this.validateForm()) {\r\n      if (!!this.componentData && !!this.componentData.objectId) {\r\n        const siteObject: BidtSiteDTO = this.serializationService.deserialize(this.componentData.objectId);\r\n        if (siteObject.siteId) {\r\n          this.site.siteId = siteObject.siteId;\r\n        }\r\n      }\r\n      const bidtSiteDTO: BidtSiteDTO = {\r\n        siteId: this.site.siteId,\r\n        siteCode: this.site.siteCode,\r\n        siteName: this.site.siteName,\r\n        siteDescription: this.site.siteDescription,\r\n        bidtCompanyId: !!this.site.companyId ? +this.site.companyId : undefined\r\n      };\r\n      this.capabilityAdded.forEach((capability) => (capability.repairCenterCode = this.site.siteCode));\r\n      const saveSiteInput: SaveSiteInput = {\r\n        bidtSiteDTO,\r\n        bsdeSitePntilAddDTOList: this.capabilityAdded,\r\n        bsdeSitePnTilDeleteDTOIdList: this.capabilityRemoved,\r\n        bsdeSitePntilUpdateDTOList: this.capabilityUpdated\r\n      };\r\n\r\n      this.showSaveSpinner = true;\r\n      this.siteFormService.saveSite(saveSiteInput).subscribe(\r\n        (result) => {\r\n          if (!!this.componentData && !!this.site.siteCode) {\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('successOnSave'));\r\n            this.componentData.objectId = this.serializationService.serialize(result);\r\n            const context = this.serializationService.deserialize(this.componentData.objectId).siteName\r\n              ? `${this.serializationService.deserialize(this.componentData.objectId).siteCode}\r\n            ${this.serializationService.deserialize(this.componentData.objectId).siteName}`\r\n              : this.serializationService.deserialize(this.componentData.objectId).siteCode;\r\n            this.updateOpenMode(ComponentOpenMode.Read);\r\n            this.displayComponentContext(context, this.isCreateOpenMode);\r\n            this.capabilityAdded = [];\r\n            this.capabilityUpdated = [];\r\n            this.capabilityRemoved = [];\r\n          } else {\r\n            super.throwUnboundLocalError('saveSite', 'this.site.siteCode');\r\n          }\r\n          this.showSaveSpinner = false;\r\n        },\r\n        (error) => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnSave'));\r\n          this.showSaveSpinner = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    }\r\n  }\r\n\r\n  public cancelSite(): void {\r\n    if (this.isWriteOpenMode) {\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n    this.reloadSite();\r\n  }\r\n\r\n  public reloadSite(): void {\r\n    this.init();\r\n    this.loadSite();\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { BidtCompanyApi } from '../../../../shared/api/bidt-company.api';\r\nimport { BidtSiteApi } from '../../../../shared/api/bidt-site.api';\r\nimport { LogisticsManagementApi } from '../../../../shared/api/logistics-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../shared/api/product-structure-management.api';\r\nimport { TaskManagementApi } from '../../../../shared/api/task-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { FindAllBirePnByCriteriaInput } from '../../../../shared/types/api-input-types/product-structure-management/find-all-bire-pn-by-criteria-input.interface';\r\nimport { BidtCompanyDTO } from '../../../../shared/types/api-types/bidt-company-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireTilDTO } from '../../../../shared/types/api-types/bire-til-dto.interface';\r\nimport { BsdeSitePnTilDTO } from '../../../../shared/types/api-types/bsde-site-pn-til-dto.interface';\r\nimport { SaveSiteInput } from '../../../../shared/types/api-types/save-site-screen-input';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class SiteFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly bidtSiteApi: BidtSiteApi,\r\n    private readonly logisticsManagementApi: LogisticsManagementApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly bidtCompanyApi: BidtCompanyApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public getById(siteId: number): Observable<BidtSiteDTO> {\r\n    return super.post<number, BidtSiteDTO>(this.bidtSiteApi.getById, siteId);\r\n  }\r\n\r\n  public findBsdeSitePnTilsBySiteCode(repairCenterCode: string): Observable<BsdeSitePnTilDTO[]> {\r\n    return super.post<string, BsdeSitePnTilDTO[]>(\r\n      this.logisticsManagementApi.findBsdeSitePnTilsBySiteCode,\r\n      repairCenterCode\r\n    );\r\n  }\r\n\r\n  public findAllBirePnByCriteria(criteria: FindAllBirePnByCriteriaInput): Observable<SearchResultsDTO<BirePnDTO>> {\r\n    return super.post<FindAllBirePnByCriteriaInput, SearchResultsDTO<BirePnDTO>>(\r\n      this.productStructureManagementApi.findAllBirePnByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public findBidtCompanyByCriteria(criteria: BidtCompanyDTO): Observable<LabelValue<string>[]> {\r\n    return super.post<BidtCompanyDTO, LabelValue<string>[]>(this.bidtCompanyApi.findByCriteria, criteria);\r\n  }\r\n\r\n  public findAllBireTils(): Observable<BireTilDTO[]> {\r\n    return super.post<void, BireTilDTO[]>(this.taskManagementApi.findAllBireTils);\r\n  }\r\n\r\n  public saveSite(saveSiteInput: SaveSiteInput): Observable<boolean> {\r\n    return super.post<SaveSiteInput, boolean>(this.bidtSiteApi.saveSite, saveSiteInput);\r\n  }\r\n\r\n  // public removeBidoCustomer(bidoCustomerId: BidoCustomerDTOId): Observable<boolean> {\r\n  //   return super.post<BidoCustomerDTOId, boolean>(this.fleetManagementApi.removeBidoCustomer, bidoCustomerId);\r\n  // }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewSite()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <aw-manage-search-criteria\\r\\n                    [componentId]=\\\"SEARCH_CRITERIA_ID\\\"\\r\\n                    (onSelected)=\\\"loadSearchCriteria($event)\\\"\\r\\n                    (onSavedAsked)=\\\"saveSearchCriteriaAsked()\\\"\\r\\n                    [objectFromPage]=\\\"criteriaToSave\\\"\\r\\n                    [canChange]=\\\"!hasBeenCalculated\\\"\\r\\n                  ></aw-manage-search-criteria>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".siteCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.siteCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".siteName\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.siteName\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".bidtCompanyId\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        name=\\\"bidtCompanyName\\\"\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"companies\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bidtCompanyId\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        (onChange)=\\\"loadCompany()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        required\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <!-- Sites table -->\\r\\n\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ siteTableDataSource ? siteTableDataSource.dataCount : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"siteTableDataSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"siteTableDataSource && siteTableDataSource.hasData && !siteTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && siteTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteSites()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"siteTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedSites()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .criteria-checkboxes,\\n:host .form-group {\\n  margin-right: 20px;\\n  max-width: 15rem;\\n  min-width: 10rem;\\n  width: 20%; }\\n  :host .criteria-checkboxes:last-of-type,\\n  :host .form-group:last-of-type {\\n    margin-right: 0; }\\n  :host .search-criteria-primary {\\n  justify-content: flex-start; }\\n  :host .search-criteria-primary .criteria-checkboxes {\\n    display: flex;\\n    flex-direction: column; }\\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:first-of-type {\\n      margin-bottom: 5px; }\\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:nth-of-type(2) {\\n      margin-top: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9hZG1pbmlzdHJhdGlvbi9zaXRlL3NlYXJjaC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcYWRtaW5pc3RyYXRpb25cXHNpdGVcXHNlYXJjaFxcc2l0ZS1zZWFyY2guY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBR0ksa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBTmQ7O0lBU00sZUFBZSxFQUFBO0VBVHJCO0VBY0ksMkJBQTJCLEVBQUE7RUFkL0I7SUFpQk0sYUFBYTtJQUNiLHNCQUFzQixFQUFBO0VBbEI1QjtNQXFCUSxrQkFBa0IsRUFBQTtFQXJCMUI7TUF5QlEsZUFBZSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9hZG1pbmlzdHJhdGlvbi9zaXRlL3NlYXJjaC9zaXRlLXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAuY3JpdGVyaWEtY2hlY2tib3hlcyxcclxuICAuZm9ybS1ncm91cCB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDE1cmVtO1xyXG4gICAgbWluLXdpZHRoOiAxMHJlbTtcclxuICAgIHdpZHRoOiAyMCU7XHJcblxyXG4gICAgJjpsYXN0LW9mLXR5cGUge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc2VhcmNoLWNyaXRlcmlhLXByaW1hcnkge1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG5cclxuICAgIC5jcml0ZXJpYS1jaGVja2JveGVzIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIHAtY2hlY2tib3g6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwLWNoZWNrYm94Om50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\n\nimport { ISearchCriteria } from '../../../../shared/components/manage-search-criteria/search-criteria.interface';\nimport { ColumnAlignment, TableDataSource } from '../../../../shared/components/table/table-data-source';\nimport { AppConstants } from '../../../../shared/constants/app-constants';\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\nimport { ExportService } from '../../../../shared/services/export.service';\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\nimport { LoaderService } from '../../../../shared/services/loader.service';\nimport { MessageService } from '../../../../shared/services/message.service';\nimport { SerializationService } from '../../../../shared/services/serialization.service';\nimport { TabService } from '../../../../shared/services/tab.service';\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\nimport { PageComponent } from '../../../../shared/types/page-component';\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\nimport { StringUtils } from '../../../../shared/utils/string-utils';\n\nimport { SiteSearchService } from './site-search.service';\n\ninterface SiteRowExport {\n  siteCode: string;\n  siteName: string;\n  bidtCompanyId: string;\n  siteDescription: string;\n}\n\ninterface SiteRow extends SiteRowExport {\n  siteId?: number;\n}\n\n@Component({\n  selector: 'aw-site-search',\n  styleUrls: ['./site-search.component.scss'],\n  templateUrl: './site-search.component.html'\n})\nexport class SiteSearchComponent extends PageComponent<PageComponentData> implements OnInit {\n  private static readonly CUSTOMER_TABLE_EXPORT_NAME: string = 'site-list';\n\n  public isLoading: boolean;\n  public searchObject: BidtSiteDTO;\n  public criteriaToSave: BidtSiteDTO;\n  public criteriaName: string | undefined;\n\n  public companies: LabelValue<string>[];\n  public siteTableDataSource: TableDataSource<SiteRow>;\n  public displayedSiteRowNb: number;\n\n  public hasBeenCalculated: boolean;\n\n  public readonly SEARCH_CRITERIA_ID: string = AppConstants.SITE_SEARCH_CRITERIA_ID;\n\n  public constructor(\n    favoriteService: FavoriteService,\n    loaderService: LoaderService,\n    messageService: MessageService,\n    serializationService: SerializationService,\n    tabService: TabService,\n    private readonly siteSearchService: SiteSearchService,\n    private readonly confirmationService: ConfirmationService,\n    private readonly exportService: ExportService\n  ) {\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\n\n    this.isLoading = false;\n    this.companies = [];\n    this.displayedSiteRowNb = 0;\n    this.searchObject = {};\n\n    this.resetSearchCriteria();\n    this.initSiteTableDataSource();\n    this.loadCompany();\n  }\n\n  public getComponentName(): string {\n    return ComponentConstants.ADM_SITE_SEARCH;\n  }\n\n  public ngOnInit(): void {\n    super.ngOnInit();\n\n    this.displayComponentContext('global.search', true);\n  }\n\n  public loadCompany(): void {\n    this.siteSearchService.findBidtCompanyByCriteria({}).subscribe((results) => {\n      this.companies = results;\n    });\n  }\n\n  public deleteSites(): void {\n    const confirmMessageKey =\n      this.siteTableDataSource.dataSelectionCount > 1 ? 'confirmDeleteSelectedSites' : 'confirmDeleteSelectedSite';\n    this.confirmationService.confirmDelete({\n      messageKey: this.getTranslateKey(confirmMessageKey),\n      accept: () => {\n        const selectedBidtSiteDTOId = new Array<number>();\n        this.siteTableDataSource.dataSelection.forEach((site) => {\n          if (!!site && !!site.siteCode) {\n            const siteIds: BidtSiteDTO = {\n              siteId: site.siteId\n            };\n            if (!!siteIds.siteId) {\n              selectedBidtSiteDTOId.push(siteIds.siteId);\n            } else {\n              super.throwUnboundLocalError('deleteSites', 'siteIds.siteId');\n            }\n          }\n        });\n        this.siteSearchService.removeBidtSite(selectedBidtSiteDTOId).subscribe(() => {\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteSite'));\n          this.siteTableDataSource.dataSelection = [];\n          this.search();\n        });\n      }\n    });\n  }\n\n  public exportTable(): void {\n    let siteExportData: SiteRowExport[];\n\n    siteExportData = this.siteTableDataSource.dataSrc.map((site) => {\n      const siteRowExport: SiteRowExport = {\n        siteCode: site.siteCode,\n        siteName: site.siteName,\n        bidtCompanyId: site.bidtCompanyId,\n        siteDescription: site.siteDescription\n      };\n\n      return siteRowExport;\n    });\n\n    if (!!this.componentData) {\n      this.exportService.toExcel(\n        siteExportData,\n        SiteSearchComponent.CUSTOMER_TABLE_EXPORT_NAME,\n        this.componentData.componentId\n      );\n    } else {\n      super.throwUnboundLocalError('exportTable', 'this.componentData');\n    }\n  }\n\n  public openNewSite(): void {\n    this.openSite(undefined, ComponentOpenMode.Create);\n  }\n\n  public openSelectedSites(): void {\n    this.siteTableDataSource.dataSelection.forEach((site) => {\n      if (!!site) {\n        if (!!site.siteId && StringUtils.isNullOrEmpty(site.siteId.toString())) {\n          this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingSiteCode'));\n        } else {\n          this.openSite(site, ComponentOpenMode.Read);\n        }\n      }\n    });\n  }\n\n  public resetSearchCriteria(): void {\n    this.criteriaName = undefined;\n    this.searchObject = {};\n  }\n\n  public loadSearchCriteria(event: ISearchCriteria): void {\n    const criteria: BidtSiteDTO | undefined = event.criteria;\n    if (!criteria) {\n      this.resetSearchCriteria();\n\n      return;\n    }\n    // do not load criteria first time if we come from stock alert page\n    if (!this.componentData.objectId) {\n      this.criteriaName = event.name;\n      this.searchObject = criteria || {};\n    } else {\n      this.componentData.objectId = undefined;\n    }\n    this.search();\n  }\n\n  public saveSearchCriteriaAsked(): void {\n    const criteriaToSave: BidtSiteDTO = this.searchObject;\n    this.criteriaToSave = criteriaToSave;\n  }\n\n  public search(): void {\n    this.isLoading = true;\n    this.siteTableDataSource.setData([]);\n    this.siteSearchService.findBidtSiteByCriteria(this.searchObject).subscribe((result) => {\n      this.setresultTable(result);\n      this.isLoading = false;\n    });\n  }\n\n  public updateDisplayedSiteRowNb(value: number): void {\n    this.displayedSiteRowNb = value;\n  }\n\n  private initSiteTableDataSource(): void {\n    this.siteTableDataSource = new TableDataSource({\n      allowMultiSelect: true,\n      columns: [\n        {\n          field: 'siteCode',\n          translateKey: this.getTranslateKey('siteCode'),\n          alignment: ColumnAlignment.LEFT,\n          width: '25%'\n        },\n        {\n          field: 'siteName',\n          translateKey: this.getTranslateKey('siteName'),\n          alignment: ColumnAlignment.LEFT,\n          width: '25%'\n        },\n        {\n          field: 'bidtCompanyId',\n          translateKey: this.getTranslateKey('bidtCompanyId'),\n          alignment: ColumnAlignment.LEFT,\n          width: '25%'\n        },\n        {\n          field: 'siteDescription',\n          translateKey: this.getTranslateKey('siteDescription'),\n          alignment: ColumnAlignment.LEFT,\n          width: '25%'\n        }\n      ],\n      data: []\n    });\n  }\n\n  public formatCompany(companyId: number): string {\n    const selectedCompany = this.companies.find((company) => {\n      return company.value === companyId.toString();\n    });\n\n    return selectedCompany ? selectedCompany.label : '';\n  }\n\n  private openSite(objectId: SiteRow | undefined, openMode: ComponentOpenMode): void {\n    const data: PageComponentData = {\n      id: this.tabService.generateId(),\n      componentId: ComponentConstants.ADM_SITE_FORM,\n      openMode\n    };\n    if (!!objectId) {\n      const siteFormId: BidtSiteDTO = {\n        siteId: objectId.siteId,\n        siteCode: objectId.siteCode,\n        siteName: objectId.siteName\n      };\n      data.objectId = this.serializationService.serialize(siteFormId);\n    }\n    const labelKey = 'transaction.' + data.componentId;\n\n    this.tabService.open(this.tabService.create(data, labelKey, true));\n  }\n\n  private setresultTable(result: SearchResultsDTO<BidtSiteDTO>): void {\n    if (!!result) {\n      const results: SiteRow[] = [];\n      result.list.forEach((res) => {\n        if (!!res && !!res.bidtCompanyId && !!res.siteCode) {\n          const siteRow: SiteRow = {\n            siteCode: res.siteCode,\n            siteName: res.siteName ? res.siteName : '',\n            bidtCompanyId: this.formatCompany(res.bidtCompanyId),\n            siteDescription: res.siteDescription ? res.siteDescription : '',\n            siteId: res.siteId\n          };\n\n          results.push(siteRow);\n        }\n      });\n\n      this.siteTableDataSource.setData(results);\n      this.siteTableDataSource.update();\n\n      this.displayedSiteRowNb = this.siteTableDataSource.dataCount;\n    }\n    this.siteTableDataSource.dataSelection = [];\n  }\n}\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { BidtCompanyApi } from '../../../../shared/api/bidt-company.api';\r\nimport { BidtSiteApi } from '../../../../shared/api/bidt-site.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { BidtCompanyDTO } from '../../../../shared/types/api-types/bidt-company-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class SiteSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly bidtSiteApi: BidtSiteApi,\r\n    private readonly bidtCompanyApi: BidtCompanyApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBidtCompanyByCriteria(criteria: BidtCompanyDTO): Observable<LabelValue<string>[]> {\r\n    return super.post<BidtCompanyDTO, LabelValue<string>[]>(this.bidtCompanyApi.findByCriteria, criteria);\r\n  }\r\n\r\n  public findBidtSiteByCriteria(criteria: BidtSiteDTO): Observable<SearchResultsDTO<BidtSiteDTO>> {\r\n    return super.post<BidtSiteDTO, SearchResultsDTO<BidtSiteDTO>>(this.bidtSiteApi.findByCriteria, criteria);\r\n  }\r\n\r\n  public removeBidtSite(bidtSiteId: number[]): Observable<boolean> {\r\n    return super.post<number[], boolean>(this.bidtSiteApi.delete, bidtSiteId);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { KeyFilterModule } from 'primeng/keyfilter';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { DialogTableModule } from '../../../shared/components/dialog-table/dialog-table.module';\r\nimport { ManageSearchCriteriaModule } from '../../../shared/components/manage-search-criteria/manage-search-criteria.module';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { TableModule } from '../../../shared/components/table/table.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\n\r\nimport { DialogCapabilityComponent } from './form/dialog-capability/dialog-capability.component';\r\nimport { SiteFormComponent } from './form/site-form.component';\r\nimport { SiteFormService } from './form/site-form.service';\r\nimport { SiteSearchComponent } from './search/site-search.component';\r\nimport { SiteSearchService } from './search/site-search.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  CalendarModule,\r\n  DialogModule,\r\n  DropdownModule,\r\n  InputTextareaModule,\r\n  KeyFilterModule,\r\n  MessageModule,\r\n  PrimeNgTableModule,\r\n  TooltipModule,\r\n  KeyFilterModule,\r\n  MessageModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [DialogTableModule, ModalModule, TableModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogCapabilityComponent];\r\n\r\nconst DYNAMIC_COMPONENTS = [SiteFormComponent, SiteSearchComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [SiteFormService, SiteSearchService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ManageSearchCriteriaModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class SiteModule {}\r\n","import { LabelValue } from '../../shared/types/label-value.interface';\r\n\r\nexport class LabelValueUtils {\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static stringValueToLabel<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.value === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.label;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static labelToStringValue<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.label === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.value;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n"],"sourceRoot":""}