{"version":3,"sources":["webpack:///./src/app/main/flight-operations/flight-scheduling/flight-scheduling.module.ts","webpack:///./src/app/main/flight-operations/flight-scheduling/form/flight-scheduling-form.component.html","webpack:///./src/app/main/flight-operations/flight-scheduling/form/flight-scheduling-form.component.scss","webpack:///./src/app/main/flight-operations/flight-scheduling/form/flight-scheduling-form.component.ts","webpack:///./src/app/main/flight-operations/flight-scheduling/form/flight-scheduling-form.service.ts","webpack:///./src/app/main/flight-operations/flight-scheduling/search/flight-scheduling-search.component.html","webpack:///./src/app/main/flight-operations/flight-scheduling/search/flight-scheduling-search.component.scss","webpack:///./src/app/main/flight-operations/flight-scheduling/search/flight-scheduling-search.component.ts","webpack:///./src/app/main/flight-operations/flight-scheduling/search/flight-scheduling-search.service.ts"],"names":[],"mappings":"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","file":"flight-operations-flight-scheduling-flight-scheduling-module.js","sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { TableModule } from 'primeng/components/table/table';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { SliderModule } from 'primeng/primeng';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { DialogSearchCustomerModule } from '../../../shared/components/dialog-search-customer/dialog-search-customer.module';\r\nimport { SchedulerModule } from '../../../shared/components/scheduler/scheduler.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\n\r\nimport { FlightSchedulingFormComponent } from './form/flight-scheduling-form.component';\r\nimport { FlightSchedulingFormService } from './form/flight-scheduling-form.service';\r\nimport { FlightSchedulingSearchComponent } from './search/flight-scheduling-search.component';\r\nimport { FlightSchedulingSearchService } from './search/flight-scheduling-search.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\nconst PRIMENG_MODULES = [TableModule, TooltipModule, CalendarModule, DropdownModule];\r\n\r\nconst EXTERNAL_MODULES = [];\r\n\r\nconst INTERNAL_MODULES = [];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [];\r\n\r\nconst DYNAMIC_COMPONENTS = [\r\n  FlightSchedulingFormComponent,\r\n  FlightSchedulingSearchComponent\r\n];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [FlightSchedulingFormService, FlightSchedulingSearchService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    DialogSearchCustomerModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES,\r\n    ...PRIMENG_MODULES,\r\n    SchedulerModule,\r\n    SliderModule\r\n  ],\r\n  providers: [...SERVICES, DatePipe]\r\n})\r\nexport class FlightSchedulingModule {}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          <span class=\\\"page-subtitle\\\">\\r\\n            - {{ serializationService.deserialize(componentData.objectId)[\\\"fleetCode\\\"] }}\\r\\n          </span>\\r\\n\\r\\n          <span class=\\\"page-subtitle\\\" *ngIf=\\\"serializationService.deserialize(componentData.objectId)['fleetName']\\\">\\r\\n            - {{ serializationService.deserialize(componentData.objectId)[\\\"fleetName\\\"] }}\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"onReload()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\" style=\\\"max-width: 100%\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--6\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".date\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"form-group\\\" style=\\\"max-width: 25%\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".date\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [(ngModel)]=\\\"date\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\" style=\\\"max-width: 75%\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".timeZone\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [(ngModel)]=\\\"timeZoneSelected\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    [options]=\\\"timeZoneList\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    (onChange)=\\\"loadSchedulingAtTimeZone()\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"grid-cell--6\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".fleet\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".code\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" disabled [(ngModel)]=\\\"fleetCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".name\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" disabled [(ngModel)]=\\\"fleetName\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".schedule\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"form-group\\\">{{ date }} {{ timeZoneSelected }}</div>\\r\\n              <button *ngIf=\\\"addFlightButtonVisible\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"addFlight()\\\">\\r\\n                {{ getComponentName() + \\\".addFlight\\\" | translate }}\\r\\n              </button>\\r\\n\\r\\n              <button *ngIf=\\\"updateFlightButtonVisible\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"openFlight()\\\">\\r\\n                {{ \\\"openFlight\\\" | translate }}\\r\\n              </button>\\r\\n\\r\\n              <button *ngIf=\\\"removeFlightButtonVisible\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"removeFlight()\\\">\\r\\n                {{ getComponentName() + \\\".removeFlight\\\" | translate }}\\r\\n              </button>\\r\\n\\r\\n              <div class=\\\"slider-row\\\">\\r\\n                <div class=\\\"time-resolution\\\">\\r\\n                  <p-slider\\r\\n                    [max]=\\\"component.TIME_RESOLUTION_MAX_ZOOM\\\"\\r\\n                    [min]=\\\"component.TIME_RESOLUTION_MIN_ZOOM\\\"\\r\\n                    [(ngModel)]=\\\"schedulerZoomLevel\\\"\\r\\n                    (onChange)=\\\"onChangeTimeResolution($event)\\\"\\r\\n                  ></p-slider>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"scheduler-wrap show\\\">\\r\\n                  <bry-scheduler\\r\\n                    [barMargin]=\\\"barMargin\\\"\\r\\n                    [columns]=\\\"schedulerConfig['columns']\\\"\\r\\n                    [startDate]=\\\"schedulerConfig['startDate']\\\"\\r\\n                    [endDate]=\\\"schedulerConfig['endDate']\\\"\\r\\n                    [timeRanges]=\\\"schedulerConfig['timeRanges']\\\"\\r\\n                    [timeRangesFeature]=\\\"schedulerConfig['timeRangesFeature']\\\"\\r\\n                    [treeFeature]=\\\"schedulerConfig['treeFeature']\\\"\\r\\n                    [viewPreset]=\\\"schedulerConfig['viewPreset']\\\"\\r\\n                    [resources]=\\\"resourcesMissionName\\\"\\r\\n                    [filterBarFeature]=\\\"true\\\"\\r\\n                    [events]=\\\"events\\\"\\r\\n                    [eventTooltipFeature]=\\\"schedulerConfig['eventTooltip']\\\"\\r\\n                    [contextMenuFeature]=\\\"schedulerConfig['contextMenu']\\\"\\r\\n                    [readOnly]=\\\"schedulerConfig['readOnly']\\\"\\r\\n                    [zoomKeepsOriginalTimespan]=\\\"schedulerConfig['zoomKeepsOriginalTimespan']\\\"\\r\\n                    [zoomOnMouseWheel]=\\\"schedulerConfig['zoomOnMouseWheel']\\\"\\r\\n                    [zoomOnTimeAxisDoubleClick]=\\\"schedulerConfig['zoomOnTimeAxisDoubleClick']\\\"\\r\\n                  >\\r\\n                  </bry-scheduler>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .pointer {\\n  cursor: pointer !important; }\\n\\n:host ::ng-deep .mission-event-select.cell-green {\\n  background-color: #4caf50 !important; }\\n\\n:host ::ng-deep .mission-event-select.cell-yellow {\\n  background-color: #dddf00 !important; }\\n\\n:host ::ng-deep .mission-event-select.cell-red {\\n  background-color: #f6685e !important; }\\n\\n:host ::ng-deep .mission-event-select.cell-blue {\\n  background-color: #b8d0e8 !important; }\\n\\n:host ::ng-deep .mission-event-select.white-cell-selected {\\n  background-color: #176aad !important; }\\n\\n:host ::ng-deep .mission-event-select.blue-cell-selected {\\n  background-color: #01579b !important; }\\n\\n:host ::ng-deep button.aw-btn {\\n  margin-left: 8px; }\\n\\n:host ::ng-deep div.slider-row {\\n  display: flex;\\n  justify-content: flex-end; }\\n\\n:host ::ng-deep .time-resolution {\\n  align-items: center;\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0 calc(2 * 8px);\\n  margin-bottom: 1em; }\\n\\n:host ::ng-deep .time-resolution p-slider {\\n    width: 10rem; }\\n\\n:host .scheduler-wrap {\\n  height: 75vh;\\n  visibility: hidden; }\\n\\n:host .scheduler-wrap.show {\\n    visibility: visible; }\\n\\n:host ::ng-deep a {\\n  color: #01579b; }\\n\\n:host ::ng-deep a.mission-name-select {\\n    border-bottom-color: transparent;\\n    border-bottom-width: 1px;\\n    border-bottom-style: solid;\\n    color: #01579b;\\n    cursor: pointer;\\n    transition: border-bottom-color 0.25s ease-in-out; }\\n\\n:host ::ng-deep a:hover {\\n    text-decoration: underline; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9mbGlnaHQtb3BlcmF0aW9ucy9mbGlnaHQtc2NoZWR1bGluZy9mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxmbGlnaHQtb3BlcmF0aW9uc1xcZmxpZ2h0LXNjaGVkdWxpbmdcXGZvcm1cXGZsaWdodC1zY2hlZHVsaW5nLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZmxpZ2h0LW9wZXJhdGlvbnMvZmxpZ2h0LXNjaGVkdWxpbmcvZm9ybS9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXHN0eWxlc1xcX2NvbnN0YW50cy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBRU0sMEJBQTBCLEVBQUE7O0FBRmhDO0VBT00sb0NBQTBDLEVBQUE7O0FBUGhEO0VBVU0sb0NBQXFDLEVBQUE7O0FBVjNDO0VBYU0sb0NBQXdDLEVBQUE7O0FBYjlDO0VBZ0JNLG9DQUF5QyxFQUFBOztBQWhCL0M7RUFvQk0sb0NBQW9DLEVBQUE7O0FBcEIxQztFQXdCTSxvQ0FBb0MsRUFBQTs7QUF4QjFDO0VBNkJJLGdCQUFnQixFQUFBOztBQTdCcEI7RUFpQ0ksYUFBYTtFQUNiLHlCQUF5QixFQUFBOztBQWxDN0I7RUFzQ0ksbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQW9DO0VBQ3BDLGtCQUFrQixFQUFBOztBQTFDdEI7SUE0Q00sWUFBWSxFQUFBOztBQTVDbEI7RUFpREksWUFBWTtFQUNaLGtCQUFrQixFQUFBOztBQWxEdEI7SUFxRE0sbUJBQW1CLEVBQUE7O0FBckR6QjtFQTBESSxjQ3pEa0IsRUFBQTs7QUREdEI7SUE2RE0sZ0NBQWdDO0lBQ2hDLHdCQUF3QjtJQUN4QiwwQkFBMEI7SUFDMUIsY0FBYztJQUNkLGVBQWU7SUFDZixpREFDRixFQUFBOztBQW5FSjtJQXNFTSwwQkFBMEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZmxpZ2h0LW9wZXJhdGlvbnMvZmxpZ2h0LXNjaGVkdWxpbmcvZm9ybS9mbGlnaHQtc2NoZWR1bGluZy1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuXHJcbjpob3N0IHtcclxuICAucG9pbnRlciB7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlciAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgOjpuZy1kZWVwIC5taXNzaW9uLWV2ZW50LXNlbGVjdHtcclxuICAgICYuY2VsbC1ncmVlbiB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDEgIWltcG9ydGFudDtcclxuICAgIH1cclxuICAgICYuY2VsbC15ZWxsb3cge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeWVsbG93MSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgJi5jZWxsLXJlZCB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRyZWQtbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICAmLmNlbGwtYmx1ZSB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRibHVlLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgICYud2hpdGUtY2VsbC1zZWxlY3RlZCB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNzZhYWQgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAmLmJsdWUtY2VsbC1zZWxlY3RlZCB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMTU3OWIgIWltcG9ydGFudDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCBidXR0b24uYXctYnRue1xyXG4gICAgbWFyZ2luLWxlZnQ6IDhweDtcclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCBkaXYuc2xpZGVyLXJvd3tcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gIH1cclxuXHJcbiAgOjpuZy1kZWVwIC50aW1lLXJlc29sdXRpb24ge1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgbWFyZ2luOiAwIGNhbGMoMiAqICN7JG1hcmdpbi12YWx1ZX0pO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMWVtO1xyXG4gICAgcC1zbGlkZXIge1xyXG4gICAgICB3aWR0aDogMTByZW07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc2NoZWR1bGVyLXdyYXAge1xyXG4gICAgaGVpZ2h0OiA3NXZoO1xyXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG5cclxuICAgICYuc2hvdyB7XHJcbiAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgYSB7XHJcbiAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuXHJcbiAgICAmLm1pc3Npb24tbmFtZS1zZWxlY3Qge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4O1xyXG4gICAgICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcclxuICAgICAgY29sb3I6ICMwMTU3OWI7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dFxyXG4gICAgfVxyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */\"","import { DatePipe } from '@angular/common';\r\nimport { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { EventHelper } from 'bryntum-scheduler';\r\nimport { cloneDeep as _cloneDeep } from 'lodash-es';\r\nimport * as moment from 'moment';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Subject } from 'rxjs';\r\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\n\r\nimport { EventModel as GenericEventModel } from '../../../../shared/components/scheduler/event-model.interface';\r\nimport { SchedulerComponent } from '../../../../shared/components/scheduler/scheduler.component';\r\nimport { AppConstants } from '../../../../shared/constants/app-constants';\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { LangConstants } from '../../../../shared/constants/lang-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { FlightSchedulingInput } from '../../../../shared/types/api-input-types/fleet-management/flight-scheduling-input.interface';\r\nimport { FlightScheduleOutput } from '../../../../shared/types/api-output-types/flight-schedule-output.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoFleetDTOId } from '../../../../shared/types/api-types/bido-fleet-dto-id.interface';\r\nimport { BidoMissionDTO } from '../../../../shared/types/api-types/bido-mission-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { WsTreeNode } from '../../../../shared/types/api-types/ws-tree-node-dto.interface';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { FlightInputData } from '../../flight/types/flight-input-data.interface';\r\n\r\nimport { FlightSchedulingFormService, ResourceModel } from './flight-scheduling-form.service';\r\n\r\nenum CellColor {\r\n  Green = 'cell-green',\r\n  Red = 'cell-red',\r\n  Yellow = 'cell-yellow',\r\n  Blue = 'cell-blue',\r\n  WhiteCellSelected = 'white-cell-selected',\r\n  BlueCellSelected = 'blue-cell-selected'\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-flight-scheduling-form',\r\n  styleUrls: ['./flight-scheduling-form.component.scss'],\r\n  templateUrl: './flight-scheduling-form.component.html'\r\n})\r\nexport class FlightSchedulingFormComponent extends FormPageComponent<PageComponentData>\r\n  implements OnInit, AfterViewInit {\r\n  public static readonly hoursInADay: number = 24;\r\n  public static readonly minutesInAnHour: number = 60;\r\n  public static readonly secondsInAMinute: number = 60;\r\n  public static readonly milisecondsInASecond: number = 1000;\r\n\r\n  // Bryntum scheduler variables\r\n  public static readonly dayAndWeek: string = 'dayAndWeek';\r\n  public static readonly hourAndDay: string = 'hourAndDay';\r\n  public static readonly day: string = 'day';\r\n  public static readonly dateFormat: string = 'DD/MM/YYYY';\r\n  public static readonly displayDateFormat: string = 'DD/MM/YYYY';\r\n  public static readonly TIME_RESOLUTION_MAX_ZOOM: number = 10;\r\n  public static readonly TIME_RESOLUTION_MIN_ZOOM: number = 0;\r\n  private static readonly MISSION_NAME_CLASS: string = 'mission-name-select';\r\n  private static readonly MISSION_EVENT_CLASS: string = 'mission-event-select';\r\n\r\n  public milisecondsInADay: number;\r\n  public date: Date;\r\n  public currDate: Date;\r\n\r\n  public currYear: number;\r\n  public timeZoneList: SelectItem[];\r\n  public timeZoneSelected: string | undefined;\r\n\r\n  public previousTimezone: string | undefined;\r\n  public fleetCode: string;\r\n\r\n  public fleetName: string;\r\n  public isScheduleLoading: boolean;\r\n  public isCalendarEvent: boolean;\r\n\r\n  public showSaveSpinner: boolean;\r\n  public isTableLoading: boolean;\r\n  public statusList: SelectItem[];\r\n  public treeTable: WsTreeNode[];\r\n\r\n  public treeTableCols: TableColumn[];\r\n  public addFlightButtonVisible: boolean;\r\n  public updateFlightButtonVisible: boolean;\r\n  public removeFlightButtonVisible: boolean;\r\n\r\n  public resetFlightButtonVisible: boolean;\r\n\r\n  private readonly noOfDateToDisplay: number = 14;\r\n\r\n  public cellSelected: FlightScheduleOutput;\r\n  public colClicked: string;\r\n\r\n  public colsSelected: string[];\r\n\r\n  public readonly component: typeof FlightSchedulingFormComponent;\r\n\r\n  // Bryntum scheduler variables\r\n  @ViewChild(SchedulerComponent)\r\n  public scheduler: SchedulerComponent;\r\n  public barMargin: number = 10;\r\n  public schedulerConfig: object;\r\n  public resourcesMissionName: ResourceModel[];\r\n  private eventCounter: number = 0;\r\n  public events: GenericEventModel[] = [];\r\n  public schedulerZoomLevel: number;\r\n  private readonly schedulerTimeResolutionChanged: Subject<number>;\r\n  private resourcesMissionNameCounter = 0;\r\n  private previousEventSelected: GenericEventModel | undefined;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    private readonly flightSchedulingFormService: FlightSchedulingFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly dateService: DateService,\r\n    private readonly datePipe: DatePipe,\r\n    private readonly translateService: TranslateService,\r\n    private readonly confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.component = FlightSchedulingFormComponent;\r\n\r\n    // Bryntum init\r\n    this.schedulerZoomLevel = FlightSchedulingFormComponent.TIME_RESOLUTION_MAX_ZOOM;\r\n    this.schedulerTimeResolutionChanged = new Subject<number>();\r\n\r\n    this.init();\r\n    this.loadWorkPackageStatusList();\r\n  }\r\n\r\n  private loadSchedulerConfig(): void {\r\n    this.schedulerConfig = {\r\n      readOnly: true,\r\n      timeRanges: true,\r\n      timeRangesFeature: {\r\n        showCurrentTimeLine: true\r\n      },\r\n      zoomKeepsOriginalTimespan: true,\r\n      zoomOnMouseWheel: false,\r\n      zoomOnTimeAxisDoubleClick: false,\r\n      eventTooltip: {\r\n        template: (target) => {\r\n          const resourceId = target.eventRecord.data.resourceId;\r\n          const resource = this.recursiveFind(this.resourcesMissionName, resourceId);\r\n          let returnValue = '';\r\n          if (!!resource && !!resource.data) {\r\n            returnValue = this.showTooltip(resource.data, this.dateService.dateToString(target.startDate));\r\n          }\r\n\r\n          return returnValue;\r\n        },\r\n        anchorToTarget: false\r\n      },\r\n      treeFeature: true\r\n    };\r\n\r\n    this.registerSchedulerTimeResolutionObservable();\r\n    this.setSchedulerDate();\r\n    this.setSchedulerAircraftRegistrationColumn();\r\n    this.setSchedulerViewPreset();\r\n    this.setContextMenuFeature();\r\n  }\r\n\r\n  private initSchedulerEngine(): void {\r\n    this.registerSchedulerListeners();\r\n  }\r\n\r\n  private registerSchedulerTimeResolutionObservable(): void {\r\n    this.schedulerTimeResolutionChanged.pipe(distinctUntilChanged(), takeUntil(this.unsubscribe)).subscribe({\r\n      next: (value) => {\r\n        this.scheduler.schedulerEngine.zoomTo(value);\r\n      }\r\n    });\r\n  }\r\n\r\n  public showToday(): void {\r\n    this.scheduler.schedulerEngine.zoomTo({\r\n      centerDate: new Date(),\r\n      preset: this.scheduler.schedulerEngine.viewPreset\r\n    });\r\n  }\r\n\r\n  public onChangeTimeResolution(event: { value: number }): void {\r\n    this.schedulerTimeResolutionChanged.next(event.value);\r\n  }\r\n\r\n  private recursiveFind(resourcesMissionNameSearched: ResourceModel[], id: string): ResourceModel | undefined {\r\n    let resourceModelFound = resourcesMissionNameSearched.find((resource) => resource.id === id);\r\n    let index = 0;\r\n    while (!resourceModelFound && index < resourcesMissionNameSearched.length) {\r\n      resourceModelFound = this.recursiveFind(resourcesMissionNameSearched[index].children, id);\r\n      index++;\r\n    }\r\n\r\n    return resourceModelFound;\r\n  }\r\n\r\n  private registerSchedulerListeners(): void {\r\n    EventHelper.addListener(this.scheduler.schedulerEngine.element, {\r\n      element: this.scheduler.schedulerEngine.element,\r\n      click: (event: MouseEvent) => {\r\n        const eventRecord = 'eventRecord';\r\n        const eventTarget = event.target as HTMLElement;\r\n        if (eventTarget.classList.contains(FlightSchedulingFormComponent.MISSION_NAME_CLASS)) {\r\n          this.openAircraftOrMission(eventTarget);\r\n        } else if (eventTarget.classList.contains(FlightSchedulingFormComponent.MISSION_EVENT_CLASS)) {\r\n          this.configureEventSelectedColorAndButtons(event, eventRecord);\r\n        } else {\r\n          this.clickedOnNoEventAndNoResource();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private clickedOnNoEventAndNoResource() {\r\n    this.cellSelected = {};\r\n    this.colClicked = '';\r\n    this.colsSelected = [];\r\n    this.buildSchedulerEventList();\r\n    this.addFlightButtonVisible = false;\r\n    this.removeFlightButtonVisible = false;\r\n    this.resetFlightButtonVisible = false;\r\n    this.updateFlightButtonVisible = false;\r\n  }\r\n\r\n  private configureEventSelectedColorAndButtons(event: MouseEvent, eventRecord: string) {\r\n    const flightOutputRM = !!this.resourcesMissionName\r\n      ? this.recursiveFind(this.resourcesMissionName, event[eventRecord].resourceId)\r\n      : undefined;\r\n    const flightOutputData = !!flightOutputRM ? flightOutputRM.data : undefined;\r\n    if (!!flightOutputData) {\r\n      // onCellClick will update visible buttons\r\n      this.onCellClick(flightOutputData, this.dateService.dateToString(event[eventRecord].data.startDate));\r\n      // Compute previous event selected style\r\n      const previousEventSelectedFoundInEventsList = this.events.find(\r\n        (anEvent) => !!this.previousEventSelected && anEvent.id === this.previousEventSelected.id\r\n      );\r\n\r\n      if (!!previousEventSelectedFoundInEventsList) {\r\n        const previousResource = this.recursiveFind(\r\n          this.resourcesMissionName,\r\n          previousEventSelectedFoundInEventsList.resourceId\r\n        );\r\n        if (!!previousResource) {\r\n          previousEventSelectedFoundInEventsList.cls =\r\n            FlightSchedulingFormComponent.MISSION_EVENT_CLASS +\r\n            ' ' +\r\n            this.getCellColor(\r\n              previousResource.data,\r\n              this.dateService.dateToString(previousEventSelectedFoundInEventsList.startDate)\r\n            );\r\n        }\r\n      }\r\n\r\n      // Single event coloration\r\n      const eventSelected = this.events.find((anEvent) => anEvent.id === event[eventRecord].data.id);\r\n      this.previousEventSelected = eventSelected;\r\n      if (!!eventSelected) {\r\n        eventSelected.cls =\r\n          FlightSchedulingFormComponent.MISSION_EVENT_CLASS +\r\n          ' ' +\r\n          this.getCellColor(flightOutputData, this.dateService.dateToString(event[eventRecord].data.startDate));\r\n      }\r\n    }\r\n    this.events = [...this.events];\r\n  }\r\n\r\n  private openAircraftOrMission(eventTarget: HTMLElement) {\r\n    const flightOutputRM = !!this.resourcesMissionName\r\n      ? this.recursiveFind(this.resourcesMissionName, eventTarget.id)\r\n      : undefined;\r\n    const flightOutputData = !!flightOutputRM ? flightOutputRM.data : undefined;\r\n    if (!!flightOutputData) {\r\n      this.openFlightSchedulingRowDetail(flightOutputData);\r\n    }\r\n  }\r\n\r\n  private setContextMenuFeature(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      contextMenu: {\r\n        items: {\r\n          addEvent: false\r\n        },\r\n        processHeaderItems: () => false\r\n      }\r\n    };\r\n  }\r\n\r\n  private setSchedulerViewPreset(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      viewPreset: {\r\n        name: FlightSchedulingFormComponent.dayAndWeek,\r\n        displayDateFormat: FlightSchedulingFormComponent.displayDateFormat,\r\n        timeResolution: {\r\n          unit: FlightSchedulingFormComponent.day,\r\n          increment: 1\r\n        },\r\n        headerConfig: {\r\n          middle: {\r\n            unit: FlightSchedulingFormComponent.day,\r\n            dateFormat: FlightSchedulingFormComponent.dateFormat\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  private setSchedulerDate(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      startDate: moment()\r\n        .startOf('year')\r\n        .toDate(),\r\n      endDate: moment()\r\n        .endOf('year')\r\n        .toDate()\r\n    };\r\n  }\r\n\r\n  private setSchedulerAircraftRegistrationColumn(): void {\r\n    this.schedulerConfig = {\r\n      ...this.schedulerConfig,\r\n      columns: [\r\n        {\r\n          text: this.translateService.instant(this.getTranslateKey('missionName')),\r\n          type: 'tree',\r\n          field: 'missionName',\r\n          width: 200,\r\n          htmlEncode: false,\r\n          sortable: true,\r\n          editor: false,\r\n          enableCellContextMenu: false,\r\n          renderer: ({ record }: { record: { data: ResourceModel } }) => `\r\n            <div class=\"info\">\r\n                <a id=${record.data.id} class=${FlightSchedulingFormComponent.MISSION_NAME_CLASS}>\r\n                    ${record.data.missionName}\r\n                </a>\r\n            </div>\r\n          `\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  private generateSchedulerColumnsMissionNameId(): number {\r\n    return this.resourcesMissionNameCounter++;\r\n  }\r\n\r\n  private generateSchedulerEventId(): number {\r\n    return this.eventCounter++;\r\n  }\r\n\r\n  /**\r\n   * Builds scheduler events on current nodes and children nodes by recursion.\r\n   * @param parentResource Parent resource of second parameter\r\n   * @param resource Current resource\r\n   */\r\n  private buildSchedulerEventFromResource(parentResource: ResourceModel, resource: ResourceModel): GenericEventModel[] {\r\n    const returnArray: GenericEventModel[] = [];\r\n\r\n    if (!!resource.data && !!resource.data.date) {\r\n      const startDates = Object.keys(resource.data.date);\r\n      const endDates = Object.values(resource.data.date);\r\n\r\n      for (let i = 0; i < startDates.length; i++) {\r\n        if (parentResource !== resource) {\r\n          // Push event on the parent node\r\n          returnArray.push({\r\n            resourceId: parentResource.id,\r\n            id: this.generateSchedulerEventId(),\r\n            eventType: '',\r\n            startDate: new Date(startDates[i]),\r\n            endDate: new Date(endDates[i] as string),\r\n            name: '',\r\n            cls:\r\n              FlightSchedulingFormComponent.MISSION_EVENT_CLASS +\r\n              ' ' +\r\n              this.getCellColor(parentResource.data, this.dateService.dateToString(new Date(startDates[i])))\r\n          });\r\n        }\r\n\r\n        // Push event on the current node\r\n        returnArray.push({\r\n          resourceId: resource.id,\r\n          id: this.generateSchedulerEventId(),\r\n          eventType: '',\r\n          startDate: new Date(startDates[i]),\r\n          endDate: new Date(endDates[i] as string),\r\n          name: '',\r\n          cls:\r\n            FlightSchedulingFormComponent.MISSION_EVENT_CLASS +\r\n            ' ' +\r\n            this.getCellColor(resource.data, this.dateService.dateToString(new Date(startDates[i])))\r\n        });\r\n      }\r\n    }\r\n\r\n    // Recurse into children\r\n    for (let i = 0; i < resource.children.length; i++) {\r\n      returnArray.push(...this.buildSchedulerEventFromResource(resource, resource.children[i]));\r\n    }\r\n\r\n    return returnArray;\r\n  }\r\n\r\n  /**\r\n   * Builds bryntum scheduler event list\r\n   */\r\n  private buildSchedulerEventList(): void {\r\n    // Reinitialise event list otherwise bryntum scheduler engine does not detect changes\r\n    this.events = [];\r\n    this.resourcesMissionName.forEach((resource) => {\r\n      this.events.push(...this.buildSchedulerEventFromResource(resource, resource));\r\n    });\r\n  }\r\n\r\n  private buildSchedulerResourceList(wsTreeNodes: WsTreeNode[]): void {\r\n    this.resourcesMissionName = wsTreeNodes.map((wsTreeNode) => this.buildSchedulerResourceFromFleet(wsTreeNode));\r\n  }\r\n\r\n  private buildSchedulerResourceFromFleet(wsTreeNode: WsTreeNode): ResourceModel {\r\n    return {\r\n      id: String(this.generateSchedulerColumnsMissionNameId()),\r\n      missionName: wsTreeNode.data.missionName,\r\n      data: wsTreeNode.data,\r\n      children: !!wsTreeNode.children\r\n        ? wsTreeNode.children.map((childElement) => this.buildSchedulerResourceFromFleet(childElement))\r\n        : []\r\n    };\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_FLIGHT_SCHEDULING_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.milisecondsInADay =\r\n      this.component.hoursInADay *\r\n      this.component.minutesInAnHour *\r\n      this.component.secondsInAMinute *\r\n      this.component.milisecondsInASecond;\r\n\r\n    if (!!this.componentData) {\r\n      if (!!this.componentData.objectId) {\r\n        this.fleetCode = this.serializationService.deserialize(this.componentData.objectId).fleetCode;\r\n        this.fleetName = this.serializationService.deserialize(this.componentData.objectId).fleetName;\r\n        const fleetContext =\r\n          !this.isCreateOpenMode &&\r\n          this.componentData &&\r\n          this.componentData.objectId &&\r\n          this.serializationService.deserialize(this.componentData.objectId).fleetName\r\n            ? `${this.fleetCode} - ${this.fleetName}`\r\n            : `${this.fleetCode}`;\r\n        const fleetContextId = fleetContext;\r\n        this.displayComponentContext(fleetContextId, this.isCreateOpenMode);\r\n\r\n        this.loadWorkSchdulingTable();\r\n      }\r\n    }\r\n    this.loadTimeZoneList();\r\n    this.loadSchedulerConfig();\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    this.initSchedulerEngine();\r\n    if (this.translateService.currentLang === LangConstants.FRENCH_CODE) {\r\n      this.scheduler.schedulerEngine.localeManager.locale = 'Fr';\r\n    } else {\r\n      this.scheduler.schedulerEngine.localeManager.locale = 'En';\r\n    }\r\n    this.showToday();\r\n  }\r\n\r\n  public onReload(): void {\r\n    this.loadTimeZoneList();\r\n    this.loadSchedulingAtDate();\r\n  }\r\n\r\n  public init(): void {\r\n    this.treeTable = [];\r\n    this.date = new Date();\r\n    this.currDate = new Date();\r\n    const radix = 10;\r\n    this.currYear = Number.parseInt(this.datePipe.transform(this.currDate, 'yyyy') as string, radix);\r\n    this.isScheduleLoading = false;\r\n    this.isCalendarEvent = false;\r\n\r\n    this.addFlightButtonVisible = false;\r\n    this.updateFlightButtonVisible = false;\r\n    this.removeFlightButtonVisible = false;\r\n    this.resetFlightButtonVisible = false;\r\n\r\n    this.cellSelected = {};\r\n    this.colClicked = '';\r\n    this.colsSelected = [];\r\n\r\n    this.setTreeTableCols();\r\n  }\r\n\r\n  public loadSchedulingAtDate(): void {\r\n    this.setTreeTableCols();\r\n    this.loadWorkSchdulingTable();\r\n  }\r\n\r\n  public loadSchedulingAtTimeZone(): void {\r\n    this.updateFlightScheduleDates();\r\n  }\r\n\r\n  public updateFlightScheduleDates(): void {\r\n    const previousTimezoneValue = Number(this.previousTimezone);\r\n    const currentTimeZoneValue = Number(this.timeZoneSelected);\r\n\r\n    if (currentTimeZoneValue !== previousTimezoneValue) {\r\n      const gap =\r\n        Math.abs(previousTimezoneValue) >= 0 && Math.abs(currentTimeZoneValue)\r\n          ? Math.abs(Math.abs(previousTimezoneValue) - Math.abs(currentTimeZoneValue))\r\n          : Math.abs(previousTimezoneValue) + Math.abs(currentTimeZoneValue);\r\n      const isGapPositive = currentTimeZoneValue >= previousTimezoneValue;\r\n\r\n      this.treeTable.forEach((treeRow) => {\r\n        if (!!treeRow.children) {\r\n          treeRow.children.forEach((child) => {\r\n            const rowData = child.data as FlightScheduleOutput;\r\n            if (!!rowData && !!rowData.date) {\r\n              const startDates = Object.keys(rowData.date);\r\n              const endDates = Object.values(rowData.date);\r\n\r\n              const newDateMap = {};\r\n              for (let i = 0; i < startDates.length; i++) {\r\n                startDates[i] = new Date(\r\n                  this.updateFlightScheduleDate(gap, isGapPositive, `${startDates[i]}`)\r\n                ).toISOString();\r\n                endDates[i] = new Date(\r\n                  this.updateFlightScheduleDate(gap, isGapPositive, `${endDates[i]}`)\r\n                ).toISOString();\r\n                newDateMap[startDates[i] as string] = endDates[i] as string;\r\n              }\r\n\r\n              rowData.date = newDateMap as Object;\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      this.treeTable = [...this.treeTable];\r\n      this.previousTimezone = _cloneDeep(this.timeZoneSelected);\r\n    }\r\n  }\r\n\r\n  private updateFlightScheduleDate(gap: number, isGapPositive: boolean, date: string): string {\r\n    if (StringUtils.isNullOrEmpty(date)) {\r\n      return '';\r\n    } else {\r\n      const dateValue = new Date(date);\r\n      const updatedDate = isGapPositive\r\n        ? moment(dateValue).add(gap, 'hours')\r\n        : moment(dateValue).subtract(gap, 'hours');\r\n\r\n      return updatedDate.format(this.sessionService.dateTimeFormatMomentJS);\r\n    }\r\n  }\r\n\r\n  private loadTimeZoneList(): void {\r\n    this.timeZoneList = [];\r\n    this.timeZoneSelected = undefined;\r\n    this.propertiesService.getTimeZones().subscribe((results) => {\r\n      this.timeZoneList = results\r\n        .map((result) => {\r\n          return {\r\n            label: result.label,\r\n            value: this.dateService.getTimeZoneValue(result.value)\r\n          };\r\n        })\r\n        .filter((timezone) => !!timezone.value);\r\n\r\n      this.propertiesService.getDefaultTimeZoneCode().subscribe((result) => {\r\n        this.timeZoneSelected = this.dateService.getTimeZoneValue(result);\r\n        this.previousTimezone = _cloneDeep(this.timeZoneSelected);\r\n      });\r\n    });\r\n  }\r\n\r\n  public loadWorkSchdulingTable(cue?: string): void {\r\n    this.treeTable = [];\r\n    this.isTableLoading = true;\r\n    const bidoFleetDTOId: BidoFleetDTOId = {\r\n      fleetId: !!this.componentData.objectId\r\n        ? this.serializationService.deserialize(this.componentData.objectId).fleetId\r\n        : ''\r\n    };\r\n    const input: FlightSchedulingInput = {\r\n      bidoFleetDTOId,\r\n      startDate: this.date,\r\n      timeZone: this.timeZoneSelected\r\n    };\r\n    switch (cue) {\r\n      case 'toggle':\r\n        const endDateIndex = 14;\r\n        input.startDate = new Date(this.treeTableCols[1].field);\r\n        input.endDate = new Date(this.treeTableCols[endDateIndex].field);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.flightSchedulingFormService.getFlightScheduling(input).subscribe((result) => {\r\n      if (result) {\r\n        this.treeTable = result;\r\n        this.buildSchedulerResourceList(result);\r\n        this.buildSchedulerEventList();\r\n        this.isTableLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadWorkPackageStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.AIRM_PROJECT_STATUS_MAP).subscribe((result) => {\r\n      this.statusList = ListUtils.orEmpty(result);\r\n    });\r\n  }\r\n\r\n  public openFlightSchedulingRowDetail(rowData: FlightScheduleOutput) {\r\n    if (!!rowData) {\r\n      if (!!rowData.missionCode) {\r\n        // Go to mission form\r\n        const input: BidoMissionDTO = {\r\n          missionCode: rowData.missionCode\r\n        };\r\n        this.openMission(input, ComponentOpenMode.Read);\r\n      } else {\r\n        // Go to equipment form\r\n        const equipmentFunction = rowData.equiFunction;\r\n        const equipmentCode = rowData.equipmentCode;\r\n        switch (equipmentFunction) {\r\n          case AWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY:\r\n            this.goToAircraft(equipmentCode, ComponentOpenMode.Read);\r\n            break;\r\n          case AWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY:\r\n            this.goToEngine(equipmentCode, ComponentOpenMode.Read);\r\n            break;\r\n          default:\r\n            this.goToEquipment(equipmentCode, ComponentOpenMode.Read);\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private openMission(object: BidoMissionDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.MissionFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'MissionFormComponent',\r\n      objectId: this.serializationService.serialize(object),\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToAircraft(aircraftCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.AircraftFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'AircraftFormComponent',\r\n      openMode\r\n    };\r\n    if (!!aircraftCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode: aircraftCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToEngine(engineCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EngineFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EngineFormComponent',\r\n      openMode\r\n    };\r\n    if (!!engineCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode: engineCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToEquipment(equipmentCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EquipmentFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EquipmentFormComponent',\r\n      openMode\r\n    };\r\n    if (!!equipmentCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public getCellColor(rowData?: FlightScheduleOutput, colName?: string): string {\r\n    const cellSelectedCheck =\r\n      JSON.stringify(rowData) === JSON.stringify(this.cellSelected) && this.colsSelected.some((col) => col === colName);\r\n\r\n    const originalColor = this.getOriginalCellColorWhenCellIsSelected(rowData, colName);\r\n    if (!!rowData) {\r\n      if (cellSelectedCheck && originalColor === '') {\r\n        return CellColor.WhiteCellSelected;\r\n      } else if (cellSelectedCheck && originalColor === CellColor.Blue) {\r\n        return CellColor.BlueCellSelected;\r\n      } else if (this.isCellColourable(rowData, colName)) {\r\n        return CellColor.Blue;\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  public getOriginalCellColorWhenCellIsSelected(rowData?: FlightScheduleOutput, colName?: string): string {\r\n    if (!!rowData) {\r\n      if (this.isCellColourable(rowData, colName)) {\r\n        return CellColor.Blue;\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  public showTooltip(flightSchedulingRowData: FlightScheduleOutput, colName: string): string {\r\n    if (!!flightSchedulingRowData && !!flightSchedulingRowData.date) {\r\n      const colDateValue = new Date(colName).valueOf();\r\n      const startDates = Object.keys(flightSchedulingRowData.date);\r\n      const endDates = Object.values(flightSchedulingRowData.date);\r\n\r\n      const chronoNumber = flightSchedulingRowData.chronoNumber;\r\n      const flightType = flightSchedulingRowData.flightType;\r\n\r\n      let formattedStartDate = '';\r\n      let formattedEndDate = '';\r\n\r\n      for (let i = 0; i < startDates.length; i++) {\r\n        const startDateValue = new Date(this.dateService.dateToString(new Date(startDates[i]))).valueOf();\r\n        const endDateValue = new Date(this.dateService.dateToString(new Date(endDates[i] as string))).valueOf();\r\n        const condition = colDateValue >= startDateValue && colDateValue <= endDateValue;\r\n\r\n        if (condition) {\r\n          formattedStartDate = this.dateService.dateWitCustomFormatToString(\r\n            new Date(startDates[i]),\r\n            AppConstants.MOMENTJS_DATE_TIME\r\n          );\r\n          formattedEndDate = this.dateService.dateWitCustomFormatToString(\r\n            new Date(endDates[i] as string),\r\n            AppConstants.MOMENTJS_DATE_TIME\r\n          );\r\n\r\n          break;\r\n        }\r\n      }\r\n\r\n      const status = flightSchedulingRowData.flightStatus;\r\n\r\n      const labelStyle = 'style=\"display: inline-block; width: 120px\"';\r\n      const valueStyle = 'style=\"font-weight: 600\"';\r\n\r\n      const chronoNumberLabel = this.translateService.instant(`${this.getComponentName()}.chronoNumber`);\r\n      const flightTypeLabel = this.translateService.instant(`${this.getComponentName()}.flightType`);\r\n      const startDateLabel = this.translateService.instant(`${this.getComponentName()}.startDate`);\r\n      const endDateLabel = this.translateService.instant(`${this.getComponentName()}.endDate`);\r\n      const statusLabel = this.translateService.instant(`${this.getComponentName()}.status`);\r\n\r\n      const chronoNumberHtml =\r\n        '<div>' +\r\n        `<span ${labelStyle}>${chronoNumberLabel}</span><span ${valueStyle}>${chronoNumber}</span>` +\r\n        '</div>';\r\n      const flightTypeHtml =\r\n        '<div>' + `<span ${labelStyle}>${flightTypeLabel}</span><span ${valueStyle}>${flightType}</span>` + '</div>';\r\n      const startDateHtml =\r\n        '<div>' +\r\n        `<span ${labelStyle}>${startDateLabel}</span><span ${valueStyle}>${formattedStartDate}</span>` +\r\n        '</div>';\r\n      const endDateHtml =\r\n        '<div>' + `<span ${labelStyle}>${endDateLabel}</span><span ${valueStyle}>${formattedEndDate}</span>` + '</div>';\r\n      const statusHtml =\r\n        '<div>' + `<span ${labelStyle}>${statusLabel}</span><span ${valueStyle}>${status}</span>` + '</div>';\r\n\r\n      return [chronoNumberHtml, flightTypeHtml, startDateHtml, endDateHtml, statusHtml].join('');\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  private setTreeTableCols() {\r\n    this.treeTableCols = [];\r\n    this.treeTableCols.push({ field: 'missionName', width: '12%', alignment: 'left' });\r\n    const date = _cloneDeep(this.date);\r\n    for (let i = 1; i <= this.noOfDateToDisplay; i++) {\r\n      this.treeTableCols.push({ field: `${this.dateService.dateToString(date)}`, width: '6%', alignment: 'left' });\r\n      date.setDate(date.getDate() + 1);\r\n    }\r\n  }\r\n\r\n  private isCellColourable(rowData?: FlightScheduleOutput, colName?: string): boolean {\r\n    if (!!rowData && !!rowData.equiFunction) {\r\n      // aircraft\r\n      const indexInTreeTable = this.treeTable.findIndex((row) => `${row.data.equipmentCode}` === rowData.equipmentCode);\r\n      const children = this.treeTable[indexInTreeTable].children;\r\n\r\n      if (!!children) {\r\n        return children.some((child) => this.isCellColourable(child.data, colName));\r\n      }\r\n    } else {\r\n      // flight\r\n\r\n      if (!!rowData && !!rowData.date && !!colName) {\r\n        const columnDate = new Date(colName).valueOf();\r\n        const startDates = Object.keys(rowData.date);\r\n        const endDates = Object.values(rowData.date);\r\n\r\n        for (let i = 0; i < startDates.length; i++) {\r\n          const startDate = new Date(this.dateService.dateToString(new Date(startDates[i])));\r\n          const startDateValue = startDate.valueOf();\r\n\r\n          const endDate = new Date(this.dateService.dateToString(new Date(endDates[i] as string)));\r\n          const endDateValue = endDate.valueOf();\r\n\r\n          if (endDate) {\r\n            if (columnDate >= startDateValue && columnDate <= endDateValue) {\r\n              return true;\r\n            }\r\n          } else {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public isAircraft(rowData: FlightScheduleOutput): boolean {\r\n    return !!rowData.equiFunction;\r\n  }\r\n\r\n  public onCellClick(rowData: FlightScheduleOutput, colName: string): void {\r\n    this.cellSelected = rowData;\r\n    this.colClicked = colName;\r\n\r\n    this.colsSelected = [];\r\n    this.colsSelected.push(colName);\r\n\r\n    const cellColor = this.getCellColor(rowData, colName);\r\n\r\n    if (!!rowData.equiFunction) {\r\n      // aircraft\r\n      this.addFlightButtonVisible =\r\n        cellColor !== CellColor.Blue && cellColor !== CellColor.BlueCellSelected ? true : false;\r\n      this.updateFlightButtonVisible = false;\r\n      this.removeFlightButtonVisible = false;\r\n      this.resetFlightButtonVisible = false;\r\n    } else {\r\n      // flight\r\n      this.addFlightButtonVisible = false;\r\n      this.updateFlightButtonVisible =\r\n        cellColor === CellColor.Blue || cellColor === CellColor.BlueCellSelected ? true : false;\r\n      this.removeFlightButtonVisible =\r\n        cellColor === CellColor.Blue || cellColor === CellColor.BlueCellSelected ? true : false;\r\n      this.resetFlightButtonVisible =\r\n        cellColor === CellColor.Blue || cellColor === CellColor.BlueCellSelected ? true : false;\r\n    }\r\n  }\r\n\r\n  public addFlight(): void {\r\n    if (!StringUtils.isNullOrEmpty(this.colClicked)) {\r\n      const date = new Date(this.colClicked);\r\n      date.setHours(2);\r\n\r\n      const missionEquipmentId: FlightInputData = {\r\n        equipmentCode: this.cellSelected.equipmentCode,\r\n        aircraftRepresentation: this.cellSelected.equipmentName,\r\n        startDate: date.getTime(),\r\n        endDate: date.getTime()\r\n      };\r\n\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.FLI_FLIGHT_FORM,\r\n        objectId: this.serializationService.serialize(missionEquipmentId),\r\n        openMode: ComponentOpenMode.Create\r\n      };\r\n\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openFlight(): void {\r\n    if (!!this.cellSelected.equipmentCode && !!this.cellSelected.missionCode && !!this.cellSelected.occurence) {\r\n      const missionEquipmentId: FlightInputData = {\r\n        equipmentCode: this.cellSelected.equipmentCode,\r\n        missionCode: this.cellSelected.missionCode,\r\n        occurrence: this.cellSelected.occurence,\r\n        chronoNumber: this.cellSelected.chronoNumber\r\n      };\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.FLI_FLIGHT_FORM,\r\n        objectId: this.serializationService.serialize(missionEquipmentId),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public removeFlight(): void {\r\n    const confirmMessageKey = 'confirmDeleteSelectedMissionEquipment';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: `${this.getComponentName()}.${confirmMessageKey}`,\r\n      accept: () => {\r\n        if (\r\n          !!this.cellSelected &&\r\n          !!this.cellSelected.equipmentCode &&\r\n          !!this.cellSelected.missionCode &&\r\n          this.cellSelected.occurence !== null &&\r\n          this.cellSelected.occurence !== undefined\r\n        ) {\r\n          const missionEquipmentId: BidoMissionEquipmentDTOId = {\r\n            equipmentCode: this.cellSelected.equipmentCode,\r\n            missionCode: this.cellSelected.missionCode,\r\n            occurrence: this.cellSelected.occurence\r\n          };\r\n\r\n          this.flightSchedulingFormService.removeBidoMissionEquipment(missionEquipmentId).subscribe(() => {\r\n            this.loadWorkSchdulingTable();\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteMissionEquipment'));\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { ResourceModel as GenericResourceModel } from '../../../../shared/components/scheduler/resource-model.interface';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { FlightSchedulingInput } from '../../../../shared/types/api-input-types/fleet-management/flight-scheduling-input.interface';\r\nimport { FlightScheduleOutput } from '../../../../shared/types/api-output-types/flight-schedule-output.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { WsTreeNode } from '../../../../shared/types/api-types/ws-tree-node-dto.interface';\r\n\r\nexport interface ResourceModel extends GenericResourceModel {\r\n  missionName ?: string;\r\n  data ?: FlightScheduleOutput;\r\n}\r\n\r\n@Injectable()\r\nexport class FlightSchedulingFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public getFlightScheduling(input: FlightSchedulingInput): Observable<WsTreeNode[]> {\r\n    return super.post<FlightSchedulingInput, WsTreeNode[]>(this.fleetManagementApi.getFlightScheduling, input);\r\n  }\r\n\r\n  public removeBidoMissionEquipment(id: BidoMissionEquipmentDTOId): Observable<void> {\r\n    const selectedFlightIds: BidoMissionEquipmentDTOId[] = [];\r\n    selectedFlightIds.push(id);\r\n\r\n    return super.post<BidoMissionEquipmentDTOId[], void>(\r\n      this.fleetManagementApi.removeBidoMissionEquipment,\r\n      selectedFlightIds\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header-container\\\">\\r\\n  <div class=\\\"page-context\\\">\\r\\n    <div class=\\\"page-title-container\\\">\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-secondary-actions\\\">\\r\\n        <i\\r\\n          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n          [ngClass]=\\\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          (click)=\\\"updateFavoriteState()\\\"\\r\\n          pTooltip=\\\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-subtitle-container\\\">\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        {{ \\\"page.searchPage\\\" | translate }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".fleetCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.fleetCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".fleetName\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.fleetName\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".customerCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n                      <div class=\\\"form-control-data\\\" (click)=\\\"quickSearchBusinessPartner()\\\">\\r\\n                        {{ searchObject.customerCode }}\\r\\n                      </div>\\r\\n\\r\\n                      <div *ngIf=\\\"searchObject.customerCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                        <i\\r\\n                          class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"searchObject.customerCode = undefined\\\"\\r\\n                        ></i>\\r\\n                      </div>\\r\\n                      <div class=\\\"btn-search-wrapper\\\">\\r\\n                        <i\\r\\n                          class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"quickSearchBusinessPartner()\\\"\\r\\n                        ></i>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\"></div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      appKeyPress\\r\\n                      color=\\\"primary\\\"\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                #ptableResults\\r\\n                class=\\\"aw-table2\\\"\\r\\n                [columns]=\\\"resultsTableCols\\\"\\r\\n                [value]=\\\"resultsTable.list\\\"\\r\\n                [(selection)]=\\\"selectedFleets\\\"\\r\\n                [scrollable]=\\\"true\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedFleets.length > 0 }\\\">\\r\\n                    <div class=\\\"aw-table-global-filter\\\">\\r\\n                      <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                        <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </label>\\r\\n\\r\\n                      <input\\r\\n                        #ptableResultsGlobalFilter\\r\\n                        class=\\\"aw-table-global-filter-input\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                        (input)=\\\"ptableResults.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"aw-table-actions\\\">\\r\\n                      <button\\r\\n                        *ngIf=\\\"selectedFleets.length > 0\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openViewScheduleForSelectedFleet()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                    </th>\\r\\n\\r\\n                    <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                    </td>\\r\\n\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <span *ngSwitchCase=\\\"'fleetCode'\\\">\\r\\n                        <a (click)=\\\"openFleetForm(rowData)\\\"> {{ rowData[col.field] }} </a>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'isOperator'\\\">\\r\\n                        <span *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-check\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </span>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'isOwner'\\\">\\r\\n                        <span *ngIf=\\\"rowData[col.field] !== null && rowData[col.field]\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-check\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </span>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-search-customer\\r\\n    *ngIf=\\\"showQuickSearchBusinessPartnerPopup\\\"\\r\\n    [(display)]=\\\"showQuickSearchBusinessPartnerPopup\\\"\\r\\n    [customer-code]=\\\"searchObject.customerCode\\\"\\r\\n    (onSelected)=\\\"setSelectedBusinessPartner($event)\\\"\\r\\n  ></aw-dialog-search-customer>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vZmxpZ2h0LW9wZXJhdGlvbnMvZmxpZ2h0LXNjaGVkdWxpbmcvc2VhcmNoL2ZsaWdodC1zY2hlZHVsaW5nLXNlYXJjaC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Table } from 'primeng/components/table/table';\r\n\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { BidoCustomerDTO } from '../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoFleetDTO } from '../../../../shared/types/api-types/bido-fleet-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { PageComponent } from '../../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\n\r\nimport { FlightSchedulingSearchService } from './flight-scheduling-search.service';\r\n\r\ninterface FleetDataExport {\r\n  fleetCode?: string;\r\n  fleetName?: string;\r\n  customerCode?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-flight-scheduling-search',\r\n  styleUrls: ['./flight-scheduling-search.component.scss'],\r\n  templateUrl: './flight-scheduling-search.component.html'\r\n})\r\nexport class FlightSchedulingSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public readonly componentId: string;\r\n  public isReadOnlyForm: boolean;\r\n\r\n  public showQuickSearchBusinessPartnerPopup: boolean;\r\n\r\n  public resultsTable: SearchResultsDTO<BidoFleetDTO>;\r\n  public resultsTableCols: TableColumn[];\r\n  public searchObject: BidoFleetDTO;\r\n  public selectedFleets: BidoFleetDTO[];\r\n\r\n  public resultsTableExportName: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly flightSchedulingSearchService: FlightSchedulingSearchService,\r\n    private readonly exportService: ExportService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.isReadOnlyForm = false;\r\n    this.showQuickSearchBusinessPartnerPopup = false;\r\n\r\n    this.resultsTable = { list: [], moreResults: false };\r\n    this.searchObject = {};\r\n    this.selectedFleets = [];\r\n\r\n    this.resultsTableExportName = 'fleet-list';\r\n\r\n    this.resultsTableCols = [\r\n      { field: 'fleetCode', alignment: 'left' },\r\n      { field: 'fleetName', alignment: 'left' },\r\n      { field: 'customerCode', alignment: 'left' }\r\n    ];\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.FLI_FLIGHT_SCHEDULING_SEARCH;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  public quickSearchBusinessPartner(): void {\r\n    this.showQuickSearchBusinessPartnerPopup = true;\r\n  }\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  public search(): void {\r\n    const bidoFleetDTO: BidoFleetDTO = this.searchObject;\r\n\r\n    this.flightSchedulingSearchService.getBidoFleetsBySearchCriteria(bidoFleetDTO).subscribe((results) => {\r\n      if (results) {\r\n        this.resultsTable = results;\r\n      }\r\n      this.selectedFleets = [];\r\n    });\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {};\r\n  }\r\n\r\n  public openViewSchedule(object: BidoFleetDTO | undefined, openMode: ComponentOpenMode): void {\r\n    if (object) {\r\n      const labelKey = 'transaction.FlightSchedulingFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'FlightSchedulingFormComponent',\r\n        objectId: this.serializationService.serialize(object),\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openViewScheduleForSelectedFleet(): void {\r\n    this.selectedFleets.forEach((fleet) => {\r\n      if (fleet) {\r\n        if (fleet.fleetId && fleet.fleetId.length > 0) {\r\n          this.openViewSchedule(fleet, ComponentOpenMode.Write);\r\n        } else {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingFleetId'));\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public openFleetForm(fleet: BidoFleetDTO) {\r\n    if (!!fleet && !!fleet.fleetId) {\r\n      const labelKey = 'transaction.FleetFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'FleetFormComponent',\r\n        objectId: this.serializationService.serialize(fleet),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingFleetId'));\r\n    }\r\n  }\r\n\r\n  public setSelectedBusinessPartner(event: BidoCustomerDTO): void {\r\n    this.searchObject.customerCode = event.customerCode;\r\n  }\r\n\r\n  public exportTable(): void {\r\n    const dataToExport: FleetDataExport[] = [];\r\n    this.resultsTable.list.forEach((fleet) => {\r\n      const fleetDataExport: FleetDataExport = {\r\n        fleetCode: fleet.fleetCode,\r\n        fleetName: fleet.fleetName,\r\n        customerCode: fleet.customerCode\r\n      };\r\n      dataToExport.push(fleetDataExport);\r\n    });\r\n    this.exportService.toExcel(dataToExport, this.resultsTableExportName, this.componentData.componentId);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { BidoFleetDTOId } from '../../../../shared/types/api-types/bido-fleet-dto-id.interface';\r\nimport { BidoFleetDTO } from '../../../../shared/types/api-types/bido-fleet-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class FlightSchedulingSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public getBidoFleetsBySearchCriteria(criteria: BidoFleetDTO): Observable<SearchResultsDTO<BidoFleetDTO>> {\r\n    return super.post<BidoFleetDTO, SearchResultsDTO<BidoFleetDTO>>(\r\n      this.fleetManagementApi.findBidoFleetsBySearchCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public removeBidoFleet(bidoFleetDTOId: BidoFleetDTOId[]): Observable<boolean> {\r\n    return super.post<BidoFleetDTOId[], boolean>(this.fleetManagementApi.removeBidoFleet, bidoFleetDTOId);\r\n  }\r\n}\r\n"],"sourceRoot":""}