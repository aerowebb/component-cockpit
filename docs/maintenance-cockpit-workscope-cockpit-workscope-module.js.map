{"version":3,"sources":["webpack:///./node_modules/primeng/chart.js","webpack:///./node_modules/primeng/inputtextarea.js","webpack:///./node_modules/primeng/treetable.js","webpack:///./src/app/main/maintenance/cockpit-workscope/cockpit-workscope.module.ts","webpack:///./src/app/main/maintenance/cockpit-workscope/form/cockpit-workscope-form.component.html","webpack:///./src/app/main/maintenance/cockpit-workscope/form/cockpit-workscope-form.component.scss","webpack:///./src/app/main/maintenance/cockpit-workscope/form/cockpit-workscope-form.component.ts","webpack:///./src/app/main/maintenance/cockpit-workscope/form/cockpit-workscope-form.service.ts","webpack:///./src/app/main/maintenance/cockpit-workscope/form/load-workscope-popup/load-workscope-popup.component.html","webpack:///./src/app/main/maintenance/cockpit-workscope/form/load-workscope-popup/load-workscope-popup.component.ts","webpack:///./src/app/main/maintenance/cockpit-workscope/form/manage-configuration/manage-configuration-form.component.html","webpack:///./src/app/main/maintenance/cockpit-workscope/form/manage-configuration/manage-configuration-form.component.scss","webpack:///./src/app/main/maintenance/cockpit-workscope/form/manage-configuration/manage-configuration-form.component.ts","webpack:///./src/app/main/maintenance/cockpit-workscope/form/manage-removal-causes/manage-removal-causes-form.component.html","webpack:///./src/app/main/maintenance/cockpit-workscope/form/manage-removal-causes/manage-removal-causes-form.component.ts","webpack:///./src/app/main/maintenance/cockpit-workscope/form/shared/shared.scss","webpack:///./src/app/main/maintenance/cockpit-workscope/form/workscope-import-popup/workscope-import-popup.component.html","webpack:///./src/app/main/maintenance/cockpit-workscope/form/workscope-import-popup/workscope-import-popup.component.ts","webpack:///./src/app/main/maintenance/cockpit-workscope/form/workscope-table-filters/workscope-table-filters.component.html","webpack:///./src/app/main/maintenance/cockpit-workscope/form/workscope-table-filters/workscope-table-filters.component.ts","webpack:///./src/app/shared/api/workscope-component.api.ts","webpack:///./src/app/shared/utils/bido-family-variant-utils.ts"],"names":[],"mappings":"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","file":"maintenance-cockpit-workscope-cockpit-workscope-module.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/chart/chart\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/inputtextarea/inputtextarea\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/treetable/treetable\"));","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { ChartModule } from 'primeng/chart';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { AutoCompleteModule, FileUploadModule, OverlayPanelModule, SplitButtonModule } from 'primeng/primeng';\r\nimport { ProgressBarModule } from 'primeng/progressbar';\r\nimport { SelectButtonModule } from 'primeng/selectbutton';\r\nimport { TableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TreeTableModule } from 'primeng/treetable';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { WorkscopeComponentApi } from '../../../shared/api/workscope-component.api';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { AddEditInventoryModule } from '../../../shared/components/add-edit-inventory/add-edit-inventory.module';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\n\r\nimport { CockpitWorkscopeFormComponent } from './form/cockpit-workscope-form.component';\r\nimport { CockpitWorkscopeFormService } from './form/cockpit-workscope-form.service';\r\nimport { LoadWorkscopePopupComponent } from './form/load-workscope-popup/load-workscope-popup.component';\r\nimport { ManageConfigurationFormComponent } from './form/manage-configuration/manage-configuration-form.component';\r\nimport { ManageRemovalCausesFormComponent } from './form/manage-removal-causes/manage-removal-causes-form.component';\r\nimport { WorkscopeImportPopupComponent } from './form/workscope-import-popup/workscope-import-popup.component';\r\nimport { WorkscopeTableFilterComponent } from './form/workscope-table-filters/workscope-table-filters.component';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  TooltipModule,\r\n  ChartModule,\r\n  CheckboxModule,\r\n  CalendarModule,\r\n  TreeTableModule,\r\n  ProgressBarModule,\r\n  ModalModule,\r\n  TableModule,\r\n  InputTextareaModule,\r\n  SelectButtonModule,\r\n  DropdownModule,\r\n  FileUploadModule,\r\n  OverlayPanelModule,\r\n  AddEditInventoryModule,\r\n  AutoCompleteModule,\r\n  SplitButtonModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [LoadWorkscopePopupComponent, WorkscopeTableFilterComponent, WorkscopeImportPopupComponent];\r\n\r\nconst DYNAMIC_COMPONENTS = [\r\n  CockpitWorkscopeFormComponent,\r\n  ManageConfigurationFormComponent,\r\n  ManageRemovalCausesFormComponent\r\n];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [CockpitWorkscopeFormService];\r\n\r\n/******************************************************************************\r\n * Api's\r\n *************************************************************************** */\r\n\r\nconst APIS = [WorkscopeComponentApi];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES, ...APIS]\r\n})\r\nexport class CockpitWorkscopeModule {}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ bsdeProjectDTO.projectNumber }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"manageConfiguration()\\\">\\r\\n      {{ getComponentName() + \\\".manageConfiguration\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"manageRemovalCauses()\\\">\\r\\n      {{ getComponentName() + \\\".manageRemovalCauses\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <p-splitButton\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"aw-split-btn custom-padding\\\"\\r\\n      label=\\\"{{ getComponentName() + '.loadWorkscope' | translate }}\\\"\\r\\n      [model]=\\\"loadWorkscopeList\\\"\\r\\n    ></p-splitButton>\\r\\n\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"edit()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"save()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <!-- ENABLE THE BUTTON WHEN SERVICE READY -->\\r\\n      <!-- <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"saveAndExport()\\\">\\r\\n        {{ getComponentName() + \\\".exportInventory\\\" | translate }}\\r\\n      </button> -->\\r\\n      <button mat-menu-item (click)=\\\"refresh()\\\">{{ \\\"global.refresh\\\" | translate }}</button>\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--8\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container grid-cell-scope\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".componentCockpit\\\" | translate }}\\r\\n                  <div *ngIf=\\\"panelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyVariant\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [options]=\\\"familyVariants\\\"\\r\\n                        [(ngModel)]=\\\"bidoEquipmentDTO.familyVariantCode\\\"\\r\\n                      >\\r\\n                      </p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".pn\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        <span class=\\\"custom-span cursor-class\\\" (click)=\\\"openPartNumberLink()\\\">\\r\\n                          {{ bsdeProjectDTO.projectPn }}</span\\r\\n                        >\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sn\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        <span class=\\\"custom-span cursor-class\\\" (click)=\\\"openSNLink()\\\">\\r\\n                          {{ bsdeProjectDTO.projectSn }}\\r\\n                        </span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".designation\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"bidoEquipmentDTO.equipmentDesignation\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".mroCenter\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"true\\\" [(ngModel)]=\\\"mroCenter\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".customer\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"true\\\" [(ngModel)]=\\\"bsdeProjectDTO.customerCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".startDate\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [(ngModel)]=\\\"bsdeProjectDTO.projectStartDate\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                      ></p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".endDate\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [(ngModel)]=\\\"bsdeProjectDTO.projectEndDate\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                      ></p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"grid-cell--4\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container grid-cell-scope\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".workscopeInformation\\\" | translate }}\\r\\n                  <div *ngIf=\\\"panelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                </h3>\\r\\n                <div class=\\\"btn-custom\\\">\\r\\n                  <button\\r\\n                    *ngIf=\\\"isApprove && !isReadOpenMode && !isCreateOpenMode\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-upgrade\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"upgrade()\\\"\\r\\n                  >\\r\\n                    {{ getComponentName() + \\\".upgrade\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"!isApprove && !isReadOpenMode && !isCreateOpenMode\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"btn-approve\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"approve()\\\"\\r\\n                  >\\r\\n                    {{ getComponentName() + \\\".btnApprove\\\" | translate }}\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".version\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"workscopeInformationObject.versionNumber\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".status\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"workscopeInformationObject.status\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".lastUpdate\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"workscopeInformationObject.lastUpdate\\\"\\r\\n                        title=\\\"{{ workscopeInformationObject.lastUpdate }}\\\"\\r\\n                      />\\r\\n                      <span *ngIf=\\\"!!workscopeInformationObject.lastUpdateDate\\\">\\r\\n                        ({{ workscopeInformationObject.lastUpdateDate | date: \\\"yyyy/MM/dd\\\" }})\\r\\n                      </span>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".approvedItems\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"workscopeInformationObject.approveItem\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".draftItems\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"workscopeInformationObject.draftItem\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".removedItems\\\" | translate }}</label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        [disabled]=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"workscopeInformationObject.removeItem\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- TREE TABLE ITEM STRUCTURE-->\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div [ngClass]=\\\"{ 'grid-cell--12': showChanges }\\\">\\r\\n          <div\\r\\n            [ngClass]=\\\"{\\r\\n              'grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure current-changes': showChanges\\r\\n            }\\\"\\r\\n          >\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"grid-row\\\">\\r\\n                <div [ngClass]=\\\"{ 'grid-cell--6': isLineSelected, 'grid-cell--12': !isLineSelected }\\\">\\r\\n                  <div class=\\\"grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure\\\">\\r\\n                    <div class=\\\"grid-cell-header\\\">\\r\\n                      <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                        <h3 class=\\\"grid-cell-title\\\">\\r\\n                          {{ getComponentName() + \\\".workscopeDetail\\\" | translate }}\\r\\n                        </h3>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-cell-content\\\">\\r\\n                      <p-treeTable\\r\\n                        #ptreetableStructure\\r\\n                        class=\\\"aw-tree-table2\\\"\\r\\n                        [columns]=\\\"workscopeTableCols\\\"\\r\\n                        [value]=\\\"workscopeStructure\\\"\\r\\n                        selectionMode=\\\"single\\\"\\r\\n                        [(selection)]=\\\"selectedWorkscope\\\"\\r\\n                        [scrollable]=\\\"true\\\"\\r\\n                        [resizableColumns]=\\\"true\\\"\\r\\n                        (onNodeSelect)=\\\"onRowSelected($event.node)\\\"\\r\\n                        (onNodeUnselect)=\\\"onRowUnSelected($event.node)\\\"\\r\\n                        (onNodeExpand)=\\\"onNodeExpand($event.node)\\\"\\r\\n                        dataKey=\\\"item\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                          <span *ngIf=\\\"!tableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                          <div *ngIf=\\\"tableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                            <div class=\\\"lds-hourglass\\\"></div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"caption\\\">\\r\\n                          <div class=\\\"aw-table-header\\\">\\r\\n                            <div class=\\\"aw-table-global-filter custom-filter-class\\\">\\r\\n                              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </label>\\r\\n\\r\\n                              <input\\r\\n                                #ptreetableStructureGlobalFilter\\r\\n                                class=\\\"aw-table-global-filter-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                                [(ngModel)]=\\\"searchGlobalFilter\\\"\\r\\n                                (ngModelChange)=\\\"filterTextWithCriteria()\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n                            <div>\\r\\n                              <p-selectButton\\r\\n                                *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                [(ngModel)]=\\\"selectedChangeFilter\\\"\\r\\n                                [options]=\\\"changeFilterList\\\"\\r\\n                                (onChange)=\\\"changeFilter()\\\"\\r\\n                              ></p-selectButton>\\r\\n                            </div>\\r\\n                            <div class=\\\"aw-table-actions\\\">\\r\\n                              <button\\r\\n                                type=\\\"button\\\"\\r\\n                                *ngIf=\\\"\\r\\n                                  !isReadOpenMode &&\\r\\n                                  !!workscopeTreeData &&\\r\\n                                  workscopeTreeData.length > 0 &&\\r\\n                                  showFilterButtons &&\\r\\n                                  workscopeInformationObject.status === draft\\r\\n                                \\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"addRemoveAllToWorkscope(true)\\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".addAllToWorkscope\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                type=\\\"button\\\"\\r\\n                                *ngIf=\\\"\\r\\n                                  !isReadOpenMode &&\\r\\n                                  !!workscopeTreeData &&\\r\\n                                  workscopeTreeData.length > 0 &&\\r\\n                                  showFilterButtons &&\\r\\n                                  workscopeInformationObject.status === draft\\r\\n                                \\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"addRemoveAllToWorkscope(false)\\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".removeAllFromWorkscope\\\" | translate }}\\r\\n                              </button>\\r\\n                            </div>\\r\\n                            <div class=\\\"aw-table-icon-actions\\\">\\r\\n                              <i\\r\\n                                *ngIf=\\\"!!workscopeTreeData && workscopeTreeData.length > 0\\\"\\r\\n                                class=\\\"fa fa-fw fa-filter aw-icon aw-icon-with-border aw-icon-with-overlay\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                [ngClass]=\\\"{ active: filtersVisible }\\\"\\r\\n                                (click)=\\\"opFilters.toggle($event); openFilters()\\\"\\r\\n                              ></i>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                          <colgroup>\\r\\n                            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                          </colgroup>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                          <tr>\\r\\n                            <th\\r\\n                              ttResizableColumn\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                            >\\r\\n                              <span *ngIf=\\\"col.field !== 'action'\\\">\\r\\n                                {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                              </span>\\r\\n                            </th>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowNode let-rowData=\\\"rowData\\\" let-columns=\\\"columns\\\">\\r\\n                          <tr [ttSelectableRow]=\\\"rowNode\\\">\\r\\n                            <td\\r\\n                              style=\\\"overflow: hidden; text-overflow: ellipsis;\\\"\\r\\n                              *ngFor=\\\"let col of columns; let i = index\\\"\\r\\n                              [ngSwitch]=\\\"col.field\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                            >\\r\\n                              <p-treeTableToggler [rowNode]=\\\"rowNode\\\" *ngIf=\\\"i == 0\\\"></p-treeTableToggler>\\r\\n\\r\\n                              <span *ngSwitchCase=\\\"'item'\\\">\\r\\n                                <div class=\\\"code\\\">\\r\\n                                  <div class=\\\"chapter\\\">\\r\\n                                    {{ rowData.item }}\\r\\n                                  </div>\\r\\n                                  <div class=\\\"name\\\" title=\\\"{{ rowData.name }}\\\">{{ rowData.name }}</div>\\r\\n                                </div>\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngSwitchCase=\\\"'itemFamily'\\\">\\r\\n                                <div>\\r\\n                                  <span class=\\\"custom-font\\\">{{ rowData[\\\"itemFamilyCode\\\"] }}</span>\\r\\n                                </div>\\r\\n                                <div class=\\\"name\\\" *ngIf=\\\"rowData['serializedPart']\\\">\\r\\n                                  {{ getComponentName() + \\\".serialized\\\" | translate }}\\r\\n                                </div>\\r\\n                                <div class=\\\"name\\\" *ngIf=\\\"!rowData['serializedPart']\\\">\\r\\n                                  {{ getComponentName() + \\\".notSerialized\\\" | translate }}\\r\\n                                </div>\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngSwitchCase=\\\"'impacts'\\\">\\r\\n                                <div>\\r\\n                                  <span class=\\\"custom-font\\\">{{ rowData.cause }}</span>\\r\\n                                </div>\\r\\n                                <div>\\r\\n                                  {{ rowData.impact }}\\r\\n                                </div>\\r\\n                                <div>\\r\\n                                  {{ rowData.removalCause }}\\r\\n                                </div>\\r\\n                              </span>\\r\\n                              <span *ngSwitchCase=\\\"'relatedVersion'\\\">\\r\\n                                <div\\r\\n                                  *ngIf=\\\"rowData.isWorkscope\\\"\\r\\n                                  class=\\\"version\\\"\\r\\n                                  [ngClass]=\\\"{\\r\\n                                    'version-draft': rowData.isWorkscope && rowData.workscopeVersionStatus === 0,\\r\\n                                    'version-approved': rowData.isWorkscope && rowData.workscopeVersionStatus === 1\\r\\n                                  }\\\"\\r\\n                                >\\r\\n                                  <div class=\\\"version-content\\\">\\r\\n                                    <span>{{ rowData.workscopeVersionNumber }}</span>\\r\\n                                  </div>\\r\\n                                  <div class=\\\"version-content\\\">\\r\\n                                    <span *ngIf=\\\"rowData.workscopeVersionStatus === 0\\\">\\r\\n                                      {{ getComponentName() + \\\".draft\\\" | translate }}\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"rowData.workscopeVersionStatus === 1\\\">\\r\\n                                      {{ getComponentName() + \\\".approve\\\" | translate }}\\r\\n                                    </span>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </span>\\r\\n                              <span *ngSwitchCase=\\\"'quantity'\\\">\\r\\n                                <div>\\r\\n                                  {{ getComponentName() + \\\".expected\\\" | translate }}:\\r\\n                                  <b class=\\\"padding-class chapter\\\">{{ getExpectedQuantity(rowData) }}</b>\\r\\n                                </div>\\r\\n                                <div>\\r\\n                                  {{ getComponentName() + \\\".real\\\" | translate }}:\\r\\n                                  <b class=\\\"padding-class chapter\\\">{{ getRealQuantity(rowData) }}</b>\\r\\n                                </div>\\r\\n                              </span>\\r\\n                              <span *ngSwitchCase=\\\"'inventories'\\\">\\r\\n                                <div *ngIf=\\\"rowData.inventoriesList && rowData.inventoriesList.length > 0\\\">\\r\\n                                  <span *ngIf=\\\"rowData['serializedPart']\\\">\\r\\n                                    <span *ngIf=\\\"!!getRealQuantity(rowData) && getRealQuantity(rowData) === '1'\\\">\\r\\n                                      <div>\\r\\n                                        {{ getComponentName() + \\\".pn\\\" | translate }}:\\r\\n                                        <b class=\\\"padding-class chapter\\\">{{ rowData.inventoriesList[0].pn }}</b>\\r\\n                                      </div>\\r\\n                                      <div>\\r\\n                                        {{ getComponentName() + \\\".sn\\\" | translate }}:\\r\\n                                        <b class=\\\"padding-class chapter\\\">{{ rowData.inventoriesList[0].sn }}</b>\\r\\n                                      </div>\\r\\n                                    </span>\\r\\n                                    <span\\r\\n                                      *ngIf=\\\"\\r\\n                                        !!getRealQuantity(rowData) &&\\r\\n                                        getRealQuantity(rowData) !== '1' &&\\r\\n                                        getRealQuantity(rowData) !== '0'\\r\\n                                      \\\"\\r\\n                                    >\\r\\n                                      {{ rowData.inventoriesList.length }}\\r\\n                                      {{ getComponentName() + \\\".inventories\\\" | translate }}\\r\\n                                    </span>\\r\\n                                  </span>\\r\\n                                  <span *ngIf=\\\"!rowData['serializedPart']\\\">\\r\\n                                    <span *ngIf=\\\"rowData.inventoriesList.length === 1\\\">\\r\\n                                      <div>\\r\\n                                        {{ getComponentName() + \\\".pn\\\" | translate }}:\\r\\n                                        <b class=\\\"padding-class chapter\\\">{{ rowData.inventoriesList[0].pn }}</b>\\r\\n                                      </div>\\r\\n                                      <div *ngIf=\\\"!!rowData.inventoriesList[0].trackingNumber\\\">\\r\\n                                        {{ getComponentName() + \\\".tn\\\" | translate }}:\\r\\n                                        <b class=\\\"padding-class chapter\\\">{{\\r\\n                                          rowData.inventoriesList[0].trackingNumber\\r\\n                                        }}</b>\\r\\n                                      </div>\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"rowData.inventoriesList.length > 1\\\"\\r\\n                                      >{{ rowData.inventoriesList.length }}\\r\\n                                      {{ getComponentName() + \\\".inventories\\\" | translate }}</span\\r\\n                                    >\\r\\n                                  </span>\\r\\n                                </div>\\r\\n                              </span>\\r\\n                              <span *ngSwitchCase=\\\"'workOrder'\\\">\\r\\n                                <div *ngIf=\\\"rowData.inventoriesList && rowData.inventoriesList.length > 0\\\">\\r\\n                                  <div *ngIf=\\\"!!rowData.inventoriesList[0].workScopingOrder\\\">\\r\\n                                    <b class=\\\"chapter\\\">{{ rowData.inventoriesList[0].workScopingOrder }}</b>\\r\\n                                    <p-progressBar [value]=\\\"rowData.inventoriesList[0].currentOpeProgress\\\">\\r\\n                                    </p-progressBar>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </span>\\r\\n                              <span *ngSwitchCase=\\\"'workscope'\\\">\\r\\n                                <p-checkbox\\r\\n                                  class=\\\"aw-checkbox custom-checkbox\\\"\\r\\n                                  [styleClass]=\\\"getColorStyle(rowData)\\\"\\r\\n                                  binary=\\\"true\\\"\\r\\n                                  [disabled]=\\\"isReadOpenMode || workscopeInformationObject.status === approved\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.isWorkscope\\\"\\r\\n                                  (onChange)=\\\"inventoryModified(rowData, rowNode)\\\"\\r\\n                                ></p-checkbox>\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-treeTable>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div *ngIf=\\\"isLineSelected\\\" class=\\\"grid-cell--6\\\">\\r\\n                  <div class=\\\"grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure\\\">\\r\\n                    <div class=\\\"grid-cell-header\\\">\\r\\n                      <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                        <h3 class=\\\"grid-cell-title\\\">\\r\\n                          {{ getComponentName() + \\\".inventories\\\" | translate }} of {{ selectedWorkscope.item }}\\r\\n                        </h3>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                      <div class=\\\"section\\\">\\r\\n                        <div class=\\\"section-content\\\">\\r\\n                          <div class=\\\"grid-cell--12\\\">\\r\\n                            <div class=\\\"grid-row\\\">\\r\\n                              <p-table\\r\\n                                [resizableColumns]=\\\"true\\\"\\r\\n                                #ptableFilterElement\\r\\n                                class=\\\"aw-table2\\\"\\r\\n                                [columns]=\\\"technicalQuotationCols\\\"\\r\\n                                [value]=\\\"selectedWorkscope.inventoriesList\\\"\\r\\n                                [scrollable]=\\\"true\\\"\\r\\n                                dataKey=\\\"rowIndex\\\"\\r\\n                                [(selection)]=\\\"selectedInventories\\\"\\r\\n                              >\\r\\n                                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                                  <span *ngIf=\\\"!isfilterTable\\\"> &nbsp;</span>\\r\\n\\r\\n                                  <div *ngIf=\\\"isfilterTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                                  </div>\\r\\n                                </ng-template>\\r\\n                                <ng-template pTemplate=\\\"caption\\\">\\r\\n                                  <div class=\\\"aw-table-header\\\">\\r\\n                                    <div class=\\\"aw-table-actions\\\">\\r\\n                                      <button\\r\\n                                        *ngIf=\\\"\\r\\n                                          !isReadOpenMode &&\\r\\n                                          !!selectedWorkscope &&\\r\\n                                          selectedInventories &&\\r\\n                                          selectedInventories.length === 0\\r\\n                                        \\\"\\r\\n                                        type=\\\"button\\\"\\r\\n                                        mat-raised-button\\r\\n                                        (click)=\\\"addInventory()\\\"\\r\\n                                      >\\r\\n                                        {{ getComponentName() + \\\".addInventory\\\" | translate }}\\r\\n                                      </button>\\r\\n\\r\\n                                      <button\\r\\n                                        *ngIf=\\\"\\r\\n                                          !isReadOpenMode &&\\r\\n                                          !!selectedWorkscope &&\\r\\n                                          selectedInventories &&\\r\\n                                          selectedInventories.length > 0\\r\\n                                        \\\"\\r\\n                                        type=\\\"button\\\"\\r\\n                                        mat-raised-button\\r\\n                                        (click)=\\\"editInventory()\\\"\\r\\n                                      >\\r\\n                                        {{ getComponentName() + \\\".editInventory\\\" | translate }}\\r\\n                                      </button>\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n                                </ng-template>\\r\\n\\r\\n                                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                                  <colgroup>\\r\\n                                    <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                                    <col\\r\\n                                      *ngFor=\\\"let col of columns\\\"\\r\\n                                      [ngStyle]=\\\"{ width: col.width, display: col.display }\\\"\\r\\n                                    />\\r\\n                                  </colgroup>\\r\\n                                </ng-template>\\r\\n\\r\\n                                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                                  <tr>\\r\\n                                    <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                                      <p-tableHeaderCheckbox\\r\\n                                        class=\\\"aw-table-checkbox\\\"\\r\\n                                        [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                      ></p-tableHeaderCheckbox>\\r\\n                                    </th>\\r\\n\\r\\n                                    <th\\r\\n                                      pResizableColumn\\r\\n                                      *ngFor=\\\"let col of columns\\\"\\r\\n                                      [ngStyle]=\\\"{ 'text-align': col.alignment, display: col.display }\\\"\\r\\n                                    >\\r\\n                                      {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                                    </th>\\r\\n                                  </tr>\\r\\n                                </ng-template>\\r\\n\\r\\n                                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                                  <tr>\\r\\n                                    <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                                      <p-tableCheckbox\\r\\n                                        class=\\\"aw-table-checkbox\\\"\\r\\n                                        [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                        [value]=\\\"rowData\\\"\\r\\n                                      ></p-tableCheckbox>\\r\\n                                    </td>\\r\\n\\r\\n                                    <td\\r\\n                                      *ngFor=\\\"let col of columns\\\"\\r\\n                                      [ngSwitch]=\\\"col.field\\\"\\r\\n                                      [ngStyle]=\\\"{ 'text-align': col.alignment, display: col.display }\\\"\\r\\n                                    >\\r\\n                                      <span *ngSwitchCase=\\\"'equipment'\\\">\\r\\n                                        <div class=\\\"code\\\">\\r\\n                                          <div (click)=\\\"openPartNumberLink(rowData['pn'])\\\" *ngIf=\\\"!!rowData['pn']\\\">\\r\\n                                            {{ getComponentName() + \\\".pn\\\" | translate }}:\\r\\n                                            <span class=\\\"custom-span custom-font-style cursor-class padding-class\\\">{{\\r\\n                                              rowData[\\\"pn\\\"]\\r\\n                                            }}</span>\\r\\n                                          </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"designation\\\">\\r\\n                                          <div class=\\\"name\\\" *ngIf=\\\"selectedWorkscope.serializedPart\\\">\\r\\n                                            <span>{{ getComponentName() + \\\".sn\\\" | translate }}:</span>\\r\\n                                            <span class=\\\"custom-span custom-font-style padding-class\\\">{{\\r\\n                                              rowData[\\\"sn\\\"]\\r\\n                                            }}</span>\\r\\n                                          </div>\\r\\n                                          <div *ngIf=\\\"!selectedWorkscope.serializedPart\\\">\\r\\n                                            <span>{{ getComponentName() + \\\".tn\\\" | translate }}:</span>\\r\\n                                            <span class=\\\"custom-span custom-font-style padding-class\\\">{{\\r\\n                                              rowData[\\\"tn\\\"]\\r\\n                                            }}</span>\\r\\n                                          </div>\\r\\n                                        </div>\\r\\n                                      </span>\\r\\n\\r\\n                                      <span *ngSwitchCase=\\\"'sentenceValue'\\\" class=\\\"custom-font-style\\\">\\r\\n                                        <div *ngIf=\\\"!!rowData['sentenceValue']\\\">\\r\\n                                          S : {{ getSentenceValue(rowData[\\\"sentenceValue\\\"]) }}\\r\\n                                        </div>\\r\\n                                        <div *ngIf=\\\"!!rowData['decisionValue']\\\">\\r\\n                                          D : {{ getDecisionValue(rowData[\\\"decisionValue\\\"]) }}\\r\\n                                        </div>\\r\\n                                      </span>\\r\\n\\r\\n                                      <span *ngSwitchCase=\\\"'targetPn'\\\">\\r\\n                                        <span\\r\\n                                          class=\\\"custom-span custom-font-style cursor-class\\\"\\r\\n                                          (click)=\\\"openPartNumberLink(rowData['targetPn'])\\\"\\r\\n                                          >{{ rowData[\\\"targetPn\\\"] }}</span\\r\\n                                        >\\r\\n                                      </span>\\r\\n\\r\\n                                      <!-- CONTROL -->\\r\\n                                      <span *ngSwitchCase=\\\"'sentenceValue'\\\" class=\\\"custom-font-style\\\">\\r\\n                                        <div *ngIf=\\\"!!rowData['sentenceValue']\\\">\\r\\n                                          S : {{ getSentenceValue(rowData[\\\"sentenceValue\\\"], true) }}\\r\\n                                        </div>\\r\\n                                        <div *ngIf=\\\"!!rowData['decisionValue']\\\">\\r\\n                                          D : {{ getDecisionValue(rowData[\\\"decisionValue\\\"], true) }}\\r\\n                                        </div>\\r\\n                                      </span>\\r\\n\\r\\n                                      <span *ngSwitchCase=\\\"'control'\\\">\\r\\n                                        <div [style.textAlign]=\\\"col.alignment\\\">\\r\\n                                          <span\\r\\n                                            *ngIf=\\\"\\r\\n                                              rowData['targetResultMatchingIcon'] === controlConfigConstants.ICON_RED\\r\\n                                            \\\"\\r\\n                                            class=\\\"alert alert--nok\\\"\\r\\n                                            title=\\\"{{ rowData['targetResultMatchingAlt'] }}\\\"\\r\\n                                          >\\r\\n                                            {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                                          </span>\\r\\n                                          <span\\r\\n                                            *ngIf=\\\"\\r\\n                                              rowData['targetResultMatchingIcon'] === controlConfigConstants.ICON_GREEN\\r\\n                                            \\\"\\r\\n                                            class=\\\"alert alert--ok\\\"\\r\\n                                            title=\\\"{{ rowData['targetResultMatchingAlt'] }}\\\"\\r\\n                                          >\\r\\n                                            {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                                          </span>\\r\\n                                        </div>\\r\\n                                      </span>\\r\\n\\r\\n                                      <span *ngSwitchDefault>{{ rowData[col.field] }}</span>\\r\\n                                    </td>\\r\\n                                  </tr>\\r\\n                                </ng-template>\\r\\n                              </p-table>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Filter -->\\r\\n    <p-overlayPanel\\r\\n      #opFilters\\r\\n      [appendTo]=\\\"'body'\\\"\\r\\n      class=\\\"aw-overlay\\\"\\r\\n      (onShow)=\\\"filtersVisible = true; showFilterOverlay = true\\\"\\r\\n      (onHide)=\\\"filtersVisible = false; showFilterOverlay = false\\\"\\r\\n    >\\r\\n      <aw-workscope-table-filters\\r\\n        *ngIf=\\\"showFilterOverlay && !!workscopeTreeData && workscopeTreeData.length > 0\\\"\\r\\n        [workscopeTreeData]=\\\"workscopeTreeData\\\"\\r\\n        [(searchCriteria)]=\\\"searchCriteria\\\"\\r\\n        [familyCodeMap]=\\\"familyCodeMap\\\"\\r\\n        (onFilter)=\\\"opFilters.hide(); filtersVisible = false; filterWithCriteria()\\\"\\r\\n        (onReset)=\\\"resetTableFilters()\\\"\\r\\n      ></aw-workscope-table-filters>\\r\\n    </p-overlayPanel>\\r\\n  </div>\\r\\n\\r\\n  <aw-load-workscope-popup\\r\\n    *ngIf=\\\"showLoadWorkscopePopup\\\"\\r\\n    [(display)]=\\\"showLoadWorkscopePopup\\\"\\r\\n    (onEquipmentLoad)=\\\"loadEquipment()\\\"\\r\\n  ></aw-load-workscope-popup>\\r\\n\\r\\n  <aw-workscope-import-popup\\r\\n    *ngIf=\\\"showWorkscopeImportPopup\\\"\\r\\n    [(display)]=\\\"showWorkscopeImportPopup\\\"\\r\\n    (refresh)=\\\"refreshOnImport($event)\\\"\\r\\n  ></aw-workscope-import-popup>\\r\\n</div>\\r\\n\"","module.exports = \".display--flex-column {\\n  display: flex !important;\\n  flex-direction: column !important; }\\n\\n.display--flex-row {\\n  display: flex !important;\\n  flex-direction: row !important; }\\n\\n.display--none {\\n  display: none !important; }\\n\\n.height--100 {\\n  height: 100%; }\\n\\n.min-width--fit-content {\\n  min-width: -webkit-fit-content !important;\\n  min-width: -moz-fit-content !important;\\n  min-width: fit-content !important; }\\n\\n.position--relative {\\n  position: relative !important; }\\n\\n.scroll-y--none {\\n  overflow-y: hidden !important; }\\n\\n.text--unselectable {\\n  -webkit-user-select: none !important;\\n     -moz-user-select: none !important;\\n      -ms-user-select: none !important;\\n          user-select: none !important; }\\n\\n.visibility--hidden {\\n  visibility: hidden !important; }\\n\\n.width--10 {\\n  width: 10%; }\\n\\n.width--20 {\\n  width: 20%; }\\n\\n.width--30 {\\n  width: 30%; }\\n\\n.width--40 {\\n  width: 50%; }\\n\\n.width--50 {\\n  width: 50%; }\\n\\n.width--60 {\\n  width: 60%; }\\n\\n.width--70 {\\n  width: 70%; }\\n\\n.width--80 {\\n  width: 80%; }\\n\\n.width--90 {\\n  width: 90%; }\\n\\n.width--100 {\\n  width: 100%; }\\n\\n.flex--1 {\\n  flex: 1 !important; }\\n\\n.flex--2 {\\n  flex: 2 !important; }\\n\\n.flex--3 {\\n  flex: 3 !important; }\\n\\n.flex--4 {\\n  flex: 4 !important; }\\n\\n.flex--5 {\\n  flex: 5 !important; }\\n\\n.flex--auto {\\n  flex: auto !important; }\\n\\n.flex-row--align-center {\\n  align-items: center !important; }\\n\\n.flex-row--align-end {\\n  align-items: flex-end !important; }\\n\\n.flex-row--align-start {\\n  align-items: flex-start !important; }\\n\\n.flex-row--justify-center {\\n  justify-content: center !important; }\\n\\n.flex-row--justify-end {\\n  justify-content: flex-end !important; }\\n\\n.flex-row--justify-start {\\n  justify-content: flex-start !important; }\\n\\n:host .list-with-details .details,\\n:host .list-with-details .list {\\n  max-height: 50rem; }\\n\\n:host .list-with-details .details {\\n  flex-grow: 1; }\\n\\n:host .list-with-details .details .item-structure-node-action-list {\\n    justify-content: flex-end; }\\n\\n:host .list-with-details .details .item-structure-node-action-list > button {\\n      margin-right: 8px; }\\n\\n:host .list-with-details .details .item-structure-node-action-list > button:last-of-type {\\n        margin-right: 0; }\\n\\n:host .list-with-details .details .item-structure-node-image > img {\\n    max-width: 100%;\\n    min-width: 100%; }\\n\\n:host .list-with-details .list {\\n  min-width: 25rem; }\\n\\n:host ::ng-deep .chapter {\\n  display: inline-block;\\n  color: #01579b;\\n  font-weight: 600; }\\n\\n:host ::ng-deep .info {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap; }\\n\\n:host .illustration {\\n  text-align: center; }\\n\\n:host .img-class {\\n  max-height: 6rem;\\n  cursor: pointer; }\\n\\n:host .loader {\\n  position: absolute;\\n  right: 2em;\\n  z-index: 1000;\\n  top: 1.5em; }\\n\\n:host .padding-class {\\n  padding-left: 0.5em; }\\n\\n:host .custom-span {\\n  color: #01579b; }\\n\\n:host .custom-field-padding {\\n  padding-top: 0.6em !important; }\\n\\n:host .text-align-center {\\n  text-align: center; }\\n\\n:host .alert {\\n  display: inline-block;\\n  max-width: 7rem;\\n  text-transform: uppercase;\\n  width: 100%;\\n  font-weight: 600;\\n  text-align: center;\\n  width: 5rem;\\n  margin-left: 0.6em; }\\n\\n:host .alert.alert--ok {\\n    background-color: #4caf50; }\\n\\n:host .alert.alert--warning {\\n    background-color: #ffc107; }\\n\\n:host .alert.alert--nok {\\n    background-color: #f6685e; }\\n\\n:host .custom-span {\\n  color: #01579b; }\\n\\n:host .code {\\n  display: inline-table; }\\n\\n:host .top {\\n  margin-bottom: 2em;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap; }\\n\\n:host ::ng-deep .name {\\n  font-style: italic;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  max-width: 12em; }\\n\\n:host ::ng-deep .custom-checkbox {\\n  margin-top: 0 !important;\\n  cursor: pointer; }\\n\\n:host .cursor-class {\\n  cursor: pointer !important; }\\n\\n:host .action-buttons {\\n  display: flex;\\n  float: right; }\\n\\n:host .custom-row {\\n  display: flex;\\n  padding-bottom: 1em; }\\n\\n:host .expanded-img-class {\\n  max-width: 100em;\\n  max-height: 50em; }\\n\\n:host .custom-padding {\\n  margin-right: 1em !important; }\\n\\n:host .progress-bar-width {\\n  margin-left: auto;\\n  margin-right: auto; }\\n\\n:host .show-more-margin {\\n  margin-left: 1em !important; }\\n\\n:host #breadcrumbs-status {\\n  overflow: hidden;\\n  display: flex; }\\n\\n:host ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none; }\\n\\n:host .breadcrumbs {\\n  display: flex;\\n  flex-grow: 1; }\\n\\n:host .bread-crumb-custom-cell {\\n  background-color: transparent !important;\\n  border-color: transparent !important;\\n  box-shadow: none !important;\\n  padding-bottom: 0 !important; }\\n\\n:host #breadcrumbs-status li {\\n  float: left;\\n  margin: 0 1em 0 1em; }\\n\\n:host #breadcrumbs-status .current {\\n  float: left;\\n  margin: 0 1em 0 1em; }\\n\\n:host #breadcrumbs-status .statusLabel {\\n  background: #ffffff;\\n  padding: 0.3em 1em;\\n  float: left;\\n  text-decoration: none;\\n  color: #000;\\n  position: relative;\\n  white-space: nowrap;\\n  min-height: 3em; }\\n\\n:host #breadcrumbs-status .current .statusLabel {\\n  background: #01579b; }\\n\\n:host #breadcrumbs-status .statusLabel::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 50%;\\n  margin-top: -1.5em;\\n  border-width: 1.5em 0 1.5em 1em;\\n  border-style: solid;\\n  border-color: #ffffff #ffffff #ffffff transparent;\\n  left: -1em; }\\n\\n:host #breadcrumbs-status .current .statusLabel::before {\\n  border-color: #01579b #01579b #01579b transparent; }\\n\\n:host #breadcrumbs-status .statusLabel::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 50%;\\n  margin-top: -1.5em;\\n  border-top: 1.5em solid transparent;\\n  border-bottom: 1.5em solid transparent;\\n  border-left: 1em solid #ffffff;\\n  right: -1em; }\\n\\n:host #breadcrumbs-status .current .statusLabel::after {\\n  border-left-color: #01579b; }\\n\\n:host #breadcrumbs-status .current .statusLabel {\\n  color: white;\\n  font-weight: bold; }\\n\\n:host #breadcrumbs-status .current::after,\\n:host #breadcrumbs-status .current::before {\\n  content: normal; }\\n\\n:host ::ng-deep .added .ui-state-active {\\n  border-color: #4caf50 !important;\\n  background: #4caf50 !important; }\\n\\n:host ::ng-deep .removed .ui-chkbox-box:not(.ui-state-disabled) {\\n  border-color: #f6685e !important; }\\n\\n:host ::ng-deep .custom-filter-class {\\n  flex-grow: 0 !important;\\n  padding-right: 2% !important; }\\n\\n:host .custom-font {\\n  font-weight: bold; }\\n\\n:host .version-draft {\\n  color: #000 !important;\\n  background: #ffc107 !important; }\\n\\n:host .version-approved {\\n  color: #000 !important;\\n  background: #4caf50 !important; }\\n\\n:host .version {\\n  margin: auto;\\n  width: 65%;\\n  font-size: x-small; }\\n\\n:host .version-content {\\n  padding: 0.2em 0 0.2em 0; }\\n\\n:host .btn-custom {\\n  margin-left: auto;\\n  margin-right: 0; }\\n\\n:host .btn-custom button,\\n:host .btn-custom a {\\n  color: #fff !important; }\\n\\n:host .btn-custom .btn-upgrade {\\n  background-color: #ffc107 !important; }\\n\\n:host .btn-custom .btn-approve {\\n  background-color: #4caf50 !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9jb2NrcGl0LXdvcmtzY29wZS9mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcc3R5bGVzXFxfbW9kaWZpZXJzLnNjc3MiLCJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2UvY29ja3BpdC13b3Jrc2NvcGUvZm9ybS9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcbWFpbnRlbmFuY2VcXGNvY2twaXQtd29ya3Njb3BlXFxmb3JtXFxjb2NrcGl0LXdvcmtzY29wZS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL21haW50ZW5hbmNlL2NvY2twaXQtd29ya3Njb3BlL2Zvcm0vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHdCQUF3QjtFQUN4QixpQ0FBaUMsRUFBQTs7QUFHbkM7RUFDRSx3QkFBd0I7RUFDeEIsOEJBQThCLEVBQUE7O0FBR2hDO0VBQ0Usd0JBQXdCLEVBQUE7O0FBRzFCO0VBQ0UsWUFBWSxFQUFBOztBQUdkO0VBQ0UseUNBQWlDO0VBQWpDLHNDQUFpQztFQUFqQyxpQ0FBaUMsRUFBQTs7QUFHbkM7RUFDRSw2QkFBNkIsRUFBQTs7QUFHL0I7RUFDRSw2QkFBNkIsRUFBQTs7QUFHL0I7RUFDRSxvQ0FBNEI7S0FBNUIsaUNBQTRCO01BQTVCLGdDQUE0QjtVQUE1Qiw0QkFBNEIsRUFBQTs7QUFHOUI7RUFDRSw2QkFBNkIsRUFBQTs7QUFHL0I7RUFDRSxVQUFVLEVBQUE7O0FBR1o7RUFDRSxVQUFVLEVBQUE7O0FBR1o7RUFD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QyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9jb2NrcGl0LXdvcmtzY29wZS9mb3JtL2NvY2twaXQtd29ya3Njb3BlLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGlzcGxheS0tZmxleC1jb2x1bW4ge1xyXG4gIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5kaXNwbGF5LS1mbGV4LXJvdyB7XHJcbiAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3cgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmRpc3BsYXktLW5vbmUge1xyXG4gIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmhlaWdodC0tMTAwIHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5taW4td2lkdGgtLWZpdC1jb250ZW50IHtcclxuICBtaW4td2lkdGg6IGZpdC1jb250ZW50ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5wb3NpdGlvbi0tcmVsYXRpdmUge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uc2Nyb2xsLXktLW5vbmUge1xyXG4gIG92ZXJmbG93LXk6IGhpZGRlbiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udGV4dC0tdW5zZWxlY3RhYmxlIHtcclxuICB1c2VyLXNlbGVjdDogbm9uZSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udmlzaWJpbGl0eS0taGlkZGVuIHtcclxuICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcclxufVxyXG5cclxuLndpZHRoLS0xMCB7XHJcbiAgd2lkdGg6IDEwJTtcclxufVxyXG5cclxuLndpZHRoLS0yMCB7XHJcbiAgd2lkdGg6IDIwJTtcclxufVxyXG5cclxuLndpZHRoLS0zMCB7XHJcbiAgd2lkdGg6IDMwJTtcclxufVxyXG5cclxuLndpZHRoLS00MCB7XHJcbiAgd2lkdGg6IDUwJTtcclxufVxyXG5cclxuLndpZHRoLS01MCB7XHJcbiAgd2lkdGg6IDUwJTtcclxufVxyXG5cclxuLndpZHRoLS02MCB7XHJcbiAgd2lkdGg6IDYwJTtcclxufVxyXG5cclxuLndpZHRoLS03MCB7XHJcbiAgd2lkdGg6IDcwJTtcclxufVxyXG5cclxuLndpZHRoLS04MCB7XHJcbiAgd2lkdGg6IDgwJTtcclxufVxyXG5cclxuLndpZHRoLS05MCB7XHJcbiAgd2lkdGg6IDkwJTtcclxufVxyXG5cclxuLndpZHRoLS0xMDAge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4uZmxleC0tMSB7XHJcbiAgZmxleDogMSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZmxleC0tMiB7XHJcbiAgZmxleDogMiAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZmxleC0tMyB7XHJcbiAgZmxleDogMyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZmxleC0tNCB7XHJcbiAgZmxleDogNCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZmxleC0tNSB7XHJcbiAgZmxleDogNSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZmxleC0tYXV0byB7XHJcbiAgZmxleDogYXV0byAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZmxleC1yb3ctLWFsaWduLWNlbnRlciB7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZmxleC1yb3ctLWFsaWduLWVuZCB7XHJcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5mbGV4LXJvdy0tYWxpZ24tc3RhcnQge1xyXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5mbGV4LXJvdy0tanVzdGlmeS1jZW50ZXIge1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5mbGV4LXJvdy0tanVzdGlmeS1lbmQge1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmZsZXgtcm93LS1qdXN0aWZ5LXN0YXJ0IHtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQgIWltcG9ydGFudDtcclxufVxyXG4iLCJAaW1wb3J0IFwiY29uc3RhbnRzXCI7XHJcbkBpbXBvcnQgXCJtaXhpbnNcIjtcclxuQGltcG9ydCBcIm1vZGlmaWVyc1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5saXN0LXdpdGgtZGV0YWlscyB7XHJcbiAgICAuZGV0YWlscyxcclxuICAgIC5saXN0IHtcclxuICAgICAgbWF4LWhlaWdodDogNTByZW07XHJcbiAgICB9XHJcblxyXG4gICAgLmRldGFpbHMge1xyXG4gICAgICBmbGV4LWdyb3c6IDE7XHJcblxyXG4gICAgICAuaXRlbS1zdHJ1Y3R1cmUtbm9kZS1hY3Rpb24tbGlzdCB7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAgICAgJiA+IGJ1dHRvbiB7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgICAgICAgJjpsYXN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuaXRlbS1zdHJ1Y3R1cmUtbm9kZS1pbWFnZSB7XHJcbiAgICAgICAgJiA+IGltZyB7XHJcbiAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBtaW4td2lkdGg6IDEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmxpc3Qge1xyXG4gICAgICBtaW4td2lkdGg6IDI1cmVtO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgOjpuZy1kZWVwIC5jaGFwdGVyIHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGNvbG9yOiAjMDE1NzliO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCAuaW5mbyB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gIH1cclxuXHJcbiAgLmlsbHVzdHJhdGlvbiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAuaW1nLWNsYXNzIHtcclxuICAgIG1heC1oZWlnaHQ6IDZyZW07XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICAubG9hZGVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAyZW07XHJcbiAgICB6LWluZGV4OiAxMDAwO1xyXG4gICAgdG9wOiAxLjVlbTtcclxuICB9XHJcblxyXG4gIC5wYWRkaW5nLWNsYXNzIHtcclxuICAgIHBhZGRpbmctbGVmdDogMC41ZW07XHJcbiAgfVxyXG5cclxuICAuY3VzdG9tLXNwYW4ge1xyXG4gICAgY29sb3I6ICMwMTU3OWI7XHJcbiAgfVxyXG5cclxuICAuY3VzdG9tLWZpZWxkLXBhZGRpbmcge1xyXG4gICAgcGFkZGluZy10b3A6IDAuNmVtICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAudGV4dC1hbGlnbi1jZW50ZXIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLmFsZXJ0IHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIG1heC13aWR0aDogN3JlbTtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiAwLjZlbTtcclxuXHJcbiAgICAmLmFsZXJ0LS1vayB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0td2FybmluZyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0tbm9rIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuY3VzdG9tLXNwYW4ge1xyXG4gICAgY29sb3I6ICMwMTU3OWI7XHJcbiAgfVxyXG5cclxuICAuY29kZSB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtdGFibGU7XHJcbiAgfVxyXG5cclxuICAudG9wIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDJlbTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgLm5hbWUge1xyXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgIG1heC13aWR0aDogMTJlbTtcclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCAuY3VzdG9tLWNoZWNrYm94IHtcclxuICAgIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcblxyXG4gIC5jdXJzb3ItY2xhc3Mge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuYWN0aW9uLWJ1dHRvbnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICB9XHJcblxyXG4gIC5jdXN0b20tcm93IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMWVtO1xyXG4gIH1cclxuXHJcbiAgLmV4cGFuZGVkLWltZy1jbGFzcyB7XHJcbiAgICBtYXgtd2lkdGg6IDEwMGVtO1xyXG4gICAgbWF4LWhlaWdodDogNTBlbTtcclxuICB9XHJcblxyXG4gIC5jdXN0b20tcGFkZGluZyB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDFlbSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLnByb2dyZXNzLWJhci13aWR0aCB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICB9XHJcblxyXG4gIC5zaG93LW1vcmUtbWFyZ2luIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxZW0gIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC8vIEJyZWFkY3J1bWJcclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gIH1cclxuXHJcbiAgdWwge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAuYnJlYWRjcnVtYnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxuICB9XHJcblxyXG4gIC5icmVhZC1jcnVtYi1jdXN0b20tY2VsbCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG4gICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gICNicmVhZGNydW1icy1zdGF0dXMgbGkge1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW46IDAgMWVtIDAgMWVtO1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuY3VycmVudCB7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIG1hcmdpbjogMCAxZW0gMCAxZW07XHJcbiAgfVxyXG5cclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5zdGF0dXNMYWJlbCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gICAgcGFkZGluZzogMC4zZW0gMWVtO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBtaW4taGVpZ2h0OiAzZW07XHJcbiAgfVxyXG5cclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5jdXJyZW50IC5zdGF0dXNMYWJlbCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAkYWNjZW50LWNvbG9yO1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuc3RhdHVzTGFiZWw6OmJlZm9yZSB7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBtYXJnaW4tdG9wOiAtMS41ZW07XHJcbiAgICBib3JkZXItd2lkdGg6IDEuNWVtIDAgMS41ZW0gMWVtO1xyXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgIGJvcmRlci1jb2xvcjogI2ZmZmZmZiAjZmZmZmZmICNmZmZmZmYgdHJhbnNwYXJlbnQ7XHJcbiAgICBsZWZ0OiAtMWVtO1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuY3VycmVudCAuc3RhdHVzTGFiZWw6OmJlZm9yZSB7XHJcbiAgICBib3JkZXItY29sb3I6ICRhY2NlbnQtY29sb3IgJGFjY2VudC1jb2xvciAkYWNjZW50LWNvbG9yIHRyYW5zcGFyZW50O1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuc3RhdHVzTGFiZWw6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIG1hcmdpbi10b3A6IC0xLjVlbTtcclxuICAgIGJvcmRlci10b3A6IDEuNWVtIHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMS41ZW0gc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItbGVmdDogMWVtIHNvbGlkICNmZmZmZmY7XHJcbiAgICByaWdodDogLTFlbTtcclxuICB9XHJcblxyXG4gICNicmVhZGNydW1icy1zdGF0dXMgLmN1cnJlbnQgLnN0YXR1c0xhYmVsOjphZnRlciB7XHJcbiAgICBib3JkZXItbGVmdC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICB9XHJcblxyXG4gICNicmVhZGNydW1icy1zdGF0dXMgLmN1cnJlbnQgLnN0YXR1c0xhYmVsIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuY3VycmVudDo6YWZ0ZXIsXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuY3VycmVudDo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6IG5vcm1hbDtcclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCAuYWRkZWQgLnVpLXN0YXRlLWFjdGl2ZSB7XHJcbiAgICBib3JkZXItY29sb3I6ICRncmVlbi1saWdodDEgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQ6ICRncmVlbi1saWdodDEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCAucmVtb3ZlZCAudWktY2hrYm94LWJveDpub3QoLnVpLXN0YXRlLWRpc2FibGVkKSB7XHJcbiAgICBib3JkZXItY29sb3I6ICRyZWQtbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgLmN1c3RvbS1maWx0ZXItY2xhc3Mge1xyXG4gICAgZmxleC1ncm93OiAwICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAyJSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmN1c3RvbS1mb250IHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuXHJcbiAgLnZlcnNpb24tZHJhZnQge1xyXG4gICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3IgIWltcG9ydGFudDtcclxuICAgIGJhY2tncm91bmQ6ICRvcmFuZ2UgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC52ZXJzaW9uLWFwcHJvdmVkIHtcclxuICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yICFpbXBvcnRhbnQ7XHJcbiAgICBiYWNrZ3JvdW5kOiAkZ3JlZW4tbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAudmVyc2lvbiB7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICB3aWR0aDogNjUlO1xyXG4gICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gIH1cclxuXHJcbiAgLnZlcnNpb24tY29udGVudCB7XHJcbiAgICBwYWRkaW5nOiAwLjJlbSAwIDAuMmVtIDA7XHJcbiAgfVxyXG5cclxuICAuYnRuLWN1c3RvbSB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogMDtcclxuICB9XHJcblxyXG4gIC5idG4tY3VzdG9tIGJ1dHRvbixcclxuICAuYnRuLWN1c3RvbSBhIHtcclxuICAgIGNvbG9yOiAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuYnRuLWN1c3RvbSAuYnRuLXVwZ3JhZGUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmJ0bi1jdXN0b20gLmJ0bi1hcHByb3ZlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDEgIWltcG9ydGFudDtcclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep as _cloneDeep } from 'lodash-es';\r\nimport { MenuItem } from 'primeng/api';\r\nimport { Observable, Subject, forkJoin } from 'rxjs';\r\nimport { debounceTime, finalize, takeUntil } from 'rxjs/operators';\r\n\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ControlConfigConstants } from '../../../../shared/constants/control-config-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { CockpitInspectionInput } from '../../../../shared/types/api-input-types/maintenance-component-cockpit/cockpit-inspection-input-dto.interface';\r\nimport { SaveWorkscopeInput } from '../../../../shared/types/api-input-types/maintenance-component-cockpit/save-workscope-input.interface';\r\nimport { BireItemForWorkscopeTreeDTO } from '../../../../shared/types/api-output-types/workscope-component/bire-item-for-workscope-tree-dto.interface';\r\nimport { WorkscopeTreeData } from '../../../../shared/types/api-output-types/workscope-component/workscope-tree-data-output';\r\nimport { BidoEquipmentDTOId } from '../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BireItemDTOId } from '../../../../shared/types/api-types/bire-item-dto-id.interface';\r\nimport { BireItemDTO } from '../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireVersionPnDTO } from '../../../../shared/types/api-types/bire-version-pn-dto.interface';\r\nimport { BsdeProjectDTO } from '../../../../shared/types/api-types/bsde-project-dto.interface';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { BidoFamilyVariantUtils } from '../../../../shared/utils/bido-family-variant-utils';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\n\r\nimport { CockpitWorkscopeFormService } from './cockpit-workscope-form.service';\r\nimport { BreadcrumbsLabel } from './shared/types/breadcrumbs-label.interface';\r\n\r\ninterface WorkscopeInformationInterface {\r\n  versionNumber?: number;\r\n  status?: string;\r\n  lastUpdate?: string;\r\n  approveItem?: number;\r\n  removeItem?: number;\r\n  draftItem?: number;\r\n  lastUpdateDate?: Date;\r\n}\r\ninterface WorkscopeInventoryDTO {\r\n  rowIndex: number;\r\n  pn?: string;\r\n  sn?: string;\r\n  woCode?: string;\r\n  woId?: string;\r\n  woProjectId?: string;\r\n  quantity?: string;\r\n  currentOpeProgress?: number;\r\n  workScopingOrder?: string;\r\n  workScopingOrderId?: string;\r\n  trackingNumber?: string;\r\n  sentenceValue?: string;\r\n  decisionValue?: string;\r\n  tn?: string;\r\n  icon?: string;\r\n  serialized?: boolean;\r\n  progress?: number;\r\n  targetResultMatchingIcon?: string;\r\n  targetResultMatchingAlt?: string;\r\n}\r\ninterface WorkscopeTableFilter {\r\n  selectedSerialize?: number[];\r\n  selectedWorkscope?: number[];\r\n  family?: string;\r\n  item?: string;\r\n  sn?: string;\r\n  pn?: string;\r\n  woCode?: string;\r\n  designation?: string;\r\n  impact?: string;\r\n  functionCode?: string;\r\n}\r\n\r\ninterface NodeInterface {\r\n  parent?: NodeInterface;\r\n  node?: NodeInterface;\r\n  data?: BireItemForWorkscopeTreeDTO;\r\n  children?: NodeInterface[];\r\n  bireItemDTO?: BireItemDTO;\r\n}\r\n\r\ninterface BreadcrumbsInventoryLabel extends BreadcrumbsLabel {\r\n  bireItem?: BireItemForWorkscopeTreeDTO;\r\n  isFromInspection?: boolean;\r\n  isAddInventory?: boolean;\r\n  inventoryList?: WorkscopeInventoryDTO[];\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-cockpit-workscope-form',\r\n  styleUrls: ['./cockpit-workscope-form.component.scss'],\r\n  templateUrl: './cockpit-workscope-form.component.html'\r\n})\r\nexport class CockpitWorkscopeFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  private static readonly SEARCH_TEXT_DEBOUNCE_TIME: number = 500;\r\n  private static readonly ALL: number = 0;\r\n  private static readonly ADDED: number = 1;\r\n  private static readonly DELETED: number = 2;\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  public draft: string;\r\n  public approved: string;\r\n\r\n  public bsdeProjectDTO: BsdeProjectDTO;\r\n  public panelLoading: boolean;\r\n  public tableLoading: boolean;\r\n  public subtitle: string;\r\n  public familyCodeMap: Map<string, string>;\r\n  public mroCenter: string | undefined;\r\n  private mroCenters: LabelValue<string>[];\r\n  private customerList: LabelValue<string>[];\r\n  public breadcrumbsList: BreadcrumbsLabel[];\r\n  public breadcrumbsSelectedItem: BreadcrumbsLabel;\r\n\r\n  // Tree Params\r\n  public workscopeStructure: WorkscopeTreeData[]; // ngModel\r\n  public modifiedWorkscopeTreeData: WorkscopeTreeData[]; // copy of data with modifications\r\n  public workscopeTreeData: WorkscopeTreeData[]; // DB copy\r\n\r\n  public workscopeTreeDataInDBByItemKeyMap: Map<String, WorkscopeTreeData>;\r\n  public workscopeTreeDataFromUIByItemKeyMap: Map<String, WorkscopeTreeData>;\r\n  public workscopeTreeDataFromStagedByItemKeyMap: Map<String, WorkscopeTreeData>;\r\n\r\n  public workscopeTableCols: TableColumn[];\r\n  public technicalQuotationCols: TableColumn[];\r\n  public showLoadWorkscopePopup: boolean;\r\n  public showAddEditInventory: boolean;\r\n  public isFromInspection: boolean = false;\r\n  public selectedWorkscope: BireItemForWorkscopeTreeDTO | undefined;\r\n  public isAddInventory: boolean;\r\n  public isNewInventoryAdded: boolean;\r\n  public showChanges: boolean;\r\n  public selectedChangeFilter: number = 0;\r\n  public changeFilterList: LabelValue<number>[];\r\n  public searchGlobalFilter: string;\r\n  public searchSubAssemblyGlobalFilterChanged: Subject<string>;\r\n  public bidoEquipmentDTO: BidoEquipmentDTO;\r\n  public workscopeInformationObject: WorkscopeInformationInterface;\r\n  public familyVariants: LabelValue<string>[];\r\n\r\n  public inventories: WorkscopeInventoryDTO[] = [];\r\n  public filtersVisible: boolean;\r\n  public showFilterOverlay: boolean;\r\n  public showSaveSpinner: boolean;\r\n\r\n  public searchCriteria: WorkscopeTableFilter;\r\n  public isApprove: boolean;\r\n  public loadWorkscopeList: MenuItem[];\r\n  public showWorkscopeImportPopup: boolean;\r\n\r\n  public showFilterButtons: boolean;\r\n\r\n  // Information about item selection, and inventory selection\r\n  public isLineSelected: boolean;\r\n  public selectedInventories: WorkscopeInventoryDTO[];\r\n  public decisionList: LabelValue<string>[];\r\n  public sentenceList: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public translateService: TranslateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly cockpitWorkscopeFormService: CockpitWorkscopeFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    public readonly sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n    this.familyCodeMap = new Map<string, string>();\r\n    this.renderTreeTableColumns(false);\r\n    this.familyVariants = [];\r\n    this.loadFamilyCodes();\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_COCKPIT_WORKSCOPE_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    if (!!this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n    }\r\n    this.setSearchSentenceDecisionList();\r\n    this.init();\r\n    this.loadMROCenter();\r\n    this.loadFamilyVariants();\r\n\r\n    this.changeFilterList = [\r\n      { value: CockpitWorkscopeFormComponent.ALL, label: this.translateService.instant(this.getTranslateKey('all')) },\r\n      {\r\n        value: CockpitWorkscopeFormComponent.ADDED,\r\n        label: this.translateService.instant(this.getTranslateKey('added'))\r\n      },\r\n      {\r\n        value: CockpitWorkscopeFormComponent.DELETED,\r\n        label: this.translateService.instant(this.getTranslateKey('deleted'))\r\n      }\r\n    ];\r\n\r\n    this.draft = this.translateService.instant(this.getTranslateKey('draft'));\r\n    this.approved = this.translateService.instant(this.getTranslateKey('approve'));\r\n  }\r\n\r\n  /**********************************\r\n   * FILTER FUNCTIONALITY\r\n   **********************************/\r\n  public resetTableFilters() {\r\n    this.searchGlobalFilter = '';\r\n    this.searchCriteria = {};\r\n  }\r\n\r\n  private setControlGlobalFilter(): void {\r\n    this.resetTableFilters();\r\n    this.searchSubAssemblyGlobalFilterChanged = new Subject();\r\n    this.searchSubAssemblyGlobalFilterChanged\r\n      .pipe(debounceTime(CockpitWorkscopeFormComponent.SEARCH_TEXT_DEBOUNCE_TIME), takeUntil(this.unsubscribe))\r\n      .subscribe(() => {\r\n        this.changeFilter();\r\n      });\r\n  }\r\n\r\n  /**********************************\r\n   * INITIALIZATION\r\n   **********************************/\r\n  private init() {\r\n    this.bsdeProjectDTO = {};\r\n    this.bidoEquipmentDTO = {};\r\n    this.workscopeInformationObject = {};\r\n    this.workscopeStructure = [];\r\n    this.mroCenters = [];\r\n    this.customerList = [];\r\n    this.breadcrumbsList = [];\r\n    this.modifiedWorkscopeTreeData = [];\r\n    this.selectedWorkscope = {};\r\n    this.searchCriteria = {};\r\n    this.showLoadWorkscopePopup = false;\r\n\r\n    this.workscopeTreeDataInDBByItemKeyMap = new Map<String, WorkscopeTreeData>();\r\n    this.workscopeTreeDataFromUIByItemKeyMap = new Map<String, WorkscopeTreeData>();\r\n    this.workscopeTreeDataFromStagedByItemKeyMap = new Map<String, WorkscopeTreeData>();\r\n\r\n    this.loadWorkscopeList = [\r\n      {\r\n        label: this.translateService.instant(this.getTranslateKey('fromFleetManagement')) as string,\r\n        command: () => {\r\n          this.loadWorkscope();\r\n        }\r\n      },\r\n      {\r\n        label: this.translateService.instant(this.getTranslateKey('fromExcel')) as string,\r\n        command: () => {\r\n          this.loadFromExcel();\r\n        }\r\n      }\r\n    ];\r\n  }\r\n\r\n  public refresh() {\r\n    this.init();\r\n    this.loadMROCenter();\r\n    this.loadFamilyVariants();\r\n  }\r\n\r\n  private loadMROCenter(): void {\r\n    // Load dropdowns\r\n    const observables: Observable<LabelValue<string>[]>[] = [\r\n      this.cockpitWorkscopeFormService.findMROCenter(),\r\n      this.cockpitWorkscopeFormService.findAllCustomers()\r\n    ];\r\n\r\n    forkJoin(observables).subscribe((results) => {\r\n      this.mroCenters = results[0] || [];\r\n      this.customerList = results[1] || [];\r\n    });\r\n  }\r\n\r\n  public loadEquipment(): void {\r\n    if (!!this.componentData && !!this.componentData.objectId) {\r\n      const input: CockpitInspectionInput = {\r\n        projectNumber: this.serializationService.deserialize(this.componentData.objectId) as number\r\n      };\r\n      this.cockpitWorkscopeFormService.loadWorkshopScopeByProjectNumber(input).subscribe((res) => {\r\n        this.showLoadWorkscopePopup = false;\r\n        this.refresh();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**********************************\r\n   * TREE TABLE COLUMNS\r\n   **********************************/\r\n  private renderTreeTableColumns(selected: boolean) {\r\n    if (selected) {\r\n      this.workscopeTableCols = [\r\n        { field: 'item', alignment: 'left', width: '20%' },\r\n        { field: 'itemFamily', alignment: 'left', width: '10%' },\r\n        { field: 'workscope', alignment: 'center', width: '10%' },\r\n        { field: 'relatedVersion', alignment: 'center', width: '10%' },\r\n        { field: 'impacts', alignment: 'left', width: '10%' },\r\n        { field: 'quantity', alignment: 'left', width: '10%' }\r\n      ];\r\n    } else {\r\n      this.workscopeTableCols = [\r\n        { field: 'item', alignment: 'left', width: '20%' },\r\n        { field: 'itemFamily', alignment: 'left', width: '10%' },\r\n        { field: 'workscope', alignment: 'center', width: '10%' },\r\n        { field: 'relatedVersion', alignment: 'center', width: '10%' },\r\n        { field: 'impacts', alignment: 'left', width: '10%' },\r\n        { field: 'quantity', alignment: 'left', width: '10%' },\r\n        { field: 'inventories', alignment: 'left', width: '20%' },\r\n        { field: 'workOrder', alignment: 'center', width: '10%' }\r\n      ];\r\n    }\r\n    this.technicalQuotationCols = [\r\n      { field: 'equipment', alignment: 'left', width: '25%' },\r\n      { field: 'sentenceValue', alignment: 'left', width: '25%' },\r\n      { field: 'targetPn', alignment: 'left', width: '20%' },\r\n      { field: 'quantity', alignment: 'center', width: '10%' },\r\n      { field: 'control', alignment: 'center', width: '20%' }\r\n    ];\r\n  }\r\n\r\n  /**********************************\r\n   * FETCH PROJECT DETAILS\r\n   **********************************/\r\n  private fetchProjectDetails() {\r\n    if (!!this.componentData && !!this.componentData.objectId) {\r\n      const projectNumber = this.serializationService.deserialize(this.componentData.objectId) as number;\r\n      this.panelLoading = true;\r\n\r\n      this.cockpitWorkscopeFormService\r\n        .findBsdeProjectByProjectNumber(projectNumber)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.panelLoading = false;\r\n          })\r\n        )\r\n        .subscribe((bsdeProjectDTO) => {\r\n          if (bsdeProjectDTO) {\r\n            const mroCenteObj = this.mroCenters.filter((res) => res.value === bsdeProjectDTO.repairCenterCode)[0];\r\n            const customerObj = this.customerList.filter((res) => res.value === bsdeProjectDTO.customerCode)[0];\r\n            this.mroCenter = mroCenteObj && mroCenteObj.label;\r\n            bsdeProjectDTO.customerCode = customerObj && customerObj.label;\r\n            this.bsdeProjectDTO = bsdeProjectDTO as BsdeProjectDTO;\r\n            this.subtitle = [\r\n              !!bsdeProjectDTO && !!bsdeProjectDTO.projectNumber ? `N° ${bsdeProjectDTO.projectNumber}` : '',\r\n              StringUtils.isNullOrEmpty(bsdeProjectDTO.projectPn) ? '' : `P/N ${bsdeProjectDTO.projectPn}`,\r\n              StringUtils.isNullOrEmpty(bsdeProjectDTO.projectSn) ? '' : `S/N ${bsdeProjectDTO.projectSn}`\r\n            ]\r\n              .filter((s) => !StringUtils.isEmpty(s))\r\n              .join(' | ');\r\n\r\n            this.displayComponentContext(this.subtitle, this.isCreateOpenMode);\r\n            this.breadcrumbsList = [];\r\n            this.getFamilyVariantData();\r\n          }\r\n          this.panelLoading = false;\r\n        });\r\n\r\n      this.tableLoading = true;\r\n      const input: CockpitInspectionInput = {\r\n        projectNumber\r\n      };\r\n      this.cockpitWorkscopeFormService\r\n        .getWorkscope(input)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.tableLoading = false;\r\n          })\r\n        )\r\n        .subscribe((result) => {\r\n          this.getWorkscopeInformation(result);\r\n          this.workscopeStructure = this.buildTree(result);\r\n          this.modifiedWorkscopeTreeData = _cloneDeep(result);\r\n          this.buildMap(this.modifiedWorkscopeTreeData, this.workscopeTreeDataFromStagedByItemKeyMap);\r\n\r\n          if (!!this.workscopeStructure && this.workscopeStructure.length > 0) {\r\n            this.workscopeStructure[0].expanded = true;\r\n          }\r\n          this.buildMap(this.workscopeStructure, this.workscopeTreeDataFromUIByItemKeyMap);\r\n\r\n          this.tableLoading = false;\r\n          this.workscopeTreeData = _cloneDeep(result);\r\n          this.buildMap(this.workscopeTreeData, this.workscopeTreeDataInDBByItemKeyMap);\r\n\r\n          this.setControlGlobalFilter();\r\n          this.resetWorkscopeCounters();\r\n          this.updateWorkscopeInformation(this.modifiedWorkscopeTreeData);\r\n        });\r\n    }\r\n  }\r\n\r\n  private getFamilyVariantData(): void {\r\n    if (!!this.bsdeProjectDTO.projectPn || !!this.bsdeProjectDTO.projectSn) {\r\n      const bidoEquipment: BidoEquipmentDTO = {\r\n        pnCode: this.bsdeProjectDTO.projectPn,\r\n        sn: this.bsdeProjectDTO.projectSn\r\n      };\r\n      this.cockpitWorkscopeFormService.findBidoEquipmentsByPnAndSn(bidoEquipment).subscribe((res) => {\r\n        this.bidoEquipmentDTO = !!res && res.length > 0 ? res[0] : {};\r\n      });\r\n    }\r\n  }\r\n\r\n  public openSNLink(): void {\r\n    if (!!this.bidoEquipmentDTO && !!this.bidoEquipmentDTO.equipmentCode) {\r\n      const functionNm = this.bidoEquipmentDTO.equipmentFunction || AWPropertiesConstants.FAMILY_FUNCTION_TOOL_KEY;\r\n      this.openEquipment(this.bidoEquipmentDTO.equipmentCode, ComponentOpenMode.Read, functionNm);\r\n    }\r\n  }\r\n\r\n  public openEquipment(\r\n    objectId: string | undefined,\r\n    openMode: ComponentOpenMode,\r\n    functionNm: string | undefined\r\n  ): void {\r\n    let labelKey;\r\n    let componentName;\r\n    if (!functionNm || functionNm === AWPropertiesConstants.FAMILY_FUNCTION_MAJOR_EQUIPMENT_KEY) {\r\n      labelKey = `transaction.${ComponentConstants.FLE_EQUIPMENT_FORM}`;\r\n      componentName = ComponentConstants.FLE_EQUIPMENT_FORM;\r\n    } else {\r\n      if (functionNm === AWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY) {\r\n        labelKey = `transaction.${ComponentConstants.FLE_ENGINE_FORM}`;\r\n        componentName = ComponentConstants.FLE_ENGINE_FORM;\r\n      } else if (functionNm === AWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY) {\r\n        labelKey = `transaction.${ComponentConstants.FLE_AIRCRAFT_FORM}`;\r\n        componentName = ComponentConstants.FLE_AIRCRAFT_FORM;\r\n      } else if (functionNm === AWPropertiesConstants.FAMILY_FUNCTION_TOOL_KEY) {\r\n        labelKey = `transaction.${ComponentConstants.LOG_TOOL_FORM}`;\r\n        componentName = ComponentConstants.LOG_TOOL_FORM;\r\n      } else {\r\n        // Open Equipment By default for other cases\r\n        labelKey = `transaction.${ComponentConstants.FLE_EQUIPMENT_FORM}`;\r\n        componentName = ComponentConstants.FLE_EQUIPMENT_FORM;\r\n      }\r\n    }\r\n\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: componentName,\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode: objectId\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  /**********************************\r\n   * OPEN PART NUMBER LINK\r\n   **********************************/\r\n  public openPartNumberLink(): void {\r\n    if (!!this.bidoEquipmentDTO) {\r\n      const bireVersionPnDTO: BireVersionPnDTO = {\r\n        subject: this.bidoEquipmentDTO.subject,\r\n        sheet: this.bidoEquipmentDTO.sheet,\r\n        marks: this.bidoEquipmentDTO.marks,\r\n        chapter: this.bidoEquipmentDTO.chapter,\r\n        section: this.bidoEquipmentDTO.section,\r\n        pnCode: this.bsdeProjectDTO.projectPn,\r\n        familyCode: BidoFamilyVariantUtils.getFamilyCodeFromFamilyVariantCode(this.bidoEquipmentDTO.familyVariantCode),\r\n        variantCode: BidoFamilyVariantUtils.getVariantCodeFromFamilyVariantCode(\r\n          this.bidoEquipmentDTO.familyVariantCode\r\n        ),\r\n        structureType: AWPropertiesConstants.STRUCTURE_TYPE_IPC_KEY\r\n      };\r\n      this.cockpitWorkscopeFormService.getPartNumberStructure(bireVersionPnDTO as BireItemDTOId).subscribe((res) => {\r\n        if (!!res && res.length > 0) {\r\n          const partNum = res.filter(\r\n            (dto) =>\r\n              !!dto.bireVersionPnDTO &&\r\n              this.bsdeProjectDTO.projectPn === dto.bireVersionPnDTO.pnCode &&\r\n              this.bsdeProjectDTO.projectSn\r\n          );\r\n          if (!!partNum && partNum.length > 0) {\r\n            bireVersionPnDTO.isnAta = partNum[0].isn;\r\n            bireVersionPnDTO.versionNumber = partNum[0].versionNumber;\r\n            this.openItemPartNumber(bireVersionPnDTO, ComponentOpenMode.Read);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * open item part number UC\r\n   */\r\n  public openItemPartNumber(objectId: BireVersionPnDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_ITEM_PART_NUMBER_FORM,\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      data.objectId = this.serializationService.serialize(objectId);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private loadFamilyCodes() {\r\n    this.propertiesService.getValue(GenericPropertyConstants.ITEM_FAMILY_CODE_MAP).subscribe((familyCodeList) => {\r\n      const itemFamily = familyCodeList;\r\n      itemFamily.forEach((element) => {\r\n        this.familyCodeMap.set(element.value, element.label);\r\n      });\r\n    });\r\n  }\r\n\r\n  public loadFamilyVariants(): void {\r\n    this.familyVariants = [];\r\n    this.cockpitWorkscopeFormService.loadFamilyVariants().subscribe(\r\n      (results) => {\r\n        results.forEach((result) => {\r\n          const label1 = result.familyname ? result.familyname : result.familyCode;\r\n          const label2 = result.variantName ? result.variantName : result.variantCode;\r\n          const label = `${label1}-${label2}`;\r\n          const value = BidoFamilyVariantUtils.buildFamilyVariantCode(result.familyCode, result.variantCode);\r\n          if (!!label && !!value) {\r\n            const familyVariant: LabelValue<string> = {\r\n              label,\r\n              value\r\n            };\r\n            this.familyVariants.push(familyVariant);\r\n          } else {\r\n            super.throwUnboundLocalError('loadFamilyVariants', 'label && value');\r\n          }\r\n        });\r\n        this.familyVariants.sort((a, b) =>\r\n          !!a.label && !!b.label && a.label.toLowerCase() > b.label.toLowerCase() ? 1 : -1\r\n        );\r\n\r\n        this.fetchProjectDetails();\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage('errorOnLoadingFamilyVariants');\r\n      }\r\n    );\r\n  }\r\n\r\n  private buildTree(data: WorkscopeTreeData[]): WorkscopeTreeData[] {\r\n    const toReturn: WorkscopeTreeData[] = [];\r\n\r\n    data.forEach((elt: WorkscopeTreeData) => {\r\n      const eleClone = elt.data;\r\n\r\n      if (!!eleClone) {\r\n        if (!!eleClone.chapter) {\r\n          // tslint:disable-next-line:max-line-length\r\n          eleClone.item = `${eleClone.chapter}-${eleClone.section}-${eleClone.subject}-${eleClone.sheet}-${eleClone.marks}`;\r\n        }\r\n        if (!!eleClone.itemFamilyCode) {\r\n          const dto = this.familyCodeMap.get(eleClone.itemFamilyCode);\r\n          if (!!dto) {\r\n            eleClone.itemFamilyCode = dto;\r\n          }\r\n        }\r\n\r\n        if (!!eleClone.inventoriesList) {\r\n          eleClone.inventoriesList.forEach((res: WorkscopeInventoryDTO, index) => {\r\n            res.rowIndex = index;\r\n            res.sentenceValue = !!res.sentenceValue ? res.sentenceValue : undefined;\r\n            res.decisionValue = !!res.decisionValue ? res.decisionValue : undefined;\r\n            res.targetResultMatchingIcon = ControlConfigConstants.ICON_GREEN; // FIXME when back will be updated\r\n          });\r\n        }\r\n\r\n        this.updateVersionColumn(eleClone);\r\n      }\r\n\r\n      toReturn.push({\r\n        data: eleClone,\r\n        children: this.buildTree(elt.children || []),\r\n        bireItemDTO: elt.bireItemDTO\r\n      });\r\n    });\r\n\r\n    return toReturn;\r\n  }\r\n\r\n  /***********************************************\r\n   * UPDATE VERSION COLUMN\r\n   ***********************************************/\r\n  private updateVersionColumn(data: BireItemForWorkscopeTreeDTO) {\r\n    if (data.isWorkscope) {\r\n      if (!data.workscopeVersionNumber || data.workscopeVersionStatus === 0) {\r\n        data.workscopeVersionNumber = this.workscopeInformationObject.versionNumber;\r\n        data.workscopeVersionStatus = this.workscopeInformationObject.status === this.draft ? 0 : 1;\r\n      }\r\n    } else {\r\n      data.workscopeVersionNumber = undefined;\r\n      data.workscopeVersionStatus = undefined;\r\n    }\r\n  }\r\n\r\n  public cancel(): void {\r\n    if (this.isWriteOpenMode) {\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  /*********************************************\r\n   * Open Manage Configuration Screen\r\n   *********************************************/\r\n  public manageConfiguration(): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_MANAGE_CONFIGURATION_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    if (!!this.bsdeProjectDTO.projectNumber) {\r\n      data.objectId = this.serializationService.serialize(this.bsdeProjectDTO.projectNumber);\r\n    }\r\n    const labelKey = `transaction.${data.componentId}`;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  /*********************************************\r\n   * Open Manage Removal Cause Screen\r\n   *********************************************/\r\n  public manageRemovalCauses(): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_MANAGE_REMOVAL_CAUSES_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    if (!!this.bsdeProjectDTO.projectNumber) {\r\n      data.objectId = this.serializationService.serialize(this.bsdeProjectDTO.projectNumber);\r\n    }\r\n    const labelKey = `transaction.${data.componentId}`;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public loadWorkscope(): void {\r\n    this.showLoadWorkscopePopup = true;\r\n  }\r\n\r\n  /*******************************\r\n   * Add Inventory\r\n   *******************************/\r\n  public addInventory() {\r\n    this.isAddInventory = true;\r\n    this.showAddEditInventory = true;\r\n    this.breadcrumbsList = [];\r\n    this.createBreadCrumb(this.selectedWorkscope);\r\n\r\n    const item: BreadcrumbsInventoryLabel = {\r\n      data: this.bsdeProjectDTO,\r\n      subtittle: this.breadcrumbsList[0].subtittle,\r\n      title: this.breadcrumbsList[0].title,\r\n      index: this.breadcrumbsList.length,\r\n      bireItem: this.selectedWorkscope || undefined,\r\n      isAddInventory: this.isAddInventory,\r\n      isFromInspection: this.isFromInspection,\r\n      inventoryList: []\r\n    };\r\n\r\n    this.openItemInventory(item);\r\n  }\r\n\r\n  private openItemInventory(item) {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_ITEM_INVENTORY,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    if (!!item) {\r\n      data.objectId = this.serializationService.serialize(item);\r\n    }\r\n    const labelKey = `transaction.${data.componentId}`;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  /*******************************\r\n   * Add Inventory\r\n   *******************************/\r\n  public editInventory() {\r\n    this.inventories = [];\r\n    this.breadcrumbsList = [];\r\n    this.createBreadCrumb(this.selectedWorkscope);\r\n\r\n    if (\r\n      !!this.selectedWorkscope &&\r\n      !!this.selectedWorkscope.inventoriesList &&\r\n      this.selectedWorkscope.inventoriesList.length > 0\r\n    ) {\r\n      this.selectedInventories.forEach((res: WorkscopeInventoryDTO, index) => {\r\n        this.inventories.push({\r\n          rowIndex: index,\r\n          pn: res.pn,\r\n          sn: res.sn,\r\n          trackingNumber: res.trackingNumber,\r\n          woCode: res.workScopingOrder,\r\n          quantity: res.quantity,\r\n          sentenceValue: res.sentenceValue,\r\n          decisionValue: res.decisionValue,\r\n          serialized: !!this.selectedWorkscope ? this.selectedWorkscope.serializedPart : false,\r\n          icon: res.targetResultMatchingIcon,\r\n          progress: res.currentOpeProgress,\r\n          woId: res.workScopingOrderId,\r\n          woProjectId: res.woProjectId\r\n        });\r\n      });\r\n    }\r\n    this.isAddInventory = false;\r\n    this.showAddEditInventory = true;\r\n\r\n    const item: BreadcrumbsInventoryLabel = {\r\n      index: this.breadcrumbsList.length,\r\n      subtittle: this.breadcrumbsList[0].subtittle,\r\n      title: this.breadcrumbsList[0].title,\r\n      data: this.bsdeProjectDTO,\r\n      bireItem: this.selectedWorkscope || undefined,\r\n      isAddInventory: this.isAddInventory,\r\n      isFromInspection: this.isFromInspection,\r\n      inventoryList: this.inventories\r\n    };\r\n\r\n    this.openItemInventory(item);\r\n  }\r\n\r\n  private createBreadCrumb(data?: BireItemForWorkscopeTreeDTO) {\r\n    if (data) {\r\n      const item: BreadcrumbsLabel = {\r\n        title: data.item,\r\n        subtittle: data.name,\r\n        index: this.breadcrumbsList.length\r\n      };\r\n      this.breadcrumbsList.push(item);\r\n    }\r\n  }\r\n\r\n  public onRowSelected(node: WorkscopeTreeData): void {\r\n    if (!!node.data) {\r\n      this.selectedWorkscope = node.data;\r\n    } else {\r\n      super.throwUnboundLocalError('onRowSelected', 'node.data');\r\n    }\r\n    this.isLineSelected = true;\r\n    this.selectedInventories = [];\r\n    this.renderTreeTableColumns(true);\r\n  }\r\n\r\n  public onRowUnSelected(node: WorkscopeTreeData): void {\r\n    this.selectedWorkscope = {};\r\n    this.selectedInventories = [];\r\n    this.isLineSelected = false;\r\n    this.renderTreeTableColumns(false);\r\n  }\r\n\r\n  public getExpectedQuantity(rowData: BireItemForWorkscopeTreeDTO): string | undefined {\r\n    const qty = rowData.quantity;\r\n\r\n    rowData.expectedQuantity =\r\n      qty !== undefined && qty.split(' ').length === 2\r\n        ? qty.split(' ')[1].substring(1, qty.split(' ')[1].length - 1)\r\n        : qty === '0'\r\n        ? qty\r\n        : undefined;\r\n\r\n    return rowData.expectedQuantity;\r\n  }\r\n\r\n  public getRealQuantity(rowData: BireItemForWorkscopeTreeDTO): string | undefined {\r\n    const qty = rowData.quantity;\r\n\r\n    rowData.realQuantity =\r\n      qty !== undefined && qty.split(' ').length > 0 ? qty.split(' ')[0] : qty === '0' ? qty : undefined;\r\n\r\n    return rowData.realQuantity;\r\n  }\r\n\r\n  public filterTextWithCriteria(): void {\r\n    this.searchSubAssemblyGlobalFilterChanged.next();\r\n  }\r\n\r\n  public changeFilter() {\r\n    this.workscopeStructure = [];\r\n    const treeData = this.modifiedWorkscopeTreeData;\r\n\r\n    this.workscopeStructure = this.buildTree(_cloneDeep(treeData));\r\n    if (StringUtils.isNullOrEmpty(this.searchGlobalFilter) && this.workscopeStructure.length > 0) {\r\n      this.workscopeStructure[0].expanded = true;\r\n    }\r\n    this.workscopeStructure = this.workscopeStructure.filter((elt) =>\r\n      this.treeNodeMatchFilters(elt, this.searchCriteria)\r\n    );\r\n\r\n    // Update modified Keys of ui tree\r\n    this.updateTreeData(this.workscopeStructure, this.modifiedWorkscopeTreeData);\r\n  }\r\n\r\n  private treeNodeMatchFilters(node: WorkscopeTreeData, searchCriteria: WorkscopeTableFilter): boolean {\r\n    if (!ListUtils.isNullOrEmpty(node.children)) {\r\n      node.children = (node.children as WorkscopeTreeData[]).filter((child) =>\r\n        this.treeNodeMatchFilters(child, searchCriteria)\r\n      );\r\n    }\r\n\r\n    const nodeData = node.data as BireItemForWorkscopeTreeDTO;\r\n\r\n    const functionCode = nodeData.functionCode ? nodeData.functionCode.toLowerCase() : '';\r\n    const functionCodeMatch =\r\n      !StringUtils.isNullOrEmpty(this.searchGlobalFilter) &&\r\n      functionCode.includes(this.searchGlobalFilter.toLowerCase());\r\n\r\n    const item = `${nodeData.chapter}-${nodeData.section}-${nodeData.subject}-${nodeData.sheet}-${nodeData.marks}`;\r\n    const itemMatch =\r\n      !StringUtils.isNullOrEmpty(this.searchGlobalFilter) && item.includes(this.searchGlobalFilter.toLowerCase());\r\n\r\n    const itemNumber = nodeData.itemNumber ? nodeData.itemNumber.toLowerCase() : '';\r\n    const itemNumberMatch =\r\n      !StringUtils.isNullOrEmpty(this.searchGlobalFilter) && itemNumber.includes(this.searchGlobalFilter.toLowerCase());\r\n\r\n    const name = nodeData.name ? nodeData.name.toLowerCase() : '';\r\n    const nameMatch =\r\n      !StringUtils.isNullOrEmpty(this.searchGlobalFilter) && name.includes(this.searchGlobalFilter.toLowerCase());\r\n\r\n    const familyCode = nodeData.itemFamilyCode ? nodeData.itemFamilyCode.toLowerCase() : '';\r\n    const familyMatch =\r\n      !StringUtils.isNullOrEmpty(this.searchGlobalFilter) && familyCode.includes(this.searchGlobalFilter.toLowerCase());\r\n\r\n    const serialized = nodeData.serializedPart ? 'serialized' : 'not serialized';\r\n    const serializedMatch =\r\n      !StringUtils.isNullOrEmpty(this.searchGlobalFilter) && serialized.includes(this.searchGlobalFilter.toLowerCase());\r\n\r\n    let filterCriteriaSuccess = true;\r\n\r\n    // ADDED, DELETE AND ALL\r\n    if (this.selectedChangeFilter === CockpitWorkscopeFormComponent.ALL) {\r\n      filterCriteriaSuccess = true;\r\n    } else if (this.selectedChangeFilter === CockpitWorkscopeFormComponent.DELETED) {\r\n      filterCriteriaSuccess =\r\n        ListUtils.orEmpty(node.children).length > 0 || ((nodeData.isModified && nodeData.isRemoved) as boolean);\r\n      if (filterCriteriaSuccess) {\r\n        node.expanded = true;\r\n      }\r\n    } else if (this.selectedChangeFilter === CockpitWorkscopeFormComponent.ADDED) {\r\n      filterCriteriaSuccess =\r\n        ListUtils.orEmpty(node.children).length > 0 || ((nodeData.isModified && nodeData.isAdded) as boolean);\r\n      if (filterCriteriaSuccess) {\r\n        node.expanded = true;\r\n      }\r\n    }\r\n\r\n    // OVERLAY FILTERS\r\n    let family = true;\r\n    if (!StringUtils.isNullOrEmpty(searchCriteria.family)) {\r\n      family = !!nodeData.itemFamilyCode && searchCriteria.family === nodeData.itemFamilyCode;\r\n    }\r\n\r\n    let designation = true;\r\n    if (!StringUtils.isNullOrEmpty(searchCriteria.designation)) {\r\n      designation =\r\n        !!searchCriteria.designation &&\r\n        !!nodeData.name &&\r\n        nodeData.name.toLowerCase().indexOf(searchCriteria.designation.toLowerCase()) !== -1;\r\n    }\r\n\r\n    let funcCode = true;\r\n    if (!StringUtils.isNullOrEmpty(searchCriteria.functionCode)) {\r\n      funcCode = !!nodeData.functionCode && searchCriteria.functionCode === nodeData.functionCode;\r\n    }\r\n\r\n    let itemName = true;\r\n    if (!StringUtils.isNullOrEmpty(searchCriteria.item)) {\r\n      itemName = !!nodeData.item && searchCriteria.item === nodeData.item;\r\n    }\r\n\r\n    let impact = true;\r\n    if (!StringUtils.isNullOrEmpty(searchCriteria.impact)) {\r\n      impact = !!nodeData.impact && searchCriteria.impact === nodeData.impact;\r\n    }\r\n\r\n    let partNumber = true;\r\n    if (!!nodeData.inventoriesList && !StringUtils.isNullOrEmpty(searchCriteria.pn)) {\r\n      const dto = nodeData.inventoriesList.filter((inven: WorkscopeInventoryDTO) => inven.pn === searchCriteria.pn);\r\n      partNumber = !!dto && dto.length > 0;\r\n    }\r\n\r\n    let serialNumber = true;\r\n    if (!!nodeData.inventoriesList && !StringUtils.isNullOrEmpty(searchCriteria.sn)) {\r\n      const dto = nodeData.inventoriesList.filter(\r\n        (inven: WorkscopeInventoryDTO) =>\r\n          !!inven.sn && !!searchCriteria.sn && inven.sn.indexOf(searchCriteria.sn) !== -1\r\n      );\r\n      serialNumber = !!dto && dto.length > 0;\r\n    }\r\n\r\n    let workOrder = true;\r\n    if (!!nodeData.inventoriesList && !StringUtils.isNullOrEmpty(searchCriteria.woCode)) {\r\n      const dto = nodeData.inventoriesList.filter(\r\n        (inven: WorkscopeInventoryDTO) => inven.workScopingOrder === searchCriteria.woCode\r\n      );\r\n      workOrder = !!dto && dto.length > 0;\r\n    }\r\n\r\n    let isSerialized = true;\r\n    if (!!searchCriteria.selectedSerialize && searchCriteria.selectedSerialize.length > 0) {\r\n      const serialPart = nodeData.serializedPart ? 0 : 1;\r\n      isSerialized = searchCriteria.selectedSerialize.includes(serialPart);\r\n    }\r\n\r\n    let isWorkscope = true;\r\n    if (!!searchCriteria.selectedWorkscope && searchCriteria.selectedWorkscope.length > 0) {\r\n      const workscope = nodeData.isWorkscope ? 0 : 1;\r\n      isWorkscope = searchCriteria.selectedWorkscope.includes(workscope);\r\n    }\r\n\r\n    let filterSuccess = false;\r\n    if (StringUtils.isNullOrEmpty(this.searchGlobalFilter)) {\r\n      const success =\r\n        ListUtils.orEmpty(node.children).length > 0 ||\r\n        (designation &&\r\n          isSerialized &&\r\n          isWorkscope &&\r\n          impact &&\r\n          family &&\r\n          funcCode &&\r\n          itemName &&\r\n          partNumber &&\r\n          serialNumber &&\r\n          workOrder &&\r\n          filterCriteriaSuccess);\r\n\r\n      if (!!this.searchCriteria && Object.keys(this.searchCriteria).length !== 0) {\r\n        node.expanded = success;\r\n      } else if (this.selectedChangeFilter === CockpitWorkscopeFormComponent.ALL) {\r\n        this.workscopeStructure[0].expanded = true;\r\n      } else {\r\n        node.expanded = success;\r\n      }\r\n\r\n      return success;\r\n    } else {\r\n      filterSuccess =\r\n        filterCriteriaSuccess &&\r\n        (ListUtils.orEmpty(node.children).length > 0 ||\r\n          functionCodeMatch ||\r\n          itemNumberMatch ||\r\n          familyMatch ||\r\n          nameMatch ||\r\n          itemMatch ||\r\n          serializedMatch);\r\n    }\r\n\r\n    node.expanded = true;\r\n\r\n    return filterSuccess;\r\n  }\r\n\r\n  /*****************************************************\r\n   * Click on inventory workscope\r\n   *****************************************************/\r\n  public inventoryModified(data: BireItemForWorkscopeTreeDTO, event: NodeInterface, flag?: boolean, parent?: String) {\r\n    // get modified copy\r\n    const workscopeTreeDataFromStaged: WorkscopeTreeData | undefined = this.getWorkscopeTreeDataFromStaged(\r\n      this.getKey(data)\r\n    );\r\n\r\n    // Fetching original state\r\n    const workscopeTreeDataInDB: WorkscopeTreeData | undefined = this.getWorkscopeTreeDataFromDB(this.getKey(data));\r\n\r\n    if (!parent && !!workscopeTreeDataFromStaged && workscopeTreeDataFromStaged.data) {\r\n      // Modifying Item status for parent\r\n      const parentItem = !!event.parent ? event.parent.data : undefined;\r\n      // Check all childrens in db and modify them\r\n      if (!!workscopeTreeDataInDB && !!workscopeTreeDataInDB.children && workscopeTreeDataInDB.children.length > 0) {\r\n        let isChildrenSame = false;\r\n        if (!!event.node && !!event.node.children && event.node.children.length > 0) {\r\n          isChildrenSame = event.node.children.length === workscopeTreeDataInDB.children.length;\r\n        }\r\n\r\n        // Children length is same, take childrens from clicked node, else from db copy\r\n        const childrenData =\r\n          isChildrenSame && !!event.node && !!event.node.children && event.node.children.length > 0\r\n            ? event.node.children\r\n            : workscopeTreeDataInDB.children;\r\n        this.modifyAllWorkscope(childrenData, data.isWorkscope as boolean, parentItem as BireItemForWorkscopeTreeDTO);\r\n      }\r\n\r\n      const isWorkscope = flag != undefined ? flag : data.isWorkscope;\r\n      this.updateBireItemOfNode(data, isWorkscope as boolean);\r\n      this.resetWorkscopeCounters();\r\n      this.updateNodeInTree(data, this.modifiedWorkscopeTreeData);\r\n\r\n      // Updating map\r\n      this.updateBireItemForWorkscopeTreeDTO(data, workscopeTreeDataFromStaged.data);\r\n\r\n      // Modify Parent Node on basis of childrens\r\n      this.updateParentNode(event, data.isWorkscope as boolean);\r\n    } else if (parent !== this.getKey(data)) {\r\n      // Modify only if no childrens in case of remove\r\n      if (flag || (!!event && !!event.children && event.children.length === 0)) {\r\n        this.updateBireItemOfNode(data, flag as boolean);\r\n\r\n        // Updating map\r\n        this.updateNodeInTree(data, this.modifiedWorkscopeTreeData);\r\n        if (!!workscopeTreeDataFromStaged && !!workscopeTreeDataFromStaged.data) {\r\n          this.updateBireItemForWorkscopeTreeDTO(data, workscopeTreeDataFromStaged.data);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Update modified Keys of ui tree\r\n    this.updateTreeData(this.workscopeStructure, this.modifiedWorkscopeTreeData);\r\n\r\n    // Refresh Tree Node after changes\r\n    if (!parent && !!this.searchCriteria && Object.keys(this.searchCriteria).length > 0) {\r\n      this.filterWithCriteria();\r\n    }\r\n\r\n    // Update counters\r\n    this.updateWorkscopeInformation(this.modifiedWorkscopeTreeData);\r\n  }\r\n\r\n  private updateBireItemOfNode(data: BireItemForWorkscopeTreeDTO, flag: boolean) {\r\n    const dbData: WorkscopeTreeData | undefined = this.getWorkscopeTreeDataFromDB(this.getKey(data));\r\n\r\n    if (!!data && !!dbData && !!!!dbData.data) {\r\n      data.isModified = dbData.data.isWorkscope === flag ? false : true;\r\n      data.isWorkscope = flag\r\n        ? data.isWorkscope\r\n          ? data.isWorkscope\r\n          : flag\r\n        : !data.isWorkscope\r\n        ? data.isWorkscope\r\n        : flag;\r\n      data.isAdded = flag;\r\n      data.workscopeVersionNumber = this.workscopeInformationObject.versionNumber;\r\n      data.workscopeVersionStatus = !flag ? undefined : this.workscopeInformationObject.status === this.draft ? 0 : 1;\r\n      data.isRemoved = !flag;\r\n    }\r\n  }\r\n\r\n  /********************************************\r\n   * If parent is clicked, apply settings to its childrens also\r\n   ********************************************/\r\n  private setActionForChildrens(data: WorkscopeTreeData[], isWorkscope: boolean) {\r\n    data.forEach((res) => {\r\n      if (!!res.data) {\r\n        const workscopeTreeDataInDB: WorkscopeTreeData | undefined = this.getWorkscopeTreeDataFromDB(\r\n          this.getKey(res.data)\r\n        );\r\n\r\n        res.data.isWorkscope = isWorkscope;\r\n\r\n        if (!!workscopeTreeDataInDB && workscopeTreeDataInDB.data) {\r\n          if (workscopeTreeDataInDB.data.isWorkscope === res.data.isWorkscope) {\r\n            // Item in original state\r\n            res.data.isModified = false;\r\n            res.data.isAdded = false;\r\n            res.data.isRemoved = false;\r\n          } else {\r\n            res.data.isModified = true;\r\n            res.data.isRemoved = isWorkscope ? false : true;\r\n            res.data.isAdded = isWorkscope ? true : false;\r\n          }\r\n\r\n          this.updateVersionColumn(res.data);\r\n        }\r\n\r\n        if (!!res.children && res.children.length > 0) {\r\n          this.setActionForChildrens(res.children, isWorkscope);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public onNodeExpand(node: WorkscopeTreeData) {\r\n    this.selectedWorkscope = node;\r\n  }\r\n\r\n  /**********************************************\r\n   * Set Workscope Information Panel\r\n   *********************************************/\r\n  private getWorkscopeInformation(data: WorkscopeTreeData[]): void {\r\n    this.workscopeInformationObject = {\r\n      lastUpdate: this.bsdeProjectDTO.statusUser,\r\n      lastUpdateDate: this.bsdeProjectDTO.statusDate,\r\n      approveItem: 0,\r\n      draftItem: 0,\r\n      removeItem: 0\r\n    };\r\n\r\n    if (!!data && data.length > 0 && !!data[0].data) {\r\n      this.workscopeInformationObject.versionNumber = data[0].data.workscopeVersionNumber as number;\r\n      this.workscopeInformationObject.status = data[0].data.workscopeVersionStatus === 0 ? this.draft : this.approved;\r\n    }\r\n\r\n    if (this.workscopeInformationObject.status === this.approved) {\r\n      this.isApprove = true;\r\n    }\r\n  }\r\n\r\n  private resetWorkscopeCounters() {\r\n    this.workscopeInformationObject.approveItem = 0;\r\n    this.workscopeInformationObject.draftItem = 0;\r\n    this.workscopeInformationObject.removeItem = 0;\r\n  }\r\n\r\n  public getColorStyle(rowData: BireItemForWorkscopeTreeDTO) {\r\n    return rowData.isModified && rowData.isWorkscope\r\n      ? 'added'\r\n      : rowData.isModified && !rowData.isWorkscope\r\n      ? 'removed'\r\n      : 'none';\r\n  }\r\n\r\n  /***************************************************\r\n   * Filter handling\r\n   **************************************************/\r\n  public filterWithCriteria() {\r\n    this.showFilterButtons = Object.keys(this.searchCriteria).length === 0 ? false : true;\r\n    this.searchGlobalFilter = '';\r\n\r\n    if (Object.keys(this.searchCriteria).length === 0) {\r\n      // No Filter => Restore UI data\r\n      this.workscopeStructure = this.buildTree(this.modifiedWorkscopeTreeData);\r\n      if (this.workscopeStructure.length > 0) {\r\n        this.workscopeStructure[0].expanded = true;\r\n      }\r\n    } else {\r\n      this.searchSubAssemblyGlobalFilterChanged.next();\r\n    }\r\n  }\r\n\r\n  /**********************************************\r\n   * Approve and Upgrade functionality\r\n   **********************************************/\r\n  public approve() {\r\n    this.workscopeInformationObject.status = this.approved;\r\n    this.buildTree(this.workscopeStructure);\r\n    this.resetWorkscopeCounters();\r\n    this.updateWorkscopeInformation(this.modifiedWorkscopeTreeData);\r\n    this.isApprove = true;\r\n  }\r\n\r\n  public upgrade() {\r\n    this.workscopeInformationObject.status = this.draft;\r\n    if (!!this.workscopeInformationObject.versionNumber) {\r\n      this.workscopeInformationObject.versionNumber += 1;\r\n    }\r\n    this.isApprove = false;\r\n  }\r\n\r\n  /*****************************************************\r\n   * Add/Remove all from workscope\r\n   ****************************************************/\r\n  public addRemoveAllToWorkscope(flag: boolean) {\r\n    // Avoiding multiple click on buttons\r\n    if (this.workscopeStructure.length > 0) {\r\n      // Avoid parent item to be modified\r\n      const parentItemData = this.workscopeStructure[0].data as BireItemForWorkscopeTreeDTO;\r\n      this.modifyAllWorkscope(this.workscopeStructure, flag, parentItemData);\r\n\r\n      // Update modified Keys of ui tree\r\n      this.updateTreeData(this.workscopeStructure, this.modifiedWorkscopeTreeData);\r\n    }\r\n  }\r\n\r\n  private modifyAllWorkscope(treeData: NodeInterface[], isWorkscope: boolean, parent: BireItemForWorkscopeTreeDTO) {\r\n    treeData.forEach((res: NodeInterface) => {\r\n      if (!!res && !!res.data) {\r\n        // get modified copy\r\n        const workscopeTreeDataFromStaged: WorkscopeTreeData | undefined = this.getWorkscopeTreeDataFromStaged(\r\n          this.getKey(res.data)\r\n        );\r\n\r\n        const workscopeTreeDataInDB: WorkscopeTreeData | undefined = this.getWorkscopeTreeDataFromDB(\r\n          this.getKey(res.data)\r\n        );\r\n\r\n        if (!!res.children && res.children.length === 0) {\r\n          const parentInfo = !!parent ? this.getKey(parent) : undefined;\r\n          this.inventoryModified(res.data, res, isWorkscope, parentInfo);\r\n        }\r\n\r\n        // Update Map\r\n        this.updateStageMap(res.data);\r\n\r\n        if (res.children && res.children.length > 0) {\r\n          this.updateBireItemOfNode(res.data, isWorkscope as boolean);\r\n\r\n          // Updating map\r\n          if (!!workscopeTreeDataFromStaged && !!workscopeTreeDataFromStaged.data) {\r\n            this.updateBireItemForWorkscopeTreeDTO(res.data, workscopeTreeDataFromStaged.data);\r\n          }\r\n\r\n          this.updateNodeInTree(res.data, this.modifiedWorkscopeTreeData);\r\n          this.modifyAllWorkscope(res.children, isWorkscope, parent);\r\n        } else if (\r\n          !!workscopeTreeDataInDB &&\r\n          !!workscopeTreeDataInDB.data &&\r\n          !!workscopeTreeDataInDB.children &&\r\n          workscopeTreeDataInDB.children.length > 0\r\n        ) {\r\n          this.updateBireItemOfNode(workscopeTreeDataInDB.data, isWorkscope as boolean);\r\n\r\n          // Updating map\r\n          if (!!workscopeTreeDataFromStaged && !!workscopeTreeDataFromStaged.data) {\r\n            this.updateBireItemForWorkscopeTreeDTO(workscopeTreeDataInDB.data, workscopeTreeDataFromStaged.data);\r\n          }\r\n\r\n          this.updateNodeInTree(workscopeTreeDataInDB.data, this.modifiedWorkscopeTreeData);\r\n          this.modifyAllWorkscope(workscopeTreeDataInDB.children, isWorkscope, parent);\r\n        }\r\n\r\n        // Modify Parent Node on basis   of childrens\r\n        this.updateParentNode(res, isWorkscope);\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateParentNode(res: NodeInterface, isWorkscope: boolean) {\r\n    // Modify Parent Node on basis of childrens\r\n    if (!!res.parent) {\r\n      if (!!res.parent.children && !!res.parent.data) {\r\n        // Check workscope status of all children\r\n        const parentDTO = this.workscopeTreeDataFromStagedByItemKeyMap.get(\r\n          this.getKey(res.parent.data as BireItemForWorkscopeTreeDTO)\r\n        );\r\n\r\n        if (!!parentDTO && !!parentDTO.children) {\r\n          const isAllWorkscope: WorkscopeTreeData[] = [];\r\n          this.workscopeItems(parentDTO, isAllWorkscope);\r\n          res.parent.data.isWorkscope = isAllWorkscope.length === 0 ? false : true;\r\n          this.updateBireItemOfNode(res.parent.data, res.parent.data.isWorkscope as boolean);\r\n\r\n          // Update Map\r\n          this.updateStageMap(res.parent.data);\r\n        }\r\n\r\n        // If parent itself has parent\r\n        if (!!res.parent.parent) {\r\n          this.updateParentNode(res.parent, isWorkscope);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private workscopeItems(data: WorkscopeTreeData, toReturn: WorkscopeTreeData[]) {\r\n    if (!!data.children) {\r\n      data.children.forEach((elt: WorkscopeTreeData) => {\r\n        if (!!elt.data && elt.data.isWorkscope) {\r\n          toReturn.push(elt);\r\n        }\r\n\r\n        if (!!elt.children) {\r\n          this.workscopeItems(elt, toReturn);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private updateStageMap(data: BireItemForWorkscopeTreeDTO) {\r\n    // Update Map\r\n    const workscopeTreeStagedData: WorkscopeTreeData | undefined = this.workscopeTreeDataFromStagedByItemKeyMap.get(\r\n      this.getKey(data)\r\n    );\r\n\r\n    // Updating map\r\n    if (!!workscopeTreeStagedData && !!workscopeTreeStagedData.data) {\r\n      this.updateBireItemForWorkscopeTreeDTO(data, workscopeTreeStagedData.data);\r\n    }\r\n  }\r\n\r\n  /***************************************************\r\n   * Update counter of Workscope Information panel\r\n   ***************************************************/\r\n  private updateWorkscopeInformation(res: WorkscopeTreeData[]) {\r\n    res.forEach((workscope) => {\r\n      if (!!workscope.data) {\r\n        const data = workscope.data;\r\n\r\n        if (data.isModified && data.isRemoved && this.workscopeInformationObject.removeItem !== undefined) {\r\n          this.workscopeInformationObject.removeItem += 1;\r\n        }\r\n\r\n        if (data.workscopeVersionStatus === 1 && this.workscopeInformationObject.approveItem !== undefined) {\r\n          this.workscopeInformationObject.approveItem += 1;\r\n        }\r\n\r\n        if (data.workscopeVersionStatus === 0 && this.workscopeInformationObject.draftItem !== undefined) {\r\n          this.workscopeInformationObject.draftItem += 1;\r\n        }\r\n\r\n        if (!!workscope.children && workscope.children.length > 0) {\r\n          this.updateWorkscopeInformation(workscope.children);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**********************************************\r\n   * Support for Load Workscope from Excel\r\n   **********************************************/\r\n  private loadFromExcel() {\r\n    this.showWorkscopeImportPopup = true;\r\n  }\r\n\r\n  public refreshOnImport(): void {\r\n    // TODO\r\n  }\r\n\r\n  public openFilters() {\r\n    this.showFilterOverlay = !this.filtersVisible;\r\n  }\r\n\r\n  /********************************************\r\n   * SAVE WORKSCOPE\r\n   ********************************************/\r\n  public save(isFromExport?: boolean): void {\r\n    if (!this.isAddInventory && !this.isNewInventoryAdded) {\r\n      this.cleanParents(this.modifiedWorkscopeTreeData);\r\n      const input: SaveWorkscopeInput = {\r\n        projectNumber: this.bsdeProjectDTO.projectNumber,\r\n        workscopeTreeDataList: this.modifiedWorkscopeTreeData\r\n      };\r\n\r\n      this.showSaveSpinner = true;\r\n      this.cockpitWorkscopeFormService\r\n        .saveWorkscope(input)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.tableLoading = false;\r\n            this.showSaveSpinner = false;\r\n            if (isFromExport) {\r\n              this.exportWorkscope();\r\n            }\r\n          })\r\n        )\r\n        .subscribe((result) => {\r\n          this.updateOpenMode(ComponentOpenMode.Read);\r\n          // TODO\r\n          this.messageService.showSuccessMessage('global.successOnSave');\r\n        });\r\n    }\r\n  }\r\n\r\n  private cleanParents(structure: WorkscopeTreeData[]) {\r\n    structure.forEach((elt: WorkscopeTreeData, index) => {\r\n      elt.parent = {};\r\n      if (elt.children) {\r\n        this.cleanParents(elt.children);\r\n      }\r\n    });\r\n  }\r\n\r\n  public isObjectNotNull(searchCriteria: Object) {\r\n    return !!searchCriteria && Object.keys(searchCriteria).length > 0;\r\n  }\r\n\r\n  /********************************************\r\n   * UTILITY METHODS\r\n   ********************************************/\r\n\r\n  // Getting identifier key for an item node\r\n  public getKey(item: BireItemForWorkscopeTreeDTO): String {\r\n    return `${item.chapter}-${item.section}-${item.subject}-${item.sheet}-${item.marks}`;\r\n  }\r\n\r\n  // Based on the key, getting the node copy of DB\r\n  public getWorkscopeTreeDataFromDB(key: String): WorkscopeTreeData | undefined {\r\n    return this.workscopeTreeDataInDBByItemKeyMap.get(key);\r\n  }\r\n\r\n  // Based on the key, getting the node copy of UI\r\n  public getWorkscopeTreeDataFromUI(key: String): WorkscopeTreeData | undefined {\r\n    return this.workscopeTreeDataFromUIByItemKeyMap.get(key);\r\n  }\r\n\r\n  // Based on the key, getting the node copy from staged (modified)\r\n  public getWorkscopeTreeDataFromStaged(key: String): WorkscopeTreeData | undefined {\r\n    return this.workscopeTreeDataFromStagedByItemKeyMap.get(key);\r\n  }\r\n\r\n  // Build a map to ease the search of a node\r\n  private buildMap(data: WorkscopeTreeData[], referenceMap: Map<String, WorkscopeTreeData>) {\r\n    data.forEach((elt: WorkscopeTreeData) => {\r\n      const eleClone = elt.data;\r\n\r\n      if (!!eleClone) {\r\n        if (!!eleClone.chapter) {\r\n          // tslint:disable-next-line:max-line-length\r\n          const item = `${eleClone.chapter}-${eleClone.section}-${eleClone.subject}-${eleClone.sheet}-${eleClone.marks}`;\r\n          referenceMap.set(item, elt);\r\n        }\r\n      }\r\n      this.buildMap(elt.children || [], referenceMap);\r\n    });\r\n  }\r\n\r\n  private updateTreeData(source: WorkscopeTreeData[], destination: WorkscopeTreeData[]) {\r\n    if (destination && source) {\r\n      source.forEach((sourceItem) => {\r\n        if (!!sourceItem.data) {\r\n          const sData = sourceItem.data as BireItemForWorkscopeTreeDTO;\r\n          this.updateNodeInTree(sData, destination);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private updateNodeInTree(searchObj: BireItemForWorkscopeTreeDTO, destination: WorkscopeTreeData[]) {\r\n    if (destination && searchObj) {\r\n      destination.filter((destinationItem) => {\r\n        const dData = destinationItem.data as BireItemForWorkscopeTreeDTO;\r\n        if (this.getKey(searchObj) === this.getKey(dData)) {\r\n          this.updateBireItemForWorkscopeTreeDTO(searchObj, dData);\r\n        }\r\n\r\n        if (!!destinationItem.children && destinationItem.children.length > 0) {\r\n          this.updateNodeInTree(searchObj, destinationItem.children);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Synchronise two BireItemForWorkscopeTreeDTO\r\n  private updateBireItemForWorkscopeTreeDTO(\r\n    source: BireItemForWorkscopeTreeDTO,\r\n    destination: BireItemForWorkscopeTreeDTO\r\n  ) {\r\n    if (destination && source) {\r\n      destination.isWorkscope = source.isWorkscope;\r\n      destination.isModified = source.isModified;\r\n      destination.workscopeVersionNumber = this.workscopeInformationObject.versionNumber;\r\n      destination.workscopeVersionStatus = !destination.isWorkscope\r\n        ? undefined\r\n        : this.workscopeInformationObject.status === this.draft\r\n        ? 0\r\n        : 1;\r\n      destination.isAdded = source.isAdded;\r\n      destination.isRemoved = source.isRemoved;\r\n    }\r\n  }\r\n\r\n  private setSearchSentenceDecisionList(): void {\r\n    this.cockpitWorkscopeFormService.fetchSentenceList().subscribe((res) => {\r\n      this.sentenceList = res;\r\n    });\r\n\r\n    this.cockpitWorkscopeFormService.fetchDecisionList().subscribe((res) => {\r\n      this.decisionList = res;\r\n    });\r\n  }\r\n\r\n  /*********************************************\r\n   * Fetch Sentence List\r\n   *********************************************/\r\n  public getSentenceValue(label: string, isValue: boolean): string | undefined {\r\n    const dto = this.sentenceList.filter((res) => {\r\n      return isValue ? res.value === label : res.label === label;\r\n    });\r\n\r\n    return !!dto && dto.length > 0 ? (isValue ? dto[0].label : dto[0].value) : undefined;\r\n  }\r\n\r\n  /*********************************************\r\n   * Fetch Decision List\r\n   *********************************************/\r\n  public getDecisionValue(label: string, isValue: boolean): string | undefined {\r\n    const dto = this.decisionList.filter((res) => {\r\n      return isValue ? res.value === label : res.label === label;\r\n    });\r\n\r\n    return !!dto && dto.length > 0 ? (isValue ? dto[0].label : dto[0].value) : undefined;\r\n  }\r\n\r\n  /********************************************\r\n   * Save and Export Workscope\r\n   ********************************************/\r\n  public saveAndExport() {\r\n    let isSaveNeeded = true;\r\n    // Check the need if project needs to be saved\r\n    if (\r\n      !!this.workscopeInformationObject &&\r\n      this.workscopeInformationObject.removeItem === 0 &&\r\n      this.workscopeInformationObject.approveItem === 0\r\n    ) {\r\n      // Nothing modified\r\n      isSaveNeeded = false;\r\n    }\r\n\r\n    if (isSaveNeeded) {\r\n      const partialMessageKey = 'saveProjectAndExport';\r\n\r\n      this.confirmationService.confirm({\r\n        messageKey: this.getTranslateKey(partialMessageKey),\r\n        accept: () => {\r\n          this.save(true);\r\n        }\r\n      });\r\n    } else {\r\n      this.exportWorkscope();\r\n    }\r\n  }\r\n\r\n  /**************************************\r\n   * Export Workscope\r\n   **************************************/\r\n  private exportWorkscope() {\r\n    // TODO implement when service is ready\r\n    this.messageService.showSuccessMessage(this.getTranslateKey('exportFile'));\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\nimport { FamilyVariantDTO } from '../../../..//shared/types/api-types/family-variant-dto.interface';\r\nimport { CockpitComponentApi } from '../../../../shared/api/cockpit-component.api';\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../shared/api/product-structure-management.api';\r\nimport { ProjectManagementApi } from '../../../../shared/api/project-management.api';\r\nimport { StandardImportPmApi } from '../../../../shared/api/standard-import-pm.api';\r\nimport { TaskManagementApi } from '../../../../shared/api/task-management.api';\r\nimport { WorkscopeComponentApi } from '../../../../shared/api/workscope-component.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { CockpitInspectionInput } from '../../../../shared/types/api-input-types/maintenance-component-cockpit/cockpit-inspection-input-dto.interface';\r\nimport { SaveCauseRemovalInput } from '../../../../shared/types/api-input-types/maintenance-component-cockpit/save-cause-removal-input.interface';\r\nimport { SaveWorkscopeInput } from '../../../../shared/types/api-input-types/maintenance-component-cockpit/save-workscope-input.interface';\r\nimport { BirePackEvolutionInput } from '../../../../shared/types/api-input-types/product-structure-management/bire-pack-evolution-input.interface';\r\nimport { ConfigurationPackListInput } from '../../../../shared/types/api-input-types/product-structure-management/configuration-pack-list-input.interface';\r\nimport { SaveBsdeReturnReasonWithProjectInput } from '../../../../shared/types/api-input-types/project-management/save-bsde-return-reason-with-project-input.interface';\r\nimport { GetPartNumberStructureOutputDTO } from '../../../../shared/types/api-output-types/get-part-number-structure-output-dto.interface';\r\nimport { BirePackEvolutionOutput } from '../../../../shared/types/api-output-types/product-structure-management/bire-pack-evolution-output.interface';\r\nimport { ManageCauseRemovalOutputDTO } from '../../../../shared/types/api-output-types/task-management/manage-cause-removal-output-dto.interface';\r\nimport { WorkscopeTargetAndVariantOutput } from '../../../../shared/types/api-output-types/workscope-component/workscope-target-and-varaint-output.interface';\r\nimport { WorkscopeTreeData } from '../../../../shared/types/api-output-types/workscope-component/workscope-tree-data-output';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BireConfigurationPackDTO } from '../../../../shared/types/api-types/bire-configuration-pack-dto.interface';\r\nimport { BireItemDTOId } from '../../../../shared/types/api-types/bire-item-dto-id.interface';\r\nimport { BsdeProjectDTO } from '../../../../shared/types/api-types/bsde-project-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class CockpitWorkscopeFormService extends AbstractAwHttpService {\r\n  public saveInventory: Subject<boolean> = new Subject();\r\n\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly workscopeComponentApi: WorkscopeComponentApi,\r\n    private readonly projectManagementApi: ProjectManagementApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly standardImportPmApi: StandardImportPmApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly cockpitComponentApi: CockpitComponentApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBsdeProjectByProjectNumber(projectNumber: number): Observable<BsdeProjectDTO> {\r\n    return super.post<number, BsdeProjectDTO>(this.projectManagementApi.findBsdeProjectByProjectNumber, projectNumber);\r\n  }\r\n\r\n  public getWorkscope(input: CockpitInspectionInput): Observable<WorkscopeTreeData[]> {\r\n    return super.post<CockpitInspectionInput, WorkscopeTreeData[]>(this.workscopeComponentApi.getWorkscope, input);\r\n  }\r\n\r\n  public findMROCenter(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireSiteForTask);\r\n  }\r\n\r\n  public findAllCustomers(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.fleetManagementApi.findMroBireSite);\r\n  }\r\n\r\n  public getImportTaskBsdeXLS(): Observable<Uint8Array> {\r\n    return super.post<void, Uint8Array>(this.standardImportPmApi.getImportTaskBsdeXLS);\r\n  }\r\n\r\n  public findBireReturnReasonsByItem(projectNumber: number): Observable<ManageCauseRemovalOutputDTO[]> {\r\n    return super.post<number, ManageCauseRemovalOutputDTO[]>(\r\n      this.taskManagementApi.findBireReturnReasonsByItem,\r\n      projectNumber\r\n    );\r\n  }\r\n\r\n  public saveBsdeReturnReasonWithBsdeProject(\r\n    saveBsdeReturnReasonWithProjectInput: SaveBsdeReturnReasonWithProjectInput\r\n  ): Observable<void> {\r\n    return super.post<SaveBsdeReturnReasonWithProjectInput, void>(\r\n      this.projectManagementApi.saveBsdeReturnReasonWithBsdeProject,\r\n      saveBsdeReturnReasonWithProjectInput\r\n    );\r\n  }\r\n\r\n  public getWorkscopeTargetNumberAndVariantName(\r\n    input: CockpitInspectionInput\r\n  ): Observable<WorkscopeTargetAndVariantOutput> {\r\n    return super.post<CockpitInspectionInput, WorkscopeTargetAndVariantOutput>(\r\n      this.workscopeComponentApi.getWorkscopeTargetNumberAndVariantName,\r\n      input\r\n    );\r\n  }\r\n\r\n  public loadFamilyVariants(): Observable<FamilyVariantDTO[]> {\r\n    return super.post<void, FamilyVariantDTO[]>(this.productStructureManagementApi.findAllBireVariantVersions);\r\n  }\r\n\r\n  public loadWorkshopScopeByProjectNumber(input: CockpitInspectionInput): Observable<string> {\r\n    return super.post<CockpitInspectionInput, string>(this.workscopeComponentApi.getLoadWorkscope, input);\r\n  }\r\n\r\n  public findBidoEquipmentsByPnAndSn(input: BidoEquipmentDTO): Observable<BidoEquipmentDTO[]> {\r\n    return super.post<BidoEquipmentDTO, BidoEquipmentDTO[]>(\r\n      this.fleetManagementApi.findBidoEquipmentsByPnAndSnCodes,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getPartNumberStructure(bireItemDTOId: BireItemDTOId): Observable<GetPartNumberStructureOutputDTO[]> {\r\n    return super.post<BireItemDTOId, GetPartNumberStructureOutputDTO[]>(\r\n      this.productStructureManagementApi.getPartNumberStructure,\r\n      bireItemDTOId\r\n    );\r\n  }\r\n\r\n  public downloadTemplate(): Observable<Uint8Array> {\r\n    return super.post<void, Uint8Array>(this.workscopeComponentApi.loadWorkscopeTemplate);\r\n  }\r\n\r\n  public findBireConfigurationPacksByItemVersionAndConfigurationCode(\r\n    input: ConfigurationPackListInput\r\n  ): Observable<BireConfigurationPackDTO[]> {\r\n    return super.post<ConfigurationPackListInput, BireConfigurationPackDTO[]>(\r\n      this.productStructureManagementApi.findBireConfigurationPacksByItemVersionAndConfigurationCode,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBirePackEvolutionsByItemAndPackBaseOptionCodeItem(\r\n    input: BirePackEvolutionInput\r\n  ): Observable<BirePackEvolutionOutput[]> {\r\n    return super.post<BirePackEvolutionInput, BirePackEvolutionOutput[]>(\r\n      this.productStructureManagementApi.findBirePackEvolutionsByItemAndPackBaseOptionCodeItem,\r\n      input\r\n    );\r\n  }\r\n\r\n  // Save inventory event\r\n  public updateInventory(): void {\r\n    this.saveInventory.next(true);\r\n  }\r\n\r\n  // Save Workscope\r\n  public saveWorkscope(input: SaveWorkscopeInput): Observable<void> {\r\n    return super.post<SaveWorkscopeInput, void>(this.workscopeComponentApi.saveWorkscope, input);\r\n  }\r\n\r\n  // Save Removal Causes\r\n  public saveCauseRemovalList(input: SaveCauseRemovalInput): Observable<void> {\r\n    return super.post<SaveCauseRemovalInput, void>(this.workscopeComponentApi.saveCauseRemoval, input);\r\n  }\r\n\r\n  public fetchSentenceList(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.cockpitComponentApi.getSentenceList);\r\n  }\r\n\r\n  public fetchDecisionList(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.cockpitComponentApi.getDecisionList);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title chapter\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <h4>\\r\\n            {{ getComponentName() + \\\".message\\\" | translate }}\\r\\n          </h4>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"loadEquipmentData()\\\">\\r\\n      {{ getComponentName() + \\\".loadEquipment\\\" | translate }}\\r\\n    </button>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"close()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { CockpitWorkscopeFormService } from '../cockpit-workscope-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-load-workscope-popup',\r\n  templateUrl: './load-workscope-popup.component.html'\r\n})\r\nexport class LoadWorkscopePopupComponent extends DialogComponent implements OnInit {\r\n  @Output() public onEquipmentLoad: EventEmitter<boolean>;\r\n\r\n  public displayValue: boolean;\r\n\r\n  public constructor(public cockpitWorkscopeFormService: CockpitWorkscopeFormService) {\r\n    super(ComponentOpenMode.Write, 'LoadWorkscopePopupComponent');\r\n    this.onEquipmentLoad = new EventEmitter<boolean>();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    return;\r\n  }\r\n\r\n  public close(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public loadEquipmentData() {\r\n    this.onEquipmentLoad.emit(true);\r\n    this.display = false;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ projectNumber }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"save()\\\">\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12 custom-breadcrumb-padding\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container bread-crumb-custom-cell\\\">\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"grid-cell--6\\\"></div>\\r\\n                <div class=\\\"grid-cell--3\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".targetConfigurationNumber\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        [options]=\\\"targetNumberList\\\"\\r\\n                        [(ngModel)]=\\\"selectedTargetConfiguration\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell--3\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ getComponentName() + \\\".targetVariant\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        [options]=\\\"variantNameList\\\"\\r\\n                        [(ngModel)]=\\\"selectedTargetVariantName\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--6\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".itemsConfiguration\\\" | translate }}\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table #table class=\\\"aw-table2\\\" [columns]=\\\"itemConfigurationTableCols\\\" [value]=\\\"itemConfigurationTable\\\">\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isLoadingItemConfiguration\\\"> &nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isLoadingItemConfiguration\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\"></div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <div *ngSwitchCase=\\\"'conf2'\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"rowData['iwbTargetConfigList2']\\\"\\r\\n                          [(ngModel)]=\\\"rowData[col.field]\\\"\\r\\n                          appendTo=\\\"body\\\"\\r\\n                          [disabled]=\\\"isReadMode\\\"\\r\\n                          (onChange)=\\\"onChangeConfiguration(rowData, 2, rowData[col.field])\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                      <div *ngSwitchCase=\\\"'conf3'\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"rowData['iwbTargetConfigList3']\\\"\\r\\n                          [(ngModel)]=\\\"rowData[col.field]\\\"\\r\\n                          appendTo=\\\"body\\\"\\r\\n                          [disabled]=\\\"isReadMode\\\"\\r\\n                          (onChange)=\\\"onChangeConfiguration(rowData, 3, rowData[col.field])\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                      <div *ngSwitchCase=\\\"'bireItemText'\\\">\\r\\n                        <div>{{ rowData[col.field] }}</div>\\r\\n                        <div *ngIf=\\\"!!rowData['bireItemDTO']\\\">\\r\\n                          <i>{{ rowData[\\\"bireItemDTO\\\"].name }}</i>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid-cell--6\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".configurationReport\\\" | translate }}\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                #table\\r\\n                class=\\\"aw-table2\\\"\\r\\n                [columns]=\\\"configurationReportTableCols\\\"\\r\\n                [value]=\\\"configurationReportTable\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isLoadingConfigurationReport\\\"> &nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isLoadingConfigurationReport\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\"></div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col [ngStyle]=\\\"{ width: '46%' }\\\" />\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th [ngStyle]=\\\"{ width: '46%' }\\\"></th>\\r\\n                    <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td [ngStyle]=\\\"{ width: '46%' }\\\">\\r\\n                      <div>{{ rowData[\\\"name\\\"] }}</div>\\r\\n                    </td>\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <div *ngSwitchDefault [ngClass]=\\\"{ 'blue-cell': rowData[col.field] === rowData['max'] }\\\">\\r\\n                        {{ rowData[col.field] }}\\r\\n                      </div>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".configurationEvolutions\\\" | translate }} ({{\\r\\n                    configurationEvolutionTable ? configurationEvolutionTable.length : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                #table\\r\\n                class=\\\"aw-table2\\\"\\r\\n                [columns]=\\\"configurationEvolutionTableCols\\\"\\r\\n                [value]=\\\"configurationEvolutionTableOnLoad\\\"\\r\\n                [scrollable]=\\\"true\\\"\\r\\n                scrollHeight=\\\"400px\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isLoadingConfigurationEvolution\\\"> &nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isLoadingConfigurationEvolution\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\">\\r\\n                    <div class=\\\"aw-table-global-filter custom-filter-class\\\">\\r\\n                      <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                        <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </label>\\r\\n\\r\\n                      <input\\r\\n                        #ptableResultsGlobalFilter\\r\\n                        class=\\\"aw-table-global-filter-input\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                        (input)=\\\"table.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                    <div>\\r\\n                      <p-selectButton\\r\\n                        [options]=\\\"filterList\\\"\\r\\n                        [(ngModel)]=\\\"selectedFilter\\\"\\r\\n                        (onChange)=\\\"selectFilter()\\\"\\r\\n                      ></p-selectButton>\\r\\n                    </div>\\r\\n                    <div class=\\\"aw-table-actions\\\">\\r\\n                      <p-selectButton\\r\\n                        [options]=\\\"confList\\\"\\r\\n                        [(ngModel)]=\\\"selectedConf\\\"\\r\\n                        (onChange)=\\\"selectFilter()\\\"\\r\\n                      ></p-selectButton>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                    <th class=\\\"aw-table-checkbox-wrapper\\\"></th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <span *ngSwitchCase=\\\"'items'\\\">\\r\\n                        <div class=\\\"code\\\">\\r\\n                          <div class=\\\"info\\\">\\r\\n                            <span>\\r\\n                              <b>\\r\\n                                <a> {{ rowData[col.field] }}</a></b\\r\\n                              ></span\\r\\n                            >\\r\\n                          </div>\\r\\n                          <div class=\\\"info\\\">\\r\\n                            <span>\\r\\n                              <i> {{ rowData[\\\"itemsDesc\\\"] }} </i></span\\r\\n                            >\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </span>\\r\\n                      <div *ngSwitchCase=\\\"'apply'\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        <p-checkbox\\r\\n                          *ngIf=\\\"selectedConf === conf1\\\"\\r\\n                          binary=\\\"true\\\"\\r\\n                          class=\\\"aw-checkbox\\\"\\r\\n                          [(ngModel)]=\\\"rowData['inMinConf']\\\"\\r\\n                          [disabled]=\\\"rowData['isDisabled']\\\"\\r\\n                          (onChange)=\\\"onChangeMinConf(rowData)\\\"\\r\\n                        ></p-checkbox>\\r\\n                        <p-checkbox\\r\\n                          *ngIf=\\\"selectedConf === conf2\\\"\\r\\n                          binary=\\\"true\\\"\\r\\n                          class=\\\"aw-checkbox\\\"\\r\\n                          [(ngModel)]=\\\"rowData['inConf2']\\\"\\r\\n                          (onChange)=\\\"onChangeMinConf(rowData)\\\"\\r\\n                        ></p-checkbox>\\r\\n                        <p-checkbox\\r\\n                          *ngIf=\\\"selectedConf === conf3\\\"\\r\\n                          binary=\\\"true\\\"\\r\\n                          class=\\\"aw-checkbox\\\"\\r\\n                          [(ngModel)]=\\\"rowData['inConf3']\\\"\\r\\n                          (onChange)=\\\"onChangeMinConf(rowData)\\\"\\r\\n                        ></p-checkbox>\\r\\n                      </div>\\r\\n                      <div *ngSwitchCase=\\\"'evolutionNumber'\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        <div class=\\\"info\\\">\\r\\n                          <span>\\r\\n                            <b>\\r\\n                              <a (click)=\\\"openEvolutionLink(rowData)\\\"> {{ rowData[col.field] }}</a></b\\r\\n                            ></span\\r\\n                          >\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div *ngSwitchCase=\\\"'evolutionDesignation'\\\">\\r\\n                        <div class=\\\"code\\\" id=\\\"parent-hover-content\\\">\\r\\n                          <div class=\\\"info\\\">{{ rowData[col.field] }}</div>\\r\\n                          <div class=\\\"info\\\" id=\\\"hover-content\\\">\\r\\n                            <span>\\r\\n                              <i> {{ rowData[col.field] }} </i></span\\r\\n                            >\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host #hover-content {\\n  display: none; }\\n\\n:host #parent-hover-content:hover #hover-content {\\n  display: block;\\n  background-color: black;\\n  color: #fff !important;\\n  white-space: normal; }\\n\\n:host .custom-filter-class {\\n  flex-grow: 0 !important;\\n  padding-right: 2% !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9jb2NrcGl0LXdvcmtzY29wZS9mb3JtL21hbmFnZS1jb25maWd1cmF0aW9uL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxtYWludGVuYW5jZVxcY29ja3BpdC13b3Jrc2NvcGVcXGZvcm1cXG1hbmFnZS1jb25maWd1cmF0aW9uXFxtYW5hZ2UtY29uZmlndXJhdGlvbi1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksYUFBYSxFQUFBOztBQUZqQjtFQUtJLGNBQWM7RUFDZCx1QkFBdUI7RUFDdkIsc0JBQXNCO0VBQ3RCLG1CQUFtQixFQUFBOztBQVJ2QjtFQVlJLHVCQUF1QjtFQUN2Qiw0QkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2UvY29ja3BpdC13b3Jrc2NvcGUvZm9ybS9tYW5hZ2UtY29uZmlndXJhdGlvbi9tYW5hZ2UtY29uZmlndXJhdGlvbi1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICNob3Zlci1jb250ZW50IHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG4gICNwYXJlbnQtaG92ZXItY29udGVudDpob3ZlciAjaG92ZXItY29udGVudCB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgY29sb3I6ICNmZmYgIWltcG9ydGFudDtcclxuICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XHJcbiAgfVxyXG5cclxuICAuY3VzdG9tLWZpbHRlci1jbGFzcyB7XHJcbiAgICBmbGV4LWdyb3c6IDAgIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDIlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep as _cloneDeep } from 'lodash-es';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { ComponentConstants } from '../../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { FavoriteService } from '../../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../../shared/services/tab.service';\r\nimport { CockpitInspectionInput } from '../../../../../shared/types/api-input-types/maintenance-component-cockpit/cockpit-inspection-input-dto.interface';\r\nimport { BirePackEvolutionInput } from '../../../../../shared/types/api-input-types/product-structure-management/bire-pack-evolution-input.interface';\r\nimport { ConfigurationPackListInput } from '../../../../../shared/types/api-input-types/product-structure-management/configuration-pack-list-input.interface';\r\nimport { BirePackEvolutionOutput } from '../../../../../shared/types/api-output-types/product-structure-management/bire-pack-evolution-output.interface';\r\nimport { ConfTableOutput } from '../../../../../shared/types/api-output-types/workscope-component/conf-table-output.interface';\r\nimport { ConfigurationsEvolutionOutput } from '../../../../../shared/types/api-output-types/workscope-component/configurations-evolution-output.interface';\r\nimport { ItemConfigurationOutput } from '../../../../../shared/types/api-output-types/workscope-component/item-configuration-output.interface';\r\nimport { BireConfigurationDTO } from '../../../../../shared/types/api-types/bire-configuration-dto.interface';\r\nimport { BireEvolutionDTOId } from '../../../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireItemDTO } from '../../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireItemVersionDTO } from '../../../../../shared/types/api-types/bire-item-version-dto.interface';\r\nimport { FormPageComponent } from '../../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { CockpitWorkscopeFormService } from '../cockpit-workscope-form.service';\r\n\r\ninterface ConfTableOutputRow extends ConfTableOutput {\r\n  max?: number;\r\n}\r\n\r\nexport interface ConfigurationsEvolutionRow {\r\n  evolutionNumber?: string;\r\n  evolutionRevisionNumber?: string;\r\n  evolutionDesignation?: string;\r\n  category?: string;\r\n  compliance?: string;\r\n  mod?: string;\r\n  ad?: string;\r\n  sb?: string;\r\n  items?: string;\r\n  itemsDesc?: string | undefined;\r\n  isMandatory?: boolean;\r\n  inMinConf?: boolean;\r\n  inConf2?: boolean;\r\n  inConf3?: boolean;\r\n  isDisabled?: boolean;\r\n  _obj?: ConfigurationsEvolutionOutput;\r\n}\r\n\r\ninterface EvolutionLinkedToConfiguration {\r\n  evolutionList: BirePackEvolutionOutput[];\r\n  configuration: string;\r\n  item?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-manage-configuration-form',\r\n  styleUrls: ['../shared/shared.scss', './manage-configuration-form.component.scss'],\r\n  templateUrl: './manage-configuration-form.component.html'\r\n})\r\nexport class ManageConfigurationFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public projectNumber: number;\r\n  public itemConfigurationTable: ItemConfigurationOutput[];\r\n  public itemConfigurationTableClone: ItemConfigurationOutput[];\r\n  public itemConfigurationTableCols: TableColumn[];\r\n  public configurationReportTable: ConfTableOutputRow[];\r\n  public configurationReportTableCols: TableColumn[];\r\n  public configurationEvolutionTable: ConfigurationsEvolutionRow[];\r\n  public configurationEvolutionTableOnLoad: ConfigurationsEvolutionRow[];\r\n  public configurationEvolutionTableCols: TableColumn[];\r\n  public targetNumberList: LabelValue<string>[];\r\n  public variantNameList: LabelValue<string>[];\r\n  public selectedTargetConfiguration: string;\r\n  public selectedTargetVariantName: string | undefined;\r\n  public isLoadingItemConfiguration: boolean;\r\n  public isLoadingConfigurationReport: boolean;\r\n  public isLoadingConfigurationEvolution: boolean;\r\n  public confList: SelectItem[];\r\n  public selectedConf: string | undefined;\r\n  public filterList: SelectItem[];\r\n  public selectedFilter: string | undefined;\r\n  public iwbTargetConfiguration: BireConfigurationDTO[];\r\n  private evolutionLinkedToConfList: EvolutionLinkedToConfiguration[];\r\n\r\n  public conf1: string = 'conf1';\r\n  public conf2: string = 'conf2';\r\n  public conf3: string = 'conf3';\r\n  private categoryMandatory: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly cockpitWorkscopeFormService: CockpitWorkscopeFormService,\r\n    public readonly sessionService: SessionService,\r\n    public readonly translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_MANAGE_CONFIGURATION_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    const context = !!this.componentData.objectId\r\n      ? this.serializationService.deserialize(this.componentData.objectId)\r\n      : undefined;\r\n\r\n    if (!!context) {\r\n      this.displayComponentContext(`N°${context}`, this.isCreateOpenMode);\r\n    }\r\n\r\n    this.init();\r\n    this.renderTreeTableColumns();\r\n    this.fetchTablesData();\r\n  }\r\n\r\n  /**********************************\r\n   * INITIALIZATION\r\n   **********************************/\r\n  private init() {\r\n    this.targetNumberList = [];\r\n    this.variantNameList = [];\r\n    this.itemConfigurationTable = [];\r\n    this.itemConfigurationTableClone = [];\r\n    this.configurationEvolutionTable = [];\r\n    this.configurationReportTable = [];\r\n    this.iwbTargetConfiguration = [];\r\n    this.evolutionLinkedToConfList = [];\r\n    this.confList = [\r\n      { label: String(this.translateService.instant(this.getTranslateKey('conf1'))), value: 'conf1' },\r\n      { label: String(this.translateService.instant(this.getTranslateKey('conf2'))), value: 'conf2' },\r\n      { label: String(this.translateService.instant(this.getTranslateKey('conf3'))), value: 'conf3' }\r\n    ];\r\n    this.filterList = [\r\n      { label: String(this.translateService.instant(this.getTranslateKey('all'))), value: '0' },\r\n      { label: String(this.translateService.instant(this.getTranslateKey('applied'))), value: '1' },\r\n      { label: String(this.translateService.instant(this.getTranslateKey('notApplied'))), value: '2' }\r\n    ];\r\n\r\n    this.categoryMandatory = this.translateService.instant(this.getTranslateKey('mandatory'));\r\n    this.selectedFilter = '0';\r\n    this.selectedTargetConfiguration = '3';\r\n    this.selectedConf = 'conf1';\r\n  }\r\n\r\n  /**********************************\r\n   * TREE TABLE COLUMNS\r\n   **********************************/\r\n  private renderTreeTableColumns() {\r\n    this.setConfigurationColumns();\r\n    this.selectedTargetConfiguration = '1';\r\n\r\n    this.configurationReportTableCols = [\r\n      { field: 'conf1', alignment: 'center', width: '18%' },\r\n      { field: 'conf2', alignment: 'center', width: '18%' },\r\n      { field: 'conf3', alignment: 'center', width: '18%' }\r\n    ];\r\n\r\n    this.configurationEvolutionTableCols = [\r\n      { field: 'items', alignment: 'left', width: '10%' },\r\n      { field: 'apply', alignment: 'center', width: '5%' },\r\n      { field: 'evolutionNumber', alignment: 'left', width: '10%' },\r\n      { field: 'evolutionDesignation', alignment: 'left', width: '20%' },\r\n      { field: 'category', alignment: 'left', width: '15%' },\r\n      { field: 'compliance', alignment: 'left', width: '10%' },\r\n      { field: 'mod', alignment: 'left', width: '10%' },\r\n      { field: 'sb', alignment: 'left', width: '10%' },\r\n      { field: 'ad', alignment: 'left', width: '10%' }\r\n    ];\r\n  }\r\n\r\n  /**********************************\r\n   * FETCH PROJECT DETAILS\r\n   **********************************/\r\n  private fetchTablesData() {\r\n    this.projectNumber = parseInt(this.serializationService.deserialize(this.componentData.objectId as string), 10);\r\n    if (!!this.projectNumber) {\r\n      const inputData: CockpitInspectionInput = {\r\n        projectNumber: this.projectNumber\r\n      };\r\n      const projectNumber = this.projectNumber;\r\n      if (projectNumber) {\r\n        this.isLoadingConfigurationEvolution = true;\r\n        this.isLoadingConfigurationReport = true;\r\n        this.isLoadingItemConfiguration = true;\r\n\r\n        this.cockpitWorkscopeFormService\r\n          .getWorkscopeTargetNumberAndVariantName(inputData)\r\n          .pipe(\r\n            finalize(() => {\r\n              this.isLoadingConfigurationEvolution = false;\r\n              this.isLoadingConfigurationReport = false;\r\n              this.isLoadingItemConfiguration = false;\r\n            })\r\n          )\r\n          .subscribe((result) => {\r\n            if (result) {\r\n              this.targetNumberList = [\r\n                { label: String(this.translateService.instant(this.getTranslateKey('conf1'))), value: '1' },\r\n                { label: String(this.translateService.instant(this.getTranslateKey('conf2'))), value: '2' },\r\n                { label: String(this.translateService.instant(this.getTranslateKey('conf3'))), value: '3' }\r\n              ];\r\n\r\n              if (result.variantNameList) {\r\n                this.variantNameList = result.variantNameList;\r\n                this.selectedTargetVariantName =\r\n                  !!this.variantNameList && this.variantNameList.length > 0 ? this.variantNameList[0].value : undefined;\r\n              }\r\n              if (result.itemConfigurationOutputList) {\r\n                result.itemConfigurationOutputList.forEach((data) => {\r\n                  if (!!data.iwbTargetConfigList1) {\r\n                    data.iwbTargetConfigList1.sort((a, b) => (!!a.label && !!b.label && a.label > b.label ? 1 : -1));\r\n                  }\r\n\r\n                  if (!!data.iwbTargetConfigList2) {\r\n                    data.iwbTargetConfigList2.sort((a, b) => (!!a.label && !!b.label && a.label > b.label ? 1 : -1));\r\n                  }\r\n\r\n                  if (!!data.iwbTargetConfigList3) {\r\n                    data.iwbTargetConfigList3.sort((a, b) => (!!a.label && !!b.label && a.label > b.label ? 1 : -1));\r\n                  }\r\n\r\n                  const dto = { label: '', value: undefined };\r\n                  if (!!data.iwbTargetConfigList1 && data.iwbTargetConfigList1.length > 0) {\r\n                    data.iwbTargetConfigList1.unshift(dto);\r\n                  }\r\n                  if (!!data.iwbTargetConfigList2 && data.iwbTargetConfigList2.length > 0) {\r\n                    data.iwbTargetConfigList2.unshift(dto);\r\n                  }\r\n                  if (!!data.iwbTargetConfigList3 && data.iwbTargetConfigList3.length > 0) {\r\n                    data.iwbTargetConfigList3.unshift(dto);\r\n                  }\r\n                });\r\n\r\n                this.itemConfigurationTable = result.itemConfigurationOutputList;\r\n                this.itemConfigurationTableClone = _cloneDeep(this.itemConfigurationTable);\r\n              }\r\n              if (result.configurationReportList) {\r\n                this.configurationReportTable = result.configurationReportList.map((obj) => {\r\n                  const row: ConfTableOutputRow = obj;\r\n                  if (obj.conf1 && obj.conf2 && obj.conf3) {\r\n                    row.max = Math.max(obj.conf1, obj.conf2, obj.conf3);\r\n                  }\r\n\r\n                  return row;\r\n                });\r\n\r\n                this.configurationReportTable.push(\r\n                  {\r\n                    name: this.translateService.instant(this.getTranslateKey('incomingLogbook')),\r\n                    conf1: 0,\r\n                    conf2: 0,\r\n                    conf3: 0\r\n                  },\r\n                  {\r\n                    name: this.translateService.instant(this.getTranslateKey('itemConfToApply')),\r\n                    conf1: 0,\r\n                    conf2: 0,\r\n                    conf3: 0\r\n                  }\r\n                );\r\n              }\r\n              if (result.configurationEvolutionDTOList) {\r\n                this.configurationEvolutionTable = result.configurationEvolutionDTOList.map((obj) => {\r\n                  const configurationsEvolutionRow: ConfigurationsEvolutionRow = {\r\n                    ad: obj.ad,\r\n                    category: obj.category,\r\n                    compliance: obj.compliance,\r\n                    evolutionDesignation: obj.evolutionDesignation,\r\n                    evolutionNumber: obj.evolutionNumber,\r\n                    evolutionRevisionNumber: obj.evolutionRevisionNumber,\r\n                    isMandatory: obj.iwbMinimalEvolution && obj.iwbMinimalEvolution.mandatory,\r\n                    inConf2: obj.iwbMinimalEvolution && obj.iwbMinimalEvolution.inConf2,\r\n                    inConf3: obj.iwbMinimalEvolution && obj.iwbMinimalEvolution.inConf3,\r\n                    inMinConf: obj.iwbMinimalEvolution && obj.iwbMinimalEvolution.inMinConf,\r\n                    items: obj.items,\r\n                    itemsDesc:\r\n                      obj.iwbMinimalEvolution &&\r\n                      obj.iwbMinimalEvolution.configurableItemsImpactedList &&\r\n                      obj.iwbMinimalEvolution.configurableItemsImpactedList.length\r\n                        ? obj.iwbMinimalEvolution.configurableItemsImpactedList[0].name\r\n                        : '',\r\n                    mod: obj.mod,\r\n                    sb: obj.sb,\r\n                    _obj: obj\r\n                  };\r\n\r\n                  return configurationsEvolutionRow;\r\n                });\r\n\r\n                this.renderEvolutionTable(true);\r\n                this.updateAppliedReportCounter();\r\n                this.iwbTargetConfiguration = result.iwbTargetConfiguration || [];\r\n                this.findEvolutionLinkedToConfiguration(this.iwbTargetConfiguration);\r\n              }\r\n            }\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  /*********************************************\r\n   * EVOLUTIONS LINKED TO CONFIGURATION\r\n   ********************************************/\r\n  private findEvolutionLinkedToConfiguration(configurationList: BireConfigurationDTO[]) {\r\n    this.evolutionLinkedToConfList = [];\r\n\r\n    // Remove duplicate configurations occuring due to 3 conf\r\n    const configurations: BireConfigurationDTO[] = [];\r\n    configurationList.forEach((res) => {\r\n      const found = configurations.some((conf) => conf.configurationCode === res.configurationCode);\r\n      if (!found) {\r\n        configurations.push(res);\r\n      }\r\n    });\r\n\r\n    configurations.forEach((res) => {\r\n      if (res.configurationCode) {\r\n        const isConfExist = this.evolutionLinkedToConfList.some(\r\n          (evolutions) => evolutions.configuration === res.configurationCode\r\n        );\r\n\r\n        if (!isConfExist) {\r\n          const input: ConfigurationPackListInput = {\r\n            bireItemVersionDTO: res as BireItemVersionDTO,\r\n            configurationCode: res.configurationCode\r\n          };\r\n\r\n          this.cockpitWorkscopeFormService\r\n            .findBireConfigurationPacksByItemVersionAndConfigurationCode(input)\r\n            .subscribe((packList) => {\r\n              if (!!packList && packList.length > 0) {\r\n                // FIND PACKS HERE\r\n                packList.forEach((pack) => {\r\n                  const packInput: BirePackEvolutionInput = {\r\n                    bireItemDTO: res as BireItemDTO,\r\n                    packBaseOptionCode: pack.packBaseOptionCode\r\n                  };\r\n\r\n                  this.cockpitWorkscopeFormService\r\n                    .findBirePackEvolutionsByItemAndPackBaseOptionCodeItem(packInput)\r\n                    .subscribe((evolutions: BirePackEvolutionOutput[]) => {\r\n                      this.evolutionLinkedToConfList.push({\r\n                        evolutionList: evolutions,\r\n                        configuration: res.configurationCode as string,\r\n                        item: `${res.chapter}-${res.section}-${res.subject}-${res.sheet}-${res.marks}`\r\n                      });\r\n                    });\r\n                });\r\n              }\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private setConfigReportTable() {\r\n    const CONFIG_INDEX_LOGBOOK = 3;\r\n    const INCOMING_LOGBOOK = this.translateService.instant(this.getTranslateKey('incomingLogbook')) as string;\r\n\r\n    if (!this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf1) {\r\n      this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf1 = 0;\r\n    }\r\n    if (!this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf2) {\r\n      this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf2 = 0;\r\n    }\r\n    if (!this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf3) {\r\n      this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf3 = 0;\r\n    }\r\n\r\n    this.configurationEvolutionTableOnLoad.forEach((obj) => {\r\n      if (obj.category === INCOMING_LOGBOOK) {\r\n        if (obj.inMinConf) {\r\n          this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf1 = this.configurationReportTable[\r\n            CONFIG_INDEX_LOGBOOK\r\n          ].conf1\r\n            ? (this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf1 as number) + 1\r\n            : 1;\r\n        }\r\n\r\n        if (obj.inConf2) {\r\n          this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf2 = this.configurationReportTable[\r\n            CONFIG_INDEX_LOGBOOK\r\n          ].conf2\r\n            ? (this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf2 as number) + 1\r\n            : 1;\r\n        }\r\n\r\n        if (obj.inConf3) {\r\n          this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf3 = this.configurationReportTable[\r\n            CONFIG_INDEX_LOGBOOK\r\n          ].conf3\r\n            ? (this.configurationReportTable[CONFIG_INDEX_LOGBOOK].conf3 as number) + 1\r\n            : 1;\r\n        }\r\n      }\r\n    });\r\n\r\n    const data = this.configurationReportTable[CONFIG_INDEX_LOGBOOK] as ConfTableOutputRow;\r\n    this.configurationReportTable[CONFIG_INDEX_LOGBOOK].max = Math.max(\r\n      data.conf1 as number,\r\n      data.conf2 as number,\r\n      data.conf3 as number\r\n    );\r\n  }\r\n\r\n  private renderEvolutionTable(updateTable: boolean) {\r\n    this.sortEvolution();\r\n    this.selectConfig();\r\n\r\n    if (updateTable) {\r\n      this.setConfigReportTable();\r\n    }\r\n  }\r\n\r\n  private sortEvolution() {\r\n    if (!this.configurationEvolutionTableOnLoad || this.configurationEvolutionTableOnLoad.length === 0) {\r\n      this.configurationEvolutionTableOnLoad = _cloneDeep(this.configurationEvolutionTable);\r\n    }\r\n    this.configurationEvolutionTableOnLoad.sort((a: ConfigurationsEvolutionRow, b: ConfigurationsEvolutionRow) => {\r\n      if (!!a.items && !!b.items) {\r\n        if (a.items < b.items) {\r\n          return -1;\r\n        } else if (a.items > b.items) {\r\n          return 1;\r\n        } else {\r\n          return 0;\r\n        }\r\n      }\r\n\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  public selectConfig() {\r\n    if (this.selectedConf === this.conf1) {\r\n      this.configurationEvolutionTableOnLoad.forEach((obj) => {\r\n        obj.isDisabled = obj.isMandatory;\r\n      });\r\n    }\r\n  }\r\n\r\n  /*************************************************\r\n   * Change event on conf change\r\n   ************************************************/\r\n  public onChangeMinConf(rowData: ConfigurationsEvolutionRow) {\r\n    const SELECTED = this.translateService.instant(this.getTranslateKey('selected')) as string;\r\n    const AVAILABLE = this.translateService.instant(this.getTranslateKey('available')) as string;\r\n    const incomingLogbook = this.translateService.instant(this.getTranslateKey('incomingLogbook')) as string;\r\n\r\n    if (!!rowData.category && rowData.category.toLowerCase() !== incomingLogbook.toLowerCase()) {\r\n      if (this.selectedConf === this.conf1) {\r\n        rowData.category = rowData.inMinConf ? SELECTED : AVAILABLE;\r\n      } else if (this.selectedConf === this.conf2) {\r\n        rowData.category = rowData.inConf2 ? SELECTED : AVAILABLE;\r\n      } else if (this.selectedConf === this.conf3) {\r\n        rowData.category = rowData.inConf3 ? SELECTED : AVAILABLE;\r\n      }\r\n    }\r\n\r\n    let changeIndex = -1;\r\n    this.configurationEvolutionTable.filter((res, index) => {\r\n      if (\r\n        res.items === rowData.items &&\r\n        res.evolutionNumber === rowData.evolutionNumber &&\r\n        res.evolutionRevisionNumber === rowData.evolutionRevisionNumber\r\n      ) {\r\n        changeIndex = index;\r\n      }\r\n    });\r\n\r\n    if (changeIndex !== -1) {\r\n      this.configurationEvolutionTable[changeIndex] = rowData;\r\n    }\r\n    this.configurationEvolutionTable = _cloneDeep(this.configurationEvolutionTable);\r\n    this.updateAppliedReportCounter();\r\n  }\r\n\r\n  public setConfigurationColumns() {\r\n    this.itemConfigurationTableCols = [\r\n      { field: 'bireItemText', alignment: 'left', width: '36%' },\r\n      { field: 'conf2', alignment: 'left', width: '32%' },\r\n      { field: 'conf3', alignment: 'left', width: '32%' }\r\n    ];\r\n  }\r\n\r\n  public openEvolutionLink(evolution: ConfigurationsEvolutionRow): void {\r\n    if (evolution && evolution.evolutionNumber && evolution.evolutionRevisionNumber) {\r\n      const bireEvolutionId: BireEvolutionDTOId = {\r\n        evolutionNumber: evolution.evolutionNumber,\r\n        evolutionRevisionNumber: evolution.evolutionRevisionNumber\r\n      };\r\n      this.openEvolution(bireEvolutionId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  private openEvolution(objectId: BireEvolutionDTOId | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EvolutionFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EvolutionFormComponent',\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  /**********************************************\r\n   * Action on change configuration\r\n   **********************************************/\r\n  public onChangeConfiguration(rowData: ItemConfigurationOutput, index: number, confCode: string) {\r\n    const selected = this.translateService.instant(this.getTranslateKey('selected')) as string;\r\n    const conf3 = 3;\r\n    const ITEM_CONFIG_TO_APPLY_INDEX = 4;\r\n\r\n    // History Data\r\n    const data = this.itemConfigurationTableClone.filter((res) => res.bireItemText === rowData.bireItemText);\r\n\r\n    // Check the conf code\r\n    const code = !!confCode\r\n      ? confCode\r\n      : data.length > 0 && index === 1\r\n      ? data[0].conf1\r\n      : index === 2\r\n      ? data[0].conf2\r\n      : data[0].conf3;\r\n    const evolutionData = this.evolutionLinkedToConfList.filter((res) => res.configuration === code);\r\n    this.updateTableForLastConfiguration(index, rowData);\r\n\r\n    if (!!evolutionData && evolutionData.length > 0) {\r\n      const evolutionList = evolutionData[0].evolutionList.map(({ evolutionNumber }) => evolutionNumber);\r\n      this.setValuesToConfigToApply(0, 0, 0);\r\n\r\n      const INDUCED_BY_SELECTION = this.translateService.instant(this.getTranslateKey('induceBySelection')) as string;\r\n      const AVAILABLE = this.translateService.instant(this.getTranslateKey('available')) as string;\r\n\r\n      if (!!data && !!rowData && data.length > 0 && evolutionList.length > 0) {\r\n        const itemData = data[0]; // History Data\r\n        this.configurationEvolutionTable.filter((ev) => {\r\n          if (ev.items === rowData.bireItemText && ev.category !== this.categoryMandatory) {\r\n            if (index === 2 && evolutionList.indexOf(ev.evolutionNumber) !== -1) {\r\n              if (!!rowData.conf2 && !itemData.conf2) {\r\n                ev.inConf2 = true;\r\n                if (ev.category !== selected) {\r\n                  ev.category = INDUCED_BY_SELECTION;\r\n                }\r\n              } else if (!rowData.conf2 && !!itemData.conf2) {\r\n                ev.inConf2 = false;\r\n                ev.category = AVAILABLE;\r\n              } else if (!!rowData.conf2 && !!itemData.conf2) {\r\n                if (ev.items === itemData.bireItemText) {\r\n                  ev.inConf2 = false;\r\n                  ev.category = AVAILABLE;\r\n                }\r\n                if (ev.items === rowData.bireItemText) {\r\n                  ev.inConf2 = true;\r\n                  if (ev.category !== selected) {\r\n                    ev.category = INDUCED_BY_SELECTION;\r\n                  }\r\n                }\r\n              }\r\n            } else if (index === conf3 && evolutionList.indexOf(ev.evolutionNumber) !== -1) {\r\n              if (!!rowData.conf3 && !itemData.conf3) {\r\n                ev.inConf3 = true;\r\n\r\n                if (ev.category !== selected) {\r\n                  ev.category = INDUCED_BY_SELECTION;\r\n                }\r\n              } else if (!rowData.conf3 && !!itemData.conf3) {\r\n                ev.inConf3 = false;\r\n\r\n                ev.category = AVAILABLE;\r\n              } else if (!!rowData.conf3 && !!itemData.conf3) {\r\n                if (ev.items === itemData.bireItemText) {\r\n                  ev.inConf3 = false;\r\n                  ev.category = AVAILABLE;\r\n                }\r\n                if (ev.items === rowData.bireItemText) {\r\n                  ev.inConf3 = true;\r\n\r\n                  if (ev.category !== selected) {\r\n                    ev.category = INDUCED_BY_SELECTION;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      this.configurationEvolutionTableOnLoad = _cloneDeep(this.configurationEvolutionTable);\r\n      this.renderEvolutionTable(false);\r\n\r\n      this.updateAppliedReportCounter();\r\n    }\r\n\r\n    this.itemConfigurationTableClone = _cloneDeep(this.itemConfigurationTable);\r\n    // Update Counters\r\n    this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX] = this.updateItemConfigToApplyCounters();\r\n    const itemConf = this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX] as ConfTableOutputRow;\r\n\r\n    this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX].max = Math.max(\r\n      itemConf.conf1 as number,\r\n      itemConf.conf2 as number,\r\n      itemConf.conf3 as number\r\n    );\r\n\r\n    this.selectFilter();\r\n  }\r\n\r\n  /*************************************\r\n   * Update for last configuration\r\n   *************************************/\r\n  private updateTableForLastConfiguration(index: number, rowData: ItemConfigurationOutput) {\r\n    const AVAILABLE = this.translateService.instant(this.getTranslateKey('available')) as string;\r\n\r\n    // History Data\r\n    const itemData = this.itemConfigurationTableClone.filter((res) => res.bireItemText === rowData.bireItemText);\r\n\r\n    if (!!itemData && itemData.length > 0) {\r\n      const data = itemData[0];\r\n      // Check the conf code\r\n      const code = index === 2 ? data.conf2 : data.conf3;\r\n      if (!!code) {\r\n        const evolutionData = this.evolutionLinkedToConfList.filter((res) => res.configuration === code);\r\n\r\n        if (!!evolutionData && evolutionData.length > 0) {\r\n          // Find list of evolution for that configuration\r\n          const evolutionList = evolutionData[0].evolutionList.map(({ evolutionNumber }) => evolutionNumber);\r\n\r\n          // Filter out the evolution of that item and remove it from selection\r\n          this.configurationEvolutionTable.filter((ev) => {\r\n            if (ev.items === rowData.bireItemText && ev.category !== this.categoryMandatory) {\r\n              if (index === 2 && ev.inConf2 && evolutionList.indexOf(ev.evolutionNumber) !== -1) {\r\n                ev.inConf2 = false;\r\n                ev.category = AVAILABLE;\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n      this.updateAppliedReportCounter();\r\n    }\r\n  }\r\n\r\n  private updateItemConfigToApplyCounters() {\r\n    const row: ConfTableOutputRow = {\r\n      name: this.translateService.instant(this.getTranslateKey('itemConfToApply')),\r\n      conf1: 0,\r\n      conf2: 0,\r\n      conf3: 0\r\n    };\r\n\r\n    this.itemConfigurationTable.forEach((res) => {\r\n      if (!!res.conf1) {\r\n        (row.conf1 as number)++;\r\n      }\r\n      if (!!res.conf2) {\r\n        (row.conf2 as number)++;\r\n      }\r\n      if (!!res.conf3) {\r\n        (row.conf3 as number)++;\r\n      }\r\n    });\r\n\r\n    return row;\r\n  }\r\n\r\n  private setValuesToConfigToApply(conf1: number, conf2: number, conf3: number) {\r\n    const ITEM_CONFIG_TO_APPLY_INDEX = 4;\r\n\r\n    if (!this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX].conf1) {\r\n      this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX].conf1 = conf1;\r\n    }\r\n    if (!this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX].conf2) {\r\n      this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX].conf2 = conf2;\r\n    }\r\n    if (!this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX].conf3) {\r\n      this.configurationReportTable[ITEM_CONFIG_TO_APPLY_INDEX].conf3 = conf3;\r\n    }\r\n  }\r\n\r\n  /***********************************************\r\n   * Filter\r\n   ***********************************************/\r\n  public selectFilter() {\r\n    if (this.selectedConf === this.conf1) {\r\n      this.configurationEvolutionTableOnLoad.forEach((obj) => {\r\n        obj.isDisabled = obj.isMandatory;\r\n      });\r\n    }\r\n\r\n    switch (this.selectedFilter) {\r\n      case '0': {\r\n        this.configurationEvolutionTableOnLoad = _cloneDeep(this.configurationEvolutionTable);\r\n        break;\r\n      }\r\n      case '1': {\r\n        this.configurationEvolutionTableOnLoad = this.configurationEvolutionTable.filter((res) => {\r\n          if (this.selectedConf === 'conf1') {\r\n            return res.inMinConf === true;\r\n          }\r\n          if (this.selectedConf === 'conf2') {\r\n            return res.inConf2 === true;\r\n          }\r\n          if (this.selectedConf === 'conf3') {\r\n            return res.inConf3 === true;\r\n          }\r\n        });\r\n        break;\r\n      }\r\n      case '2': {\r\n        this.configurationEvolutionTableOnLoad = this.configurationEvolutionTable.filter((res) => {\r\n          if (this.selectedConf === 'conf1') {\r\n            return res.inMinConf === false;\r\n          }\r\n          if (this.selectedConf === 'conf2') {\r\n            return res.inConf2 === false;\r\n          }\r\n          if (this.selectedConf === 'conf3') {\r\n            return res.inConf3 === false;\r\n          }\r\n        });\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.configurationEvolutionTableOnLoad = _cloneDeep(this.configurationEvolutionTableOnLoad);\r\n    this.renderEvolutionTable(false);\r\n  }\r\n\r\n  private updateAppliedReportCounter() {\r\n    // Resetting the counter\r\n    this.setAppliedCounter(0, 0, 0, 0, 0, 0);\r\n\r\n    // Updating applied counters\r\n    let appliedInConf1 = 0;\r\n    let appliedInConf2 = 0;\r\n    let appliedInConf3 = 0;\r\n\r\n    // Updating Incoming Counters\r\n    let incomingConf1 = 0;\r\n    let incomingConf2 = 0;\r\n    let incomingConf3 = 0;\r\n\r\n    this.configurationEvolutionTable.forEach((res) => {\r\n      if (res.inMinConf) {\r\n        appliedInConf1++;\r\n\r\n        if (res.category === this.translateService.instant(this.getTranslateKey('incomingLogbook'))) {\r\n          incomingConf1++;\r\n        }\r\n      }\r\n      if (res.inConf2) {\r\n        appliedInConf2++;\r\n\r\n        if (res.category === this.translateService.instant(this.getTranslateKey('incomingLogbook'))) {\r\n          incomingConf2++;\r\n        }\r\n      }\r\n      if (res.inConf3) {\r\n        appliedInConf3++;\r\n\r\n        if (res.category === this.translateService.instant(this.getTranslateKey('incomingLogbook'))) {\r\n          incomingConf3++;\r\n        }\r\n      }\r\n    });\r\n\r\n    this.setAppliedCounter(appliedInConf1, appliedInConf2, appliedInConf3, incomingConf1, incomingConf2, incomingConf3);\r\n  }\r\n\r\n  /**********************************************\r\n   * Set APPLIED Counter\r\n   **********************************************/\r\n  private setAppliedCounter(\r\n    conf1: number,\r\n    conf2: number,\r\n    conf3: number,\r\n    inconf1: number,\r\n    inconf2: number,\r\n    inconf3: number\r\n  ) {\r\n    const appliedIndex = 1;\r\n    const incomingLogbookIndex = 3;\r\n\r\n    // Resetting the counter\r\n    this.configurationReportTable = this.configurationReportTable.map((obj, index) => {\r\n      const row: ConfTableOutputRow = obj;\r\n      if (index === appliedIndex) {\r\n        obj.conf1 = conf1;\r\n        obj.conf2 = conf2;\r\n        obj.conf3 = conf3;\r\n        if (obj.conf1 && obj.conf2 && obj.conf3) {\r\n          row.max = Math.max(obj.conf1, obj.conf2, obj.conf3);\r\n        }\r\n      }\r\n\r\n      if (index === incomingLogbookIndex) {\r\n        obj.conf1 = inconf1;\r\n        obj.conf2 = inconf2;\r\n        obj.conf3 = inconf3;\r\n        if (obj.conf1 && obj.conf2 && obj.conf3) {\r\n          row.max = Math.max(obj.conf1, obj.conf2, obj.conf3);\r\n        }\r\n      }\r\n\r\n      return row;\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ projectNumber }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"save()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container grid-cell-scope  grid-cell-item-structure\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container  loading-indicator\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".availableCausesForRemoval\\\" | translate }}\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                #table\\r\\n                class=\\\"aw-table2\\\"\\r\\n                [columns]=\\\"removalCausesTableCols\\\"\\r\\n                [value]=\\\"removalCausesTable\\\"\\r\\n                [(selection)]=\\\"selectedCauses\\\"\\r\\n                [scrollable]=\\\"true\\\"\\r\\n                scrollHeight=\\\"400px\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isLoadingImport\\\"> &nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isLoadingImport\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedCauses.length > 0 }\\\">\\r\\n                    <div class=\\\"aw-table-global-filter\\\">\\r\\n                      <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                        <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </label>\\r\\n\\r\\n                      <input\\r\\n                        #ptableResultsGlobalFilter\\r\\n                        class=\\\"aw-table-global-filter-input\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                        (input)=\\\"table.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                    <th class=\\\"aw-table-checkbox-wrapper\\\"></th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\\r\\n                    </td>\\r\\n\\r\\n                    <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <span>\\r\\n                        <p-checkbox\\r\\n                          binary=\\\"true\\\"\\r\\n                          class=\\\"aw-checkbox\\\"\\r\\n                          [(ngModel)]=\\\"rowData.isReturnReasonSelected\\\"\\r\\n                        ></p-checkbox>\\r\\n                      </span>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { ComponentConstants } from '../../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { FavoriteService } from '../../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../../shared/services/tab.service';\r\nimport { SaveCauseRemovalInput } from '../../../../../shared/types/api-input-types/maintenance-component-cockpit/save-cause-removal-input.interface';\r\nimport { ManageCauseRemovalOutputDTO } from '../../../../../shared/types/api-output-types/task-management/manage-cause-removal-output-dto.interface';\r\nimport { BireReturnReasonDTO } from '../../../../../shared/types/api-types/bire-return-reason-dto.interface';\r\nimport { FormPageComponent } from '../../../../../shared/types/form-page-component';\r\nimport { PageComponentData } from '../../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { CockpitWorkscopeFormService } from '../cockpit-workscope-form.service';\r\n\r\ninterface RemovalCausesDTO {\r\n  code?: string;\r\n  name?: string;\r\n  description?: string;\r\n  type?: string;\r\n  isReturnReasonSelected?: boolean;\r\n  isSelectionReadOnly?: boolean;\r\n  _obj?: ManageCauseRemovalOutputDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-manage-removal-causes-form',\r\n  styleUrls: ['../shared/shared.scss'],\r\n  templateUrl: './manage-removal-causes-form.component.html'\r\n})\r\nexport class ManageRemovalCausesFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public projectNumber: number;\r\n  public panelLoading: boolean;\r\n  public tableLoading: boolean;\r\n  public showSaveSpinner: boolean;\r\n  public subtitle: string;\r\n  public removalCausesTable: RemovalCausesDTO[];\r\n  public removalCausesTableCols: TableColumn[];\r\n  public selectedCauses: RemovalCausesDTO[];\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly cockpitWorkscopeFormService: CockpitWorkscopeFormService,\r\n    public readonly sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n    this.setTableColumns();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_MANAGE_REMOVAL_CAUSES_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.init();\r\n    this.loadRemovalCauses();\r\n  }\r\n\r\n  /**********************************\r\n   * INITIALIZATION\r\n   **********************************/\r\n  private init() {\r\n    const context = !!this.componentData.objectId\r\n      ? this.serializationService.deserialize(this.componentData.objectId)\r\n      : undefined;\r\n\r\n    if (!!context) {\r\n      this.displayComponentContext(`N°${context}`, this.isCreateOpenMode);\r\n    }\r\n\r\n    this.removalCausesTable = [];\r\n    this.selectedCauses = [];\r\n  }\r\n\r\n  private setTableColumns() {\r\n    this.removalCausesTableCols = [\r\n      { field: 'code', alignment: 'left', width: '25%' },\r\n      { field: 'name', alignment: 'left', width: '25%' },\r\n      { field: 'description', alignment: 'center', width: '25%' },\r\n      { field: 'type', alignment: 'left', width: '25%' }\r\n    ];\r\n  }\r\n\r\n  private loadRemovalCauses() {\r\n    this.projectNumber = parseInt(this.serializationService.deserialize(this.componentData.objectId as string), 10);\r\n    if (!!this.projectNumber) {\r\n      this.panelLoading = true;\r\n\r\n      if (!!this.projectNumber) {\r\n        this.tableLoading = true;\r\n        this.cockpitWorkscopeFormService\r\n          .findBireReturnReasonsByItem(this.projectNumber)\r\n          .pipe(\r\n            finalize(() => {\r\n              this.tableLoading = false;\r\n            })\r\n          )\r\n          .subscribe((result) => {\r\n            this.removalCausesTable = result.map((obj) => {\r\n              return this.transformToCustomTable(obj);\r\n            });\r\n            this.tableLoading = false;\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  private transformToCustomTable(row: ManageCauseRemovalOutputDTO): RemovalCausesDTO {\r\n    const rowObj: RemovalCausesDTO = {\r\n      _obj: row,\r\n      code: row.bireReturnReasonDTO && row.bireReturnReasonDTO.returnReasonCode,\r\n      description: row.bireReturnReasonDTO && row.bireReturnReasonDTO.returnReasonDescription,\r\n      name: row.bireReturnReasonDTO && row.bireReturnReasonDTO.returnReasonName,\r\n      type: row.causeTypeValue,\r\n      isReturnReasonSelected: row.isReturnReasonSelected,\r\n      isSelectionReadOnly: row.isSelectionReadOnly\r\n    };\r\n\r\n    return rowObj;\r\n  }\r\n\r\n  public save(): void {\r\n    // Building input - only keeping checked elements\r\n    const returnReasonForProjectList: BireReturnReasonDTO[] = [];\r\n    this.removalCausesTable.forEach((elmt) => {\r\n      if (elmt.isReturnReasonSelected && elmt._obj && elmt._obj.bireReturnReasonDTO) {\r\n        returnReasonForProjectList.push(elmt._obj.bireReturnReasonDTO);\r\n      }\r\n    });\r\n\r\n    const input: SaveCauseRemovalInput = {\r\n      projectNumber: this.projectNumber,\r\n      returnReasonDataList: returnReasonForProjectList\r\n    };\r\n\r\n    this.showSaveSpinner = true;\r\n    this.cockpitWorkscopeFormService\r\n      .saveCauseRemovalList(input)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.tableLoading = false;\r\n          this.showSaveSpinner = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (result) => {\r\n          // this.updateOpenMode(ComponentOpenMode.Read);\r\n          this.messageService.showSuccessMessage('global.successOnSave');\r\n        },\r\n        (error) => {\r\n          const httpError = error as HttpErrorResponse;\r\n          if (!!httpError.error && !!httpError.error.errorDesc) {\r\n            this.messageService.showErrorMessage(httpError.error.errorDesc);\r\n          }\r\n        }\r\n      );\r\n  }\r\n}\r\n","module.exports = \":host #breadcrumbs-status {\\n  overflow: hidden;\\n  display: flex; }\\n\\n:host ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none; }\\n\\n:host .breadcrumbs {\\n  display: flex;\\n  flex-grow: 1; }\\n\\n:host .bread-crumb-custom-cell {\\n  background-color: transparent !important;\\n  border-color: transparent !important;\\n  box-shadow: none !important;\\n  padding-bottom: 0 !important; }\\n\\n:host #breadcrumbs-status li {\\n  float: left;\\n  margin: 0 1em 0 1em; }\\n\\n:host #breadcrumbs-status .current {\\n  float: left;\\n  margin: 0 1em 0 1em; }\\n\\n:host #breadcrumbs-status .statusLabel {\\n  background: #ffffff;\\n  padding: 0.3em 1em;\\n  float: left;\\n  text-decoration: none;\\n  color: #000;\\n  position: relative;\\n  white-space: nowrap;\\n  min-height: 3em; }\\n\\n:host #breadcrumbs-status .current .statusLabel {\\n  background: #01579b; }\\n\\n:host #breadcrumbs-status .statusLabel::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 50%;\\n  margin-top: -1.5em;\\n  border-width: 1.5em 0 1.5em 1em;\\n  border-style: solid;\\n  border-color: #ffffff #ffffff #ffffff transparent;\\n  left: -1em; }\\n\\n:host #breadcrumbs-status .current .statusLabel::before {\\n  border-color: #01579b #01579b #01579b transparent; }\\n\\n:host #breadcrumbs-status .statusLabel::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 50%;\\n  margin-top: -1.5em;\\n  border-top: 1.5em solid transparent;\\n  border-bottom: 1.5em solid transparent;\\n  border-left: 1em solid #ffffff;\\n  right: -1em; }\\n\\n:host #breadcrumbs-status .current .statusLabel::after {\\n  border-left-color: #01579b; }\\n\\n:host #breadcrumbs-status .current .statusLabel {\\n  color: white;\\n  font-weight: bold; }\\n\\n:host #breadcrumbs-status .current::after,\\n:host #breadcrumbs-status .current::before {\\n  content: normal; }\\n\\n:host .illustration {\\n  text-align: center; }\\n\\n:host .img-class {\\n  max-height: 7rem;\\n  cursor: pointer; }\\n\\n:host .margin-class {\\n  margin-top: 1em; }\\n\\n:host .breadcrumb-cursor {\\n  cursor: pointer; }\\n\\n:host .disable-pointer {\\n  cursor: none;\\n  pointer-events: none; }\\n\\n:host .padding-class {\\n  padding-left: 0.5em; }\\n\\n:host .custom-height {\\n  height: 15em !important; }\\n\\n:host .custom-chart-height {\\n  height: 9.6em !important; }\\n\\n:host .div-padding {\\n  padding-top: 1em !important; }\\n\\n:host .custom-breadcrumb-padding {\\n  padding: 0 !important; }\\n\\n:host .sibling-list {\\n  float: right; }\\n\\n:host .subtitle {\\n  max-width: 10em;\\n  overflow: hidden;\\n  word-wrap: break-word;\\n  text-overflow: ellipsis; }\\n\\n:host .blue-cell {\\n  background-color: #b8d0e8; }\\n\\n:host .anchor-class {\\n  padding-left: 1em;\\n  cursor: pointer; }\\n\\n:host .control-class {\\n  white-space: nowrap;\\n  overflow: hidden !important;\\n  text-overflow: ellipsis; }\\n\\n::ng-deep .action-list {\\n  justify-content: flex-end; }\\n\\n::ng-deep .action-list .aw-btn {\\n    margin-left: 8px; }\\n\\n::ng-deep .action-list .aw-btn:first-of-type {\\n      margin-left: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9jb2NrcGl0LXdvcmtzY29wZS9mb3JtL3NoYXJlZC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcbWFpbnRlbmFuY2VcXGNvY2twaXQtd29ya3Njb3BlXFxmb3JtXFxzaGFyZWRcXHNoYXJlZC5zY3NzIiwic3JjL2FwcC9tYWluL21haW50ZW5hbmNlL2NvY2twaXQtd29ya3Njb3BlL2Zvcm0vc2hhcmVkL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcc3R5bGVzXFxfY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFFSSxnQkFBZ0I7RUFDaEIsYUFBYSxFQUFBOztBQUhqQjtFQU9JLFNBQVM7RUFDVCxVQUFVO0VBQ1YsZ0JBQWdCLEVBQUE7O0FBVHBCO0VBYUksYUFBYTtFQUNiLFlBQVksRUFBQTs7QUFkaEI7RUFrQkksd0NBQXdDO0VBQ3hDLG9DQUFvQztFQUNwQywyQkFBMkI7RUFDM0IsNEJBQTRCLEVBQUE7O0FBckJoQztFQXlCSSxXQUFXO0VBQ1gsbUJBQW1CLEVBQUE7O0FBMUJ2QjtFQThCSSxXQUFXO0VBQ1gsbUJBQW1CLEVBQUE7O0FBL0J2QjtFQW1DSSxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxxQkFBcUI7RUFDckIsV0N4Q3FCO0VEeUNyQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGVBQWUsRUFBQTs7QUExQ25CO0VBOENJLG1CQzdDa0IsRUFBQTs7QUREdEI7RUFrREksV0FBVztFQUNYLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1Isa0JBQWtCO0VBQ2xCLCtCQUErQjtFQUMvQixtQkFBbUI7RUFDbkIsaURBQWlEO0VBQ2pELFVBQVUsRUFBQTs7QUF6RGQ7RUE2REksaURBQW1FLEVBQUE7O0FBN0R2RTtFQWlFSSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixrQkFBa0I7RUFDbEIsbUNBQW1DO0VBQ25DLHNDQUFzQztFQUN0Qyw4QkFBOEI7RUFDOUIsV0FBVyxFQUFBOztBQXhFZjtFQTRFSSwwQkMzRWtCLEVBQUE7O0FERHRCO0VBZ0ZJLFlBQVk7RUFDWixpQkFBaUIsRUFBQTs7QUFqRnJCOztFQXNGSSxlQUFlLEVBQUE7O0FBdEZuQjtFQTBGSSxrQkFBa0IsRUFBQTs7QUExRnRCO0VBOEZJLGdCQUFnQjtFQUNoQixlQUFlLEVBQUE7O0FBL0ZuQjtFQW1HSSxlQUFlLEVBQUE7O0FBbkduQjtFQXVHSSxlQUFlLEVBQUE7O0FBdkduQjtFQTJHSSxZQUFZO0VBQ1osb0JBQW9CLEVBQUE7O0FBNUd4QjtFQWdISSxtQkFBbUIsRUFBQTs7QUFoSHZCO0VBb0hJLHVCQUF1QixFQUFBOztBQXBIM0I7RUF3SEksd0JBQXdCLEVBQUE7O0FBeEg1QjtFQTRISSwyQkFBMkIsRUFBQTs7QUE1SC9CO0VBZ0lJLHFCQUFxQixFQUFBOztBQWhJekI7RUFvSUksWUFBWSxFQUFBOztBQXBJaEI7RUF3SUksZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsdUJBQXVCLEVBQUE7O0FBM0kzQjtFQStJSSx5QkN6SGlCLEVBQUE7O0FEdEJyQjtFQW1KSSxpQkFBaUI7RUFDakIsZUFBZSxFQUFBOztBQXBKbkI7RUF3SkksbUJBQW1CO0VBQ25CLDJCQUEyQjtFQUMzQix1QkFBdUIsRUFBQTs7QUFJM0I7RUFDRSx5QkFBeUIsRUFBQTs7QUFEM0I7SUFJSSxnQkN6SGMsRUFBQTs7QURxSGxCO01BT00sY0FBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9jb2NrcGl0LXdvcmtzY29wZS9mb3JtL3NoYXJlZC9zaGFyZWQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuQGltcG9ydCBcIm1peGluc1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gICNicmVhZGNydW1icy1zdGF0dXMge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgfVxyXG5cclxuICB1bCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICB9XHJcblxyXG4gIC5icmVhZGNydW1icyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1ncm93OiAxO1xyXG4gIH1cclxuXHJcbiAgLmJyZWFkLWNydW1iLWN1c3RvbS1jZWxsIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XHJcbiAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMCAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyBsaSB7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIG1hcmdpbjogMCAxZW0gMCAxZW07XHJcbiAgfVxyXG5cclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5jdXJyZW50IHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgbWFyZ2luOiAwIDFlbSAwIDFlbTtcclxuICB9XHJcblxyXG4gICNicmVhZGNydW1icy1zdGF0dXMgLnN0YXR1c0xhYmVsIHtcclxuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XHJcbiAgICBwYWRkaW5nOiAwLjNlbSAxZW07XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgIG1pbi1oZWlnaHQ6IDNlbTtcclxuICB9XHJcblxyXG4gICNicmVhZGNydW1icy1zdGF0dXMgLmN1cnJlbnQgLnN0YXR1c0xhYmVsIHtcclxuICAgIGJhY2tncm91bmQ6ICRhY2NlbnQtY29sb3I7XHJcbiAgfVxyXG5cclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5zdGF0dXNMYWJlbDo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIG1hcmdpbi10b3A6IC0xLjVlbTtcclxuICAgIGJvcmRlci13aWR0aDogMS41ZW0gMCAxLjVlbSAxZW07XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZmZmZmZmICNmZmZmZmYgI2ZmZmZmZiB0cmFuc3BhcmVudDtcclxuICAgIGxlZnQ6IC0xZW07XHJcbiAgfVxyXG5cclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5jdXJyZW50IC5zdGF0dXNMYWJlbDo6YmVmb3JlIHtcclxuICAgIGJvcmRlci1jb2xvcjogJGFjY2VudC1jb2xvciAkYWNjZW50LWNvbG9yICRhY2NlbnQtY29sb3IgdHJhbnNwYXJlbnQ7XHJcbiAgfVxyXG5cclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5zdGF0dXNMYWJlbDo6YWZ0ZXIge1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgbWFyZ2luLXRvcDogLTEuNWVtO1xyXG4gICAgYm9yZGVyLXRvcDogMS41ZW0gc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItYm90dG9tOiAxLjVlbSBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1sZWZ0OiAxZW0gc29saWQgI2ZmZmZmZjtcclxuICAgIHJpZ2h0OiAtMWVtO1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuY3VycmVudCAuc3RhdHVzTGFiZWw6OmFmdGVyIHtcclxuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gIH1cclxuXHJcbiAgI2JyZWFkY3J1bWJzLXN0YXR1cyAuY3VycmVudCAuc3RhdHVzTGFiZWwge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG5cclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5jdXJyZW50OjphZnRlcixcclxuICAjYnJlYWRjcnVtYnMtc3RhdHVzIC5jdXJyZW50OjpiZWZvcmUge1xyXG4gICAgY29udGVudDogbm9ybWFsO1xyXG4gIH1cclxuXHJcbiAgLmlsbHVzdHJhdGlvbiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAuaW1nLWNsYXNzIHtcclxuICAgIG1heC1oZWlnaHQ6IDdyZW07XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICAubWFyZ2luLWNsYXNzIHtcclxuICAgIG1hcmdpbi10b3A6IDFlbTtcclxuICB9XHJcblxyXG4gIC5icmVhZGNydW1iLWN1cnNvciB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICAuZGlzYWJsZS1wb2ludGVyIHtcclxuICAgIGN1cnNvcjogbm9uZTtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gIH1cclxuXHJcbiAgLnBhZGRpbmctY2xhc3Mge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwLjVlbTtcclxuICB9XHJcblxyXG4gIC5jdXN0b20taGVpZ2h0IHtcclxuICAgIGhlaWdodDogMTVlbSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmN1c3RvbS1jaGFydC1oZWlnaHQge1xyXG4gICAgaGVpZ2h0OiA5LjZlbSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLmRpdi1wYWRkaW5nIHtcclxuICAgIHBhZGRpbmctdG9wOiAxZW0gIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5jdXN0b20tYnJlYWRjcnVtYi1wYWRkaW5nIHtcclxuICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5zaWJsaW5nLWxpc3Qge1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gIH1cclxuXHJcbiAgLnN1YnRpdGxlIHtcclxuICAgIG1heC13aWR0aDogMTBlbTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB9XHJcblxyXG4gIC5ibHVlLWNlbGwge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGJsdWUtbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLmFuY2hvci1jbGFzcyB7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDFlbTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcblxyXG4gIC5jb250cm9sLWNsYXNzIHtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAuYWN0aW9uLWxpc3Qge1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gIC5hdy1idG4ge1xyXG4gICAgbWFyZ2luLWxlZnQ6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iXX0= */\"","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"30\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".fileToImport\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n        <div class=\\\"form-control-data control-class\\\" title=\\\"{{ fileName }}\\\">\\r\\n          {{ fileName }}\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"btn-file-upload-wrapper\\\">\\r\\n          <p-fileUpload\\r\\n            #fileUploader\\r\\n            *ngIf=\\\"!isReadOpenMode\\\"\\r\\n            class=\\\"aw-fileupload\\\"\\r\\n            name=\\\"document[]\\\"\\r\\n            customUpload=\\\"true\\\"\\r\\n            mode=\\\"basic\\\"\\r\\n            auto=\\\"true\\\"\\r\\n            chooseLabel=\\\"\\\"\\r\\n            (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n          >\\r\\n          </p-fileUpload>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <a class=\\\"anchor-class\\\" (click)=\\\"openTemplate()\\\">{{ getComponentName() + \\\".templateFile\\\" | translate }}</a>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"import()\\\" [disabled]=\\\"!fileName\\\">\\r\\n      {{ \\\"global.import\\\" | translate }}\\r\\n    </button>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"close()\\\">{{ \\\"global.close\\\" | translate }}</button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BidoDocumentationDTO } from '../../../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { FileUtils } from '../../../../../shared/utils/file-utils';\r\nimport { CockpitWorkscopeFormService } from '../cockpit-workscope-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-workscope-import-popup',\r\n  styleUrls: ['../shared/shared.scss'],\r\n  templateUrl: './workscope-import-popup.component.html'\r\n})\r\nexport class WorkscopeImportPopupComponent extends DialogComponent implements OnInit {\r\n  @Output()\r\n  public displayChange: EventEmitter<boolean>;\r\n\r\n  @Output()\r\n  public refresh: EventEmitter<string>;\r\n\r\n  public readonly componentId: string;\r\n\r\n  public displayValue: boolean;\r\n\r\n  public fileName: string;\r\n  public file: BidoDocumentationDTO;\r\n\r\n  public templateName: string;\r\n\r\n  public constructor(\r\n    private readonly messageService: MessageService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly cockpitWorkscopeFormService: CockpitWorkscopeFormService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'WorkscopeImportPopupComponent');\r\n\r\n    this.refresh = new EventEmitter<string>();\r\n    this.templateName = this.translateService.instant(this.getTranslateKey('templateFile'));\r\n  }\r\n\r\n  public ngOnInit() {\r\n    // todo\r\n  }\r\n\r\n  public openTemplate() {\r\n    this.cockpitWorkscopeFormService.downloadTemplate().subscribe((result) => {\r\n      this.downLoadFiles(result, this.templateName);\r\n    });\r\n  }\r\n\r\n  public downLoadFiles(docFile: Uint8Array, docName: string): void {\r\n    FileUtils.downloadFile(docFile, docName);\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (event.files) {\r\n      const file: File = event.files[0];\r\n      {\r\n        FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n          this.file = {\r\n            docFile: fileContent,\r\n            docName: file.name,\r\n            docPublicationDate: new Date()\r\n          };\r\n          if (!!this.file.docName) {\r\n            this.fileName = this.file.docName;\r\n          }\r\n        });\r\n      }\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public import(): void {\r\n    // TODO : Add import functionality\r\n    this.messageService.showSuccessMessage(this.getTranslateKey('succesMessage'));\r\n    this.close();\r\n  }\r\n\r\n  public close(): void {\r\n    this.display = false;\r\n    this.refresh.emit();\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-content\\\">\\r\\n  <div class=\\\"grid-row\\\">\\r\\n    <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n      <div class=\\\"grid-cell-content\\\">\\r\\n        <div class=\\\"column\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group flex--auto\\\">\\r\\n              <label class=\\\"form-label\\\"> &nbsp; </label>\\r\\n\\r\\n              <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                <p-selectButton\\r\\n                  [options]=\\\"serializeList\\\"\\r\\n                  [multiple]=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"selectedSerialize\\\"\\r\\n                  (onChange)=\\\"onChangeSerializeFilter()\\\"\\r\\n                ></p-selectButton>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group flex--auto\\\">\\r\\n              <label class=\\\"form-label\\\"> &nbsp; </label>\\r\\n\\r\\n              <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                <p-selectButton\\r\\n                  [options]=\\\"workscopeList\\\"\\r\\n                  [multiple]=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"selectedWorkscope\\\"\\r\\n                  (onChange)=\\\"onChangeWorkscopeFilter()\\\"\\r\\n                ></p-selectButton>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group flex--auto\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".family\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-autoComplete\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [(ngModel)]=\\\"searchCriteria.family\\\"\\r\\n                  [suggestions]=\\\"listInterface.familyList\\\"\\r\\n                  [immutable]=\\\"true\\\"\\r\\n                  [dropdown]=\\\"true\\\"\\r\\n                  [forceSelection]=\\\"true\\\"\\r\\n                  (completeMethod)=\\\"searchFamilyList($event)\\\"\\r\\n                  (onSelect)=\\\"loadItemList()\\\"\\r\\n                  (onClear)=\\\"resetItemList(true)\\\"\\r\\n                ></p-autoComplete>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group flex--auto\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".item\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-autoComplete\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [(ngModel)]=\\\"selectedItem\\\"\\r\\n                  [suggestions]=\\\"listInterface.itemList\\\"\\r\\n                  field=\\\"label\\\"\\r\\n                  [immutable]=\\\"true\\\"\\r\\n                  [dropdown]=\\\"true\\\"\\r\\n                  (completeMethod)=\\\"searchItemList($event)\\\"\\r\\n                  (onClear)=\\\"resetItemList(false)\\\"\\r\\n                ></p-autoComplete>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".pn\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-autoComplete\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [(ngModel)]=\\\"searchCriteria.pn\\\"\\r\\n                  [suggestions]=\\\"listInterface.pnList\\\"\\r\\n                  [immutable]=\\\"true\\\"\\r\\n                  [dropdown]=\\\"true\\\"\\r\\n                  (completeMethod)=\\\"searchPNList($event)\\\"\\r\\n                ></p-autoComplete>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sn\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchCriteria.sn\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".designation\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchCriteria.designation\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".functionCode\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-autoComplete\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [(ngModel)]=\\\"searchCriteria.functionCode\\\"\\r\\n                  [suggestions]=\\\"listInterface.functionCodeList\\\"\\r\\n                  [immutable]=\\\"true\\\"\\r\\n                  [dropdown]=\\\"true\\\"\\r\\n                  (completeMethod)=\\\"searchFunctionCodeList($event)\\\"\\r\\n                ></p-autoComplete>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".impacts\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-autoComplete\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [(ngModel)]=\\\"searchCriteria.impact\\\"\\r\\n                  [suggestions]=\\\"listInterface.impactList\\\"\\r\\n                  [immutable]=\\\"true\\\"\\r\\n                  [dropdown]=\\\"true\\\"\\r\\n                  (completeMethod)=\\\"searchImpactList($event)\\\"\\r\\n                ></p-autoComplete>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".wo\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-autoComplete\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [(ngModel)]=\\\"searchCriteria.woCode\\\"\\r\\n                  [suggestions]=\\\"listInterface.woList\\\"\\r\\n                  [immutable]=\\\"true\\\"\\r\\n                  [dropdown]=\\\"true\\\"\\r\\n                  (completeMethod)=\\\"searchWoList($event)\\\"\\r\\n                ></p-autoComplete>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row action-list\\\">\\r\\n            <button type=\\\"button\\\" mat-raised-button (click)=\\\"reset()\\\">\\r\\n              {{ \\\"global.reset\\\" | translate }}\\r\\n            </button>\\r\\n\\r\\n            <button type=\\\"button\\\" mat-raised-button (click)=\\\"filter()\\\">\\r\\n              {{ \\\"global.filter\\\" | translate }}\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep as _cloneDeep } from 'lodash-es';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BireItemForWorkscopeTreeDTO } from '../../../../../shared/types/api-output-types/workscope-component/bire-item-for-workscope-tree-dto.interface';\r\nimport { WorkscopeTreeData } from '../../../../../shared/types/api-output-types/workscope-component/workscope-tree-data-output';\r\nimport { GenericComponent } from '../../../../../shared/types/generic-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\ninterface WorkscopeTableFilter {\r\n  selectedSerialize?: number[];\r\n  selectedWorkscope?: number[];\r\n  family?: string;\r\n  item?: string;\r\n  sn?: string;\r\n  pn?: string;\r\n  woCode?: string;\r\n  designation?: string;\r\n  impact?: string;\r\n  functionCode?: string;\r\n}\r\n\r\ninterface DropdownListInterface {\r\n  familyList: string[];\r\n  itemList?: LabelValue<string>[];\r\n  pnList: string[];\r\n  functionCodeList: string[];\r\n  impactList: string[];\r\n  woList: string[];\r\n}\r\n\r\ninterface InventoryDTO {\r\n  pn?: string;\r\n  sn?: string;\r\n  woCode?: string;\r\n  quantity?: string;\r\n  workScopingOrder?: string;\r\n  trackingNumber?: string;\r\n  tn?: string;\r\n  icon?: string;\r\n  serialized?: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-workscope-table-filters',\r\n  templateUrl: './workscope-table-filters.component.html',\r\n  styleUrls: ['../shared/shared.scss']\r\n})\r\nexport class WorkscopeTableFilterComponent extends GenericComponent {\r\n  private static readonly SERIALIZE: number = 0;\r\n  private static readonly NOT_SERIALIZE: number = 1;\r\n  private static readonly WORKSCOPE: number = 0;\r\n  private static readonly NOT_WORKSCOPE: number = 1;\r\n\r\n  @Input('searchCriteria')\r\n  public set setSearchCriteria(data: WorkscopeTableFilter) {\r\n    if (!!data) {\r\n      this.searchCriteria = data;\r\n\r\n      if (!!this.searchCriteria.selectedSerialize) {\r\n        this.selectedSerialize = this.searchCriteria.selectedSerialize;\r\n      }\r\n\r\n      if (!!this.searchCriteria.selectedWorkscope) {\r\n        this.selectedWorkscope = this.searchCriteria.selectedWorkscope;\r\n      }\r\n\r\n      if (!!this.searchCriteria.family) {\r\n        this.listInterface.itemList = [];\r\n        this.loadItemList();\r\n      }\r\n\r\n      if (!!this.searchCriteria.item) {\r\n        this.selectedItem = { label: this.searchCriteria.item, value: this.searchCriteria.item };\r\n      }\r\n    }\r\n  }\r\n\r\n  @Input('workscopeTreeData')\r\n  public set setTreeData(data: WorkscopeTreeData[]) {\r\n    if (!!data && this.updateCounter === 0) {\r\n      this.buildTree(data);\r\n      if (!!this.searchCriteria.family) {\r\n        this.loadItemList();\r\n      } else {\r\n        this.listInterface.itemList = [...this.itemListClone];\r\n      }\r\n      this.cloneListInterface = _cloneDeep(this.listInterface);\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public familyCodeMap: Map<string, string>;\r\n\r\n  @Output()\r\n  public onFilter: EventEmitter<void>;\r\n\r\n  @Output()\r\n  public onReset: EventEmitter<void>;\r\n\r\n  public searchCriteria: WorkscopeTableFilter;\r\n\r\n  public serializeList: LabelValue<number>[];\r\n  public workscopeList: LabelValue<number>[];\r\n  private itemFamilyList: LabelValue<string>[];\r\n\r\n  public selectedSerialize: number[];\r\n  public selectedWorkscope: number[];\r\n  private itemListClone: LabelValue<string>[];\r\n  public selectedItem: LabelValue<string> | undefined;\r\n\r\n  public listInterface: DropdownListInterface;\r\n  private cloneListInterface: DropdownListInterface;\r\n\r\n  private updateCounter: number = 0;\r\n\r\n  public constructor(public sessionService: SessionService, public translateService: TranslateService) {\r\n    super(ComponentOpenMode.Write);\r\n\r\n    this.init();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'WorkscopeTableFilterComponent';\r\n  }\r\n\r\n  public filter(): void {\r\n    if (!!this.selectedItem) {\r\n      // Avoiding setting of undefined in item\r\n      this.searchCriteria.item = this.selectedItem.label;\r\n    }\r\n    this.onFilter.emit();\r\n  }\r\n\r\n  public reset(): void {\r\n    this.selectedItem = undefined;\r\n    this.listInterface.itemList = [...this.cloneListInterface.itemList];\r\n    this.searchCriteria = {};\r\n    this.selectedSerialize = [WorkscopeTableFilterComponent.SERIALIZE, WorkscopeTableFilterComponent.NOT_SERIALIZE];\r\n    this.selectedWorkscope = [WorkscopeTableFilterComponent.WORKSCOPE, WorkscopeTableFilterComponent.NOT_WORKSCOPE];\r\n    this.onReset.emit();\r\n  }\r\n\r\n  private init(): void {\r\n    this.onFilter = new EventEmitter<void>();\r\n    this.onReset = new EventEmitter<void>();\r\n\r\n    this.initDropdown();\r\n  }\r\n\r\n  /*********************************************\r\n   * INITILIZE DROPDOWNS\r\n   ********************************************/\r\n  private initDropdown() {\r\n    this.itemFamilyList = [];\r\n    this.itemListClone = [];\r\n\r\n    this.serializeList = [\r\n      { label: this.translateService.instant(this.getTranslateKey('serialized')), value: 0 },\r\n      { label: this.translateService.instant(this.getTranslateKey('notSerialized')), value: 1 }\r\n    ];\r\n\r\n    this.workscopeList = [\r\n      { label: this.translateService.instant(this.getTranslateKey('workscope')), value: 0 },\r\n      { label: this.translateService.instant(this.getTranslateKey('notWorkscope')), value: 1 }\r\n    ];\r\n\r\n    this.listInterface = {\r\n      familyList: [],\r\n      functionCodeList: [],\r\n      impactList: [],\r\n      pnList: [],\r\n      woList: []\r\n    };\r\n\r\n    if (!this.searchCriteria) {\r\n      this.searchCriteria = {};\r\n    }\r\n\r\n    this.selectedSerialize = [WorkscopeTableFilterComponent.SERIALIZE, WorkscopeTableFilterComponent.NOT_SERIALIZE];\r\n    this.selectedWorkscope = [WorkscopeTableFilterComponent.WORKSCOPE, WorkscopeTableFilterComponent.NOT_WORKSCOPE];\r\n  }\r\n\r\n  /**************************************************\r\n   * SET DATA FOR DROPDOWN\r\n   *************************************************/\r\n  private buildTree(data: WorkscopeTreeData[]): WorkscopeTreeData[] {\r\n    const toReturn: WorkscopeTreeData[] = [];\r\n\r\n    data.forEach((elt: WorkscopeTreeData) => {\r\n      const eleClone = elt.data;\r\n\r\n      if (!!eleClone) {\r\n        if (!!eleClone.item && !!eleClone.itemFamilyCode) {\r\n          this.itemFamilyList.push({\r\n            label: eleClone.item,\r\n            value: eleClone.itemFamilyCode\r\n          });\r\n        }\r\n\r\n        this.setDropdowns(eleClone);\r\n      }\r\n      toReturn.push({\r\n        data: eleClone,\r\n        children: this.buildTree(elt.children || []),\r\n        bireItemDTO: elt.bireItemDTO\r\n      });\r\n    });\r\n\r\n    return toReturn;\r\n  }\r\n\r\n  private setDropdowns(eleClone: BireItemForWorkscopeTreeDTO) {\r\n    if (!!this.listInterface) {\r\n      if (!!eleClone.item) {\r\n        const isPresent = this.itemListClone.filter((res) => res.value === eleClone.item);\r\n        if (isPresent.length === 0) {\r\n          this.itemListClone.push({\r\n            label: eleClone.item,\r\n            value: eleClone.item\r\n          });\r\n        }\r\n      }\r\n\r\n      if (!!eleClone.itemFamilyCode) {\r\n        const isPresent = this.listInterface.familyList.filter((res) => res === eleClone.itemFamilyCode);\r\n\r\n        if (isPresent.length === 0) {\r\n          this.listInterface.familyList.push(eleClone.itemFamilyCode);\r\n        }\r\n      }\r\n\r\n      if (!!eleClone.impact) {\r\n        const isPresent = this.listInterface.impactList.filter((res) => res === eleClone.impact);\r\n\r\n        if (isPresent.length === 0) {\r\n          this.listInterface.impactList.push(eleClone.impact);\r\n        }\r\n      }\r\n\r\n      if (!!eleClone.functionCode) {\r\n        const isPresent = this.listInterface.functionCodeList.filter((res) => res === eleClone.functionCode);\r\n\r\n        if (isPresent.length === 0) {\r\n          this.listInterface.functionCodeList.push(eleClone.functionCode);\r\n        }\r\n      }\r\n\r\n      if (!!eleClone.inventoriesList && eleClone.inventoriesList.length > 0) {\r\n        eleClone.inventoriesList.forEach((inventory: InventoryDTO) => {\r\n          if (!!inventory.pn) {\r\n            const isPNPresent = this.listInterface.pnList.filter((res) => res === inventory.pn);\r\n\r\n            if (isPNPresent.length === 0) {\r\n              this.listInterface.pnList.push(inventory.pn);\r\n            }\r\n          }\r\n\r\n          if (!!inventory.workScopingOrder) {\r\n            const isWOPresent = this.listInterface.woList.filter((res) => res === inventory.workScopingOrder);\r\n\r\n            if (isWOPresent.length === 0) {\r\n              this.listInterface.woList.push(inventory.workScopingOrder);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    this.updateCounter += 1;\r\n  }\r\n\r\n  /*****************************************************\r\n   * FILTER ITEM LIST ON BASIS OF FAMILY\r\n   *****************************************************/\r\n  public loadItemList() {\r\n    const dtoList = this.itemFamilyList.filter(\r\n      (res) => !!this.searchCriteria.family && res.value === this.searchCriteria.family\r\n    );\r\n\r\n    if (!!dtoList && dtoList.length > 0) {\r\n      this.listInterface.itemList = [...dtoList];\r\n    } else {\r\n      this.listInterface.itemList = [];\r\n    }\r\n  }\r\n\r\n  /********************************************\r\n   * Filter List\r\n   *******************************************/\r\n  public searchFamilyList(ev) {\r\n    let dataArr: string[] = [];\r\n    if (!!ev && !!ev.query && !!this.cloneListInterface && !!this.cloneListInterface.familyList) {\r\n      dataArr = this.cloneListInterface.familyList.filter((family) =>\r\n        family.toLowerCase().startsWith(ev.query.toLowerCase())\r\n      );\r\n    } else {\r\n      dataArr = this.cloneListInterface.familyList || [];\r\n    }\r\n\r\n    this.listInterface.familyList = [...dataArr];\r\n  }\r\n\r\n  public resetItemList(resetFamily: boolean) {\r\n    if (resetFamily) {\r\n      this.searchCriteria.family = undefined;\r\n    }\r\n    this.searchCriteria.item = undefined;\r\n    if (!!this.searchCriteria.family) {\r\n      this.loadItemList();\r\n    } else {\r\n      this.listInterface.itemList = [...this.itemListClone];\r\n    }\r\n  }\r\n\r\n  public searchPNList(ev) {\r\n    let dataArr: string[] = [];\r\n    if (!!ev && !!ev.query && !!this.cloneListInterface && !!this.cloneListInterface.pnList) {\r\n      dataArr = this.cloneListInterface.pnList.filter((pn) => pn.toLowerCase().startsWith(ev.query.toLowerCase()));\r\n    } else {\r\n      dataArr = this.cloneListInterface.pnList || [];\r\n    }\r\n\r\n    this.listInterface.pnList = [...dataArr];\r\n  }\r\n\r\n  /**********************************************\r\n   * Filter Item List\r\n   *********************************************/\r\n  public searchItemList(ev) {\r\n    const list = this.getItemListForFamily();\r\n    if (!!ev && !!ev.query && !!list) {\r\n      this.listInterface.itemList = list.filter((res) => res.label.toLowerCase().startsWith(ev.query.toLowerCase()));\r\n    } else {\r\n      this.listInterface.itemList = [...this.listInterface.itemList];\r\n    }\r\n  }\r\n\r\n  private getItemListForFamily() {\r\n    let list: LabelValue<string>[] = this.cloneListInterface.itemList || [];\r\n    if (!!this.searchCriteria.family) {\r\n      list = this.itemFamilyList.filter(\r\n        (res) => !!this.searchCriteria.family && res.value === this.searchCriteria.family\r\n      );\r\n    }\r\n\r\n    return list;\r\n  }\r\n\r\n  public searchFunctionCodeList(ev) {\r\n    let dataArr: string[] = [];\r\n    if (!!ev && !!ev.query && !!this.cloneListInterface && !!this.cloneListInterface.functionCodeList) {\r\n      dataArr = this.cloneListInterface.functionCodeList.filter((code) =>\r\n        code.toLowerCase().startsWith(ev.query.toLowerCase())\r\n      );\r\n    } else {\r\n      dataArr = this.cloneListInterface.functionCodeList || [];\r\n    }\r\n\r\n    this.listInterface.functionCodeList = [...dataArr];\r\n  }\r\n\r\n  public searchImpactList(ev) {\r\n    let dataArr: string[] = [];\r\n    if (!!ev && !!ev.query && !!this.cloneListInterface && !!this.cloneListInterface.impactList) {\r\n      dataArr = this.cloneListInterface.impactList.filter((impact) =>\r\n        impact.toLowerCase().startsWith(ev.query.toLowerCase())\r\n      );\r\n    } else {\r\n      dataArr = this.cloneListInterface.impactList || [];\r\n    }\r\n\r\n    this.listInterface.impactList = [...dataArr];\r\n  }\r\n\r\n  public searchWoList(ev) {\r\n    let dataArr: string[] = [];\r\n    if (!!ev && !!ev.query && !!this.cloneListInterface && !!this.cloneListInterface.woList) {\r\n      dataArr = this.cloneListInterface.woList.filter((wo) => wo.toLowerCase().startsWith(ev.query.toLowerCase()));\r\n    } else {\r\n      dataArr = this.cloneListInterface.woList || [];\r\n    }\r\n\r\n    this.listInterface.woList = [...dataArr];\r\n  }\r\n\r\n  /******************************************\r\n   * MULTI SELECT FILTER HANDLING\r\n   *****************************************/\r\n  public onChangeSerializeFilter() {\r\n    this.searchCriteria.selectedSerialize = this.selectedSerialize;\r\n  }\r\n\r\n  public onChangeWorkscopeFilter() {\r\n    this.searchCriteria.selectedWorkscope = this.selectedWorkscope;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { AbstractApi } from './abstract.api';\r\n\r\n@Injectable()\r\nexport class WorkscopeComponentApi extends AbstractApi {\r\n  private static readonly baseUrl: string = '/workscope_component';\r\n\r\n  public readonly getWorkscope: string = super.appendToBaseUrl('/get_workscope');\r\n\r\n  public readonly getLoadWorkscope: string = super.appendToBaseUrl('/get_load_workscope');\r\n\r\n  public readonly getWorkscopeTargetNumberAndVariantName: string = super.appendToBaseUrl(\r\n    '/get_workscope_target_number_and_variant_name'\r\n  );\r\n\r\n  public readonly loadWorkscopeTemplate: string = super.appendToBaseUrl('/load_workscope_template');\r\n\r\n  public readonly saveWorkscope: string = super.appendToBaseUrl('/save_workscope');\r\n\r\n  public readonly saveCauseRemoval: string = super.appendToBaseUrl('/save_cause_removal');\r\n\r\n  public constructor() {\r\n    super(WorkscopeComponentApi.baseUrl);\r\n  }\r\n}\r\n","import { StringUtils } from '../../shared/utils/string-utils';\r\n\r\nexport class BidoFamilyVariantUtils {\r\n  public static buildFamilyVariantCode(\r\n    familyCode: string | undefined,\r\n    variantCode: string | undefined\r\n  ): string | undefined {\r\n    if (StringUtils.isNullOrEmpty(familyCode) || StringUtils.isNullOrEmpty(variantCode)) {\r\n      return undefined;\r\n    } else {\r\n      return `${familyCode}-${variantCode}`;\r\n    }\r\n  }\r\n\r\n  public static getFamilyCodeFromFamilyVariantCode(familyVariantCode: string | undefined): string | undefined {\r\n    return !!familyVariantCode && familyVariantCode.indexOf('-') > -1\r\n      ? familyVariantCode.substring(0, familyVariantCode.indexOf('-'))\r\n      : undefined;\r\n  }\r\n\r\n  public static getVariantCodeFromFamilyVariantCode(familyVariantCode: string | undefined): string | undefined {\r\n    return !!familyVariantCode && familyVariantCode.indexOf('-') > -1\r\n      ? familyVariantCode.substring(familyVariantCode.indexOf('-') + 1)\r\n      : undefined;\r\n  }\r\n}\r\n"],"sourceRoot":""}