{"version":3,"sources":["webpack:///./node_modules/primeng/keyfilter.js","webpack:///./src/app/shared/components/dialog-search-purchase-request/dialog-search-purchase-request.component.html","webpack:///./src/app/shared/components/dialog-search-purchase-request/dialog-search-purchase-request.component.ts","webpack:///./src/app/shared/components/dialog-search-purchase-request/dialog-search-purchase-request.module.ts","webpack:///./src/app/shared/components/dialog-search-purchase-request/dialog-search-purchase-request.service.ts"],"names":[],"mappings":"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","file":"default~logistics-order-document-order-document-module~logistics-sales-document-sales-document-modul~9d7d02cf.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/keyfilter/keyfilter\"));","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ \\\"purchaseRequestPopin.title\\\" | translate }}</div>\\r\\n\\r\\n    <i class=\\\"material-icons aw-icon aw-icon-with-border\\\" (click)=\\\"onCancel()\\\">close</i>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section search-criteria-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.prCode\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\"><input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.prCode\\\" /></div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.prName\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\"><input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.prName\\\" /></div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.prDescription\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.prDescription\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.creationDate\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                    [(ngModel)]=\\\"creation\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.receptionDate\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                    [(ngModel)]=\\\"reception\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.bidoCustomerCustomerCode\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\"><input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"customerCode\\\" /></div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.prCategory\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyPrCategory\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.prCategory\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"purchaseRequestPopin.prStatus\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyPrStatus\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.prStatus\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\">\\r\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"searchPurchaseRequests()\\\">\\r\\n                  <span>{{ \\\"global.toSearch\\\" | translate }}</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section results-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ \\\"global.results\\\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            #ptable\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"resultsTableCols\\\"\\r\\n            [value]=\\\"resultsTable.list\\\"\\r\\n            [(selection)]=\\\"selectedObject\\\"\\r\\n            selectionMode=\\\"single\\\"\\r\\n            dataKey=\\\"prCode\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n            (onRowUnselect)=\\\"onRowUnselect()\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    #ptableGlobalFilter\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ \\\"purchaseRequestPopin.\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\" [ngSwitch]=\\\"col.field\\\">\\r\\n                  <span *ngSwitchCase=\\\"'prName'\\\" title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span>\\r\\n                  <span *ngSwitchCase=\\\"'prDescription'\\\" title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span>\\r\\n                  <span *ngSwitchDefault>{{ rowData[col.field] }}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button [disabled]=\\\"isOneObjectSelected()\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onValidate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { BidtPurchaseRequestDTO } from '../../../shared/types/api-types/bidt-purchase-request-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../../shared/types/dialog-component';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { DateService } from '../../services/date.service';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { SessionService } from '../../services/session.service';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { LabelValueUtils } from '../../utils/label-value-utils';\r\n\r\nimport { DialogSearchPurchaseRequestService } from './dialog-search-purchase-request.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-purchase-request',\r\n  templateUrl: 'dialog-search-purchase-request.component.html'\r\n})\r\nexport class DialogSearchPurchaseRequestComponent extends DialogComponent {\r\n  public resultsTableCols: TableColumn[];\r\n  public resultsTable: SearchResultsDTO<BidtPurchaseRequestDTO>;\r\n  public selectedObject: BidtPurchaseRequestDTO;\r\n  public searchObject: BidtPurchaseRequestDTO;\r\n\r\n  // DropDown\r\n  public propertyPrCategory: LabelValue<string>[];\r\n  public propertyPrStatus: LabelValue<string>[];\r\n\r\n  // Additionnal search criteria\r\n  public customerCode: string;\r\n  public creation: Date;\r\n  public reception: Date;\r\n\r\n  @Output()\r\n  public onSelected = new EventEmitter<BidtPurchaseRequestDTO>();\r\n\r\n  // VISIBLE INPUT\r\n  // tslint:disable-next-line: no-unsafe-any\r\n  @Input('pr-code')\r\n  public set purchaseOrderCode(code: string) {\r\n    this.searchObject.prCode = code;\r\n  }\r\n\r\n  public constructor(\r\n    public dialogSearchPurchaseRequestService: DialogSearchPurchaseRequestService,\r\n    public readonly sessionService: SessionService,\r\n    public translateService: TranslateService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly dateService: DateService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'purchaseRequestPopin');\r\n\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n    this.searchObject = {};\r\n    this.selectedObject = {};\r\n\r\n    this.resultsTableCols = [\r\n      { field: 'prCode', alignment: 'left' },\r\n      { field: 'prName', alignment: 'left' },\r\n      { field: 'prDescription', alignment: 'left' },\r\n      { field: 'creationDate', alignment: 'left' },\r\n      { field: 'receptionDate', alignment: 'left' },\r\n      { field: 'bidoCustomerCustomerCode', alignment: 'left' },\r\n      { field: 'prCategory', alignment: 'left' },\r\n      { field: 'prStatus', alignment: 'left' }\r\n    ];\r\n\r\n    this.loadPrCategories();\r\n    this.loadPrStatus();\r\n  }\r\n\r\n  public searchPurchaseRequests(): void {\r\n    this.dialogSearchPurchaseRequestService\r\n      .findBidtPurchaseRequestsByCriteriaForOVS(this.searchObject, this.customerCode, this.creation, this.reception)\r\n      .subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            results.list.forEach((element) => {\r\n              LabelValueUtils.stringValueToLabel(element, 'prCategory', this.propertyPrCategory);\r\n              LabelValueUtils.stringValueToLabel(element, 'prStatus', this.propertyPrStatus);\r\n              element.creationDate = this.formatDate(element.prCreationDate);\r\n              element.receptionDate = this.formatDate(element.prReceptionDate);\r\n            });\r\n            this.resultsTable = results;\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearch'));\r\n        }\r\n      );\r\n  }\r\n\r\n  /*\r\n    <summary>Emit the selectedObject on validate</summary>\r\n    */\r\n  public onValidate(): void {\r\n    LabelValueUtils.labelToStringValue(this.selectedObject, 'prCategory', this.propertyPrCategory);\r\n    LabelValueUtils.labelToStringValue(this.selectedObject, 'prStatus', this.propertyPrStatus);\r\n    this.onSelected.emit(this.selectedObject);\r\n    this.selectedObject = {};\r\n    this.display = false;\r\n  }\r\n\r\n  // Clean the selectedObject object if the row is unselect\r\n  public onRowUnselect(): void {\r\n    this.selectedObject = {};\r\n  }\r\n\r\n  // Clean all the object on rerender\r\n  public onShow(): void {\r\n    this.selectedObject = {};\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n  }\r\n\r\n  /*\r\n    <summary>Close the pop up on cancel</summary>\r\n    */\r\n  public onCancel(): void {\r\n    this.selectedObject = {};\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n    this.display = false;\r\n  }\r\n\r\n  public isOneObjectSelected(): boolean {\r\n    return !this.selectedObject.prCode;\r\n  }\r\n\r\n  private loadPrCategories(): void {\r\n    this.propertiesService.getValue('getPurchaseCategoryMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyPrCategory = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetPrCategoryList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadPrStatus(): void {\r\n    this.propertiesService.getValue('getPurchaseStatusMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyPrStatus = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetPrStatusList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private formatDate(date: number | undefined): string {\r\n    if (!!date) {\r\n      return this.dateService.dateToString(new Date(date));\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchPurchaseRequestComponent } from './dialog-search-purchase-request.component';\r\nimport { DialogSearchPurchaseRequestService } from './dialog-search-purchase-request.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [CalendarModule, DropdownModule, TableModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchPurchaseRequestComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchPurchaseRequestService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchPurchaseRequestModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { BidtPurchaseRequestApi } from '../../../shared/api/bidt-purchase-request.api';\r\nimport { FindBidtPurchaseRequestsByCriteriaForOVSInput } from '../../../shared/types/api-input-types/bidt-purchase-request/find-bidt-purchase-requests-by-search-criteria-for-ovs-input.interface';\r\nimport { BidtPurchaseRequestDTO } from '../../../shared/types/api-types/bidt-purchase-request-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\n\r\n@Injectable()\r\nexport class DialogSearchPurchaseRequestService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly bidtPurchaseRequestApi: BidtPurchaseRequestApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBidtPurchaseRequestsByCriteriaForOVS(\r\n    criteria: BidtPurchaseRequestDTO,\r\n    custumerCode: string,\r\n    creation: Date,\r\n    reception: Date\r\n  ): Observable<SearchResultsDTO<BidtPurchaseRequestDTO>> {\r\n    const param: FindBidtPurchaseRequestsByCriteriaForOVSInput = {\r\n      bidtPurchaseRequestCriteria: criteria,\r\n      supplier: custumerCode,\r\n      creationDate: creation,\r\n      receptionDate: reception\r\n    };\r\n\r\n    return super.post<FindBidtPurchaseRequestsByCriteriaForOVSInput, SearchResultsDTO<BidtPurchaseRequestDTO>>(\r\n      this.bidtPurchaseRequestApi.findBidtPurchaseRequestsByCriteriaForOVS,\r\n      param\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}