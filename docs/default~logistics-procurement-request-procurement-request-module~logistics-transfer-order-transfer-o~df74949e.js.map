{"version":3,"sources":["webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/app/main/logistics/procurement-request/form/dialog-add-popup/dialog-add-popup.component.html","webpack:///./src/app/main/logistics/procurement-request/form/dialog-add-popup/dialog-add-popup.component.scss","webpack:///./src/app/main/logistics/procurement-request/form/dialog-add-popup/dialog-add-popup.component.ts","webpack:///./src/app/main/logistics/procurement-request/form/dialog-edit-quantity/dialog-edit-quantity.component.html","webpack:///./src/app/main/logistics/procurement-request/form/dialog-edit-quantity/dialog-edit-quantity.component.ts","webpack:///./src/app/main/logistics/procurement-request/form/mvt-status/procurement-request-mvt-status.component.html","webpack:///./src/app/main/logistics/procurement-request/form/mvt-status/procurement-request-mvt-status.component.ts","webpack:///./src/app/main/logistics/procurement-request/form/procurement-request-form.component.html","webpack:///./src/app/main/logistics/procurement-request/form/procurement-request-form.component.scss","webpack:///./src/app/main/logistics/procurement-request/form/procurement-request-form.component.ts","webpack:///./src/app/main/logistics/procurement-request/form/procurement-request-form.service.ts","webpack:///./src/app/main/logistics/procurement-request/form/reverse-mvt-status/procurement-request-reverse-mvt-status.component.html","webpack:///./src/app/main/logistics/procurement-request/form/reverse-mvt-status/procurement-request-reverse-mvt-status.component.ts","webpack:///./src/app/main/logistics/procurement-request/procurement-request.module.ts","webpack:///./src/app/main/logistics/procurement-request/search/procurement-request-search.component.html","webpack:///./src/app/main/logistics/procurement-request/search/procurement-request-search.component.scss","webpack:///./src/app/main/logistics/procurement-request/search/procurement-request-search.component.ts","webpack:///./src/app/main/maintenance/work-package/form/popups/dialog-work-order-edition/dialog-work-order-edition.service.ts","webpack:///./src/app/main/overlay/overlay.service.ts","webpack:///./src/app/shared/utils/file-utils.ts"],"names":[],"mappings":"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","file":"default~logistics-procurement-request-procurement-request-module~logistics-transfer-order-transfer-o~df74949e.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;return b.open(\"HEAD\",a,!1),b.send(),200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group required\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".article\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchPn()\\\">\\r\\n              {{ pn?.pnCode }}\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"pn\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"pn = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"searchPn()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group required\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".quantity\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"quantity\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!pn || !quantity\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-pn\\r\\n  *ngIf=\\\"pnDialogVisible\\\"\\r\\n  [(display)]=\\\"pnDialogVisible\\\"\\r\\n  [showPartTypeSelection]=\\\"true\\\"\\r\\n  (onSelected)=\\\"onSelectPn($event)\\\"\\r\\n></aw-dialog-search-pn>\\r\\n\"","module.exports = \":host .custom-icon {\\n  font-size: 10em;\\n  cursor: pointer; }\\n\\n:host .custom-align {\\n  text-align: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvcHJvY3VyZW1lbnQtcmVxdWVzdC9mb3JtL2RpYWxvZy1hZGQtcG9wdXAvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGxvZ2lzdGljc1xccHJvY3VyZW1lbnQtcmVxdWVzdFxcZm9ybVxcZGlhbG9nLWFkZC1wb3B1cFxcZGlhbG9nLWFkZC1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLGVBQWU7RUFDZixlQUFlLEVBQUE7O0FBSG5CO0VBT0ksa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2xvZ2lzdGljcy9wcm9jdXJlbWVudC1yZXF1ZXN0L2Zvcm0vZGlhbG9nLWFkZC1wb3B1cC9kaWFsb2ctYWRkLXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC5jdXN0b20taWNvbiB7XHJcbiAgICBmb250LXNpemU6IDEwZW07XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICAuY3VzdG9tLWFsaWduIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, EventEmitter, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BirePnDTO } from '../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-add-popup',\r\n  templateUrl: './dialog-add-popup.component.html',\r\n  styleUrls: ['./dialog-add-popup.component.scss']\r\n})\r\nexport class DialogAddPopupComponent extends DialogComponent {\r\n  public pn: BirePnDTO | undefined;\r\n  public quantity: string | undefined;\r\n\r\n  public pnDialogVisible: boolean;\r\n\r\n  @Output()\r\n  private readonly onValidate: EventEmitter<{ pn: BirePnDTO | undefined; quantity: string }>;\r\n\r\n  public constructor(public readonly sessionService: SessionService) {\r\n    super(ComponentOpenMode.Read, 'DialogAddPopupComponent');\r\n\r\n    this.onValidate = new EventEmitter<{ pn: BirePnDTO | undefined; quantity: string }>();\r\n\r\n    this.init();\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public onSelectPn(event: BirePnDTO): void {\r\n    this.pn = event;\r\n  }\r\n\r\n  public searchPn(): void {\r\n    this.pnDialogVisible = true;\r\n  }\r\n\r\n  public validate() {\r\n    this.onValidate.emit({ pn: this.pn as BirePnDTO, quantity: this.quantity as string });\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  private init(): void {\r\n    this.pn = undefined;\r\n    this.quantity = undefined;\r\n\r\n    this.pnDialogVisible = false;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ \\\"editQuantity\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ \\\"oldQuantity\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"oldQuantity\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group required\\\">\\r\\n          <label class=\\\"form-label\\\">{{ \\\"newQuantity\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newQuantity\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!newQuantity\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../shared/services/confirmation.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BidtProcReqItemDTO } from '../../../../../shared/types/api-types/bidt-proc-req-item-dto.interface';\r\nimport { BidtProcurementRequestDTO } from '../../../../../shared/types/api-types/bidt-procurement-request-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { NumberUtils } from '../../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../../shared/utils/object-utils';\r\nimport { LogisticsService } from '../../../logistics.service';\r\nimport { WorkshopEntryRow } from '../procurement-request-form.component';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-procurement-request-edit-quantity',\r\n  templateUrl: './dialog-edit-quantity.component.html'\r\n})\r\nexport class DialogEditQuantityComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public procurementRequest: BidtProcurementRequestDTO;\r\n\r\n  @Input()\r\n  public procReqItem: BidtProcReqItemDTO;\r\n\r\n  @Input()\r\n  public workshopEntries: WorkshopEntryRow[];\r\n\r\n  public newQuantity: string | undefined;\r\n  public oldQuantity: string | undefined;\r\n\r\n  @Output()\r\n  private readonly onValidate: EventEmitter<string>;\r\n\r\n  public constructor(\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly logisticsService: LogisticsService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Read, 'DialogEditQuantityComponent');\r\n\r\n    this.onValidate = new EventEmitter<string>();\r\n\r\n    this.init();\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public ngOnInit(): void {\r\n    const quantity = this.procReqItem.requestedQuantity\r\n      ? NumberUtils.toString(NumberUtils.roundNumber(NumberUtils.fromString(this.procReqItem.requestedQuantity)))\r\n      : undefined;\r\n\r\n    this.newQuantity = quantity;\r\n    this.oldQuantity = quantity;\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public validate() {\r\n    const servedQty = this.workshopEntries\r\n      .filter(\r\n        (stockMvt) =>\r\n          ObjectUtils.isDefined(stockMvt.obj.stockMvtSn) || ObjectUtils.isDefined(stockMvt.obj.stockMvtBatchNumber)\r\n      )\r\n      .map((stockMvt) => (stockMvt.obj.stockMvtQuantity ? Number(stockMvt.obj.stockMvtQuantity) : 0))\r\n      .reduce((acc, x) => acc + x, 0);\r\n\r\n    const newQty = NumberUtils.fromString(this.newQuantity as string);\r\n\r\n    if (newQty <= 0) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('errorQuantityLowerThanZero'));\r\n    } else if (newQty < servedQty) {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorWrongQuantity'));\r\n    } else {\r\n      this.logisticsService.checkQuantityConsistency(this.procurementRequest).subscribe({\r\n        next: (consistent) => {\r\n          if (consistent) {\r\n            this.onValidate.emit(this.newQuantity as string);\r\n            this.closeDialog();\r\n          } else {\r\n            this.confirmationService.confirm({\r\n              messageKey: this.getTranslateKey('quantityNotConsistent'),\r\n              contextKeys: [this.getTranslateKey('confirmContinue')],\r\n              accept: () => {\r\n                this.onValidate.emit(this.newQuantity as string);\r\n                this.closeDialog();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  private init(): void {\r\n    this.newQuantity = undefined;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"column\\\" *ngIf=\\\"mvts.length\\\">\\r\\n  <div class=\\\"row\\\" style=\\\"justify-content: flex-end;\\\">\\r\\n    <button mat-raised-button (click)=\\\"schowDetails()\\\" style=\\\"width: 16rem;\\\" *ngIf=\\\"!showDetails\\\">\\r\\n      {{ getComponentName() + \\\".showMouvement\\\" | translate }}\\r\\n    </button>\\r\\n    <button mat-raised-button (click)=\\\"schowDetails()\\\" style=\\\"width: 16rem;\\\" *ngIf=\\\"showDetails\\\">\\r\\n      {{ getComponentName() + \\\".hideMouvement\\\" | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"row\\\" style=\\\"justify-content: center; margin-top: 40px\\\">\\r\\n    <aw-stepper [steps]=\\\"steps\\\"></aw-stepper>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { StepItem } from '../../../../../shared/components/stepper/stepper.component';\r\nimport { AWPropertiesConstants } from '../../../../../shared/constants/aw-properties-constants';\r\nimport { BidtStockMvtConstants } from '../../../../../shared/constants/bidt-stock-mvt-constants';\r\nimport { BidtStockMvtTypeConstant } from '../../../../../shared/constants/bidt-stock-mvt-type-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { BidtStockMvtDTO } from '../../../../../shared/types/api-types/bidt-stock-mvt-dto.interface';\r\nimport { GenericComponent } from '../../../../../shared/types/generic-component';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  selector: 'aw-procurement-request-mvt-status',\r\n  templateUrl: './procurement-request-mvt-status.component.html'\r\n})\r\nexport class ProcurementRequestMvtStatusComponent extends GenericComponent implements OnInit {\r\n  @Input('mvts')\r\n  public mvtObservable$: Observable<BidtStockMvtDTO[]>;\r\n  @Input()\r\n  public componentName: string;\r\n\r\n  @Output()\r\n  public readonly onClick: EventEmitter<boolean>;\r\n\r\n  public mvts: BidtStockMvtDTO[];\r\n  public steps: StepItem[];\r\n  public showDetails: boolean;\r\n\r\n  public constructor(private readonly translateService: TranslateService) {\r\n    super(ComponentOpenMode.Write);\r\n\r\n    this.mvts = [];\r\n    this.steps = [];\r\n    this.showDetails = false;\r\n    this.onClick = new EventEmitter<boolean>();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.mvtObservable$.subscribe((mvts: BidtStockMvtDTO[]) => {\r\n      this.mvts = mvts;\r\n      this.showDetails = false;\r\n      this.initSteps();\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return this.componentName;\r\n  }\r\n\r\n  private initSteps(): void {\r\n    this.initArray();\r\n\r\n    this.mvts.forEach((mvt: BidtStockMvtDTO) => {\r\n      if (mvt.stockMvtWay === BidtStockMvtConstants.MVT_WAY_TRANSFER) {\r\n        if (mvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_PLANNED_KEY) {\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT].status = 'previous';\r\n        } else if (mvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY) {\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT].status = 'previous';\r\n        } else if (!!mvt.mvtStatus && mvt.mvtStatus >= AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY) {\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_TRANSFERT].status = 'previous';\r\n        }\r\n      } else if (mvt.stockMvtWay === BidtStockMvtConstants.MVT_WAY_DEBIT) {\r\n        if (mvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY) {\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_TRANSFERT].status = 'previous';\r\n        } else if (!!mvt.mvtStatus && mvt.mvtStatus >= AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY) {\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_DEBIT].status = 'previous';\r\n        }\r\n      } else if (mvt.stockMvtWay === BidtStockMvtConstants.MVT_WAY_CREDIT) {\r\n        if (mvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY) {\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_DEBIT].status = 'previous';\r\n        } else if (!!mvt.mvtStatus && mvt.mvtStatus >= AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY) {\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_BEFORE_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_TRANSFERT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_DEBIT].status = 'previous';\r\n          this.steps[BidtStockMvtConstants.MVT_STATUS_STEP_WAY_CREDIT].status = 'previous';\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private initArray(): void {\r\n    this.steps = [];\r\n    const mvtTransfert: BidtStockMvtDTO | undefined = this.mvts.find(\r\n      (m: BidtStockMvtDTO) => m.stockMvtWay === BidtStockMvtConstants.MVT_WAY_TRANSFER\r\n    );\r\n    const pickingKey = this.getTranslateKey('picking');\r\n    const crossDockKey = this.getTranslateKey('crossDock');\r\n    const executionPickingKey = this.getTranslateKey('executionPicking');\r\n    const deliveryKey = this.getTranslateKey('delivery');\r\n    const deliveredKey = this.getTranslateKey('delivered');\r\n\r\n    this.translateService.get([pickingKey, crossDockKey, executionPickingKey, deliveryKey, deliveredKey]).subscribe({\r\n      next: (results: { [key: string]: string }) => {\r\n        const pickingLabel = !!results ? results[pickingKey] : 'picking';\r\n        const crossDockLabel = !!results ? results[crossDockKey] : 'cross-dock';\r\n        const executionPickingLabel = !!results ? results[executionPickingKey] : 'picking execution';\r\n        const deliveryLabel = !!results ? results[deliveryKey] : 'delivery';\r\n        const deliveredLabel = !!results ? results[deliveredKey] : 'delivered';\r\n\r\n        this.steps = [\r\n          {\r\n            label:\r\n              !!mvtTransfert &&\r\n              !!mvtTransfert.bidtStockMvtType &&\r\n              mvtTransfert.bidtStockMvtType.id === BidtStockMvtTypeConstant.PICKING\r\n                ? pickingLabel\r\n                : crossDockLabel,\r\n            status: 'next'\r\n          },\r\n          {\r\n            label: executionPickingLabel,\r\n            status: 'next'\r\n          },\r\n          {\r\n            label: deliveryLabel,\r\n            status: 'next'\r\n          },\r\n          {\r\n            label: deliveredLabel,\r\n            status: 'next'\r\n          }\r\n        ];\r\n      }\r\n    });\r\n  }\r\n\r\n  public schowDetails(): void {\r\n    this.showDetails = !this.showDetails;\r\n    this.onClick.emit(this.showDetails);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"procurementRequest.procCode\\\" class=\\\"page-subtitle\\\">- {{ procurementRequest.procCode }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div\\r\\n      class=\\\"object-status\\\"\\r\\n      [ngClass]=\\\"{\\r\\n        disabled: procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED\\r\\n      }\\\"\\r\\n      *ngIf=\\\"procurementRequest.procStatus\\\"\\r\\n      (click)=\\\"showStatus()\\\"\\r\\n    >\\r\\n      {{ procurementRequest.procStatus | formatSelectOption: procurementRequestStatuses }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button\\r\\n      *ngIf=\\\"\\r\\n        isReadOpenMode &&\\r\\n        (procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT ||\\r\\n          procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\\r\\n          procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_RELEASED ||\\r\\n          procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED)\\r\\n      \\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"edit()\\\"\\r\\n    >\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"isReadOpenMode && procurementRequest.procStatus != aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"duplicate()\\\"\\r\\n    >\\r\\n      {{ \\\"duplicate\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" color=\\\"warn\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"save()\\\" [disabled]=\\\"!canSave()\\\">\\r\\n      {{ \\\"save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item (click)=\\\"reload()\\\">{{ \\\"global.refresh\\\" | translate }}</button>\\r\\n      <!-- <button mat-menu-item (click)=\\\"remove()\\\">{{ \\\"global.delete\\\" | translate }}</button> -->\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container\\\">\\r\\n    <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"home\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--6\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".mainInformations\\\" | translate }}\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div class=\\\"column\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group flex--2\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".type\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\">\\r\\n                          {{ procurementRequest.procType | formatSelectOption: procurementRequestTypes }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".criticity\\\" | translate }}</label>\\r\\n\\r\\n                      <div\\r\\n                        class=\\\"form-control alert\\\"\\r\\n                        [ngClass]=\\\"{\\r\\n                          'procurement--ok':\\r\\n                            isReadOpenMode &&\\r\\n                            procurementRequest.criticality == aWPropertiesConstants.LOGISTICAL_CRITICALITY_ROUTINE,\\r\\n                          'procurement--warning':\\r\\n                            isReadOpenMode &&\\r\\n                            procurementRequest.criticality == aWPropertiesConstants.LOGISTICAL_CRITICALITY_URGENT,\\r\\n                          'procurement--nok':\\r\\n                            isReadOpenMode &&\\r\\n                            procurementRequest.criticality == aWPropertiesConstants.LOGISTICAL_CRITICALITY_IMMEDIATE\\r\\n                        }\\\"\\r\\n                      >\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"procurementRequestCriticities\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          [(ngModel)]=\\\"procurementRequest.criticality\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ \\\"criticityReason\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <textarea\\r\\n                          class=\\\"aw-textarea\\\"\\r\\n                          [rows]=\\\"2\\\"\\r\\n                          pInputTextarea\\r\\n                          autoResize=\\\"autoResize\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          [(ngModel)]=\\\"procurementRequest.criticalityReason\\\"\\r\\n                        ></textarea>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'visibility--hidden': !isExpectedSnVisible() }\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".expectedSn\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          name=\\\"value\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          [disabled]=\\\"true\\\"\\r\\n                          [(ngModel)]=\\\"procurementRequest.procComment\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".applicant\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\">{{ userName }} ({{ userLogin }})</div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".createdOn\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-calendar\\r\\n                          showButtonBar=\\\"true\\\"\\r\\n                          [monthNavigator]=\\\"true\\\"\\r\\n                          [yearNavigator]=\\\"true\\\"\\r\\n                          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                          class=\\\"aw-calendar\\\"\\r\\n                          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          [(ngModel)]=\\\"procurementRequest.statusDate\\\"\\r\\n                          [showTime]=\\\"true\\\"\\r\\n                          [disabled]=\\\"true\\\"\\r\\n                        ></p-calendar>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".requestedDate\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-calendar\\r\\n                          showButtonBar=\\\"true\\\"\\r\\n                          [monthNavigator]=\\\"true\\\"\\r\\n                          [yearNavigator]=\\\"true\\\"\\r\\n                          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                          class=\\\"aw-calendar\\\"\\r\\n                          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          [(ngModel)]=\\\"procurementRequest.requestedDate\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          appendTo=\\\"body\\\"\\r\\n                        ></p-calendar>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-cell--3\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".shipper\\\" | translate }}\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div class=\\\"column\\\">\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"procurementRequest.bidoCustomer\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".partner\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ procurementRequest.bidoCustomer.customerName }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"procurementRequest.bidtSiteIssue\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".site\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ procurementRequest.bidtSiteIssue.siteCode }} -\\r\\n                        {{ procurementRequest.bidtSiteIssue.siteName }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"procurementRequest.bidtWarehouseIssue\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ \\\"warehouse\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ procurementRequest.bidtWarehouseIssue.whCode }} -\\r\\n                        {{ procurementRequest.bidtWarehouseIssue.whName }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-cell--3\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".recipient\\\" | translate }}\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div class=\\\"column\\\">\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"procurementRequest.bidtSiteReceipt\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".site\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ procurementRequest.bidtSiteReceipt.siteCode }}\\r\\n                        <ng-container *ngIf=\\\"procurementRequest.bidtSiteReceipt.siteName\\\">\\r\\n                          - {{ procurementRequest.bidtSiteReceipt.siteName }}\\r\\n                        </ng-container>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"procurementRequest.bidtWarehouseReceipt\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".warehouseWorkshop\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        {{ procurementRequest.bidtWarehouseReceipt.whCode }}\\r\\n                        <ng-container *ngIf=\\\"procurementRequest.bidtWarehouseReceipt.whName\\\">\\r\\n                          - {{ procurementRequest.bidtWarehouseReceipt.whName }}\\r\\n                        </ng-container>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"workPackageAsset\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      <ng-container\\r\\n                        *ngIf=\\\"workPackageAsset.equipmentFunction == aWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY\\\"\\r\\n                      >\\r\\n                        {{ \\\"aircraft\\\" | translate }}\\r\\n                      </ng-container>\\r\\n                      <ng-container\\r\\n                        *ngIf=\\\"workPackageAsset.equipmentFunction == aWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\\\"\\r\\n                      >\\r\\n                        {{ \\\"engine\\\" | translate }}\\r\\n                      </ng-container>\\r\\n                      <ng-container\\r\\n                        *ngIf=\\\"\\r\\n                          workPackageAsset.equipmentFunction != aWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY &&\\r\\n                          workPackageAsset.equipmentFunction != aWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\\r\\n                        \\\"\\r\\n                      >\\r\\n                        {{ \\\"equipment\\\" | translate }}\\r\\n                      </ng-container>\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        <a (click)=\\\"openWorkPackageAsset()\\\">{{ workPackageAssetName }}</a>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--4\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".origine\\\" | translate }}\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".documentNumber\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control form-control-with-modal\\\" *ngIf=\\\"!isReadOpenMode\\\">\\r\\n                      <div class=\\\"form-control-data\\\" (click)=\\\"openWoDialog()\\\">\\r\\n                        <a class=\\\"link\\\" (click)=\\\"openWorkOrder()\\\" *ngIf=\\\"procurementRequest.bidmWorkOrder\\\">\\r\\n                          {{ procurementRequest.bidmWorkOrder?.woCode }}\\r\\n                        </a>\\r\\n                      </div>\\r\\n\\r\\n                      <div *ngIf=\\\"procurementRequest.bidmWorkOrder\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                        <i\\r\\n                          class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"eraseWo()\\\"\\r\\n                        ></i>\\r\\n                      </div>\\r\\n                      <div class=\\\"btn-search-wrapper\\\">\\r\\n                        <i\\r\\n                          class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"openWoDialog()\\\"\\r\\n                        ></i>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-control form-control-generic\\\" *ngIf=\\\"isReadOpenMode\\\">\\r\\n                      <a\\r\\n                        class=\\\"link\\\"\\r\\n                        (click)=\\\"openWorkOrder()\\\"\\r\\n                        *ngIf=\\\"procurementRequest.bidmWorkOrder\\\"\\r\\n                        style=\\\"cursor: pointer;\\\"\\r\\n                      >\\r\\n                        {{ procurementRequest.bidmWorkOrder?.woCode }}\\r\\n                      </a>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".type\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\">\\r\\n                        <ng-container\\r\\n                          *ngIf=\\\"procurementRequest.bidmWorkOrder && procurementRequest.bidmWorkOrder.woCode\\\"\\r\\n                        >\\r\\n                          {{ \\\"workOrder\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-cell--4\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".desiredPotential\\\" | translate }}\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div class=\\\"row\\\" *ngIf=\\\"procurementRequestUnits.length == 0\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <div class=\\\"form-control-generic\\\" style=\\\"font-style: italic;\\\">\\r\\n                        {{ getComponentName() + \\\".noPotentialUnit\\\" | translate }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"procurementRequestUnits.length > 0\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".value\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input\\r\\n                        class=\\\"aw-input\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        [(ngModel)]=\\\"procurementRequest.requestedPotential\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                      />\\r\\n\\r\\n                      <ng-container *ngIf=\\\"isReadOpenMode\\\">\\r\\n                        {{ procurementRequest.requestedPotential | formatNumber }}\\r\\n                      </ng-container>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\" *ngIf=\\\"procurementRequestUnits.length > 0\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".unit\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        [options]=\\\"procurementRequestUnits\\\"\\r\\n                        [(ngModel)]=\\\"procurementRequest.potentialUnit\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        appendTo=\\\"body\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ getComponentName() + \\\".expiration\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        [(ngModel)]=\\\"procurementRequest.calendarPotential\\\"\\r\\n                      >\\r\\n                      </p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--2\\\" *ngIf=\\\"procurementRequestUnits.length == 0\\\"></div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-cell--4\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ getComponentName() + \\\".progress\\\" | translate }}\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div class=\\\"column\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div style=\\\"margin-left: 20px; max-width: 10rem; min-width: 10rem;\\\">\\r\\n                      <span class=\\\"bold\\\">{{ getComponentName() + \\\".procurement\\\" | translate }}</span>\\r\\n\\r\\n                      <div\\r\\n                        style=\\\"padding: 4px; margin-top: 4px; color: #000; border-radius: 4px; max-width: 6rem; min-width: 6rem; text-align: center;\\\"\\r\\n                        [ngClass]=\\\"{\\r\\n                          'served--nok': servedNb == 0,\\r\\n                          'served--ok': servedNb > 0 && isServed,\\r\\n                          'served--warning': servedNb > 0 && !isServed\\r\\n                        }\\\"\\r\\n                      >\\r\\n                        <span *ngIf=\\\"servedNb == 0\\\">\\r\\n                          {{ componentData.componentId + \\\".notServed\\\" | translate }}\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"servedNb > 0 && !isServed\\\">\\r\\n                          {{ componentData.componentId + \\\".partiallyServed\\\" | translate }}\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"servedNb > 0 && isServed\\\">\\r\\n                          {{ componentData.componentId + \\\".served\\\" | translate }}\\r\\n                        </span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 2.5rem; padding-bottom: 1rem;\\\">\\r\\n                          {{ notBookedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        <ng-container\\r\\n                          *ngIf=\\\"\\r\\n                            procurementRequest.procStatus ==\\r\\n                              aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED ||\\r\\n                            procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\\r\\n                            procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                          \\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".notSelected\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                        <ng-container\\r\\n                          *ngIf=\\\"\\r\\n                            procurementRequest.procStatus !=\\r\\n                              aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED &&\\r\\n                            procurementRequest.procStatus != aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED &&\\r\\n                            procurementRequest.procStatus != aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                          \\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".notBooked\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                      </label>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 2.5rem; padding-bottom: 1rem\\\">\\r\\n                          {{ bookedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        <ng-container\\r\\n                          *ngIf=\\\"\\r\\n                            procurementRequest.procStatus ==\\r\\n                              aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED ||\\r\\n                            procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\\r\\n                            procurementRequest.procStatus == aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                          \\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".selected\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                        <ng-container\\r\\n                          *ngIf=\\\"\\r\\n                            procurementRequest.procStatus !=\\r\\n                              aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED &&\\r\\n                            procurementRequest.procStatus != aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED &&\\r\\n                            procurementRequest.procStatus != aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                          \\\"\\r\\n                        >\\r\\n                          {{ getComponentName() + \\\".booked\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                      </label>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 2.5rem; padding-bottom: 1rem\\\">\\r\\n                          {{ servedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".served\\\" | translate }}</label>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div\\r\\n                    class=\\\"row\\\"\\r\\n                    style=\\\"margin-top: 16px;\\\"\\r\\n                    *ngIf=\\\"\\r\\n                      procurementRequest.procType == aWPropertiesConstants.PROCUREMENT_REQUEST_TYPE_MAINTENANCE_ES ||\\r\\n                      procurementRequest.procType == aWPropertiesConstants.PROCUREMENT_REQUEST_TYPE_STOCK_LEVELING_ES\\r\\n                    \\\"\\r\\n                  >\\r\\n                    <div style=\\\"margin-left: 20px; max-width: 10rem; min-width: 10rem;\\\">\\r\\n                      <span class=\\\"bold\\\">{{ getComponentName() + \\\".reverse\\\" | translate }}</span>\\r\\n\\r\\n                      <div\\r\\n                        style=\\\"padding: 4px; margin-top: 4px; color: #000; border-radius: 4px; max-width: 6rem; min-width: 6rem; text-align: center;\\\"\\r\\n                        [ngClass]=\\\"{\\r\\n                          'served--nok': notReversedNb > 0 && reversedNb == 0,\\r\\n                          'served--ok': notReversedNb == 0 && reversedNb > 0,\\r\\n                          'served--warning': notReversedNb > 0 && reversedNb > 0\\r\\n                        }\\\"\\r\\n                      >\\r\\n                        <span *ngIf=\\\"notReversedNb > 0 && reversedNb == 0\\\">\\r\\n                          {{ componentData.componentId + \\\".notReversed\\\" | translate }}\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"notReversedNb > 0 && reversedNb > 0\\\">\\r\\n                          {{ componentData.componentId + \\\".partiallyReversed\\\" | translate }}\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"notReversedNb == 0 && reversedNb > 0\\\">\\r\\n                          {{ componentData.componentId + \\\".reversed\\\" | translate }}\\r\\n                        </span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 2.5rem; padding-bottom: 1rem\\\">\\r\\n                          {{ notReversedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".notReversed\\\" | translate }}</label>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex-row--align-center\\\">\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"form-control-generic\\\" style=\\\"font-size: 2.5rem; padding-bottom: 1rem\\\">\\r\\n                          {{ reversedNb }}\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".reversed\\\" | translate }}</label>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\"></div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ componentData.componentId + \\\".items\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container grid-cell-items\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".procurementItems\\\" | translate }} ({{\\r\\n                      procurementRequest.bidtProcReqItems ? procurementRequest.bidtProcReqItems.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                <div class=\\\"row flex-row--justify-end\\\">\\r\\n                  <button type=\\\"button\\\" mat-raised-button (click)=\\\"showItemDialog()\\\" *ngIf=\\\"!isReadOpenMode\\\">\\r\\n                    {{ componentData.componentId + \\\".addItem\\\" | translate }}\\r\\n                  </button>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".materials\\\" | translate }}\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        id=\\\"items-table\\\"\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [value]=\\\"procurementRequestItems\\\"\\r\\n                        [(selection)]=\\\"selectedProcurementRequestItem\\\"\\r\\n                        selectionMode=\\\"single\\\"\\r\\n                        (onRowSelect)=\\\"onSelectProcurementRequestItem()\\\"\\r\\n                        (onRowUnselect)=\\\"onSelectProcurementRequestItem()\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr\\r\\n                            [pSelectableRow]=\\\"rowData\\\"\\r\\n                            [pSelectableRowIndex]=\\\"rowIndex\\\"\\r\\n                            [ngStyle]=\\\"{ 'background-color': '#ffffff' }\\\"\\r\\n                          >\\r\\n                            <td>\\r\\n                              <div>\\r\\n                                <div style=\\\"display: flex; flex-direction: row;\\\">\\r\\n                                  <div style=\\\"min-width: 3rem; display: inline-block; flex-grow: 1;\\\">\\r\\n                                    <a style=\\\"font-weight: 600\\\" (click)=\\\"openArticle(rowData['obj'].birePn?.pnCode)\\\">\\r\\n                                      {{ rowData[\\\"obj\\\"].birePn?.pnCode }}\\r\\n                                    </a>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div>\\r\\n                                    {{ componentData.componentId + \\\".requestedQty\\\" | translate }} =\\r\\n                                    <span style=\\\"font-weight: 600\\\">\\r\\n                                      {{ rowData[\\\"obj\\\"].requestedQuantity | formatNumber }}\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"rowData['obj'].birePn?.quantityUnit\\\">\\r\\n                                      {{ rowData[\\\"obj\\\"].birePn?.quantityUnit }}\\r\\n                                    </span>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div style=\\\"display: flex; flex-direction: row;\\\">\\r\\n                                  <div style=\\\"min-width: 3rem; display: inline-block; flex-grow: 1;\\\">\\r\\n                                    {{ rowData[\\\"obj\\\"].birePn?.otanPnReference }}\\r\\n                                  </div>\\r\\n\\r\\n                                  <div *ngIf=\\\"rowData['obj'].birePn?.quantityPerIssue\\\">\\r\\n                                    ({{ \\\"distributionQuantityShort\\\" | translate }} =\\r\\n                                    {{ rowData[\\\"obj\\\"].birePn.quantityPerIssue | formatNumber }})\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                style=\\\"font-style: italic; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; padding-bottom: 1.5rem;\\\"\\r\\n                              >\\r\\n                                {{ rowData[\\\"obj\\\"].birePn?.articleDesignation }}\\r\\n                              </div>\\r\\n\\r\\n                              <div *ngIf=\\\"rowData['siteName']\\\" style=\\\"display: flex; justify-content: space-between;\\\">\\r\\n                                <span style=\\\"color: #01579b;;\\\">{{ getComponentName() + \\\".supplier\\\" | translate }}</span>\\r\\n                                <span class=\\\"bold\\\">{{ rowData[\\\"siteName\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div style=\\\"padding-bottom: 0.6rem; text-align: end;\\\" *ngIf=\\\"rowData['warehouseName']\\\">\\r\\n                                <span class=\\\"italic\\\">{{ rowData[\\\"warehouseName\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div>\\r\\n                                <div style=\\\"min-width: 8rem; display: inline-block;\\\">\\r\\n                                  <ng-container\\r\\n                                    *ngIf=\\\"\\r\\n                                      procurementRequest.procStatus ==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED ||\\r\\n                                      procurementRequest.procStatus ==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\\r\\n                                      procurementRequest.procStatus ==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    {{ getComponentName() + \\\".notSelected\\\" | translate }}\\r\\n                                  </ng-container>\\r\\n                                  <ng-container\\r\\n                                    *ngIf=\\\"\\r\\n                                      procurementRequest.procStatus !=\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED &&\\r\\n                                      procurementRequest.procStatus !=\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED &&\\r\\n                                      procurementRequest.procStatus !=\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    {{ getComponentName() + \\\".notBooked\\\" | translate }}\\r\\n                                  </ng-container>\\r\\n                                </div>\\r\\n                                <span style=\\\"font-weight: 600\\\">{{ rowData[\\\"notBookedNb\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div>\\r\\n                                <div style=\\\"min-width: 8rem; display: inline-block;\\\">\\r\\n                                  <ng-container\\r\\n                                    *ngIf=\\\"\\r\\n                                      procurementRequest.procStatus ==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED ||\\r\\n                                      procurementRequest.procStatus ==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\\r\\n                                      procurementRequest.procStatus ==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    {{ getComponentName() + \\\".selected\\\" | translate }}\\r\\n                                  </ng-container>\\r\\n                                  <ng-container\\r\\n                                    *ngIf=\\\"\\r\\n                                      procurementRequest.procStatus !=\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED &&\\r\\n                                      procurementRequest.procStatus !=\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED &&\\r\\n                                      procurementRequest.procStatus !=\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    {{ getComponentName() + \\\".booked\\\" | translate }}\\r\\n                                  </ng-container>\\r\\n                                </div>\\r\\n                                <span style=\\\"font-weight: 600\\\">{{ rowData[\\\"bookedNb\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div>\\r\\n                                <div style=\\\"min-width: 8rem; display: inline-block;\\\">\\r\\n                                  {{ getComponentName() + \\\".served\\\" | translate }}\\r\\n                                </div>\\r\\n                                <span style=\\\"font-weight: 600\\\">{{ rowData[\\\"servedNb\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                style=\\\"display: flex; flex-direction: row; justify-content: space-between; align-items: center;\\\"\\r\\n                                *ngIf=\\\"\\r\\n                                  procurementRequest.procStatus !=\\r\\n                                  aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <div\\r\\n                                  style=\\\"padding: 8px; color: #000; border-radius: 4px;\\\"\\r\\n                                  [ngClass]=\\\"{\\r\\n                                    'served--nok': rowData['servedNb'] == 0,\\r\\n                                    'served--ok': rowData['servedNb'] > 0 && rowData['servedNb'] == rowData['allNb'],\\r\\n                                    'served--warning':\\r\\n                                      rowData['servedNb'] > 0 && rowData['servedNb'] != rowData['allNb']\\r\\n                                  }\\\"\\r\\n                                >\\r\\n                                  <span *ngIf=\\\"rowData['servedNb'] == 0\\\">\\r\\n                                    {{ componentData.componentId + \\\".notServed\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <span *ngIf=\\\"rowData['servedNb'] > 0 && rowData['servedNb'] != rowData['allNb']\\\">\\r\\n                                    {{ componentData.componentId + \\\".partiallyServed\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <span *ngIf=\\\"rowData['servedNb'] > 0 && rowData['servedNb'] == rowData['allNb']\\\">\\r\\n                                    {{ componentData.componentId + \\\".served\\\" | translate }}\\r\\n                                  </span>\\r\\n                                </div>\\r\\n\\r\\n                                <div>\\r\\n                                  <button\\r\\n                                    class=\\\"actions-btn\\\"\\r\\n                                    mat-icon-button\\r\\n                                    class=\\\"mat-elevation-z1\\\"\\r\\n                                    [matMenuTriggerFor]=\\\"itemActions\\\"\\r\\n                                    (click)=\\\"stopPropagation($event)\\\"\\r\\n                                    *ngIf=\\\"\\r\\n                                      selectedProcurementRequestItem &&\\r\\n                                      rowData.obj === selectedProcurementRequestItem.obj &&\\r\\n                                      procurementRequest.procStatus !==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CLOSED\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    <mat-icon>more_horiz</mat-icon>\\r\\n                                  </button>\\r\\n                                  <mat-menu #itemActions=\\\"matMenu\\\">\\r\\n                                    <button\\r\\n                                      mat-menu-item\\r\\n                                      (click)=\\\"manageProcurementRequestItem(rowData)\\\"\\r\\n                                      *ngIf=\\\"\\r\\n                                        procurementRequest.procStatus !=\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                                      \\\"\\r\\n                                    >\\r\\n                                      {{ componentData.componentId + \\\".manage\\\" | translate }}\\r\\n                                    </button>\\r\\n                                    <button\\r\\n                                      mat-menu-item\\r\\n                                      (click)=\\\"editProcReqItemQuantity(rowData)\\\"\\r\\n                                      *ngIf=\\\"\\r\\n                                        rowData.obj.priStatus !=\\r\\n                                          aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CLOSED ||\\r\\n                                        rowData.obj.priStatus !=\\r\\n                                          aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED\\r\\n                                      \\\"\\r\\n                                    >\\r\\n                                      {{ \\\"editQuantity\\\" | translate }}\\r\\n                                    </button>\\r\\n                                    <button mat-menu-item (click)=\\\"deleteProcurementRequestItem(rowData)\\\">\\r\\n                                      {{ \\\"delete\\\" | translate }}\\r\\n                                    </button>\\r\\n                                  </mat-menu>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".selectedAsset\\\" | translate }}\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        *ngIf=\\\"selectedProcurementRequestItem\\\"\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [value]=\\\"workshopEntries\\\"\\r\\n                        [(selection)]=\\\"selectedWorkshopEntry\\\"\\r\\n                        selectionMode=\\\"single\\\"\\r\\n                        (onRowSelect)=\\\"onSelectWorkshopEntry()\\\"\\r\\n                        (onRowUnselect)=\\\"onSelectWorkshopEntry()\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td>\\r\\n                              <div\\r\\n                                *ngIf=\\\"!rowData.obj['stockMvtSn'] && !rowData.obj['stockMvtBatchNumber']\\\"\\r\\n                                style=\\\"font-style: italic;\\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".noSelectedAsset\\\" | translate }}\\r\\n                              </div>\\r\\n\\r\\n                              <div *ngIf=\\\"rowData.obj['stockMvtSn'] || rowData.obj['stockMvtBatchNumber']\\\">\\r\\n                                <div>\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">\\r\\n                                    {{ \\\"packagingNumber\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <a class=\\\"bold\\\" (click)=\\\"openBatch(rowData)\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtBatchNumber\\\"] }}\\r\\n                                  </a>\\r\\n                                </div>\\r\\n\\r\\n                                <div *ngIf=\\\"!rowData.obj['stockMvtSn']\\\">\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">{{\\r\\n                                    getComponentName() + \\\".quantity\\\" | translate\\r\\n                                  }}</span>\\r\\n                                  <span class=\\\"bold\\\" *ngIf=\\\"rowData.obj['stockMvtQuantity']\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtQuantity\\\"] | formatNumber }}\\r\\n                                  </span>\\r\\n                                  <span class=\\\"bold\\\" *ngIf=\\\"rowData.obj['stockMvtUnit']\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtUnit\\\"] }}\\r\\n                                  </span>\\r\\n                                </div>\\r\\n\\r\\n                                <div>\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">\\r\\n                                    {{ (rowData.obj[\\\"stockMvtSn\\\"] ? \\\"sn\\\" : \\\"manufacturingBatch\\\") | translate }}\\r\\n                                  </span>\\r\\n                                  <a class=\\\"bold\\\" (click)=\\\"openEquipment(rowData)\\\" *ngIf=\\\"rowData.obj['stockMvtSn']\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtSn\\\"] }}\\r\\n                                  </a>\\r\\n                                  <a\\r\\n                                    class=\\\"bold\\\"\\r\\n                                    (click)=\\\"openManufacturingBatch(rowData)\\\"\\r\\n                                    *ngIf=\\\"!rowData.obj['stockMvtSn']\\\"\\r\\n                                  >\\r\\n                                    {{ rowData[\\\"manufacturingBatch\\\"]?.batchNumber }}\\r\\n                                  </a>\\r\\n                                </div>\\r\\n\\r\\n                                <div>\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">\\r\\n                                    {{ \\\"status\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <span class=\\\"bold\\\">\\r\\n                                    {{ rowData.equipment?.operationalStatus | formatSelectOption: operationalStatuses }}\\r\\n                                  </span>\\r\\n                                </div>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                style=\\\"display: flex; flex-direction: row; justify-content: flex-end;\\\"\\r\\n                                *ngIf=\\\"\\r\\n                                  (rowData.obj['stockMvtSn'] || rowData.obj['stockMvtBatchNumber']) &&\\r\\n                                  procurementRequest.procStatus !=\\r\\n                                    aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <button\\r\\n                                  class=\\\"actions-btn\\\"\\r\\n                                  mat-icon-button\\r\\n                                  class=\\\"mat-elevation-z1\\\"\\r\\n                                  [matMenuTriggerFor]=\\\"itemActions\\\"\\r\\n                                  (click)=\\\"stopPropagation($event)\\\"\\r\\n                                  *ngIf=\\\"isCancelBookingBtnVisible(rowData)\\\"\\r\\n                                >\\r\\n                                  <mat-icon>more_horiz</mat-icon>\\r\\n                                </button>\\r\\n                                <mat-menu #itemActions=\\\"matMenu\\\">\\r\\n                                  <button mat-menu-item (click)=\\\"cancelBooking(rowData)\\\">\\r\\n                                    {{ \\\"cancel\\\" | translate }}\\r\\n                                  </button>\\r\\n                                </mat-menu>\\r\\n                              </div>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".servedState\\\" | translate }}\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <aw-procurement-request-mvt-status\\r\\n                        *ngIf=\\\"\\r\\n                          selectedWorkshopEntry &&\\r\\n                          selectedWorkshopEntry?.obj.bidtStockMvtTypeId !== bidtStockMvtTypeConstants.REMOVAL\\r\\n                        \\\"\\r\\n                        [mvts]=\\\"stockMvtSubject.asObservable()\\\"\\r\\n                        [componentName]=\\\"'ProcurementRequestMvtStatusComponent'\\\"\\r\\n                        (onClick)=\\\"toggleDetailsTable($event)\\\"\\r\\n                      ></aw-procurement-request-mvt-status>\\r\\n\\r\\n                      <a-table\\r\\n                        [dataSource]=\\\"stockMvtTableDataSource\\\"\\r\\n                        *ngIf=\\\"\\r\\n                          selectedWorkshopEntry &&\\r\\n                          (showDetails ||\\r\\n                            selectedWorkshopEntry?.obj.bidtStockMvtTypeId === bidtStockMvtTypeConstants.REMOVAL)\\r\\n                        \\\"\\r\\n                        style=\\\"margin-top: 40px\\\"\\r\\n                      >\\r\\n                        <ng-template columnDef=\\\"movement\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div>\\r\\n                            <a class=\\\"bold\\\" (click)=\\\"openStovkMvt(rowData)\\\">\\r\\n                              {{ rowData[\\\"stockMvtCode\\\"] }}\\r\\n                            </a>\\r\\n                          </div>\\r\\n\\r\\n                          <div>\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"bidtStockMvtType\\\"]?.smtName | extractTranslation }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"type\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_CREDIT\\\"\\r\\n                            class=\\\"fa fa-fw fa-arrow-right procurement-type--in\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            pTooltip=\\\"{{ componentData.componentId + '.receipt' | translate }}\\\"\\r\\n                          ></i>\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_DEBIT\\\"\\r\\n                            class=\\\"fa fa-fw fa-arrow-right procurement-type--out\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            pTooltip=\\\"{{ componentData.componentId + '.issue' | translate }}\\\"\\r\\n                          ></i>\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_TRANSFER\\\"\\r\\n                            class=\\\"fa fa-fw fa-arrow-right procurement-type--transfer\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            pTooltip=\\\"{{ componentData.componentId + '.transfer' | translate }}\\\"\\r\\n                          ></i>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"warehouseWorkshop\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div\\r\\n                            *ngIf=\\\"\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_CREDIT ||\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_TRANSFER\\r\\n                            \\\"\\r\\n                          >\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtSiteReceipt\\\"]?.siteCode }}</span>\\r\\n                          </div>\\r\\n                          <div\\r\\n                            *ngIf=\\\"\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_CREDIT ||\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_TRANSFER\\r\\n                            \\\"\\r\\n                          >\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"bidtWarehouseReceipt\\\"]?.whName }}</span>\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_DEBIT\\\">\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtSiteIssue\\\"]?.siteCode }}</span>\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_DEBIT\\\">\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"bidtWarehouseIssue\\\"]?.whName }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"outbound\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinZoneIssue']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">\\r\\n                              {{ rowData[\\\"bidtStorageBinZoneIssue\\\"]?.sbNumber }}\\r\\n                              <ng-container *ngIf=\\\"rowData['bidtStorageBinZoneIssue']?.sbDescription\\\">\\r\\n                                - {{ rowData[\\\"bidtStorageBinZoneIssue\\\"]?.sbDescription }}\\r\\n                              </ng-container>\\r\\n                            </span>\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinBinIssue']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtStorageBinBinIssue\\\"]?.sbNumber }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"inbound\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinZoneReceipt']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">\\r\\n                              {{ rowData[\\\"bidtStorageBinZoneReceipt\\\"]?.sbNumber }}\\r\\n                              <ng-container *ngIf=\\\"rowData['bidtStorageBinZoneReceipt']?.sbDescription\\\">\\r\\n                                - {{ rowData[\\\"bidtStorageBinZoneReceipt\\\"]?.sbDescription }}\\r\\n                              </ng-container>\\r\\n                            </span>\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinBinReceipt']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtStorageBinBinReceipt\\\"]?.sbNumber }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"status\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div>\\r\\n                            <span class=\\\"bold\\\">\\r\\n                              {{ rowData[\\\"mvtStatus\\\"] | formatSelectOption: stockMvtStatuses }}\\r\\n                            </span>\\r\\n                          </div>\\r\\n\\r\\n                          <div>\\r\\n                            {{\\r\\n                              (rowData[\\\"stockMvtDate\\\"] ? rowData[\\\"stockMvtDate\\\"] : rowData[\\\"stockMvtPlannedDate\\\"])\\r\\n                                | date: \\\"yyyy/MM/dd HH:mm\\\":\\\"\\\":translateService.currentLang\\r\\n                            }}\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n                      </a-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div\\r\\n          class=\\\"grid-row\\\"\\r\\n          *ngIf=\\\"\\r\\n            procurementRequest.procType == aWPropertiesConstants.PROCUREMENT_REQUEST_TYPE_MAINTENANCE_ES ||\\r\\n            procurementRequest.procType == aWPropertiesConstants.PROCUREMENT_REQUEST_TYPE_STOCK_LEVELING_ES\\r\\n          \\\"\\r\\n        >\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container grid-cell-items\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".reverseItems\\\" | translate }}\\r\\n                    ({{ reverseProcurementRequestItems.length }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                <!-- <div class=\\\"row flex-row--justify-end\\\">\\r\\n                  <button type=\\\"button\\\" mat-raised-button (click)=\\\"showItemDialog()\\\" *ngIf=\\\"!isReadOpenMode\\\">\\r\\n                    {{ componentData.componentId + \\\".addItem\\\" | translate }}\\r\\n                  </button>\\r\\n                </div> -->\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".materials\\\" | translate }}\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        id=\\\"items-table\\\"\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [value]=\\\"reverseProcurementRequestItems\\\"\\r\\n                        [(selection)]=\\\"reverseSelectedProcurementRequestItem\\\"\\r\\n                        selectionMode=\\\"single\\\"\\r\\n                        (onRowSelect)=\\\"onSelectReverseProcurementRequestItem()\\\"\\r\\n                        (onRowUnselect)=\\\"onSelectReverseProcurementRequestItem()\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr\\r\\n                            [pSelectableRow]=\\\"rowData\\\"\\r\\n                            [pSelectableRowIndex]=\\\"rowIndex\\\"\\r\\n                            [ngStyle]=\\\"{ 'background-color': '#ffffff' }\\\"\\r\\n                          >\\r\\n                            <td>\\r\\n                              <div>\\r\\n                                <div style=\\\"display: flex; flex-direction: row;\\\">\\r\\n                                  <div style=\\\"min-width: 3rem; display: inline-block; flex-grow: 1;\\\">\\r\\n                                    <a style=\\\"font-weight: 600\\\" (click)=\\\"openArticle(rowData['obj'].birePn?.pnCode)\\\">\\r\\n                                      {{ rowData[\\\"obj\\\"].birePn?.pnCode }}\\r\\n                                    </a>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div>\\r\\n                                    {{ componentData.componentId + \\\".requestedQty\\\" | translate }} =\\r\\n                                    <span style=\\\"font-weight: 600\\\">\\r\\n                                      {{ rowData[\\\"obj\\\"].quantity | formatNumber }}\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"rowData['obj'].birePn?.quantityUnit\\\">\\r\\n                                      {{ rowData[\\\"obj\\\"].birePn?.quantityUnit }}\\r\\n                                    </span>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div style=\\\"display: flex; flex-direction: row;\\\">\\r\\n                                  <div style=\\\"min-width: 3rem; display: inline-block; flex-grow: 1;\\\">\\r\\n                                    {{ rowData[\\\"obj\\\"].birePn?.otanPnReference }}\\r\\n                                  </div>\\r\\n\\r\\n                                  <div *ngIf=\\\"rowData['obj'].birePn?.quantityPerIssue\\\">\\r\\n                                    ({{ \\\"distributionQuantityShort\\\" | translate }} =\\r\\n                                    {{ rowData[\\\"obj\\\"].birePn.quantityPerIssue | formatNumber }})\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                style=\\\"font-style: italic; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; padding-bottom: 1.5rem;\\\"\\r\\n                              >\\r\\n                                {{ rowData[\\\"obj\\\"].birePn?.articleDesignation }}\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                *ngIf=\\\"rowData['siteIssueName']\\\"\\r\\n                                style=\\\"display: flex; justify-content: space-between;\\\"\\r\\n                              >\\r\\n                                <span style=\\\"color: #01579b;;\\\">{{ getComponentName() + \\\".supplier\\\" | translate }}</span>\\r\\n                                <span class=\\\"bold\\\">{{ rowData[\\\"siteIssueName\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                style=\\\"padding-bottom: 0.6rem; text-align: end;\\\"\\r\\n                                *ngIf=\\\"rowData['warehouseIssueName']\\\"\\r\\n                              >\\r\\n                                <span class=\\\"italic\\\">{{ rowData[\\\"warehouseIssueName\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                *ngIf=\\\"rowData['siteReceiptName']\\\"\\r\\n                                style=\\\"display: flex; justify-content: space-between;\\\"\\r\\n                              >\\r\\n                                <span style=\\\"color: #01579b;;\\\">{{ \\\"recipient\\\" | translate }}</span>\\r\\n                                <span class=\\\"bold\\\">{{ rowData[\\\"siteReceiptName\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                style=\\\"padding-bottom: 0.6rem; text-align: end;\\\"\\r\\n                                *ngIf=\\\"rowData['warehouseReceiptName']\\\"\\r\\n                              >\\r\\n                                <span class=\\\"italic\\\">{{ rowData[\\\"warehouseReceiptName\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div>\\r\\n                                <div style=\\\"min-width: 8rem; display: inline-block;\\\">\\r\\n                                  {{ getComponentName() + \\\".notReversed\\\" | translate }}\\r\\n                                </div>\\r\\n                                <span style=\\\"font-weight: 600\\\">{{ rowData[\\\"notReversedNb\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div>\\r\\n                                <div style=\\\"min-width: 8rem; display: inline-block;\\\">\\r\\n                                  {{ getComponentName() + \\\".reversed\\\" | translate }}\\r\\n                                </div>\\r\\n                                <span style=\\\"font-weight: 600\\\">{{ rowData[\\\"reversedNb\\\"] }}</span>\\r\\n                              </div>\\r\\n\\r\\n                              <div\\r\\n                                style=\\\"display: flex; flex-direction: row; justify-content: space-between; align-items: center;\\\"\\r\\n                                *ngIf=\\\"\\r\\n                                  procurementRequest.procStatus !=\\r\\n                                  aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <div\\r\\n                                  style=\\\"padding: 8px; color: #000; border-radius: 4px;\\\"\\r\\n                                  [ngClass]=\\\"{\\r\\n                                    'served--nok': rowData['reversedNb'] == 0,\\r\\n                                    'served--ok':\\r\\n                                      rowData['reversedNb'] > 0 && rowData['reversedNb'] == rowData['allNb'],\\r\\n                                    'served--warning':\\r\\n                                      rowData['reversedNb'] > 0 && rowData['reversedNb'] != rowData['allNb']\\r\\n                                  }\\\"\\r\\n                                >\\r\\n                                  <span *ngIf=\\\"rowData['reversedNb'] == 0\\\">\\r\\n                                    {{ componentData.componentId + \\\".notReversed\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <span *ngIf=\\\"rowData['reversedNb'] > 0 && rowData['reversedNb'] != rowData['allNb']\\\">\\r\\n                                    {{ componentData.componentId + \\\".partiallyReversed\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <span *ngIf=\\\"rowData['reversedNb'] > 0 && rowData['reversedNb'] == rowData['allNb']\\\">\\r\\n                                    {{ componentData.componentId + \\\".reversed\\\" | translate }}\\r\\n                                  </span>\\r\\n                                </div>\\r\\n\\r\\n                                <div>\\r\\n                                  <button\\r\\n                                    class=\\\"actions-btn\\\"\\r\\n                                    mat-icon-button\\r\\n                                    class=\\\"mat-elevation-z1\\\"\\r\\n                                    [matMenuTriggerFor]=\\\"itemActions\\\"\\r\\n                                    (click)=\\\"stopPropagation($event)\\\"\\r\\n                                    *ngIf=\\\"\\r\\n                                      reverseSelectedProcurementRequestItem &&\\r\\n                                      rowData.obj === reverseSelectedProcurementRequestItem.obj &&\\r\\n                                      procurementRequest.procStatus !==\\r\\n                                        aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CLOSED\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    <mat-icon>more_horiz</mat-icon>\\r\\n                                  </button>\\r\\n                                  <mat-menu #itemActions=\\\"matMenu\\\">\\r\\n                                    <button\\r\\n                                      mat-menu-item\\r\\n                                      (click)=\\\"manageTransfertOrderItem(rowData)\\\"\\r\\n                                      *ngIf=\\\"\\r\\n                                        !procurementRequest.bidmWorkOrderWoId &&\\r\\n                                        procurementRequest.procStatus !=\\r\\n                                          aWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n                                      \\\"\\r\\n                                    >\\r\\n                                      {{ componentData.componentId + \\\".manage\\\" | translate }}\\r\\n                                    </button>\\r\\n                                  </mat-menu>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".reversedAsset\\\" | translate }}\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        *ngIf=\\\"reverseSelectedProcurementRequestItem\\\"\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [value]=\\\"reverseWorkshopEntries\\\"\\r\\n                        [(selection)]=\\\"reverseSelectedWorkshopEntry\\\"\\r\\n                        selectionMode=\\\"single\\\"\\r\\n                        (onRowSelect)=\\\"onSelectReverseWorkshopEntry()\\\"\\r\\n                        (onRowUnselect)=\\\"onSelectReverseWorkshopEntry()\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td>\\r\\n                              <div\\r\\n                                *ngIf=\\\"!rowData.obj['stockMvtSn'] && !rowData.obj['stockMvtBatchNumber']\\\"\\r\\n                                style=\\\"font-style: italic;\\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".noSelectedAsset\\\" | translate }}\\r\\n                              </div>\\r\\n\\r\\n                              <div *ngIf=\\\"rowData.obj['stockMvtSn'] || rowData.obj['stockMvtBatchNumber']\\\">\\r\\n                                <div>\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">\\r\\n                                    {{ \\\"packagingNumber\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <a class=\\\"bold\\\" (click)=\\\"openBatch(rowData)\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtBatchNumber\\\"] }}\\r\\n                                  </a>\\r\\n                                </div>\\r\\n\\r\\n                                <div *ngIf=\\\"!rowData.obj['stockMvtSn']\\\">\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">{{\\r\\n                                    getComponentName() + \\\".quantity\\\" | translate\\r\\n                                  }}</span>\\r\\n                                  <span class=\\\"bold\\\" *ngIf=\\\"rowData.obj['stockMvtQuantity']\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtQuantity\\\"] | formatNumber }}\\r\\n                                  </span>\\r\\n                                  <span class=\\\"bold\\\" *ngIf=\\\"rowData.obj['stockMvtUnit']\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtUnit\\\"] }}\\r\\n                                  </span>\\r\\n                                </div>\\r\\n\\r\\n                                <div>\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">\\r\\n                                    {{ (rowData.obj[\\\"stockMvtSn\\\"] ? \\\"sn\\\" : \\\"manufacturingBatch\\\") | translate }}\\r\\n                                  </span>\\r\\n                                  <a class=\\\"bold\\\" (click)=\\\"openEquipment(rowData)\\\" *ngIf=\\\"rowData.obj['stockMvtSn']\\\">\\r\\n                                    {{ rowData.obj[\\\"stockMvtSn\\\"] }}\\r\\n                                  </a>\\r\\n                                  <a\\r\\n                                    class=\\\"bold\\\"\\r\\n                                    (click)=\\\"openManufacturingBatch(rowData)\\\"\\r\\n                                    *ngIf=\\\"!rowData.obj['stockMvtSn']\\\"\\r\\n                                  >\\r\\n                                    {{ rowData[\\\"manufacturingBatch\\\"]?.batchNumber }}\\r\\n                                  </a>\\r\\n                                </div>\\r\\n\\r\\n                                <div>\\r\\n                                  <span style=\\\"min-width: 9rem; display: inline-block;\\\">\\r\\n                                    {{ \\\"status\\\" | translate }}\\r\\n                                  </span>\\r\\n                                  <span class=\\\"bold\\\">\\r\\n                                    {{ rowData.equipment?.operationalStatus | formatSelectOption: operationalStatuses }}\\r\\n                                  </span>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".reversedState\\\" | translate }}\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <aw-procurement-request-reverse-mvt-status\\r\\n                        *ngIf=\\\"\\r\\n                          reverseSelectedWorkshopEntry &&\\r\\n                          reverseSelectedWorkshopEntry?.obj.bidtStockMvtTypeId !== bidtStockMvtTypeConstants.REMOVAL\\r\\n                        \\\"\\r\\n                        [mvts]=\\\"reverseStockMvtSubject.asObservable()\\\"\\r\\n                        [procurementRequest]=\\\"procurementRequest\\\"\\r\\n                        (onClick)=\\\"toggleReverseDetailsTable($event)\\\"\\r\\n                      ></aw-procurement-request-reverse-mvt-status>\\r\\n\\r\\n                      <a-table\\r\\n                        [dataSource]=\\\"reverseStockMvtTableDataSource\\\"\\r\\n                        *ngIf=\\\"\\r\\n                          reverseSelectedWorkshopEntry &&\\r\\n                          (reverseShowDetails ||\\r\\n                            reverseSelectedWorkshopEntry?.obj.bidtStockMvtTypeId === bidtStockMvtTypeConstants.REMOVAL)\\r\\n                        \\\"\\r\\n                        style=\\\"margin-top: 40px\\\"\\r\\n                      >\\r\\n                        <ng-template columnDef=\\\"movement\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div>\\r\\n                            <a class=\\\"bold\\\" (click)=\\\"openStovkMvt(rowData)\\\">\\r\\n                              {{ rowData[\\\"stockMvtCode\\\"] }}\\r\\n                            </a>\\r\\n                          </div>\\r\\n\\r\\n                          <div>\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"bidtStockMvtType\\\"]?.smtName | extractTranslation }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"type\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_CREDIT\\\"\\r\\n                            class=\\\"fa fa-fw fa-arrow-right procurement-type--in\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            pTooltip=\\\"{{ componentData.componentId + '.receipt' | translate }}\\\"\\r\\n                          ></i>\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_DEBIT\\\"\\r\\n                            class=\\\"fa fa-fw fa-arrow-right procurement-type--out\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            pTooltip=\\\"{{ componentData.componentId + '.issue' | translate }}\\\"\\r\\n                          ></i>\\r\\n                          <i\\r\\n                            *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_TRANSFER\\\"\\r\\n                            class=\\\"fa fa-fw fa-arrow-right procurement-type--transfer\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            pTooltip=\\\"{{ componentData.componentId + '.transfer' | translate }}\\\"\\r\\n                          ></i>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"warehouseWorkshop\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div\\r\\n                            *ngIf=\\\"\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_CREDIT ||\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_TRANSFER\\r\\n                            \\\"\\r\\n                          >\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtSiteReceipt\\\"]?.siteCode }}</span>\\r\\n                          </div>\\r\\n                          <div\\r\\n                            *ngIf=\\\"\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_CREDIT ||\\r\\n                              rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_TRANSFER\\r\\n                            \\\"\\r\\n                          >\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"bidtWarehouseReceipt\\\"]?.whName }}</span>\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_DEBIT\\\">\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtSiteIssue\\\"]?.siteCode }}</span>\\r\\n                          </div>\\r\\n                          <div *ngIf=\\\"rowData['bidtStockMvtType']?.smtWay === bidtStockMvtConstants.MVT_WAY_DEBIT\\\">\\r\\n                            <span class=\\\"italic\\\">{{ rowData[\\\"bidtWarehouseIssue\\\"]?.whName }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"outbound\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinZoneIssue']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">\\r\\n                              {{ rowData[\\\"bidtStorageBinZoneIssue\\\"]?.sbNumber }}\\r\\n                              <ng-container *ngIf=\\\"rowData['bidtStorageBinZoneIssue']?.sbDescription\\\">\\r\\n                                - {{ rowData[\\\"bidtStorageBinZoneIssue\\\"]?.sbDescription }}\\r\\n                              </ng-container>\\r\\n                            </span>\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinBinIssue']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtStorageBinBinIssue\\\"]?.sbNumber }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"inbound\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinZoneReceipt']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">\\r\\n                              {{ rowData[\\\"bidtStorageBinZoneReceipt\\\"]?.sbNumber }}\\r\\n                              <ng-container *ngIf=\\\"rowData['bidtStorageBinZoneReceipt']?.sbDescription\\\">\\r\\n                                - {{ rowData[\\\"bidtStorageBinZoneReceipt\\\"]?.sbDescription }}\\r\\n                              </ng-container>\\r\\n                            </span>\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"rowData['bidtStorageBinBinReceipt']?.sbNumber\\\">\\r\\n                            <span class=\\\"bold\\\">{{ rowData[\\\"bidtStorageBinBinReceipt\\\"]?.sbNumber }}</span>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template columnDef=\\\"status\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <div>\\r\\n                            <span class=\\\"bold\\\">\\r\\n                              {{ rowData[\\\"mvtStatus\\\"] | formatSelectOption: stockMvtStatuses }}\\r\\n                            </span>\\r\\n                          </div>\\r\\n\\r\\n                          <div>\\r\\n                            {{\\r\\n                              (rowData[\\\"stockMvtDate\\\"] ? rowData[\\\"stockMvtDate\\\"] : rowData[\\\"stockMvtPlannedDate\\\"])\\r\\n                                | date: \\\"yyyy/MM/dd HH:mm\\\":\\\"\\\":translateService.currentLang\\r\\n                            }}\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n                      </a-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ componentData.componentId + \\\".documents\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".documents\\\" | translate }} ({{ documentTableDataSource.dataCount }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                <div class=\\\"section\\\">\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <a-table [dataSource]=\\\"documentTableDataSource\\\">\\r\\n                      <ng-template tableActionsDef>\\r\\n                        <p-fileUpload\\r\\n                          #fileUploader\\r\\n                          auto=\\\"true\\\"\\r\\n                          chooseLabel=\\\"{{ 'global.upload' | translate }}\\\"\\r\\n                          customUpload=\\\"true\\\"\\r\\n                          mode=\\\"basic\\\"\\r\\n                          name=\\\"document[]\\\"\\r\\n                          (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && !documentTableDataSource.hasDataSelection\\\"\\r\\n                        >\\r\\n                        </p-fileUpload>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"!isReadOpenMode && documentTableDataSource.hasDataSelection\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          color=\\\"warn\\\"\\r\\n                          (click)=\\\"deleteDocuments()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.delete\\\" | translate }}\\r\\n                        </button>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template columnDef=\\\"documentPublicationDate\\\" let-rowData=\\\"rowData\\\">\\r\\n                        {{ rowData[\\\"documentPublicationDate\\\"] | date: \\\"shortDate\\\":\\\"\\\":translateService.currentLang }}\\r\\n                      </ng-template>\\r\\n                    </a-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n    </mat-tab-group>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-add-popup\\r\\n  *ngIf=\\\"itemDialogVisible\\\"\\r\\n  [(display)]=\\\"itemDialogVisible\\\"\\r\\n  (onValidate)=\\\"onValidateItem($event)\\\"\\r\\n></aw-dialog-add-popup>\\r\\n\\r\\n<aw-dialog-procurement-request-edit-quantity\\r\\n  *ngIf=\\\"editQuantityDialogVisible\\\"\\r\\n  [(display)]=\\\"editQuantityDialogVisible\\\"\\r\\n  [procurementRequest]=\\\"procurementRequest\\\"\\r\\n  [procReqItem]=\\\"selectedProcReqItem\\\"\\r\\n  [workshopEntries]=\\\"workshopEntries\\\"\\r\\n  (onValidate)=\\\"onEditQuantity($event)\\\"\\r\\n></aw-dialog-procurement-request-edit-quantity>\\r\\n\\r\\n<aw-dialog-search-work-order\\r\\n  *ngIf=\\\"showWoDialog\\\"\\r\\n  [(display)]=\\\"showWoDialog\\\"\\r\\n  [sourceSearchObject]=\\\"searchWoObject\\\"\\r\\n  (onSelected)=\\\"onSelectWo($event)\\\"\\r\\n>\\r\\n</aw-dialog-search-work-order>\\r\\n\"","module.exports = \":host .grid-cell-items .section:first-of-type, :host .grid-cell-items .section:nth-of-type(2) {\\n  width: 20%; }\\n\\n:host .grid-cell-items .section:last-of-type {\\n  padding-left: 1px;\\n  width: 60%; }\\n\\n:host .grid-cell-items .section:nth-of-type(2) {\\n  border-left: 1px solid #595959;\\n  border-right: 1px solid #595959;\\n  padding-left: 1px; }\\n\\n:host .green {\\n  color: #4caf50 !important; }\\n\\n:host .red {\\n  color: #f6685e !important; }\\n\\n:host .yellow {\\n  color: #ffc107 !important; }\\n\\n:host .alert {\\n  display: inline-block;\\n  width: 50%; }\\n\\n:host .served--nok {\\n  background-color: #f6685e !important; }\\n\\n:host .served--ok {\\n  background-color: #4caf50 !important; }\\n\\n:host .served--warning {\\n  background-color: #ffc107 !important; }\\n\\n:host .procurement--nok {\\n  background-color: #f6685e; }\\n\\n:host .procurement--ok {\\n  background-color: #4caf50; }\\n\\n:host .procurement--warning {\\n  background-color: #ffc107; }\\n\\n:host .procurement-type--in {\\n  color: #4caf50;\\n  -webkit-transform: rotate(320deg);\\n          transform: rotate(320deg); }\\n\\n:host .procurement-type--out {\\n  color: #f6685e;\\n  -webkit-transform: rotate(45deg);\\n          transform: rotate(45deg); }\\n\\n:host .procurement-type--transfer {\\n  color: #006ea9; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvcHJvY3VyZW1lbnQtcmVxdWVzdC9mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxsb2dpc3RpY3NcXHByb2N1cmVtZW50LXJlcXVlc3RcXGZvcm1cXHByb2N1cmVtZW50LXJlcXVlc3QtZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvcHJvY3VyZW1lbnQtcmVxdWVzdC9mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcc3R5bGVzXFxfY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFLUSxVQUFVLEVBQUE7O0FBTGxCO0VBU1EsaUJBQWlCO0VBQ2pCLFVBQVUsRUFBQTs7QUFWbEI7RUFjUSw4QkNic0I7RURjdEIsK0JDZHNCO0VEZXRCLGlCQUFpQixFQUFBOztBQWhCekI7RUFzQkkseUJBQStCLEVBQUE7O0FBdEJuQztFQTBCSSx5QkFBNkIsRUFBQTs7QUExQmpDO0VBOEJJLHlCQUF5QixFQUFBOztBQTlCN0I7RUFrQ0kscUJBQXFCO0VBQ3JCLFVBQVUsRUFBQTs7QUFuQ2Q7RUF1Q0ksb0NBQXdDLEVBQUE7O0FBdkM1QztFQTJDSSxvQ0FBMEMsRUFBQTs7QUEzQzlDO0VBK0NJLG9DQUFvQyxFQUFBOztBQS9DeEM7RUFtREkseUJDN0JnQixFQUFBOztBRHRCcEI7RUF1REkseUJDcENrQixFQUFBOztBRG5CdEI7RUEyREkseUJDdkNZLEVBQUE7O0FEcEJoQjtFQStESSxjQzVDa0I7RUQ2Q2xCLGlDQUF5QjtVQUF6Qix5QkFBeUIsRUFBQTs7QUFoRTdCO0VBb0VJLGNDOUNnQjtFRCtDaEIsZ0NBQXdCO1VBQXhCLHdCQUF3QixFQUFBOztBQXJFNUI7RUF5RUksY0NqRGdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2xvZ2lzdGljcy9wcm9jdXJlbWVudC1yZXF1ZXN0L2Zvcm0vcHJvY3VyZW1lbnQtcmVxdWVzdC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5ncmlkLWNlbGwtaXRlbXMge1xyXG4gICAgLnNlY3Rpb24ge1xyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUsXHJcbiAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bGFzdC1vZi10eXBlIHtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IDFweDtcclxuICAgICAgICB3aWR0aDogNjAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5ncmVlbiB7XHJcbiAgICBjb2xvcjogJGdyZWVuLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLnJlZCB7XHJcbiAgICBjb2xvcjogJHJlZC1saWdodDEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC55ZWxsb3cge1xyXG4gICAgY29sb3I6ICRvcmFuZ2UgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5hbGVydCB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB3aWR0aDogNTAlO1xyXG4gIH1cclxuXHJcbiAgLnNlcnZlZC0tbm9rIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRyZWQtbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuc2VydmVkLS1vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuc2VydmVkLS13YXJuaW5nIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2UgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5wcm9jdXJlbWVudC0tbm9rIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRyZWQtbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLnByb2N1cmVtZW50LS1vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLnByb2N1cmVtZW50LS13YXJuaW5nIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgfVxyXG5cclxuICAucHJvY3VyZW1lbnQtdHlwZS0taW4ge1xyXG4gICAgY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzMjBkZWcpO1xyXG4gIH1cclxuXHJcbiAgLnByb2N1cmVtZW50LXR5cGUtLW91dCB7XHJcbiAgICBjb2xvcjogJHJlZC1saWdodDE7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XHJcbiAgfVxyXG5cclxuICAucHJvY3VyZW1lbnQtdHlwZS0tdHJhbnNmZXIge1xyXG4gICAgY29sb3I6ICRibHVlLWRhcmsxO1xyXG4gIH1cclxufVxyXG4iLCIkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4kc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiRwcmltYXJ5LXRleHQtY29sb3I6ICMwMDA7XHJcbiRzZWNvbmRhcnktdGV4dC1jb2xvcjogIzU5NTk1OTtcclxuJGFjY2VudC1jb2xvcjogIzAxNTc5YjtcclxuXHJcbiRib2R5LWJhY2tncm91bmQtY29sb3I6ICNlOGViZWQ7XHJcbiR0b3BiYXItY29sb3I6ICNmYWZhZmE7XHJcblxyXG4vLyAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xyXG4vLyAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XHJcbi8vICRwcmltYXJ5LXRleHQtY29sb3I6ICNlOGU4ZTg7XHJcbi8vICRzZWNvbmRhcnktdGV4dC1jb2xvcjogI2ZmZjtcclxuLy8gJGFjY2VudC1jb2xvcjogIzljZGNmZTtcclxuXHJcbiRib3JkZXItY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ6IHRyYW5zcGFyZW50O1xyXG4kYm9yZGVyLWNvbG9yLS1mb2N1czogJGFjY2VudC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0taG92ZXI6ICMxYTFhMWE7XHJcblxyXG4kZ3JlZW4tZGFyazE6ICMyNzYzMmE7XHJcbiRncmVlbi1saWdodDE6ICM0Y2FmNTA7XHJcbiRvcmFuZ2U6ICNmZmMxMDc7XHJcbiRyZWQtZGFyazE6ICNhODI1MjU7XHJcbiRyZWQtbGlnaHQxOiAjZjY2ODVlO1xyXG4kYmx1ZS1saWdodDE6ICNiOGQwZTg7XHJcbiRibHVlLWRhcmsxOiAjMDA2ZWE5O1xyXG4kZ3JleTE6ICNjOGQ0ZDY7XHJcbiR5ZWxsb3cxOiAjZGRkZjAwO1xyXG5cclxuJGNyaXRpY2FsLXZhbHVlLWRhcms6ICNmYmE2NDM7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY3JpdGljYWwtdmFsdWUtbGlnaHQ6ICNmZWNjOGU7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY2FsZW5kYXIteWVsbG93OiAjZWZlZmIwOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGJhZC12YWx1ZS1kYXJrOiAjZmY2NzU4OyAvLyBUT0RPOiByZW1vdmUgaXRcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRib3JkZXItcmFkaXVzOiA0cHg7XHJcbiRib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiRmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJcIjtcclxuJGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiRmb250LXdlaWdodDogNDAwO1xyXG4kbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDI5O1xyXG4kbWFyZ2luLXZhbHVlOiA4cHg7XHJcbiRwYWdlLW1heC13aWR0aDogMTM2NnB4O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtNDogNDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTM6IDM7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0yOiAyO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGxlZnQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiR0b3BiYXItaGVpZ2h0OiA0MHB4O1xyXG4kbWFpbmJhci1ib3JkZXItY29sb3I6IGRhcmtlbigkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IsIDUlKTtcclxuJG1haW5iYXItYm9yZGVyLXdpZHRoOiAycHg7XHJcbiRwYWdlLWhlYWRlci1oZWlnaHQ6IDUuNXJlbTtcclxuJGZvcm0tY29udHJvbC1oZWlnaHQ6IDIuNXJlbTtcclxuJGNoZWNrYm94LWhlaWdodDogMS4yNXJlbTtcclxuJHJhZGlvYnV0dG9uLWhlaWdodDogMS4yNXJlbTtcclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as moment from 'moment';\r\nimport { FileUpload, SelectItem } from 'primeng/primeng';\r\nimport { Observable, Subject, forkJoin, of } from 'rxjs';\r\nimport { concatMap, finalize } from 'rxjs/operators';\r\n\r\nimport { PageTocService } from '../../../../shared/components/component-sidebar/page-toc.service';\r\nimport { ColumnAlignment, TableDataSource } from '../../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { BidtStockMvtConstants } from '../../../../shared/constants/bidt-stock-mvt-constants';\r\nimport { BidtStockMvtTypeConstant } from '../../../../shared/constants/bidt-stock-mvt-type-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { CreateProcurementRequestInput } from '../../../../shared/types/api-input-types/logistic/create-procurement-request-input.interface';\r\nimport { FindStockMvtsByCriteriaInput } from '../../../../shared/types/api-input-types/logistic/find-stock-mvts-by-criteria-input.interface';\r\nimport { SaveProcurementRequestInput } from '../../../../shared/types/api-input-types/logistic/save-document-procurement-request-input.interface';\r\nimport { ReferenceBatchDTO } from '../../../../shared/types/api-output-types/fleet-management/reference-batch-dto.interface';\r\nimport { WorkOrderOVSInputDTO } from '../../../../shared/types/api-output-types/ovs-popup/work-order-ovs-input-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { BidoCounterReferenceDTO } from '../../../../shared/types/api-types/bido-counter-reference-dto.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidtDocumentDTO } from '../../../../shared/types/api-types/bidt-document-dto.interface';\r\nimport { BidtProcReqItemDTO } from '../../../../shared/types/api-types/bidt-proc-req-item-dto.interface';\r\nimport { BidtProcurementRequestDTO } from '../../../../shared/types/api-types/bidt-procurement-request-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BidtStockMvtDTO } from '../../../../shared/types/api-types/bidt-stock-mvt-dto.interface';\r\nimport { BidtTorItemDTO } from '../../../../shared/types/api-types/bidt-tor-item-dto.interface';\r\nimport { BidtTransferOrderDTO } from '../../../../shared/types/api-types/bidt-transfer-order-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { BidoEquipmentUtils } from '../../../../shared/utils/bido-equipment-utils';\r\nimport { FileUtils } from '../../../../shared/utils/file-utils';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport {\r\n  LogisticalUtils,\r\n  ProcurementRequestItemRow,\r\n  ProcurementRequestReverseItemRow\r\n} from '../../../../shared/utils/logistic-utils';\r\nimport { ObjectUtils } from '../../../../shared/utils/object-utils';\r\nimport { SelectItemUtils } from '../../../../shared/utils/select-item-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { OverlayService } from '../../../overlay/overlay.service';\r\nimport { LogisticsService } from '../../logistics.service';\r\n\r\nimport { ProcurementRequestFormService } from './procurement-request-form.service';\r\nimport { ProcurementRequesttatusComponent } from './status/procurement-request-status.component';\r\n\r\nexport interface WorkshopEntryRow {\r\n  obj: BidtStockMvtDTO;\r\n  equipment?: BidoEquipmentDTO;\r\n  manufacturingBatch?: ReferenceBatchDTO;\r\n}\r\n\r\nexport interface StockMvtParameters {\r\n  searchParameters: FindStockMvtsByCriteriaInput;\r\n  bidtStockList: BidtStockMvtDTO[];\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-procurement-request-form',\r\n  styleUrls: ['./procurement-request-form.component.scss'],\r\n  templateUrl: './procurement-request-form.component.html'\r\n})\r\nexport class ProcurementRequestFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n  public readonly bidtStockMvtConstants: typeof BidtStockMvtConstants;\r\n  public readonly component: typeof ProcurementRequestFormComponent;\r\n  public readonly bidtStockMvtTypeConstants: typeof BidtStockMvtTypeConstant;\r\n\r\n  public procurementRequest: BidtProcurementRequestDTO;\r\n  public procurementRequestCriticities: LabelValue<string>[];\r\n  public procurementRequestStatuses: LabelValue<string>[];\r\n  public procurementRequestTypes: LabelValue<string>[];\r\n  public procurementRequestUnits: LabelValue<string>[];\r\n  public stockMvtStatuses: LabelValue<string>[];\r\n  public operationalStatuses: LabelValue<string>[];\r\n  public userLogin: string;\r\n  public userName: string;\r\n  public workPackageAsset: BidoEquipmentDTO | undefined;\r\n  public workPackageAssetName: string;\r\n\r\n  public bookedNb: number;\r\n  public notBookedNb: number;\r\n  public isServed: boolean;\r\n  public servedNb: number;\r\n  public bookedButDidntStartedNb: number;\r\n\r\n  public procurementRequestItems: ProcurementRequestItemRow[];\r\n  public selectedProcurementRequestItem: ProcurementRequestItemRow | undefined;\r\n\r\n  public workshopEntries: WorkshopEntryRow[];\r\n  public selectedWorkshopEntry: WorkshopEntryRow | undefined;\r\n\r\n  public documentTableDataSource: TableDataSource<BidtDocumentDTO>;\r\n  public stockMvtTableDataSource: TableDataSource<BidtStockMvtDTO>;\r\n\r\n  public itemDialogVisible: boolean;\r\n  public editQuantityDialogVisible: boolean;\r\n  public selectedProcReqItem?: BidtProcReqItemDTO;\r\n  public showWoDialog: boolean;\r\n\r\n  private procurementRequestId: number;\r\n\r\n  // document table\r\n  public deleteDocument: Observable<number>[];\r\n  public documentTypes: SelectItem[];\r\n\r\n  private userSiteId: number | undefined;\r\n\r\n  public enableProcReqItemQuantityModification: boolean;\r\n\r\n  public stockMvtSubject: Subject<BidtStockMvtDTO[]>;\r\n  public showDetails: boolean;\r\n\r\n  public searchWoObject: WorkOrderOVSInputDTO;\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public reverseProcurementRequestItems: ProcurementRequestReverseItemRow[];\r\n  public reverseSelectedProcurementRequestItem: ProcurementRequestReverseItemRow | undefined;\r\n  public reverseWorkshopEntries: WorkshopEntryRow[];\r\n  public reverseSelectedWorkshopEntry: WorkshopEntryRow | undefined;\r\n  public reverseStockMvtTableDataSource: TableDataSource<BidtStockMvtDTO>;\r\n  public reverseStockMvtSubject: Subject<BidtStockMvtDTO[]>;\r\n  public reverseShowDetails: boolean;\r\n  public reversedNb: number;\r\n  public notReversedNb: number;\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    pageTocService: PageTocService,\r\n    public sessionService: SessionService,\r\n    public translateService: TranslateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly logisticsService: LogisticsService,\r\n    private readonly overlayService: OverlayService,\r\n    private readonly procurementRequestFormService: ProcurementRequestFormService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n    this.component = ProcurementRequestFormComponent;\r\n    this.bidtStockMvtConstants = BidtStockMvtConstants;\r\n    this.bidtStockMvtTypeConstants = BidtStockMvtTypeConstant;\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.DOC_PARTNER_CATEGORY_MAP).subscribe((results) => {\r\n      this.documentTypes = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n\r\n    this.sessionService.getUserSiteId().subscribe({\r\n      next: (site) => {\r\n        this.userSiteId = site ? site.siteId : undefined;\r\n      }\r\n    });\r\n\r\n    this.stockMvtSubject = new Subject<BidtStockMvtDTO[]>();\r\n    this.reverseStockMvtSubject = new Subject<BidtStockMvtDTO[]>();\r\n    this.showDetails = false;\r\n    this.reverseShowDetails = false;\r\n    this.init();\r\n    this.onBeforeLoad();\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.LOG_PROCUREMENT_REQUEST_FORM;\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    if (this.componentData.objectId) {\r\n      this.procurementRequestId = (this.serializationService.deserialize(this.componentData.objectId) as {\r\n        id: number;\r\n      }).id;\r\n      this.load();\r\n    }\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////////////////////////\r\n\r\n  public cancel(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Read);\r\n  }\r\n\r\n  public cancelBooking(row: WorkshopEntryRow): void {\r\n    if (row.equipment) {\r\n      this.logisticsService.isAssetBooked(row.equipment).subscribe({\r\n        next: (stockMvt) => {\r\n          if (stockMvt) {\r\n            this.logisticsService.cancelBookedAsset(stockMvt).subscribe({\r\n              next: () => {\r\n                this.reload();\r\n              }\r\n            });\r\n          } else {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnCancelBookedAsset'));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public canSave(): boolean {\r\n    return (\r\n      ObjectUtils.isDefined(this.procurementRequest.criticality) &&\r\n      ObjectUtils.isDefined(this.procurementRequest.requestedDate)\r\n    );\r\n  }\r\n\r\n  public deleteProcurementRequestItem(row?: ProcurementRequestItemRow): void {\r\n    if (row) {\r\n      this.logisticsService.deleteProcurementRequestItem(row.obj.id as number).subscribe({\r\n        next: () => {\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnRemoveItem'));\r\n          this.reload();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public editProcReqItemQuantity(row: ProcurementRequestItemRow): void {\r\n    this.editQuantityDialogVisible = true;\r\n    this.selectedProcReqItem = row.obj;\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public manageProcurementRequestItem(row?: ProcurementRequestItemRow): void {\r\n    if (row) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.LOG_MATERIAL_REQUEST_MANAGEMENT_FORM,\r\n        openMode: ComponentOpenMode.Read,\r\n        objectId: this.serializationService.serialize({\r\n          prId: this.procurementRequest.id,\r\n          prItemId: row.obj.id\r\n        })\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public onSelectProcurementRequestItem(): void {\r\n    this.workshopEntries = [];\r\n    this.stockMvtTableDataSource.setData([]);\r\n    this.stockMvtSubject.next([]);\r\n    this.showDetails = false;\r\n\r\n    this.selectedWorkshopEntry = undefined;\r\n    this.stockMvtTableDataSource.dataSelection = [];\r\n\r\n    this.loadWorkshopEntryFromProcurementRequestItem();\r\n  }\r\n\r\n  public onSelectReverseProcurementRequestItem(): void {\r\n    this.reverseWorkshopEntries = [];\r\n    this.reverseStockMvtTableDataSource.setData([]);\r\n    this.reverseStockMvtSubject.next([]);\r\n    this.reverseShowDetails = false;\r\n\r\n    this.reverseSelectedWorkshopEntry = undefined;\r\n    this.reverseStockMvtTableDataSource.dataSelection = [];\r\n\r\n    this.loadReverseWorkshopEntryFromProcurementRequestItem();\r\n  }\r\n\r\n  public onSelectReverseWorkshopEntry(): void {\r\n    this.reverseStockMvtTableDataSource.setData([]);\r\n    this.reverseStockMvtSubject.next([]);\r\n    this.reverseShowDetails = false;\r\n\r\n    this.reverseStockMvtTableDataSource.dataSelection = [];\r\n\r\n    this.loadReverseStockMvtFromWorkshopEntry();\r\n  }\r\n\r\n  public onSelectWorkshopEntry(): void {\r\n    this.stockMvtTableDataSource.setData([]);\r\n    this.stockMvtSubject.next([]);\r\n    this.showDetails = false;\r\n\r\n    this.stockMvtTableDataSource.dataSelection = [];\r\n\r\n    this.loadStockMvtFromWorkshopEntry();\r\n  }\r\n\r\n  public onValidateItem(event: { pn: BirePnDTO; quantity: string }): void {\r\n    const input: CreateProcurementRequestInput = {\r\n      bidtProcurementRequest: this.procurementRequest,\r\n      pnCode: event.pn.pnCode as string,\r\n      quantity: event.quantity\r\n    };\r\n    this.logisticsService\r\n      .createProcurementRequestItem(input)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.itemDialogVisible = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: () => {\r\n          this.messageService.showSuccessMessage('successOnAddItem');\r\n          this.reload();\r\n        }\r\n      });\r\n  }\r\n\r\n  public onEditQuantity(newQuantity: string): void {\r\n    if (this.selectedProcReqItem) {\r\n      this.logisticsService\r\n        .updateProcurementRequestItemQuantity({\r\n          newQuantity,\r\n          itemId: this.selectedProcReqItem.id as number,\r\n          oldQuantity: this.selectedProcReqItem.requestedQuantity as string\r\n        })\r\n        .subscribe({\r\n          next: () => {\r\n            this.reload();\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  public openWorkPackageAsset(): void {\r\n    if (this.workPackageAsset) {\r\n      let componentId: string;\r\n      if (this.workPackageAsset.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY) {\r\n        componentId = ComponentConstants.FLE_AIRCRAFT_FORM;\r\n      } else if (this.workPackageAsset.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY) {\r\n        componentId = ComponentConstants.FLE_ENGINE_FORM;\r\n      } else {\r\n        componentId = ComponentConstants.FLE_EQUIPMENT_FORM;\r\n      }\r\n\r\n      const data: PageComponentData = {\r\n        componentId,\r\n        id: this.tabService.generateId(),\r\n        objectId: this.serializationService.serialize({\r\n          equipmentCode: this.workPackageAsset.equipmentCode\r\n        }),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openArticle(pnCode: string): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_MATERIAL_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize({ pnCode })\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openStovkMvt(rowData: BidtStockMvtDTO): void {\r\n    const searchCriteria: FindStockMvtsByCriteriaInput = {\r\n      mvtStatus: rowData.mvtStatus ? [rowData.mvtStatus] : [],\r\n      mvtStatusExcluded: [],\r\n      untilPlannedDate: rowData.stockMvtPlannedDate,\r\n      stockMvt: rowData,\r\n      pnCode: rowData.birePnPnCode,\r\n      withAlternatives: false,\r\n      criticality: rowData.criticality,\r\n      dfShipmentSearch: false\r\n    };\r\n    const params: StockMvtParameters = {\r\n      searchParameters: searchCriteria,\r\n      bidtStockList: [rowData]\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_STOCK_MOVEMENTS_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize(params)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openWorkOrder(): void {\r\n    if (this.isReadOpenMode || this.bookedNb !== 0) {\r\n      if (this.procurementRequest.bidmWorkOrder) {\r\n        const data: PageComponentData = {\r\n          id: this.tabService.generateId(),\r\n          componentId: ComponentConstants.MAI_WORK_ORDER_FORM,\r\n          openMode: ComponentOpenMode.Read,\r\n          objectId: this.serializationService.serialize({\r\n            projectId: this.procurementRequest.bidmWorkOrder.projectId,\r\n            woId: this.procurementRequest.bidmWorkOrder.woId\r\n          })\r\n        };\r\n        const labelKey = 'transaction.' + data.componentId;\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      }\r\n    }\r\n  }\r\n\r\n  public reload(): void {\r\n    this.onBeforeLoad();\r\n    this.load();\r\n  }\r\n\r\n  public remove(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: 'confirmDeleteProcurementRequest',\r\n      accept: () => {\r\n        this.logisticsService.deleteProcurementRequest(this.procurementRequest.id as number).subscribe({\r\n          next: () => {\r\n            this.messageService.showSuccessMessage('successOnDeleteProcurementRequest');\r\n            this.tabService.openPreviousTab();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public save(): void {\r\n    this.logisticsService.addOrUpdateProcurementRequest(this.procurementRequest).subscribe({\r\n      next: (procurementRequest) => {\r\n        this.saveBidtDocuments();\r\n        this.procurementRequest = procurementRequest;\r\n        this.updateOpenMode(ComponentOpenMode.Read);\r\n\r\n        this.reload();\r\n      }\r\n    });\r\n  }\r\n\r\n  public showItemDialog(): void {\r\n    this.itemDialogVisible = true;\r\n  }\r\n\r\n  public showStatus(): void {\r\n    if (this.procurementRequest.procStatus !== AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED) {\r\n      const overlayRef = this.overlayService.openWithPositionCenter<string | undefined>({\r\n        content: ProcurementRequesttatusComponent,\r\n        data: {\r\n          procurementRequest: this.procurementRequest,\r\n          showClosedButton: this.bookedNb - this.bookedButDidntStartedNb === 0\r\n        }\r\n      });\r\n\r\n      overlayRef.afterClosed$.subscribe({\r\n        next: (event) => {\r\n          if (event.data) {\r\n            this.procurementRequest.procStatus = event.data;\r\n            if (\r\n              !!this.procurementRequest.bidtProcReqItems &&\r\n              this.procurementRequest.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CLOSED\r\n            ) {\r\n              this.procurementRequest.bidtProcReqItems.forEach((item: BidtProcReqItemDTO) => {\r\n                if (!!item.workshopEntries) {\r\n                  item.workshopEntries.forEach((entry: BidtStockMvtDTO) => {\r\n                    this.logisticsService.findStockMvtStory(entry).subscribe((mvts: BidtStockMvtDTO[]) => {\r\n                      if (\r\n                        mvts.some(\r\n                          (mvt: BidtStockMvtDTO) =>\r\n                            (mvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.PICKING ||\r\n                              mvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.CROSS_DOCKING) &&\r\n                            mvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY &&\r\n                            mvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY\r\n                        )\r\n                      ) {\r\n                        this.logisticsService.cancelBookedAsset(entry).subscribe();\r\n                      }\r\n                    });\r\n                  });\r\n                }\r\n              });\r\n            }\r\n            this.save();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public stopPropagation(event: Event): void {\r\n    event.stopPropagation();\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (!!event.files) {\r\n      const file: File = event.files[0];\r\n\r\n      // Check if the file already exists\r\n      const fileExists = this.documentTableDataSource.data.some((document) => document.documentName === file.name);\r\n      if (fileExists) {\r\n        this.messageService.showWarningMessage('global.warningOnFileExists');\r\n      } else {\r\n        FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n          if (!!fileContent) {\r\n            const selectedDocumentType = this.documentTypes.find(\r\n              (documentType) => !!file.type && (documentType.value as string) === file.type\r\n            );\r\n            const document: BidtDocumentDTO = {\r\n              documentContent: fileContent,\r\n              documentName: file.name,\r\n              documentType: !!selectedDocumentType ? StringUtils.orEmpty(selectedDocumentType.label) : '',\r\n              documentPublicationDate: new Date()\r\n            };\r\n\r\n            this.procurementRequest.bidtDocuments = [\r\n              ...ListUtils.orEmpty(this.procurementRequest.bidtDocuments),\r\n              document\r\n            ];\r\n            this.documentTableDataSource.addData([document]);\r\n          }\r\n        });\r\n      }\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public saveBidtDocuments(): void {\r\n    if (this.procurementRequest.bidtDocuments) {\r\n      const saveDocumentDeliveryFolderInput: SaveProcurementRequestInput = {\r\n        procurementRequestDTO: this.procurementRequest,\r\n        documentList: this.procurementRequest.bidtDocuments\r\n      };\r\n\r\n      this.procurementRequestFormService.saveDocuments(saveDocumentDeliveryFolderInput).subscribe((document) => {\r\n        this.messageService.showSuccessMessage(this.getTranslateKey('successOnCreateDocument'));\r\n      });\r\n    }\r\n  }\r\n\r\n  public deleteDocuments(): void {\r\n    this.documentTableDataSource.dataSelection.forEach((selection) => {\r\n      this.deleteDocument.push(this.procurementRequestFormService.deleteByid(selection.id as number));\r\n    });\r\n\r\n    forkJoin(this.deleteDocument).subscribe((result) => {\r\n      this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteDocument'));\r\n      this.reload();\r\n    });\r\n  }\r\n\r\n  private init(): void {\r\n    this.initDocumentTable();\r\n    this.initStockMvtTable();\r\n  }\r\n\r\n  private initDocumentTable(): void {\r\n    this.documentTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'documentName', translateKey: this.getTranslateKey('name'), width: '90%' },\r\n        { field: 'documentPublicationDate', translateKey: this.getTranslateKey('dateAdded'), width: '10%' }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initStockMvtTable(): void {\r\n    this.stockMvtTableDataSource = new TableDataSource({\r\n      enableSelection: false,\r\n      columns: [\r\n        { field: 'movement', translateKey: this.getTranslateKey('movement'), width: '20%' },\r\n        { field: 'type', translateKey: this.getTranslateKey('type'), alignment: ColumnAlignment.CENTER, width: '7.5%' },\r\n        { field: 'warehouseWorkshop', translateKey: this.getTranslateKey('warehouseWorkshop'), width: '20%' },\r\n        { field: 'outbound', translateKey: this.getTranslateKey('outbound'), width: '20%' },\r\n        { field: 'inbound', translateKey: this.getTranslateKey('inbound'), width: '20%' },\r\n        { field: 'status', translateKey: this.getTranslateKey('status'), width: '12.5%' }\r\n      ],\r\n      data: []\r\n    });\r\n\r\n    this.reverseStockMvtTableDataSource = new TableDataSource({\r\n      enableSelection: false,\r\n      columns: [\r\n        { field: 'movement', translateKey: this.getTranslateKey('movement'), width: '20%' },\r\n        { field: 'type', translateKey: this.getTranslateKey('type'), alignment: ColumnAlignment.CENTER, width: '7.5%' },\r\n        { field: 'warehouseWorkshop', translateKey: this.getTranslateKey('warehouseWorkshop'), width: '20%' },\r\n        { field: 'outbound', translateKey: this.getTranslateKey('outbound'), width: '20%' },\r\n        { field: 'inbound', translateKey: this.getTranslateKey('inbound'), width: '20%' },\r\n        { field: 'status', translateKey: this.getTranslateKey('status'), width: '12.5%' }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private load(): void {\r\n    this.logisticsService\r\n      .findProcurementRequestByIdWithAllObjects({ id: this.procurementRequestId })\r\n      .pipe(\r\n        concatMap((procurementRequest) => {\r\n          return forkJoin({\r\n            procurementRequest: of(procurementRequest),\r\n            user: procurementRequest.statusUser\r\n              ? this.procurementRequestFormService.findUser(procurementRequest.statusUser)\r\n              : of(undefined),\r\n            workPackageAsset:\r\n              procurementRequest.bidmWorkOrder && procurementRequest.bidmWorkOrder.projectId\r\n                ? this.procurementRequestFormService\r\n                    .findWorkPackage(procurementRequest.bidmWorkOrder.projectId)\r\n                    .pipe(\r\n                      concatMap((workPackage) =>\r\n                        workPackage.assetCode\r\n                          ? this.procurementRequestFormService.findEquipment({ equipmentCode: workPackage.assetCode })\r\n                          : of(undefined)\r\n                      )\r\n                    )\r\n                : of(undefined)\r\n          });\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: ({ procurementRequest, user, workPackageAsset }) => {\r\n          this.procurementRequest = procurementRequest;\r\n          this.userLogin = user ? StringUtils.orEmpty(user.login) : '';\r\n          this.userName = user ? `${user.firstname} ${user.lastname}` : (procurementRequest.statusUser as string);\r\n          this.workPackageAsset = workPackageAsset;\r\n          this.workPackageAssetName = BidoEquipmentUtils.createAssetRepresentation(workPackageAsset);\r\n\r\n          if (this.procurementRequest.statusUser) {\r\n            this.procurementRequestFormService.getUserSiteByLogin(this.procurementRequest.statusUser).subscribe({\r\n              next: (site) => {\r\n                this.enableProcReqItemQuantityModification = site && this.userSiteId === site.siteId;\r\n              }\r\n            });\r\n          }\r\n\r\n          this.procurementRequestFormService\r\n            .findByProcurementRequestId(procurementRequest.id as number)\r\n            .subscribe((documentDtolist) => {\r\n              this.procurementRequest.bidtDocuments = documentDtolist;\r\n              this.documentTableDataSource.setData(ListUtils.orEmpty(this.procurementRequest.bidtDocuments));\r\n            });\r\n\r\n          const warehouseCategory = (procurementRequest.bidtWarehouseReceipt as BidtWarehouseDTO).whCategory;\r\n          if (warehouseCategory) {\r\n            const procurementRequestItems = LogisticalUtils.buildProcurementRequestItemsRows(procurementRequest);\r\n            const servedAndBooked = LogisticalUtils.computeProcurementRequestProgress(procurementRequestItems);\r\n            this.bookedNb = servedAndBooked.bookedNb;\r\n            this.notBookedNb = servedAndBooked.notBookedNb;\r\n            this.isServed = servedAndBooked.isServed;\r\n            this.servedNb = servedAndBooked.servedNb;\r\n\r\n            this.procurementRequestItems = procurementRequestItems;\r\n\r\n            this.procurementRequestItems.forEach((procurementRequestItem: ProcurementRequestItemRow) => {\r\n              if (!!procurementRequestItem.obj.bidtWarehouseId) {\r\n                this.logisticsService.getWarehouseById(procurementRequestItem.obj.bidtWarehouseId).subscribe({\r\n                  next: (warehouse: BidtWarehouseDTO) => {\r\n                    procurementRequestItem.warehouseName = warehouse.whName;\r\n                    if (!!warehouse.bidtSiteId) {\r\n                      this.logisticsService.getSiteById(warehouse.bidtSiteId).subscribe({\r\n                        next: (site: BidtSiteDTO) => {\r\n                          procurementRequestItem.siteName = site.siteName;\r\n                        }\r\n                      });\r\n                    }\r\n                  }\r\n                });\r\n              } else {\r\n                if (!!this.procurementRequest.bidtSiteIssue) {\r\n                  procurementRequestItem.siteName = this.procurementRequest.bidtSiteIssue.siteName;\r\n                }\r\n                if (!!this.procurementRequest.bidtWarehouseIssue) {\r\n                  procurementRequestItem.warehouseName = this.procurementRequest.bidtWarehouseIssue.whName;\r\n                }\r\n              }\r\n            });\r\n\r\n            this.selectedProcurementRequestItem =\r\n              this.procurementRequestItems.length > 0 ? this.procurementRequestItems[0] : undefined;\r\n\r\n            // ////////////////////////////////////////////////////////////////////////////\r\n\r\n            const reverseObservables$ = this.procurementRequestItems\r\n              .map((item) => item.obj.id)\r\n              .map((itemId) =>\r\n                this.logisticsService.findTransferOrdersByCriteria({\r\n                  transferOrder: {\r\n                    bidtProcReqItemId: itemId,\r\n                    torType: this.aWPropertiesConstants.TRANSFER_ORDER_TYPE_REVERSE_MVT\r\n                  },\r\n                  transferOrderStatusExcluded: []\r\n                })\r\n              );\r\n\r\n            forkJoin(reverseObservables$).subscribe({\r\n              next: (results) => {\r\n                this.reverseProcurementRequestItems = results\r\n                  .reduce((acc, x) => acc.concat(x), [])\r\n                  .map((result) => result.bidtTransferOrder)\r\n                  .filter((transferOrder) => transferOrder.bidtTorItems && transferOrder.bidtTorItems.length > 0)\r\n                  .map((transferOrder) =>\r\n                    (transferOrder.bidtTorItems as BidtTorItemDTO[]).map((torItem) => ({ transferOrder, torItem }))\r\n                  )\r\n                  .reduce(\r\n                    (acc, x) => acc.concat(x),\r\n                    [] as {\r\n                      transferOrder: BidtTransferOrderDTO;\r\n                      torItem: BidtTorItemDTO;\r\n                    }[]\r\n                  )\r\n                  .map(({ transferOrder, torItem }) => {\r\n                    const progress = LogisticalUtils.computeProcurementRequestReverseItemProgress(\r\n                      torItem.pickingMovements\r\n                    );\r\n\r\n                    return {\r\n                      obj: torItem,\r\n                      allNb: progress.allNb,\r\n                      reversedNb: progress.reversedNb,\r\n                      notReversedNb: progress.notReversedNb,\r\n                      warehouseReceiptName: transferOrder.bidtWarehouseReceipt\r\n                        ? transferOrder.bidtWarehouseReceipt.whName\r\n                        : undefined,\r\n                      siteReceiptName: transferOrder.bidtSiteReceipt\r\n                        ? transferOrder.bidtSiteReceipt.siteName\r\n                        : undefined,\r\n                      warehouseIssueName: transferOrder.bidtWarehouseIssue\r\n                        ? transferOrder.bidtWarehouseIssue.whName\r\n                        : undefined,\r\n                      siteIssueName: transferOrder.bidtSiteIssue ? transferOrder.bidtSiteIssue.siteName : undefined\r\n                    };\r\n                  });\r\n\r\n                this.reverseSelectedProcurementRequestItem =\r\n                  this.reverseProcurementRequestItems.length > 0 ? this.reverseProcurementRequestItems[0] : undefined;\r\n                this.onSelectReverseProcurementRequestItem();\r\n\r\n                this.reverseProcurementRequestItems.forEach((item) => {\r\n                  this.reversedNb += item.reversedNb;\r\n                  this.notReversedNb += item.notReversedNb;\r\n                });\r\n              }\r\n            });\r\n\r\n            // ////////////////////////////////////////////////////////////////////////////\r\n\r\n            this.loadProcurementRequestUnits(this.procurementRequestItems.map((row) => row.obj));\r\n            this.loadWorkshopEntryFromProcurementRequestItem();\r\n\r\n            this.bookedButDidntStartedNb = 0;\r\n            this.workshopEntries.forEach((entry: WorkshopEntryRow) => {\r\n              this.logisticsService.findStockMvtStory(entry.obj).subscribe((mvts: BidtStockMvtDTO[]) => {\r\n                const tmpMvt = mvts.find(\r\n                  (m: BidtStockMvtDTO) =>\r\n                    m.stockMvtWay === BidtStockMvtConstants.MVT_WAY_TRANSFER &&\r\n                    m.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_PLANNED_KEY\r\n                );\r\n                if (tmpMvt) {\r\n                  this.bookedButDidntStartedNb++;\r\n                }\r\n              });\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  private loadProcurementRequestCriticities(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.LOGISTICAL_CRITICALITY_MAP).subscribe({\r\n      next: (criticities) => {\r\n        this.procurementRequestCriticities = ListUtils.orEmpty(criticities);\r\n        this.procurementRequestCriticities = LogisticalUtils.sortCriticities(this.procurementRequestCriticities);\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadProcurementRequestStatuses(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_STATUS_MAP).subscribe({\r\n      next: (procurementRequestStatuses) => {\r\n        this.procurementRequestStatuses = ListUtils.orEmpty(procurementRequestStatuses);\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadProcurementRequestTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_TYPE_MAP).subscribe({\r\n      next: (procurementRequestTypes) => {\r\n        this.procurementRequestTypes = ListUtils.orEmpty(procurementRequestTypes);\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadProcurementRequestUnits(bidtProcReqItems: BidtProcReqItemDTO[]): void {\r\n    const observables = bidtProcReqItems\r\n      .map((bidtProcReqItem) => bidtProcReqItem.birePnPnCode)\r\n      .filter((pnCode) => ObjectUtils.isDefined(pnCode))\r\n      .map((pnCode) =>\r\n        this.procurementRequestFormService.findBidoCounterReferencesByPnCode({ pnCode: pnCode as string })\r\n      );\r\n\r\n    forkJoin(observables).subscribe({\r\n      next: (results) => {\r\n        this.procurementRequestUnits = results\r\n          .reduce((acc, val) => acc.concat(val), [])\r\n          .reduce((acc: BidoCounterReferenceDTO[], current) => {\r\n            return acc.some((counterReference) => counterReference.counterCode === current.counterCode)\r\n              ? acc\r\n              : acc.concat([current]);\r\n          }, [])\r\n          .reduce((acc: BidoCounterReferenceDTO[], current) => {\r\n            const isCounterReferenceAssociatedToAllPns = results.every((counterReferences) =>\r\n              counterReferences.some((counterReference) => counterReference.counterCode === current.counterCode)\r\n            );\r\n\r\n            return isCounterReferenceAssociatedToAllPns ? acc.concat([current]) : acc;\r\n          }, [])\r\n          .map((counterReference) => {\r\n            return {\r\n              label: `${counterReference.unitCode} (${counterReference.counterCode})`,\r\n              value: counterReference.counterCode as string\r\n            };\r\n          })\r\n          .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadStockMvtFromWorkshopEntry(): void {\r\n    if (this.selectedWorkshopEntry) {\r\n      this.logisticsService.findStockMvtStory(this.selectedWorkshopEntry.obj).subscribe({\r\n        next: (stockMvts) => {\r\n          if (\r\n            (this.selectedWorkshopEntry as WorkshopEntryRow).obj.stockMvtSn ||\r\n            (this.selectedWorkshopEntry as WorkshopEntryRow).obj.stockMvtBatchNumber\r\n          ) {\r\n            this.stockMvtTableDataSource.addData(stockMvts);\r\n            this.stockMvtSubject.next(stockMvts);\r\n            this.showDetails = false;\r\n          } else {\r\n            this.stockMvtTableDataSource.addData(\r\n              stockMvts.filter(\r\n                (stockMvt) =>\r\n                  stockMvt.bidtStockMvtTypeId !== BidtStockMvtTypeConstant.RECEIPT &&\r\n                  stockMvt.bidtStockMvtTypeId !== BidtStockMvtTypeConstant.WORKSHOP_ENTRY\r\n              )\r\n            );\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadReverseStockMvtFromWorkshopEntry(): void {\r\n    if (this.reverseSelectedWorkshopEntry) {\r\n      this.logisticsService.findStockMvtStory(this.reverseSelectedWorkshopEntry.obj).subscribe({\r\n        next: (stockMvts) => {\r\n          if (\r\n            (this.reverseSelectedWorkshopEntry as WorkshopEntryRow).obj.stockMvtSn ||\r\n            (this.reverseSelectedWorkshopEntry as WorkshopEntryRow).obj.stockMvtBatchNumber\r\n          ) {\r\n            this.reverseStockMvtTableDataSource.addData(stockMvts);\r\n            this.reverseStockMvtSubject.next(stockMvts);\r\n            this.reverseShowDetails = false;\r\n          } else {\r\n            this.reverseStockMvtTableDataSource.addData(\r\n              stockMvts.filter(\r\n                (stockMvt) =>\r\n                  stockMvt.bidtStockMvtTypeId !== BidtStockMvtTypeConstant.RECEIPT &&\r\n                  stockMvt.bidtStockMvtTypeId !== BidtStockMvtTypeConstant.WORKSHOP_ENTRY\r\n              )\r\n            );\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadOperationalStatuses(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.OPERATIONAL_STATUS_MAP).subscribe({\r\n      next: (operationalStatuses) => {\r\n        this.operationalStatuses = ListUtils.orEmpty(operationalStatuses);\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadStovkMvtStatuses(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.MVT_STATUS_MAP).subscribe({\r\n      next: (stockMvtStatuses) => {\r\n        this.stockMvtStatuses = ListUtils.orEmpty(stockMvtStatuses);\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadWorkshopEntryFromProcurementRequestItem(): void {\r\n    if (this.selectedProcurementRequestItem) {\r\n      this.workshopEntries = ListUtils.orEmpty(this.selectedProcurementRequestItem.obj.workshopEntries)\r\n        .filter(\r\n          (stockMvt) =>\r\n            stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.RECEIPT ||\r\n            stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.WORKSHOP_ENTRY ||\r\n            stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.REMOVAL\r\n        )\r\n        .map((stockMvt) => {\r\n          return {\r\n            obj: stockMvt\r\n          };\r\n        })\r\n        .sort((x, y) => {\r\n          if (x.obj.stockMvtSn && y.obj.stockMvtSn) {\r\n            if (x.obj.statusDate && y.obj.statusDate) {\r\n              return moment(x.obj.statusDate).isBefore(y.obj.statusDate) ? -1 : 1;\r\n            } else if (x.obj.statusDate) {\r\n              return -1;\r\n            }\r\n\r\n            return 1;\r\n          } else if (x.obj.stockMvtSn) {\r\n            return -1;\r\n          }\r\n\r\n          return 1;\r\n        });\r\n      this.selectedWorkshopEntry = this.workshopEntries.length > 0 ? this.workshopEntries[0] : undefined;\r\n\r\n      this.workshopEntries.forEach((workshopEntry) => {\r\n        if (workshopEntry.obj.stockMvtSn) {\r\n          const input: BidoEquipmentDTO = {\r\n            sn: workshopEntry.obj.stockMvtSn,\r\n            pnCode: workshopEntry.obj.birePnPnCode\r\n          };\r\n          this.procurementRequestFormService.findBidoEquipmentsByPnAndSn(input).subscribe((equipments) => {\r\n            if (equipments && equipments.length > 0) {\r\n              workshopEntry.equipment = equipments[0];\r\n            }\r\n          });\r\n        } else {\r\n          const input: BidoEquipmentDTO = {\r\n            batchNumber: workshopEntry.obj.stockMvtBatchNumber,\r\n            pnCode: workshopEntry.obj.birePnPnCode\r\n          };\r\n          this.procurementRequestFormService.findBidoEquipmentByPnAndBatchNumber(input).subscribe((equipment) => {\r\n            if (equipment) {\r\n              workshopEntry.equipment = equipment;\r\n\r\n              if (equipment.equEquipmentCode) {\r\n                this.procurementRequestFormService\r\n                  .getManufacturingBatchByEquipment(equipment)\r\n                  .subscribe((manufacturingBatch) => {\r\n                    workshopEntry.manufacturingBatch = manufacturingBatch;\r\n                  });\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      this.loadStockMvtFromWorkshopEntry();\r\n    }\r\n  }\r\n\r\n  private loadReverseWorkshopEntryFromProcurementRequestItem(): void {\r\n    if (this.reverseSelectedProcurementRequestItem) {\r\n      this.reverseWorkshopEntries = ListUtils.orEmpty(this.reverseSelectedProcurementRequestItem.obj.pickingMovements)\r\n        .filter(\r\n          (stockMvt) =>\r\n            stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.RECEIPT ||\r\n            stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.WORKSHOP_ENTRY ||\r\n            stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.REMOVAL\r\n        )\r\n        .map((stockMvt) => {\r\n          return {\r\n            obj: stockMvt\r\n          };\r\n        })\r\n        .sort((x, y) => {\r\n          if (x.obj.stockMvtSn && y.obj.stockMvtSn) {\r\n            if (x.obj.statusDate && y.obj.statusDate) {\r\n              return moment(x.obj.statusDate).isBefore(y.obj.statusDate) ? -1 : 1;\r\n            } else if (x.obj.statusDate) {\r\n              return -1;\r\n            }\r\n\r\n            return 1;\r\n          } else if (x.obj.stockMvtSn) {\r\n            return -1;\r\n          }\r\n\r\n          return 1;\r\n        });\r\n\r\n      this.reverseSelectedWorkshopEntry =\r\n        this.reverseWorkshopEntries.length > 0 ? this.reverseWorkshopEntries[0] : undefined;\r\n\r\n      this.reverseWorkshopEntries.forEach((workshopEntry) => {\r\n        if (workshopEntry.obj.stockMvtSn) {\r\n          const input: BidoEquipmentDTO = {\r\n            sn: workshopEntry.obj.stockMvtSn,\r\n            pnCode: workshopEntry.obj.birePnPnCode\r\n          };\r\n          this.procurementRequestFormService.findBidoEquipmentsByPnAndSn(input).subscribe((equipments) => {\r\n            if (equipments && equipments.length > 0) {\r\n              workshopEntry.equipment = equipments[0];\r\n            }\r\n          });\r\n        } else {\r\n          const input: BidoEquipmentDTO = {\r\n            batchNumber: workshopEntry.obj.stockMvtBatchNumber,\r\n            pnCode: workshopEntry.obj.birePnPnCode\r\n          };\r\n          this.procurementRequestFormService.findBidoEquipmentByPnAndBatchNumber(input).subscribe((equipment) => {\r\n            if (equipment && equipment.equEquipmentCode) {\r\n              workshopEntry.equipment = equipment;\r\n\r\n              if (equipment.equEquipmentCode) {\r\n                this.procurementRequestFormService\r\n                  .getManufacturingBatchByEquipment(equipment)\r\n                  .subscribe((manufacturingBatch) => {\r\n                    workshopEntry.manufacturingBatch = manufacturingBatch;\r\n                  });\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      this.loadReverseStockMvtFromWorkshopEntry();\r\n    }\r\n  }\r\n\r\n  private onBeforeLoad(): void {\r\n    this.deleteDocument = [];\r\n    this.procurementRequest = {};\r\n    this.procurementRequestCriticities = [];\r\n    this.procurementRequestStatuses = [];\r\n    this.procurementRequestTypes = [];\r\n    this.procurementRequestUnits = [];\r\n    this.stockMvtStatuses = [];\r\n    this.userLogin = '';\r\n    this.userName = '';\r\n    this.workPackageAsset = undefined;\r\n    this.workPackageAssetName = '';\r\n\r\n    this.bookedNb = 0;\r\n    this.notBookedNb = 0;\r\n    this.servedNb = 0;\r\n\r\n    this.procurementRequestItems = [];\r\n    this.selectedProcurementRequestItem = undefined;\r\n\r\n    this.reverseProcurementRequestItems = [];\r\n    this.reverseSelectedProcurementRequestItem = undefined;\r\n    this.reverseWorkshopEntries = [];\r\n    this.reverseSelectedWorkshopEntry = undefined;\r\n    this.reverseStockMvtTableDataSource.setData([]);\r\n    this.reversedNb = 0;\r\n    this.notReversedNb = 0;\r\n\r\n    this.workshopEntries = [];\r\n    this.selectedWorkshopEntry = undefined;\r\n\r\n    this.stockMvtTableDataSource.setData([]);\r\n\r\n    this.documentTableDataSource.setData([]);\r\n\r\n    this.itemDialogVisible = false;\r\n\r\n    this.loadProcurementRequestCriticities();\r\n    this.loadProcurementRequestStatuses();\r\n    this.loadProcurementRequestTypes();\r\n    this.loadOperationalStatuses();\r\n    this.loadStovkMvtStatuses();\r\n  }\r\n\r\n  public openBatch(row: WorkshopEntryRow) {\r\n    if (row.obj.stockMvtSn) {\r\n      this.openEquipment(row);\r\n    } else {\r\n      if (row.equipment) {\r\n        const data: PageComponentData = {\r\n          id: this.tabService.generateId(),\r\n          componentId: ComponentConstants.LOG_PACKAGING_BATCH_FORM,\r\n          openMode: ComponentOpenMode.Read\r\n        };\r\n\r\n        data.objectId = row.equipment.equipmentCode;\r\n\r\n        const labelKey = 'transaction.' + data.componentId;\r\n\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      }\r\n    }\r\n  }\r\n\r\n  public openEquipment(row: WorkshopEntryRow): void {\r\n    if (row.equipment) {\r\n      const objectId: BidoEquipmentDTO = {\r\n        equipmentCode: row.equipment.equipmentCode\r\n      };\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        openMode: ComponentOpenMode.Read,\r\n        componentId: ComponentConstants.FLE_EQUIPMENT_FORM,\r\n        objectId: this.serializationService.serialize(objectId)\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openManufacturingBatch(row: WorkshopEntryRow): void {\r\n    if (row.manufacturingBatch) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.LOG_MANUFACTURING_BATCH_FORM,\r\n        objectId: this.serializationService.serialize({ customerCode: row.manufacturingBatch.batchNumber }),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public duplicate(): void {\r\n    this.logisticsService.duplicateProcurementRequest(this.procurementRequest).subscribe({\r\n      next: (duplicate) => {\r\n        this.openProcurementRequest(duplicate);\r\n      }\r\n    });\r\n  }\r\n\r\n  private openProcurementRequest(procurementRequest: BidtProcurementRequestDTO): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_PROCUREMENT_REQUEST_FORM,\r\n      objectId: this.serializationService.serialize({ id: procurementRequest.id }),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public isExpectedSnVisible(): boolean {\r\n    return this.procurementRequestItems\r\n      .map((procReqItem) => procReqItem.obj)\r\n      .some(\r\n        (procReqItem) =>\r\n          !!procReqItem.birePn &&\r\n          (procReqItem.birePn.traceability === AWPropertiesConstants.PN_TRACEABILITY_BY_BATCH ||\r\n            procReqItem.birePn.traceability === AWPropertiesConstants.PN_TRACEABILITY_BY_SN ||\r\n            procReqItem.birePn.traceability === AWPropertiesConstants.PN_TRACEABILITY_BY_PACKAGING_BATCH_AND_SN)\r\n      );\r\n  }\r\n\r\n  public isCancelBookingBtnVisible(row: WorkshopEntryRow): boolean {\r\n    return (\r\n      !!this.selectedWorkshopEntry &&\r\n      this.selectedWorkshopEntry.obj.id === row.obj.id &&\r\n      this.stockMvtTableDataSource.data.some(\r\n        (stockMvt) =>\r\n          row.obj.stockMvtSn === stockMvt.stockMvtSn &&\r\n          row.obj.stockMvtBatchNumber === stockMvt.stockMvtBatchNumber &&\r\n          (stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.PICKING ||\r\n            stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.CROSS_DOCKING) &&\r\n          stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY &&\r\n          stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_ON_GOING_KEY\r\n      )\r\n    );\r\n  }\r\n\r\n  public openWoDialog(): void {\r\n    if (!this.isReadOpenMode) {\r\n      if (this.bookedNb !== 0) {\r\n        if (\r\n          !!this.procurementRequest.bidtSiteReceipt &&\r\n          !!this.procurementRequest.bidtSiteReceipt.siteId &&\r\n          !!this.procurementRequest.bidtWarehouseReceipt &&\r\n          !!this.procurementRequest.bidtWarehouseReceipt.wareHouseId\r\n        ) {\r\n          const searchWoObject: WorkOrderOVSInputDTO = {\r\n            projectCriteria: {\r\n              bireRepairCenterCode: this.procurementRequest.bidtSiteReceipt.siteId.toString()\r\n            },\r\n            workOrderCriteria: {\r\n              bidtWarehouseId: this.procurementRequest.bidtWarehouseReceipt.wareHouseId as number\r\n            }\r\n          };\r\n          this.searchWoObject = searchWoObject;\r\n        }\r\n      }\r\n      this.showWoDialog = true;\r\n    } else {\r\n      this.openWorkOrder();\r\n    }\r\n  }\r\n\r\n  public eraseWo(): void {\r\n    this.procurementRequest.bidmWorkOrder = undefined;\r\n    this.procurementRequest.bidmWorkOrderBidMandant = undefined;\r\n    this.procurementRequest.bidmWorkOrderMandant = undefined;\r\n    this.procurementRequest.bidmWorkOrderProjectId = undefined;\r\n    this.procurementRequest.bidmWorkOrderWoId = undefined;\r\n    this.procurementRequest.requestedDate = undefined;\r\n    this.procurementRequest.bidtWarehouseByBidtWarehouseReceiptId = undefined;\r\n    this.procurementRequest.bidtSiteByBidtSiteReceiptId = undefined;\r\n    this.procurementRequest.bidtWarehouseReceipt = undefined;\r\n    this.procurementRequest.bidtSiteReceipt = undefined;\r\n    this.procurementRequest.bidtWarehouseByBidtWarehouseIssueId = undefined;\r\n    this.procurementRequest.bidtSiteByBidtSiteIssueId = undefined;\r\n    this.procurementRequest.bidtWarehouseIssue = undefined;\r\n    this.procurementRequest.bidtSiteIssue = undefined;\r\n    this.workPackageAsset = undefined;\r\n    this.workPackageAssetName = '';\r\n  }\r\n\r\n  public onSelectWo(workOrder: BidmWorkOrderDTO): void {\r\n    this.eraseWo();\r\n    this.procurementRequest.bidmWorkOrder = workOrder;\r\n    this.procurementRequest.bidmWorkOrderProjectId = workOrder.projectId;\r\n    this.procurementRequest.bidmWorkOrderWoId = workOrder.woId;\r\n    this.procurementRequest.requestedDate = workOrder.woScheduledStartDate;\r\n\r\n    if (workOrder.calculatedStatus === AWPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED) {\r\n      this.procurementRequest.procStatus = AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED;\r\n    } else if (workOrder.calculatedStatus === AWPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED) {\r\n      this.procurementRequest.procStatus = AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_RELEASED;\r\n    }\r\n\r\n    if (workOrder.bidtWarehouseId) {\r\n      this.logisticsService.getWarehouseById(workOrder.bidtWarehouseId).subscribe({\r\n        next: (warehouseReceipt: BidtWarehouseDTO) => {\r\n          if (warehouseReceipt) {\r\n            // Warehouse receipt\r\n            this.procurementRequest.bidtWarehouseByBidtWarehouseReceiptId = warehouseReceipt.wareHouseId as number;\r\n            this.procurementRequest.bidtSiteByBidtSiteReceiptId = warehouseReceipt.bidtSiteId as number;\r\n            this.procurementRequest.bidtWarehouseReceipt = warehouseReceipt;\r\n            if (warehouseReceipt.bidtSiteId) {\r\n              // site receipt\r\n              this.logisticsService.getSiteById(warehouseReceipt.bidtSiteId).subscribe((siteReceipt: BidtSiteDTO) => {\r\n                this.procurementRequest.bidtSiteReceipt = siteReceipt;\r\n              });\r\n            }\r\n            if (warehouseReceipt.bidtWarehouseId) {\r\n              this.logisticsService.getWarehouseById(warehouseReceipt.bidtWarehouseId).subscribe({\r\n                next: (warehouseIssue: BidtWarehouseDTO) => {\r\n                  // warehouse issue\r\n                  if (warehouseIssue) {\r\n                    this.procurementRequest.bidtWarehouseByBidtWarehouseIssueId = warehouseIssue.wareHouseId as number;\r\n                    this.procurementRequest.bidtSiteByBidtSiteIssueId = warehouseIssue.bidtSiteId as number;\r\n                    this.procurementRequest.bidtWarehouseIssue = warehouseIssue;\r\n                    if (warehouseReceipt.bidtSiteId) {\r\n                      // site issue\r\n                      this.logisticsService\r\n                        .getSiteById(warehouseReceipt.bidtSiteId)\r\n                        .subscribe((siteIssue: BidtSiteDTO) => {\r\n                          this.procurementRequest.bidtSiteIssue = siteIssue;\r\n                        });\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (workOrder.projectId) {\r\n      // Asset\r\n      this.procurementRequestFormService\r\n        .findWorkPackage(workOrder.projectId)\r\n        .pipe(\r\n          concatMap((workPackage) =>\r\n            workPackage.assetCode\r\n              ? this.procurementRequestFormService.findEquipment({ equipmentCode: workPackage.assetCode })\r\n              : of(undefined)\r\n          )\r\n        )\r\n        .subscribe((workPackageAsset) => {\r\n          this.workPackageAsset = workPackageAsset;\r\n          this.workPackageAssetName = BidoEquipmentUtils.createAssetRepresentation(workPackageAsset);\r\n        });\r\n    }\r\n  }\r\n\r\n  public toggleDetailsTable(showDetails: boolean): void {\r\n    this.showDetails = showDetails;\r\n  }\r\n\r\n  public toggleReverseDetailsTable(showDetails: boolean): void {\r\n    this.reverseShowDetails = showDetails;\r\n  }\r\n\r\n  public manageTransfertOrderItem(row: ProcurementRequestReverseItemRow): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_MATERIAL_REQUEST_TRANSFER_ORDER_MANAGEMENT_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize({\r\n        torId: row.obj.bidtTransferOrderId,\r\n        torItemId: row.obj.id\r\n      })\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AMProjectManagementApi } from '../../../../shared/api/am-project-management.api';\r\nimport { AssetManagementApi } from '../../../../shared/api/asset-management.api';\r\nimport { BidtDocumentApi } from '../../../../shared/api/bidt-document.api';\r\nimport { BidtProcurementRequestApi } from '../../../../shared/api/bidt-procurement-request.api';\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../shared/api/product-structure-management.api';\r\nimport { UserProfileManagementApi } from '../../../../shared/api/user-profile-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { SaveProcurementRequestInput } from '../../../../shared/types/api-input-types/logistic/save-document-procurement-request-input.interface';\r\nimport { ReferenceBatchDTO } from '../../../../shared/types/api-output-types/fleet-management/reference-batch-dto.interface';\r\nimport { BidmProjectDTO } from '../../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidoCounterReferenceDTO } from '../../../../shared/types/api-types/bido-counter-reference-dto.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoUserDTO } from '../../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BidtDocumentDTO } from '../../../../shared/types/api-types/bidt-document-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BirePnDTOId } from '../../../../shared/types/api-types/bire-pn-dto-id.interface';\r\n\r\n@Injectable()\r\nexport class ProcurementRequestFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    private readonly aMProjectManagementApi: AMProjectManagementApi,\r\n    private readonly assetManagementApi: AssetManagementApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly userProfileManagementApi: UserProfileManagementApi,\r\n    private readonly bidtProcurementRequestApi: BidtProcurementRequestApi,\r\n    private readonly bidtDocumentApi: BidtDocumentApi,\r\n\r\n    appConfigService: AppConfigService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * AM project management api\r\n   *************************************************************************/\r\n\r\n  public findWorkPackage(input: string): Observable<BidmProjectDTO> {\r\n    return super.post<string, BidmProjectDTO>(this.aMProjectManagementApi.findBidmProject, input);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet management  api\r\n   *************************************************************************/\r\n\r\n  public findEquipment(input: BidoEquipmentDTOId): Observable<BidoEquipmentDTO> {\r\n    return super.post<BidoEquipmentDTOId, BidoEquipmentDTO>(this.fleetManagementApi.findBidoEquipment, input);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Product structure management api\r\n   *************************************************************************/\r\n\r\n  public findBidoCounterReferencesByPnCode(input: BirePnDTOId): Observable<BidoCounterReferenceDTO[]> {\r\n    return super.post<BirePnDTOId, BidoCounterReferenceDTO[]>(\r\n      this.productStructureManagementApi.findBidoCounterReferencesByPnCode,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * User profile management api\r\n   *************************************************************************/\r\n\r\n  public findUser(input: string): Observable<BidoUserDTO> {\r\n    return super.post<string, BidoUserDTO>(this.userProfileManagementApi.findUserByLogin, input);\r\n  }\r\n\r\n  public getUserSiteByLogin(input: string): Observable<BidtSiteDTO> {\r\n    return super.post<string, BidtSiteDTO>(this.userProfileManagementApi.getUserSiteByLogin, input);\r\n  }\r\n\r\n  public getUserWarehouseByLogin(input: string): Observable<BidtWarehouseDTO> {\r\n    return super.post<string, BidtWarehouseDTO>(this.userProfileManagementApi.getUserWarehouseByLogin, input);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Bidt document api\r\n   *************************************************************************/\r\n  public findByProcurementRequestId(procurementReqquestId: number): Observable<BidtDocumentDTO[]> {\r\n    return super.post<number, BidtDocumentDTO[]>(\r\n      this.bidtDocumentApi.findByProcurementRequestId,\r\n      procurementReqquestId\r\n    );\r\n  }\r\n\r\n  public deleteByid(documentId: number): Observable<number> {\r\n    return super.post<number, number>(this.bidtDocumentApi.deleteByid, documentId);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Bidt procurement request api\r\n   *************************************************************************/\r\n  public saveDocuments(input: SaveProcurementRequestInput): Observable<void> {\r\n    return super.post<SaveProcurementRequestInput, void>(\r\n      this.bidtProcurementRequestApi.saveProcurementRequestDocuments,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBidoEquipmentsByPnAndSn(input: BidoEquipmentDTO): Observable<BidoEquipmentDTO[]> {\r\n    return super.post<BidoEquipmentDTO, BidoEquipmentDTO[]>(\r\n      this.fleetManagementApi.findBidoEquipmentsByPnAndSnCodes,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBidoEquipmentByPnAndBatchNumber(input: BidoEquipmentDTO): Observable<BidoEquipmentDTO> {\r\n    return super.post<BidoEquipmentDTO, BidoEquipmentDTO>(\r\n      this.fleetManagementApi.findBidoEquipmentByPnAndBatchNumber,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getManufacturingBatchByEquipment(input: BidoEquipmentDTO): Observable<ReferenceBatchDTO> {\r\n    return super.post<BidoEquipmentDTO, ReferenceBatchDTO>(\r\n      this.assetManagementApi.getManufacturingBatchByEquipment,\r\n      input\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"column\\\" *ngIf=\\\"mvts.length\\\">\\r\\n  <div class=\\\"row\\\" style=\\\"justify-content: flex-end;\\\">\\r\\n    <button mat-raised-button (click)=\\\"schowDetails()\\\" style=\\\"width: 16rem;\\\" *ngIf=\\\"!showDetails\\\">\\r\\n      {{ getComponentName() + \\\".showMouvement\\\" | translate }}\\r\\n    </button>\\r\\n    <button mat-raised-button (click)=\\\"schowDetails()\\\" style=\\\"width: 16rem;\\\" *ngIf=\\\"showDetails\\\">\\r\\n      {{ getComponentName() + \\\".hideMouvement\\\" | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"row\\\" style=\\\"justify-content: center; margin-top: 40px\\\">\\r\\n    <aw-stepper [steps]=\\\"steps\\\"></aw-stepper>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { StepItem } from '../../../../../shared/components/stepper/stepper.component';\r\nimport { AWPropertiesConstants } from '../../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { BidtProcurementRequestDTO } from '../../../../../shared/types/api-types/bidt-procurement-request-dto.interface';\r\nimport { BidtStockMvtDTO } from '../../../../../shared/types/api-types/bidt-stock-mvt-dto.interface';\r\nimport { GenericComponent } from '../../../../../shared/types/generic-component';\r\nimport { LogisticalUtils } from '../../../../../shared/utils/logistic-utils';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  selector: 'aw-procurement-request-reverse-mvt-status',\r\n  templateUrl: './procurement-request-reverse-mvt-status.component.html'\r\n})\r\nexport class ProcurementRequestReverseMvtStatusComponent extends GenericComponent implements OnInit {\r\n  @Input('mvts')\r\n  public mvtObservable$: Observable<BidtStockMvtDTO[]>;\r\n\r\n  @Input()\r\n  public procurementRequest: BidtProcurementRequestDTO;\r\n\r\n  @Output()\r\n  public readonly onClick: EventEmitter<boolean>;\r\n\r\n  public mvts: BidtStockMvtDTO[];\r\n  public steps: StepItem[];\r\n  public showDetails: boolean;\r\n\r\n  public constructor(private readonly translateService: TranslateService) {\r\n    super(ComponentOpenMode.Write);\r\n\r\n    this.mvts = [];\r\n    this.steps = [];\r\n    this.showDetails = false;\r\n    this.onClick = new EventEmitter<boolean>();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.mvtObservable$.subscribe((mvts: BidtStockMvtDTO[]) => {\r\n      this.mvts = mvts;\r\n      this.showDetails = false;\r\n      this.initSteps();\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'ProcurementRequestReverseMvtStatusComponent';\r\n  }\r\n\r\n  private initSteps(): void {\r\n    this.initArray();\r\n\r\n    if (LogisticalUtils.isReversedTransfer(this.mvts)) {\r\n      this.steps.slice(0, this.steps.length).forEach((step) => {\r\n        step.status = 'previous';\r\n      });\r\n    } else if (LogisticalUtils.isReversingTransfer(this.mvts)) {\r\n      this.steps.slice(0, this.steps.length - 1).forEach((step) => {\r\n        step.status = 'previous';\r\n      });\r\n    } else {\r\n      this.steps[0].status = 'previous';\r\n\r\n      if (\r\n        !!this.procurementRequest &&\r\n        this.procurementRequest.procType === AWPropertiesConstants.PROCUREMENT_REQUEST_TYPE_STOCK_LEVELING_ES &&\r\n        LogisticalUtils.isExecutingTransfer(this.mvts)\r\n      ) {\r\n        this.steps[1].status = 'previous';\r\n      }\r\n    }\r\n  }\r\n\r\n  private initArray(): void {\r\n    this.steps = [];\r\n\r\n    const waitingKey = this.getTranslateKey('waiting');\r\n    const executingKey = this.getTranslateKey('executing');\r\n    const reversingKey = this.getTranslateKey('reversing');\r\n    const reversedKey = this.getTranslateKey('reversed');\r\n\r\n    this.translateService.get([waitingKey, executingKey, reversingKey, reversedKey]).subscribe({\r\n      next: (results: { [key: string]: string }) => {\r\n        const waitingLabel = !!results ? results[waitingKey] : 'Waiting';\r\n        const executingLabel = !!results ? results[executingKey] : 'Executing';\r\n        const reversingLabel = !!results ? results[reversingKey] : 'Reversing';\r\n        const reversedLabel = !!results ? results[reversedKey] : 'Reversed';\r\n\r\n        this.steps = [\r\n          {\r\n            label: executingLabel,\r\n            status: 'next'\r\n          },\r\n          {\r\n            label: reversingLabel,\r\n            status: 'next'\r\n          },\r\n          {\r\n            label: reversedLabel,\r\n            status: 'next'\r\n          }\r\n        ];\r\n\r\n        if (\r\n          !!this.procurementRequest &&\r\n          this.procurementRequest.procType === AWPropertiesConstants.PROCUREMENT_REQUEST_TYPE_STOCK_LEVELING_ES\r\n        ) {\r\n          this.steps = [\r\n            {\r\n              label: waitingLabel,\r\n              status: 'next'\r\n            },\r\n            ...this.steps\r\n          ];\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public schowDetails(): void {\r\n    this.showDetails = !this.showDetails;\r\n    this.onClick.emit(this.showDetails);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputSwitchModule } from 'primeng/inputswitch';\r\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\r\nimport { ProgressBarModule } from 'primeng/progressbar';\r\nimport { SelectButtonModule } from 'primeng/selectbutton';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { ComponentSidebarModule } from '../../../shared/components/component-sidebar/component-sidebar.mdule';\r\nimport { DialogSearchEquipmentModule } from '../../../shared/components/dialog-search-equipment/dialog-search-equipment.module';\r\nimport { DialogSearchPnModule } from '../../../shared/components/dialog-search-pn/dialog-search-pn.module';\r\nimport { DialogSearchWorkOrderModule } from '../../../shared/components/dialog-search-work-order/dialog-search-work-order.module';\r\nimport { ManageSearchCriteriaModule } from '../../../shared/components/manage-search-criteria/manage-search-criteria.module';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { TableModule } from '../../../shared/components/table/table.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\n\r\nimport { DialogAddPopupComponent } from './form/dialog-add-popup/dialog-add-popup.component';\r\nimport { DialogEditQuantityComponent } from './form/dialog-edit-quantity/dialog-edit-quantity.component';\r\nimport { ProcurementRequestMvtStatusComponent } from './form/mvt-status/procurement-request-mvt-status.component';\r\nimport { ProcurementRequestFormComponent } from './form/procurement-request-form.component';\r\nimport { ProcurementRequestFormService } from './form/procurement-request-form.service';\r\nimport { ProcurementRequestReverseMvtStatusComponent } from './form/reverse-mvt-status/procurement-request-reverse-mvt-status.component';\r\nimport { ProcurementRequestPopupModule } from './search/procurement-request-popup/procurement-request-popup.module';\r\nimport { ProcurementRequestSearchComponent } from './search/procurement-request-search.component';\r\nimport { ProcurementRequestSearchService } from './search/procurement-request-search.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  TooltipModule,\r\n  DropdownModule,\r\n  FileUploadModule,\r\n  InputSwitchModule,\r\n  SelectButtonModule,\r\n  TableModule,\r\n  CheckboxModule,\r\n  ComponentSidebarModule,\r\n  CalendarModule,\r\n  PrimeNgTableModule,\r\n  OverlayPanelModule,\r\n  ProgressBarModule,\r\n  ModalModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [\r\n  DialogSearchEquipmentModule,\r\n  DialogSearchPnModule,\r\n  DialogSearchWorkOrderModule,\r\n  ProcurementRequestPopupModule\r\n];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [\r\n  DialogAddPopupComponent,\r\n  DialogEditQuantityComponent,\r\n  ProcurementRequestMvtStatusComponent,\r\n  ProcurementRequestReverseMvtStatusComponent\r\n];\r\n\r\nconst DYNAMIC_COMPONENTS = [ProcurementRequestFormComponent, ProcurementRequestSearchComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [ProcurementRequestFormService, ProcurementRequestSearchService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ManageSearchCriteriaModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES],\r\n  exports: [DialogAddPopupComponent, ProcurementRequestMvtStatusComponent, ProcurementRequestReverseMvtStatusComponent]\r\n})\r\nexport class ProcurementRequestModule {}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"createProcurementRequest()\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <!-- TODO -->\\r\\n                <!-- <div class=\\\"row search-criteria-header\\\">\\r\\n                  <aw-manage-search-criteria></aw-manage-search-criteria>\\r\\n                </div> -->\\r\\n\\r\\n                <div class=\\\"section\\\">\\r\\n                  <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".shipper\\\" | translate }}</h4>\\r\\n\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".site\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            [(ngModel)]=\\\"procurementSearchInput.siteIssue\\\"\\r\\n                            [options]=\\\"siteList\\\"\\r\\n                            (onChange)=\\\"loadSupplierWarehouses()\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label\\r\\n                          class=\\\"form-label\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            selectedSupplierWarehouseCategory === awPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE\\r\\n                          \\\"\\r\\n                        >\\r\\n                          {{ componentData.componentId + \\\".warehouse\\\" | translate }}\\r\\n                        </label>\\r\\n                        <label\\r\\n                          class=\\\"form-label\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            selectedSupplierWarehouseCategory === awPropertiesConstants.WAREHOUSE_CATEGORY_WORKSHOP\\r\\n                          \\\"\\r\\n                        >\\r\\n                          {{ componentData.componentId + \\\".workshop\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control group-control \\\">\\r\\n                          <div class=\\\"form-sub-control \\\">\\r\\n                            <p-selectButton\\r\\n                              [options]=\\\"logisticsTypeList\\\"\\r\\n                              [(ngModel)]=\\\"selectedSupplierWarehouseCategory\\\"\\r\\n                              (onChange)=\\\"loadSupplierWarehouses()\\\"\\r\\n                            ></p-selectButton>\\r\\n                          </div>\\r\\n                          <div class=\\\"form-sub-control \\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              [(ngModel)]=\\\"procurementSearchInput.warehouseIssue\\\"\\r\\n                              [options]=\\\"supplierWarehouses\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".partner\\\" | translate }} </label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"customerList\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [(ngModel)]=\\\"procurementSearchInput.customer\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          >\\r\\n                          </p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group flex--1\\\"></div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"section\\\">\\r\\n                  <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".recipient\\\" | translate }}</h4>\\r\\n\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".site\\\" | translate }} </label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            [(ngModel)]=\\\"procurementSearchInput.siteName\\\"\\r\\n                            [options]=\\\"siteList\\\"\\r\\n                            (onChange)=\\\"loadRecipientWarehouses()\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label\\r\\n                          class=\\\"form-label\\\"\\r\\n                          *ngIf=\\\"procurementSearchInput.whType === awPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE\\\"\\r\\n                        >\\r\\n                          {{ componentData.componentId + \\\".warehouse\\\" | translate }}\\r\\n                        </label>\\r\\n                        <label\\r\\n                          class=\\\"form-label\\\"\\r\\n                          *ngIf=\\\"procurementSearchInput.whType === awPropertiesConstants.WAREHOUSE_CATEGORY_WORKSHOP\\\"\\r\\n                        >\\r\\n                          {{ componentData.componentId + \\\".workshop\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control group-control \\\">\\r\\n                          <div class=\\\"form-sub-control \\\">\\r\\n                            <p-selectButton\\r\\n                              [options]=\\\"logisticsTypeList\\\"\\r\\n                              [(ngModel)]=\\\"procurementSearchInput.whType\\\"\\r\\n                              (onChange)=\\\"loadRecipientWarehouses()\\\"\\r\\n                            ></p-selectButton>\\r\\n                          </div>\\r\\n                          <div class=\\\"form-sub-control \\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              [(ngModel)]=\\\"procurementSearchInput.whCode\\\"\\r\\n                              [options]=\\\"shopList\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ \\\"asset\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control form-control-with-modal\\\">\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"openAssetDialog()\\\">\\r\\n                            {{ selectedAssetName }}\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"selectedAsset\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"selectedAsset = undefined\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"openAssetDialog()\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\"></div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"section\\\">\\r\\n                  <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".requestManagment\\\" | translate }}</h4>\\r\\n\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ \\\"type\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                          <p-selectButton\\r\\n                            [options]=\\\"procurementRequestTypes\\\"\\r\\n                            [(ngModel)]=\\\"procurementSearchInput.type\\\"\\r\\n                          ></p-selectButton>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".criticity\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n                          <p-selectButton\\r\\n                            [options]=\\\"criticalList\\\"\\r\\n                            [(ngModel)]=\\\"procurementSearchInput.criticality\\\"\\r\\n                          ></p-selectButton>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".requestNumber\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"procurementSearchInput.procCode\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".status\\\" | translate }} </label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            [(ngModel)]=\\\"procurementSearchInput.procStatus\\\"\\r\\n                            [options]=\\\"statusList\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".expectedDate\\\" | translate }}\\r\\n                        </label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                            [(ngModel)]=\\\"procurementSearchInput.requestedDate\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ \\\"pn\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control form-control-with-modal\\\">\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"openAssetPnDialog()\\\">\\r\\n                            {{ selectedAssetPn?.pnCode }}\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"selectedAssetPn\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"clearAssetPn()\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"openAssetPnDialog()\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group flex--2\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ \\\"designation\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"selectedDesignation\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\"></div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"section\\\">\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <div class=\\\"advanced-criteria\\\" [ngClass]=\\\"{ 'display--none': !showAdvancedSearchCriteria }\\\">\\r\\n                      <div class=\\\"section\\\">\\r\\n                        <h4 class=\\\"section-title\\\">\\r\\n                          {{ componentData.componentId + \\\".referenceDocument\\\" | translate }}\\r\\n                        </h4>\\r\\n                        <div class=\\\"section-content\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\"\\r\\n                                >{{ componentData.componentId + \\\".documentType\\\" | translate }}\\r\\n                              </label>\\r\\n\\r\\n                              <div class=\\\"form-control\\\">\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                  placeholder=\\\"&nbsp;\\\"\\r\\n                                  [showClear]=\\\"true\\\"\\r\\n                                  [(ngModel)]=\\\"procurementSearchInput.documentType\\\"\\r\\n                                  [options]=\\\"documentList\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ componentData.componentId + \\\".documentNumber\\\" | translate }}\\r\\n                              </label>\\r\\n                              <div class=\\\"form-control\\\">\\r\\n                                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"procurementSearchInput.woCode\\\" />\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"></div>\\r\\n                            <div class=\\\"form-group\\\"></div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <!-- ACTION -->\\r\\n                <div class=\\\"section\\\">\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <div class=\\\"row search-criteria-footer\\\">\\r\\n                      <button mat-button (click)=\\\"showAdvancedSearchCriteria = !showAdvancedSearchCriteria\\\">\\r\\n                        <ng-container *ngIf=\\\"showAdvancedSearchCriteria\\\">\\r\\n                          <mat-icon>remove</mat-icon>\\r\\n                          {{ \\\"global.collapseCriteria\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngIf=\\\"!showAdvancedSearchCriteria\\\">\\r\\n                          <mat-icon>add</mat-icon>\\r\\n                          {{ \\\"global.expandCriteria\\\" | translate }}\\r\\n                        </ng-container>\\r\\n                      </button>\\r\\n\\r\\n                      <div class=\\\"search-actions\\\">\\r\\n                        <button\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"search()\\\"\\r\\n                          color=\\\"primary\\\"\\r\\n                          appKeyPress\\r\\n                          [keyCode]=\\\"'Enter'\\\"\\r\\n                          (keyPress)=\\\"search()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.toSearch\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ resultsTable ? resultsTable.length : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                #ptableResult\\r\\n                class=\\\"aw-table2\\\"\\r\\n                [columns]=\\\"resultTableCols\\\"\\r\\n                [value]=\\\"resultsTable\\\"\\r\\n                [(selection)]=\\\"selectedResults\\\"\\r\\n                [scrollable]=\\\"true\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedResults.length > 0 }\\\">\\r\\n                    <div class=\\\"aw-table-global-filter\\\">\\r\\n                      <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                        <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </label>\\r\\n\\r\\n                      <input\\r\\n                        #ptableEquipmentGlobalFilter\\r\\n                        class=\\\"aw-table-global-filter-input\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                        (input)=\\\"ptableResult.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"aw-table-actions\\\">\\r\\n                      <button\\r\\n                        *ngIf=\\\"isDeleteButtonVisible()\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteProcurementRequest()\\\"\\r\\n                      >\\r\\n                        {{ getComponentName() + \\\".delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"isCancelButtonVisible()\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"cancelProcurementRequest()\\\"\\r\\n                      >\\r\\n                        {{ \\\"cancel\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"selectedResults.length == 1 && selectedResults[0]._obj.bidtProcReqItems?.length == 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openProcurementManagmentPage()\\\"\\r\\n                      >\\r\\n                        {{ getComponentName() + \\\".manage\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"selectedResults.length === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openProcurementDetails(selectedResults[0])\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <div class=\\\"aw-table-icon-actions\\\">\\r\\n                        <i\\r\\n                          class=\\\"fa fa-fw fa-filter aw-icon aw-icon-with-border aw-icon-with-overlay\\\"\\r\\n                          [ngClass]=\\\"{ active: filtersVisible }\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"opTableFilter.toggle($event)\\\"\\r\\n                          *ngIf=\\\"resultsTableSrc.length > 0\\\"\\r\\n                        ></i>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                    </th>\\r\\n\\r\\n                    <th\\r\\n                      [pSortableColumn]=\\\"col.field\\\"\\r\\n                      pResizableColumn\\r\\n                      *ngFor=\\\"let col of columns\\\"\\r\\n                      [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                    >\\r\\n                      {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                      <p-sortIcon [field]=\\\"col.field\\\"></p-sortIcon>\\r\\n                    </th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                    </td>\\r\\n\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <ng-container *ngSwitchCase=\\\"'procurementRequest'\\\">\\r\\n                        <div>\\r\\n                          <a class=\\\"bold\\\" (click)=\\\"openProcurementDetails(rowData)\\\">\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </a>\\r\\n                        </div>\\r\\n\\r\\n                        <div>\\r\\n                          {{ rowData[\\\"procurementRequestDescription\\\"] | formatSelectOption: procurementRequestTypes }}\\r\\n                        </div>\\r\\n                      </ng-container>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'referenceDocument'\\\">\\r\\n                        <div>\\r\\n                          <a class=\\\"bold\\\" (click)=\\\"openWorkOrder(rowData)\\\"> {{ rowData[col.field] }}</a>\\r\\n                        </div>\\r\\n                        <div class=\\\"info\\\">\\r\\n                          <i> {{ rowData[\\\"referenceDocumentDesc\\\"] }} </i>\\r\\n                        </div>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'shipper'\\\">\\r\\n                        <div class=\\\"code\\\">\\r\\n                          <div>\\r\\n                            <span>\\r\\n                              <b>{{ rowData[col.field] }}</b>\\r\\n                            </span>\\r\\n                          </div>\\r\\n                          <div>\\r\\n                            <span>\\r\\n                              <i> {{ rowData[\\\"shipperDesc\\\"] }} </i></span\\r\\n                            >\\r\\n                          </div>\\r\\n                          <div class=\\\"custom-padding\\\">\\r\\n                            <span>\\r\\n                              {{ rowData[\\\"customerName\\\"] }}\\r\\n                            </span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'recipient'\\\">\\r\\n                        <div class=\\\"code\\\">\\r\\n                          <div>\\r\\n                            <span>\\r\\n                              <b>{{ rowData[col.field] }}</b>\\r\\n                            </span>\\r\\n                          </div>\\r\\n                          <div>\\r\\n                            <span>\\r\\n                              <i> {{ rowData[\\\"recipientDesc\\\"] }} </i></span\\r\\n                            >\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'assetRecipient'\\\">\\r\\n                        <a class=\\\"bold\\\" (click)=\\\"openWorkPackageAsset(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'materials'\\\">\\r\\n                        <div>\\r\\n                          <a class=\\\"bold\\\" (click)=\\\"openPart(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"rowData['materialsDesc']\\\">\\r\\n                          <i>{{ rowData[\\\"materialsDesc\\\"] }}</i>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"!rowData['materialsDesc'] && rowData['numberOfRecords']\\\">\\r\\n                          <i>{{ rowData[\\\"numberOfRecords\\\"] }} {{ componentData.componentId + \\\".items\\\" | translate }}</i>\\r\\n                        </div>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'expectedOn'\\\">\\r\\n                        {{ rowData[col.field] | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang }}\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'status'\\\">\\r\\n                        <div class=\\\"code\\\">\\r\\n                          <div>\\r\\n                            <span>\\r\\n                              <b>{{ getStatusLabel(rowData[col.field]) }}</b>\\r\\n                            </span>\\r\\n                          </div>\\r\\n                          <div>\\r\\n                            <span>\\r\\n                              <i>\\r\\n                                <ng-container *ngIf=\\\"rowData['advancement'] == advancement.NOT_SERVED\\\">\\r\\n                                  {{ componentData.componentId + \\\".notServed\\\" | translate }}\\r\\n                                </ng-container>\\r\\n                                <ng-container *ngIf=\\\"rowData['advancement'] == advancement.PARTIALLY_SERVED\\\">\\r\\n                                  {{ componentData.componentId + \\\".partiallyServed\\\" | translate }}\\r\\n                                </ng-container>\\r\\n                                <ng-container *ngIf=\\\"rowData['advancement'] == advancement.SERVED\\\">\\r\\n                                  {{ componentData.componentId + \\\".served\\\" | translate }}\\r\\n                                </ng-container>\\r\\n                              </i>\\r\\n                            </span>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'criticity'\\\">\\r\\n                        <span\\r\\n                          *ngIf=\\\"rowData[col.field] === awPropertiesConstants.LOGISTICAL_CRITICALITY_IMMEDIATE\\\"\\r\\n                          class=\\\"procurement-alert procurement--nok\\\"\\r\\n                        >\\r\\n                          {{ componentData.componentId + \\\".immediate\\\" | translate }}\\r\\n                        </span>\\r\\n                        <span\\r\\n                          *ngIf=\\\"rowData[col.field] === awPropertiesConstants.LOGISTICAL_CRITICALITY_URGENT\\\"\\r\\n                          class=\\\"procurement-alert procurement--warning\\\"\\r\\n                        >\\r\\n                          {{ componentData.componentId + \\\".urgent\\\" | translate }}\\r\\n                        </span>\\r\\n                        <span\\r\\n                          *ngIf=\\\"rowData[col.field] === awPropertiesConstants.LOGISTICAL_CRITICALITY_ROUTINE\\\"\\r\\n                          class=\\\"procurement-alert procurement--ok\\\"\\r\\n                        >\\r\\n                          {{ componentData.componentId + \\\".routine\\\" | translate }}\\r\\n                        </span>\\r\\n                      </span>\\r\\n\\r\\n                      <span *ngSwitchDefault>{{ rowData[col.field] }}</span>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-procurement-request-popup *ngIf=\\\"showCreateProcurementDialog\\\" [(display)]=\\\"showCreateProcurementDialog\\\">\\r\\n</aw-procurement-request-popup>\\r\\n\\r\\n<aw-dialog-search-equipment\\r\\n  *ngIf=\\\"assetDialogVisible\\\"\\r\\n  [(display)]=\\\"assetDialogVisible\\\"\\r\\n  [selectionMultiple]=\\\"false\\\"\\r\\n  [searchAllEquipment]=\\\"true\\\"\\r\\n  (onSelected)=\\\"onSelectAsset($event)\\\"\\r\\n></aw-dialog-search-equipment>\\r\\n\\r\\n<aw-dialog-search-pn\\r\\n  [showPartTypeSelection]=\\\"true\\\"\\r\\n  [(display)]=\\\"assetPnDialogVisible\\\"\\r\\n  (onSelected)=\\\"onSelectAssetPn($event)\\\"\\r\\n  [withAllTypes]=\\\"true\\\"\\r\\n  *ngIf=\\\"assetPnDialogVisible\\\"\\r\\n></aw-dialog-search-pn>\\r\\n\\r\\n<p-overlayPanel #opTableFilter class=\\\"aw-overlay\\\" (onShow)=\\\"filtersVisible = true\\\" (onHide)=\\\"filtersVisible = false\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"section\\\">\\r\\n      <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".requestManagment\\\" | translate }}</h4>\\r\\n\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".status\\\" | translate }} </label>\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"filter.status\\\"\\r\\n                [options]=\\\"statusList\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".advancement\\\" | translate }} </label>\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"filter.advancement\\\"\\r\\n                [options]=\\\"filter.advancements\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ componentData.componentId + \\\".expectedDateFilter\\\" | translate }}\\r\\n            </label>\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-calendar\\r\\n                showButtonBar=\\\"true\\\"\\r\\n                [monthNavigator]=\\\"true\\\"\\r\\n                [yearNavigator]=\\\"true\\\"\\r\\n                [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                class=\\\"aw-calendar\\\"\\r\\n                [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                appendTo=\\\"body\\\"\\r\\n                [(ngModel)]=\\\"filter.requestedDate\\\"\\r\\n              ></p-calendar>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">{{ \\\"type\\\" | translate }}</label>\\r\\n            <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n              <p-selectButton [options]=\\\"procurementRequestTypes\\\" [(ngModel)]=\\\"filter.type\\\"></p-selectButton>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".criticity\\\" | translate }}</label>\\r\\n            <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n              <p-selectButton [options]=\\\"criticalList\\\" [(ngModel)]=\\\"filter.criticity\\\"></p-selectButton>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".workOrder\\\" | translate }} </label>\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"filter.workOrder\\\"\\r\\n                [options]=\\\"filter.workOrders\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".shipper\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".site\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-dropdown\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                  [showClear]=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"filter.shipperSite\\\"\\r\\n                  [options]=\\\"siteList\\\"\\r\\n                  (onChange)=\\\"loadSupplierWarehousesFilter()\\\"\\r\\n                ></p-dropdown>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label\\r\\n                class=\\\"form-label\\\"\\r\\n                *ngIf=\\\"filter.shipperWarehouseType === awPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE\\\"\\r\\n              >\\r\\n                {{ componentData.componentId + \\\".warehouse\\\" | translate }}\\r\\n              </label>\\r\\n              <label\\r\\n                class=\\\"form-label\\\"\\r\\n                *ngIf=\\\"filter.shipperWarehouseType === awPropertiesConstants.WAREHOUSE_CATEGORY_WORKSHOP\\\"\\r\\n              >\\r\\n                {{ componentData.componentId + \\\".workshop\\\" | translate }}\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control group-control\\\">\\r\\n                <div class=\\\"form-sub-control \\\">\\r\\n                  <p-selectButton\\r\\n                    [options]=\\\"logisticsTypeList\\\"\\r\\n                    [(ngModel)]=\\\"filter.shipperWarehouseType\\\"\\r\\n                    (onChange)=\\\"loadSupplierWarehousesFilter()\\\"\\r\\n                  ></p-selectButton>\\r\\n                </div>\\r\\n                <div class=\\\"form-sub-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    [(ngModel)]=\\\"filter.shipperWarehouse\\\"\\r\\n                    [options]=\\\"filter.shipperWarehouses\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"section\\\">\\r\\n          <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".recipient\\\" | translate }}</h4>\\r\\n\\r\\n          <div class=\\\"section-content\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".site\\\" | translate }} </label>\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    [(ngModel)]=\\\"filter.recepientSite\\\"\\r\\n                    [options]=\\\"siteList\\\"\\r\\n                    (onChange)=\\\"loadRecipientWarehousesFilter()\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label\\r\\n                  class=\\\"form-label\\\"\\r\\n                  *ngIf=\\\"filter.recepientWarehouseType === awPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE\\\"\\r\\n                >\\r\\n                  {{ componentData.componentId + \\\".warehouse\\\" | translate }}\\r\\n                </label>\\r\\n                <label\\r\\n                  class=\\\"form-label\\\"\\r\\n                  *ngIf=\\\"filter.recepientWarehouseType === awPropertiesConstants.WAREHOUSE_CATEGORY_WORKSHOP\\\"\\r\\n                >\\r\\n                  {{ componentData.componentId + \\\".workshop\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control group-control \\\">\\r\\n                  <div class=\\\"form-sub-control \\\">\\r\\n                    <p-selectButton\\r\\n                      [options]=\\\"logisticsTypeList\\\"\\r\\n                      [(ngModel)]=\\\"filter.recepientWarehouseType\\\"\\r\\n                      (onChange)=\\\"loadRecipientWarehousesFilter()\\\"\\r\\n                    ></p-selectButton>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-sub-control \\\">\\r\\n                    <p-dropdown\\r\\n                      class=\\\"aw-dropdown fixed-width\\\"\\r\\n                      placeholder=\\\"&nbsp;\\\"\\r\\n                      [showClear]=\\\"true\\\"\\r\\n                      [(ngModel)]=\\\"filter.recepientWarehouse\\\"\\r\\n                      [options]=\\\"filter.recepientWarehouses\\\"\\r\\n                    ></p-dropdown>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row action-list\\\" style=\\\"justify-content: flex-end;\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"opTableFilter.hide(); filtersVisible = false; clearTableFilters()\\\">\\r\\n      {{ \\\"resetFilters\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      style=\\\"margin-left: 8px;\\\"\\r\\n      (click)=\\\"opTableFilter.hide(); filtersVisible = false; filterTable()\\\"\\r\\n    >\\r\\n      {{ \\\"filter\\\" | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n</p-overlayPanel>\\r\\n\"","module.exports = \":host .search-criteria-footer-end {\\n  justify-content: flex-end; }\\n\\n:host .group-control {\\n  display: flex; }\\n\\n:host .group-control .form-sub-control {\\n    flex-direction: column;\\n    width: 100%; }\\n\\n:host .group-control .form-sub-control > p-selectButton {\\n      display: flex;\\n      align-items: flex-end;\\n      height: 2.5rem; }\\n\\n:host .grid-cell--3-max {\\n  max-width: 25%; }\\n\\n:host .grid-cell--9-max {\\n  max-width: 30%; }\\n\\n:host .code {\\n  display: inline-table;\\n  width: 100%; }\\n\\n:host ::ng-deep .info {\\n  overflow: hidden;\\n  padding-bottom: 0.4em;\\n  text-overflow: ellipsis;\\n  white-space: nowrap; }\\n\\n:host .procurement-alert {\\n  font-weight: 600;\\n  text-align: center;\\n  display: inline-block;\\n  padding: 4px; }\\n\\n:host .procurement--nok {\\n  background-color: #f6685e; }\\n\\n:host .procurement--ok {\\n  background-color: #4caf50; }\\n\\n:host .procurement--warning {\\n  background-color: #ffc107; }\\n\\n:host .custom-padding {\\n  padding-top: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvcHJvY3VyZW1lbnQtcmVxdWVzdC9zZWFyY2gvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGxvZ2lzdGljc1xccHJvY3VyZW1lbnQtcmVxdWVzdFxcc2VhcmNoXFxwcm9jdXJlbWVudC1yZXF1ZXN0LXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvcHJvY3VyZW1lbnQtcmVxdWVzdC9zZWFyY2gvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUVJLHlCQUF5QixFQUFBOztBQUY3QjtFQUtJLGFBQWEsRUFBQTs7QUFMakI7SUFPTSxzQkFBc0I7SUFDdEIsV0FBVyxFQUFBOztBQVJqQjtNQVVRLGFBQWE7TUFDYixxQkFBcUI7TUFDckIsY0M4Q29CLEVBQUE7O0FEMUQ1QjtFQWlCSSxjQUFjLEVBQUE7O0FBakJsQjtFQW9CSSxjQUFjLEVBQUE7O0FBcEJsQjtFQXdCSSxxQkFBcUI7RUFDckIsV0FBVyxFQUFBOztBQXpCZjtFQTZCSSxnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLHVCQUF1QjtFQUN2QixtQkFBbUIsRUFBQTs7QUFoQ3ZCO0VBb0NJLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIscUJBQXFCO0VBQ3JCLFlBQVksRUFBQTs7QUF2Q2hCO0VBMkNJLHlCQ3JCZ0IsRUFBQTs7QUR0QnBCO0VBK0NJLHlCQzVCa0IsRUFBQTs7QURuQnRCO0VBbURJLHlCQy9CWSxFQUFBOztBRHBCaEI7RUF1REksZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2xvZ2lzdGljcy9wcm9jdXJlbWVudC1yZXF1ZXN0L3NlYXJjaC9wcm9jdXJlbWVudC1yZXF1ZXN0LXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuQGltcG9ydCBcIm1peGluc1wiO1xyXG46aG9zdCB7XHJcbiAgLnNlYXJjaC1jcml0ZXJpYS1mb290ZXItZW5kIHtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgfVxyXG4gIC5ncm91cC1jb250cm9sIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAuZm9ybS1zdWItY29udHJvbCB7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAmID4gcC1zZWxlY3RCdXR0b24ge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xyXG4gICAgICAgIGhlaWdodDogJGZvcm0tY29udHJvbC1oZWlnaHQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLmdyaWQtY2VsbC0tMy1tYXgge1xyXG4gICAgbWF4LXdpZHRoOiAyNSU7XHJcbiAgfVxyXG4gIC5ncmlkLWNlbGwtLTktbWF4IHtcclxuICAgIG1heC13aWR0aDogMzAlO1xyXG4gIH1cclxuXHJcbiAgLmNvZGUge1xyXG4gICAgZGlzcGxheTogaW5saW5lLXRhYmxlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgLmluZm8ge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwLjRlbTtcclxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICB9XHJcblxyXG4gIC5wcm9jdXJlbWVudC1hbGVydCB7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gIH1cclxuXHJcbiAgLnByb2N1cmVtZW50LS1ub2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgfVxyXG5cclxuICAucHJvY3VyZW1lbnQtLW9rIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgfVxyXG5cclxuICAucHJvY3VyZW1lbnQtLXdhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZTtcclxuICB9XHJcblxyXG4gIC5jdXN0b20tcGFkZGluZyB7XHJcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xyXG4gIH1cclxufVxyXG4iLCIkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4kc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiRwcmltYXJ5LXRleHQtY29sb3I6ICMwMDA7XHJcbiRzZWNvbmRhcnktdGV4dC1jb2xvcjogIzU5NTk1OTtcclxuJGFjY2VudC1jb2xvcjogIzAxNTc5YjtcclxuXHJcbiRib2R5LWJhY2tncm91bmQtY29sb3I6ICNlOGViZWQ7XHJcbiR0b3BiYXItY29sb3I6ICNmYWZhZmE7XHJcblxyXG4vLyAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xyXG4vLyAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XHJcbi8vICRwcmltYXJ5LXRleHQtY29sb3I6ICNlOGU4ZTg7XHJcbi8vICRzZWNvbmRhcnktdGV4dC1jb2xvcjogI2ZmZjtcclxuLy8gJGFjY2VudC1jb2xvcjogIzljZGNmZTtcclxuXHJcbiRib3JkZXItY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ6IHRyYW5zcGFyZW50O1xyXG4kYm9yZGVyLWNvbG9yLS1mb2N1czogJGFjY2VudC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0taG92ZXI6ICMxYTFhMWE7XHJcblxyXG4kZ3JlZW4tZGFyazE6ICMyNzYzMmE7XHJcbiRncmVlbi1saWdodDE6ICM0Y2FmNTA7XHJcbiRvcmFuZ2U6ICNmZmMxMDc7XHJcbiRyZWQtZGFyazE6ICNhODI1MjU7XHJcbiRyZWQtbGlnaHQxOiAjZjY2ODVlO1xyXG4kYmx1ZS1saWdodDE6ICNiOGQwZTg7XHJcbiRibHVlLWRhcmsxOiAjMDA2ZWE5O1xyXG4kZ3JleTE6ICNjOGQ0ZDY7XHJcbiR5ZWxsb3cxOiAjZGRkZjAwO1xyXG5cclxuJGNyaXRpY2FsLXZhbHVlLWRhcms6ICNmYmE2NDM7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY3JpdGljYWwtdmFsdWUtbGlnaHQ6ICNmZWNjOGU7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY2FsZW5kYXIteWVsbG93OiAjZWZlZmIwOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGJhZC12YWx1ZS1kYXJrOiAjZmY2NzU4OyAvLyBUT0RPOiByZW1vdmUgaXRcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRib3JkZXItcmFkaXVzOiA0cHg7XHJcbiRib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiRmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJcIjtcclxuJGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiRmb250LXdlaWdodDogNDAwO1xyXG4kbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDI5O1xyXG4kbWFyZ2luLXZhbHVlOiA4cHg7XHJcbiRwYWdlLW1heC13aWR0aDogMTM2NnB4O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtNDogNDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTM6IDM7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0yOiAyO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGxlZnQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiR0b3BiYXItaGVpZ2h0OiA0MHB4O1xyXG4kbWFpbmJhci1ib3JkZXItY29sb3I6IGRhcmtlbigkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IsIDUlKTtcclxuJG1haW5iYXItYm9yZGVyLXdpZHRoOiAycHg7XHJcbiRwYWdlLWhlYWRlci1oZWlnaHQ6IDUuNXJlbTtcclxuJGZvcm0tY29udHJvbC1oZWlnaHQ6IDIuNXJlbTtcclxuJGNoZWNrYm94LWhlaWdodDogMS4yNXJlbTtcclxuJHJhZGlvYnV0dG9uLWhlaWdodDogMS4yNXJlbTtcclxuIl19 */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as moment from 'moment';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Observable } from 'rxjs';\r\nimport { finalize, map } from 'rxjs/operators';\r\n\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../../shared/constants/bido-function-type-constants';\r\nimport { BidtStockMvtConstants } from '../../../../shared/constants/bidt-stock-mvt-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { FindProcurementRequestsByCriteriaInput } from '../../../../shared/types/api-input-types/logistic/find-procurement-requests-by-criteria-input.interface';\r\nimport { BidoCustomerDTO } from '../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidtProcurementRequestDTO } from '../../../../shared/types/api-types/bidt-procurement-request-dto.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { BidoEquipmentUtils } from '../../../../shared/utils/bido-equipment-utils';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { LogisticalUtils } from '../../../../shared/utils/logistic-utils';\r\nimport { NumberUtils } from '../../../../shared/utils/number-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { LogisticsService } from '../../logistics.service';\r\n\r\nimport { ProcurementRequestSearchService } from './procurement-request-search.service';\r\n\r\ninterface ProcurementSearchInput {\r\n  siteName?: number;\r\n  whType?: string;\r\n  whName?: string;\r\n  whCode?: number;\r\n  criticality?: string;\r\n  procCode?: string;\r\n  procStatus?: string;\r\n  requestedDate?: Date;\r\n  woCode?: string;\r\n  documentType?: string;\r\n  siteIssue?: number;\r\n  warehouseIssue?: number;\r\n  type?: string;\r\n  customer?: BidoCustomerDTO;\r\n}\r\n\r\ninterface ProcurementSearchFilter {\r\n  status?: string;\r\n  advancement?: Advancement | undefined;\r\n  advancements?: LabelValue<Advancement>[];\r\n  requestedDate?: Date;\r\n  type?: string;\r\n  criticity?: string;\r\n  workOrder?: string; // TODO\r\n  workOrders?: LabelValue<string>[];\r\n  shipperSite?: number;\r\n  shipperWarehouse?: number;\r\n  shipperWarehouseType?: string;\r\n  shipperWarehouses?: LabelValue<number>[];\r\n  recepientSite?: number;\r\n  recepientWarehouse?: number;\r\n  recepientWarehouseType?: string;\r\n  recepientWarehouses?: LabelValue<number>[];\r\n}\r\n\r\ninterface ProcurementFormInput {\r\n  id?: number;\r\n  procurementRequest?: string;\r\n  procurementRequestDescription?: string;\r\n  referenceDocument?: string;\r\n  referenceDocumentDesc?: string;\r\n  recipient?: string;\r\n  recipientDesc?: string;\r\n  shipper?: string;\r\n  shipperDesc?: string;\r\n  materials?: string;\r\n  materialsDesc?: string;\r\n  quantity?: string;\r\n  quantityUnit?: string;\r\n  status?: string;\r\n  statusDesc?: Date;\r\n  expectedOn?: Date;\r\n  criticity?: string;\r\n  numberOfRecords?: number;\r\n  advancement: Advancement;\r\n  customerName?: string;\r\n  assetRecipient?: string;\r\n  _obj: BidtProcurementRequestDTO;\r\n}\r\n\r\nenum Advancement {\r\n  NOT_SERVED,\r\n  PARTIALLY_SERVED,\r\n  SERVED\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-procurement-request-search',\r\n  styleUrls: ['./procurement-request-search.component.scss'],\r\n  templateUrl: './procurement-request-search.component.html'\r\n})\r\nexport class ProcurementRequestSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public static readonly ALL = 'ALL';\r\n\r\n  @ViewChild('resultsContainerAnchor')\r\n  public resultsContainerAnchor: ElementRef;\r\n\r\n  public readonly advancement: typeof Advancement;\r\n  public readonly awPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  public logisticsTypeList: SelectItem[];\r\n  public criticalList: LabelValue<string | undefined>[];\r\n  public procurementSearchInput: ProcurementSearchInput = {};\r\n\r\n  public resultTableCols: TableColumn[];\r\n  public resultsTable: ProcurementFormInput[];\r\n  public resultsTableSrc: ProcurementFormInput[];\r\n  public selectedResults: ProcurementFormInput[];\r\n  public isLoading: boolean;\r\n\r\n  // Dropdowns\r\n  public siteList: SelectItem[];\r\n  public shopList: LabelValue<number>[];\r\n  public supplierWarehouses: LabelValue<number>[];\r\n  public statusList: SelectItem[];\r\n  public documentList: SelectItem[];\r\n  public customerList: LabelValue<BidoCustomerDTO>[];\r\n\r\n  public showAdvancedSearchCriteria: boolean;\r\n  public showCreateProcurementDialog: boolean;\r\n\r\n  public procurementRequestTypes: LabelValue<string | undefined>[];\r\n  public selectedAsset: BidoEquipmentDTO | undefined;\r\n  public selectedAssetName: string;\r\n  public assetDialogVisible: boolean;\r\n\r\n  public selectedSupplierWarehouseCategory: string | undefined;\r\n\r\n  public selectedAssetPn: BirePnDTO | undefined;\r\n  public assetPnDialogVisible: boolean;\r\n  public selectedDesignation: string | undefined;\r\n\r\n  private userSiteId: number | undefined;\r\n\r\n  public filtersVisible: boolean;\r\n  public filter: ProcurementSearchFilter = {};\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    public translateService: TranslateService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly logisticsService: LogisticsService,\r\n    private readonly procurementRequestSearchService: ProcurementRequestSearchService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.advancement = Advancement;\r\n    this.awPropertiesConstants = AWPropertiesConstants;\r\n\r\n    this.procurementRequestTypes = [];\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_TYPE_MAP).subscribe((res) => {\r\n      this.procurementRequestTypes = [\r\n        {\r\n          label: this.translateService.instant(this.getTranslateKey('all')),\r\n          value: undefined\r\n        },\r\n        ...res\r\n      ];\r\n    });\r\n\r\n    this.sessionService.getUserSiteId().subscribe({\r\n      next: (site) => {\r\n        this.userSiteId = site ? site.siteId : undefined;\r\n        this.procurementSearchInput.siteIssue = this.userSiteId;\r\n      }\r\n    });\r\n    this.sessionService.getUserWarehouseId().subscribe({\r\n      next: (warehouse) => {\r\n        this.selectedSupplierWarehouseCategory = warehouse ? warehouse.whCategory : undefined;\r\n\r\n        if (warehouse && warehouse.wareHouseId) {\r\n          this.loadSupplierWarehouses();\r\n\r\n          this.procurementSearchInput.warehouseIssue = warehouse ? warehouse.wareHouseId : undefined;\r\n        }\r\n      }\r\n    });\r\n\r\n    this.filter.advancements = [\r\n      {\r\n        label: this.translateService.instant(this.getTranslateKey('notServed')),\r\n        value: Advancement.NOT_SERVED\r\n      },\r\n      {\r\n        label: this.translateService.instant(this.getTranslateKey('partiallyServed')),\r\n        value: Advancement.PARTIALLY_SERVED\r\n      },\r\n      {\r\n        label: this.translateService.instant(this.getTranslateKey('served')),\r\n        value: Advancement.SERVED\r\n      }\r\n    ];\r\n  }\r\n\r\n  public clearTableFilters(): void {\r\n    this.filter.status = undefined;\r\n    this.filter.advancement = undefined;\r\n    this.filter.requestedDate = undefined;\r\n    this.filter.type = undefined;\r\n    this.filter.criticity = undefined;\r\n    this.filter.workOrder = undefined;\r\n    this.filter.shipperSite = undefined;\r\n    this.filter.shipperWarehouse = undefined;\r\n    this.filter.shipperWarehouses = [];\r\n    this.filter.recepientSite = undefined;\r\n    this.filter.recepientWarehouse = undefined;\r\n    this.filter.recepientWarehouses = [];\r\n    this.resultsTable = [...this.resultsTableSrc];\r\n  }\r\n\r\n  public filterTable(): void {\r\n    this.resultsTable = this.resultsTableSrc.filter((elt: ProcurementFormInput) => {\r\n      return (\r\n        (!this.filter.status || elt._obj.procStatus === this.filter.status) &&\r\n        (!this.filter.advancement || elt.advancement === this.filter.advancement) &&\r\n        (!this.filter.requestedDate || (!!elt.expectedOn && elt.expectedOn <= this.filter.requestedDate)) &&\r\n        (!this.filter.type || elt._obj.procType === this.filter.type) &&\r\n        (!this.filter.criticity || elt.criticity === this.filter.criticity) &&\r\n        (!this.filter.workOrder ||\r\n          (!!elt._obj.bidmWorkOrder && elt._obj.bidmWorkOrder.woId === this.filter.workOrder)) &&\r\n        (!this.filter.shipperSite ||\r\n          (!!elt._obj.bidtSiteByBidtSiteIssueId && elt._obj.bidtSiteByBidtSiteIssueId === this.filter.shipperSite)) &&\r\n        (!this.filter.shipperWarehouse ||\r\n          (!!elt._obj.bidtWarehouseByBidtWarehouseIssueId &&\r\n            elt._obj.bidtWarehouseByBidtWarehouseIssueId === this.filter.shipperWarehouse)) &&\r\n        (!this.filter.recepientSite ||\r\n          (!!elt._obj.bidtSiteByBidtSiteReceiptId &&\r\n            elt._obj.bidtSiteByBidtSiteReceiptId === this.filter.recepientSite)) &&\r\n        (!this.filter.recepientWarehouse ||\r\n          (!!elt._obj.bidtWarehouseByBidtWarehouseReceiptId &&\r\n            elt._obj.bidtWarehouseByBidtWarehouseReceiptId === this.filter.recepientWarehouse))\r\n      );\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.LOG_PROCUREMENT_REQUEST_SEARCH;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.siteList = [];\r\n    this.resultsTable = [];\r\n    this.resultsTableSrc = [];\r\n    this.selectedResults = [];\r\n    this.criticalList = [];\r\n    this.logisticsTypeList = [];\r\n    this.displayComponentContext('global.search', true);\r\n\r\n    this.loadDropdowns();\r\n    this.resultTableCols = this.procurementRequestSearchService.loadTableCols();\r\n  }\r\n\r\n  /************************************\r\n   * Fetch Dropdown Data\r\n   ************************************/\r\n  private loadDropdowns(): void {\r\n    this.procurementRequestSearchService.findAllBireSite().subscribe({\r\n      next: (sites) => {\r\n        this.siteList = ListUtils.orEmpty(sites)\r\n          .filter((site) => !!site.siteId && !StringUtils.isNullOrEmpty(site.siteName))\r\n          .map((site) => {\r\n            return {\r\n              label: `${site.siteCode} - ${site.siteName}`,\r\n              value: site.siteId as number\r\n            };\r\n          })\r\n          .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n      }\r\n    });\r\n\r\n    // Load Status List\r\n    this.procurementRequestSearchService.loadStatusList().subscribe((res) => {\r\n      this.statusList = ListUtils.orEmpty(res)\r\n        .filter((status) => status.value !== AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED)\r\n        .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n    });\r\n\r\n    this.documentList = [{ label: this.translateService.instant(this.getTranslateKey('workOrder')), value: '0' }];\r\n\r\n    this.procurementRequestSearchService.getWarehouseCategoryMap().subscribe((res) => {\r\n      if (res && res.length) {\r\n        this.logisticsTypeList = res.sort((s1, s2) => s1.value.localeCompare(s2.value));\r\n        this.procurementSearchInput.whType = this.logisticsTypeList[0].value;\r\n        this.selectedSupplierWarehouseCategory = this.logisticsTypeList[0].value;\r\n        this.filter.shipperWarehouseType = this.logisticsTypeList[0].value;\r\n        this.filter.recepientWarehouseType = this.logisticsTypeList[0].value;\r\n      }\r\n    });\r\n\r\n    this.procurementRequestSearchService.loadCriticalityList().subscribe((res) => {\r\n      res.forEach((criticity) => {\r\n        this.criticalList.push({\r\n          label: criticity.label,\r\n          value: criticity.value\r\n        });\r\n      });\r\n      this.criticalList = LogisticalUtils.sortCriticities(this.criticalList as LabelValue<string>[]);\r\n      this.criticalList = [\r\n        {\r\n          label: this.translateService.instant(this.getTranslateKey('all')),\r\n          value: undefined\r\n        },\r\n        ...this.criticalList\r\n      ];\r\n    });\r\n\r\n    this.customerList = [];\r\n    this.procurementRequestSearchService.findAllBidoCustomer().subscribe((customers: BidoCustomerDTO[]) => {\r\n      customers.forEach((customer: BidoCustomerDTO) => {\r\n        if (customer.isOwner && customer.customerCode) {\r\n          this.customerList.push({\r\n            label:\r\n              (customer.customerCode as string) +\r\n              (customer.customerName ? ' - ' + (customer.customerName as string) : ''),\r\n            value: customer\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  public loadRecipientWarehouses(): void {\r\n    this.procurementSearchInput.whCode = undefined;\r\n    this.shopList = [];\r\n\r\n    if (!!this.procurementSearchInput.siteName && this.procurementSearchInput.whType) {\r\n      this.loadWareHouses(this.procurementSearchInput.siteName, this.procurementSearchInput.whType).subscribe({\r\n        next: (warehouses) => {\r\n          this.shopList = warehouses;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public loadRecipientWarehousesFilter(): void {\r\n    this.filter.recepientWarehouse = undefined;\r\n    this.filter.recepientWarehouses = [];\r\n\r\n    if (!!this.filter.recepientSite && this.filter.recepientWarehouseType) {\r\n      this.loadWareHouses(this.filter.recepientSite, this.filter.recepientWarehouseType).subscribe({\r\n        next: (warehouses) => {\r\n          this.filter.recepientWarehouses = warehouses;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public loadSupplierWarehouses(): void {\r\n    this.procurementSearchInput.warehouseIssue = undefined;\r\n    this.supplierWarehouses = [];\r\n\r\n    if (!!this.procurementSearchInput.siteIssue && this.selectedSupplierWarehouseCategory) {\r\n      this.loadWareHouses(this.procurementSearchInput.siteIssue, this.selectedSupplierWarehouseCategory).subscribe({\r\n        next: (warehouses) => {\r\n          this.supplierWarehouses = warehouses;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public loadSupplierWarehousesFilter(): void {\r\n    this.filter.shipperWarehouse = undefined;\r\n    this.filter.shipperWarehouses = [];\r\n\r\n    if (!!this.filter.shipperSite && this.filter.shipperWarehouseType) {\r\n      this.loadWareHouses(this.filter.shipperSite, this.filter.shipperWarehouseType).subscribe({\r\n        next: (warehouses) => {\r\n          this.filter.shipperWarehouses = warehouses;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadWareHouses(siteId: number, warehouseCategory: string): Observable<LabelValue<number>[]> {\r\n    return this.procurementRequestSearchService.getWarehousesBySiteId(siteId).pipe(\r\n      map((warehouses) => {\r\n        return warehouses\r\n          .filter(\r\n            (warehouse) =>\r\n              !!warehouse.whCode &&\r\n              !!warehouse.whName &&\r\n              !!warehouse.whCategory &&\r\n              warehouseCategory === warehouse.whCategory\r\n          )\r\n          .map((warehouse) => {\r\n            return {\r\n              label: `${warehouse.whCode} - ${warehouse.whName}`,\r\n              value: warehouse.wareHouseId as number\r\n            };\r\n          })\r\n          .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n      })\r\n    );\r\n  }\r\n\r\n  /************************************\r\n   * Action Search\r\n   ************************************/\r\n  public search(): void {\r\n    this.resultsTable = [];\r\n    this.resultsTableSrc = [];\r\n    this.selectedResults = [];\r\n    this.getProcurementTableData();\r\n  }\r\n\r\n  /************************************\r\n   * Fetch Table Data\r\n   ************************************/\r\n  private getProcurementTableData(): void {\r\n    this.isLoading = true;\r\n\r\n    super.scrollToAnchor(this.resultsContainerAnchor);\r\n\r\n    const searchMappedInputValue = this.getMappedInputOfModel();\r\n    this.logisticsService\r\n      .findProcurementRequestsByCriteria(searchMappedInputValue)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.isLoading = false;\r\n        })\r\n      )\r\n      .subscribe((response) => {\r\n        if (response && response.length) {\r\n          this.mapRespToMaterialTableData(response);\r\n        }\r\n\r\n        super.differ(() => {\r\n          super.scrollToAnchor(this.resultsContainerAnchor);\r\n        });\r\n      });\r\n  }\r\n\r\n  private formatQuantity(procurementRequest: BidtProcurementRequestDTO): string {\r\n    if (\r\n      procurementRequest.bidtProcReqItems &&\r\n      procurementRequest.bidtProcReqItems.length === 1 &&\r\n      procurementRequest.bidtProcReqItems[0].requestedQuantity\r\n    ) {\r\n      return NumberUtils.roundNumber(\r\n        NumberUtils.fromString(procurementRequest.bidtProcReqItems[0].requestedQuantity),\r\n        2\r\n      ).toString();\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  private formatQuantityUnit(procurementRequest: BidtProcurementRequestDTO): string {\r\n    if (\r\n      procurementRequest.bidtProcReqItems &&\r\n      procurementRequest.bidtProcReqItems.length === 1 &&\r\n      procurementRequest.bidtProcReqItems[0].requestedQuantity\r\n    ) {\r\n      const unit =\r\n        procurementRequest.bidtProcReqItems[0].birePn && procurementRequest.bidtProcReqItems[0].birePn.quantityUnit\r\n          ? procurementRequest.bidtProcReqItems[0].birePn.quantityUnit\r\n          : undefined;\r\n\r\n      return StringUtils.orEmpty(unit);\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  /************************************\r\n   * Mapping API Response\r\n   ************************************/\r\n  private mapRespToMaterialTableData(responseData: BidtProcurementRequestDTO[]): void {\r\n    this.resultsTableSrc = [];\r\n    this.filter.workOrders = [];\r\n    responseData.forEach((value: BidtProcurementRequestDTO) => {\r\n      const tableObject: ProcurementFormInput = {\r\n        _obj: value,\r\n        id: value.id,\r\n        procurementRequest: value.procCode,\r\n        procurementRequestDescription: value.procType,\r\n        referenceDocument: !!value.bidmWorkOrder ? value.bidmWorkOrder.woCode : '',\r\n        referenceDocumentDesc: !!value.bidmWorkOrder ? value.bidmWorkOrder.woDescription : '',\r\n        recipient: !!value.bidtSiteReceipt ? value.bidtSiteReceipt.siteName : '',\r\n        recipientDesc: !!value.bidtWarehouseReceipt ? value.bidtWarehouseReceipt.whName : '',\r\n        shipper: !!value.bidtSiteIssue ? value.bidtSiteIssue.siteName : '',\r\n        shipperDesc: !!value.bidtWarehouseIssue ? value.bidtWarehouseIssue.whName : '',\r\n        quantity: this.formatQuantity(value),\r\n        quantityUnit: this.formatQuantityUnit(value),\r\n        status: value.procStatus,\r\n        statusDesc: value.requestedDate,\r\n        expectedOn: value.requestedDate,\r\n        criticity: value.criticality,\r\n        advancement: this.calculateSituation(value),\r\n        customerName: !!value.bidoCustomer ? value.bidoCustomer.customerName : '',\r\n        assetRecipient: BidoEquipmentUtils.createAssetRepresentation(value.bidoEquipmentDTO)\r\n      };\r\n      if (value.bidtProcReqItems && value.bidtProcReqItems.length) {\r\n        if (value.bidtProcReqItems.length === 1) {\r\n          tableObject.materials = value.bidtProcReqItems[0].birePn\r\n            ? value.bidtProcReqItems[0].birePn.pnCode\r\n            : undefined;\r\n          tableObject.materialsDesc = value.bidtProcReqItems[0].birePn\r\n            ? value.bidtProcReqItems[0].birePn.articleDesignation\r\n            : undefined;\r\n        } else {\r\n          tableObject.numberOfRecords = value.bidtProcReqItems.length;\r\n        }\r\n      }\r\n      if (\r\n        !!this.filter.workOrders &&\r\n        !!value.bidmWorkOrder &&\r\n        !this.filter.workOrders.find((elt) => !!value.bidmWorkOrder && elt.value === value.bidmWorkOrder.woId)\r\n      ) {\r\n        this.filter.workOrders.push({\r\n          label: value.bidmWorkOrder.woCode as string,\r\n          value: value.bidmWorkOrder.woId as string\r\n        });\r\n      }\r\n      this.resultsTableSrc.push(tableObject);\r\n    });\r\n    this.filter.workOrders = this.filter.workOrders.sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n    this.resultsTable = [...this.resultsTableSrc];\r\n  }\r\n\r\n  private getMappedInputOfModel(): FindProcurementRequestsByCriteriaInput {\r\n    const mappedModelValue: BidtProcurementRequestDTO = {\r\n      procType: this.procurementSearchInput.type,\r\n      bidtSiteByBidtSiteIssueId: this.procurementSearchInput.siteIssue,\r\n      bidtSiteByBidtSiteReceiptId: this.procurementSearchInput.siteName,\r\n      bidtWarehouseByBidtWarehouseReceiptId: this.procurementSearchInput.whCode,\r\n      bidtWarehouseByBidtWarehouseIssueId: this.procurementSearchInput.warehouseIssue,\r\n      criticality: this.procurementSearchInput.criticality,\r\n      procCode: this.procurementSearchInput.procCode,\r\n      procStatus: this.procurementSearchInput.procStatus,\r\n      requestedDate: this.procurementSearchInput.requestedDate\r\n        ? moment(this.procurementSearchInput.requestedDate)\r\n            .endOf('day')\r\n            .toDate()\r\n        : undefined,\r\n      bidtDocuments:\r\n        !!this.procurementSearchInput.documentType || !!this.procurementSearchInput.woCode\r\n          ? [\r\n              {\r\n                documentType: this.procurementSearchInput.documentType,\r\n                documentCode: this.procurementSearchInput.woCode\r\n              }\r\n            ]\r\n          : [],\r\n      bidoCustomerCustomerCode: !!this.procurementSearchInput.customer\r\n        ? this.procurementSearchInput.customer.customerCode\r\n        : undefined,\r\n      bidoCustomerMandant: !!this.procurementSearchInput.customer\r\n        ? this.procurementSearchInput.customer.customerMandant\r\n        : undefined\r\n    };\r\n\r\n    const procReqStatusExcluded = [AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED];\r\n    if (this.procurementSearchInput.procStatus !== AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED) {\r\n      procReqStatusExcluded.push(AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED);\r\n    }\r\n\r\n    const criteriaInput: FindProcurementRequestsByCriteriaInput = {\r\n      procReqItemPnCode: this.selectedAssetPn ? this.selectedAssetPn.pnCode : undefined,\r\n      procReqItemDesignation: this.selectedDesignation,\r\n      assetCode: this.selectedAsset ? this.selectedAsset.equipmentCode : undefined,\r\n      bidtProcurementRequest: mappedModelValue,\r\n      procReqStatusExcluded\r\n    };\r\n\r\n    return criteriaInput;\r\n  }\r\n\r\n  /************************************\r\n   * Open Form Component\r\n   ************************************/\r\n  public openProcurementDetails(rowData: ProcurementFormInput): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_PROCUREMENT_REQUEST_FORM,\r\n      objectId:\r\n        rowData && rowData.procurementRequest ? this.serializationService.serialize({ id: rowData.id }) : undefined,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public isCancelButtonVisible(): boolean {\r\n    return (\r\n      this.selectedResults.length === 1 &&\r\n      (this.selectedResults[0]._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED ||\r\n        this.selectedResults[0]._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\r\n        this.selectedResults[0]._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_RELEASED) &&\r\n      this.sessionService.hasUserRightByUseCase(\r\n        BidoFunctionTypeConstants.UC_MM_PROCUREMENT,\r\n        BidoFunctionTypeConstants.DEGREE_MANAGE\r\n      )\r\n    );\r\n  }\r\n\r\n  public isDeleteButtonVisible(): boolean {\r\n    return (\r\n      this.selectedResults.length === 1 &&\r\n      this.selectedResults[0]._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT &&\r\n      !!this.sessionService.loggedUser &&\r\n      this.selectedResults[0]._obj.statusUser === this.sessionService.loggedUser.login\r\n    );\r\n  }\r\n\r\n  public cancelProcurementRequest(): void {\r\n    if (this.selectedResults.length === 1) {\r\n      this.logisticsService.cancelProcurementRequest(this.selectedResults[0].id as number).subscribe(() => {\r\n        this.selectedResults = [];\r\n        this.getProcurementTableData();\r\n\r\n        this.messageService.showSuccessMessage('successOnCancelProcurementRequest');\r\n      });\r\n    }\r\n  }\r\n\r\n  public deleteProcurementRequest(): void {\r\n    if (this.selectedResults.length === 1) {\r\n      this.logisticsService.deleteProcurementRequest(this.selectedResults[0].id as number).subscribe(() => {\r\n        this.selectedResults = [];\r\n        this.getProcurementTableData();\r\n\r\n        this.messageService.showSuccessMessage('successOnDeleteProcurementRequest');\r\n      });\r\n    }\r\n  }\r\n\r\n  /************************************\r\n   * Manage button visibilty\r\n   ************************************/\r\n  public getManageButtonVisibility(): boolean {\r\n    const result = false;\r\n    this.selectedResults.filter((res) => {\r\n      // TODO: Manage visibility of manage button\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  public getStatusLabel(statusValue: string | undefined): string {\r\n    const matchingStatus = this.statusList.find((status) => status.value === statusValue);\r\n\r\n    return matchingStatus ? StringUtils.orEmpty(matchingStatus.label) : '';\r\n  }\r\n\r\n  /************************************\r\n   * Open Material Req Mgmt Form\r\n   ************************************/\r\n  public openProcurementManagmentPage(): void {\r\n    if (this.selectedResults.length === 1 && this.selectedResults[0]._obj.bidtProcReqItems) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.LOG_MATERIAL_REQUEST_MANAGEMENT_FORM,\r\n        openMode: ComponentOpenMode.Write,\r\n        objectId: this.serializationService.serialize({\r\n          prId: this.selectedResults[0]._obj.id,\r\n          prItemId: this.selectedResults[0]._obj.bidtProcReqItems[0].id\r\n        })\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openPart(row: ProcurementFormInput): void {\r\n    if (row.materials) {\r\n      const data: PageComponentData = {\r\n        componentId: ComponentConstants.ENG_PART_NUMBER_FORM,\r\n        id: this.tabService.generateId(),\r\n        objectId: row.materials,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openWorkOrder(row: ProcurementFormInput): void {\r\n    if (row._obj.bidmWorkOrder) {\r\n      const data: PageComponentData = {\r\n        componentId: ComponentConstants.MAI_WORK_ORDER_FORM,\r\n        id: this.tabService.generateId(),\r\n        objectId: this.serializationService.serialize({\r\n          projectId: row._obj.bidmWorkOrder.projectId,\r\n          woId: row._obj.bidmWorkOrder.woId\r\n        }),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public createProcurementRequest() {\r\n    this.showCreateProcurementDialog = true;\r\n  }\r\n\r\n  public openAssetDialog(): void {\r\n    this.assetDialogVisible = true;\r\n  }\r\n\r\n  public onSelectAsset(equipment: BidoEquipmentDTO): void {\r\n    this.selectedAsset = equipment;\r\n    this.selectedAssetName = BidoEquipmentUtils.createAssetRepresentation(equipment);\r\n  }\r\n\r\n  public openAssetPnDialog(): void {\r\n    this.assetPnDialogVisible = true;\r\n  }\r\n\r\n  public clearAssetPn(): void {\r\n    this.selectedAssetPn = undefined;\r\n  }\r\n\r\n  public onSelectAssetPn(pn: BirePnDTO): void {\r\n    this.selectedAssetPn = pn;\r\n  }\r\n\r\n  private calculateSituation(procurementRequest: BidtProcurementRequestDTO): Advancement {\r\n    const stockMvts = ListUtils.orEmpty(procurementRequest.bidtProcReqItems)\r\n      .map((procReqItem) =>\r\n        ListUtils.orEmpty(procReqItem.workshopEntries).filter(\r\n          (stockMvt) => stockMvt.stockMvtWay === BidtStockMvtConstants.MVT_WAY_CREDIT\r\n        )\r\n      )\r\n      .reduce((acc, x) => acc.concat(x), []);\r\n\r\n    const allCount = stockMvts.length;\r\n    const servedCount = stockMvts.filter(\r\n      (stockMvt) => stockMvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY\r\n    ).length;\r\n\r\n    return servedCount === 0\r\n      ? Advancement.NOT_SERVED\r\n      : servedCount > 0 && servedCount < allCount\r\n      ? Advancement.PARTIALLY_SERVED\r\n      : Advancement.SERVED;\r\n  }\r\n\r\n  public openWorkPackageAsset(row: ProcurementFormInput): void {\r\n    if (row._obj && row._obj.bidoEquipmentDTO) {\r\n      const equipmentObject = row._obj.bidoEquipmentDTO;\r\n      let componentId: string;\r\n      if (equipmentObject.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY) {\r\n        componentId = ComponentConstants.FLE_AIRCRAFT_FORM;\r\n      } else if (equipmentObject.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY) {\r\n        componentId = ComponentConstants.FLE_ENGINE_FORM;\r\n      } else {\r\n        componentId = ComponentConstants.FLE_EQUIPMENT_FORM;\r\n      }\r\n\r\n      const data: PageComponentData = {\r\n        componentId,\r\n        id: this.tabService.generateId(),\r\n        objectId: this.serializationService.serialize({\r\n          equipmentCode: equipmentObject.equipmentCode\r\n        }),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { BireOperationPnDTO } from '../../../../../..//shared/types/api-types/bire-operation-pn-dto.interface';\r\nimport { AircraftMaintenanceApi } from '../../../../../../shared/api/aircraft-maintenance.api';\r\nimport { AirworthinessManagementApi } from '../../../../../../shared/api/airworthiness-management.api';\r\nimport { BidtWarehouseApi } from '../../../../../../shared/api/bidt-warehouse.api';\r\nimport { FleetManagementApi } from '../../../../../../shared/api/fleet-management.api';\r\nimport { TaskManagementApi } from '../../../../../../shared/api/task-management.api';\r\nimport { UserProfileManagementApi } from '../../../../../../shared/api/user-profile-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../../shared/services/app-config.service';\r\nimport { AssetWorkOrderOriginInput } from '../../../../../../shared/types/api-input-types/airworthiness-management/asset-work-order-origin-input.inteface';\r\nimport { FindRelatedAssetsInput } from '../../../../../../shared/types/api-input-types/task-management/find-related-assets.interface';\r\nimport { UsersForWorkOrderInput } from '../../../../../../shared/types/api-input-types/user-profile-management/users-for-work-order.interface';\r\nimport { CalculateWorkOrderImput } from '../../../../../../shared/types/api-input-types/work-order/calculate-work-order-input.interface';\r\nimport { CreateBidmWorkOrderInput } from '../../../../../../shared/types/api-input-types/work-order/create-bidm-work-order-input';\r\nimport { AssetWorkOrderOriginDataOutput } from '../../../../../../shared/types/api-output-types/airworthiness-management/asset-work-order-origin-data-output.inteface';\r\nimport { CalculateWorkOrderOutput } from '../../../../../../shared/types/api-output-types/calculate-work-order-output.interface';\r\nimport { BidmOperationDTO } from '../../../../../../shared/types/api-types/bidm-operation-dto.interface';\r\nimport { BidmWorkOrderDataDTO } from '../../../../../../shared/types/api-types/bidm-work-order-data-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { BidoCustomerDTOId } from '../../../../../../shared/types/api-types/bido-customer-dto-id.interface';\r\nimport { BidoCustomerDTO } from '../../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoUserDTO } from '../../../../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BireEvolutionDTO } from '../../../../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireOperationDTOId } from '../../../../../../shared/types/api-types/bire-operation-dto-id.interface';\r\nimport { BireOperationDTO } from '../../../../../../shared/types/api-types/bire-operation-dto.interface';\r\nimport { BirePnDTOId } from '../../../../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireTaskDTOId } from '../../../../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskOperationDTO } from '../../../../../../shared/types/api-types/bire-task-operation-dto.interface';\r\nimport { InitializeWoProcurementRequestInputDTO } from '../../../../../../shared/types/api-types/initialize-wo-procurement-request-input-dto.interface';\r\nimport { WoProcurementRequestInputDTO } from '../../../../../../shared/types/api-types/wo-procurement-request-input-dto.interface';\r\n\r\nimport { BidmWorkOrderDTOId } from './../../../../../../shared/types/api-types/bidm-work-order-dto-id.interface';\r\nimport { StringUtils } from './../../../../../../shared/utils/string-utils';\r\n\r\n@Injectable()\r\nexport class DialogWorkOrderEditService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly aircraftMaintenanceApi: AircraftMaintenanceApi,\r\n    private readonly airworthinessManagementApi: AirworthinessManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly bidtWarehouseApi: BidtWarehouseApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly userProfileManagementApi: UserProfileManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet management api\r\n   *************************************************************************/\r\n  public findBidoCustomer(input: BidoCustomerDTOId): Observable<BidoCustomerDTO> {\r\n    return super.post<BidoCustomerDTOId, BidoCustomerDTO>(this.fleetManagementApi.findBidoCustomer, input);\r\n  }\r\n\r\n  public createOrUpdateBidmWorkOrder(bidmWorkOrder: CreateBidmWorkOrderInput): Observable<BidmWorkOrderDTO> {\r\n    return super.post<CreateBidmWorkOrderInput, BidmWorkOrderDTO>(\r\n      this.aircraftMaintenanceApi.createOrUpdateBidmWorkOrder,\r\n      bidmWorkOrder\r\n    );\r\n  }\r\n\r\n  public findRelatedItemsFromTask(bireTaskDTOId: BireTaskDTOId): Observable<SelectItem[]> {\r\n    return super.post<BireTaskDTOId, SelectItem[]>(this.taskManagementApi.findRelatedItemsFromTask, bireTaskDTOId);\r\n  }\r\n\r\n  public findRelatedItemsFromEvolution(bireEvolutionDTO: BireEvolutionDTO): Observable<SelectItem[]> {\r\n    return super.post<BireEvolutionDTO, SelectItem[]>(\r\n      this.taskManagementApi.findRelatedItemsFromEvolution,\r\n      bireEvolutionDTO\r\n    );\r\n  }\r\n\r\n  public findRelatedAssets(findRelatedAssetsInput?: FindRelatedAssetsInput): Observable<SelectItem[]> {\r\n    return super.post<FindRelatedAssetsInput, SelectItem[]>(\r\n      this.taskManagementApi.findRelatedAssets,\r\n      findRelatedAssetsInput\r\n    );\r\n  }\r\n\r\n  public findOperationsFromTaskAndRelatedTasks(bireTaskDTOId: BireTaskDTOId): Observable<BireOperationDTO[]> {\r\n    return super.post<BireTaskDTOId, BireTaskOperationDTO[]>(\r\n      this.taskManagementApi.findOperationsFromTaskAndRelatedTasks,\r\n      bireTaskDTOId\r\n    );\r\n  }\r\n\r\n  public findOperationsFromEvolution(bireEvolutionDTO: BireEvolutionDTO): Observable<BireOperationDTO[]> {\r\n    return super.post<BireEvolutionDTO, BireTaskOperationDTO[]>(\r\n      this.taskManagementApi.findOperationsFromEvolution,\r\n      bireEvolutionDTO\r\n    );\r\n  }\r\n\r\n  public findWorkOrder(input: BidmWorkOrderDTOId): Observable<BidmWorkOrderDTO> {\r\n    return super.post<BidmWorkOrderDTOId, BidmWorkOrderDTO>(this.aircraftMaintenanceApi.findBidmWorkOrder, input);\r\n  }\r\n\r\n  public findBidmWorkOrder(bidmWorkOrderDTOId: BidmWorkOrderDTOId): Observable<BidmWorkOrderDataDTO> {\r\n    return super.post<BidmWorkOrderDTOId, BidmWorkOrderDataDTO>(\r\n      this.aircraftMaintenanceApi.findBidmWorkOrderData,\r\n      bidmWorkOrderDTOId\r\n    );\r\n  }\r\n\r\n  public calculateWorkOrderStatus(input: CalculateWorkOrderImput): Observable<CalculateWorkOrderOutput> {\r\n    return super.post<CalculateWorkOrderImput, CalculateWorkOrderOutput>(\r\n      this.aircraftMaintenanceApi.calculateWorkOrderStatus,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findWorkOrderOriginDetails(input: AssetWorkOrderOriginInput): Observable<AssetWorkOrderOriginDataOutput> {\r\n    return super.post<AssetWorkOrderOriginInput, AssetWorkOrderOriginDataOutput>(\r\n      this.airworthinessManagementApi.findWorkOrderOriginDetails,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBidmOperationsByWorkOrder(input: BidmWorkOrderDTOId): Observable<BidmOperationDTO[]> {\r\n    return super.post<BidmWorkOrderDTOId, BidmOperationDTO[]>(\r\n      this.aircraftMaintenanceApi.findBidmOperationsByWorkOrder,\r\n      input\r\n    );\r\n  }\r\n\r\n  public loadWarehouseList(input: string | undefined): Observable<SelectItem[]> {\r\n    if (StringUtils.isNullOrEmpty(input)) {\r\n      return of<SelectItem[]>([]);\r\n    } else {\r\n      return super.post<string, SelectItem[]>(this.bidtWarehouseApi.findByMandantAndSiteCode, input);\r\n    }\r\n  }\r\n  public loadWareHouses(): Observable<BidtWarehouseDTO[]> {\r\n    return super.post<void, BidtWarehouseDTO[]>(this.bidtWarehouseApi.findAll);\r\n  }\r\n\r\n  public findUsersWithUseCaseForWorkOrder(input: UsersForWorkOrderInput): Observable<BidoUserDTO[]> {\r\n    return super.post<UsersForWorkOrderInput, BidoUserDTO[]>(\r\n      this.userProfileManagementApi.findUsersWithUseCaseForWorkOrder,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBireOperationPnsByOperation(p: BireOperationDTOId): Observable<BireOperationPnDTO[]> {\r\n    return super.post<BireOperationDTOId, BireOperationPnDTO[]>(\r\n      this.taskManagementApi.findBireOperationPnsByOperation,\r\n      p\r\n    );\r\n  }\r\n\r\n  public findBirePn(input: BirePnDTOId): Observable<BirePnDTO> {\r\n    return super.post<BirePnDTOId, BirePnDTO>(this.taskManagementApi.findBirePn, input);\r\n  }\r\n\r\n  public initalizeWoProcurementRequestInput(\r\n    input: InitializeWoProcurementRequestInputDTO\r\n  ): Observable<WoProcurementRequestInputDTO[]> {\r\n    return super.post<InitializeWoProcurementRequestInputDTO, WoProcurementRequestInputDTO[]>(\r\n      this.aircraftMaintenanceApi.initializeProcurementRequest,\r\n      input\r\n    );\r\n  }\r\n}\r\n","import { ConnectedPosition, Overlay, OverlayConfig, PositionStrategy } from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { Injectable, Injector, Type } from '@angular/core';\r\n\r\nimport { OverlayRef } from './overlay-ref';\r\nimport { OverlayComponent } from './overlay.component';\r\n\r\nexport interface OverlayParams {\r\n  content: Type<unknown>;\r\n  data?: unknown;\r\n  hasBackdrop?: boolean;\r\n  hasVisibleBackdrop?: boolean;\r\n  height?: number | string;\r\n  width?: number | string;\r\n}\r\n\r\nexport interface OverlayWithGlobalPositionParams extends OverlayParams {\r\n  positions: { bottom?: string; left?: string; right?: string; top?: string };\r\n}\r\n\r\nexport interface OverlayWithRelativePositionParams extends OverlayParams {\r\n  origin: HTMLElement;\r\n  positions?: ConnectedPosition[];\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OverlayService {\r\n  public constructor(private readonly _injector: Injector, private readonly _overlay: Overlay) {}\r\n\r\n  // //////////////////////////////////////////////////////////////////////////\r\n\r\n  public openWithPositionAbsolute<T>(params: OverlayWithGlobalPositionParams): OverlayRef<T> {\r\n    return this.open(params, this.getConfig(params, this.getPositionAbsolute(params)));\r\n  }\r\n\r\n  public openWithPositionCenter<T>(params: OverlayParams): OverlayRef<T> {\r\n    return this.open(\r\n      params,\r\n      this.getConfig(\r\n        { ...params, hasVisibleBackdrop: params.hasVisibleBackdrop !== undefined ? params.hasVisibleBackdrop : true },\r\n        this.getPositionCenter()\r\n      )\r\n    );\r\n  }\r\n\r\n  public openWithPositionRelative<T>(params: OverlayWithRelativePositionParams): OverlayRef<T> {\r\n    return this.open(params, this.getConfig(params, this.getPositionRelative(params)));\r\n  }\r\n\r\n  // //////////////////////////////////////////////////////////////////////////\r\n\r\n  private createInjector<T>(overlayRef: OverlayRef<T>, injector: Injector): PortalInjector {\r\n    const tokens = new WeakMap([[OverlayRef, overlayRef]]);\r\n\r\n    return new PortalInjector(injector, tokens);\r\n  }\r\n\r\n  private getConfig(params: OverlayParams, positionStrategy: PositionStrategy): OverlayConfig {\r\n    const hasBackdrop = params.hasBackdrop !== undefined ? params.hasBackdrop : true;\r\n\r\n    return new OverlayConfig({\r\n      hasBackdrop,\r\n      positionStrategy,\r\n      backdropClass: hasBackdrop && params.hasVisibleBackdrop ? 'cdk-overlay-dark-backdrop' : '',\r\n      height: params.height,\r\n      scrollStrategy: this._overlay.scrollStrategies.reposition(),\r\n      width: params.width\r\n    });\r\n  }\r\n\r\n  private getPositionAbsolute(params: OverlayWithGlobalPositionParams): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .global()\r\n      .bottom(params.positions.bottom)\r\n      .left(params.positions.left)\r\n      .right(params.positions.right)\r\n      .top(params.positions.top);\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private getPositionCenter(): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .global()\r\n      .centerHorizontally()\r\n      .centerVertically();\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private getPositionRelative(params: OverlayWithRelativePositionParams): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .flexibleConnectedTo(params.origin)\r\n      .withPositions(params.positions || [])\r\n      .withFlexibleDimensions(false)\r\n      .withPush(false);\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private open<T>(params: OverlayParams, overlayConfig: OverlayConfig): OverlayRef<T> {\r\n    const cdkOverlayRef = this._overlay.create(overlayConfig);\r\n    const overlayRef = new OverlayRef<T>(cdkOverlayRef, params.content, params.data);\r\n\r\n    const injector = this.createInjector(overlayRef, this._injector);\r\n    cdkOverlayRef.attach(new ComponentPortal(OverlayComponent, undefined, injector));\r\n\r\n    return overlayRef;\r\n  }\r\n}\r\n","import * as FileSaver from 'file-saver';\r\n\r\nimport { NumberUtils } from './number-utils';\r\n\r\nexport class FileUtils {\r\n  public static readonly KIBIOCTET: number = 1024;\r\n  public static readonly KILOOCTET: number = 1000;\r\n\r\n  public static downloadFile(file: Uint8Array | undefined, fileName: string | undefined): void {\r\n    if (!!file && !!fileName) {\r\n      const byteCharacters = atob(file.toString());\r\n      const byteNumbers = new Array(byteCharacters.length);\r\n      for (let i = 0; i < byteCharacters.length; i++) {\r\n        byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n      }\r\n\r\n      FileSaver.saveAs(new Blob([new Uint8Array(byteNumbers)]), fileName);\r\n    }\r\n  }\r\n\r\n  public static getExtension(fileName: string | undefined): string {\r\n    return !!fileName && fileName.includes('.') ? fileName.substring(fileName.lastIndexOf('.') + 1) : '';\r\n  }\r\n\r\n  public static getFileContentAsBase64(file: File | undefined, callback: (fileContent: Uint8Array) => void): void {\r\n    if (!!file) {\r\n      const reader: FileReader = new FileReader();\r\n      reader.onloadend = () => {\r\n        let fileContent: any = reader.result; // tslint:disable-line:no-any\r\n        fileContent = fileContent.substring((fileContent.indexOf(',') as number) + 1); // Remove data:*/*;base64,\r\n        callback(fileContent);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  public static getFormattedSize(size: number | undefined): string {\r\n    if (!!size) {\r\n      return size / FileUtils.KILOOCTET < FileUtils.KILOOCTET\r\n        ? `${NumberUtils.roundNumber(size / FileUtils.KILOOCTET)} Ko`\r\n        : `${NumberUtils.roundNumber(size / FileUtils.KILOOCTET / FileUtils.KILOOCTET)} Mo`;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}