{"version":3,"sources":["webpack:///./node_modules/primeng/keyfilter.js","webpack:///./src/app/shared/components/dialog-bire-document/dialog-bire-document.component.html","webpack:///./src/app/shared/components/dialog-bire-document/dialog-bire-document.component.scss","webpack:///./src/app/shared/components/dialog-bire-document/dialog-bire-document.component.ts","webpack:///./src/app/shared/components/dialog-bire-document/dialog-bire-document.module.ts"],"names":[],"mappings":"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","file":"default~engineering-management-engineering-management-module~engineering-management-item-item-module~2fec0218.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/keyfilter/keyfilter\"));","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ componentId + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentId + \\\".docName\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\">\\r\\n            <input\\r\\n              *ngIf=\\\"!!document\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              type=\\\"text\\\"\\r\\n              [(ngModel)]=\\\"document.docName\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm || (!document.docName && !document.docFile)\\\"\\r\\n            />\\r\\n            <div *ngIf=\\\"!isReadOnlyForm && !document.docName && !document.docFile\\\" class=\\\"btn-file-upload-wrapper\\\">\\r\\n              <p-fileUpload\\r\\n                #fileUploader\\r\\n                class=\\\"aw-fileupload\\\"\\r\\n                name=\\\"document[]\\\"\\r\\n                customUpload=\\\"true\\\"\\r\\n                mode=\\\"basic\\\"\\r\\n                auto=\\\"true\\\"\\r\\n                chooseLabel=\\\"\\\"\\r\\n                (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n              ></p-fileUpload>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentId + \\\".docSource\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"document.docSource\\\" [disabled]=\\\"isReadOnlyForm\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentId + \\\".docPublicationDate\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-calendar\\r\\n              showButtonBar=\\\"true\\\"\\r\\n              [monthNavigator]=\\\"true\\\"\\r\\n              [yearNavigator]=\\\"true\\\"\\r\\n              [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n              class=\\\"aw-calendar\\\"\\r\\n              [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n              [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n              [(ngModel)]=\\\"document.docPublicationDate\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-calendar>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentId + \\\".docDescription\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <textarea\\r\\n              class=\\\"aw-textarea\\\"\\r\\n              [rows]=\\\"3\\\"\\r\\n              pInputTextarea\\r\\n              [(ngModel)]=\\\"document.docDescription\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            ></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [disabled]=\\\"!isValidateEnabled()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \":host ::ng-deep .form-control.form-control-with-modal input.aw-input {\\n  border-bottom-width: 0 !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZGlhbG9nLWJpcmUtZG9jdW1lbnQvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXHNoYXJlZFxcY29tcG9uZW50c1xcZGlhbG9nLWJpcmUtZG9jdW1lbnRcXGRpYWxvZy1iaXJlLWRvY3VtZW50LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00saUNBQWlDLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9kaWFsb2ctYmlyZS1kb2N1bWVudC9kaWFsb2ctYmlyZS1kb2N1bWVudC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICA6Om5nLWRlZXAgLmZvcm0tY29udHJvbC5mb3JtLWNvbnRyb2wtd2l0aC1tb2RhbCB7XHJcbiAgICBpbnB1dC5hdy1pbnB1dCB7XHJcbiAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDAgIWltcG9ydGFudDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { GenericPropertyConstants } from '../../constants/generic-property-constants';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { SessionService } from '../../services/session.service';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { FileUtils } from '../../utils/file-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-bire-document',\r\n  templateUrl: './dialog-bire-document.component.html',\r\n  styleUrls: ['./dialog-bire-document.component.scss']\r\n})\r\nexport class DialogBireDocumentComponent implements OnInit {\r\n  @Input()\r\n  public get display() {\r\n    return this.displayValue;\r\n  }\r\n  public set display(displayValue) {\r\n    this.displayValue = displayValue;\r\n    this.displayChange.emit(this.displayValue);\r\n  }\r\n\r\n  @Output() public displayChange: EventEmitter<boolean>;\r\n\r\n  @Input() public document: BireDocumentDTO;\r\n  @Input() public isReadOnlyForm: boolean;\r\n  @Output() public onValidated: EventEmitter<BireDocumentDTO>;\r\n\r\n  public readonly componentId: string;\r\n\r\n  public displayValue: boolean;\r\n  public types: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    public readonly sessionService: SessionService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    this.componentId = 'DialogDocumentComponent';\r\n\r\n    this.displayChange = new EventEmitter<boolean>();\r\n    this.onValidated = new EventEmitter<BireDocumentDTO>();\r\n\r\n    this.loadTypes();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    if (!this.document) {\r\n      this.document = {};\r\n    } else {\r\n      this.document = { ...this.document };\r\n    }\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.document);\r\n    this.display = false;\r\n  }\r\n\r\n  private loadTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.DOC_PARTNER_CATEGORY_MAP).subscribe(\r\n      (results) => {\r\n        this.types = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.componentId + '.errorOnGetTypes');\r\n      }\r\n    );\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (event.files) {\r\n      const file: File = event.files[0];\r\n      FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n        if (fileContent) {\r\n          this.document.docFile = fileContent;\r\n          this.document.docName = file.name;\r\n          this.document.docPublicationDate = new Date();\r\n        }\r\n      });\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public isValidateEnabled() {\r\n    return this.document.docName;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogBireDocumentComponent } from './dialog-bire-document.component';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [CalendarModule, InputTextareaModule, TableModule, FileUploadModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogBireDocumentComponent];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ]\r\n})\r\nexport class DialogBireDocumentModule {}\r\n"],"sourceRoot":""}