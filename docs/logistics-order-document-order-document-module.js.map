{"version":3,"sources":["webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./node_modules/primeng/fileupload.js","webpack:///./node_modules/primeng/inputtextarea.js","webpack:///./node_modules/primeng/message.js","webpack:///./node_modules/primeng/radiobutton.js","webpack:///./node_modules/primeng/splitbutton.js","webpack:///./src/app/main/logistics/order-document/dialog-business-partner-bido-document/dialog-business-partner-bido-document.component.html","webpack:///./src/app/main/logistics/order-document/dialog-business-partner-bido-document/dialog-business-partner-bido-document.component.ts","webpack:///./src/app/main/logistics/order-document/dialog-material-and-services/dialog-material-and-services.component.html","webpack:///./src/app/main/logistics/order-document/dialog-material-and-services/dialog-material-and-services.component.ts","webpack:///./src/app/main/logistics/order-document/form/order-document-form.component.html","webpack:///./src/app/main/logistics/order-document/form/order-document-form.component.scss","webpack:///./src/app/main/logistics/order-document/form/order-document-form.component.ts","webpack:///./src/app/main/logistics/order-document/order-document.module.ts","webpack:///./src/app/main/logistics/order-document/search/order-document-search.component.html","webpack:///./src/app/main/logistics/order-document/search/order-document-search.component.scss","webpack:///./src/app/main/logistics/order-document/search/order-document-search.component.ts","webpack:///./src/app/shared/utils/file-utils.ts","webpack:///./src/app/shared/utils/label-value-utils.ts"],"names":[],"mappings":"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","file":"logistics-order-document-order-document-module.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;return b.open(\"HEAD\",a,!1),b.send(),200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/fileupload/fileupload\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/inputtextarea/inputtextarea\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/message/message\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/radiobutton/radiobutton\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/splitbutton/splitbutton\"));","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docName\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"100\\\"\\r\\n          [(ngModel)]=\\\"document.documentName\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docDescription\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <textarea\\r\\n          class=\\\"aw-textarea\\\"\\r\\n          pInputTextarea\\r\\n          [rows]=\\\"3\\\"\\r\\n          [(ngModel)]=\\\"document.documentDescription\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n          maxlength=\\\"300\\\"\\r\\n        ></textarea>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"validate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { BidtDocumentDTO } from '../../../../shared/types/api-types/bidt-document-dto.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-business-partner-bido-document',\r\n  templateUrl: './dialog-business-partner-bido-document.component.html'\r\n})\r\nexport class DialogBusinessPartnerBidoDocumentComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public document: BidtDocumentDTO;\r\n  @Input()\r\n  public openMode: ComponentOpenMode;\r\n  @Input()\r\n  public types: SelectItem[];\r\n  @Output()\r\n  public onValidated: EventEmitter<BidtDocumentDTO>;\r\n\r\n  public constructor(public sessionService: SessionService) {\r\n    super(ComponentOpenMode.Read, 'DialogOrderDocBidtDocumentComponent');\r\n\r\n    this.displayChange = new EventEmitter<boolean>();\r\n    this.onValidated = new EventEmitter<BidtDocumentDTO>();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.updateOpenMode(this.openMode);\r\n\r\n    if (!this.document) {\r\n      this.document = {};\r\n    }\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.document);\r\n    this.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".material\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: !newObj }\\\">\\r\\n        <div class=\\\"form-control-data\\\" (click)=\\\"openMaterialDialog()\\\">\\r\\n          {{ obj.pnText }}\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"obj.pnText && newObj\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n          <i\\r\\n            class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n            aria-hidden=\\\"true\\\"\\r\\n            (click)=\\\"obj.pnText = undefined\\\"\\r\\n          ></i>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"newObj\\\" class=\\\"btn-search-wrapper\\\">\\r\\n          <i\\r\\n            *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n            class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n            aria-hidden=\\\"true\\\"\\r\\n            (click)=\\\"openMaterialDialog()\\\"\\r\\n          ></i>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!!obj.pnText && snVisibility\\\" class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".serialNumber\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"obj.serialNumber\\\" maxlength=\\\"50\\\" [disabled]=\\\"isReadOnlyForm\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!!obj.pnText && bnVisibility\\\" class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".batchNumber\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"obj.batchNumber\\\" maxlength=\\\"50\\\" [disabled]=\\\"isReadOnlyForm\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!!obj.pnText\\\" class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".quantity\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          pKeyFilter=\\\"int\\\"\\r\\n          maxlength=\\\"37\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"obj.quantity\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"!!obj.pnText\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".warehouse\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-dropdown\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          [options]=\\\"warehouses\\\"\\r\\n          [(ngModel)]=\\\"obj.warehouse\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n          [showClear]=\\\"true\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"!!obj.pnText\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".partStatus\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"obj.partStatus\\\" disabled />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"category !== '2-req'\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".price\\\" | translate }} ({{ localCurrency }})</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          #price=\\\"ngModel\\\"\\r\\n          type=\\\"text\\\"\\r\\n          [pKeyFilter]=\\\"inputValidationService.validatorOfMoney()\\\"\\r\\n          [pValidateOnly]=\\\"true\\\"\\r\\n          maxlength=\\\"37\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"obj.price\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n        />\\r\\n        <p-message\\r\\n          *ngIf=\\\"price.invalid && (price.dirty || price.touched)\\\"\\r\\n          severity=\\\"error\\\"\\r\\n          [text]=\\\"inputValidationService.formatOfMoney()\\\"\\r\\n        ></p-message>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"category !== '2-req'\\\">\\r\\n      <label class=\\\"form-label\\\"\\r\\n        >{{ getComponentName() + \\\".productionLeadTime\\\" | translate }} ({{\\r\\n          getComponentName() + \\\".days\\\" | translate\\r\\n        }})</label\\r\\n      >\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          pKeyFilter=\\\"int\\\"\\r\\n          maxlength=\\\"10\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"obj.productionLeadTime\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".byQuotation\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-checkbox\\r\\n          class=\\\"aw-checkbox\\\"\\r\\n          binary=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"obj.byQuotation\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n        ></p-checkbox>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\" *ngIf=\\\"category !== '2-req'\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".discountPercent\\\" | translate }} (%)</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          pKeyFilter=\\\"int\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"obj.discountPercent\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span *ngIf=\\\"!isReadOnlyForm\\\">{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n      <span *ngIf=\\\"isReadOnlyForm\\\">{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"associate()\\\"\\r\\n      [disabled]=\\\"!obj.pnText\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-material\\r\\n  *ngIf=\\\"showQuickSearchMaterialPopup\\\"\\r\\n  [(display)]=\\\"showQuickSearchMaterialPopup\\\"\\r\\n  [material-code]=\\\"pnCode\\\"\\r\\n  (onSelected)=\\\"setSelectedMaterial($event)\\\"\\r\\n></aw-dialog-search-material>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { InputValidationService } from '../../../../shared/services/input-validation.service';\r\nimport { MaterialAndServicesOutput } from '../../../../shared/types/api-output-types/bidt-purchase-request/material-and-services-output.interface';\r\nimport { BirePnDTOId } from '../../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { OrderDocumentFormService } from '../form/order-document-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-material-and-services',\r\n  templateUrl: './dialog-material-and-services.component.html'\r\n})\r\nexport class DialogMaterialAndServicesComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public category: string;\r\n\r\n  @Input()\r\n  public obj: MaterialAndServicesOutput;\r\n\r\n  @Output()\r\n  public displayChange: EventEmitter<boolean>;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Input()\r\n  public newObj: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<MaterialAndServicesOutput>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<MaterialAndServicesOutput>;\r\n\r\n  public byQuotation: boolean | undefined;\r\n  public showQuickSearchMaterialPopup: boolean;\r\n\r\n  public warehouses: LabelValue<string>[];\r\n\r\n  public pnCode: string | undefined;\r\n\r\n  public snVisibility: boolean;\r\n  public bnVisibility: boolean;\r\n\r\n  public localCurrency?: string;\r\n\r\n  public constructor(\r\n    public inputValidationService: InputValidationService,\r\n    private readonly orderDocumentFormService: OrderDocumentFormService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogMaterialAndServicesComponent');\r\n\r\n    this.init();\r\n    this.getLocalCurrency();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (!this.obj) {\r\n      this.obj = {\r\n        price: 0,\r\n        quantity: 0,\r\n        productionLeadTime: 0,\r\n        discountPercent: 0,\r\n        bidtStockMvtDTO: {}\r\n      };\r\n      this.pnCode = undefined;\r\n    } else {\r\n      this.pnCode = !!this.obj.bidtStockMvtDTO ? this.obj.bidtStockMvtDTO.birePnPnCode : undefined;\r\n      if (!!this.pnCode) {\r\n        this.setSnBnVisibility(this.pnCode);\r\n        this.loadWarehouses();\r\n      }\r\n    }\r\n  }\r\n\r\n  private init(): void {\r\n    this.byQuotation = undefined;\r\n    this.showQuickSearchMaterialPopup = false;\r\n    this.warehouses = [];\r\n    this.onCreate = new EventEmitter<MaterialAndServicesOutput>();\r\n    this.onUpdate = new EventEmitter<MaterialAndServicesOutput>();\r\n    this.snVisibility = false;\r\n    this.bnVisibility = false;\r\n    this.localCurrency = undefined;\r\n  }\r\n\r\n  public openMaterialDialog() {\r\n    if (this.newObj) {\r\n      this.showQuickSearchMaterialPopup = true;\r\n    }\r\n  }\r\n\r\n  public setSelectedMaterial(selectedObject: BirePnDTO) {\r\n    if (selectedObject) {\r\n      this.obj.pnText = selectedObject.pnCode;\r\n      this.obj.materialName = selectedObject.articleDesignation;\r\n      this.pnCode = selectedObject.pnCode;\r\n      if (!!this.obj.bidtStockMvtDTO) {\r\n        this.obj.bidtStockMvtDTO.birePnPnCode = selectedObject.pnCode;\r\n      }\r\n      if (!!this.pnCode) {\r\n        this.setSnBnVisibility(this.pnCode);\r\n      }\r\n      this.loadWarehouses();\r\n    }\r\n    this.showQuickSearchMaterialPopup = false;\r\n  }\r\n\r\n  private loadWarehouses(): void {\r\n    if (!!this.pnCode) {\r\n      this.orderDocumentFormService.displayWarehouse(this.pnCode).subscribe((results) => {\r\n        this.warehouses = results || [];\r\n        if (!this.newObj && !!this.obj.warehouse) {\r\n          this.obj.warehouse = this.warehouses.filter((ware) => ware.label === this.obj.warehouse)[0].value;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public associate(): void {\r\n    this.updateBidtStockMvtDTO();\r\n    if (this.newObj) {\r\n      this.onCreate.emit(this.obj);\r\n      this.display = false;\r\n    } else {\r\n      this.onUpdate.emit(this.obj);\r\n      this.display = false;\r\n    }\r\n  }\r\n\r\n  private setSnBnVisibility(pnCode: string): void {\r\n    const input: BirePnDTOId = {\r\n      pnCode\r\n    };\r\n    this.orderDocumentFormService.findBirePn(input).subscribe((result) => {\r\n      if (\r\n        !!result &&\r\n        (AWPropertiesConstants.PN_TRACEABILITY_BY_SN === result.traceability ||\r\n          AWPropertiesConstants.PN_TRACEABILITY_BY_PACKAGING_BATCH_AND_SN === result.traceability)\r\n      ) {\r\n        this.snVisibility = true;\r\n      }\r\n\r\n      if (\r\n        !!result &&\r\n        (AWPropertiesConstants.PN_TRACEABILITY_BY_BATCH === result.traceability ||\r\n          AWPropertiesConstants.PN_TRACEABILITY_BY_PACKAGING_BATCH_AND_SN === result.traceability)\r\n      ) {\r\n        this.bnVisibility = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateBidtStockMvtDTO(): void {\r\n    if (!!this.obj.bidtStockMvtDTO) {\r\n      this.obj.bidtStockMvtDTO = {\r\n        birePnPnCode: this.pnCode,\r\n        stockMvtSn: this.obj.serialNumber,\r\n        stockMvtBatchNumber: this.obj.batchNumber,\r\n        numberOfDays: this.obj.productionLeadTime === 0 ? undefined : this.obj.productionLeadTime,\r\n        id: this.obj.id\r\n      };\r\n      if (!!this.obj.quantity) {\r\n        this.obj.bidtStockMvtDTO.stockMvtQuantity = `${this.obj.quantity}`;\r\n      }\r\n      if (!!this.obj.price) {\r\n        this.obj.bidtStockMvtDTO.priceValue = `${this.obj.price}`;\r\n      }\r\n      if (!!this.obj.warehouse) {\r\n        const radix = 10;\r\n        this.obj.bidtStockMvtDTO.bidtWarehouseId = Number.parseInt(this.obj.warehouse, radix);\r\n        this.obj.warehouse = this.warehouses.filter((ware) => ware.value === this.obj.warehouse)[0].label;\r\n      }\r\n      if (!!this.obj.discountPercent) {\r\n        this.obj.bidtStockMvtDTO.discountPercentValue = `${this.obj.discountPercent}`;\r\n      }\r\n      if (!!this.obj.byQuotation) {\r\n        this.obj.bidtStockMvtDTO.byQuotation = this.obj.byQuotation ? 1 : 0;\r\n      }\r\n      if (this.obj.bidtStockMvtDTO.id === null || this.obj.bidtStockMvtDTO.id === undefined) {\r\n        this.obj.bidtStockMvtDTO.id = Math.random();\r\n      }\r\n      this.obj.currency = this.localCurrency;\r\n      this.obj.totalPrice = 0;\r\n      this.obj.discountValue = 0;\r\n      this.obj.priceAfterDiscount = 0;\r\n      this.obj.productionLeadTime = this.obj.productionLeadTime === 0 ? undefined : this.obj.productionLeadTime;\r\n    }\r\n  }\r\n\r\n  private getLocalCurrency(): void {\r\n    this.orderDocumentFormService.getLocalCurrency().subscribe((res) => {\r\n      this.localCurrency = res;\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<aw-component-sidebar\\r\\n  *ngIf=\\\"!isCreateOpenMode\\\"\\r\\n  [toc]=\\\"toc\\\"\\r\\n  [(visibility)]=\\\"rightSidebarVisibility\\\"\\r\\n  [ngClass]=\\\"{ collapsed: rightSidebarCollapsed, expanded: rightSidebarExpanded }\\\"\\r\\n></aw-component-sidebar>\\r\\n\\r\\n<div class=\\\"page-header-container\\\">\\r\\n  <div class=\\\"page-context\\\">\\r\\n    <div class=\\\"page-title-container\\\">\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-secondary-actions\\\">\\r\\n        <i\\r\\n          *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\"\\r\\n          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n          [ngClass]=\\\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          (click)=\\\"updateFavoriteState()\\\"\\r\\n          pTooltip=\\\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-subtitle-container\\\">\\r\\n      <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n        {{ pageSubtitle }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-primary-actions\\\">\\r\\n    <p-splitButton\\r\\n      *ngIf=\\\"\\r\\n        mainData.prCategory !== awPropertiesConstants.PURCHASE_CATEGORY_CONTRACT &&\\r\\n        goodsMovementNameVisible() &&\\r\\n        materialsAndServicesTable.length > 0\\r\\n      \\\"\\r\\n      class=\\\"aw-split-btn aw-table-action\\\"\\r\\n      label=\\\"{{ getComponentName() + '.navigate' | translate }}\\\"\\r\\n      [model]=\\\"navigationLinkList\\\"\\r\\n    ></p-splitButton>\\r\\n\\r\\n    <button *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"reloadOrderDoc()\\\">\\r\\n      {{ \\\"global.refresh\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"editOrderDoc()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancelOrderDoc()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"saveOrderDoc()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div #mainInformationAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry(component.MAIN_ANCHOR_ID)\\\">\\r\\n          <div\\r\\n            class=\\\"grid-cell grid-cell--container\\\"\\r\\n            [ngClass]=\\\"{ active: !isCreateOpenMode && isPageTocEntrySelected(component.MAIN_ANCHOR_ID) }\\\"\\r\\n          >\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"form-group flex--2\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".prCode\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" disabled [(ngModel)]=\\\"mainData.prCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--2\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".prName\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input\\r\\n                    type=\\\"text\\\"\\r\\n                    class=\\\"aw-input\\\"\\r\\n                    [(ngModel)]=\\\"mainData.prName\\\"\\r\\n                    maxlength=\\\"100\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--2\\\">\\r\\n                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".prDescription\\\" | translate }}</label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <textarea\\r\\n                    pInputTextarea\\r\\n                    [rows]=\\\"3\\\"\\r\\n                    class=\\\"aw-textarea\\\"\\r\\n                    maxlength=\\\"40\\\"\\r\\n                    [(ngModel)]=\\\"mainData.prDescription\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                  ></textarea>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"form-group flex--2\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".prCategory\\\" | translate }}</label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    [disabled]=\\\"!isCreateOpenMode\\\"\\r\\n                    [options]=\\\"categoryOptions\\\"\\r\\n                    [(ngModel)]=\\\"mainData.prCategory\\\"\\r\\n                    (onChange)=\\\"loadTypeOptions()\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--2\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".prType\\\" | translate }}</label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    [disabled]=\\\"!isCreateOpenMode\\\"\\r\\n                    [options]=\\\"typeOptions\\\"\\r\\n                    [(ngModel)]=\\\"mainData.prType\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--2\\\">\\r\\n                <label *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"form-label\\\">{{\\r\\n                  componentData.componentId + \\\".prStatus\\\" | translate\\r\\n                }}</label>\\r\\n\\r\\n                <div *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    [options]=\\\"statusOptions\\\"\\r\\n                    [(ngModel)]=\\\"mainData.prStatus\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div\\r\\n          #additionalInformationAnchor\\r\\n          class=\\\"grid-cell--12\\\"\\r\\n          (click)=\\\"selectPageTocEntry(component.ADDITIONAL_ANCHOR_ID)\\\"\\r\\n        >\\r\\n          <div\\r\\n            class=\\\"grid-cell grid-cell--container\\\"\\r\\n            [ngClass]=\\\"{ active: !isCreateOpenMode && isPageTocEntrySelected(component.ADDITIONAL_ANCHOR_ID) }\\\"\\r\\n          >\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.additionalData\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"advanced-criteria\\\" style=\\\"background-color:white\\\">\\r\\n                  <div class=\\\"grid-row\\\">\\r\\n                    <div class=\\\"grid-cell--3\\\">\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">\\r\\n                            {{ componentData.componentId + \\\".superiorDocument\\\" | translate }}\\r\\n                          </h4>\\r\\n                          <div class=\\\"section-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".code\\\" | translate }}</label>\\r\\n\\r\\n                                <div\\r\\n                                  class=\\\"form-control form-control-with-modal\\\"\\r\\n                                  [ngClass]=\\\"{ disabled: isReadOpenMode }\\\"\\r\\n                                >\\r\\n                                  <div class=\\\"form-control-data\\\" (click)=\\\"!isReadOpenMode && searchSuperiorDocument()\\\">\\r\\n                                    {{ mainData.superiorDocument }}\\r\\n                                  </div>\\r\\n\\r\\n                                  <!-- <div *ngIf=\\\"mainData.superiorDocument\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                                    <i\\r\\n                                      class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"mainData.superiorDocument = undefined\\\"\\r\\n                                    ></i>\\r\\n                                  </div> -->\\r\\n                                  <div class=\\\"btn-search-wrapper\\\">\\r\\n                                    <i\\r\\n                                      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                      class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"searchSuperiorDocument()\\\"\\r\\n                                    ></i>\\r\\n                                  </div>\\r\\n                                  <div *ngIf=\\\"!!mainData.superiorDocument\\\" class=\\\"btn-search-wrapper\\\">\\r\\n                                    <i\\r\\n                                      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                      class=\\\"fa fa-fw fa-external-link aw-icon aw-icon-with-border\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"goToDocument(superiorId)\\\"\\r\\n                                    ></i>\\r\\n                                  </div>\\r\\n                                  <div *ngIf=\\\"!!mainData.superiorDocument\\\" class=\\\"btn-search-wrapper\\\">\\r\\n                                    <i\\r\\n                                      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                      class=\\\"fa fa-fw fa-trash aw-icon\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"\\r\\n                                        mainData.superiorDocument = undefined;\\r\\n                                        mainData.bidtPurchaseRequestId = undefined;\\r\\n                                        superiorId = undefined\\r\\n                                      \\\"\\r\\n                                    ></i>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-row\\\">\\r\\n                    <div class=\\\"grid-cell--3\\\">\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".dates\\\" | translate }}</h4>\\r\\n                          <div class=\\\"grid-cell-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".creationDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"mainData.prCreationDate\\\"\\r\\n                                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div\\r\\n                              *ngIf=\\\"mainData.prCategory === awPropertiesConstants.PURCHASE_CATEGORY_ORDER\\\"\\r\\n                              class=\\\"row\\\"\\r\\n                            >\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".receptionDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"mainData.prReceptionDate\\\"\\r\\n                                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div\\r\\n                              *ngIf=\\\"\\r\\n                                mainData.prCategory === awPropertiesConstants.PURCHASE_CATEGORY_CONTRACT ||\\r\\n                                mainData.prCategory === awPropertiesConstants.PURCHASE_CATEGORY_QUOTATION\\r\\n                              \\\"\\r\\n                              class=\\\"row\\\"\\r\\n                            >\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".startDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"mainData.prStartDate\\\"\\r\\n                                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div\\r\\n                              *ngIf=\\\"\\r\\n                                mainData.prCategory === awPropertiesConstants.PURCHASE_CATEGORY_CONTRACT ||\\r\\n                                mainData.prCategory === awPropertiesConstants.PURCHASE_CATEGORY_QUOTATION\\r\\n                              \\\"\\r\\n                              class=\\\"row\\\"\\r\\n                            >\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".endDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"mainData.prEndDate\\\"\\r\\n                                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-cell--3\\\">\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".supplier\\\" | translate }}</h4>\\r\\n                          <div class=\\\"section-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".supplier\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-dropdown\\r\\n                                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                    [showClear]=\\\"true\\\"\\r\\n                                    placeholder=\\\"&nbsp;\\\"\\r\\n                                    [options]=\\\"codeOptions\\\"\\r\\n                                    [(ngModel)]=\\\"mainData.bidoCustomerCustomerCode\\\"\\r\\n                                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                  ></p-dropdown>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\"\\r\\n                                  >{{ componentData.componentId + \\\".docNo\\\" | translate }}&#176;</label\\r\\n                                >\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <input\\r\\n                                    type=\\\"text\\\"\\r\\n                                    class=\\\"aw-input\\\"\\r\\n                                    [(ngModel)]=\\\"mainData.supplierDocumentNumber\\\"\\r\\n                                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                                    maxlength=\\\"50\\\"\\r\\n                                  />\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div\\r\\n                      *ngIf=\\\"mainData.prCategory !== awPropertiesConstants.PURCHASE_CATEGORY_REQUEST\\\"\\r\\n                      class=\\\"grid-cell--3\\\"\\r\\n                    >\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".price\\\" | translate }}</h4>\\r\\n                          <div class=\\\"section-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".price\\\" | translate }}</label>\\r\\n\\r\\n                                <div *ngIf=\\\"!isReadOpenMode\\\" class=\\\"form-control form-control-with-btn\\\">\\r\\n                                  <input\\r\\n                                    type=\\\"text\\\"\\r\\n                                    class=\\\"aw-input\\\"\\r\\n                                    [(ngModel)]=\\\"mainData.prPriceValue\\\"\\r\\n                                    [disabled]=\\\"disablePrice\\\"\\r\\n                                    maxlength=\\\"37\\\"\\r\\n                                    pKeyFilter=\\\"int\\\"\\r\\n                                  />\\r\\n                                  <i\\r\\n                                    *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                    class=\\\"fa fa-fw fa-pencil aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                                    aria-hidden=\\\"true\\\"\\r\\n                                    (click)=\\\"disablePrice = false\\\"\\r\\n                                    pTooltip=\\\"{{ componentData.componentId + '.editPrice' | translate }}\\\"\\r\\n                                  ></i>\\r\\n                                  <i\\r\\n                                    *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                                    aria-hidden=\\\"true\\\"\\r\\n                                    (click)=\\\"resetPrice()\\\"\\r\\n                                    pTooltip=\\\"{{ componentData.componentId + '.resetPrice' | translate }}\\\"\\r\\n                                  ></i>\\r\\n                                </div>\\r\\n\\r\\n                                <div style=\\\"padding-top: 10px\\\" class=\\\"form-control\\\" *ngIf=\\\"isReadOpenMode\\\">\\r\\n                                  {{ mainData.prPriceValue }}\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">\\r\\n                                  {{ componentData.componentId + \\\".currency\\\" | translate }}\\r\\n                                </label>\\r\\n\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <input type=\\\"text\\\" class=\\\"aw-input\\\" disabled [(ngModel)]=\\\"mainData.prPriceUnit\\\" />\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div #msAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry(component.MS_ANCHOR_ID)\\\">\\r\\n          <div\\r\\n            class=\\\"grid-cell grid-cell--container\\\"\\r\\n            [ngClass]=\\\"{ active: isPageTocEntrySelected(component.MS_ANCHOR_ID) }\\\"\\r\\n          >\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ componentData.componentId + \\\".materialsAndServices\\\" | translate }} ({{\\r\\n                    materialsAndServicesTable ? materialsAndServicesTable.length : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                #pTableMaterialsAndServices\\r\\n                class=\\\"aw-table2\\\"\\r\\n                [columns]=\\\"msTableCols\\\"\\r\\n                [value]=\\\"materialsAndServicesTable\\\"\\r\\n                [(selection)]=\\\"selectedMaterials\\\"\\r\\n                [scrollable]=\\\"true\\\"\\r\\n                dataKey=\\\"_dataKey\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isMaterialAndServicesTableLoading\\\">&nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isMaterialAndServicesTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedMaterials.length > 0 }\\\">\\r\\n                    <div class=\\\"aw-table-global-filter\\\">\\r\\n                      <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                        <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </label>\\r\\n\\r\\n                      <input\\r\\n                        #ptableDecompositionGlobalFilter\\r\\n                        type=\\\"text\\\"\\r\\n                        class=\\\"aw-table-global-filter-input\\\"\\r\\n                        placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                        (input)=\\\"pTableMaterialsAndServices.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"aw-table-actions\\\">\\r\\n                      <!-- <button\\r\\n                        *ngIf=\\\"logisticVisibility() && !isReadOpenMode && selectedMaterials.length === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"goToStockMovements()\\\"\\r\\n                      >\\r\\n                        {{ componentData.componentId + \\\".stockMovements\\\" | translate }}\\r\\n                      </button> -->\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"\\r\\n                          !isReadOpenMode && materialsAndServicesTable.length > 0 && mainData.bidoCustomerCustomerCode\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"updateConditions()\\\"\\r\\n                      >\\r\\n                        {{ componentData.componentId + \\\".updateConditions\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && selectedMaterials.length > 0\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"deleteMaterials()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"\\r\\n                          mainData.prCategory !== awPropertiesConstants.PURCHASE_CATEGORY_CONTRACT &&\\r\\n                          selectedMaterials.length === 0 &&\\r\\n                          goodsMovementNameVisible() &&\\r\\n                          materialsAndServicesTable.length > 0\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"goToGoodsMovement()\\\"\\r\\n                      >\\r\\n                        {{ componentData.componentId + \\\".goToGoodsMovement\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"\\r\\n                          selectedMaterials.length === 0 &&\\r\\n                          subcontractingMovementsVisible() &&\\r\\n                          materialsAndServicesTable.length > 0\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createSubcontractingMovements()\\\"\\r\\n                      >\\r\\n                        {{ componentData.componentId + \\\".createSubcontractingMovements\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && selectedMaterials.length === 0\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createMaterial()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && selectedMaterials.length === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editMaterial()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"selectedMaterials.length === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openMaterial()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col *ngIf=\\\"!isReadOpenMode\\\" class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    <col class=\\\"row-expand-wrapper\\\" />\\r\\n                    <col class=\\\"row-action-wrapper\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th *ngIf=\\\"!isReadOpenMode\\\" class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                    </th>\\r\\n\\r\\n                    <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                    <th class=\\\"row-expand-wrapper\\\"></th>\\r\\n                    <th class=\\\"row-action-wrapper\\\"></th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td *ngIf=\\\"!isReadOpenMode\\\" class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                    </td>\\r\\n\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <span *ngSwitchCase=\\\"'pnText'\\\">\\r\\n                        <a (click)=\\\"goToMaterial(rowData)\\\">\\r\\n                          <span title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span>\\r\\n                        </a>\\r\\n                      </span>\\r\\n\\r\\n                      <a *ngSwitchCase=\\\"'serialNumber'\\\" (click)=\\\"openEquipmentForm(rowData)\\\">\\r\\n                        <span>{{ rowData[col.field] }}</span>\\r\\n                      </a>\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'warehouse'\\\">\\r\\n                        <span title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span>\\r\\n                      </span>\\r\\n\\r\\n                      <a *ngSwitchCase=\\\"'consecutiveDocument'\\\" (click)=\\\"openConsecutiveDocument(rowData)\\\">\\r\\n                        <span title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span>\\r\\n                      </a>\\r\\n\\r\\n                      <span *ngSwitchDefault>{{ rowData[col.field] }}</span>\\r\\n                    </td>\\r\\n\\r\\n                    <td class=\\\"row-expand-wrapper\\\" [pRowToggler]=\\\"rowData\\\">\\r\\n                      <i\\r\\n                        class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                        [ngClass]=\\\"rowData._expand ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                        aria-hidden=\\\"true\\\"\\r\\n                        pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                        tooltipPosition=\\\"top\\\"\\r\\n                        (click)=\\\"toggleMaterialAndServicesExpand(rowData)\\\"\\r\\n                      ></i>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n                  <tr class=\\\"row-expanded\\\" *ngIf=\\\"rowData._expand\\\">\\r\\n                    <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                      <div *ngIf=\\\"mainData.prCategory !== awPropertiesConstants.PURCHASE_CATEGORY_REQUEST\\\" class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".price\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.price !== 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"rowData.price\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                            <input *ngIf=\\\"rowData.price === 'null'\\\" class=\\\"aw-input\\\" type=\\\"text\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".discountPercent\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.discountPercent !== 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"rowData.discountPercent\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                            <input *ngIf=\\\"rowData.discountPercent === 'null'\\\" class=\\\"aw-input\\\" type=\\\"text\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".discountValue\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.discountValue !== 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"rowData.discountValue\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                            <input *ngIf=\\\"rowData.discountValue === 'null'\\\" class=\\\"aw-input\\\" type=\\\"text\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".priceAfterDiscount\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.priceAfterDiscount !== 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"rowData.priceAfterDiscount\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.priceAfterDiscount === 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              disabled\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div *ngIf=\\\"mainData.prCategory !== awPropertiesConstants.PURCHASE_CATEGORY_CONTRACT\\\" class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".warehouse\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.warehouse !== 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"rowData.warehouse\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                            <input *ngIf=\\\"rowData.warehouse === 'null'\\\" class=\\\"aw-input\\\" type=\\\"text\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".partStatus\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.partStatus !== 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"rowData.partStatus\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                            <input *ngIf=\\\"rowData.partStatus === 'null'\\\" class=\\\"aw-input\\\" type=\\\"text\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".consecutiveDocument\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.consecutiveDocument !== 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              [(ngModel)]=\\\"rowData.consecutiveDocument\\\"\\r\\n                              [disabled]=\\\"true\\\"\\r\\n                            />\\r\\n                            <input\\r\\n                              *ngIf=\\\"rowData.consecutiveDocument === 'null'\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              disabled\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\"></div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div [hidden]=\\\"!mainData.prCode\\\" class=\\\"grid-row\\\">\\r\\n        <div #consecutiveAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry(component.CONSECUTIVE_ANCHOR_ID)\\\">\\r\\n          <div\\r\\n            *ngIf=\\\"mainData.prCode\\\"\\r\\n            class=\\\"grid-cell grid-cell--container\\\"\\r\\n            [ngClass]=\\\"{ active: isPageTocEntrySelected(component.CONSECUTIVE_ANCHOR_ID) }\\\"\\r\\n          >\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".consecutiveDocuments\\\" | translate }} ({{\\r\\n                    consecutiveDocumentsTable ? consecutiveDocumentsTable.length : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"enableDocumentCreation() && !isReadOpenMode\\\" class=\\\"grid-cell-content\\\" style=\\\"width: 50%\\\">\\r\\n              <div class=\\\"form-group flex--2\\\">\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"categoryOptions\\\"\\r\\n                    [(ngModel)]=\\\"consecutiveCategory\\\"\\r\\n                    (onChange)=\\\"loadConsecutiveTypeOptions()\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--2\\\">\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    [options]=\\\"consecutiveTypeOptions\\\"\\r\\n                    [(ngModel)]=\\\"consecutiveType\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--1\\\">\\r\\n                <button type=\\\"button\\\" mat-raised-button (click)=\\\"createConsecutiveDocuments()\\\">\\r\\n                  {{ componentData.componentId + \\\".createDocument\\\" | translate }}\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n              <div class=\\\"section\\\">\\r\\n                <div class=\\\"section-content\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <p-table\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #pTableConsecutiveDocuments\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"consecutiveDocumentsTableCols\\\"\\r\\n                      [value]=\\\"consecutiveDocumentsTable\\\"\\r\\n                      [(selection)]=\\\"selectedConsecutiveDocuments\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isConsecutiveDocumentsLoading\\\">&nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isConsecutiveDocumentsLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div\\r\\n                          class=\\\"aw-table-header\\\"\\r\\n                          [ngClass]=\\\"{ 'rows-selected': selectedConsecutiveDocuments.length > 0 }\\\"\\r\\n                        >\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableConsecutiveDocumentseGlobalFilter\\r\\n                              type=\\\"text\\\"\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"pTableConsecutiveDocuments.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button type=\\\"button\\\" mat-raised-button (click)=\\\"reloadConsecutiveDocuments()\\\">\\r\\n                              {{ \\\"global.reload\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          >\\r\\n                            <span *ngSwitchCase=\\\"'code'\\\">\\r\\n                              <a (click)=\\\"openSelectedDocuemnt(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                            </span>\\r\\n                            <span *ngSwitchDefault>{{ rowData[col.field] }}</span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div [hidden]=\\\"!mainData.prCode\\\" class=\\\"grid-row\\\">\\r\\n      <div #documentAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry(component.DOCUMENTS_ANCHOR_ID)\\\">\\r\\n        <div\\r\\n          class=\\\"grid-cell grid-cell--container\\\"\\r\\n          *ngIf=\\\"mainData.prCode\\\"\\r\\n          [ngClass]=\\\"{ active: isPageTocEntrySelected(component.DOCUMENTS_ANCHOR_ID) }\\\"\\r\\n        >\\r\\n          <div class=\\\"grid-cell-header\\\">\\r\\n            <div class=\\\"grid-cell-title-container\\\">\\r\\n              <h3 class=\\\"grid-cell-title\\\">\\r\\n                {{ \\\"global.documents\\\" | translate }}\\r\\n                ({{ documentTable ? documentTable.length : 0 }})\\r\\n              </h3>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-cell-content\\\">\\r\\n            <p-table\\r\\n              [resizableColumns]=\\\"true\\\"\\r\\n              #ptableDocument\\r\\n              class=\\\"aw-table2\\\"\\r\\n              [columns]=\\\"documentTableCols\\\"\\r\\n              [value]=\\\"documentTable\\\"\\r\\n              [(selection)]=\\\"selectedDocuments\\\"\\r\\n              dataKey=\\\"docName\\\"\\r\\n              [scrollable]=\\\"true\\\"\\r\\n            >\\r\\n              <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                <span *ngIf=\\\"!isLoadingDocumentTable\\\"> &nbsp;</span>\\r\\n\\r\\n                <div *ngIf=\\\"isLoadingDocumentTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                  <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                  <div class=\\\"lds-hourglass\\\"></div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"caption\\\">\\r\\n                <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedDocuments.length > 0 }\\\">\\r\\n                  <div class=\\\"aw-table-global-filter\\\">\\r\\n                    <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                      <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                    </label>\\r\\n\\r\\n                    <input\\r\\n                      #ptableDocumentGlobalFilter\\r\\n                      class=\\\"aw-table-global-filter-input\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                      (input)=\\\"ptableDocument.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                    />\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"aw-table-actions\\\">\\r\\n                    <button\\r\\n                      *ngIf=\\\"selectedDocuments.length > 0\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"downloadFiles()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.download\\\" | translate }}\\r\\n                    </button>\\r\\n\\r\\n                    <button\\r\\n                      *ngIf=\\\"!isReadOpenMode && selectedDocuments.length > 0\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      color=\\\"warn\\\"\\r\\n                      (click)=\\\"deleteDocuments()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.delete\\\" | translate }}\\r\\n                    </button>\\r\\n\\r\\n                    <button\\r\\n                      *ngIf=\\\"!isReadOpenMode && selectedDocuments.length === 1\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"editDocument()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.edit\\\" | translate }}\\r\\n                    </button>\\r\\n\\r\\n                    <button\\r\\n                      *ngIf=\\\"selectedDocuments.length === 1\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"openDocument()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.open\\\" | translate }}\\r\\n                    </button>\\r\\n\\r\\n                    <p-fileUpload\\r\\n                      #fileUploader\\r\\n                      *ngIf=\\\"!isReadOpenMode && selectedDocuments.length === 0\\\"\\r\\n                      class=\\\"aw-fileupload aw-table-action\\\"\\r\\n                      chooseLabel=\\\"{{ 'global.upload' | translate }}\\\"\\r\\n                      name=\\\"document[]\\\"\\r\\n                      customUpload=\\\"true\\\"\\r\\n                      mode=\\\"basic\\\"\\r\\n                      auto=\\\"true\\\"\\r\\n                      (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n                    ></p-fileUpload>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                <colgroup>\\r\\n                  <col class=\\\"aw-table-checkbox-wrapper\\\" [ngClass]=\\\"{ 'display--none': isReadOpenMode }\\\" />\\r\\n                  <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                </colgroup>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                <tr>\\r\\n                  <th class=\\\"aw-table-checkbox-wrapper\\\" [ngClass]=\\\"{ 'display--none': isReadOpenMode }\\\">\\r\\n                    <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                  </th>\\r\\n\\r\\n                  <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                  </th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                  <td class=\\\"aw-table-checkbox-wrapper\\\" [ngClass]=\\\"{ 'display--none': isReadOpenMode }\\\">\\r\\n                    <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                  </td>\\r\\n\\r\\n                  <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ rowData[col.field] }}\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </p-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-search-purchase-request\\r\\n  *ngIf=\\\"showQuickSearchPurchaseRequestPopup\\\"\\r\\n  [(display)]=\\\"showQuickSearchPurchaseRequestPopup\\\"\\r\\n  [pr-code]=\\\"mainData.superiorDocument\\\"\\r\\n  (onSelected)=\\\"setSelectedPurchaseRequest($event)\\\"\\r\\n></aw-dialog-search-purchase-request>\\r\\n\\r\\n<aw-dialog-business-partner-bido-document\\r\\n  *ngIf=\\\"showDocumentDialog\\\"\\r\\n  [(display)]=\\\"showDocumentDialog\\\"\\r\\n  [document]=\\\"currentDocument\\\"\\r\\n  [openMode]=\\\"documentDialogOpenMode\\\"\\r\\n  [types]=\\\"documentTypes\\\"\\r\\n  (onValidated)=\\\"onAddDocument($event)\\\"\\r\\n></aw-dialog-business-partner-bido-document>\\r\\n\\r\\n<aw-dialog-material-and-services\\r\\n  *ngIf=\\\"showDialogMaterialAndServices\\\"\\r\\n  [(display)]=\\\"showDialogMaterialAndServices\\\"\\r\\n  [obj]=\\\"currentMSObject\\\"\\r\\n  [isReadOnlyForm]=\\\"isReadOnlyPopup\\\"\\r\\n  [newObj]=\\\"isNewMSObject\\\"\\r\\n  [category]=\\\"mainData.prCategory\\\"\\r\\n  (onCreate)=\\\"addNewMS($event)\\\"\\r\\n  (onUpdate)=\\\"updateMS($event)\\\"\\r\\n></aw-dialog-material-and-services>\\r\\n\"","module.exports = \":host .table-border-left {\\n  border-left: solid 1px #006ea9 !important; }\\n\\n:host .read-only-price {\\n  border-bottom: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9sb2dpc3RpY3Mvb3JkZXItZG9jdW1lbnQvZm9ybS9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcbG9naXN0aWNzXFxvcmRlci1kb2N1bWVudFxcZm9ybVxcb3JkZXItZG9jdW1lbnQtZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLHlDQUF5QyxFQUFBOztBQUY3QztFQU1JLG1CQUFtQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9sb2dpc3RpY3Mvb3JkZXItZG9jdW1lbnQvZm9ybS9vcmRlci1kb2N1bWVudC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC50YWJsZS1ib3JkZXItbGVmdCB7XHJcbiAgICBib3JkZXItbGVmdDogc29saWQgMXB4ICMwMDZlYTkgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5yZWFkLW9ubHktcHJpY2Uge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep as _cloneDeep } from 'lodash-es';\r\nimport { MenuItem, SelectItem } from 'primeng/api';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { PageTocService } from '../../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { DisplayOrderDocumentInput } from '../../../../shared/types/api-input-types/bidt-purchase-request/display-order-document-input.interface';\r\nimport { SaveOrderDocumentDTO } from '../../../../shared/types/api-input-types/bidt-purchase-request/save-order-document-dto.interface';\r\nimport { ConsecutiveDocumentOutput } from '../../../../shared/types/api-output-types/bidt-purchase-request/consecutive-document-output.interface';\r\nimport { MaterialAndServicesOutput } from '../../../../shared/types/api-output-types/bidt-purchase-request/material-and-services-output.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidtDocumentDTO } from '../../../../shared/types/api-types/bidt-document-dto.interface';\r\nimport { BidtPurchaseRequestDTO } from '../../../../shared/types/api-types/bidt-purchase-request-dto.interface';\r\nimport { BidtStockMvtDTO } from '../../../../shared/types/api-types/bidt-stock-mvt-dto.interface';\r\nimport { BirePnDTOId } from '../../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { GoodsMovementInput } from '../../../../shared/types/component-input-types/logistics/goods-movement-input.interface';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { FileUtils } from '../../../../shared/utils/file-utils';\r\nimport { LabelValueUtils } from '../../../../shared/utils/label-value-utils';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { NumberUtils } from '../../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { CreateOrderDocumentFromStockAlert } from '../../shared/create-order-document-from-stock-alert.interface';\r\nimport { OrderDocumentSearchService } from '../search/order-document-search.service';\r\nimport { OrderDocumentRow } from '../shared/order-document-row.interface';\r\n\r\nimport { OrderDocumentFormService } from './order-document-form.service';\r\n\r\ninterface DocumentRow {\r\n  docName: string;\r\n  docExtension: string;\r\n  docSize: string;\r\n  docAttachmentDate: string;\r\n  docType: string;\r\n  id?: number;\r\n  _obj: BidtDocumentDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-order-document-form',\r\n  styleUrls: ['./order-document-form.component.scss'],\r\n  templateUrl: './order-document-form.component.html'\r\n})\r\nexport class OrderDocumentFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public static readonly MAIN_ANCHOR_ID: string = 'mainInformationAnchor';\r\n  public static readonly ADDITIONAL_ANCHOR_ID: string = 'additionalInformationAnchor';\r\n  public static readonly MS_ANCHOR_ID: string = 'msAnchor';\r\n  public static readonly CONSECUTIVE_ANCHOR_ID: string = 'consecutiveAnchor';\r\n  public static readonly DOCUMENTS_ANCHOR_ID: string = 'documentAnchor';\r\n\r\n  public readonly component: typeof OrderDocumentFormComponent;\r\n\r\n  public pageSubtitle: string;\r\n  public pageId: number | undefined;\r\n\r\n  public navigationLinkList: MenuItem[];\r\n\r\n  public mainData: BidtPurchaseRequestDTO;\r\n  public backupMainData: BidtPurchaseRequestDTO;\r\n  public categoryOptions: LabelValue<string>[];\r\n  public typeOptions: LabelValue<string>[];\r\n  public consecutiveTypeOptions: LabelValue<string>[];\r\n  public statusOptions: LabelValue<string>[];\r\n  public codeOptions: LabelValue<string>[];\r\n\r\n  public msTableCols1: TableColumn[];\r\n  public msTableCols2: TableColumn[];\r\n  public msTableCols: TableColumn[];\r\n  public materialsAndServicesTable: MaterialAndServicesOutput[];\r\n  public databaseMSTable: MaterialAndServicesOutput[];\r\n  public selectedMaterials: MaterialAndServicesOutput[];\r\n  public isMaterialAndServicesTableLoading: boolean;\r\n  public showDialogMaterialAndServices: boolean;\r\n  public currentMSObject: MaterialAndServicesOutput | undefined;\r\n  public selectedMSIndex?: number;\r\n  public isNewMSObject: boolean;\r\n  private bidtStockMvtRemoveList: number[];\r\n\r\n  public documentTable: DocumentRow[];\r\n  public documentTableCols: TableColumn[];\r\n  public documentTypes: SelectItem[];\r\n  public selectedDocuments: DocumentRow[];\r\n  public currentDocument: BidtDocumentDTO | undefined;\r\n  public documentDialogOpenMode: ComponentOpenMode;\r\n  public showDocumentDialog: boolean;\r\n  public isLoadingDocumentTable: boolean;\r\n\r\n  private documents: BidtDocumentDTO[];\r\n  private currentDocumentIndex: number;\r\n  private documentsAdded: BidtDocumentDTO[];\r\n  private documentsRemoved: BidtDocumentDTO[];\r\n  private documentsUpdated: BidtDocumentDTO[];\r\n  private documentDataRemoveList: number[];\r\n\r\n  public showQuickSearchPurchaseRequestPopup: boolean;\r\n\r\n  public consecutiveDocumentsTable: ConsecutiveDocumentOutput[];\r\n  public consecutiveDocumentsTableCols: TableColumn[];\r\n  public selectedConsecutiveDocuments: ConsecutiveDocumentOutput[];\r\n  public isConsecutiveDocumentsLoading: boolean;\r\n\r\n  public isReadOnlyPopup: boolean;\r\n\r\n  public consecutiveCategory?: string;\r\n  public consecutiveType?: string;\r\n\r\n  public showUPrices: boolean;\r\n  public hideUPrices: boolean;\r\n\r\n  public superiorId?: number;\r\n\r\n  public incomingPrice?: string;\r\n  public disablePrice: boolean;\r\n\r\n  public localCurrency?: string;\r\n\r\n  public awPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  // Table of content ***********************************************************\r\n\r\n  @ViewChild(OrderDocumentFormComponent.MAIN_ANCHOR_ID)\r\n  public mainInformationEltRef: ElementRef;\r\n\r\n  @ViewChild(OrderDocumentFormComponent.ADDITIONAL_ANCHOR_ID)\r\n  public additionalInformationEltRef: ElementRef;\r\n\r\n  @ViewChild(OrderDocumentFormComponent.MS_ANCHOR_ID)\r\n  public msEltRef: ElementRef;\r\n\r\n  @ViewChild(OrderDocumentFormComponent.CONSECUTIVE_ANCHOR_ID)\r\n  public consecutiveEltRef: ElementRef;\r\n\r\n  @ViewChild(OrderDocumentFormComponent.DOCUMENTS_ANCHOR_ID)\r\n  public documentTableEltRef: ElementRef;\r\n\r\n  public toc: PageTocEntry[];\r\n  public showSaveSpinner: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    pageTocService: PageTocService,\r\n    private readonly orderDocumentFormService: OrderDocumentFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly orderDocumentSearchService: OrderDocumentSearchService,\r\n    private readonly dateService: DateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly translateService: TranslateService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Write,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n\r\n    this.component = OrderDocumentFormComponent;\r\n    this.awPropertiesConstants = AWPropertiesConstants;\r\n\r\n    this.setNavigationLinkList();\r\n\r\n    this.registerPageTocEntryObservable();\r\n\r\n    this.init();\r\n    this.loadCategoryOptions();\r\n    this.loadStatusOptions();\r\n    this.loadCodeOptions();\r\n    this.setTableCols();\r\n    this.getLocalCurrency();\r\n\r\n    this.msTableCols = this.msTableCols1;\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.LOG_ORDER_DOCUMENT_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    if (!!this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n\r\n      this.setTableOfContent();\r\n\r\n      const pageContext = 'tab.createMode';\r\n\r\n      let receivedDocument: OrderDocumentRow | undefined;\r\n      let receivedStockAlert: CreateOrderDocumentFromStockAlert | undefined;\r\n      if (!!this.componentData.objectId) {\r\n        receivedDocument = this.serializationService.deserialize(this.componentData.objectId) as OrderDocumentRow;\r\n        this.pageId = !!receivedDocument._obj ? (receivedDocument._obj.id as number) : undefined;\r\n        if (!this.pageId) {\r\n          receivedStockAlert = this.serializationService.deserialize(\r\n            this.componentData.objectId\r\n          ) as CreateOrderDocumentFromStockAlert;\r\n\r\n          this.setPageContext(this.componentData.objectId);\r\n          this.pageSubtitle = pageContext;\r\n          this.displayComponentContext(pageContext, this.isCreateOpenMode);\r\n        }\r\n      }\r\n\r\n      if (!!this.pageId) {\r\n        this.loadOrderDoc();\r\n      } else if (!!receivedStockAlert) {\r\n        this.msTableCols = this.msTableCols1;\r\n        this.mainData.prCategory = AWPropertiesConstants.PURCHASE_CATEGORY_REQUEST;\r\n        this.mainData.prName = receivedStockAlert.orderName;\r\n        this.mainData.prDescription = receivedStockAlert.orderName;\r\n        this.mainData.prCreationDate = (new Date() as unknown) as number;\r\n        this.mainData.prStatus = this.mainData.prStatus || AWPropertiesConstants.PURCHASE_STATUS_OPEN;\r\n        this.loadTypeOptions();\r\n        const event: MaterialAndServicesOutput = {\r\n          pnText: receivedStockAlert.pnCode,\r\n          materialName: receivedStockAlert.materialName,\r\n          quantity: 1,\r\n          warehouse: receivedStockAlert.warehouse,\r\n          bidtStockMvtDTO: {\r\n            birePnPnCode: receivedStockAlert.pnCode,\r\n            bidtWarehouseId: receivedStockAlert.warehouseId\r\n          }\r\n        };\r\n        this.addNewMS(event);\r\n      } else {\r\n        this.mainData.prCreationDate = (new Date() as unknown) as number;\r\n        this.mainData.prPriceValue = '0';\r\n        this.incomingPrice = '0';\r\n      }\r\n    }\r\n\r\n    if (this.isCreateOpenMode) {\r\n      this.orderDocumentFormService.getLocalCurrency().subscribe((result) => {\r\n        this.mainData.prPriceUnit = result;\r\n      });\r\n    }\r\n  }\r\n\r\n  private setPageContext(objectId: string): string {\r\n    let supplierInfo: string[] = [];\r\n\r\n    supplierInfo =\r\n      !!this.componentData.objectId && !!this.serializationService.deserialize(this.componentData.objectId).supplier\r\n        ? this.serializationService.deserialize(this.componentData.objectId).supplier.split('-')\r\n        : [];\r\n\r\n    let context = '';\r\n\r\n    if (!!this.componentData.objectId && !!this.serializationService.deserialize(objectId).code) {\r\n      context = `${this.serializationService.deserialize(objectId).code}`;\r\n    }\r\n\r\n    if (!!objectId && !!this.serializationService.deserialize(objectId).category && context !== '') {\r\n      context = `${context} | ${this.serializationService.deserialize(objectId).category}`;\r\n    }\r\n\r\n    if (!!objectId && !!this.serializationService.deserialize(objectId).type && context !== '') {\r\n      context = `${context} | ${this.serializationService.deserialize(objectId).type}`;\r\n    }\r\n\r\n    if (supplierInfo.length !== 0 && context !== '') {\r\n      context = `${context} | ${supplierInfo[0]}`;\r\n    }\r\n\r\n    return context;\r\n  }\r\n\r\n  private init(): void {\r\n    this.pageSubtitle = '';\r\n    this.categoryOptions = [];\r\n    this.typeOptions = [];\r\n    this.statusOptions = [];\r\n    this.showQuickSearchPurchaseRequestPopup = false;\r\n    // this.materialsAndServicesTableCols = [];\r\n    // this.materialsAndServicesTableCols2 = [];\r\n    // this.materialsAndServicesTableCols3 = [];\r\n    // this.materialsAndServicesTableCols4 = [];\r\n    // this.materialsAndServicesTableCols5 = [];\r\n    this.msTableCols1 = [];\r\n    this.msTableCols2 = [];\r\n    this.msTableCols = [];\r\n    this.isMaterialAndServicesTableLoading = false;\r\n    this.showDocumentDialog = false;\r\n    this.isLoadingDocumentTable = false;\r\n    this.isConsecutiveDocumentsLoading = false;\r\n    this.showDialogMaterialAndServices = false;\r\n    this.isReadOnlyPopup = false;\r\n    this.consecutiveDocumentsTableCols = [];\r\n    this.localCurrency = undefined;\r\n    this.initAfterSave();\r\n  }\r\n\r\n  private initAfterSave(): void {\r\n    this.mainData = {};\r\n    this.backupMainData = {};\r\n    this.materialsAndServicesTable = [];\r\n    this.databaseMSTable = [];\r\n    this.selectedMaterials = [];\r\n    this.documentsAdded = [];\r\n    this.documentsRemoved = [];\r\n    this.documentsUpdated = [];\r\n    this.documents = [];\r\n    this.documentTable = [];\r\n    this.documentTypes = [];\r\n    this.selectedDocuments = [];\r\n    this.currentDocument = undefined;\r\n    this.currentDocumentIndex = -1;\r\n    this.documentDialogOpenMode = ComponentOpenMode.Read;\r\n    this.consecutiveDocumentsTable = [];\r\n    this.selectedConsecutiveDocuments = [];\r\n    this.currentMSObject = undefined;\r\n    this.selectedMSIndex = undefined;\r\n    this.isNewMSObject = false;\r\n    this.bidtStockMvtRemoveList = [];\r\n    this.documentDataRemoveList = [];\r\n    this.consecutiveTypeOptions = [];\r\n    this.showUPrices = true;\r\n    this.hideUPrices = false;\r\n    this.superiorId = undefined;\r\n    this.incomingPrice = undefined;\r\n    this.disablePrice = true;\r\n    this.consecutiveCategory = undefined;\r\n    this.consecutiveType = undefined;\r\n  }\r\n\r\n  private setNavigationLinkList(): void {\r\n    const goodsMovementKey = this.getTranslateKey('goodsMovement');\r\n    const stockMovementKey = this.getTranslateKey('stockMovement');\r\n    this.translateService.get([goodsMovementKey, stockMovementKey]).subscribe((results) => {\r\n      const goodsMovementLabel = results ? results[goodsMovementKey] : 'Goods Movements';\r\n\r\n      this.navigationLinkList = [\r\n        {\r\n          label: goodsMovementLabel,\r\n          command: () => {\r\n            this.goToGoodsMovement();\r\n          }\r\n        }\r\n      ];\r\n    });\r\n  }\r\n\r\n  public goToGoodsMovement(): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_GOODS_MOVEMENT_PURCHASE_REQUEST_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const input: GoodsMovementInput = {\r\n      purchaseRequestId: this.mainData.id\r\n    };\r\n    data.objectId = this.serializationService.serialize(input);\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private loadCategoryOptions(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PURCHASE_CATEGORY_MAP).subscribe((results) => {\r\n      this.categoryOptions = results || [];\r\n    });\r\n  }\r\n\r\n  public loadTypeOptions(): void {\r\n    this.mainData.prType = undefined;\r\n    this.fetchTypeDropdownData();\r\n  }\r\n\r\n  private fetchTypeDropdownData(): void {\r\n    if (!!this.mainData.prCategory) {\r\n      this.orderDocumentSearchService.findTypeBasedOnCategory(this.mainData.prCategory).subscribe((results) => {\r\n        this.typeOptions = results || [];\r\n      });\r\n    } else {\r\n      this.typeOptions = [];\r\n    }\r\n  }\r\n\r\n  public loadConsecutiveTypeOptions(): void {\r\n    if (!!this.consecutiveCategory) {\r\n      this.orderDocumentSearchService.findTypeBasedOnCategory(this.consecutiveCategory).subscribe((results) => {\r\n        this.consecutiveTypeOptions = results || [];\r\n      });\r\n    } else {\r\n      this.consecutiveTypeOptions = [];\r\n    }\r\n  }\r\n\r\n  private loadStatusOptions(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PURCHASE_STATUS_MAP).subscribe((results) => {\r\n      this.statusOptions = results || [];\r\n    });\r\n  }\r\n\r\n  private loadCodeOptions(): void {\r\n    this.orderDocumentSearchService.findBidoCustomerBySearchCriteriaOrder().subscribe((results) => {\r\n      this.codeOptions = results || [];\r\n    });\r\n  }\r\n\r\n  private loadOrderDoc(): void {\r\n    this.isMaterialAndServicesTableLoading = true;\r\n    this.isConsecutiveDocumentsLoading = true;\r\n    this.isLoadingDocumentTable = true;\r\n    if (!!this.pageId) {\r\n      this.orderDocumentFormService.getById(this.pageId).subscribe((result) => {\r\n        this.mainData = result.bidtPurchaseRequestDTO;\r\n        this.mainData.prStatus = this.mainData.prStatus || AWPropertiesConstants.PURCHASE_STATUS_OPEN;\r\n        this.fetchTypeDropdownData();\r\n        this.backupMainData = _cloneDeep(this.mainData);\r\n\r\n        this.setMSTableCols(this.mainData);\r\n\r\n        const componentData = this.serializationService.serialize(this.getOrderDocRow(result.bidtPurchaseRequestDTO));\r\n        this.componentData.objectId = componentData;\r\n        this.pageSubtitle = this.setPageContext(componentData);\r\n        this.displayComponentContext(this.pageSubtitle, this.isCreateOpenMode);\r\n\r\n        if (!!this.mainData.superiorId) {\r\n          this.superiorId = this.mainData.superiorId;\r\n        }\r\n\r\n        this.incomingPrice = this.mainData.prPriceValue;\r\n\r\n        // Material and services tab\r\n        this.materialsAndServicesTable = result.materialAndServicesOutputList;\r\n        this.materialsAndServicesTable.forEach((ms) => {\r\n          if (!!ms.bidtStockMvtDTO && !!ms.bidtStockMvtDTO.byQuotation) {\r\n            ms.byQuotation =\r\n              ms.bidtStockMvtDTO.byQuotation === 1 ? true : ms.bidtStockMvtDTO.byQuotation === 0 ? false : undefined;\r\n          }\r\n          if (!!ms.pnText) {\r\n            const material = ms.pnText.split(' / ');\r\n            ms.pnText = material[0];\r\n            ms.materialName = material[1];\r\n          }\r\n          ms._dataKey = Math.random();\r\n          ms._expand = false;\r\n          ms._obj = ms;\r\n        });\r\n        this.databaseMSTable = _cloneDeep(this.materialsAndServicesTable);\r\n        this.materialsAndServicesTable.forEach((ms) => {\r\n          if (ms.quantity === null || ms.quantity === undefined) {\r\n            ms.quantity = 0;\r\n          }\r\n          if (ms.price === null || ms.price === undefined) {\r\n            ms.price = 0;\r\n          }\r\n          if (ms.discountPercent === null || ms.discountPercent === undefined) {\r\n            ms.discountPercent = 0;\r\n          }\r\n          if (ms.discountValue === null || ms.discountValue === undefined) {\r\n            ms.discountValue = 0;\r\n          }\r\n          if (ms.totalPrice === null || ms.totalPrice === undefined) {\r\n            ms.totalPrice = 0;\r\n          }\r\n          if (ms.currency === null || ms.currency === undefined) {\r\n            ms.currency = this.localCurrency;\r\n          }\r\n          if (ms.priceAfterDiscount === null || ms.priceAfterDiscount === undefined) {\r\n            ms.priceAfterDiscount = 0;\r\n          }\r\n        });\r\n        this.isMaterialAndServicesTableLoading = false;\r\n\r\n        // Consecutive documents tab\r\n        this.consecutiveDocumentsTable = result.consecutiveDocumentOutputList;\r\n        this.consecutiveDocumentsTable.forEach((cDoc) => {\r\n          if (!!cDoc.creationDateText) {\r\n            const dateTime = cDoc.creationDateText.split(' ');\r\n            const date = dateTime[0].split('/');\r\n            cDoc.creationDateText = `${date[2]}/${date[1]}/${date[0]} ${dateTime[1]}`;\r\n          }\r\n        });\r\n        this.isConsecutiveDocumentsLoading = false;\r\n\r\n        // Documents tab\r\n        ListUtils.orEmpty(result.documentTablist)\r\n          .filter((document) => !!document.documentName)\r\n          .forEach((doc) => {\r\n            this.documents.push(doc.bidtDocumentDTO);\r\n          });\r\n        this.documentTable = this.documents.map((document) => this.createDocumentRow(document));\r\n      });\r\n      this.isLoadingDocumentTable = false;\r\n    }\r\n  }\r\n\r\n  private setMSTableCols(mainData: BidtPurchaseRequestDTO): void {\r\n    switch (mainData.prCategory) {\r\n      // case '4-ord':\r\n      //   this.msTableCols = this.materialsAndServicesTableCols2;\r\n      //   break;\r\n      // case '5-oth':\r\n      //   this.msTableCols = this.materialsAndServicesTableCols2;\r\n      //   break;\r\n      // case '1-con':\r\n      //   this.msTableCols = this.materialsAndServicesTableCols4;\r\n      //   break;\r\n      // case '2-req':\r\n      //   this.msTableCols = this.materialsAndServicesTableCols3;\r\n      //   break;\r\n      // case '3-quo':\r\n      //   this.msTableCols = this.materialsAndServicesTableCols2;\r\n      //   break;\r\n      case '2-req':\r\n        this.msTableCols = this.msTableCols2;\r\n        break;\r\n      default:\r\n        this.msTableCols = this.msTableCols1;\r\n        break;\r\n    }\r\n  }\r\n\r\n  public goToDocument(id: number): void {\r\n    if (!!id) {\r\n      this.orderDocumentFormService.getById(id).subscribe((res) => {\r\n        const input: OrderDocumentRow = {\r\n          code: res.bidtPurchaseRequestDTO.prCode,\r\n          category: res.bidtPurchaseRequestDTO.prCategory,\r\n          type: res.bidtPurchaseRequestDTO.prType,\r\n          supplier: res.bidtPurchaseRequestDTO.supplier,\r\n          _obj: res.bidtPurchaseRequestDTO\r\n        };\r\n        LabelValueUtils.stringValueToLabel(input, 'category', this.categoryOptions);\r\n        LabelValueUtils.stringValueToLabel(input, 'type', this.consecutiveTypeOptions);\r\n        this.openOrderDocument(input, ComponentOpenMode.Read);\r\n      });\r\n    }\r\n  }\r\n\r\n  private openOrderDocument(object: OrderDocumentRow | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_ORDER_DOCUMENT_FORM,\r\n      openMode\r\n    };\r\n    if (!!object) {\r\n      data.objectId = this.serializationService.serialize(object);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openConsecutiveDocument(row: MaterialAndServicesOutput): void {\r\n    if (!!row.consecutiveDocument) {\r\n      const input: DisplayOrderDocumentInput = {\r\n        bidtPurchaseDTO: { prCode: row.consecutiveDocument.split(' ')[0] }\r\n      };\r\n      this.orderDocumentSearchService.findByCriteria(input).subscribe((orderDocument) => {\r\n        const orderDocumentRow: OrderDocumentRow = {\r\n          code: orderDocument.list[0].prCode,\r\n          name: orderDocument.list[0].prName,\r\n          status: orderDocument.list[0].prStatus,\r\n          creationDate: this.formatDate(orderDocument.list[0].prCreationDate),\r\n          receptionDate: this.formatDate(orderDocument.list[0].prReceptionDate),\r\n          category: orderDocument.list[0].prCategory,\r\n          type: orderDocument.list[0].prType,\r\n          startDate: this.formatDate(orderDocument.list[0].prStartDate),\r\n          endDate: this.formatDate(orderDocument.list[0].prEndDate),\r\n          supplierDocumentNumber: orderDocument.list[0].supplierDocumentNumber,\r\n          supplier: orderDocument.list[0].supplier,\r\n          superiorDocument: orderDocument.list[0].superiorDocument,\r\n          _obj: orderDocument.list[0]\r\n        };\r\n\r\n        this.openOrderDocument(orderDocumentRow, ComponentOpenMode.Read);\r\n      });\r\n    }\r\n  }\r\n\r\n  private formatDate(date: number | undefined): string {\r\n    if (!!date) {\r\n      return this.dateService.dateToString(new Date(date));\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public searchSuperiorDocument() {\r\n    this.showQuickSearchPurchaseRequestPopup = true;\r\n  }\r\n\r\n  public setSelectedPurchaseRequest(selectedObject: BidtPurchaseRequestDTO) {\r\n    if (selectedObject && selectedObject.prCode !== this.mainData.prCode) {\r\n      this.mainData.superiorDocument = selectedObject.prCode;\r\n      this.mainData.bidtPurchaseRequestId = selectedObject.id;\r\n      this.superiorId = selectedObject.id;\r\n    }\r\n    this.showQuickSearchPurchaseRequestPopup = false;\r\n  }\r\n\r\n  public editOrderDoc(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public cancelOrderDoc(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Read);\r\n    this.reloadOrderDoc();\r\n  }\r\n\r\n  private setTableCols(): void {\r\n    // this.materialsAndServicesTableCols = [\r\n    //   { field: 'pnText', alignment: 'left' },\r\n    //   { field: 'serialNumber', alignment: 'left' },\r\n    //   { field: 'batchNumber', alignment: 'left' },\r\n    //   { field: 'quantity', alignment: 'left', width: '6%' },\r\n    //   { field: 'productionLeadTime', alignment: 'left' },\r\n    //   { field: 'price', alignment: 'left', width: '5%' },\r\n    //   { field: 'discountPercent', alignment: 'left', width: '6%' },\r\n    //   { field: 'discountValue', alignment: 'left', width: '6%' },\r\n    //   { field: 'priceAfterDiscount', alignment: 'left', width: '6.5%' },\r\n    //   { field: 'totalPrice', alignment: 'left' },\r\n    //   { field: 'currency', alignment: 'left' },\r\n    //   { field: 'warehouse', alignment: 'left' },\r\n    //   { field: 'partStatus', alignment: 'left' },\r\n    //   { field: 'consecutiveDocument', alignment: 'left', width: '8%' }\r\n    // ];\r\n\r\n    // this.materialsAndServicesTableCols2 = [\r\n    //   { field: 'pnText', alignment: 'left' },\r\n    //   { field: 'serialNumber', alignment: 'left' },\r\n    //   { field: 'batchNumber', alignment: 'left' },\r\n    //   { field: 'quantity', alignment: 'left' },\r\n    //   { field: 'productionLeadTime', alignment: 'left' },\r\n    //   { field: 'totalPrice', alignment: 'left' },\r\n    //   { field: 'currency', alignment: 'left' },\r\n    //   { field: 'warehouse', alignment: 'left' },\r\n    //   { field: 'partStatus', alignment: 'left' },\r\n    //   { field: 'consecutiveDocument', alignment: 'left' }\r\n    // ];\r\n\r\n    // this.materialsAndServicesTableCols3 = [\r\n    //   { field: 'pnText', alignment: 'left' },\r\n    //   { field: 'serialNumber', alignment: 'left' },\r\n    //   { field: 'batchNumber', alignment: 'left' },\r\n    //   { field: 'quantity', alignment: 'left' },\r\n    //   { field: 'warehouse', alignment: 'left' },\r\n    //   { field: 'partStatus', alignment: 'left' },\r\n    //   { field: 'consecutiveDocument', alignment: 'left' }\r\n    // ];\r\n\r\n    // this.materialsAndServicesTableCols4 = [\r\n    //   { field: 'pnText', alignment: 'left' },\r\n    //   { field: 'serialNumber', alignment: 'left' },\r\n    //   { field: 'batchNumber', alignment: 'left' },\r\n    //   { field: 'quantity', alignment: 'left' },\r\n    //   { field: 'productionLeadTime', alignment: 'left' },\r\n    //   { field: 'totalPrice', alignment: 'left' },\r\n    //   { field: 'currency', alignment: 'left' }\r\n    // ];\r\n\r\n    // this.materialsAndServicesTableCols5 = [\r\n    //   { field: 'pnText', alignment: 'left' },\r\n    //   { field: 'serialNumber', alignment: 'left' },\r\n    //   { field: 'batchNumber', alignment: 'left' },\r\n    //   { field: 'quantity', alignment: 'left', width: '6%' },\r\n    //   { field: 'productionLeadTime', alignment: 'left' },\r\n    //   { field: 'price', alignment: 'left', width: '5%' },\r\n    //   { field: 'discountPercent', alignment: 'left', width: '6%' },\r\n    //   { field: 'discountValue', alignment: 'left', width: '6%' },\r\n    //   { field: 'priceAfterDiscount', alignment: 'left', width: '6.5%' },\r\n    //   { field: 'totalPrice', alignment: 'left' },\r\n    //   { field: 'currency', alignment: 'left' }\r\n    // ];\r\n\r\n    this.msTableCols1 = [\r\n      { field: 'pnText', alignment: 'left' },\r\n      { field: 'materialName', alignment: 'left', width: '30%' },\r\n      { field: 'serialNumber', alignment: 'left' },\r\n      { field: 'batchNumber', alignment: 'left' },\r\n      { field: 'quantity', alignment: 'left', width: '6%' },\r\n      { field: 'productionLeadTime', alignment: 'left' },\r\n      { field: 'totalPrice', alignment: 'left' },\r\n      { field: 'currency', alignment: 'left' }\r\n    ];\r\n\r\n    this.msTableCols2 = [\r\n      { field: 'pnText', alignment: 'left' },\r\n      { field: 'materialName', alignment: 'left', width: '30%' },\r\n      { field: 'serialNumber', alignment: 'left' },\r\n      { field: 'batchNumber', alignment: 'left' },\r\n      { field: 'quantity', alignment: 'left' }\r\n    ];\r\n\r\n    // this.msTableCols2 = [];\r\n\r\n    // this.msTableCols = this.materialsAndServicesTableCols2;\r\n\r\n    this.documentTableCols = [\r\n      { field: 'docName', alignment: 'left', width: '40%' },\r\n      { field: 'docExtension', alignment: 'left', width: '20%' },\r\n      { field: 'docSize', alignment: 'left', width: '20%' },\r\n      { field: 'docAttachmentDate', alignment: 'left', width: '20%' }\r\n    ];\r\n\r\n    this.consecutiveDocumentsTableCols = [\r\n      { field: 'code', alignment: 'left' },\r\n      { field: 'name', alignment: 'left' },\r\n      { field: 'category', alignment: 'left' },\r\n      { field: 'type', alignment: 'left' },\r\n      { field: 'supplier', alignment: 'left' },\r\n      { field: 'status', alignment: 'left' },\r\n      { field: 'creationDateText', alignment: 'left' },\r\n      { field: 'superiorDocumentCode', alignment: 'left' },\r\n      { field: 'superiorDocumentCategory', alignment: 'left' }\r\n    ];\r\n  }\r\n\r\n  public toggleMaterialAndServicesExpand(row): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  public downloadFiles(): void {\r\n    this.selectedDocuments.forEach((documentRow) => {\r\n      FileUtils.downloadFile(documentRow._obj.documentContent, documentRow._obj.documentName);\r\n    });\r\n  }\r\n\r\n  private createDocumentRow(document: BidtDocumentDTO): DocumentRow {\r\n    const selectedDocumentType = this.documentTypes.find(\r\n      (documentType) => !!document.documentType && (documentType.value as string) === document.documentType\r\n    );\r\n\r\n    const documentRow: DocumentRow = {\r\n      docAttachmentDate: !!document.documentPublicationDate\r\n        ? this.dateService.dateToString(new Date(document.documentPublicationDate))\r\n        : '',\r\n      docExtension: this.formatDocExtension(document),\r\n      docName: document.documentName as string,\r\n      docSize: this.formatDocSize(document),\r\n      docType: !!selectedDocumentType ? StringUtils.orEmpty(selectedDocumentType.label) : '',\r\n      id: document.id,\r\n      _obj: document\r\n    };\r\n\r\n    return documentRow;\r\n  }\r\n\r\n  private formatDocExtension(document: BidtDocumentDTO): string {\r\n    return FileUtils.getExtension(document.documentName).toUpperCase();\r\n  }\r\n\r\n  private formatDocSize(document: BidtDocumentDTO): string {\r\n    return !!document.documentContent ? FileUtils.getFormattedSize(document.documentContent.length) : '';\r\n  }\r\n\r\n  public deleteDocuments(): void {\r\n    const partialMessageKey =\r\n      this.selectedDocuments.length > 1 ? 'confirmDeleteSelectedDocuments' : 'confirmDeleteSelectedDocument';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.selectedDocuments.forEach((selectedDocumentRow) => {\r\n          const documentsAddedWithoutSelection = this.documentsAdded.filter(\r\n            (document) => !this.areSameDocument(document, selectedDocumentRow._obj)\r\n          );\r\n          // list of added objects contains the selection\r\n          if (this.documentsAdded.length !== documentsAddedWithoutSelection.length) {\r\n            // Remove selection from added objects\r\n            this.documentsAdded = documentsAddedWithoutSelection;\r\n          } else {\r\n            const documentsUpdatedWithoutSelection = this.documentsUpdated.filter(\r\n              (document) => !this.areSameDocument(document, selectedDocumentRow._obj)\r\n            );\r\n            // list of updated objects contains the selection\r\n            if (this.documentsUpdated.length !== documentsUpdatedWithoutSelection.length) {\r\n              // Remove selection from added objects\r\n              this.documentsUpdated = documentsUpdatedWithoutSelection;\r\n            }\r\n\r\n            this.documentsRemoved = [...this.documentsRemoved, selectedDocumentRow._obj];\r\n          }\r\n        });\r\n\r\n        this.documentsRemoved.forEach((doc) => {\r\n          if (!!doc.id) {\r\n            this.documentDataRemoveList.push(doc.id);\r\n          }\r\n        });\r\n\r\n        this.documents = this.documents.filter((document) => {\r\n          return !this.selectedDocuments.some((selectedDocumentRow) =>\r\n            this.areSameDocument(document, selectedDocumentRow._obj)\r\n          );\r\n        });\r\n\r\n        this.documentTable = this.documentTable.filter((documentRow) => {\r\n          return !this.selectedDocuments.some((selectedDocumentRow) => {\r\n            return this.areSameDocument(documentRow._obj, selectedDocumentRow._obj);\r\n          });\r\n        });\r\n\r\n        this.selectedDocuments = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public editDocument(): void {\r\n    if (this.selectedDocuments.length === 1) {\r\n      this.currentDocumentIndex = this.documents.findIndex((document) =>\r\n        this.areSameDocument(document, this.selectedDocuments[0]._obj)\r\n      );\r\n\r\n      this.currentDocument = { ...this.selectedDocuments[0]._obj };\r\n      this.documentDialogOpenMode = ComponentOpenMode.Write;\r\n      this.showDocumentDialog = true;\r\n    }\r\n  }\r\n\r\n  public openDocument(): void {\r\n    if (this.selectedDocuments.length === 1) {\r\n      this.currentDocument = this.selectedDocuments[0]._obj;\r\n      this.currentDocumentIndex = -1;\r\n      this.documentDialogOpenMode = ComponentOpenMode.Read;\r\n      this.showDocumentDialog = true;\r\n    }\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (!!event.files) {\r\n      const file: File = event.files[0];\r\n\r\n      // Check if the file already exists\r\n      const fileExists = this.documents.some((document) => document.documentName === file.name);\r\n      if (fileExists) {\r\n        this.messageService.showWarningMessage('global.warningOnFileExists');\r\n      } else {\r\n        FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n          if (!!fileContent) {\r\n            const document: BidtDocumentDTO = {\r\n              documentContent: fileContent,\r\n              documentName: file.name,\r\n              documentPublicationDate: new Date(),\r\n              bidtPurchaseRequestId: this.pageId\r\n            };\r\n\r\n            document.documentType = this.formatDocExtension(document);\r\n\r\n            this.documents = [...this.documents, document];\r\n            this.documentsAdded = [...this.documentsAdded, document];\r\n            this.documentTable = [...this.documentTable, this.createDocumentRow(document)];\r\n          }\r\n        });\r\n      }\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  private areSameDocument(obj1: BidtDocumentDTO | undefined, obj2: BidtDocumentDTO | undefined): boolean {\r\n    if (!obj1 || !obj2) {\r\n      return false;\r\n    } else {\r\n      return !!obj1.documentName && !!obj2.documentName && obj1.documentName === obj2.documentName;\r\n    }\r\n  }\r\n\r\n  public onAddDocument(document: BidtDocumentDTO): void {\r\n    if (!!document) {\r\n      if (this.currentDocumentIndex !== -1) {\r\n        this.documents[this.currentDocumentIndex] = document;\r\n        this.documentTable[this.currentDocumentIndex] = this.createDocumentRow(document);\r\n\r\n        const updatedDocumentIndex = this.documentsUpdated.findIndex((documentUpdated) =>\r\n          this.areSameDocument(documentUpdated, document)\r\n        );\r\n        if (updatedDocumentIndex !== -1) {\r\n          this.documentsUpdated[updatedDocumentIndex] = document;\r\n        } else {\r\n          this.documentsUpdated = [...this.documentsUpdated, document];\r\n        }\r\n      } else {\r\n        const isAdded = this.documentsAdded.some((documentAdded) => this.areSameDocument(documentAdded, document));\r\n        if (isAdded) {\r\n          this.messageService.showWarningMessage('global.warningOnDocumentExists');\r\n        } else {\r\n          this.documents = [...this.documents, document];\r\n          this.documentsAdded = [...this.documentsAdded, document];\r\n          this.documentTable = [...this.documentTable, this.createDocumentRow(document)];\r\n        }\r\n      }\r\n    }\r\n\r\n    this.selectedDocuments = [];\r\n  }\r\n\r\n  public createMaterial(): void {\r\n    this.showDialogMaterialAndServices = true;\r\n    this.currentMSObject = _cloneDeep(this.selectedMaterials[0]);\r\n    this.isReadOnlyPopup = false;\r\n    this.isNewMSObject = true;\r\n    this.selectedMSIndex = -1;\r\n  }\r\n\r\n  public editMaterial(): void {\r\n    this.showDialogMaterialAndServices = true;\r\n    this.currentMSObject = _cloneDeep(this.selectedMaterials[0]);\r\n    this.isReadOnlyPopup = false;\r\n    this.isNewMSObject = false;\r\n    this.selectedMSIndex = this.materialsAndServicesTable.findIndex(\r\n      (ms) =>\r\n        !!ms.bidtStockMvtDTO &&\r\n        !!this.selectedMaterials[0].bidtStockMvtDTO &&\r\n        ms.bidtStockMvtDTO.id === this.selectedMaterials[0].bidtStockMvtDTO.id\r\n    );\r\n    this.selectedMaterials = [];\r\n  }\r\n\r\n  public openMaterial(): void {\r\n    this.showDialogMaterialAndServices = true;\r\n    this.currentMSObject = _cloneDeep(this.selectedMaterials[0]);\r\n    this.isReadOnlyPopup = true;\r\n    this.isNewMSObject = false;\r\n    this.selectedMaterials = [];\r\n  }\r\n\r\n  public reloadConsecutiveDocuments(): void {\r\n    if (!!this.pageId) {\r\n      this.isConsecutiveDocumentsLoading = true;\r\n      this.orderDocumentFormService.getById(this.pageId).subscribe((r) => {\r\n        this.consecutiveDocumentsTable = r.consecutiveDocumentOutputList;\r\n        this.isConsecutiveDocumentsLoading = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Table Of Content\r\n   *************************************************************************/\r\n\r\n  private setTableOfContent(): void {\r\n    const mainDataKey = 'page.mainData';\r\n    const additionalKey = 'page.additionalData';\r\n    const msKey = this.getTranslateKey('materialsAndServices');\r\n    const consecutiveKey = this.getTranslateKey('consecutiveDocuments');\r\n    const documentsKey = 'global.documents';\r\n    this.translateService\r\n      .get([mainDataKey, additionalKey, msKey, consecutiveKey, documentsKey])\r\n      .subscribe((results: string[]) => {\r\n        const mainDataLabel = !!results ? results[mainDataKey] : 'Main Information';\r\n        const additionalLabel = !!results ? results[additionalKey] : 'Additional Information';\r\n        const msLabel = !!results ? results[msKey] : 'Material and Services';\r\n        const consecutiveLabel = !!results ? results[consecutiveKey] : 'Consecutive Documents';\r\n        const documentsLabel = !!results ? results[documentsKey] : 'Documents';\r\n\r\n        this.toc = [\r\n          {\r\n            id: 'mainInformationAnchor',\r\n            anchor: this.mainInformationEltRef,\r\n            label: mainDataLabel\r\n          },\r\n          {\r\n            id: 'additionalInformationAnchor',\r\n            anchor: this.additionalInformationEltRef,\r\n            label: additionalLabel\r\n          },\r\n          {\r\n            id: 'msAnchor',\r\n            anchor: this.msEltRef,\r\n            label: msLabel\r\n          },\r\n          {\r\n            id: 'consecutiveAnchor',\r\n            anchor: this.consecutiveEltRef,\r\n            label: consecutiveLabel\r\n          },\r\n          {\r\n            id: 'documentAnchor',\r\n            anchor: this.documentTableEltRef,\r\n            label: documentsLabel\r\n          }\r\n        ];\r\n        setTimeout(() => {\r\n          super.selectPageTocEntry(this.component.MAIN_ANCHOR_ID);\r\n        });\r\n      });\r\n  }\r\n\r\n  // tslint:disable-next-line: no-any\r\n  public navigateToSelectedSectionFromSummary(anchorId: string, elementRef: ElementRef, event: any): void {\r\n    super.selectPageTocEntry(anchorId);\r\n    super.scrollToAnchorAndStopPropagation(elementRef, event);\r\n  }\r\n\r\n  public saveOrderDoc(): void {\r\n    if (!this.mainData.prCategory || !this.mainData.prType) {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    } else {\r\n      const bidtStockMvtDTOList: BidtStockMvtDTO[] = [];\r\n      this.materialsAndServicesTable.forEach((ms) => {\r\n        if (!!ms.bidtStockMvtDTO) {\r\n          const updating = this.databaseMSTable.some(\r\n            (dms) => !!dms.bidtStockMvtDTO && !!ms.bidtStockMvtDTO && dms.bidtStockMvtDTO.id === ms.bidtStockMvtDTO.id\r\n          );\r\n          if (!updating && !!ms.bidtStockMvtDTO.id) {\r\n            ms.bidtStockMvtDTO.id = undefined;\r\n          }\r\n          bidtStockMvtDTOList.push(ms.bidtStockMvtDTO);\r\n        }\r\n      });\r\n      const bidtDocumentList: BidtDocumentDTO[] = [];\r\n      this.documentTable.forEach((doc) => {\r\n        if (!!doc._obj.documentPublicationDate) {\r\n          doc._obj.documentPublicationDate = new Date(doc._obj.documentPublicationDate);\r\n        }\r\n        doc._obj.bidtPurchaseRequestId = this.pageId;\r\n        bidtDocumentList.push(doc._obj);\r\n      });\r\n      const input: SaveOrderDocumentDTO = {\r\n        bidtPurchaseRequestDTO: this.mainData,\r\n        bidtStockMvtDTOList,\r\n        bidtStockMvtRemoveList: this.bidtStockMvtRemoveList,\r\n        bidtDocumentList,\r\n        documentDataRemoveList: this.documentDataRemoveList\r\n      };\r\n      this.save(input);\r\n    }\r\n  }\r\n\r\n  private save(input: SaveOrderDocumentDTO): void {\r\n    this.showSaveSpinner = true;\r\n    this.orderDocumentFormService.saveOrderDocument(input).subscribe(\r\n      (result) => {\r\n        this.afterSave(result);\r\n        this.messageService.showSuccessMessage(this.getTranslateKey('successOnSaveOrderDocument'));\r\n        this.showSaveSpinner = false;\r\n      },\r\n      (error) => {\r\n        this.showSaveSpinner = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private afterSave(result: BidtPurchaseRequestDTO): void {\r\n    this.pageId = result.id;\r\n\r\n    const displayOrderDocumentInput: DisplayOrderDocumentInput = {\r\n      bidtPurchaseDTO: {\r\n        prCode: result.prCode\r\n      }\r\n    };\r\n    this.orderDocumentSearchService.findByCriteria(displayOrderDocumentInput).subscribe((res) => {\r\n      const componentData = this.serializationService.serialize(this.getOrderDocRow(res.list[0]));\r\n      this.componentData.objectId = componentData;\r\n      this.updateOpenMode(ComponentOpenMode.Write);\r\n      this.componentData.openMode = 1;\r\n      this.pageSubtitle = this.setPageContext(componentData);\r\n      this.displayComponentContext(this.setPageContext(componentData), this.isCreateOpenMode);\r\n      this.initAfterSave();\r\n      this.loadOrderDoc();\r\n    });\r\n  }\r\n\r\n  private getOrderDocRow(result: BidtPurchaseRequestDTO): OrderDocumentRow {\r\n    const orderDocumentRow: OrderDocumentRow = {\r\n      code: result.prCode,\r\n      category: result.prCategory,\r\n      type: result.prType,\r\n      supplier: result.supplier,\r\n      _obj: result\r\n    };\r\n\r\n    return orderDocumentRow;\r\n  }\r\n\r\n  public addNewMS(event: MaterialAndServicesOutput): void {\r\n    event._dataKey = Math.random();\r\n    event._expand = false;\r\n    event._obj = event;\r\n    if (!!event.bidtStockMvtDTO) {\r\n      if (!!event && !!event.price) {\r\n        if (!!event.discountPercent) {\r\n          event.priceAfterDiscount = event.price !== 0 ? event.price - event.discountPercent : event.price;\r\n        } else {\r\n          event.priceAfterDiscount = event.price;\r\n        }\r\n\r\n        if (!!event.quantity) {\r\n          event.totalPrice = event.priceAfterDiscount * event.quantity;\r\n        } else {\r\n          event.totalPrice = event.priceAfterDiscount * 0;\r\n        }\r\n      }\r\n      event.bidtStockMvtDTO.bidtPurchaseRequestId = this.pageId;\r\n    }\r\n    this.materialsAndServicesTable.push(event);\r\n  }\r\n\r\n  public updateMS(event: MaterialAndServicesOutput): void {\r\n    if (this.selectedMSIndex !== null && this.selectedMSIndex !== undefined) {\r\n      this.materialsAndServicesTable[this.selectedMSIndex] = event;\r\n    }\r\n  }\r\n\r\n  public enableDocumentCreation(): boolean {\r\n    let response: boolean;\r\n    response =\r\n      AWPropertiesConstants.PURCHASE_STATUS_ACCEPTED === this.backupMainData.prStatus &&\r\n      (AWPropertiesConstants.PURCHASE_CATEGORY_REQUEST === this.backupMainData.prCategory ||\r\n        AWPropertiesConstants.PURCHASE_CATEGORY_QUOTATION === this.backupMainData.prCategory ||\r\n        AWPropertiesConstants.PURCHASE_CATEGORY_ORDER === this.backupMainData.prCategory)\r\n        ? true\r\n        : false;\r\n\r\n    return response;\r\n  }\r\n\r\n  public priceVisibility(): boolean {\r\n    let response: boolean;\r\n    response = AWPropertiesConstants.PURCHASE_CATEGORY_REQUEST === this.mainData.prCategory ? false : true;\r\n\r\n    return response;\r\n  }\r\n\r\n  public logisticVisibility(): boolean {\r\n    let response: boolean;\r\n    response = AWPropertiesConstants.PURCHASE_CATEGORY_CONTRACT === this.mainData.prCategory ? false : true;\r\n\r\n    return response;\r\n  }\r\n\r\n  public goodsMovementNameVisible(): boolean {\r\n    let response = false;\r\n    if (this.materialsAndServicesTable.length > 0) {\r\n      const logic1 = 2;\r\n      const logic2 = 4;\r\n      response =\r\n        this.materialsAndServicesTable[0].logicState === logic1 ||\r\n        this.materialsAndServicesTable[0].logicState === logic2\r\n          ? true\r\n          : false;\r\n    }\r\n\r\n    return response;\r\n  }\r\n\r\n  public subcontractingMovementsVisible(): boolean {\r\n    let response = false;\r\n    if (this.materialsAndServicesTable.length > 0) {\r\n      const logic = 3;\r\n      response = this.materialsAndServicesTable[0].logicState === logic && !this.isReadOpenMode ? true : false;\r\n    }\r\n\r\n    return response;\r\n  }\r\n\r\n  public showUnitPrices(): void {\r\n    // this.showUPrices = false;\r\n    // this.hideUPrices = true;\r\n    // if (this.mainData.prCategory === '1-con') {\r\n    //   this.msTableCols = this.materialsAndServicesTableCols5;\r\n    // } else {\r\n    //   this.msTableCols = this.materialsAndServicesTableCols;\r\n    // }\r\n  }\r\n\r\n  public hideUnitPrices(): void {\r\n    this.showUPrices = true;\r\n    this.hideUPrices = false;\r\n    this.setMSTableCols(this.mainData);\r\n  }\r\n\r\n  public resetPrice(): void {\r\n    this.disablePrice = true;\r\n    this.mainData.prPriceValue = this.incomingPrice;\r\n  }\r\n\r\n  public deleteMaterials(): void {\r\n    this.selectedMaterials.forEach((material) => {\r\n      this.materialsAndServicesTable = this.materialsAndServicesTable.filter(\r\n        (ms) =>\r\n          !!ms.bidtStockMvtDTO && !!material.bidtStockMvtDTO && ms.bidtStockMvtDTO.id !== material.bidtStockMvtDTO.id\r\n      );\r\n\r\n      const databaseEntry = this.databaseMSTable.some(\r\n        (ms) =>\r\n          !!material.bidtStockMvtDTO && !!ms.bidtStockMvtDTO && ms.bidtStockMvtDTO.id === material.bidtStockMvtDTO.id\r\n      );\r\n\r\n      if (databaseEntry && !!material.bidtStockMvtDTO && !!material.bidtStockMvtDTO.id) {\r\n        this.bidtStockMvtRemoveList.push(material.bidtStockMvtDTO.id);\r\n      }\r\n    });\r\n    this.selectedMaterials = [];\r\n  }\r\n\r\n  public createConsecutiveDocuments(): void {\r\n    if (!this.consecutiveCategory || !this.consecutiveType) {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    } else {\r\n      const bidtPurchaseRequestDTO: BidtPurchaseRequestDTO = {\r\n        id: this.pageId,\r\n        prCategory: this.consecutiveCategory,\r\n        prType: this.consecutiveType,\r\n        prCreationDate: this.mainData.prCreationDate || ((new Date() as unknown) as number),\r\n        bidoCustomerCustomerCode: this.mainData.bidoCustomerCustomerCode\r\n      };\r\n      const bidtStockMvtDTOList: BidtStockMvtDTO[] = [];\r\n      this.materialsAndServicesTable.forEach((ms) => {\r\n        if (!!ms.bidtStockMvtDTO) {\r\n          bidtStockMvtDTOList.push(ms.bidtStockMvtDTO);\r\n        }\r\n      });\r\n\r\n      const input: SaveOrderDocumentDTO = {\r\n        bidtPurchaseRequestDTO,\r\n        bidtStockMvtDTOList\r\n      };\r\n\r\n      const saveMainDataAndMaterialTable: SaveOrderDocumentDTO = {\r\n        bidtPurchaseRequestDTO: this.backupMainData,\r\n        bidtStockMvtDTOList\r\n      };\r\n\r\n      this.orderDocumentFormService.saveOrderDocument(saveMainDataAndMaterialTable).subscribe((output) => {\r\n        this.afterSave(output);\r\n        this.orderDocumentFormService.createConsecutiveDocument(input).subscribe((result) => {\r\n          this.consecutiveCategory = undefined;\r\n          this.consecutiveType = undefined;\r\n          this.consecutiveTypeOptions = [];\r\n          if (!!this.pageId) {\r\n            this.isConsecutiveDocumentsLoading = true;\r\n            this.orderDocumentFormService.getById(this.pageId).subscribe((r) => {\r\n              this.consecutiveDocumentsTable = r.consecutiveDocumentOutputList;\r\n\r\n              this.consecutiveDocumentsTable.forEach((cDoc) => {\r\n                if (!!cDoc.creationDateText) {\r\n                  const dateTime = cDoc.creationDateText.split(' ');\r\n                  const date = dateTime[0].split('/');\r\n                  cDoc.creationDateText = `${date[2]}/${date[1]}/${date[0]} ${dateTime[1]}`;\r\n                }\r\n              });\r\n              this.isConsecutiveDocumentsLoading = false;\r\n\r\n              this.orderDocumentFormService.getById(result).subscribe((res) => {\r\n                const newPageInput: OrderDocumentRow = {\r\n                  code: res.bidtPurchaseRequestDTO.prCode,\r\n                  category: res.bidtPurchaseRequestDTO.prCategory,\r\n                  type: res.bidtPurchaseRequestDTO.prType,\r\n                  supplier: res.bidtPurchaseRequestDTO.supplier,\r\n                  _obj: res.bidtPurchaseRequestDTO\r\n                };\r\n                LabelValueUtils.stringValueToLabel(newPageInput, 'category', this.categoryOptions);\r\n                LabelValueUtils.stringValueToLabel(newPageInput, 'type', this.typeOptions);\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  public openSelectedDocuemnt(row: ConsecutiveDocumentOutput): void {\r\n    if (!!row.bidtPurchaseRequestDTO && !!row.bidtPurchaseRequestDTO.id) {\r\n      this.goToDocument(row.bidtPurchaseRequestDTO.id);\r\n    }\r\n  }\r\n\r\n  public goToMaterial(row: MaterialAndServicesOutput): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_MATERIAL_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    if (!!row.bidtStockMvtDTO && !!row.bidtStockMvtDTO.birePnPnCode) {\r\n      const input: BirePnDTOId = {\r\n        pnCode: row.bidtStockMvtDTO.birePnPnCode\r\n      };\r\n      this.orderDocumentFormService.findBirePn(input).subscribe((result) => {\r\n        if (!!result) {\r\n          const materialFormId: BirePnDTO = {\r\n            pnCode: result.pnCode,\r\n            pnType: result.pnType\r\n          };\r\n          data.objectId = this.serializationService.serialize(materialFormId);\r\n        }\r\n        const labelKey = 'transaction.' + data.componentId;\r\n\r\n        this.tabService.open(this.tabService.create(data, labelKey, true));\r\n      });\r\n    }\r\n  }\r\n\r\n  public openEquipmentForm(row: MaterialAndServicesOutput): void {\r\n    if (!!row.bidtStockMvtDTO) {\r\n      const input: BidoEquipmentDTO = {\r\n        pnCode: row.bidtStockMvtDTO.birePnPnCode,\r\n        sn: row.serialNumber\r\n      };\r\n      this.orderDocumentFormService.getEuipmentBYpnAndSN(input).subscribe((result) => {\r\n        if (!!result) {\r\n          if (AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY === result[0].equipmentFunction) {\r\n            this.goToAircraft(result[0].equipmentCode, ComponentOpenMode.Read);\r\n          } else if (AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY === result[0].equipmentFunction) {\r\n            this.goToEngine(result[0].equipmentCode, ComponentOpenMode.Read);\r\n          } else if (AWPropertiesConstants.ITEM_FAMILY_CODE_TOOL_KEY === result[0].equipmentFunction) {\r\n            this.goToTools(result[0].equipmentCode, ComponentOpenMode.Read);\r\n          } else {\r\n            this.goToEquipment(result[0].equipmentCode, ComponentOpenMode.Read);\r\n          }\r\n        } else {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('assetNotFound'));\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private goToAircraft(aircraftCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.AircraftFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'AircraftFormComponent',\r\n      openMode\r\n    };\r\n    if (!!aircraftCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode: aircraftCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToEngine(engineCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EngineFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EngineFormComponent',\r\n      openMode\r\n    };\r\n    if (!!engineCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode: engineCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToEquipment(equipmentCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EquipmentFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EquipmentFormComponent',\r\n      openMode\r\n    };\r\n    if (!!equipmentCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToTools(equipmentCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.ToolFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'ToolFormComponent',\r\n      openMode\r\n    };\r\n    if (!!equipmentCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public reloadOrderDoc(): void {\r\n    this.initAfterSave();\r\n    this.loadOrderDoc();\r\n  }\r\n\r\n  private getLocalCurrency(): void {\r\n    this.orderDocumentFormService.getLocalCurrency().subscribe((res) => {\r\n      this.localCurrency = res;\r\n    });\r\n  }\r\n\r\n  public updateConditions(): void {\r\n    this.materialsAndServicesTable.forEach((row) => {\r\n      if (!!row.bidtStockMvtDTO && !!row.bidtStockMvtDTO.birePnPnCode) {\r\n        this.orderDocumentFormService\r\n          .findBirePn({\r\n            pnCode: row.bidtStockMvtDTO.birePnPnCode\r\n          })\r\n          .subscribe({\r\n            next: (pn) => {\r\n              if (pn && pn.pnCode) {\r\n                this.orderDocumentFormService\r\n                  .findByCustomerAndProduct({\r\n                    customerCode: this.mainData.bidoCustomerCustomerCode as string,\r\n                    pnCode: pn.pnCode\r\n                  })\r\n                  .subscribe({\r\n                    next: (listPc) => {\r\n                      for (let index = 0; index < listPc.length; index++) {\r\n                        const pcData = listPc[index];\r\n\r\n                        // Qty only for non serialized parts\r\n                        if (\r\n                          AWPropertiesConstants.PN_TRACEABILITY_BY_SN !== pn.traceability &&\r\n                          pcData.productQuantity &&\r\n                          NumberUtils.fromString(pcData.productQuantity) > 0\r\n                        ) {\r\n                          (row.bidtStockMvtDTO as BidtStockMvtDTO).stockMvtQuantity = pcData.productQuantity;\r\n                          row.quantity = NumberUtils.fromString(pcData.productQuantity);\r\n                        }\r\n                        // price\r\n                        if (pcData.priceValue && NumberUtils.fromString(pcData.priceValue) > 0) {\r\n                          (row.bidtStockMvtDTO as BidtStockMvtDTO).priceValue = pcData.priceValue;\r\n                          row.totalPrice = NumberUtils.fromString(pcData.priceValue);\r\n                        }\r\n                        // lead time\r\n                        if (ObjectUtils.isDefined(pcData.numberOfDays) && (pcData.numberOfDays as number) > 0) {\r\n                          (row.bidtStockMvtDTO as BidtStockMvtDTO).numberOfDays = pcData.numberOfDays;\r\n                          row.productionLeadTime = pcData.numberOfDays;\r\n                        }\r\n\r\n                        // un seul fournisseur est renseigné dans la demande d'achat donc on sort\r\n                        break;\r\n                      }\r\n                    }\r\n                  });\r\n              }\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { KeyFilterModule } from 'primeng/keyfilter';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { RadioButtonModule } from 'primeng/radiobutton';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { TableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TriStateCheckboxModule } from 'primeng/tristatecheckbox';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { ComponentSidebarModule } from '../../../shared/components/component-sidebar/component-sidebar.mdule';\r\nimport { DialogSearchMaterialModule } from '../../../shared/components/dialog-search-material/dialog-search-material.module';\r\nimport { DialogSearchPurchaseRequestModule } from '../../../shared/components/dialog-search-purchase-request/dialog-search-purchase-request.module';\r\nimport { ManageSearchCriteriaModule } from '../../../shared/components/manage-search-criteria/manage-search-criteria.module';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\n\r\nimport { DialogBusinessPartnerBidoDocumentComponent } from './dialog-business-partner-bido-document/dialog-business-partner-bido-document.component';\r\nimport { DialogMaterialAndServicesComponent } from './dialog-material-and-services/dialog-material-and-services.component';\r\nimport { OrderDocumentFormComponent } from './form/order-document-form.component';\r\nimport { OrderDocumentFormService } from './form/order-document-form.service';\r\nimport { OrderDocumentSearchComponent } from './search/order-document-search.component';\r\nimport { OrderDocumentSearchService } from './search/order-document-search.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  CalendarModule,\r\n  CheckboxModule,\r\n  DropdownModule,\r\n  FileUploadModule,\r\n  InputTextareaModule,\r\n  TableModule,\r\n  TooltipModule,\r\n  KeyFilterModule,\r\n  MessageModule,\r\n  RadioButtonModule,\r\n  SplitButtonModule,\r\n  TriStateCheckboxModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [\r\n  DialogSearchMaterialModule,\r\n  DialogSearchPurchaseRequestModule,\r\n  ModalModule,\r\n  ComponentSidebarModule\r\n];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogBusinessPartnerBidoDocumentComponent, DialogMaterialAndServicesComponent];\r\n\r\nconst DYNAMIC_COMPONENTS = [OrderDocumentFormComponent, OrderDocumentSearchComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [OrderDocumentFormService, OrderDocumentSearchService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ManageSearchCriteriaModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class OrderDocumentModule {}\r\n","module.exports = \"<div class=\\\"page-header-container\\\">\\r\\n  <div class=\\\"page-context\\\">\\r\\n    <div class=\\\"page-title-container\\\">\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-secondary-actions\\\">\\r\\n        <i\\r\\n          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n          [ngClass]=\\\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          (click)=\\\"updateFavoriteState()\\\"\\r\\n          pTooltip=\\\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-subtitle-container\\\">\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        {{ \\\"page.searchPage\\\" | translate }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-primary-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewOrderDocument()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <!-- <i\\r\\n                    class=\\\"fa fa-fw fa-floppy-o aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.save' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                  ></i>\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i> -->\\r\\n                  <aw-manage-search-criteria\\r\\n                    [componentId]=\\\"SEARCH_CRITERIA_ID\\\"\\r\\n                    (onSelected)=\\\"loadSearchCriteria($event)\\\"\\r\\n                    (onSavedAsked)=\\\"saveSearchCriteriaAsked()\\\"\\r\\n                    [objectFromPage]=\\\"criteriaToSave\\\"\\r\\n                    [canChange]=\\\"!hasBeenCalculated\\\"\\r\\n                  ></aw-manage-search-criteria>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".code\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" maxlength=\\\"20\\\" [(ngModel)]=\\\"bidtPurchaseDTO.prCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".status\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"orderDocumentStatus\\\"\\r\\n                        [(ngModel)]=\\\"bidtPurchaseDTO.prStatus\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".name\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" maxlength=\\\"20\\\" [(ngModel)]=\\\"bidtPurchaseDTO.prName\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".category\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"orderDocumentCategories\\\"\\r\\n                        [(ngModel)]=\\\"bidtPurchaseDTO.prCategory\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        (onChange)=\\\"loadOrderDocumentTypes()\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".type\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"orderDocumentTypes\\\"\\r\\n                        [(ngModel)]=\\\"bidtPurchaseDTO.prType\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".description\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" maxlength=\\\"20\\\" [(ngModel)]=\\\"bidtPurchaseDTO.prDescription\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"advanced-criteria\\\" [ngClass]=\\\"{ 'display--none': !showAdvancedCriteria }\\\">\\r\\n                  <div class=\\\"grid-row\\\">\\r\\n                    <div class=\\\"grid-cell--3\\\">\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".dates\\\" | translate }}</h4>\\r\\n                          <div class=\\\"section-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".creationDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"searchObject.creationDate\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\" *ngIf=\\\"bidtPurchaseDTO.prCategory === '4-ord'\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".receptionDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"searchObject.receptionDate\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div\\r\\n                              class=\\\"row\\\"\\r\\n                              *ngIf=\\\"bidtPurchaseDTO.prCategory === '1-con' || bidtPurchaseDTO.prCategory === '3-quo'\\\"\\r\\n                            >\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".startDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"searchObject.startDate\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div\\r\\n                              class=\\\"row\\\"\\r\\n                              *ngIf=\\\"bidtPurchaseDTO.prCategory === '1-con' || bidtPurchaseDTO.prCategory === '3-quo'\\\"\\r\\n                            >\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".endDate\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-calendar\\r\\n                                    showButtonBar=\\\"true\\\"\\r\\n                                    [monthNavigator]=\\\"true\\\"\\r\\n                                    [yearNavigator]=\\\"true\\\"\\r\\n                                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                    class=\\\"aw-calendar\\\"\\r\\n                                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                                    [(ngModel)]=\\\"searchObject.endDate\\\"\\r\\n                                  ></p-calendar>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngIf=\\\"bidtPurchaseDTO.prCategory !== '2-req'\\\" class=\\\"grid-cell--3\\\">\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">{{ componentData.componentId + \\\".supplier\\\" | translate }}</h4>\\r\\n                          <div class=\\\"section-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".code\\\" | translate }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <p-dropdown\\r\\n                                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                    [showClear]=\\\"true\\\"\\r\\n                                    placeholder=\\\"&nbsp;\\\"\\r\\n                                    [options]=\\\"orderDocumentSuppliers\\\"\\r\\n                                    [(ngModel)]=\\\"searchObject.searchSupplier\\\"\\r\\n                                  ></p-dropdown>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\"\\r\\n                                  >{{ componentData.componentId + \\\".docNo\\\" | translate }}&#176;</label\\r\\n                                >\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <input\\r\\n                                    type=\\\"text\\\"\\r\\n                                    class=\\\"aw-input\\\"\\r\\n                                    maxlength=\\\"20\\\"\\r\\n                                    [(ngModel)]=\\\"bidtPurchaseDTO.supplierDocumentNumber\\\"\\r\\n                                  />\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-cell--3\\\">\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">\\r\\n                            {{ componentData.componentId + \\\".materialAndServices\\\" | translate }}\\r\\n                          </h4>\\r\\n                          <div class=\\\"section-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".material\\\" | translate\\r\\n                                }}</label>\\r\\n\\r\\n                                <div\\r\\n                                  class=\\\"form-control form-control-with-modal\\\"\\r\\n                                  [ngClass]=\\\"{ disabled: isReadOpenMode }\\\"\\r\\n                                >\\r\\n                                  <div class=\\\"form-control-data\\\" (click)=\\\"searchMaterialCode()\\\">\\r\\n                                    {{ searchObject.material }}\\r\\n                                  </div>\\r\\n\\r\\n                                  <div *ngIf=\\\"searchObject.material\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                                    <i\\r\\n                                      class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"searchObject.material = undefined\\\"\\r\\n                                    ></i>\\r\\n                                  </div>\\r\\n                                  <div class=\\\"btn-search-wrapper\\\">\\r\\n                                    <i\\r\\n                                      class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"searchMaterialCode()\\\"\\r\\n                                    ></i>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sNo\\\" | translate }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <input type=\\\"text\\\" class=\\\"aw-input\\\" maxlength=\\\"20\\\" [(ngModel)]=\\\"searchObject.sn\\\" />\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{\\r\\n                                  componentData.componentId + \\\".batchNo\\\" | translate\\r\\n                                }}</label>\\r\\n                                <div class=\\\"form-control\\\">\\r\\n                                  <input\\r\\n                                    type=\\\"text\\\"\\r\\n                                    class=\\\"aw-input\\\"\\r\\n                                    maxlength=\\\"20\\\"\\r\\n                                    [(ngModel)]=\\\"searchObject.batchNumber\\\"\\r\\n                                  />\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-cell--3\\\">\\r\\n                      <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                        <div class=\\\"section\\\">\\r\\n                          <h4 class=\\\"section-title\\\">\\r\\n                            {{ componentData.componentId + \\\".superiorDocument\\\" | translate }}\\r\\n                          </h4>\\r\\n                          <div class=\\\"section-content\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                              <div class=\\\"form-group\\\">\\r\\n                                <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".code\\\" | translate }}</label>\\r\\n\\r\\n                                <div\\r\\n                                  class=\\\"form-control form-control-with-modal\\\"\\r\\n                                  [ngClass]=\\\"{ disabled: isReadOpenMode }\\\"\\r\\n                                >\\r\\n                                  <div class=\\\"form-control-data\\\" (click)=\\\"searchSuperiorDocument()\\\">\\r\\n                                    {{ searchObject.purchaseRequestSupCode }}\\r\\n                                  </div>\\r\\n\\r\\n                                  <div *ngIf=\\\"searchObject.purchaseRequestSupCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                                    <i\\r\\n                                      class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"searchObject.purchaseRequestSupCode = undefined\\\"\\r\\n                                    ></i>\\r\\n                                  </div>\\r\\n                                  <div class=\\\"btn-search-wrapper\\\">\\r\\n                                    <i\\r\\n                                      class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                                      aria-hidden=\\\"true\\\"\\r\\n                                      (click)=\\\"searchSuperiorDocument()\\\"\\r\\n                                    ></i>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <button mat-button (click)=\\\"showAdvancedCriteria = !showAdvancedCriteria\\\">\\r\\n                    <ng-container *ngIf=\\\"showAdvancedCriteria\\\">\\r\\n                      <mat-icon>remove</mat-icon>\\r\\n                      {{ \\\"global.collapseCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"!showAdvancedCriteria\\\">\\r\\n                      <mat-icon>add</mat-icon>\\r\\n                      {{ \\\"global.expandCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                  </button>\\r\\n\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{\\r\\n                    orderDocumentTable.list ? orderDocumentTable.list.length : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <p-table\\r\\n                [resizableColumns]=\\\"true\\\"\\r\\n                #ptableResults\\r\\n                class=\\\"aw-table2\\\"\\r\\n                [columns]=\\\"orderDocumentTableCols\\\"\\r\\n                [value]=\\\"orderDocumentTable.list\\\"\\r\\n                [(selection)]=\\\"selectedOrderDocuments\\\"\\r\\n                [scrollable]=\\\"true\\\"\\r\\n              >\\r\\n                <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                  <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                  <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                    <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                    <div class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"caption\\\">\\r\\n                  <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedOrderDocuments.length > 0 }\\\">\\r\\n                    <div class=\\\"aw-table-global-filter\\\">\\r\\n                      <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                        <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </label>\\r\\n\\r\\n                      <input\\r\\n                        #ptableResultsGlobalFilter\\r\\n                        class=\\\"aw-table-global-filter-input\\\"\\r\\n                        type=\\\"text\\\"\\r\\n                        placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                        (input)=\\\"ptableResults.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                      />\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"aw-table-actions\\\">\\r\\n                      <button\\r\\n                        *ngIf=\\\"\\r\\n                          orderDocumentTable && orderDocumentTable.length > 0 && selectedOrderDocuments.length === 0\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"exportTable()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.export\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"hasManageAccessRight && selectedOrderDocuments.length > 0\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteOrderDocuments()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"selectedOrderDocuments.length > 0\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openSelectedOrderDocuments()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                  <colgroup>\\r\\n                    <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                    <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                  </colgroup>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                  <tr>\\r\\n                    <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                    </th>\\r\\n\\r\\n                    <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                    </th>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                  <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                    <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                      <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                    </td>\\r\\n                    <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                      <a *ngSwitchCase=\\\"'code'\\\" (click)=\\\"openOrderDocument(rowData, componentOpenMode.Read)\\\">\\r\\n                        {{ rowData[col.field] }}</a\\r\\n                      >\\r\\n                      <a *ngSwitchCase=\\\"'superiorDocument'\\\" (click)=\\\"openSuperiorOrderDocument(rowData)\\\">\\r\\n                        {{ rowData[col.field] }}</a\\r\\n                      >\\r\\n                      <span *ngSwitchCase=\\\"'name'\\\"\\r\\n                        ><span title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span></span\\r\\n                      >\\r\\n                      <span *ngSwitchCase=\\\"'category'\\\"\\r\\n                        ><span title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span></span\\r\\n                      >\\r\\n                      <span *ngSwitchCase=\\\"'supplier'\\\"\\r\\n                        ><span title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span></span\\r\\n                      >\\r\\n\\r\\n                      <span *ngSwitchCase=\\\"'type'\\\"\\r\\n                        ><span title=\\\"{{ rowData[col.field] }}\\\">{{ rowData[col.field] }}</span></span\\r\\n                      >\\r\\n                      <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </ng-template>\\r\\n              </p-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-search-material\\r\\n  *ngIf=\\\"showQuickSearchMaterialPopup\\\"\\r\\n  [(display)]=\\\"showQuickSearchMaterialPopup\\\"\\r\\n  [material-code]=\\\"searchObject.productCode\\\"\\r\\n  (onSelected)=\\\"setSelectedMaterial($event)\\\"\\r\\n></aw-dialog-search-material>\\r\\n\\r\\n<aw-dialog-search-purchase-request\\r\\n  *ngIf=\\\"showQuickSearchPurchaseRequestPopup\\\"\\r\\n  [(display)]=\\\"showQuickSearchPurchaseRequestPopup\\\"\\r\\n  [pr-code]=\\\"searchObject.purchaseRequestSupCode\\\"\\r\\n  (onSelected)=\\\"setSelectedPurchaseRequest($event)\\\"\\r\\n></aw-dialog-search-purchase-request>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vbG9naXN0aWNzL29yZGVyLWRvY3VtZW50L3NlYXJjaC9vcmRlci1kb2N1bWVudC1zZWFyY2guY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { ISearchCriteria } from '../../../../shared/components/manage-search-criteria/search-criteria.interface';\r\nimport { AppConstants } from '../../../../shared/constants/app-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { DisplayOrderDocumentInput } from '../../../../shared/types/api-input-types/bidt-purchase-request/display-order-document-input.interface';\r\nimport { BidtPurchaseRequestDTO } from '../../../../shared/types/api-types/bidt-purchase-request-dto.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { PageComponent } from '../../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { SelectItemUtils } from '../../../../shared/utils/select-item-utils';\r\nimport { OrderDocumentRow } from '../shared/order-document-row.interface';\r\n\r\nimport { OrderDocumentSearchService } from './order-document-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-order-document-search',\r\n  styleUrls: ['./order-document-search.component.scss'],\r\n  templateUrl: './order-document-search.component.html'\r\n})\r\nexport class OrderDocumentSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  private static readonly ORDER_DOCUMENT_TABLE_EXPORT_NAME: string = 'order-document-list';\r\n\r\n  public criteriaToSave: DisplayOrderDocumentInput;\r\n  public hasBeenCalculated: boolean;\r\n  public criteriaName: string | undefined;\r\n\r\n  public readonly componentOpenMode: typeof ComponentOpenMode;\r\n\r\n  public orderDocumentTable: SearchResultsDTO<OrderDocumentRow>;\r\n  public orderDocumentTableCols: TableColumn[];\r\n  public searchObject: DisplayOrderDocumentInput;\r\n  public selectedOrderDocuments: OrderDocumentRow[];\r\n\r\n  public orderDocumentTypes: SelectItem[];\r\n  public orderDocumentCategories: SelectItem[];\r\n  public orderDocumentStatus: SelectItem[];\r\n  public orderDocumentSuppliers: SelectItem[];\r\n\r\n  public isLoading: boolean;\r\n  public showAdvancedCriteria: boolean;\r\n  public receptionDateVisibility: boolean;\r\n  public startDateVisibility: boolean;\r\n  public endDateVisibility: boolean;\r\n  public showQuickSearchMaterialPopup: boolean;\r\n  public showQuickSearchPurchaseRequestPopup: boolean;\r\n  public bidtPurchaseDTO: BidtPurchaseRequestDTO;\r\n\r\n  public readonly SEARCH_CRITERIA_ID: string = AppConstants.ORDER_DOCUMENT_SEARCH_CRITERIA_ID;\r\n\r\n  /* HTML references ***********************************************************/\r\n\r\n  @ViewChild('resultsContainerAnchor')\r\n  public resultsContainerAnchor: ElementRef;\r\n\r\n  /* ***************************************************************************/\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    public dateService: DateService,\r\n    private readonly orderDocumentSearchService: OrderDocumentSearchService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly exportService: ExportService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.componentOpenMode = ComponentOpenMode;\r\n    this.init();\r\n    this.initOrderDocumentTableCols();\r\n    this.loadOrderDocumentCategories();\r\n    this.loadOrderDocumentStatus();\r\n    this.loadOrderDocumentSupplierCodes();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.LOG_ORDER_DOCUMENT_SEARCH;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  public deleteOrderDocuments(): void {\r\n    const confirmMessageKey =\r\n      this.selectedOrderDocuments.length > 1\r\n        ? 'confirmDeleteSelectedOrderDocuments'\r\n        : 'confirmDeleteSelectedOrderDocument';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(confirmMessageKey),\r\n      accept: () => {\r\n        const ids: number[] = [];\r\n        this.selectedOrderDocuments.forEach((orderDocument) => {\r\n          if (!!orderDocument && !!orderDocument._obj.id) {\r\n            ids.push(orderDocument._obj.id);\r\n          }\r\n        });\r\n\r\n        this.orderDocumentSearchService.remove(ids).subscribe(() => {\r\n          this.search();\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteOrderDocument'));\r\n        });\r\n\r\n        this.selectedOrderDocuments = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public exportTable(): void {\r\n    this.exportService.toExcel(\r\n      this.orderDocumentTable.list,\r\n      OrderDocumentSearchComponent.ORDER_DOCUMENT_TABLE_EXPORT_NAME,\r\n      this.componentData.componentId\r\n    );\r\n  }\r\n\r\n  public openNewOrderDocument(): void {\r\n    this.openOrderDocument(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public openSelectedOrderDocuments(): void {\r\n    this.selectedOrderDocuments.forEach((orderDocument) => {\r\n      if (!!orderDocument) {\r\n        if (orderDocument._obj.id === null || orderDocument._obj.id === undefined) {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingOrderDocumentCode'));\r\n        } else {\r\n          this.openOrderDocument(orderDocument, ComponentOpenMode.Read);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.bidtPurchaseDTO = {};\r\n    this.searchObject = {\r\n      bidtPurchaseDTO: this.bidtPurchaseDTO\r\n    };\r\n    this.criteriaName = undefined;\r\n  }\r\n\r\n  public search(): void {\r\n    this.isLoading = true;\r\n    this.clearResultTable();\r\n    super.scrollToAnchor(this.resultsContainerAnchor);\r\n    this.searchObject.bidtPurchaseDTO = this.bidtPurchaseDTO;\r\n\r\n    this.orderDocumentSearchService.findByCriteria(this.searchObject).subscribe((result) => {\r\n      this.isLoading = false;\r\n\r\n      this.setOrderDocumentTable(result);\r\n\r\n      super.differ(() => {\r\n        super.scrollToAnchor(this.resultsContainerAnchor);\r\n      });\r\n    });\r\n  }\r\n\r\n  public loadSearchCriteria(event: ISearchCriteria): void {\r\n    const criteria: DisplayOrderDocumentInput | undefined = event.criteria;\r\n    if (!criteria) {\r\n      this.resetSearchCriteria();\r\n\r\n      return;\r\n    }\r\n    // do not load criteria first time if we come from stock alert page\r\n    if (!this.componentData.objectId) {\r\n      this.criteriaName = event.name;\r\n      this.searchObject = criteria || {};\r\n      this.bidtPurchaseDTO = criteria.bidtPurchaseDTO || {};\r\n    } else {\r\n      this.componentData.objectId = undefined;\r\n    }\r\n    this.search();\r\n  }\r\n\r\n  public saveSearchCriteriaAsked(): void {\r\n    this.searchObject.bidtPurchaseDTO = this.bidtPurchaseDTO;\r\n    const criteriaToSave: DisplayOrderDocumentInput = this.searchObject;\r\n    this.criteriaToSave = criteriaToSave;\r\n  }\r\n\r\n  private clearResultTable(): void {\r\n    this.orderDocumentTable = { list: [], moreResults: false };\r\n    this.selectedOrderDocuments = [];\r\n  }\r\n\r\n  private init(): void {\r\n    this.clearResultTable();\r\n    this.resetSearchCriteria();\r\n\r\n    this.orderDocumentCategories = [];\r\n    this.orderDocumentStatus = [];\r\n    this.orderDocumentSuppliers = [];\r\n    this.orderDocumentTypes = [];\r\n    this.isLoading = false;\r\n    this.showAdvancedCriteria = false;\r\n    this.receptionDateVisibility = false;\r\n    this.startDateVisibility = false;\r\n    this.endDateVisibility = false;\r\n    this.showQuickSearchMaterialPopup = false;\r\n    this.showQuickSearchPurchaseRequestPopup = false;\r\n  }\r\n\r\n  private initOrderDocumentTableCols(): void {\r\n    this.orderDocumentTableCols = [\r\n      { field: 'code', alignment: 'left' },\r\n      { field: 'name', alignment: 'left' },\r\n      { field: 'category', alignment: 'left' },\r\n      { field: 'type', alignment: 'left' },\r\n      { field: 'supplier', alignment: 'left' },\r\n      { field: 'supplierDocumentNumber', alignment: 'left' },\r\n      { field: 'status', alignment: 'left' },\r\n      { field: 'creationDate', alignment: 'left' },\r\n      { field: 'receptionDate', alignment: 'left' },\r\n      { field: 'startDate', alignment: 'left' },\r\n      { field: 'endDate', alignment: 'left' },\r\n      { field: 'superiorDocument', alignment: 'left' }\r\n    ];\r\n  }\r\n\r\n  private formatDate(date: number | undefined): string {\r\n    if (!!date) {\r\n      return this.dateService.dateToString(new Date(date));\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  private loadOrderDocumentCategories(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PURCHASE_CATEGORY_MAP).subscribe((results) => {\r\n      this.orderDocumentCategories = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  private loadOrderDocumentStatus(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PURCHASE_STATUS_MAP).subscribe((results) => {\r\n      this.orderDocumentStatus = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  public loadOrderDocumentTypes(): void {\r\n    this.bidtPurchaseDTO.prType = undefined;\r\n    const category = this.searchObject.bidtPurchaseDTO && this.searchObject.bidtPurchaseDTO.prCategory;\r\n    if (category !== null && category !== undefined) {\r\n      this.orderDocumentSearchService.findTypeBasedOnCategory(category).subscribe((results) => {\r\n        this.orderDocumentTypes = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n      });\r\n    } else {\r\n      this.orderDocumentTypes = [];\r\n    }\r\n  }\r\n\r\n  private loadOrderDocumentSupplierCodes(): void {\r\n    this.orderDocumentSearchService.findBidoCustomerBySearchCriteriaOrder().subscribe((results) => {\r\n      this.orderDocumentSuppliers = !!results ? SelectItemUtils.fromLabelValues(results) : [];\r\n    });\r\n  }\r\n\r\n  public openOrderDocument(object: OrderDocumentRow | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_ORDER_DOCUMENT_FORM,\r\n      openMode\r\n    };\r\n    if (!!object) {\r\n      data.objectId = this.serializationService.serialize(object);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openSuperiorOrderDocument(object: OrderDocumentRow | undefined): void {\r\n    if (!!object) {\r\n      const superiorRow = this.orderDocumentTable.list.filter((doc) => doc.code === object.superiorDocument)[0];\r\n      this.openOrderDocument(superiorRow, ComponentOpenMode.Read);\r\n    }\r\n    // const data: PageComponentData = {\r\n    //   id: this.tabService.generateId(),\r\n    //   componentId: ComponentConstants.LOG_ORDER_DOCUMENT_FORM,\r\n    //   openMode\r\n    // };\r\n    // if (!!object) {\r\n    //   data.objectId = this.serializationService.serialize(object);\r\n    // }\r\n    // const labelKey = 'transaction.' + data.componentId;\r\n    // this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private setOrderDocumentTable(result: SearchResultsDTO<BidtPurchaseRequestDTO>): void {\r\n    if (!!result) {\r\n      this.orderDocumentTable.moreResults = result.moreResults;\r\n      this.orderDocumentTable.list = result.list.map((orderDocument) => {\r\n        const orderDocumentRow: OrderDocumentRow = {\r\n          code: orderDocument.prCode,\r\n          name: orderDocument.prName,\r\n          status: orderDocument.prStatus,\r\n          creationDate: this.formatDate(orderDocument.prCreationDate),\r\n          receptionDate: this.formatDate(orderDocument.prReceptionDate),\r\n          category: orderDocument.prCategory,\r\n          type: orderDocument.prType,\r\n          startDate: this.formatDate(orderDocument.prStartDate),\r\n          endDate: this.formatDate(orderDocument.prEndDate),\r\n          supplierDocumentNumber: orderDocument.supplierDocumentNumber,\r\n          supplier: orderDocument.supplier,\r\n          superiorDocument: orderDocument.superiorDocument,\r\n          _obj: orderDocument\r\n        };\r\n\r\n        return orderDocumentRow;\r\n      });\r\n    }\r\n\r\n    this.selectedOrderDocuments = [];\r\n  }\r\n\r\n  public searchMaterialCode() {\r\n    this.showQuickSearchMaterialPopup = true;\r\n  }\r\n\r\n  public searchSuperiorDocument() {\r\n    this.showQuickSearchPurchaseRequestPopup = true;\r\n  }\r\n\r\n  public setSelectedMaterial(selectedObject: BirePnDTO) {\r\n    if (selectedObject) {\r\n      this.searchObject.material = selectedObject.pnCode;\r\n    }\r\n    this.showQuickSearchMaterialPopup = false;\r\n  }\r\n\r\n  public setSelectedPurchaseRequest(selectedObject: BidtPurchaseRequestDTO) {\r\n    if (selectedObject) {\r\n      this.searchObject.purchaseRequestSupCode = selectedObject.prCode;\r\n    }\r\n    this.showQuickSearchPurchaseRequestPopup = false;\r\n  }\r\n}\r\n","import * as FileSaver from 'file-saver';\r\n\r\nimport { NumberUtils } from './number-utils';\r\n\r\nexport class FileUtils {\r\n  public static readonly KIBIOCTET: number = 1024;\r\n  public static readonly KILOOCTET: number = 1000;\r\n\r\n  public static downloadFile(file: Uint8Array | undefined, fileName: string | undefined): void {\r\n    if (!!file && !!fileName) {\r\n      const byteCharacters = atob(file.toString());\r\n      const byteNumbers = new Array(byteCharacters.length);\r\n      for (let i = 0; i < byteCharacters.length; i++) {\r\n        byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n      }\r\n\r\n      FileSaver.saveAs(new Blob([new Uint8Array(byteNumbers)]), fileName);\r\n    }\r\n  }\r\n\r\n  public static getExtension(fileName: string | undefined): string {\r\n    return !!fileName && fileName.includes('.') ? fileName.substring(fileName.lastIndexOf('.') + 1) : '';\r\n  }\r\n\r\n  public static getFileContentAsBase64(file: File | undefined, callback: (fileContent: Uint8Array) => void): void {\r\n    if (!!file) {\r\n      const reader: FileReader = new FileReader();\r\n      reader.onloadend = () => {\r\n        let fileContent: any = reader.result; // tslint:disable-line:no-any\r\n        fileContent = fileContent.substring((fileContent.indexOf(',') as number) + 1); // Remove data:*/*;base64,\r\n        callback(fileContent);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  public static getFormattedSize(size: number | undefined): string {\r\n    if (!!size) {\r\n      return size / FileUtils.KILOOCTET < FileUtils.KILOOCTET\r\n        ? `${NumberUtils.roundNumber(size / FileUtils.KILOOCTET)} Ko`\r\n        : `${NumberUtils.roundNumber(size / FileUtils.KILOOCTET / FileUtils.KILOOCTET)} Mo`;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}\r\n","import { LabelValue } from '../../shared/types/label-value.interface';\r\n\r\nexport class LabelValueUtils {\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static stringValueToLabel<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.value === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.label;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static labelToStringValue<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.label === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.value;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n"],"sourceRoot":""}