{"version":3,"sources":["webpack:///./src/app/main/engineering-management/additional-maintenance-guideline/form/additional-maintenance-guideline-form.component.ts","webpack:///./src/app/main/engineering-management/additional-maintenance-guideline/search/additional-maintenance-guideline-search.component.ts","webpack:///./src/app/main/engineering-management/airworthiness-directive-form/airworthiness-directive-form.component.ts","webpack:///./src/app/main/engineering-management/airworthiness-directive-search/airworthiness-directive-search.component.ts","webpack:///./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.html","webpack:///./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.component.ts","webpack:///./src/app/main/engineering-management/airworthiness-document-search/airworthiness-document-search.service.ts","webpack:///./src/app/main/engineering-management/engineering-management.module.ts","webpack:///./src/app/main/engineering-management/evolution-form/evolution-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/evolution-form.component.scss","webpack:///./src/app/main/engineering-management/evolution-form/evolution-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/evolution-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/assets-popup-form/assets-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/evol-import-popup/evol-import-popup.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/impacts-popup-form/impacts-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/interdependences-popup-form/interdependences-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/modifications-popup-form/modifications-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.html","webpack:///./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.component.ts","webpack:///./src/app/main/engineering-management/evolution-form/popups/sbad-popup-form/sbad-popup-form.service.ts","webpack:///./src/app/main/engineering-management/evolution-search/evolution-search.component.html","webpack:///./src/app/main/engineering-management/evolution-search/evolution-search.component.ts","webpack:///./src/app/main/engineering-management/evolution-search/evolution-search.service.ts","webpack:///./src/app/main/engineering-management/family-form/family-form.component.html","webpack:///./src/app/main/engineering-management/family-form/family-form.component.scss","webpack:///./src/app/main/engineering-management/family-form/family-form.component.ts","webpack:///./src/app/main/engineering-management/family-form/family-form.service.ts","webpack:///./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.html","webpack:///./src/app/main/engineering-management/family-form/popups/family-modification-popup/family-modification-popup.component.ts","webpack:///./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.html","webpack:///./src/app/main/engineering-management/family-form/popups/family-rating-popup/family-rating-popup.component.ts","webpack:///./src/app/main/engineering-management/family-form/popups/popup-form.component.scss","webpack:///./src/app/main/engineering-management/family-search/family-search.component.html","webpack:///./src/app/main/engineering-management/family-search/family-search.component.scss","webpack:///./src/app/main/engineering-management/family-search/family-search.component.ts","webpack:///./src/app/main/engineering-management/family-search/family-search.service.ts","webpack:///./src/app/main/engineering-management/functional-location-form/functional-location-form.component.html","webpack:///./src/app/main/engineering-management/functional-location-form/functional-location-form.component.scss","webpack:///./src/app/main/engineering-management/functional-location-form/functional-location-form.component.ts","webpack:///./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.html","webpack:///./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.scss","webpack:///./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.component.ts","webpack:///./src/app/main/engineering-management/functional-location-form/popups/family-variant-popup-form.service.ts","webpack:///./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.html","webpack:///./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.component.ts","webpack:///./src/app/main/engineering-management/functional-location-form/popups/model-popup-form/model-popup-form.service.ts","webpack:///./src/app/main/engineering-management/functional-location-search/functional-location-search.component.html","webpack:///./src/app/main/engineering-management/functional-location-search/functional-location-search.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form-mhiael.service.ts","webpack:///./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.scss","webpack:///./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-form/maintenance-program-form.service.ts","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/popup-form.component.scss","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.scss","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/report-popup-form/report-popup-form.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-search/change-record-form/change-record-form.service.ts","webpack:///./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.scss","webpack:///./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-search/maintenance-program-search.service.ts","webpack:///./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.html","webpack:///./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.component.ts","webpack:///./src/app/main/engineering-management/maintenance-program-updates-list/maintenance-program-updates-list.service.ts","webpack:///./src/app/main/engineering-management/modification-form/modification-form.component.html","webpack:///./src/app/main/engineering-management/modification-form/modification-form.component.scss","webpack:///./src/app/main/engineering-management/modification-form/modification-form.component.ts","webpack:///./src/app/main/engineering-management/modification-form/modification-form.service.ts","webpack:///./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.html","webpack:///./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.component.ts","webpack:///./src/app/main/engineering-management/modification-form/popups/modification-assets-popup-form.service.ts","webpack:///./src/app/main/engineering-management/modification-search/modification-search.component.html","webpack:///./src/app/main/engineering-management/modification-search/modification-search.component.scss","webpack:///./src/app/main/engineering-management/modification-search/modification-search.component.ts","webpack:///./src/app/main/engineering-management/modification-search/modification-search.service.ts","webpack:///./src/app/main/engineering-management/part-number-form/part-number-form.component.html","webpack:///./src/app/main/engineering-management/part-number-form/part-number-form.component.scss","webpack:///./src/app/main/engineering-management/part-number-form/part-number-form.component.ts","webpack:///./src/app/main/engineering-management/part-number-form/part-number-form.service.ts","webpack:///./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.html","webpack:///./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.component.ts","webpack:///./src/app/main/engineering-management/part-number-form/popups/ref-measurements-popup-form.service.ts","webpack:///./src/app/main/engineering-management/part-number-search/part-number-search.component.html","webpack:///./src/app/main/engineering-management/part-number-search/part-number-search.component.ts","webpack:///./src/app/main/engineering-management/part-number-search/part-number-search.service.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.html","webpack:///./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.component.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.html","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.service.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.html","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.html","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.html","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component.ts","webpack:///./src/app/main/engineering-management/sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.service.ts","webpack:///./src/app/main/engineering-management/sbad-form/sbad-form-mhiael.service.ts","webpack:///./src/app/main/engineering-management/sbad-form/sbad-form.component.html","webpack:///./src/app/main/engineering-management/sbad-form/sbad-form.component.scss","webpack:///./src/app/main/engineering-management/sbad-form/sbad-form.component.ts","webpack:///./src/app/main/engineering-management/sbad-form/sbad-form.service.ts","webpack:///./src/app/main/engineering-management/sbad-search/sbad-search.component.ts","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.html","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component.ts","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.service.ts","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.html","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component.ts","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.html","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.scss","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/form/unit-conversion-matrix-form.component.ts","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.html","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.scss","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/import-report-popup/import-report-popup.component.ts","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.html","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.scss","webpack:///./src/app/main/engineering-management/unit-conversion-matrix/search/unit-conversion-matrix-search.component.ts","webpack:///./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.html","webpack:///./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.scss","webpack:///./src/app/main/engineering-management/visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component.ts","webpack:///./src/app/main/engineering-management/visit-form/visit-form.component.html","webpack:///./src/app/main/engineering-management/visit-form/visit-form.component.scss","webpack:///./src/app/main/engineering-management/visit-form/visit-form.component.ts","webpack:///./src/app/main/engineering-management/visit-form/visit-form.service.ts","webpack:///./src/app/main/engineering-management/visit-search/visit-search.component.html","webpack:///./src/app/main/engineering-management/visit-search/visit-search.component.ts","webpack:///./src/app/main/engineering-management/visit-search/visit-search.service.ts","webpack:///./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.html","webpack:///./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.scss","webpack:///./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.component.ts","webpack:///./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.module.ts","webpack:///./src/app/shared/components/dialog-generate-comment/dialog-generate-comment.service.ts","webpack:///./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.html","webpack:///./src/app/shared/components/dialog-search-modification/dialog-search-modification.component.ts","webpack:///./src/app/shared/components/dialog-search-modification/dialog-search-modification.module.ts","webpack:///./src/app/shared/components/dialog-search-modification/dialog-search-modification.service.ts","webpack:///./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.html","webpack:///./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.scss","webpack:///./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.component.ts","webpack:///./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.module.ts","webpack:///./src/app/shared/components/dialog-search-sbad/dialog-search-sbad.service.ts","webpack:///./src/app/shared/constants/bire-attribute-constants.ts","webpack:///./src/app/shared/constants/bire-maintenance-plan-constants.ts","webpack:///./src/app/shared/constants/bire-measure-reference-constants.ts","webpack:///./src/app/shared/utils/array-utils.ts","webpack:///./src/app/shared/utils/settings-utils.ts","webpack:///./src/app/shared/utils/tab-object-id-utils.ts"],"names":[],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdJ;AACF;AACS;AACA;AACJ;AACI;AACI;AACM;AACR;AACJ;AACA;AACU;AACF;AACA;AACU;AAClB;AACN;AACU;AACc;AAEoB;AACqB;AACrB;AACR;AACoB;AACS;AACS;AACS;AACA;AAC6B;AAC5C;AACG;AACH;AAC2B;AAC3B;AACA;AACd;AACH;AACyC;AACvB;AACW;AACjD;AAC8C;AAC9C;AACkC;AACwC;AACpB;AAEuB;AACM;AAChC;AACM;AACP;AACxB;AAChB;AACJ;AAC6D;AACJ;AACvB;AACJ;AACI;AACiB;AACJ;AACI;AACJ;AACV;AACJ;AAC+B;AACJ;AACL;AACJ;AACvB;AACJ;AACd;AACJ;AACX;AACJ;AACoE;AAClB;AACxC;AACJ;AACoC;AACJ;AACY;AACJ;AACI;AACJ;AACE;AACJ;AAC5C;AACmD;AACT;AACJ;AACmC;AACpB;AACW;AACR;AACL;AACJ;AACsD;AACrD;AACJ;AACqB;AACJ;AACvC;AACJ;AACmC;AACJ;AACrB;AACJ;AACN;AACJ;AACsC;AACJ;AACxB;AACJ;AAC2D;AACR;AACJ;AACnB;AACR;AACkD;AACJ;AAC/E;AACT;AACJ;AACU;AACoF;AACJ;AACA;AAClC;AACA;AACM;AACxB;AACqD;AACpF;AACJ;AACU;AACJ;AAEzE,IAAM,eAAe,GAAG;IACtB,+DAAc;IACd,+DAAc;IACd,2DAAY;IACZ,+DAAc;IACd,6DAAa;IACb,yEAAmB;IACnB,sEAAiB;IACjB,sEAAiB;IACjB,0DAAkB;IAClB,8DAAa;IACb,wDAAU;IACV,gFAAsB;IACtB,mEAAgB;IAChB,iEAAe;IACf,wEAAkB;IAClB,kEAAe;IACf,8DAAa;CACd,CAAC;AAEF,IAAM,UAAU,GAAG;IACjB,yIAAoC;IACpC,oIAA4B;IAC5B,2JAAqC;IACrC,wHAAsB;IACtB,mJAA+B;IAC/B,yJAAiC;IACjC,8HAAwB;IACxB,4JAAkC;IACl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","file":"engineering-management-engineering-management-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { forkJoin } from 'rxjs';\r\n\r\nimport { UpdateHistoricApi } from '../../../../shared/api/update-historic.api';\r\nimport { PageTocService } from '../../../../shared/components/component-sidebar/page-toc.service';\r\nimport { DynamicAttributesService } from '../../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { FormatSelectOptionPipe } from '../../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { InputValidationService } from '../../../../shared/services/input-validation.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { UpdateHistoricService } from '../../../../shared/services/update-historic.service';\r\nimport { OverlayService } from '../../../overlay/overlay.service';\r\nimport { SbadFormMhiaelService } from '../../sbad-form/sbad-form-mhiael.service';\r\nimport { SbadFormComponent } from '../../sbad-form/sbad-form.component';\r\nimport { SbadFormService } from '../../sbad-form/sbad-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-additional-maintenance-guideline-form',\r\n  templateUrl: '../../sbad-form/sbad-form.component.html',\r\n  styleUrls: ['../../sbad-form/sbad-form.component.scss']\r\n})\r\nexport class AdditionalMaintenanceGuidelineFormComponent extends SbadFormComponent implements OnInit {\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    inputValidationService: InputValidationService,\r\n    sbadFormService: SbadFormService,\r\n    sbadFormMhiaelService: SbadFormMhiaelService,\r\n    propertiesService: PropertiesService,\r\n    public translateService: TranslateService,\r\n    public dynamicAttributesService: DynamicAttributesService,\r\n    confirmationService: ConfirmationService,\r\n    public sessionService: SessionService,\r\n    public dateService: DateService,\r\n    updateHistoricService: UpdateHistoricService,\r\n    updateHistoricApi: UpdateHistoricApi,\r\n    pageTocService: PageTocService,\r\n    _overlayService: OverlayService,\r\n    _formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      inputValidationService,\r\n      sbadFormService,\r\n      sbadFormMhiaelService,\r\n      propertiesService,\r\n      translateService,\r\n      dynamicAttributesService,\r\n      confirmationService,\r\n      sessionService,\r\n      dateService,\r\n      updateHistoricService,\r\n      updateHistoricApi,\r\n      pageTocService,\r\n      _overlayService,\r\n      _formatSelectOption\r\n    );\r\n    this.isAD = true;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.bireSbDisplayed.sbType = AWPropertiesConstants.SB_TYPE_AMG_KEY;\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_ADDITIONAL_MAINTENANCE_GUIDELINE_FORM;\r\n  }\r\n\r\n  public showSubType(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public showUpgrade(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public showContext(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public showGuideline(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public getLimitRefernceDateEndpointRef(): string {\r\n    return GenericPropertyConstants.ADDITIONAL_GUIDELINE_EFFECTIVE_DATE;\r\n  }\r\n\r\n  public getLimitAndPeriodicityLists(callback: () => void | undefined): void {\r\n    const counterCode$ = this.sbadFormService.findAllColunterCode();\r\n    const limitType$ = this.propertiesService.getValue('getSbCounterLimitTypeMap');\r\n    const limitRefernceDate$ = this.propertiesService.getValue(this.getLimitRefernceDateEndpointRef());\r\n\r\n    forkJoin([counterCode$, limitType$, limitRefernceDate$]).subscribe(([counterCode, types, refernceType]) => {\r\n      this.counterCodeList = counterCode;\r\n      this.limitType = types;\r\n      this.limitRefernceType = refernceType;\r\n      if (callback) {\r\n        callback();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { TableDataSource } from '../../../../shared/components/table/table-data-source';\r\nimport { AppConstants } from '../../../../shared/constants/app-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { BireSbDTO } from '../../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { AirworthinessDocumentSearchComponent } from '../../airworthiness-document-search/airworthiness-document-search.component';\r\nimport { AirworthinessDocumentSearchService } from '../../airworthiness-document-search/airworthiness-document-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-sbad-search',\r\n  templateUrl: '../../airworthiness-document-search/airworthiness-document-search.component.html'\r\n})\r\nexport class AdditionalMaintenanceGuidelineSearchComponent extends AirworthinessDocumentSearchComponent {\r\n  private static readonly TABLE_EXPORT_NAME: string = 'Additional Maintenance Guideline list';\r\n  public readonly subTypeMap: Map<string, string>;\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    sessionService: SessionService,\r\n    confirmationService: ConfirmationService,\r\n    exportService: ExportService,\r\n    propertiesService: PropertiesService,\r\n    translateService: TranslateService,\r\n    dateService: DateService,\r\n    airworthinessDocumentSearchService: AirworthinessDocumentSearchService\r\n  ) {\r\n    super(\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      sessionService,\r\n      confirmationService,\r\n      exportService,\r\n      propertiesService,\r\n      translateService,\r\n      dateService,\r\n      airworthinessDocumentSearchService\r\n    );\r\n\r\n    this.SEARCH_CRITERIA_ID = AppConstants.ADDITIONAL_MAINTENANCE_GUIDELINE_SEARCH_CRITERIA_ID;\r\n  }\r\n\r\n  protected initAdTableDataSource(): void {\r\n    this.adTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'sbNumber', translateKey: this.getTranslateKey('sbNumber'), width: '12%' },\r\n        { field: 'sbRevisionNumber', translateKey: this.getTranslateKey('sbRevisionNumber'), width: '10%' },\r\n        { field: 'sbTitle', translateKey: this.getTranslateKey('sbTitle'), width: '28%' },\r\n        { field: 'statusState', translateKey: this.getTranslateKey('statusState'), width: '10%' },\r\n        { field: 'sbSubType', translateKey: this.getTranslateKey('sbSubType'), width: '10%' },\r\n        { field: 'sbCompliance', translateKey: this.getTranslateKey('sbCompliance'), width: '10%' },\r\n        { field: 'sbPublicationDate', translateKey: this.getTranslateKey('sbPublicationDate'), width: '10%' },\r\n        { field: 'sbEffectiveDate', translateKey: this.getTranslateKey('sbEffectiveDate'), width: '10%' }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_ADDITIONAL_MAINTENANCE_GUIDELINE_SEARCH;\r\n  }\r\n\r\n  protected getTableExportName(): string {\r\n    return AdditionalMaintenanceGuidelineSearchComponent.TABLE_EXPORT_NAME;\r\n  }\r\n\r\n  public isAD(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public getFormComponentName(): string {\r\n    return ComponentConstants.ENG_ADDITIONAL_MAINTENANCE_GUIDELINE_FORM;\r\n  }\r\n\r\n  public showSubType(): boolean {\r\n    return true;\r\n  }\r\n\r\n  protected findAirworthinessDocumentByCriteria(\r\n    familyCode: string | undefined,\r\n    structureType: string | undefined,\r\n    variantCode: string | undefined\r\n  ): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    return this.airworthinessDocumentSearchService.findBireSbsBySbCriteriaAmg(\r\n      this.searchObject,\r\n      familyCode || '',\r\n      structureType || '',\r\n      variantCode || '',\r\n      this.sbPublicationDateFrom,\r\n      this.sbPublicationDateTo,\r\n      this.sbEffectiveDateFrom,\r\n      this.sbEffectiveDateTo\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { UpdateHistoricApi } from '../../../shared/api/update-historic.api';\r\nimport { PageTocService } from '../../../shared/components/component-sidebar/page-toc.service';\r\nimport { DynamicAttributesService } from '../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { FormatSelectOptionPipe } from '../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { InputValidationService } from '../../../shared/services/input-validation.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { UpdateHistoricService } from '../../../shared/services/update-historic.service';\r\nimport { OverlayService } from '../../overlay/overlay.service';\r\nimport { SbadFormMhiaelService } from '../sbad-form/sbad-form-mhiael.service';\r\nimport { SbadFormComponent } from '../sbad-form/sbad-form.component';\r\nimport { SbadFormService } from '../sbad-form/sbad-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-airworthiness-directive-form',\r\n  templateUrl: '../sbad-form/sbad-form.component.html',\r\n  styleUrls: ['../sbad-form/sbad-form.component.scss']\r\n})\r\nexport class AirworthinessDirectiveFormComponent extends SbadFormComponent implements OnInit {\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    inputValidationService: InputValidationService,\r\n    sbadFormService: SbadFormService,\r\n    sbadFormMhiaelService: SbadFormMhiaelService,\r\n    propertiesService: PropertiesService,\r\n    public translateService: TranslateService,\r\n    public dynamicAttributesService: DynamicAttributesService,\r\n    confirmationService: ConfirmationService,\r\n    public sessionService: SessionService,\r\n    public dateService: DateService,\r\n    updateHistoricService: UpdateHistoricService,\r\n    updateHistoricApi: UpdateHistoricApi,\r\n    pageTocService: PageTocService,\r\n    _overlayService: OverlayService,\r\n    _formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      inputValidationService,\r\n      sbadFormService,\r\n      sbadFormMhiaelService,\r\n      propertiesService,\r\n      translateService,\r\n      dynamicAttributesService,\r\n      confirmationService,\r\n      sessionService,\r\n      dateService,\r\n      updateHistoricService,\r\n      updateHistoricApi,\r\n      pageTocService,\r\n      _overlayService,\r\n      _formatSelectOption\r\n    );\r\n    this.isAD = true;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.bireSbDisplayed.sbType = AWPropertiesConstants.SB_TYPE_AD_KEY;\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_AIRWORTHINESS_DIRECTIVE_FORM;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AppConstants } from '../../../shared/constants/app-constants';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { BireSbDTO } from '../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { AirworthinessDocumentSearchComponent } from '../airworthiness-document-search/airworthiness-document-search.component';\r\nimport { AirworthinessDocumentSearchService } from '../airworthiness-document-search/airworthiness-document-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-airworthiness-directive-search',\r\n  templateUrl: '../airworthiness-document-search/airworthiness-document-search.component.html'\r\n})\r\nexport class AirworthinessDirectiveSearchComponent extends AirworthinessDocumentSearchComponent {\r\n  private static readonly TABLE_EXPORT_NAME: string = 'Airworthiness directive list';\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    sessionService: SessionService,\r\n    confirmationService: ConfirmationService,\r\n    exportService: ExportService,\r\n    propertiesService: PropertiesService,\r\n    translateService: TranslateService,\r\n    dateService: DateService,\r\n    airworthinessDocumentSearchService: AirworthinessDocumentSearchService\r\n  ) {\r\n    super(\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      sessionService,\r\n      confirmationService,\r\n      exportService,\r\n      propertiesService,\r\n      translateService,\r\n      dateService,\r\n      airworthinessDocumentSearchService\r\n    );\r\n\r\n    this.SEARCH_CRITERIA_ID = AppConstants.AIRWORTHINESS_SEARCH_CRITERIA_ID;\r\n  }\r\n\r\n  protected initAdTableDataSource(): void {\r\n    this.adTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'sbNumber', translateKey: this.getTranslateKey('sbNumber'), width: '15%' },\r\n        { field: 'sbRevisionNumber', translateKey: this.getTranslateKey('sbRevisionNumber'), width: '12%' },\r\n        { field: 'sbTitle', translateKey: this.getTranslateKey('sbTitle'), width: '25%' },\r\n        { field: 'statusState', translateKey: this.getTranslateKey('statusState'), width: '12%' },\r\n        { field: 'sbCompliance', translateKey: this.getTranslateKey('sbCompliance'), width: '12%' },\r\n        { field: 'sbPublicationDate', translateKey: this.getTranslateKey('sbPublicationDate'), width: '12%' },\r\n        { field: 'sbEffectiveDate', translateKey: this.getTranslateKey('sbEffectiveDate'), width: '12%' }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_AIRWORTHINESS_DIRECTIVE_SEARCH;\r\n  }\r\n\r\n  protected getTableExportName(): string {\r\n    return AirworthinessDirectiveSearchComponent.TABLE_EXPORT_NAME;\r\n  }\r\n\r\n  public isAD(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public openNewSbad(): void {\r\n    this.openSbad(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public getFormComponentName(): string {\r\n    return ComponentConstants.ENG_AIRWORTHINESS_DIRECTIVE_FORM;\r\n  }\r\n\r\n  protected findAirworthinessDocumentByCriteria(\r\n    familyCode: string | undefined,\r\n    structureType: string | undefined,\r\n    variantCode: string | undefined\r\n  ): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    this.searchObject.sbType = AWPropertiesConstants.SB_TYPE_AD_KEY;\r\n\r\n    return this.airworthinessDocumentSearchService.findBireSbsBySbCriteria(\r\n      this.searchObject,\r\n      familyCode,\r\n      structureType,\r\n      variantCode,\r\n      this.sbPublicationDateFrom,\r\n      this.sbPublicationDateTo,\r\n      this.sbEffectiveDateFrom,\r\n      this.sbEffectiveDateTo\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewSbad()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <aw-manage-search-criteria\\r\\n                    [componentId]=\\\"SEARCH_CRITERIA_ID\\\"\\r\\n                    (onSelected)=\\\"loadSearchCriteria($event)\\\"\\r\\n                    (onSavedAsked)=\\\"saveSearchCriteriaAsked()\\\"\\r\\n                    [objectFromPage]=\\\"criteriaToSave\\\"\\r\\n                    [canChange]=\\\"!hasBeenCalculated\\\"\\r\\n                  ></aw-manage-search-criteria>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertyVariant\\\"\\r\\n                        [(ngModel)]=\\\"familyVariant\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".sbNumber\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.sbNumber\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".statusState\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertyStatus\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.statusState\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div *ngIf=\\\"!isAD() && !showSubType()\\\" class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".sbType\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertyType\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.sbType\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div id=\\\"sbSubType\\\" *ngIf=\\\"showSubType()\\\" class=\\\"form-group flex--1\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbSubType\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertySubType\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.sbSubType\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div *ngIf=\\\"isAD()\\\" class=\\\"form-group\\\"></div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"advanced-criteria\\\" [ngClass]=\\\"{ 'display--none': !showAdvancedCriteria }\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".sbRevisionNumber\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.sbRevisionNumber\\\" />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".sbTitle\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.sbTitle\\\" />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".sbCompliance\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"propertyCompliance\\\"\\r\\n                          [(ngModel)]=\\\"searchObject.sbCompliance\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          (keyup.enter)=\\\"search()\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".sbClass\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"propertyClass\\\"\\r\\n                          [(ngModel)]=\\\"searchObject.sbClass\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          (keyup.enter)=\\\"search()\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".sbPublicationDateFrom\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-calendar\\r\\n                          showButtonBar=\\\"true\\\"\\r\\n                          [monthNavigator]=\\\"true\\\"\\r\\n                          [yearNavigator]=\\\"true\\\"\\r\\n                          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                          class=\\\"aw-calendar\\\"\\r\\n                          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          [(ngModel)]=\\\"sbPublicationDateFrom\\\"\\r\\n                        ></p-calendar>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".sbPublicationDateTo\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-calendar\\r\\n                          showButtonBar=\\\"true\\\"\\r\\n                          [monthNavigator]=\\\"true\\\"\\r\\n                          [yearNavigator]=\\\"true\\\"\\r\\n                          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                          class=\\\"aw-calendar\\\"\\r\\n                          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          [(ngModel)]=\\\"sbPublicationDateTo\\\"\\r\\n                        ></p-calendar>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".sbEffectiveDateFrom\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-calendar\\r\\n                          showButtonBar=\\\"true\\\"\\r\\n                          [monthNavigator]=\\\"true\\\"\\r\\n                          [yearNavigator]=\\\"true\\\"\\r\\n                          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                          class=\\\"aw-calendar\\\"\\r\\n                          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          [(ngModel)]=\\\"sbEffectiveDateFrom\\\"\\r\\n                        ></p-calendar>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".sbEffectiveDateTo\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-calendar\\r\\n                          showButtonBar=\\\"true\\\"\\r\\n                          [monthNavigator]=\\\"true\\\"\\r\\n                          [yearNavigator]=\\\"true\\\"\\r\\n                          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                          class=\\\"aw-calendar\\\"\\r\\n                          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          [(ngModel)]=\\\"sbEffectiveDateTo\\\"\\r\\n                        ></p-calendar>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <button mat-button (click)=\\\"showAdvancedCriteria = !showAdvancedCriteria\\\">\\r\\n                    <ng-container *ngIf=\\\"showAdvancedCriteria\\\">\\r\\n                      <mat-icon>remove</mat-icon>\\r\\n                      {{ \\\"global.collapseCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"!showAdvancedCriteria\\\">\\r\\n                      <mat-icon>add</mat-icon>\\r\\n                      {{ \\\"global.expandCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                  </button>\\r\\n\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ adTableDataSource ? adTableDataSource.dataCount : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"adTableDataSource\\\">\\r\\n                <ng-template columnDef=\\\"sbSubType\\\" let-rowData=\\\"rowData\\\" *ngIf=\\\"showSubType()\\\">\\r\\n                  {{ rowData[\\\"sbSubType\\\"] | formatSelectOption: propertySubType }}\\r\\n                </ng-template>\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"adTableDataSource && adTableDataSource.hasData && !adTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"\\r\\n                      hasManageAccessRight &&\\r\\n                      adTableDataSource &&\\r\\n                      adTableDataSource.hasData &&\\r\\n                      adTableDataSource.hasDataSelection\\r\\n                    \\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteSelectedSbad()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"adTableDataSource && adTableDataSource.hasData && adTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedSbad()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n                <ng-template columnDef=\\\"sbNumber\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <a (click)=\\\"openSbadNumber(rowData)\\\"> {{ rowData.sbNumber }}</a>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template rowExpansionDef let-rowData=\\\"rowData\\\">\\r\\n                  <div class=\\\"column forced-backgroung\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".\\\" + \\\"sbDocumentUrl\\\" | translate }}\\r\\n                        </label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"rowData.sbDocumentUrl\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".\\\" + \\\"sbClass\\\" | translate }}\\r\\n                        </label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"rowData.sbClass\\\" [disabled]=\\\"true\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { MenuItem } from 'primeng/api';\r\nimport { Table } from 'primeng/table';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ISearchCriteria } from '../../../shared/components/manage-search-criteria/search-criteria.interface';\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { FindBireSbsBySbCriteriaInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-sbs-by-sb-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireSbDTOId } from '../../../shared/types/api-types/bire-sb-dto-id.interface';\r\nimport { BireSbDTO } from '../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { LabelValueUtils } from '../../../shared/utils/label-value-utils';\r\n\r\nimport { AirworthinessDocumentSearchService } from './airworthiness-document-search.service';\r\n\r\ninterface ResultTableRow {\r\n  sbNumber: string;\r\n  sbRevisionNumber: string;\r\n  statusState: string | undefined;\r\n  sbType: string | undefined;\r\n  sbSubType: string | undefined;\r\n  sbCompliance: string | undefined;\r\n  sbClass: string | undefined;\r\n  sbPublicationDate: string | undefined;\r\n  sbEffectiveDate: string | undefined;\r\n  sbDocumentUrl: string | undefined;\r\n  sbTitle: string | undefined;\r\n  expand: boolean;\r\n  dataKey: string;\r\n  _obj: BireSbDTO;\r\n}\r\n\r\nexport abstract class AirworthinessDocumentSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  @ViewChild('resultsContainerAnchor')\r\n  public resultsContainerAnchor: ElementRef;\r\n  public isLoading: boolean;\r\n  public adTableDataSource: TableDataSource<ResultTableRow>;\r\n  public searchObject: BireSbDTO;\r\n  public exportMethods: MenuItem[];\r\n  public showAdvancedCriteria: boolean;\r\n  public familyVariant: string | undefined;\r\n  public familyVariantDTOList: FamilyVariantDTO[];\r\n\r\n  public propertyType: LabelValue<string>[];\r\n  public propertySubType: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public propertyVariant: LabelValue<string>[];\r\n  public propertyClass: LabelValue<string>[];\r\n  public propertyCompliance: LabelValue<string>[];\r\n  public familyCode: string | undefined;\r\n  public structureType: string | undefined;\r\n  public variantCode: string | undefined;\r\n\r\n  // Date parametres\r\n  public sbPublicationDateFrom?: Date;\r\n  public sbPublicationDateTo?: Date;\r\n  public sbEffectiveDateFrom?: Date;\r\n  public sbEffectiveDateTo?: Date;\r\n\r\n  public criteriaToSave: FindBireSbsBySbCriteriaInput;\r\n  public criteriaName: string | undefined;\r\n\r\n  public SEARCH_CRITERIA_ID: string;\r\n  public hasBeenCalculated: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    public readonly confirmationService: ConfirmationService,\r\n    private readonly exportService: ExportService,\r\n    protected readonly propertiesService: PropertiesService,\r\n    public translateService: TranslateService,\r\n    public dateService: DateService,\r\n    protected readonly airworthinessDocumentSearchService: AirworthinessDocumentSearchService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.showAdvancedCriteria = false;\r\n    this.isLoading = false;\r\n    this.propertyStatus = [];\r\n\r\n    this.searchObject = {};\r\n    this.exportMethods = [];\r\n    this.propertyVariant = [];\r\n\r\n    this.initAdTableDataSource();\r\n\r\n    this.setExportMethods();\r\n\r\n    // DropDown\r\n    this.loadDropDownLists();\r\n\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      this.setExportMethods();\r\n      this.loadDropDownLists();\r\n    });\r\n  }\r\n\r\n  public showSubType(): boolean {\r\n    return false;\r\n  }\r\n\r\n  protected abstract findAirworthinessDocumentByCriteria(\r\n    familyCode: string | undefined,\r\n    structureType: string | undefined,\r\n    variantCode: string | undefined\r\n  ): Observable<SearchResultsDTO<BireSbDTO>>;\r\n\r\n  protected initAdTableDataSource(): void {\r\n    this.adTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'sbNumber', translateKey: this.getTranslateKey('sbNumber'), width: '12%' },\r\n        { field: 'sbRevisionNumber', translateKey: this.getTranslateKey('sbRevisionNumber'), width: '10%' },\r\n        { field: 'sbTitle', translateKey: this.getTranslateKey('sbTitle'), width: '28%' },\r\n        { field: 'statusState', translateKey: this.getTranslateKey('statusState'), width: '10%' },\r\n        { field: 'sbType', translateKey: this.getTranslateKey('sbType'), width: '10%' },\r\n        { field: 'sbCompliance', translateKey: this.getTranslateKey('sbCompliance'), width: '10%' },\r\n        { field: 'sbPublicationDate', translateKey: this.getTranslateKey('sbPublicationDate'), width: '10%' },\r\n        { field: 'sbEffectiveDate', translateKey: this.getTranslateKey('sbEffectiveDate'), width: '10%' }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_SBAD_SEARCH;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  public deleteSelectedSbad(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedSbs'),\r\n      accept: () => {\r\n        const selectedObj: BireSbDTO[] = this.adTableDataSource.dataSelection.map((obj) => {\r\n          return obj._obj;\r\n        });\r\n        this.airworthinessDocumentSearchService.removeBireSbs(selectedObj).subscribe(\r\n          (result) => {\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('onSuccessDeleteSbad'));\r\n            this.adTableDataSource.dataSelection = [];\r\n            this.search();\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteSbad'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public moreResult(): void {\r\n    // TODO: Implement the button when it will be available\r\n  }\r\n\r\n  public openNewSbad(): void {\r\n    this.openSbad(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public openSelectedSbad(): void {\r\n    this.adTableDataSource.dataSelection.forEach((sbad) => {\r\n      if (sbad && sbad.sbNumber && sbad.sbRevisionNumber) {\r\n        const bireSbId: BireSbDTOId = { sbNumber: sbad.sbNumber, sbRevisionNumber: sbad.sbRevisionNumber };\r\n        this.openSbad(bireSbId, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {};\r\n    this.sbPublicationDateFrom = undefined;\r\n    this.sbPublicationDateTo = undefined;\r\n    this.sbEffectiveDateFrom = undefined;\r\n    this.sbEffectiveDateTo = undefined;\r\n    this.familyVariant = undefined;\r\n\r\n    this.criteriaName = undefined;\r\n  }\r\n\r\n  public loadSearchCriteria(event: ISearchCriteria): void {\r\n    const criteria: FindBireSbsBySbCriteriaInput | undefined = event.criteria;\r\n    if (!criteria) {\r\n      this.resetSearchCriteria();\r\n\r\n      return;\r\n    }\r\n    this.criteriaName = event.name;\r\n    this.searchObject = criteria.bireSbDTO || {};\r\n    this.sbPublicationDateFrom = criteria.publicationDateFrom;\r\n    this.sbPublicationDateTo = criteria.publicationDateTo;\r\n    this.sbEffectiveDateFrom = criteria.effectiveDateFrom;\r\n    this.sbEffectiveDateTo = criteria.effectiveDateTo;\r\n    this.familyVariant = criteria.familyCode;\r\n    this.variantCode = criteria.variantCode;\r\n    this.structureType = criteria.structureType;\r\n    this.familyCode = criteria.fCode;\r\n    this.searchByFavorite();\r\n  }\r\n\r\n  public saveSearchCriteriaAsked(): void {\r\n    let familyCode: string | undefined;\r\n    let structureType: string | undefined;\r\n    let variantCode: string | undefined;\r\n\r\n    if (this.familyVariantDTOList) {\r\n      const familyVariantObject = this.familyVariantDTOList.find(\r\n        (family) => !!family.labelValueDTO && family.labelValueDTO.label === this.familyVariant\r\n      );\r\n      if (familyVariantObject) {\r\n        familyCode = familyVariantObject.familyCode;\r\n        structureType = familyVariantObject.structureType;\r\n        variantCode = familyVariantObject.variantCode;\r\n      } else {\r\n        familyCode = undefined;\r\n        structureType = undefined;\r\n        variantCode = undefined;\r\n      }\r\n    } else {\r\n      familyCode = undefined;\r\n      structureType = undefined;\r\n      variantCode = undefined;\r\n    }\r\n    this.familyCode = familyCode;\r\n    this.variantCode = variantCode;\r\n    this.structureType = structureType;\r\n    const criteriaToSave: FindBireSbsBySbCriteriaInput = {\r\n      bireSbDTO: this.searchObject,\r\n      publicationDateFrom: this.sbPublicationDateFrom,\r\n      publicationDateTo: this.sbPublicationDateTo,\r\n      effectiveDateFrom: this.sbEffectiveDateFrom,\r\n      effectiveDateTo: this.sbEffectiveDateTo,\r\n      familyCode: this.familyVariant,\r\n      fCode: this.familyCode,\r\n      variantCode: this.variantCode,\r\n      structureType: this.structureType\r\n    };\r\n    this.criteriaToSave = criteriaToSave;\r\n  }\r\n\r\n  private loadDropDownLists(): void {\r\n    this.loadStatus(AWPropertiesConstants.OBJECT_STATUS_LOADED_KEY);\r\n    this.loadClassifications();\r\n    this.loadTypes();\r\n    this.loadSubTypes();\r\n    this.loadCompliances();\r\n    this.loadFamilyVariants();\r\n  }\r\n\r\n  protected loadStatus(statusState: string): void {\r\n    this.propertiesService.getObjectStatusList(true, false, false, statusState, false).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          results.forEach((element) => {\r\n            if (this.propertyStatus.filter((status) => status.value === element.value).length === 0) {\r\n              this.propertyStatus.push(element);\r\n            }\r\n          });\r\n          this.propertyStatus = [...this.propertyStatus];\r\n          this.adTableDataSource.dataSrc.forEach((element) => {\r\n            LabelValueUtils.stringValueToLabel<BireSbDTO>(element._obj, 'statusState', this.propertyStatus);\r\n          });\r\n          this.adTableDataSource.setData(this.adTableDataSource.dataSrc);\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStatusList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  protected loadTypes(): void {\r\n    this.propertiesService.getValue('getSbTypeMap').subscribe(\r\n      (results) => {\r\n        this.propertyType = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSbTypeList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public loadSubTypes(): void {\r\n    this.propertiesService.getValue('getAdditionalGuidelineSubTypeMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertySubType = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSbTypeList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadCompliances(): void {\r\n    this.propertiesService.getValue('getComplianceMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyCompliance = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnComplianceList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadClassifications(): void {\r\n    this.propertiesService.getValue('getSbClassificationMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyClass = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnClassificationList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadFamilyVariants(): void {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n    this.airworthinessDocumentSearchService.getFamilyVariants(familyVariantInput).subscribe(\r\n      (results) => {\r\n        const list: LabelValue<string>[] = [];\r\n        results.forEach((element) => {\r\n          if (!!element.labelValueDTO) {\r\n            list.push(element.labelValueDTO);\r\n          } else {\r\n            super.throwUnboundLocalError('loadFamilyVariants', 'element.labelValueDTO');\r\n          }\r\n        });\r\n        this.propertyVariant = list;\r\n        this.familyVariantDTOList = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public exportTable(): void {\r\n    this.exportService.toExcel(\r\n      this.adTableDataSource.sanitizedData,\r\n      this.getTableExportName(),\r\n      this.componentData.componentId\r\n    );\r\n  }\r\n\r\n  public abstract getFormComponentName(): string;\r\n\r\n  public openSbad(objectId: BireSbDTOId | undefined, openMode: ComponentOpenMode): void {\r\n    let serializedObjectId: string | undefined;\r\n    if (objectId != undefined) {\r\n      serializedObjectId = this.serializationService.serialize(objectId);\r\n    }\r\n\r\n    const formComponentName = this.getFormComponentName();\r\n    const labelKey = 'transaction.' + formComponentName;\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: formComponentName,\r\n      objectId: serializedObjectId,\r\n      openMode\r\n    };\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private setExportMethods(): void {\r\n    this.exportMethods = [\r\n      {\r\n        label: this.translateService.instant('global.excel'),\r\n        icon: 'fa-file-excel-o'\r\n        // command: () => {\r\n        //   // TODO ?\r\n        // }\r\n      },\r\n      {\r\n        label: this.translateService.instant('global.pdf'),\r\n        icon: 'fa-file-pdf-o'\r\n        // command: () => {\r\n        //   // TODO ?\r\n        // }\r\n      }\r\n    ];\r\n  }\r\n\r\n  // TODO add the publicationDateFrom/To and effectiveDateFrom/To\r\n  public search(): void {\r\n    this.adTableDataSource.setData([]);\r\n    super.scrollToAnchor(this.resultsContainerAnchor);\r\n\r\n    let familyCode: string | undefined;\r\n    let structureType: string | undefined;\r\n    let variantCode: string | undefined;\r\n\r\n    if (this.familyVariantDTOList) {\r\n      const familyVariantObject = this.familyVariantDTOList.find(\r\n        (family) => !!family.labelValueDTO && family.labelValueDTO.value === this.familyVariant\r\n      );\r\n      if (familyVariantObject) {\r\n        familyCode = familyVariantObject.familyCode;\r\n        structureType = familyVariantObject.structureType;\r\n        variantCode = familyVariantObject.variantCode;\r\n      } else {\r\n        familyCode = undefined;\r\n        structureType = undefined;\r\n        variantCode = undefined;\r\n      }\r\n    } else {\r\n      familyCode = undefined;\r\n      structureType = undefined;\r\n      variantCode = undefined;\r\n    }\r\n\r\n    this.isLoading = true;\r\n    this.findAirworthinessDocumentByCriteria(familyCode, structureType, variantCode).subscribe(\r\n      (results) => {\r\n        // Modifying the value into the label for statusState, sbCompliance and sbType\r\n        if (results) {\r\n          results.list.forEach((element) => {\r\n            if (\r\n              !LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'statusState', this.propertyStatus) &&\r\n              !!element.statusState\r\n            ) {\r\n              this.loadStatus(element.statusState);\r\n            }\r\n            LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'sbCompliance', this.propertyCompliance);\r\n            LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'sbType', this.propertyType);\r\n          });\r\n\r\n          const adList = results.list.map((obj) => {\r\n            const row: ResultTableRow = {\r\n              sbNumber: obj.sbNumber || '',\r\n              sbRevisionNumber: obj.sbRevisionNumber || '',\r\n              statusState: obj.statusState,\r\n              sbType: obj.sbType,\r\n              sbSubType: obj.sbSubType,\r\n              sbCompliance: obj.sbCompliance,\r\n              sbClass: obj.sbClass,\r\n              sbPublicationDate: this.dateService.dateToString(obj.sbPublicationDate),\r\n              sbEffectiveDate: this.dateService.dateToString(obj.sbEffectiveDate),\r\n              sbDocumentUrl: obj.sbDocumentUrl,\r\n              sbTitle: obj.sbTitle,\r\n              _obj: obj,\r\n              expand: false,\r\n              dataKey: `${obj.sbNumber} ${obj.sbRevisionNumber}`\r\n            };\r\n\r\n            return row;\r\n          });\r\n          this.adTableDataSource.setData(adList);\r\n        }\r\n        this.isLoading = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetResults'));\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  public searchByFavorite(): void {\r\n    super.scrollToAnchor(this.resultsContainerAnchor);\r\n    if (this.isAD()) {\r\n      this.searchObject.sbType = AWPropertiesConstants.SB_TYPE_AD_KEY;\r\n      this.airworthinessDocumentSearchService\r\n        .findBireSbsBySbCriteria(\r\n          this.searchObject,\r\n          this.familyCode,\r\n          this.structureType,\r\n          this.variantCode,\r\n          this.sbPublicationDateFrom,\r\n          this.sbPublicationDateTo,\r\n          this.sbEffectiveDateFrom,\r\n          this.sbEffectiveDateTo\r\n        )\r\n        .subscribe(\r\n          (results) => {\r\n            // Modifying the value into the label for statusState, sbCompliance and sbType\r\n            if (results) {\r\n              results.list.forEach((element) => {\r\n                if (\r\n                  !LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'statusState', this.propertyStatus) &&\r\n                  !!element.statusState\r\n                ) {\r\n                  this.loadStatus(element.statusState);\r\n                }\r\n                LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'sbCompliance', this.propertyCompliance);\r\n                LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'sbType', this.propertyType);\r\n              });\r\n\r\n              const adList = results.list.map((obj) => {\r\n                const row: ResultTableRow = {\r\n                  sbNumber: obj.sbNumber || '',\r\n                  sbRevisionNumber: obj.sbRevisionNumber || '',\r\n                  statusState: obj.statusState,\r\n                  sbType: obj.sbType,\r\n                  sbSubType: obj.sbSubType,\r\n                  sbCompliance: obj.sbCompliance,\r\n                  sbClass: obj.sbClass,\r\n                  sbPublicationDate: this.dateService.dateToString(obj.sbPublicationDate),\r\n                  sbEffectiveDate: this.dateService.dateToString(obj.sbEffectiveDate),\r\n                  sbDocumentUrl: obj.sbDocumentUrl,\r\n                  sbTitle: obj.sbTitle,\r\n                  _obj: obj,\r\n                  expand: false,\r\n                  dataKey: `${obj.sbNumber} ${obj.sbRevisionNumber}`\r\n                };\r\n\r\n                return row;\r\n              });\r\n              this.adTableDataSource.setData(adList);\r\n            }\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetResults'));\r\n          }\r\n        );\r\n    } else {\r\n      this.familyCode = !!this.familyCode ? this.familyCode : '';\r\n      this.structureType = !!this.structureType ? this.structureType : '';\r\n      this.variantCode = !!this.variantCode ? this.variantCode : '';\r\n      this.airworthinessDocumentSearchService\r\n        .findBireSbsBySbCriteriaAd(\r\n          this.searchObject,\r\n          this.familyCode,\r\n          this.structureType,\r\n          this.variantCode,\r\n          this.sbPublicationDateFrom,\r\n          this.sbPublicationDateTo,\r\n          this.sbEffectiveDateFrom,\r\n          this.sbEffectiveDateTo\r\n        )\r\n        .subscribe(\r\n          (results) => {\r\n            // Modifying the value into the label for statusState, sbCompliance and sbType\r\n            if (results) {\r\n              results.list.forEach((element) => {\r\n                if (\r\n                  !LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'statusState', this.propertyStatus) &&\r\n                  !!element.statusState\r\n                ) {\r\n                  this.loadStatus(element.statusState);\r\n                }\r\n                LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'sbCompliance', this.propertyCompliance);\r\n                LabelValueUtils.stringValueToLabel<BireSbDTO>(element, 'sbType', this.propertyType);\r\n              });\r\n\r\n              const adList = results.list.map((obj) => {\r\n                const row: ResultTableRow = {\r\n                  sbNumber: obj.sbNumber || '',\r\n                  sbRevisionNumber: obj.sbRevisionNumber || '',\r\n                  statusState: obj.statusState,\r\n                  sbType: obj.sbType,\r\n                  sbSubType: obj.sbSubType,\r\n                  sbCompliance: obj.sbCompliance,\r\n                  sbClass: obj.sbClass,\r\n                  sbPublicationDate: this.dateService.dateToString(obj.sbPublicationDate),\r\n                  sbEffectiveDate: this.dateService.dateToString(obj.sbEffectiveDate),\r\n                  sbDocumentUrl: obj.sbDocumentUrl,\r\n                  sbTitle: obj.sbTitle,\r\n                  _obj: obj,\r\n                  expand: false,\r\n                  dataKey: `${obj.sbNumber} ${obj.sbRevisionNumber}`\r\n                };\r\n\r\n                return row;\r\n              });\r\n              this.adTableDataSource.setData(adList);\r\n            }\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetResults'));\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Abstract methods\r\n   *************************************************************************/\r\n\r\n  protected abstract getTableExportName(): string;\r\n\r\n  public abstract isAD(): boolean;\r\n\r\n  public toggleRowDetailsVisibility(row: ResultTableRow): void {\r\n    row.expand = !row.expand;\r\n  }\r\n\r\n  public openSbadNumber(sbad: ResultTableRow): void {\r\n    if (sbad && sbad.sbNumber && sbad.sbRevisionNumber) {\r\n      const bireSbId: BireSbDTOId = { sbNumber: sbad.sbNumber, sbRevisionNumber: sbad.sbRevisionNumber };\r\n      this.openSbad(bireSbId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { FindBireSbsBySbCriteriaInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-sbs-by-sb-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireSbDTO } from '../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class AirworthinessDocumentSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public removeBireSbs(selectedBireSbs: BireSbDTO[]): Observable<void> {\r\n    return super.post<BireSbDTO[], void>(this.productStructureManagementApi.removeBireSbs, selectedBireSbs);\r\n  }\r\n\r\n  public findBireSbsBySbCriteria(\r\n    criteria: BireSbDTO,\r\n    familyCode?: string,\r\n    structureType?: string,\r\n    variantCode?: string,\r\n    publicationDateFrom?: Date,\r\n    publicationDateTo?: Date,\r\n    effectiveDateFrom?: Date,\r\n    effectiveDateTo?: Date\r\n  ): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    const params: FindBireSbsBySbCriteriaInput = {\r\n      bireSbDTO: criteria,\r\n      familyCode,\r\n      structureType,\r\n      variantCode,\r\n      publicationDateFrom,\r\n      publicationDateTo,\r\n      effectiveDateFrom,\r\n      effectiveDateTo\r\n    };\r\n\r\n    return super.post<FindBireSbsBySbCriteriaInput, SearchResultsDTO<BireSbDTO>>(\r\n      this.productStructureManagementApi.findBireSbsBySbCriteria,\r\n      params\r\n    );\r\n  }\r\n\r\n  public getSBObjectStatusValue(key: string): Observable<string> {\r\n    return super.post<string, string>(this.productStructureManagementApi.getSBObjectStatusValue, key);\r\n  }\r\n\r\n  public getFamilyVariants(familyVariantInput: FindFamilyVariantInput): Observable<FamilyVariantDTO[]> {\r\n    return super.post<FindFamilyVariantInput, FamilyVariantDTO[]>(\r\n      this.productStructureManagementApi.findFamilyVariant,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public findBireSbsBySbCriteriaAd(\r\n    criteria: BireSbDTO,\r\n    familyCode: string,\r\n    structureType: string,\r\n    variantCode: string,\r\n    publicationDateFrom?: Date,\r\n    publicationDateTo?: Date,\r\n    effectiveDateFrom?: Date,\r\n    effectiveDateTo?: Date\r\n  ): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    const params: FindBireSbsBySbCriteriaInput = {\r\n      bireSbDTO: criteria,\r\n      familyCode,\r\n      structureType,\r\n      variantCode,\r\n      publicationDateFrom,\r\n      publicationDateTo,\r\n      effectiveDateFrom,\r\n      effectiveDateTo\r\n    };\r\n\r\n    return super.post<FindBireSbsBySbCriteriaInput, SearchResultsDTO<BireSbDTO>>(\r\n      this.productStructureManagementApi.findBireSbsBySbCriteriaAd,\r\n      params\r\n    );\r\n  }\r\n\r\n  public findBireSbsBySbCriteriaAmg(\r\n    criteria: BireSbDTO,\r\n    familyCode: string,\r\n    structureType: string,\r\n    variantCode: string,\r\n    publicationDateFrom?: Date,\r\n    publicationDateTo?: Date,\r\n    effectiveDateFrom?: Date,\r\n    effectiveDateTo?: Date\r\n  ): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    const params: FindBireSbsBySbCriteriaInput = {\r\n      bireSbDTO: criteria,\r\n      familyCode,\r\n      structureType,\r\n      variantCode,\r\n      publicationDateFrom,\r\n      publicationDateTo,\r\n      effectiveDateFrom,\r\n      effectiveDateTo\r\n    };\r\n\r\n    return super.post<FindBireSbsBySbCriteriaInput, SearchResultsDTO<BireSbDTO>>(\r\n      this.productStructureManagementApi.findBireSbsBySbCriteriaAmg,\r\n      params\r\n    );\r\n  }\r\n}\r\n","import { DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { KeyFilterModule } from 'primeng/keyfilter';\r\nimport { ListboxModule } from 'primeng/listbox';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\r\nimport { RadioButtonModule } from 'primeng/radiobutton';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TreeModule } from 'primeng/tree';\r\nimport { TreeTableModule } from 'primeng/treetable';\r\nimport { TriStateCheckboxModule } from 'primeng/tristatecheckbox';\r\n\r\nimport { AngularCommonSharedModule } from '../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../shared/angular-generic-templates-shared-module';\r\nimport { UnitConversionMatrixApi } from '../../shared/api/unit-matrix-conversion.api';\r\nimport { AppCommonSharedModule } from '../../shared/app-common-shared.module';\r\nimport { AtaCodeInputModule } from '../../shared/components/ata-code-input/ata-code-input.module';\r\nimport { ComponentSidebarModule } from '../../shared/components/component-sidebar/component-sidebar.mdule';\r\nimport { DialogBireDocumentModule } from '../../shared/components/dialog-bire-document/dialog-bire-document.module';\r\nimport { DialogGenerateCommentModule } from '../../shared/components/dialog-generate-comment/dialog-generate-comment.module';\r\nimport { DialogSearchEvolutionModule } from '../../shared/components/dialog-search-evolution/dialog-search-evolution.module';\r\nimport { DialogSearchFunctionalLocationModule } from '../../shared/components/dialog-search-functional-location/dialog-search-functional-location.module';\r\nimport { DialogSearchItemModule } from '../../shared/components/dialog-search-item/dialog-search-item.module';\r\nimport { DialogSearchModelModule } from '../../shared/components/dialog-search-model/dialog-search-model.module';\r\nimport { DialogSearchPartModule } from '../../shared/components/dialog-search-part/dialog-search-part.module';\r\nimport { DialogSearchQualificationModule } from '../../shared/components/dialog-search-qualification/dialog-search-qualification.module';\r\nimport { DialogSearchSbAdModule } from '../../shared/components/dialog-search-sbad/dialog-search-sbad.module';\r\nimport { DialogSearchTaskModule } from '../../shared/components/dialog-search-task/dialog-search-task.module';\r\nimport { DialogStatusModule } from '../../shared/components/dialog-status/dialog-status.module';\r\nimport { DialogTableModule } from '../../shared/components/dialog-table/dialog-table.module';\r\nimport { DynamicAttributesHistoryModule } from '../../shared/components/dynamic-attributes-history/dynamic-attributes-history.module';\r\nimport { DynamicAttributesModule } from '../../shared/components/dynamic-attributes/dynamic-attributes.module';\r\nimport { ManageSearchCriteriaModule } from '../../shared/components/manage-search-criteria/manage-search-criteria.module';\r\nimport { ModalModule } from '../../shared/components/modal/modal.module';\r\nimport { StatusUpdateHistoryModule } from '../../shared/components/status-update-history/status-update-history.module';\r\nimport { TableModule } from '../../shared/components/table/table.module';\r\nimport { DynamicComponentLoaderModule } from '../dynamic-component-loader/dynamic-component-loader.module';\r\nimport { ProcurementRequestPopupModule } from '../logistics/procurement-request/search/procurement-request-popup/procurement-request-popup.module';\r\nimport { TransferOrderPopupModule } from '../logistics/transfer-order/search/transfer-order-popup/transfer-order-popup.module';\r\n\r\nimport { AdditionalMaintenanceGuidelineFormComponent } from './additional-maintenance-guideline/form/additional-maintenance-guideline-form.component';\r\nimport { AdditionalMaintenanceGuidelineSearchComponent } from './additional-maintenance-guideline/search/additional-maintenance-guideline-search.component';\r\nimport { AirworthinessDirectiveFormComponent } from './airworthiness-directive-form/airworthiness-directive-form.component';\r\nimport { AirworthinessDirectiveSearchComponent } from './airworthiness-directive-search/airworthiness-directive-search.component';\r\nimport { AirworthinessDocumentSearchService } from './airworthiness-document-search/airworthiness-document-search.service';\r\nimport { DialogBireDocPugModule } from './dea-dia/dialog-bire-document/dialog-bire-doc-pug.module';\r\nimport { EvolutionFormComponent } from './evolution-form/evolution-form.component';\r\nimport { EvolutionFormService } from './evolution-form/evolution-form.service';\r\nimport { ApplicabilitiesPopupFormComponent } from './evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.component';\r\nimport { ApplicabilitiesPopupFormService } from './evolution-form/popups/applicabilities-popup-form/applicabilities-popup-form.service';\r\nimport { AssetsPopupFormComponent } from './evolution-form/popups/assets-popup-form/assets-popup-form.component';\r\nimport { AssetsPopupFormService } from './evolution-form/popups/assets-popup-form/assets-popup-form.service';\r\nimport { EvolImportPopupComponent } from './evolution-form/popups/evol-import-popup/evol-import-popup.component';\r\nimport { ImpactsEvolPopupFormComponent } from './evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.component';\r\nimport { ImpactsEvolPopupFormService } from './evolution-form/popups/impacts-evol-popup-form/impacts-evol-popup-form.service';\r\nimport { ImpactsItemPopupFormComponent } from './evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.component';\r\nimport { ImpactsItemPopupFormService } from './evolution-form/popups/impacts-item-popup-form/impacts-item-popup-form.service';\r\nimport { ImpactsPopupFormComponent } from './evolution-form/popups/impacts-popup-form/impacts-popup-form.component';\r\nimport { ImpactsPopupFormService } from './evolution-form/popups/impacts-popup-form/impacts-popup-form.service';\r\nimport { InterdependencesPopupFormComponent } from './evolution-form/popups/interdependences-popup-form/interdependences-popup-form.component';\r\nimport { InterdependencesPopupFormService } from './evolution-form/popups/interdependences-popup-form/interdependences-popup-form.service';\r\nimport { ModificationsPopupFormComponent } from './evolution-form/popups/modifications-popup-form/modifications-popup-form.component';\r\nimport { ModificationsPopupFormService } from './evolution-form/popups/modifications-popup-form/modifications-popup-form.service';\r\nimport { SbadPopupFormComponent } from './evolution-form/popups/sbad-popup-form/sbad-popup-form.component';\r\nimport { SbadPopupFormService } from './evolution-form/popups/sbad-popup-form/sbad-popup-form.service';\r\nimport { EvolutionSearchComponent } from './evolution-search/evolution-search.component';\r\nimport { EvolutionSearchService } from './evolution-search/evolution-search.service';\r\nimport { FamilyFormComponent } from './family-form/family-form.component';\r\nimport { FamilyFormService } from './family-form/family-form.service';\r\nimport { FamilyModificationPopupFormComponent } from './family-form/popups/family-modification-popup/family-modification-popup.component';\r\nimport { FamilyRatingPopupFormComponent } from './family-form/popups/family-rating-popup/family-rating-popup.component';\r\nimport { FamilySearchComponent } from './family-search/family-search.component';\r\nimport { FamilySearchService } from './family-search/family-search.service';\r\nimport { FunctionalLocationFormComponent } from './functional-location-form/functional-location-form.component';\r\nimport { FunctionalLocationFormService } from './functional-location-form/functional-location-form.service';\r\nimport { FamilyVariantPopupFormComponent } from './functional-location-form/popups/family-variant-popup-form.component';\r\nimport { FamilyVariantPopupFormService } from './functional-location-form/popups/family-variant-popup-form.service';\r\nimport { ModelPopupFormComponent } from './functional-location-form/popups/model-popup-form/model-popup-form.component';\r\nimport { ModelPopupFormService } from './functional-location-form/popups/model-popup-form/model-popup-form.service';\r\nimport { FunctionalLocationSearchComponent } from './functional-location-search/functional-location-search.component';\r\nimport { FunctionalLocationSearchService } from './functional-location-search/functional-location-search.service';\r\nimport { ItemSearchService } from './item/search/item-search.service';\r\nimport { MaintenanceProgramFormMhiaelService } from './maintenance-program-form/maintenance-program-form-mhiael.service';\r\nimport { MaintenanceProgramFormComponent } from './maintenance-program-form/maintenance-program-form.component';\r\nimport { MaintenanceProgramFormService } from './maintenance-program-form/maintenance-program-form.service';\r\nimport { AssignAssetsPopupFormComponent } from './maintenance-program-form/popups/assign-assets-popup-form/assign-assets-popup-form.component';\r\nimport { ReportPopupFormComponent } from './maintenance-program-form/popups/report-popup-form/report-popup-form.component';\r\nimport { TaskVisitPopupFormComponent } from './maintenance-program-form/popups/task-visit-popup-form/task-visit-popup-form.component';\r\nimport { UpgradePopupFormComponent } from './maintenance-program-form/popups/upgrade-popup-form/upgrade-popup-form.component';\r\nimport { ChangeRecordFormComponent } from './maintenance-program-search/change-record-form/change-record-form.component';\r\nimport { ChangeRecordFormService } from './maintenance-program-search/change-record-form/change-record-form.service';\r\nimport { DialogCompareMaintenanceProgramsComponent } from './maintenance-program-search/dialog-compare-maintenance-programs/dialog-compare-maintenance-programs.component';\r\nimport { MaintenanceProgramSearchComponent } from './maintenance-program-search/maintenance-program-search.component';\r\nimport { MaintenanceProgramSearchService } from './maintenance-program-search/maintenance-program-search.service';\r\nimport { MaintenanceProgramUpdatesListComponent } from './maintenance-program-updates-list/maintenance-program-updates-list.component';\r\nimport { MaintenanceProgramUpdatesListService } from './maintenance-program-updates-list/maintenance-program-updates-list.service';\r\nimport { ModificationFormComponent } from './modification-form/modification-form.component';\r\nimport { ModificationFormService } from './modification-form/modification-form.service';\r\nimport { ModificationAssetsPopupFormComponent } from './modification-form/popups/modification-assets-popup-form.component';\r\nimport { ModificationAssetsPopupFormService } from './modification-form/popups/modification-assets-popup-form.service';\r\nimport { ModificationSearchComponent } from './modification-search/modification-search.component';\r\nimport { ModificationSearchService } from './modification-search/modification-search.service';\r\nimport { PartNumberFormComponent } from './part-number-form/part-number-form.component';\r\nimport { PartNumberFormService } from './part-number-form/part-number-form.service';\r\nimport { ReferenceMeasurementsPopupFormComponent } from './part-number-form/popups/ref-measurements-popup-form.component';\r\nimport { ReferenceMeasurementsPopupFormService } from './part-number-form/popups/ref-measurements-popup-form.service';\r\nimport { PartNumberSearchComponent } from './part-number-search/part-number-search.component';\r\nimport { PartNumberSearchService } from './part-number-search/part-number-search.service';\r\nimport { DialogSearchMaintenanceProgramModule } from './sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module';\r\nimport { SbadApplicabilitiesPopupFormComponent } from './sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.component';\r\nimport { SbadApplicabilitiesPopupFormService } from './sbad-form/popups/sb-ad-applicabilities-popup/sb-ad-applicabilities-popup.service';\r\nimport { SbAdAssetsPopupFormComponent } from './sbad-form/popups/sb-ad-asset-popup/sb-ad-assets-popup-form.component';\r\nimport { SbadImportPopupComponent } from './sbad-form/popups/sb-ad-import-popup/sb-ad-import-popup.component';\r\nimport { SbAdLimitsPeriodicitiesPopupFormComponent } from './sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.component';\r\nimport { SbAdLimitsPeriodicitiesPopupFormService } from './sbad-form/popups/sb-ad-limits-periodicities-popup/sb-ad-limits-periodicities-popup-form.service';\r\nimport { SbadFormMhiaelService } from './sbad-form/sbad-form-mhiael.service';\r\nimport { SbadFormComponent } from './sbad-form/sbad-form.component';\r\nimport { SbadFormService } from './sbad-form/sbad-form.service';\r\nimport { SbadSearchComponent } from './sbad-search/sbad-search.component';\r\nimport { ConversionMatrixApplicabilitiesPopupFormComponent } from './unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.component';\r\nimport { ConversionMatrixApplicabilitiesPopupFormService } from './unit-conversion-matrix/form/cm-applicabilities-popup/cm-applicabilities-popup.service';\r\nimport { DialogUnitConversionMatrixComponent } from './unit-conversion-matrix/form/dialog-unit-conversion-matrix/dialog-unit-conversion-matrix.component';\r\nimport { UnitConversionMatrixFormComponent } from './unit-conversion-matrix/form/unit-conversion-matrix-form.component';\r\nimport { ImportReportPopupComponent } from './unit-conversion-matrix/import-report-popup/import-report-popup.component';\r\nimport { UnitConversionMatrixSearchComponent } from './unit-conversion-matrix/search/unit-conversion-matrix-search.component';\r\nimport { UnitConversionMatrixService } from './unit-conversion-matrix/unit-conversion-matrix.service';\r\nimport { DialogAssociatedTasksMaintenanceComponent } from './visit-form/dialog-associated-tasks-maintenance/dialog-associated-tasks-maintenance.component';\r\nimport { VisitFormComponent } from './visit-form/visit-form.component';\r\nimport { VisitFormService } from './visit-form/visit-form.service';\r\nimport { VisitSearchComponent } from './visit-search/visit-search.component';\r\nimport { VisitSearchService } from './visit-search/visit-search.service';\r\n\r\nconst PRIMENG_MODULES = [\r\n  CalendarModule,\r\n  CheckboxModule,\r\n  DialogModule,\r\n  DropdownModule,\r\n  ListboxModule,\r\n  InputTextareaModule,\r\n  RadioButtonModule,\r\n  SplitButtonModule,\r\n  PrimeNgTableModule,\r\n  TooltipModule,\r\n  TreeModule,\r\n  TriStateCheckboxModule,\r\n  FileUploadModule,\r\n  KeyFilterModule,\r\n  OverlayPanelModule,\r\n  TreeTableModule,\r\n  MessageModule\r\n];\r\n\r\nconst COMPONENTS = [\r\n  ModificationAssetsPopupFormComponent,\r\n  SbAdAssetsPopupFormComponent,\r\n  SbadApplicabilitiesPopupFormComponent,\r\n  SbadPopupFormComponent,\r\n  ModificationsPopupFormComponent,\r\n  ApplicabilitiesPopupFormComponent,\r\n  AssetsPopupFormComponent,\r\n  InterdependencesPopupFormComponent,\r\n  ImpactsEvolPopupFormComponent,\r\n  ImpactsItemPopupFormComponent,\r\n  ImpactsPopupFormComponent,\r\n  DialogAssociatedTasksMaintenanceComponent,\r\n  FamilyModificationPopupFormComponent,\r\n  FamilyRatingPopupFormComponent,\r\n  ReferenceMeasurementsPopupFormComponent,\r\n  DialogCompareMaintenanceProgramsComponent,\r\n  TaskVisitPopupFormComponent,\r\n  UpgradePopupFormComponent,\r\n  AssignAssetsPopupFormComponent,\r\n  ReportPopupFormComponent,\r\n  SbadImportPopupComponent,\r\n  SbadImportPopupComponent,\r\n  SbAdLimitsPeriodicitiesPopupFormComponent,\r\n  EvolImportPopupComponent,\r\n  ImportReportPopupComponent,\r\n  DialogUnitConversionMatrixComponent,\r\n  ConversionMatrixApplicabilitiesPopupFormComponent\r\n];\r\n\r\nconst DYNAMIC_COMPONENTS = [\r\n  AdditionalMaintenanceGuidelineFormComponent,\r\n  AdditionalMaintenanceGuidelineSearchComponent,\r\n  AirworthinessDirectiveFormComponent,\r\n  AirworthinessDirectiveSearchComponent,\r\n  EvolutionFormComponent,\r\n  EvolutionSearchComponent,\r\n  SbadSearchComponent,\r\n  SbadFormComponent,\r\n  VisitSearchComponent,\r\n  VisitFormComponent,\r\n  ModificationSearchComponent,\r\n  ModificationFormComponent,\r\n  MaintenanceProgramSearchComponent,\r\n  MaintenanceProgramFormComponent,\r\n  MaintenanceProgramUpdatesListComponent,\r\n  FamilySearchComponent,\r\n  FamilyFormComponent,\r\n  PartNumberSearchComponent,\r\n  PartNumberFormComponent,\r\n  FunctionalLocationSearchComponent,\r\n  FunctionalLocationFormComponent,\r\n  ChangeRecordFormComponent,\r\n  UnitConversionMatrixSearchComponent,\r\n  UnitConversionMatrixFormComponent,\r\n  // Dont place your new DYNAMIC_COMPONENT after FamilyVariantPopupFormComponent and ModelPopupFormComponent which are popUp so with a different loader\r\n  FamilyVariantPopupFormComponent,\r\n  ModelPopupFormComponent\r\n];\r\n\r\nconst SERVICES = [\r\n  EvolutionFormService,\r\n  EvolutionSearchService,\r\n  VisitSearchService,\r\n  VisitFormService,\r\n  SbadFormService,\r\n  SbadFormMhiaelService,\r\n  SbadApplicabilitiesPopupFormService,\r\n  SbadPopupFormService,\r\n  ModificationsPopupFormService,\r\n  ApplicabilitiesPopupFormService,\r\n  InterdependencesPopupFormService,\r\n  AssetsPopupFormService,\r\n  ImpactsEvolPopupFormService,\r\n  ImpactsItemPopupFormService,\r\n  ImpactsPopupFormService,\r\n  ItemSearchService,\r\n  ModificationSearchService,\r\n  ModificationFormService,\r\n  ModificationAssetsPopupFormService,\r\n  FamilySearchService,\r\n  FamilyFormService,\r\n  PartNumberSearchService,\r\n  PartNumberFormService,\r\n  FunctionalLocationSearchService,\r\n  FunctionalLocationFormService,\r\n  FamilyVariantPopupFormService,\r\n  ModelPopupFormService,\r\n  ReferenceMeasurementsPopupFormService,\r\n  MaintenanceProgramSearchService,\r\n  MaintenanceProgramFormService,\r\n  MaintenanceProgramFormMhiaelService,\r\n  AirworthinessDocumentSearchService,\r\n  SbAdLimitsPeriodicitiesPopupFormService,\r\n  MaintenanceProgramUpdatesListService,\r\n  ChangeRecordFormService,\r\n  UnitConversionMatrixService,\r\n  UnitConversionMatrixApi,\r\n  ConversionMatrixApplicabilitiesPopupFormService\r\n];\r\n\r\nconst INTERNAL_MODULES = [TableModule, DialogBireDocPugModule];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ModalModule,\r\n    AtaCodeInputModule,\r\n    ComponentSidebarModule,\r\n    DialogBireDocumentModule,\r\n    DialogSearchItemModule,\r\n    DialogSearchModelModule,\r\n    DialogSearchPartModule,\r\n    DialogSearchQualificationModule,\r\n    DialogSearchTaskModule,\r\n    DialogSearchEvolutionModule,\r\n    DialogSearchFunctionalLocationModule,\r\n    DialogStatusModule,\r\n    DialogSearchMaintenanceProgramModule,\r\n    ManageSearchCriteriaModule,\r\n    DialogTableModule,\r\n    DialogSearchSbAdModule,\r\n    DynamicAttributesHistoryModule,\r\n    DynamicAttributesModule,\r\n    StatusUpdateHistoryModule,\r\n    DialogGenerateCommentModule,\r\n    TableModule,\r\n    ProcurementRequestPopupModule,\r\n    TransferOrderPopupModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...PRIMENG_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES, DatePipe]\r\n})\r\nexport class EngineeringManagamentModule {}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\" *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\">\\r\\n          - {{ subtitle }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"object-status\\\" *ngIf=\\\"evolution.statusState\\\" (click)=\\\"showStatus()\\\">\\r\\n      {{ evolution.statusState | formatSelectOption: propertyStatus }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"edit()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"warn\\\"\\r\\n      (click)=\\\"refresh()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"saveEvolutionData()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button\\r\\n        mat-menu-item\\r\\n        *ngIf=\\\"!isReadOpenMode && evolution.evolutionNumber != null\\\"\\r\\n        (click)=\\\"confirmUpgradeEvolution()\\\"\\r\\n      >\\r\\n        {{ \\\"global.upgrade\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button mat-menu-item *ngIf=\\\"!isCreateOpenMode\\\" (click)=\\\"openStatusUpdatesPopup()\\\">\\r\\n        {{ \\\"updates\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button mat-menu-item *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" (click)=\\\"refresh()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-content\\\">\\r\\n    <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n      <!-- Home -->\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"home\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <!-- Main data -->\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div #mainInfoAnchor class=\\\"grid-cell--4\\\" (click)=\\\"selectPageTocEntry('mainInfoAnchor')\\\">\\r\\n            <div\\r\\n              class=\\\"grid-cell grid-cell--container\\\"\\r\\n              [ngClass]=\\\"{ active: isPageTocEntrySelected('mainInfoAnchor') }\\\"\\r\\n            >\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <div class=\\\"column\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group flex--2\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".evolutionNumber\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"evolution.evolutionNumber\\\"\\r\\n                            maxlength=\\\"100\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group flex--2\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".evolutionRevisionNumber\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"evolution.evolutionRevisionNumber\\\"\\r\\n                            maxlength=\\\"10\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group flex--2\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ \\\"global.comments\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            [(ngModel)]=\\\"evolution.evolutionSummary\\\"\\r\\n                            pInputTextarea\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            maxlength=\\\"300\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group flex--2\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".evolutionType\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertyType\\\"\\r\\n                            [(ngModel)]=\\\"evolution.evolutionType\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group flex--2\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".evolutionCompliance\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertyCompliance\\\"\\r\\n                            [(ngModel)]=\\\"evolution.evolutionCompliance\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <!--Ex-Additional Information-->\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".evolutionLevel\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertyLevel\\\"\\r\\n                            [(ngModel)]=\\\"evolution.evolutionLevel\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".tracked\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-checkbox\\r\\n                            class=\\\"aw-checkbox\\\"\\r\\n                            binary=\\\"true\\\"\\r\\n                            [(ngModel)]=\\\"evolution.tracked\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-checkbox>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div id=\\\"vertical\\\" class=\\\"grid-cell--8 column-cell\\\">\\r\\n            <!-- Airworthiness Documents associated with Evolution -->\\r\\n            <div #airworthiDocAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry('airworthiDocAnchor')\\\">\\r\\n              <div\\r\\n                class=\\\"grid-cell grid-cell--container\\\"\\r\\n                [ngClass]=\\\"{ active: isPageTocEntrySelected('airworthiDocAnchor') }\\\"\\r\\n              >\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".sbadAssociated\\\" | translate }} ({{\\r\\n                        bireSbadDisplayed ? bireSbadDisplayed.length : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableSbad\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"evolutionTableCols\\\"\\r\\n                  [value]=\\\"bireSbadDisplayed\\\"\\r\\n                  [(selection)]=\\\"selectedEvolutions\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!isLoadingSbadTable\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"isLoadingSbadTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedEvolutions.length > 0 }\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          #ptableSbadGlobalFilter\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableSbad.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"aw-table-actions\\\">\\r\\n                        <button\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedEvolutions.length > 0\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          color=\\\"warn\\\"\\r\\n                          (click)=\\\"confirmDeleteSbad()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.delete\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"selectedEvolutions.length === 1\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"openSbad()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.open\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedEvolutions.length === 0\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"createSbad()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.add\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                      >\\r\\n                        <a *ngSwitchCase=\\\"'sbNumber'\\\" (click)=\\\"openRevisionNumber(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                        <i\\r\\n                          *ngSwitchCase=\\\"'statusInfo'\\\"\\r\\n                          class=\\\"fa fa-fw fa-info-circle aw-icon\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"openStatusPopupSbad(rowData)\\\"\\r\\n                        ></i>\\r\\n\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <!-- Modifications associated with Evolution -->\\r\\n            <div #airworthiDocAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry('airworthiDocAnchor')\\\">\\r\\n              <div\\r\\n                class=\\\"grid-cell grid-cell--container\\\"\\r\\n                [ngClass]=\\\"{ active: isPageTocEntrySelected('airworthiDocAnchor') }\\\"\\r\\n              >\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".modificationAssociated\\\" | translate }} ({{\\r\\n                        bireModificationDisplayed ? bireModificationDisplayed.length : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableModification\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"modificationsTableCols\\\"\\r\\n                  [value]=\\\"bireModificationDisplayed\\\"\\r\\n                  [(selection)]=\\\"selectedModifications\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!isLoadingModificationTable\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"isLoadingModificationTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedModifications.length > 0 }\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          #ptableModificationGlobalFilter\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableModification.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"aw-table-actions\\\">\\r\\n                        <button\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedModifications.length > 0\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          color=\\\"warn\\\"\\r\\n                          (click)=\\\"confirmDeleteModification()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.delete\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"selectedModifications.length === 1\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"openModification()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.open\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedModifications.length === 0\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"createModification()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.add\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                      >\\r\\n                        <a *ngSwitchCase=\\\"'modificationNumber'\\\" (click)=\\\"openModificationNumber(rowData)\\\">{{\\r\\n                          rowData[col.field]\\r\\n                        }}</a>\\r\\n                        <i\\r\\n                          *ngSwitchCase=\\\"'statusInfo'\\\"\\r\\n                          class=\\\"fa fa-fw fa-info-circle aw-icon\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          (click)=\\\"openStatusPopupModification(rowData)\\\"\\r\\n                        ></i>\\r\\n\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n\\r\\n      <!-- Applicability -->\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"global.applicabilities\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <!-- Concerned Families OR Applicabilities associated with Evolution -->\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div #applicabilityAnchor class=\\\"grid-cell--equally\\\" (click)=\\\"selectPageTocEntry('applicabilityAnchor')\\\">\\r\\n            <div\\r\\n              class=\\\"grid-cell grid-cell--container\\\"\\r\\n              [ngClass]=\\\"{ active: isPageTocEntrySelected('applicabilityAnchor') }\\\"\\r\\n            >\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".concernedFamilies\\\" | translate }} ({{\\r\\n                      bireApplicabilityDisplayed ? bireApplicabilityDisplayed.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"section\\\">\\r\\n                <div class=\\\"section-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #ptableApplicability\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [columns]=\\\"applicabilitiesTableCols\\\"\\r\\n                    [value]=\\\"bireApplicabilityDisplayed\\\"\\r\\n                    [(selection)]=\\\"selectedApplicabilities\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingApplicabilityTable\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingApplicabilityTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedApplicabilities.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableApplicabilityGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptableApplicability.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedApplicabilities.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"confirmDeleteApplicability()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedApplicabilities.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openStatusPopupApplicability()\\\"\\r\\n                          >\\r\\n                            {{ componentData.componentId + \\\".displayStatus\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <!-- <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedApplicabilities.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editApplicability()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button> -->\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedApplicabilities.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openApplicability()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.open\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedApplicabilities.length === 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createApplicability()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <span *ngSwitchCase=\\\"'variantStructureTypeFamily'\\\">\\r\\n                            {{ rowData.familyCode + \\\"-\\\" + rowData.structureType + \\\"-\\\" + rowData.variantCode }}\\r\\n                          </span>\\r\\n\\r\\n                          <span *ngSwitchCase=\\\"'evolutionApplicabilityDate'\\\">\\r\\n                            {{ rowData[col.field] | date: \\\"shortDate\\\":\\\"\\\":translateService.currentLang }}\\r\\n                          </span>\\r\\n\\r\\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!-- Concerned Assets OR Assets Concerned by the Evolution -->\\r\\n          <div #applicabilityAnchor class=\\\"grid-cell--equally\\\" (click)=\\\"selectPageTocEntry('applicabilityAnchor')\\\">\\r\\n            <div\\r\\n              class=\\\"grid-cell grid-cell--container\\\"\\r\\n              [ngClass]=\\\"{ active: isPageTocEntrySelected('applicabilityAnchor') }\\\"\\r\\n            >\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".concernedAssets\\\" | translate }} ({{\\r\\n                      bireConcernedAssetDisplayed ? bireConcernedAssetDisplayed.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"section\\\">\\r\\n                <div class=\\\"section-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #ptableAsset\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [columns]=\\\"assetsTableCols\\\"\\r\\n                    [value]=\\\"bireConcernedAssetDisplayed\\\"\\r\\n                    [(selection)]=\\\"selectedAssets\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingAssetTable\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingAssetTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedAssets.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableAssetGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptableAsset.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedAssets.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"confirmDeleteAsset()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <!-- <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedAssets.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editAsset()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button> -->\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedAssets.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openAsset()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.open\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedAssets.length === 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createAsset()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td *ngFor=\\\"let col of columns\\\">{{ rowData[col.field] }}</td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- Interdependances associated with Evolution -->\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div #applicabilityAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry('applicabilityAnchor')\\\">\\r\\n            <div\\r\\n              class=\\\"grid-cell grid-cell--container\\\"\\r\\n              [ngClass]=\\\"{ active: isPageTocEntrySelected('applicabilityAnchor') }\\\"\\r\\n            >\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".interdependencesAssociated\\\" | translate }} ({{\\r\\n                      bireInterdependenceDisplayed ? bireInterdependenceDisplayed.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                <div class=\\\"section\\\">\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <p-table\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableInterdependence\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"interdependencesTableCols\\\"\\r\\n                      [value]=\\\"bireInterdependenceDisplayed\\\"\\r\\n                      [(selection)]=\\\"selectedInterdependences\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingInterdependenceTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingInterdependenceTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div\\r\\n                          class=\\\"aw-table-header\\\"\\r\\n                          [ngClass]=\\\"{ 'rows-selected': selectedInterdependences.length > 0 }\\\"\\r\\n                        >\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableInterdependenceGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableInterdependence.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedInterdependences.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              color=\\\"warn\\\"\\r\\n                              (click)=\\\"confirmDeleteInterdependence()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"selectedInterdependences.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openStatusPopupInterdependence()\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".displayStatus\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <!-- <button\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedInterdependences.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"editInterdependence()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.edit\\\" | translate }}\\r\\n                            </button> -->\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"selectedInterdependences.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openInterdependence()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.open\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedInterdependences.length === 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"createInterdependence()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.add\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          >\\r\\n                            <a *ngSwitchCase=\\\"'evoEvolutionNumber'\\\" (click)=\\\"openEvolutionNumber(rowData)\\\">{{\\r\\n                              rowData[col.field]\\r\\n                            }}</a>\\r\\n                            <span *ngSwitchCase=\\\"'variantCode'\\\">\\r\\n                              {{ rowData.familyCode }}-{{ rowData.structureType }}-{{ rowData.variantCode }}\\r\\n                            </span>\\r\\n                            <span *ngSwitchCase=\\\"'way'\\\">\\r\\n                              <i\\r\\n                                *ngIf=\\\"arrowOrientation.get(rowData)\\\"\\r\\n                                class=\\\"fa fa-fw fa-chevron-right aw-icon\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                              ></i>\\r\\n                              <i\\r\\n                                *ngIf=\\\"!arrowOrientation.get(rowData)\\\"\\r\\n                                class=\\\"fa fa-fw fa-chevron-left aw-icon\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                              ></i>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n\\r\\n      <!-- Impact -->\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"global.impacts\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <!-- Associated Impacts on P N Evolution -->\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div #impactAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry('impactAnchor')\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isPageTocEntrySelected('impactAnchor') }\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".impactsAssociatedOnEvolution\\\" | translate }} ({{\\r\\n                      bireImpactEvolDisplayed ? bireImpactEvolDisplayed.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                <div class=\\\"section\\\">\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <p-table\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableImpactEvol\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"impactsEvolTableCols\\\"\\r\\n                      [value]=\\\"bireImpactEvolDisplayed\\\"\\r\\n                      [(selection)]=\\\"selectedImpactsEvol\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingImpactEvolTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingImpactEvolTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedImpactsEvol.length > 0 }\\\">\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableImpactEvolGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableImpactEvol.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <!-- <button *ngIf=\\\"!isReadOpenMode && selectedImpactsEvol.length === 1\\\" type=\\\"button\\\" mat-raised-button\\r\\n                              (click)=\\\"duplicateImpactEvol()\\\">\\r\\n                              {{'global.duplicate' | translate}}\\r\\n                            </button> -->\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedImpactsEvol.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              color=\\\"warn\\\"\\r\\n                              (click)=\\\"confirmDeleteImpactEvol()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"selectedImpactsEvol.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openStatusPopupImpactEvol()\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".displayStatus\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <!-- <button\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedImpactsEvol.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"editImpactEvol()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.edit\\\" | translate }}\\r\\n                            </button> -->\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"selectedImpactsEvol.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openImpactEvol()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.open\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedImpactsEvol.length === 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"createImpactEvol()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.add\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          >\\r\\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- Associated Impacts on P N  -->\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div #impactAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry('impactAnchor')\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isPageTocEntrySelected('impactAnchor') }\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".impactsAssociated\\\" | translate }} ({{\\r\\n                      bireImpactDisplayed ? bireImpactDisplayed.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"section\\\">\\r\\n                <div class=\\\"section-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #ptableImpact\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [columns]=\\\"impactsTableCols\\\"\\r\\n                    [value]=\\\"bireImpactDisplayed\\\"\\r\\n                    [(selection)]=\\\"selectedImpacts\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingImpactTable\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingImpactTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedImpacts.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableImpactGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptableImpact.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedImpacts.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"confirmDeleteImpact()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedImpacts.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openStatusPopupImpact()\\\"\\r\\n                          >\\r\\n                            {{ componentData.componentId + \\\".displayStatus\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <!-- <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedImpacts.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editImpact()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button> -->\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedImpacts.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openImpact()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.open\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedImpacts.length === 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createImpact()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <!-- Associated Impacts on Item -->\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div #impactAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry('impactAnchor')\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isPageTocEntrySelected('impactAnchor') }\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ componentData.componentId + \\\".impactsAssociatedItem\\\" | translate }} ({{\\r\\n                      bireImpactItemDisplayed ? bireImpactItemDisplayed.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"section\\\">\\r\\n                <div class=\\\"section-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #ptableImpactItem\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [columns]=\\\"impactsItemTableCols\\\"\\r\\n                    [value]=\\\"bireImpactItemDisplayed\\\"\\r\\n                    [(selection)]=\\\"selectedImpactsItem\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingImpactItemTable\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingImpactItemTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedImpactsItem.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableImpactItemGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptableImpactItem.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedImpactsItem.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"confirmDeleteImpactItem()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedImpactsItem.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openStatusPopupImpactItem()\\\"\\r\\n                          >\\r\\n                            {{ componentData.componentId + \\\".displayStatus\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <!-- <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedImpactsItem.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editImpactItem()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button> -->\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedImpactsItem.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openImpactItem()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.open\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedImpactsItem.length === 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createImpactItem()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n\\r\\n      <!-- Tasks -->\\r\\n      <mat-tab>\\r\\n        <ng-template mat-tab-label>\\r\\n          {{ \\\"global.tasks\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div #tasksAnchor class=\\\"grid-cell--12\\\" (click)=\\\"selectPageTocEntry('tasksAnchor')\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isPageTocEntrySelected('tasksAnchor') }\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ \\\"global.tasks\\\" | translate }} ({{ tasksTable ? tasksTable.length : 0 }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableTask\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"tasksTableCols\\\"\\r\\n                  [value]=\\\"tasksTable\\\"\\r\\n                  [(selection)]=\\\"selectedTask\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!isLoadingTaskTable\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"isLoadingTaskTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedTask.length > 0 }\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          #ptableTaskGlobalFilter\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableTask.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\">\\r\\n                        <a *ngSwitchCase=\\\"'taskCode'\\\" (click)=\\\"openTaskCode(rowData)\\\">{{ rowData[col.field] }}</a>\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n\\r\\n      <!-- Attributes -->\\r\\n      <mat-tab id=\\\"documentsTab\\\">\\r\\n        <ng-template mat-tab-label>\\r\\n          <ng-container *ngIf=\\\"dynamicAttributesForEvolution && dynamicAttributesForEvolution.length > 0\\\">\\r\\n            {{ \\\"attributes\\\" | translate }} &amp;\\r\\n          </ng-container>\\r\\n          {{ \\\"documents\\\" | translate }}\\r\\n        </ng-template>\\r\\n\\r\\n        <div *ngIf=\\\"dynamicAttributesForEvolution && dynamicAttributesForEvolution.length > 0\\\" class=\\\"grid-row\\\">\\r\\n          <div id=\\\"attributesPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                <aw-dynamic-attributes\\r\\n                  [attributes]=\\\"dynamicAttributesForEvolution\\\"\\r\\n                  [deleteApi]=\\\"productStructureHistoryApi.removeHBireEvolutionAttribute\\\"\\r\\n                  [history]=\\\"dynamicAttributesHistoric\\\"\\r\\n                  [showHistory]=\\\"true\\\"\\r\\n                  [isReadOpenMode]=\\\"isReadOpenMode\\\"\\r\\n                ></aw-dynamic-attributes>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"documents\\\" class=\\\"grid-row\\\">\\r\\n          <div id=\\\"documentsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 id=\\\"bireDocumentDisplayedTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                    {{ \\\"global.documents\\\" | translate }} ({{\\r\\n                      bireDocumentDisplayed ? bireDocumentDisplayed.length : 0\\r\\n                    }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <p-table\\r\\n                  id=\\\"bireDocumentDisplayed\\\"\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptableDocuments\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"documentsTableCols\\\"\\r\\n                  [value]=\\\"bireDocumentDisplayed\\\"\\r\\n                  [(selection)]=\\\"selectedDocuments\\\"\\r\\n                  dataKey=\\\"docName\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedDocuments.length > 0 }\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          #ptableDocumentsGlobalFilter\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptableDocuments.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"aw-table-actions\\\">\\r\\n                        <button\\r\\n                          id=\\\"downloadBireDocumentDisplayed\\\"\\r\\n                          *ngIf=\\\"selectedDocuments.length > 0\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"downloadFiles()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.download\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"deleteBireDocumentDisplayed\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedDocuments.length > 0\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          color=\\\"warn\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"deleteSelectedDocuments()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.delete\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"editBireDocumentDisplayed\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedDocuments.length === 1\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"editDocument()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.edit\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"openBireDocumentDisplayed\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedDocuments.length === 1\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"openDocument()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.open\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"addBireDocumentDisplayed\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && selectedDocuments.length == 0\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"addDocuments()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.add\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                      </th>\\r\\n\\r\\n                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                        <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                      </td>\\r\\n\\r\\n                      <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                        <span> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-tab>\\r\\n    </mat-tab-group>\\r\\n  </div>\\r\\n\\r\\n  <aw-sbad-popup-form\\r\\n    *ngIf=\\\"showSbadDialog\\\"\\r\\n    [(display)]=\\\"showSbadDialog\\\"\\r\\n    [component-data]=\\\"dataSb\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlySbadDialog\\\"\\r\\n    (onCreate)=\\\"addNewSbad($event)\\\"\\r\\n    (onUpdate)=\\\"updateSbad($event)\\\"\\r\\n    [isNewSbad]=\\\"isNewSbad\\\"\\r\\n  ></aw-sbad-popup-form>\\r\\n\\r\\n  <aw-modifications-popup-form\\r\\n    *ngIf=\\\"showModificationDialog\\\"\\r\\n    [(display)]=\\\"showModificationDialog\\\"\\r\\n    [component-data]=\\\"dataModif\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyModificationDialog\\\"\\r\\n    (onCreate)=\\\"addNewModification($event)\\\"\\r\\n    (onUpdate)=\\\"updateModification($event)\\\"\\r\\n    [isNewModification]=\\\"isNewModification\\\"\\r\\n  ></aw-modifications-popup-form>\\r\\n\\r\\n  <aw-applicabilities-popup-form\\r\\n    *ngIf=\\\"showApplicabilitiesDialog\\\"\\r\\n    [(display)]=\\\"showApplicabilitiesDialog\\\"\\r\\n    [component-data]=\\\"dataAppli\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyApplicabilityDialog\\\"\\r\\n    (onCreate)=\\\"addNewApplicability($event)\\\"\\r\\n    (onUpdate)=\\\"updateApplicability($event)\\\"\\r\\n    [isNewApplicability]=\\\"isNewApplicability\\\"\\r\\n  ></aw-applicabilities-popup-form>\\r\\n\\r\\n  <aw-assets-popup-form\\r\\n    *ngIf=\\\"showAssetDialog\\\"\\r\\n    [(display)]=\\\"showAssetDialog\\\"\\r\\n    [component-data]=\\\"dataAssets\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyAssetDialog\\\"\\r\\n    (onCreate)=\\\"addNewAsset($event)\\\"\\r\\n    (onUpdate)=\\\"updateConcernedAsset($event)\\\"\\r\\n    [isNewAsset]=\\\"isNewAsset\\\"\\r\\n  ></aw-assets-popup-form>\\r\\n\\r\\n  <aw-interdependences-popup-form\\r\\n    *ngIf=\\\"showInterdependanceDialog\\\"\\r\\n    [(display)]=\\\"showInterdependanceDialog\\\"\\r\\n    [component-data]=\\\"dataInterdep\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyInterdependenceDialog\\\"\\r\\n    (onCreate)=\\\"addNewInterdependence($event)\\\"\\r\\n    (onUpdate)=\\\"updateInterdependence($event)\\\"\\r\\n    [isNewInterdependence]=\\\"isNewInterdependence\\\"\\r\\n  ></aw-interdependences-popup-form>\\r\\n\\r\\n  <aw-impacts-evol-popup-form\\r\\n    *ngIf=\\\"showEvolDialog\\\"\\r\\n    [(display)]=\\\"showEvolDialog\\\"\\r\\n    [component-data]=\\\"dataImpactsEvol\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyImpactEvolDialog\\\"\\r\\n    (onCreate)=\\\"addNewImpactEvol($event)\\\"\\r\\n    (onUpdate)=\\\"updateImpactEvol($event)\\\"\\r\\n    [isNewImpactsEvol]=\\\"isNewImpactEvol\\\"\\r\\n  ></aw-impacts-evol-popup-form>\\r\\n\\r\\n  <aw-impacts-popup-form\\r\\n    *ngIf=\\\"showImpactDialog\\\"\\r\\n    [(display)]=\\\"showImpactDialog\\\"\\r\\n    [component-data]=\\\"dataImpacts\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyImpactDialog\\\"\\r\\n    (onCreate)=\\\"addNewImpact($event)\\\"\\r\\n    (onUpdate)=\\\"updateImpact($event)\\\"\\r\\n    [isNewImpacts]=\\\"isNewImpact\\\"\\r\\n  ></aw-impacts-popup-form>\\r\\n\\r\\n  <aw-impacts-item-popup-form\\r\\n    *ngIf=\\\"showItemDialog\\\"\\r\\n    [(display)]=\\\"showItemDialog\\\"\\r\\n    [component-data]=\\\"dataImpactsItem\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyImpactItemDialog\\\"\\r\\n    (onCreate)=\\\"addNewImpactItem($event)\\\"\\r\\n    (onUpdate)=\\\"updateImpactItem($event)\\\"\\r\\n    [isNewImpactsItem]=\\\"isNewImpactItem\\\"\\r\\n  ></aw-impacts-item-popup-form>\\r\\n\\r\\n  <aw-evol-import-popup\\r\\n    *ngIf=\\\"showDocumentDialog\\\"\\r\\n    [document]=\\\"currentDocument\\\"\\r\\n    [(display)]=\\\"showDocumentDialog\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyDocumentDialog\\\"\\r\\n    (onValidated)=\\\"updateDocument($event)\\\"\\r\\n  ></aw-evol-import-popup>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopupSb\\\"\\r\\n    [isObjectTypeOfBireSbDTO]=\\\"true\\\"\\r\\n    [item]=\\\"bireSb\\\"\\r\\n    [itemId]=\\\"bireSbId\\\"\\r\\n    [(display)]=\\\"displayStatusPopupSb\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopupModif\\\"\\r\\n    [item]=\\\"bireModif\\\"\\r\\n    [itemId]=\\\"bireModifId\\\"\\r\\n    [(display)]=\\\"displayStatusPopupModif\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopupAppli\\\"\\r\\n    [item]=\\\"bireAppli\\\"\\r\\n    [itemId]=\\\"bireAppliId\\\"\\r\\n    [(display)]=\\\"displayStatusPopupAppli\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopupInterdep\\\"\\r\\n    [item]=\\\"bireInterdep\\\"\\r\\n    [itemId]=\\\"bireInterdepId\\\"\\r\\n    [(display)]=\\\"displayStatusPopupInterdep\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopupImpact\\\"\\r\\n    [item]=\\\"bireImpact\\\"\\r\\n    [itemId]=\\\"bireImpactId\\\"\\r\\n    [(display)]=\\\"displayStatusPopupImpact\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopupImpactEvol\\\"\\r\\n    [item]=\\\"bireImpactEvol\\\"\\r\\n    [itemId]=\\\"bireImpactEvolId\\\"\\r\\n    [(display)]=\\\"displayStatusPopupImpactEvol\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopupImpactItem\\\"\\r\\n    [item]=\\\"bireImpactItem\\\"\\r\\n    [itemId]=\\\"bireImpactItemId\\\"\\r\\n    [(display)]=\\\"displayStatusPopupImpactItem\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-status-update-history\\r\\n    *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n    [isObjectTypeOfBireEvolutionDTO]=\\\"true\\\"\\r\\n    [object]=\\\"evolution\\\"\\r\\n    [data]=\\\"tableStatusUpdatesData\\\"\\r\\n    [deleteApi]=\\\"deleteApi\\\"\\r\\n    [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n    [keyMap]=\\\"updatesKeyMap\\\"\\r\\n  ></aw-status-update-history>\\r\\n</div>\\r\\n\"","module.exports = \".alert-icon-yellow {\\n  background-color: transparent;\\n  color: #ff9800;\\n  padding: 2px;\\n  text-align: center; }\\n  .alert-icon-yellow:hover {\\n    background-color: #ff9800;\\n    color: #fff;\\n    border-radius: 5px; }\\n  .grid-cell--8.column-cell {\\n  padding-top: 0px !important;\\n  padding-bottom: 0px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2V2b2x1dGlvbi1mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxldm9sdXRpb24tZm9ybVxcZXZvbHV0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw2QkFBNkI7RUFDN0IsY0FBYztFQUNkLFlBQVk7RUFDWixrQkFBa0IsRUFBQTtFQUpwQjtJQU9JLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsa0JBQWtCLEVBQUE7RUFJdEI7RUFDRSwyQkFBMkI7RUFDM0IsOEJBQThCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvZXZvbHV0aW9uLWZvcm0vZXZvbHV0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWxlcnQtaWNvbi15ZWxsb3cge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGNvbG9yOiAjZmY5ODAwO1xyXG4gIHBhZGRpbmc6IDJweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOTgwMDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIH1cclxufVxyXG5cclxuLmdyaWQtY2VsbC0tOC5jb2x1bW4tY2VsbCB7XHJcbiAgcGFkZGluZy10b3A6IDBweCAhaW1wb3J0YW50O1xyXG4gIHBhZGRpbmctYm90dG9tOiAwcHggIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\"","// TODO: clean code\r\n// tslint:disable:no-string-literal\r\n\r\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { Table } from 'primeng/table';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureHistoryApi } from '../../../shared/api/product-structure-history.api';\r\nimport { UpdateHistoricApi } from '../../../shared/api/update-historic.api';\r\nimport { PageTocService } from '../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { DialogTableData } from '../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { DynamicAttributesService } from '../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { DynamicAttributes } from '../../../shared/components/dynamic-attributes/types/dynamic-attributes.interface';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { BireActionTypeConstants } from '../../../shared/constants/bire-action-type-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../shared/enums/table-selection-mode.enum';\r\nimport { FormatSelectOptionPipe } from '../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { UpdateHistoricService } from '../../../shared/services/update-historic.service';\r\nimport { SaveEvolutionDataInput } from '../../../shared/types/api-input-types/product-structure-management/save-evolution-data-input.interface';\r\nimport { BidoDocumentationDTO } from '../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { BireAlternativePnAndItemPnDTO } from '../../../shared/types/api-types/bire-alternative-pn-and-item-pn-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireConcernedAssetDTO } from '../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { BireDocEvolDTOId } from '../../../shared/types/api-types/bire-doc-evol-dto-id.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireEvolutionAttributeDTOId } from '../../../shared/types/api-types/bire-evolution-attribute-dto-id.interface';\r\nimport { BireEvolutionAttributeDTO } from '../../../shared/types/api-types/bire-evolution-attribute-dto.interface';\r\nimport { BireEvolutionDTOId } from '../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireEvolutionDTO } from '../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireEvolutionEvolutionDTOId } from '../../../shared/types/api-types/bire-evolution-evolution-dto-id.interface';\r\nimport { BireEvolutionEvolutionDTO } from '../../../shared/types/api-types/bire-evolution-evolution-dto.interface';\r\nimport { BireEvolutionItemDTOId } from '../../../shared/types/api-types/bire-evolution-item-dto-id.interface';\r\nimport { BireEvolutionItemDTO } from '../../../shared/types/api-types/bire-evolution-item-dto.interface';\r\nimport { BireEvolutionPnDTOId } from '../../../shared/types/api-types/bire-evolution-pn-dto-id.interface';\r\nimport { BireEvolutionPnDTO } from '../../../shared/types/api-types/bire-evolution-pn-dto.interface';\r\nimport { BireEvolutionSbDTOId } from '../../../shared/types/api-types/bire-evolution-sb-dto-id.interface';\r\nimport { BireEvolutionSbDTO } from '../../../shared/types/api-types/bire-evolution-sb-dto.interface';\r\nimport { BireEvolutionVariantDTOId } from '../../../shared/types/api-types/bire-evolution-variant-dto-id.interface';\r\nimport { BireEvolutionVariantDTO } from '../../../shared/types/api-types/bire-evolution-variant-dto.interface';\r\nimport { BireItemItemDTO } from '../../../shared/types/api-types/bire-item-item-dto.interface';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { BireModificationEvolutionDTOId } from '../../../shared/types/api-types/bire-modification-evolution-dto-id.interface';\r\nimport { BireModificationEvolutionDTO } from '../../../shared/types/api-types/bire-modification-evolution-dto.interface';\r\nimport { BireSbDTOId } from '../../../shared/types/api-types/bire-sb-dto-id.interface';\r\nimport { BireSbVariantDTO } from '../../../shared/types/api-types/bire-sb-variant-dto.interface';\r\nimport { BireTaskDTO } from '../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { BireTaskEvolutionDTO } from '../../../shared/types/api-types/bire-task-evolution-dto.interface';\r\nimport { BireVariantVersionDTO } from '../../../shared/types/api-types/bire-variant-version-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { HBidoEquipmentAttributeDTO } from '../../../shared/types/api-types/h-bido-equipment-attribute-dto.interface';\r\nimport { HBireEvolutionDTO } from '../../../shared/types/api-types/h-bire-evolution-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { FileUtils } from '../../../shared/utils/file-utils';\r\nimport { TabObjectIdUtils } from '../../../shared/utils/tab-object-id-utils';\r\nimport { ObjectStatusComponent } from '../../object-status/object-status.component';\r\nimport { OverlayService } from '../../overlay/overlay.service';\r\nimport { EvolutionSearchService } from '../evolution-search/evolution-search.service';\r\n\r\nimport { EvolutionFormService } from './evolution-form.service';\r\n\r\ninterface DocumentRow {\r\n  docCode?: string;\r\n  docExtension?: string;\r\n  docName?: string;\r\n  docPublicationDate?: string;\r\n  docSize?: string;\r\n  docSource?: string;\r\n  _obj: BireDocumentDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-evolution-form',\r\n  templateUrl: './evolution-form.component.html',\r\n  styleUrls: ['./evolution-form.component.scss']\r\n})\r\nexport class EvolutionFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  @ViewChild('mainInfoAnchor')\r\n  public mainInfoAnchor: ElementRef;\r\n\r\n  @ViewChild('generalAnchor')\r\n  public generalAnchor: ElementRef;\r\n\r\n  @ViewChild('airworthiDocAnchor')\r\n  public airworthiDocAnchor: ElementRef;\r\n\r\n  @ViewChild('applicabilityAnchor')\r\n  public applicabilityAnchor: ElementRef;\r\n\r\n  @ViewChild('impactAnchor')\r\n  public impactAnchor: ElementRef;\r\n\r\n  @ViewChild('tasksAnchor')\r\n  public tasksAnchor: ElementRef;\r\n\r\n  public evolution: BireEvolutionDTO;\r\n  public subtitle: string;\r\n  public showStatusNotMatchedWarning: boolean;\r\n  public statusNotMatchedWarning: string;\r\n\r\n  /* POPUP Show Boolean */\r\n  public showApplicabilitiesDialog: boolean;\r\n  public showAssetDialog: boolean;\r\n  public showEvolDialog: boolean;\r\n  public showItemDialog: boolean;\r\n  public showImpactDialog: boolean;\r\n  public showSbadDialog: boolean;\r\n  public showModificationDialog: boolean;\r\n  public showInterdependanceDialog: boolean;\r\n\r\n  /* DYNAMIC Attributes & Documents*/\r\n  public attributeIdValueMap: Map<string, string>;\r\n  public bireAttributesForEvolution: BireAttributeDTO[];\r\n  public bireEvolutionAttributes: BireEvolutionAttributeDTO[];\r\n  public dynamicAttributesForEvolution: DynamicAttributes[];\r\n  public dynamicAttributesHistoric: Observable<HBidoEquipmentAttributeDTO[]>;\r\n\r\n  public bireDocumentDisplayed: DocumentRow[];\r\n  private bireDocumentAddedList: BireDocumentDTO[];\r\n  private bireDocumentUpdatedList: BireDocumentDTO[];\r\n  private bireDocDeletedList: BireDocEvolDTOId[];\r\n  public selectedDocuments: DocumentRow[];\r\n  public currentDocumentIndex: number;\r\n  public currentDocument: BireDocumentDTO;\r\n  public showDocumentDialog: boolean;\r\n  public isReadOnlyDocumentDialog: boolean;\r\n  public bireDocument: BireDocumentDTO[];\r\n  public documentsTableCols: TableColumn[];\r\n\r\n  /* SBAD Attributes */\r\n  public bireSbadDisplayed: BireEvolutionSbDTO[];\r\n  public currentSbadIndex: number;\r\n  private bireSbadAddedList: BireEvolutionSbDTO[];\r\n  public selectedEvolutions: BireEvolutionSbDTO[];\r\n  public evolutionTableCols: TableColumn[];\r\n  public dataSb: PopupEntry<BireEvolutionSbDTO>;\r\n  public evolutionTableFilteredRowsNb: number;\r\n  public currentSbad: BireEvolutionSbDTO;\r\n  private bireSbadUpdatedList: BireEvolutionSbDTO[];\r\n  private bireSbadDeletedList: BireEvolutionSbDTOId[];\r\n  public bireSb: BireEvolutionSbDTO;\r\n  public bireSbId: string;\r\n\r\n  /* ASSETS Attributes */\r\n  public currentAsset: BireConcernedAssetDTO;\r\n  public assetsTableFilteredRowsNb: number;\r\n  public dataAssets: PopupEntry<BireConcernedAssetDTO>;\r\n  public selectedAssets: BireConcernedAssetDTO[];\r\n  public assetsTableCols: TableColumn[];\r\n  public instructions: LabelValue<string>[];\r\n  public currentConcernedAssetIndex: number;\r\n  private bireConcernedAssetAddedList: BireConcernedAssetDTO[];\r\n  public bireConcernedAssetDisplayed: BireConcernedAssetDTO[];\r\n\r\n  /* MODIFICATION Attributes */\r\n  public newModif: BireModificationEvolutionDTO;\r\n  public selectedModifications: BireModificationEvolutionDTO[];\r\n  public modificationsTableCols: TableColumn[];\r\n  public modificationsTableFilteredRowsNb: number;\r\n  public dataModif: PopupEntry<BireModificationEvolutionDTO>;\r\n  public currentModificationIndex: number;\r\n  private bireModificationAddedList: BireModificationEvolutionDTO[];\r\n  public bireModificationDisplayed: BireModificationEvolutionDTO[];\r\n  public currentModification: BireModificationEvolutionDTO;\r\n  private bireModificationUpdatedList: BireModificationEvolutionDTO[];\r\n  private bireModificationDeletedList: BireModificationEvolutionDTOId[];\r\n  public bireModif: BireModificationEvolutionDTO;\r\n  public bireModifId: string;\r\n\r\n  /* APPLICABILITIES Attributes */\r\n  public newAppli: BireVariantVersionDTO;\r\n  public selectedApplicabilities: BireEvolutionVariantDTO[];\r\n  public applicabilitiesTableCols: TableColumn[];\r\n  public applicabilitiesTableFilteredRowsNb: number;\r\n  public dataAppli: PopupEntry<BireEvolutionVariantDTO>;\r\n  public currentApplicabilityIndex: number;\r\n  private bireApplicabilityAddedList: BireEvolutionVariantDTO[];\r\n  public bireApplicabilityDisplayed: BireEvolutionVariantDTO[];\r\n  public currentApplicability: BireEvolutionVariantDTO;\r\n  private bireApplicabilityUpdatedList: BireEvolutionVariantDTO[];\r\n  private bireApplicabilityDeletedList: BireEvolutionVariantDTOId[];\r\n  public bireAppli: BireEvolutionVariantDTO;\r\n  public bireAppliId: string;\r\n\r\n  /* INTERDEPENDENCE Attributes */\r\n  public newInterdep: BireEvolutionEvolutionDTO;\r\n  public selectedInterdependences: BireEvolutionEvolutionDTO[];\r\n  public interdependencesTableCols: TableColumn[];\r\n  public interdependencesTableFilteredRowsNb: number;\r\n  public dataInterdep: PopupEntry<BireEvolutionEvolutionDTO>;\r\n  public currentInterdependenceIndex: number;\r\n  private bireInterdependenceAddedList: BireEvolutionEvolutionDTO[];\r\n  public bireInterdependenceDisplayed: BireEvolutionEvolutionDTO[];\r\n  public currentInterdependence: BireEvolutionEvolutionDTO;\r\n  private bireInterdependenceUpdatedList: BireEvolutionEvolutionDTO[];\r\n  private bireInterdependenceDeletedList: BireEvolutionEvolutionDTOId[];\r\n  public bireInterdep: BireEvolutionEvolutionDTO;\r\n  public bireInterdepId: string;\r\n\r\n  /* Impacts on P/N Evolution Attributes */\r\n  public selectedImpactsEvol: BireAlternativePnAndItemPnDTO[];\r\n  public impactsEvolTableCols: TableColumn[];\r\n  public impactsEvolTableFilteredRowsNb: number;\r\n  public dataImpactsEvol: PopupEntry<BireAlternativePnAndItemPnDTO>;\r\n  public currentImpactEvolIndex: number;\r\n  private bireImpactEvolAddedList: BireAlternativePnAndItemPnDTO[];\r\n  public bireImpactEvolDisplayed: BireAlternativePnAndItemPnDTO[];\r\n  public currentImpactEvol: BireAlternativePnAndItemPnDTO;\r\n  private bireImpactEvolUpdatedList: BireAlternativePnAndItemPnDTO[];\r\n  private bireImpactEvolDeletedList: BireAlternativePnAndItemPnDTO[];\r\n  public bireImpactEvol: BireAlternativePnAndItemPnDTO;\r\n  public bireImpactEvolId: string;\r\n\r\n  public selectedImpacts: BireEvolutionPnDTO[];\r\n  public impactsTableCols: TableColumn[];\r\n  public impactsTableFilteredRowsNb: number;\r\n  public dataImpacts: PopupEntry<BireEvolutionPnDTO>;\r\n  public currentImpactIndex: number;\r\n  private bireImpactAddedList: BireEvolutionPnDTO[];\r\n  public bireImpactDisplayed: BireEvolutionPnDTO[];\r\n  public currentImpact: BireEvolutionPnDTO;\r\n\r\n  private bireImpactUpdatedList: BireEvolutionPnDTO[];\r\n  private bireImpactDeletedList: BireEvolutionPnDTOId[];\r\n  public bireImpact: BireEvolutionPnDTO;\r\n  public bireImpactId: string;\r\n\r\n  public selectedImpactsItem: BireEvolutionItemDTO[];\r\n  public impactsItemTableCols: TableColumn[];\r\n  public impactsItemTableFilteredRowsNb: number;\r\n  public dataImpactsItem: PopupEntry<BireEvolutionItemDTO>;\r\n  public currentImpactItemIndex: number;\r\n  private bireImpactItemAddedList: BireEvolutionItemDTO[];\r\n  public bireImpactItemDisplayed: BireEvolutionItemDTO[];\r\n  public currentImpactItem: BireEvolutionItemDTO;\r\n  private bireImpactItemUpdatedList: BireEvolutionItemDTO[];\r\n  private bireImpactItemDeletedList: BireEvolutionItemDTOId[];\r\n  public bireImpactItem: BireEvolutionItemDTO;\r\n  public bireImpactItemId: string;\r\n\r\n  public fatherItem: BireItemItemDTO[];\r\n  public item: string;\r\n  public variant: string;\r\n\r\n  /* Tab Management */\r\n  public currentTabId: string;\r\n  public tabModificationsId: string;\r\n  public tabImpactsId: string;\r\n  public tabGeneralId: string;\r\n  public tabApplicabilitiesId: string;\r\n\r\n  /* DropDown Lists */\r\n  public propertyVariant: LabelValue<string>[];\r\n  public propertyType: LabelValue<string>[];\r\n  public propertyCompliance: LabelValue<string>[];\r\n  public propertyLevel: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public propertyStatusSbad: LabelValue<string>[];\r\n  public propertyActionType: LabelValue<string>[];\r\n  public propertyActionTypeImpactItem: LabelValue<string>[];\r\n  public propertyActionTypeImpact: LabelValue<string>[];\r\n  public propertyInterchangeability: LabelValue<string>[];\r\n  public interdependence: LabelValue<string>[];\r\n  public propertyObjectStatus: LabelValue<string>[];\r\n\r\n  /* TASK Attributes */\r\n  public tasksTableCols: TableColumn[];\r\n  public selectedTask: BireTaskEvolutionDTO[];\r\n  public tabTaskId: string;\r\n  public tasksTable: BireTaskEvolutionDTO[];\r\n  public tasksTableFilteredRowsNb: number;\r\n  public dataTasks: PopupEntry<BireTaskEvolutionDTO>;\r\n  public dataAttributesHistoric: PopupEntry<BireEvolutionDTO>;\r\n  public opeAttributesTableCols: TableColumn[];\r\n\r\n  public familyVariantMap: Map<LabelValue<string>, FamilyVariantDTO>;\r\n  public arrowOrientation: Map<BireEvolutionEvolutionDTO, boolean>;\r\n\r\n  // Status and Update popup\r\n  public tableStatusUpdatesData: DialogTableData<HBireEvolutionDTO>;\r\n  public evolutionStatus: BireEvolutionDTO;\r\n  public deleteApi: string;\r\n  public updatesKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public showStatusUpdatesPopup: boolean;\r\n  public isReadOnlyImpactEvolDialog: boolean;\r\n  public isNewImpactEvol: boolean;\r\n  public displayStatusPopupInterdep: boolean;\r\n  public rightArrow: boolean;\r\n  public isReadOnlyInterdependenceDialog: boolean;\r\n  public isNewInterdependence: boolean;\r\n  public displayStatusPopupAppli: boolean;\r\n  public isReadOnlyApplicabilityDialog: boolean;\r\n  public isNewApplicability: boolean;\r\n  public isReadOnlyModificationDialog: boolean;\r\n  public isNewModification: boolean;\r\n  public displayStatusPopupModif: boolean;\r\n  public isEditable: boolean;\r\n  public displayStatusPopup: boolean;\r\n  public showDynamicAttributesHistoric: boolean;\r\n  public isNewSbad: boolean;\r\n  public isReadOnlySbadDialog: boolean;\r\n  public displayStatusPopupSb: boolean;\r\n  public isNewAsset: boolean;\r\n  public isReadOnlyAssetDialog: boolean;\r\n  public displayStatusPopupImpactEvol: boolean;\r\n  public isReadOnlyImpactDialog: boolean;\r\n  public isNewImpact: boolean;\r\n  public displayStatusPopupImpact: boolean;\r\n  public isReadOnlyImpactItemDialog: boolean;\r\n  public isNewImpactItem: boolean;\r\n  public displayStatusPopupImpactItem: boolean;\r\n  public selectedAnchor: string | undefined;\r\n  public toc: PageTocEntry[];\r\n  private isCreateMode: boolean = true;\r\n  public resultsTable: BireEvolutionDTO[];\r\n  public showSaveSpinner: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    pageTocService: PageTocService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public productStructureHistoryApi: ProductStructureHistoryApi,\r\n    public dateService: DateService,\r\n    private readonly evolutionFormService: EvolutionFormService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    public translateService: TranslateService,\r\n    public dynamicAttributesService: DynamicAttributesService,\r\n    private readonly updateHistoricService: UpdateHistoricService,\r\n    public sessionService: SessionService,\r\n    private readonly updateHistoricApi: UpdateHistoricApi,\r\n    private readonly evolutionSearchService: EvolutionSearchService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly _overlayService: OverlayService,\r\n    private readonly _formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n\r\n    super.registerPageTocEntryObservable();\r\n\r\n    // For status/updates popup\r\n    this.showStatusUpdatesPopup = false;\r\n    this.deleteApi = this.updateHistoricApi.removeBireEvolutionHistory;\r\n    this.updatesKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n\r\n    this.tabModificationsId = 'modifications';\r\n    this.tabImpactsId = 'impacts';\r\n    this.tabGeneralId = 'general';\r\n    this.tabApplicabilitiesId = 'applicabilities';\r\n    this.tabTaskId = 'task';\r\n\r\n    this.attributeIdValueMap = new Map<string, string>();\r\n    this.bireAttributesForEvolution = [];\r\n    this.dynamicAttributesForEvolution = [];\r\n    this.bireEvolutionAttributes = [];\r\n    this.opeAttributesTableCols = [];\r\n    this.showDynamicAttributesHistoric = false;\r\n    this.rightArrow = false;\r\n    this.displayStatusPopup = false;\r\n    this.bireDocumentDisplayed = [];\r\n    this.bireDocumentAddedList = [];\r\n    this.bireDocumentUpdatedList = [];\r\n    this.bireDocDeletedList = [];\r\n    this.selectedDocuments = [];\r\n    this.bireDocument = [];\r\n\r\n    this.getBireAttributesForEvolution();\r\n\r\n    this.selectedEvolutions = [];\r\n    this.selectedModifications = [];\r\n    this.selectedInterdependences = [];\r\n    this.selectedApplicabilities = [];\r\n    this.selectedTask = [];\r\n    this.tasksTable = [];\r\n    this.selectedAssets = [];\r\n    this.selectedImpactsEvol = [];\r\n    this.selectedImpacts = [];\r\n    this.selectedImpactsItem = [];\r\n    this.isEditable = false;\r\n    this.evolution = {};\r\n    this.currentTabId = this.tabGeneralId;\r\n    this.evolutionTableFilteredRowsNb = 0;\r\n    this.modificationsTableFilteredRowsNb = 0;\r\n    this.interdependencesTableFilteredRowsNb = 0;\r\n    this.applicabilitiesTableFilteredRowsNb = 0;\r\n    this.assetsTableFilteredRowsNb = 0;\r\n    this.tasksTableFilteredRowsNb = 0;\r\n    this.impactsEvolTableFilteredRowsNb = 0;\r\n    this.impactsTableFilteredRowsNb = 0;\r\n    this.impactsItemTableFilteredRowsNb = 0;\r\n    this.familyVariantMap = new Map<LabelValue<string>, FamilyVariantDTO>();\r\n    this.arrowOrientation = new Map<BireEvolutionEvolutionDTO, boolean>();\r\n    this.bireSbadDisplayed = [];\r\n    this.bireConcernedAssetAddedList = [];\r\n    this.bireConcernedAssetDisplayed = [];\r\n    this.bireModificationDisplayed = [];\r\n    this.bireApplicabilityDisplayed = [];\r\n    this.bireInterdependenceDisplayed = [];\r\n    this.bireImpactDisplayed = [];\r\n    this.bireImpactItemDisplayed = [];\r\n    this.bireImpactEvolDisplayed = [];\r\n    this.instructions = [];\r\n\r\n    // POPUP Show Boolean init\r\n    this.showApplicabilitiesDialog = false;\r\n    this.showAssetDialog = false;\r\n    this.showEvolDialog = false;\r\n    this.showItemDialog = false;\r\n    this.showImpactDialog = false;\r\n    this.showInterdependanceDialog = false;\r\n    this.showModificationDialog = false;\r\n    this.showSbadDialog = false;\r\n    this.selectedAnchor = undefined;\r\n    this.resultsTable = [];\r\n\r\n    this.initLists();\r\n\r\n    this.propertyActionType = [];\r\n\r\n    this.loadTablesHeader();\r\n    this.fillDropDown();\r\n\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      // Change the DropDownList content regarding the langage\r\n      this.fillDropDown();\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'EvolutionFormComponent';\r\n  }\r\n\r\n  public initLists() {\r\n    this.bireSbadAddedList = [];\r\n    this.bireSbadDeletedList = [];\r\n    this.bireSbadUpdatedList = [];\r\n    this.bireModificationAddedList = [];\r\n    this.bireModificationDeletedList = [];\r\n    this.bireModificationUpdatedList = [];\r\n    this.bireApplicabilityAddedList = [];\r\n    this.bireApplicabilityDeletedList = [];\r\n    this.bireApplicabilityUpdatedList = [];\r\n    this.bireInterdependenceAddedList = [];\r\n    this.bireInterdependenceDeletedList = [];\r\n    this.bireInterdependenceUpdatedList = [];\r\n    this.bireImpactAddedList = [];\r\n    this.bireImpactDeletedList = [];\r\n    this.bireImpactUpdatedList = [];\r\n    this.bireImpactItemAddedList = [];\r\n    this.bireImpactItemDeletedList = [];\r\n    this.bireImpactItemUpdatedList = [];\r\n    this.bireImpactEvolAddedList = [];\r\n    this.bireImpactEvolDeletedList = [];\r\n    this.bireImpactEvolUpdatedList = [];\r\n\r\n    // Lang change events\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      // Reset the right attribute name regarding the langage\r\n      this.dynamicAttributesForEvolution = this.dynamicAttributesService.from(this.bireAttributesForEvolution);\r\n    });\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    if (this.componentData) {\r\n      let context = '';\r\n\r\n      this.updateOpenMode(this.componentData.openMode);\r\n\r\n      if (\r\n        this.componentData.objectId &&\r\n        this.componentData.objectId !== 'null' &&\r\n        this.componentData.objectId.length > 0\r\n      ) {\r\n        this.isEditable = false;\r\n        let evolutionId: BireEvolutionDTOId = {};\r\n        if (this.componentData.objectId.indexOf(';') !== -1) {\r\n          evolutionId = {\r\n            evolutionNumber: this.componentData.objectId.split(';')[0],\r\n            evolutionRevisionNumber: this.componentData.objectId.split(';')[1]\r\n          };\r\n\r\n          this.componentData.objectId = this.serializationService.serialize(evolutionId);\r\n        }\r\n\r\n        const tempContext = TabObjectIdUtils.bireEvolutionDTOIdToString(\r\n          this.serializationService.deserialize(this.componentData.objectId)\r\n        ).split('|');\r\n        tempContext.forEach((element) => {\r\n          context += element + TabObjectIdUtils.CONTEXT_SEPARATOR;\r\n        });\r\n        context = context.substring(0, context.length - 1);\r\n        this.subtitle = context;\r\n        this.displayComponentContext(context, this.isCreateOpenMode);\r\n\r\n        this.loadEvolution();\r\n      } else {\r\n        this.isEditable = true;\r\n      }\r\n\r\n      this.evolutionList();\r\n    }\r\n\r\n    const mainDataKey = 'page.mainData';\r\n    const impactKey = 'global.impacts';\r\n    const generalKey = 'global.general';\r\n    const airworthiDocKey = 'global.sbadMod';\r\n    const applicabilityKey = 'global.applicabilities';\r\n    const tasksKey = 'global.tasks';\r\n\r\n    this.translateService\r\n      .get([mainDataKey, impactKey, generalKey, airworthiDocKey, applicabilityKey, tasksKey])\r\n      .subscribe((results) => {\r\n        const mainDataLabel = !!results ? results[mainDataKey] : 'Main data';\r\n        const impactLabel = !!results ? results[impactKey] : 'Impacts';\r\n        const generalLabel = !!results ? results[generalKey] : 'Additional information';\r\n        const airworthiDocLabel = !!results ? results[airworthiDocKey] : 'Airworthiness Documents/MODs';\r\n        const applicabilityLabel = !!results ? results[applicabilityKey] : 'Applicabilities';\r\n        const tasksLabel = !!results ? results[tasksKey] : 'Tasks';\r\n\r\n        this.toc = [\r\n          {\r\n            id: 'mainInfoAnchor',\r\n            anchor: this.mainInfoAnchor,\r\n            label: mainDataLabel\r\n          },\r\n          {\r\n            id: 'impactAnchor',\r\n            anchor: this.impactAnchor,\r\n            label: impactLabel\r\n          },\r\n          {\r\n            id: 'generalAnchor',\r\n            anchor: this.generalAnchor,\r\n            label: generalLabel\r\n          },\r\n          {\r\n            id: 'airworthiDocAnchor',\r\n            anchor: this.airworthiDocAnchor,\r\n            label: airworthiDocLabel\r\n          },\r\n          {\r\n            id: 'applicabilityAnchor',\r\n            anchor: this.applicabilityAnchor,\r\n            label: applicabilityLabel\r\n          },\r\n          {\r\n            id: 'tasksAnchor',\r\n            anchor: this.tasksAnchor,\r\n            label: tasksLabel\r\n          }\r\n        ];\r\n      });\r\n\r\n    super.selectPageTocEntry('mainInfoAnchor');\r\n  }\r\n\r\n  public refresh(): void {\r\n    if (this.isCreateOpenMode && this.isCreateMode) {\r\n      this.initOnCreate();\r\n    } else {\r\n      this.loadDocuments();\r\n      this.reloadEvolution();\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  private loadDocuments() {\r\n    this.bireDocumentAddedList = [];\r\n    this.bireDocumentUpdatedList = [];\r\n\r\n    this.bireDocument = [];\r\n    this.bireDocumentDisplayed.forEach((obj) => {\r\n      this.bireDocument.push({ ...obj._obj });\r\n    });\r\n    this.findBireDocumentsByEvol();\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public reloadEvolution(): void {\r\n    this.init();\r\n    this.loadEvolution();\r\n  }\r\n\r\n  private init(): void {\r\n    this.evolution = {};\r\n\r\n    this.selectedApplicabilities = [];\r\n    this.selectedAssets = [];\r\n    this.selectedEvolutions = [];\r\n    this.selectedImpacts = [];\r\n    this.selectedImpactsEvol = [];\r\n    this.selectedImpactsItem = [];\r\n    this.selectedInterdependences = [];\r\n    this.selectedModifications = [];\r\n    this.selectedTask = [];\r\n    this.bireDocumentDisplayed = [];\r\n    this.bireDocumentAddedList = [];\r\n    this.bireDocumentUpdatedList = [];\r\n    this.bireDocDeletedList = [];\r\n    this.selectedDocuments = [];\r\n\r\n    this.loadTablesHeader();\r\n    this.fillDropDown();\r\n  }\r\n\r\n  private initOnCreate(): void {\r\n    this.evolution = {};\r\n\r\n    this.selectedApplicabilities = [];\r\n    this.selectedAssets = [];\r\n    this.selectedEvolutions = [];\r\n    this.selectedImpacts = [];\r\n    this.selectedImpactsEvol = [];\r\n    this.selectedImpactsItem = [];\r\n    this.selectedInterdependences = [];\r\n    this.selectedModifications = [];\r\n    this.selectedTask = [];\r\n\r\n    this.initAttributeValue();\r\n  }\r\n\r\n  private initAttributeValue(): void {\r\n    const leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesForEvolution);\r\n\r\n    leafs.forEach((attribute) => {\r\n      attribute.value = undefined;\r\n    });\r\n  }\r\n\r\n  public loadEvolution(): void {\r\n    if (!!this.componentData && !!this.componentData.objectId) {\r\n      let evolutionId: BireEvolutionDTOId = {};\r\n      if (this.componentData.objectId.indexOf(';') !== -1) {\r\n        evolutionId = {\r\n          evolutionNumber: this.componentData.objectId.split(';')[0],\r\n          evolutionRevisionNumber: this.componentData.objectId.split(';')[1]\r\n        };\r\n      } else {\r\n        evolutionId = this.serializationService.deserialize(this.componentData.objectId);\r\n      }\r\n      this.evolutionFormService.findBireEvolution(evolutionId).subscribe((result) => {\r\n        this.evolution = result;\r\n        if (this.evolution) {\r\n          this.loadTablesAssociated();\r\n          this.getBireEvolutionAttributes();\r\n          this.findBireDocumentsByEvol();\r\n          if (this.evolution.statusState === '3-loa' || this.evolution.statusState === '9-upd') {\r\n            this.evolution.statusState = '1-ong';\r\n          }\r\n        }\r\n        this.openHistoricAttributes();\r\n      });\r\n    }\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Tabs management\r\n   *************************************************************************/\r\n\r\n  public openModificationsTab(): void {\r\n    this.currentTabId = this.tabModificationsId;\r\n  }\r\n\r\n  public openGeneralTab(): void {\r\n    this.currentTabId = this.tabGeneralId;\r\n  }\r\n\r\n  public openTaskTab(): void {\r\n    this.currentTabId = this.tabTaskId;\r\n  }\r\n\r\n  public openApplicabilitiesTab(): void {\r\n    this.currentTabId = this.tabApplicabilitiesId;\r\n  }\r\n\r\n  public openImpactsTab(): void {\r\n    this.currentTabId = this.tabImpactsId;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Tables management\r\n   *************************************************************************/\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onFilterTable(event: any): void {\r\n    this.evolutionTableFilteredRowsNb = event.filteredValue.length;\r\n  }\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  public resetForm(): void {\r\n    this.evolution = {};\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Show popup functions\r\n   *************************************************************************/\r\n\r\n  public openStatus(rowData: BireEvolutionDTO): void {\r\n    // StatusManagementApi?\r\n    /*this.dataStatus = {\r\n            componentId: 'StatusPopupFormComponent',\r\n            selectedRow: rowData,\r\n            object: null,\r\n            openMode: ComponentOpenMode.Read\r\n        };*/\r\n  }\r\n\r\n  public openHistoricAttributes(): void {\r\n    if (!!this.evolution.evolutionNumber && !!this.evolution.evolutionRevisionNumber) {\r\n      this.showDynamicAttributesHistoric = true;\r\n\r\n      const attributeIds: BireEvolutionAttributeDTOId[] = this.dynamicAttributesService.toBireEvolutionAttributeId(\r\n        this.evolution.evolutionNumber,\r\n        this.evolution.evolutionRevisionNumber,\r\n        this.dynamicAttributesForEvolution\r\n      );\r\n      this.dynamicAttributesHistoric = this.evolutionFormService.findHBireEvolutionAttributesByAttributeId(\r\n        attributeIds\r\n      );\r\n    }\r\n  }\r\n\r\n  public openEvolution(objectId: string | undefined): void {\r\n    const labelKey = 'transaction.EvolutionFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EvolutionFormComponent',\r\n      objectId,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Duplicate functions\r\n   *************************************************************************/\r\n\r\n  public duplicateImpactEvol(): void {\r\n    // this.updateImpactEvol(true);\r\n  }\r\n\r\n  public duplicateImpact(): void {\r\n    // this.updateImpact();\r\n  }\r\n\r\n  public duplicateImpactItem(): void {\r\n    // this.updateImpactItem(true);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Loading tables and dropdown\r\n   *************************************************************************/\r\n\r\n  public loadTablesHeader(): void {\r\n    this.evolutionTableCols = [\r\n      { field: 'sbNumber', alignment: 'left' },\r\n      { field: 'sbRevisionNumber', alignment: 'left' },\r\n      { field: 'sbTitle', alignment: 'left', width: '40%' },\r\n      { field: 'sbType', alignment: 'left' }\r\n    ];\r\n\r\n    this.modificationsTableCols = [\r\n      { field: 'modificationNumber', alignment: 'left' },\r\n      { field: 'modificationRevisionNumber', alignment: 'left' },\r\n      { field: 'modificationTitle', alignment: 'left', width: '40%' },\r\n      { field: 'modificationType', alignment: 'left' }\r\n    ];\r\n\r\n    this.interdependencesTableCols = [\r\n      { field: 'variantCode', alignment: 'left' },\r\n      { field: 'way', alignment: 'left' },\r\n      { field: 'interdependenceCode', alignment: 'left' },\r\n      { field: 'evoEvolutionNumber', alignment: 'left' },\r\n      { field: 'evoEvolutionRevisionNumber', alignment: 'left' }\r\n    ];\r\n\r\n    this.applicabilitiesTableCols = [\r\n      { field: 'variantStructureTypeFamily', alignment: 'left' },\r\n      { field: 'evolutionApplicabilityDate', alignment: 'left' },\r\n      { field: 'statusStatePerPartner', alignment: 'left' }\r\n    ];\r\n\r\n    this.assetsTableCols = [\r\n      { field: 'assetPn', alignment: 'left' },\r\n      { field: 'assetSn', alignment: 'left' },\r\n      { field: 'assetActionType', alignment: 'left' }\r\n    ];\r\n\r\n    this.tasksTableCols = [\r\n      { field: 'taskCode', alignment: 'left' },\r\n      { field: 'taskVersion', alignment: 'left' },\r\n      { field: 'taskEvolutionTypeCode', alignment: 'left' }\r\n    ];\r\n\r\n    this.impactsEvolTableCols = [\r\n      { field: 'variant', alignment: 'left' },\r\n      { field: 'item', alignment: 'left' },\r\n      { field: 'pnCode', alignment: 'left' },\r\n      { field: 'pnPnCode', alignment: 'left' },\r\n      { field: 'actionTypeCode', alignment: 'left' },\r\n      { field: 'quantityBefore', alignment: 'left' },\r\n      { field: 'quantityAfter', alignment: 'left' },\r\n      { field: 'interchangeability', alignment: 'left' },\r\n      { field: 'applicability', alignment: 'left' }\r\n    ];\r\n\r\n    this.impactsTableCols = [\r\n      { field: 'variant', alignment: 'left' },\r\n      { field: 'item', alignment: 'left' },\r\n      { field: 'assetPn', alignment: 'left' },\r\n      { field: 'actionTypeCode', alignment: 'left' },\r\n      { field: 'applicability', alignment: 'left' }\r\n    ];\r\n\r\n    this.impactsItemTableCols = [\r\n      { field: 'variant', alignment: 'left' },\r\n      { field: 'itemFather', alignment: 'left' },\r\n      { field: 'inGroup', alignment: 'left' },\r\n      { field: 'item', alignment: 'left' },\r\n      { field: 'actionTypeCode', alignment: 'left' }\r\n    ];\r\n\r\n    this.opeAttributesTableCols = [\r\n      { field: 'dateAndHour', alignment: 'left', width: '5rem' },\r\n      { field: 'author', alignment: 'left', width: '5rem' },\r\n      { field: 'state', alignment: 'left', width: '5rem' },\r\n      { field: 'value', alignment: 'left', width: '5rem' },\r\n      { field: 'downloadDate', alignment: 'left', width: '5rem' }\r\n    ];\r\n\r\n    this.documentsTableCols = [\r\n      { field: 'docName', alignment: 'left' },\r\n      { field: 'docSource', alignment: 'left' },\r\n      { field: 'docExtension', alignment: 'left' },\r\n      { field: 'docSize', alignment: 'left' },\r\n      { field: 'docPublicationDate', alignment: 'left' }\r\n    ];\r\n  }\r\n\r\n  public loadTablesAssociated(): void {\r\n    this.showStatusNotMatchedWarning = false;\r\n    this.statusNotMatchedWarning = '';\r\n    const evolutionId: BireEvolutionDTOId = {\r\n      evolutionNumber: this.evolution.evolutionNumber,\r\n      evolutionRevisionNumber: this.evolution.evolutionRevisionNumber\r\n    };\r\n    this.evolutionFormService.findBireEvolutionSbsByEvolution(this.evolution).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.bireSbadDisplayed = results;\r\n          results.forEach((element) => {\r\n            if (this.evolution.statusState !== element.statusState) {\r\n              this.showStatusNotMatchedWarning = true;\r\n              const statusKey = this.getTranslateKey('statusNotMatchedMessage');\r\n              this.translateService.get(statusKey).subscribe((result: string) => {\r\n                this.statusNotMatchedWarning = result;\r\n              });\r\n            }\r\n            if (this.propertyStatusSbad.filter((status) => status.value === element.statusState).length !== 0) {\r\n              element.statusState = this.propertyStatusSbad.filter(\r\n                (status) => status.value === element.statusState\r\n              )[0].label;\r\n            }\r\n            // TODO: Appends when the evolution is upgraded, but why the SB/AD Status change too?\r\n            if (element.statusState === '9-upd') {\r\n              element.statusState = 'Updated';\r\n            }\r\n\r\n            this.propertiesService\r\n              .getValue(GenericPropertyConstants.SB_TYPE_MAP)\r\n              .subscribe((sbTypes: LabelValue<string>[]) => {\r\n                sbTypes.forEach((tmp: LabelValue<string>) => {\r\n                  if (element.sbType === tmp.value) {\r\n                    element.sbType = tmp.label;\r\n                  }\r\n                });\r\n              });\r\n          });\r\n          this.evolutionTableFilteredRowsNb = this.bireSbadDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetSBADResults'));\r\n      }\r\n    );\r\n\r\n    this.evolutionFormService.findBireModificationEvolutionsByEvolution(this.evolution).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.bireModificationDisplayed = results;\r\n          this.modificationsTableFilteredRowsNb = this.bireModificationDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetModificationsResults'));\r\n      }\r\n    );\r\n    this.evolutionFormService.findBireEvolutionEvolutionsByEvolution(this.evolution).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.bireInterdependenceDisplayed = results;\r\n          results.forEach((element) => {\r\n            if (element.interdependenceCode) {\r\n              element.interdependenceCode = this.interdependence.filter(\r\n                (status) => status.value === element.interdependenceCode\r\n              )[0].label;\r\n            }\r\n            if (\r\n              this.evolution.evolutionNumber === element.evolutionNumber &&\r\n              this.evolution.evolutionRevisionNumber === element.evolutionRevisionNumber\r\n            ) {\r\n              this.arrowOrientation.set(element, true);\r\n            } else {\r\n              this.arrowOrientation.set(element, false);\r\n              element.evoEvolutionNumber = element.evolutionNumber;\r\n              element.evoEvolutionRevisionNumber = element.evolutionRevisionNumber;\r\n            }\r\n          });\r\n\r\n          this.interdependencesTableFilteredRowsNb = this.bireInterdependenceDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInterdependencesResults'));\r\n      }\r\n    );\r\n\r\n    this.evolutionFormService.findBireEvolutionVariantsByEvolutionNumbers(evolutionId).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.bireApplicabilityDisplayed = results;\r\n          this.applicabilitiesTableFilteredRowsNb = this.bireApplicabilityDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetApplicabilitiesResults'));\r\n      }\r\n    );\r\n\r\n    this.evolutionFormService.findBireConcernedAssetsByEvolution(evolutionId).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          results.forEach((element) => {\r\n            if (element.assetActionType) {\r\n              element.assetActionType = this.instructions.filter(\r\n                (actionType) => actionType.value === element.assetActionType\r\n              )[0].label;\r\n            }\r\n          });\r\n\r\n          this.bireConcernedAssetDisplayed = results;\r\n          this.assetsTableFilteredRowsNb = this.bireConcernedAssetDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetAssetsResults'));\r\n      }\r\n    );\r\n\r\n    this.evolutionFormService.findBireEvolutionPnsByEvolution(evolutionId).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.bireImpactDisplayed = results;\r\n          results.forEach((element) => {\r\n            element.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n              (action) => action.value === element.actionTypeCode\r\n            )[0].label;\r\n\r\n            element[\r\n              'item'\r\n            ] = `${element.chapter}-${element.section}-${element.subject}-${element.sheet}-${element.marks}`;\r\n\r\n            element['variant'] = `${element.familyCode}-${element.structureType}-${element.variantCode}`;\r\n\r\n            element['assetPn'] = `${element.pnCode}`;\r\n          });\r\n          this.bireImpactDisplayed = results;\r\n          this.impactsTableFilteredRowsNb = this.bireImpactDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetImpactsOnPNResults'));\r\n      }\r\n    );\r\n\r\n    this.evolutionFormService.findBireEvolutionItemsByEvolution(evolutionId).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          // this.bireImpactItemDisplayed = results;\r\n          this.bireImpactItemDisplayed = [];\r\n          results.forEach((element) => {\r\n            if (element.actionTypeCode) {\r\n              element.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n                (action) => action.value === element.actionTypeCode\r\n              )[0].label;\r\n            }\r\n\r\n            element[\r\n              'item'\r\n            ] = `${element.chapter}-${element.section}-${element.subject}-${element.sheet}-${element.marks}`;\r\n\r\n            element['variant'] = `${element.familyCode}-${element.structureType}-${element.variantCode}`;\r\n            this.findBireItemItemsByItemSon(element, (result: BireItemItemDTO[]) => {\r\n              if (!!result && result.length !== 0) {\r\n                let itemFather = `${result[0].fatherChapter}-${result[0].fatherSection}-`;\r\n                itemFather += `${result[0].fatherSheet}-${result[0].fatherSubject}-${result[0].fatherMarks}`;\r\n                element['itemFather'] = itemFather;\r\n              }\r\n              this.bireImpactItemDisplayed.push(element);\r\n            });\r\n          });\r\n          this.impactsItemTableFilteredRowsNb = this.bireImpactItemDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetImpactsOnItemResults'));\r\n      }\r\n    );\r\n\r\n    this.evolutionFormService.findBireItemPnEvolutionsByEvolution(evolutionId).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.bireImpactEvolDisplayed = results;\r\n          results.forEach((element) => {\r\n            if (element.actionTypeCode) {\r\n              element.actionTypeCode = this.propertyActionType.filter(\r\n                (action) => action.value === element.actionTypeCode\r\n              )[0].label;\r\n            }\r\n            if (element.interchangeability) {\r\n              element.interchangeability = this.propertyInterchangeability.filter(\r\n                (interchangeability) => interchangeability.value === element.interchangeability\r\n              )[0].label;\r\n            }\r\n\r\n            element[\r\n              'item'\r\n            ] = `${element.chapter}-${element.section}-${element.subject}-${element.sheet}-${element.marks}`;\r\n\r\n            element['variant'] = `${element.familyCode}-${element.structureType}-${element.variantCode}`;\r\n          });\r\n          this.bireImpactEvolDisplayed = results;\r\n          this.impactsEvolTableFilteredRowsNb = this.bireImpactEvolDisplayed.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetImpactsOnEvolResults'));\r\n      }\r\n    );\r\n\r\n    this.evolutionFormService.findBireTaskEvolutionsByEvolution(evolutionId).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.tasksTable = results;\r\n          this.tasksTableFilteredRowsNb = this.tasksTable.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetTasksResults'));\r\n      }\r\n    );\r\n  }\r\n\r\n  // Get differents attributes list for this object\r\n  public getBireAttributesForEvolution(): void {\r\n    this.evolutionFormService\r\n      .findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY)\r\n      .subscribe(\r\n        (results) => {\r\n          this.bireAttributesForEvolution.push(...results);\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n        }\r\n      );\r\n\r\n    this.evolutionFormService\r\n      .findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_EVOLUTION_KEY)\r\n      .subscribe(\r\n        (results) => {\r\n          this.bireAttributesForEvolution.push(...results);\r\n          setTimeout(() => {\r\n            this.dynamicAttributesForEvolution = this.dynamicAttributesService.from(this.bireAttributesForEvolution);\r\n            this.getBireEvolutionAttributes();\r\n          });\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n        }\r\n      );\r\n  }\r\n\r\n  public getBireEvolutionAttributes(): void {\r\n    this.evolutionFormService.findBireEvolutionAttributesByEvolution(this.evolution).subscribe(\r\n      (results) => {\r\n        this.bireEvolutionAttributes = results;\r\n        this.dynamicAttributesService.setValues(this.dynamicAttributesForEvolution, this.bireEvolutionAttributes);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByEvolution'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public initAttributeIdValueMap() {\r\n    // Real code\r\n    this.bireEvolutionAttributes.forEach((element) => {\r\n      if (!!element.attributeId && !!element.attributeValue) {\r\n        this.attributeIdValueMap.set(element.attributeId, element.attributeValue);\r\n      } else {\r\n        super.throwUnboundLocalError('initAttributeValueMap', 'element');\r\n      }\r\n    });\r\n  }\r\n\r\n  public fillDropDown() {\r\n    this.evolutionFormService.getFuncObjectStatusMap().subscribe(\r\n      (results) => {\r\n        this.propertyStatus = results;\r\n        // this.propertyStatusSbad = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetObjectStatus'));\r\n      }\r\n    );\r\n    this.evolutionFormService.getFunctionObjectionStatus('3-loa').subscribe(\r\n      (results) => {\r\n        this.propertyStatusSbad = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetObjectStatus'));\r\n      }\r\n    );\r\n    this.evolutionFormService.getObjectStatusMap().subscribe(\r\n      (results) => {\r\n        this.propertyObjectStatus = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStatus'));\r\n      }\r\n    );\r\n    this.evolutionFormService.getEvolutionTypeMap().subscribe(\r\n      (results) => {\r\n        this.propertyType = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetEvolutionType'));\r\n      }\r\n    );\r\n    this.evolutionFormService.getEvolutionLevelMap().subscribe(\r\n      (results) => {\r\n        this.propertyLevel = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetEvolutionLevel'));\r\n      }\r\n    );\r\n    this.evolutionFormService.getComplianceMap().subscribe(\r\n      (results) => {\r\n        this.propertyCompliance = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetEvolutionCompliance'));\r\n      }\r\n    );\r\n    this.evolutionFormService.findAllBireInterdependences().subscribe(\r\n      (results) => {\r\n        this.interdependence = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInterdependences'));\r\n      }\r\n    );\r\n    this.evolutionFormService.getAssetActionType().subscribe(\r\n      (results) => {\r\n        this.instructions = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInstructions'));\r\n      }\r\n    );\r\n    this.evolutionFormService.findBireActionTypesByActionTypeCode(BireActionTypeConstants.ACTION_TYPE_B).subscribe(\r\n      (results) => {\r\n        this.propertyActionType = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetActionTypes'));\r\n      }\r\n    );\r\n    this.evolutionFormService.findBireActionTypesByActionTypeCode(BireActionTypeConstants.ACTION_TYPE_A).subscribe(\r\n      (results) => {\r\n        this.propertyActionTypeImpact = results;\r\n        this.propertyActionTypeImpactItem = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetActionTypes'));\r\n      }\r\n    );\r\n    this.evolutionFormService.findAllBireVariantVersions().subscribe(\r\n      (results) => {\r\n        const list = new Array<LabelValue<string>>();\r\n        results.forEach((element) => {\r\n          if (!!element.labelValueDTO) {\r\n            list.push(element.labelValueDTO);\r\n            this.familyVariantMap.set(element.labelValueDTO, element);\r\n          } else {\r\n            super.throwUnboundLocalError('fillDropdown', 'element.labelValueDTO');\r\n          }\r\n        });\r\n        this.propertyVariant = list;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n    this.evolutionFormService.getPnInterchangeabilityMap().subscribe(\r\n      (results) => {\r\n        this.propertyInterchangeability = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInterchangeability'));\r\n      }\r\n    );\r\n\r\n    if (!this.evolution.statusState) {\r\n      this.evolution.statusState = '1-ong';\r\n    }\r\n  }\r\n\r\n  /**************************************************************************\r\n   * SBAD table\r\n   *************************************************************************/\r\n\r\n  public confirmDeleteSbad(): void {\r\n    const partialMessageKey = 'deleteConfirmationSbad';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedSbad();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createSbad(): void {\r\n    this.showSbadDialog = true;\r\n    this.isNewSbad = true;\r\n    this.isReadOnlySbadDialog = false;\r\n    this.dataSb = {\r\n      componentId: 'SbadPopupDialog',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editSbad(): void {\r\n    this.isNewSbad = false;\r\n    this.isReadOnlySbadDialog = false;\r\n    if (this.selectedEvolutions.length === 1) {\r\n      this.currentSbad = { ...this.selectedEvolutions[0] };\r\n      this.currentSbadIndex = this.bireSbadDisplayed.indexOf(this.selectedEvolutions[0]);\r\n      this.showSbadDialog = true;\r\n      this.dataSb = {\r\n        componentId: 'SbadPopupDialog',\r\n        selectedRow: this.selectedEvolutions,\r\n        object: this.currentSbad,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openSbad(): void {\r\n    this.isReadOnlySbadDialog = true;\r\n    if (this.selectedEvolutions.length === 1) {\r\n      this.currentSbad = { ...this.selectedEvolutions[0] };\r\n      this.currentSbadIndex = this.bireSbadDisplayed.indexOf(this.selectedEvolutions[0]);\r\n      this.showSbadDialog = true;\r\n      this.dataSb = {\r\n        componentId: 'SbadPopupDialog',\r\n        selectedRow: this.selectedEvolutions,\r\n        object: this.currentSbad,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public addNewSbad(newSbad: BireEvolutionSbDTO) {\r\n    if (newSbad.statusState) {\r\n      newSbad.statusState = this.propertyStatusSbad.filter((status) => status.value === newSbad.statusState)[0].label;\r\n    }\r\n    const searchInDisplayedList = this.bireSbadDisplayed.find(\r\n      (value) =>\r\n        value.sbNumber === newSbad.sbNumber &&\r\n        value.sbRevisionNumber === newSbad.sbRevisionNumber &&\r\n        value.statusState === newSbad.statusState\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireSbadAddedList.push(newSbad);\r\n      this.bireSbadDisplayed.push(newSbad);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('SbadAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedSbad() {\r\n    this.selectedEvolutions.forEach((element) => {\r\n      if (\r\n        !!element.evolutionNumber &&\r\n        !!element.evolutionRevisionNumber &&\r\n        !!element.sbNumber &&\r\n        !!element.sbRevisionNumber\r\n      ) {\r\n        const sbadId: BireEvolutionSbDTOId = {\r\n          evolutionNumber: element.evolutionNumber,\r\n          evolutionRevisionNumber: element.evolutionRevisionNumber,\r\n          sbNumber: element.sbNumber,\r\n          sbRevisionNumber: element.sbRevisionNumber\r\n        };\r\n        const searchInAddedList = this.bireSbadAddedList.find(\r\n          (value) => value.sbNumber === element.sbNumber && value.sbRevisionNumber === element.sbRevisionNumber\r\n        );\r\n        const searchInUpdatedList = this.bireSbadAddedList.find(\r\n          (value) => value.sbNumber === element.sbNumber && value.sbRevisionNumber === element.sbRevisionNumber\r\n        );\r\n        if (searchInAddedList) {\r\n          const indexInAddedList = this.bireSbadAddedList.indexOf(searchInAddedList);\r\n          this.bireSbadAddedList.splice(indexInAddedList, 1);\r\n        } else if (searchInUpdatedList) {\r\n          const indexInUpdatedList = this.bireSbadUpdatedList.indexOf(searchInUpdatedList);\r\n          this.bireSbadUpdatedList.splice(indexInUpdatedList, 1);\r\n          this.bireSbadDeletedList.push(sbadId);\r\n        } else {\r\n          this.bireSbadDeletedList.push(sbadId);\r\n        }\r\n        const indexInDisplayedList = this.bireSbadDisplayed.indexOf(element);\r\n        this.bireSbadDisplayed.splice(indexInDisplayedList, 1);\r\n      } else {\r\n        // super.throwUnboundLocalError('deleteSelectedSbad', 'element');\r\n        const searchInAddedList = this.bireSbadAddedList.find(\r\n          (value) => value.sbNumber === element.sbNumber && value.sbRevisionNumber === element.sbRevisionNumber\r\n        );\r\n        if (searchInAddedList) {\r\n          const indexInAddedList = this.bireSbadAddedList.indexOf(searchInAddedList);\r\n          this.bireSbadAddedList.splice(indexInAddedList, 1);\r\n        }\r\n        const indexInDisplayedList = this.bireSbadDisplayed.indexOf(element);\r\n        this.bireSbadDisplayed.splice(indexInDisplayedList, 1);\r\n      }\r\n    });\r\n    this.selectedEvolutions = [];\r\n  }\r\n\r\n  public updateSbad(udpatedSbad: BireEvolutionSbDTO) {\r\n    if (udpatedSbad.statusState) {\r\n      udpatedSbad.statusState = this.propertyStatusSbad.filter(\r\n        (status) => status.value === udpatedSbad.statusState\r\n      )[0].label;\r\n    }\r\n    const previousSbadObject = this.bireSbadDisplayed[this.currentSbadIndex];\r\n    const searchInAddedList = this.bireSbadAddedList.find(\r\n      (value) =>\r\n        value.sbNumber === previousSbadObject.sbNumber && value.sbRevisionNumber === previousSbadObject.sbRevisionNumber\r\n    );\r\n    const searchInUpdatedList = this.bireSbadUpdatedList.find(\r\n      (value) =>\r\n        value.sbNumber === previousSbadObject.sbNumber && value.sbRevisionNumber === previousSbadObject.sbRevisionNumber\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireSbadAddedList.indexOf(searchInAddedList);\r\n      this.bireSbadAddedList[indexInAddedList] = udpatedSbad;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireSbadUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireSbadUpdatedList[indexInUpdatedList] = udpatedSbad;\r\n    } else {\r\n      this.bireSbadUpdatedList.push(udpatedSbad);\r\n    }\r\n    this.selectedEvolutions = [];\r\n    this.bireSbadDisplayed[this.currentSbadIndex] = udpatedSbad;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Assets table\r\n   *************************************************************************/\r\n\r\n  public confirmDeleteAsset(): void {\r\n    const partialMessageKey = 'deleteConfirmationAsset';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedConcernedAssets();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createAsset(): void {\r\n    this.showAssetDialog = true;\r\n    this.isNewAsset = true;\r\n    this.isReadOnlyAssetDialog = false;\r\n    this.dataAssets = {\r\n      componentId: 'AssetPopupDialog',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n  public editAsset(): void {\r\n    this.isNewAsset = false;\r\n    this.isReadOnlyAssetDialog = false;\r\n    if (this.selectedAssets.length === 1) {\r\n      this.currentAsset = { ...this.selectedAssets[0] };\r\n\r\n      if (this.currentAsset.assetActionType) {\r\n        this.currentAsset.assetActionType = this.instructions.filter(\r\n          (actionType) => actionType.label === this.currentAsset.assetActionType\r\n        )[0].value;\r\n      }\r\n      this.currentConcernedAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);\r\n      this.showAssetDialog = true;\r\n      this.dataAssets = {\r\n        componentId: 'AssetPopupDialog',\r\n        selectedRow: this.selectedAssets,\r\n        object: this.currentAsset,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openAsset(): void {\r\n    this.isReadOnlyAssetDialog = true;\r\n    if (this.selectedAssets.length === 1) {\r\n      this.currentAsset = { ...this.selectedAssets[0] };\r\n\r\n      if (this.currentAsset.assetActionType) {\r\n        this.currentAsset.assetActionType = this.instructions.filter(\r\n          (actionType) => actionType.label === this.currentAsset.assetActionType\r\n        )[0].value;\r\n      }\r\n      this.currentConcernedAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);\r\n      this.showAssetDialog = true;\r\n      this.dataAssets = {\r\n        componentId: 'AssetPopupDialog',\r\n        selectedRow: this.selectedAssets,\r\n        object: this.currentAsset,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  private deleteSelectedConcernedAssets() {\r\n    this.selectedAssets.forEach((element) => {\r\n      const indexInDisplayedList = this.bireConcernedAssetDisplayed.indexOf(element);\r\n      this.bireConcernedAssetDisplayed.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;\r\n    this.selectedAssets = [];\r\n  }\r\n\r\n  public addNewAsset(concernedAsset: BireConcernedAssetDTO) {\r\n    if (concernedAsset.assetActionType) {\r\n      concernedAsset.assetActionType = this.instructions.filter(\r\n        (actionType) => actionType.value === concernedAsset.assetActionType\r\n      )[0].label;\r\n    }\r\n    const searchInDisplayedList = this.bireConcernedAssetDisplayed.find((value) =>\r\n      this.isConcernedAssetTheSame(value, concernedAsset)\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireConcernedAssetDisplayed.push(concernedAsset);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyConcernedAssetExist'));\r\n    }\r\n    this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;\r\n  }\r\n\r\n  public updateConcernedAsset(concernedAsset: BireConcernedAssetDTO) {\r\n    if (concernedAsset.assetActionType) {\r\n      concernedAsset.assetActionType = this.instructions.filter(\r\n        (actionType) => actionType.value === concernedAsset.assetActionType\r\n      )[0].label;\r\n    }\r\n    this.bireConcernedAssetDisplayed[this.currentConcernedAssetIndex] = concernedAsset;\r\n    this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;\r\n    this.selectedAssets = [];\r\n  }\r\n\r\n  private isConcernedAssetTheSame(\r\n    concernedAsset1: BireConcernedAssetDTO,\r\n    concernedAsset2: BireConcernedAssetDTO\r\n  ): boolean {\r\n    if (\r\n      concernedAsset1.assetPn === concernedAsset2.assetPn &&\r\n      concernedAsset1.assetSn === concernedAsset2.assetSn &&\r\n      concernedAsset1.assetActionType === concernedAsset2.assetActionType\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Modifications table\r\n   *************************************************************************/\r\n\r\n  public confirmDeleteModification(): void {\r\n    const partialMessageKey = 'deleteConfirmationModif';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedModification();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createModification(): void {\r\n    this.showModificationDialog = true;\r\n    this.isNewModification = true;\r\n    this.isReadOnlyModificationDialog = false;\r\n    this.dataModif = {\r\n      componentId: 'ModificationsPopupDialog',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editModification(): void {\r\n    this.isNewModification = false;\r\n    this.isReadOnlyModificationDialog = false;\r\n    if (this.selectedModifications.length === 1) {\r\n      this.currentModification = { ...this.selectedModifications[0] };\r\n      this.currentModificationIndex = this.bireModificationDisplayed.indexOf(this.selectedModifications[0]);\r\n      this.showModificationDialog = true;\r\n      this.dataModif = {\r\n        componentId: 'ModificationsPopupDialog',\r\n        selectedRow: this.selectedModifications,\r\n        object: this.currentModification,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openModification(): void {\r\n    this.isReadOnlyModificationDialog = true;\r\n    if (this.selectedModifications.length === 1) {\r\n      this.currentModification = { ...this.selectedModifications[0] };\r\n      this.currentModificationIndex = this.bireModificationDisplayed.indexOf(this.selectedModifications[0]);\r\n      this.showModificationDialog = true;\r\n      this.dataModif = {\r\n        componentId: 'ModificationsPopupDialog',\r\n        selectedRow: this.selectedModifications,\r\n        object: this.currentModification,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public addNewModification(newModification: BireModificationEvolutionDTO) {\r\n    const searchInDisplayedList = this.bireModificationDisplayed.find(\r\n      (value) =>\r\n        value.modificationNumber === newModification.modificationNumber &&\r\n        value.modificationRevisionNumber === newModification.modificationRevisionNumber &&\r\n        value.familyCode === newModification.familyCode &&\r\n        value.structureType === newModification.structureType\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireModificationAddedList.push(newModification);\r\n      this.bireModificationDisplayed.push(newModification);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('ModificationAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedModification() {\r\n    this.selectedModifications.forEach((element) => {\r\n      const searchInAddedList = this.bireModificationAddedList.find(\r\n        (value) =>\r\n          value.modificationNumber === element.modificationNumber &&\r\n          value.modificationRevisionNumber === element.modificationRevisionNumber &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType\r\n      );\r\n      const searchInUpdatedList = this.bireModificationAddedList.find(\r\n        (value) =>\r\n          value.modificationNumber === element.modificationNumber &&\r\n          value.modificationRevisionNumber === element.modificationRevisionNumber &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireModificationAddedList.indexOf(searchInAddedList);\r\n        this.bireModificationAddedList.splice(indexInAddedList, 1);\r\n      } else {\r\n        if (\r\n          !!element.modificationType &&\r\n          !!element.evolutionNumber &&\r\n          !!element.evolutionRevisionNumber &&\r\n          !!element.familyCode &&\r\n          !!element.structureType &&\r\n          !!element.modificationNumber &&\r\n          !!element.modificationRevisionNumber\r\n        ) {\r\n          const modifId: BireModificationEvolutionDTOId = {\r\n            modificationType: element.modificationType,\r\n            evolutionNumber: element.evolutionNumber,\r\n            evolutionRevisionNumber: element.evolutionRevisionNumber,\r\n            familyCode: element.familyCode,\r\n            structureType: element.structureType,\r\n            modificationNumber: element.modificationNumber,\r\n            modificationRevisionNumber: element.modificationRevisionNumber\r\n          };\r\n          if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireModificationUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireModificationUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireModificationDeletedList.push(modifId);\r\n          } else {\r\n            this.bireModificationDeletedList.push(modifId);\r\n          }\r\n        } else {\r\n          super.throwUnboundLocalError('deleteSelectedModification', 'element');\r\n        }\r\n      }\r\n\r\n      const indexInDisplayedList = this.bireModificationDisplayed.indexOf(element);\r\n      this.bireModificationDisplayed.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedModifications = [];\r\n  }\r\n\r\n  public updateModification(udpatedModification: BireModificationEvolutionDTO) {\r\n    const previousModificationObject = this.bireModificationDisplayed[this.currentModificationIndex];\r\n    const searchInAddedList = this.bireModificationAddedList.find(\r\n      (value) =>\r\n        value.modificationNumber === previousModificationObject.modificationNumber &&\r\n        value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber &&\r\n        value.familyCode === previousModificationObject.familyCode &&\r\n        value.structureType === previousModificationObject.structureType\r\n    );\r\n    const searchInUpdatedList = this.bireModificationUpdatedList.find(\r\n      (value) =>\r\n        value.modificationNumber === previousModificationObject.modificationNumber &&\r\n        value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber &&\r\n        value.familyCode === previousModificationObject.familyCode &&\r\n        value.structureType === previousModificationObject.structureType\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireModificationAddedList.indexOf(searchInAddedList);\r\n      this.bireModificationAddedList[indexInAddedList] = udpatedModification;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireModificationUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireModificationUpdatedList[indexInUpdatedList] = udpatedModification;\r\n    } else {\r\n      this.bireModificationUpdatedList.push(udpatedModification);\r\n    }\r\n    this.selectedModifications = [];\r\n    this.bireModificationDisplayed[this.currentModificationIndex] = udpatedModification;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Applicabilities table\r\n   *************************************************************************/\r\n\r\n  public confirmDeleteApplicability(): void {\r\n    const partialMessageKey = 'deleteConfirmationAppli';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedApplicability();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createApplicability(): void {\r\n    this.showApplicabilitiesDialog = true;\r\n    this.isNewApplicability = true;\r\n    this.isReadOnlyApplicabilityDialog = false;\r\n    this.dataAppli = {\r\n      componentId: 'ApplicabilityPopupDialog',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editApplicability(): void {\r\n    this.isNewApplicability = false;\r\n    this.isReadOnlyApplicabilityDialog = false;\r\n    if (this.selectedApplicabilities.length === 1) {\r\n      this.currentApplicability = { ...this.selectedApplicabilities[0] };\r\n      this.currentApplicabilityIndex = this.bireApplicabilityDisplayed.indexOf(this.selectedApplicabilities[0]);\r\n      this.showApplicabilitiesDialog = true;\r\n      this.dataAppli = {\r\n        componentId: 'ApplicabilityPopupDialog',\r\n        selectedRow: this.selectedApplicabilities,\r\n        object: this.currentApplicability,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openApplicability(): void {\r\n    this.isReadOnlyApplicabilityDialog = true;\r\n    if (this.selectedApplicabilities.length === 1) {\r\n      this.currentApplicability = { ...this.selectedApplicabilities[0] };\r\n      this.currentApplicabilityIndex = this.bireApplicabilityDisplayed.indexOf(this.selectedApplicabilities[0]);\r\n      this.showApplicabilitiesDialog = true;\r\n      this.dataAppli = {\r\n        componentId: 'ApplicabilityPopupDialog',\r\n        selectedRow: this.selectedApplicabilities,\r\n        object: this.currentApplicability,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public addNewApplicability(newApplicability: BireEvolutionVariantDTO) {\r\n    const searchInDisplayedList = this.bireApplicabilityDisplayed.find(\r\n      (value) =>\r\n        value.variantCode === newApplicability.variantCode &&\r\n        value.familyCode === newApplicability.familyCode &&\r\n        value.structureType === newApplicability.structureType\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      if (newApplicability.evolutionApplicabilityDate) {\r\n        newApplicability.evolutionApplicabilityDate = new Date(newApplicability.evolutionApplicabilityDate.toString());\r\n      }\r\n      this.bireApplicabilityAddedList.push(newApplicability);\r\n      newApplicability['variantStructureTypeFamily'] = `${newApplicability.familyCode}-${newApplicability.structureType}\r\n      -${newApplicability.familyCode}-${newApplicability.variantCode}`;\r\n      this.bireApplicabilityDisplayed.push(newApplicability);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('ApplicabilityAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedApplicability() {\r\n    this.selectedApplicabilities.forEach((element) => {\r\n      const searchInAddedList = this.bireApplicabilityAddedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType\r\n      );\r\n      const searchInUpdatedList = this.bireApplicabilityUpdatedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireApplicabilityAddedList.indexOf(searchInAddedList);\r\n        this.bireApplicabilityAddedList.splice(indexInAddedList, 1);\r\n      } else {\r\n        if (\r\n          !!element.evolutionNumber &&\r\n          !!element.evolutionRevisionNumber &&\r\n          !!element.variantCode &&\r\n          !!element.familyCode &&\r\n          !!element.structureType\r\n        ) {\r\n          const appliId: BireEvolutionVariantDTOId = {\r\n            evolutionNumber: element.evolutionNumber,\r\n            evolutionRevisionNumber: element.evolutionRevisionNumber,\r\n            variantCode: element.variantCode,\r\n            familyCode: element.familyCode,\r\n            structureType: element.structureType\r\n          };\r\n          if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireApplicabilityUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireApplicabilityUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireApplicabilityDeletedList.push(appliId);\r\n          } else {\r\n            this.bireApplicabilityDeletedList.push(appliId);\r\n          }\r\n        } else {\r\n          super.throwUnboundLocalError('deleteSelectedApplicability', 'element');\r\n        }\r\n      }\r\n\r\n      const indexInDisplayedList = this.bireApplicabilityDisplayed.indexOf(element);\r\n      this.bireApplicabilityDisplayed.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedApplicabilities = [];\r\n  }\r\n\r\n  public updateApplicability(udpatedApplicability: BireSbVariantDTO) {\r\n    const previousSbVariantObject = this.bireApplicabilityDisplayed[this.currentApplicabilityIndex];\r\n    const searchInAddedList = this.bireApplicabilityAddedList.find(\r\n      (value) =>\r\n        value.variantCode === previousSbVariantObject.variantCode &&\r\n        value.familyCode === previousSbVariantObject.familyCode &&\r\n        value.structureType === previousSbVariantObject.structureType\r\n    );\r\n    const searchInUpdatedList = this.bireApplicabilityUpdatedList.find(\r\n      (value) =>\r\n        value.variantCode === previousSbVariantObject.variantCode &&\r\n        value.familyCode === previousSbVariantObject.familyCode &&\r\n        value.structureType === previousSbVariantObject.structureType\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireApplicabilityAddedList.indexOf(searchInAddedList);\r\n      this.bireApplicabilityAddedList[indexInAddedList] = udpatedApplicability;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireApplicabilityUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireApplicabilityUpdatedList[indexInUpdatedList] = udpatedApplicability;\r\n    } else {\r\n      this.bireApplicabilityUpdatedList.push(udpatedApplicability);\r\n    }\r\n    this.selectedApplicabilities = [];\r\n    this.bireApplicabilityDisplayed[this.currentApplicabilityIndex] = udpatedApplicability;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Interdependence table\r\n   *************************************************************************/\r\n\r\n  public confirmDeleteInterdependence(): void {\r\n    const partialMessageKey = 'deleteConfirmationInterdependence';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedInterdependence();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createInterdependence(): void {\r\n    this.showInterdependanceDialog = true;\r\n    this.isNewInterdependence = true;\r\n    this.isReadOnlyInterdependenceDialog = false;\r\n    this.currentInterdependence = {\r\n      evolutionNumber: this.evolution.evolutionNumber,\r\n      evolutionRevisionNumber: this.evolution.evolutionRevisionNumber\r\n    };\r\n    this.dataInterdep = {\r\n      componentId: 'InterdependencePopupDialog',\r\n      selectedRow: [],\r\n      object: this.currentInterdependence,\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editInterdependence(): void {\r\n    this.isNewInterdependence = false;\r\n    this.isReadOnlyInterdependenceDialog = false;\r\n    if (this.selectedInterdependences.length === 1) {\r\n      this.currentInterdependence = { ...this.selectedInterdependences[0] };\r\n      this.currentInterdependence.interdependenceCode = this.interdependence.filter(\r\n        (interdep) => interdep.label === this.currentInterdependence.interdependenceCode\r\n      )[0].value;\r\n      this.currentInterdependenceIndex = this.bireInterdependenceDisplayed.indexOf(this.selectedInterdependences[0]);\r\n      this.currentInterdependence.evolutionNumber = this.evolution.evolutionNumber;\r\n      this.currentInterdependence.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n      this.showInterdependanceDialog = true;\r\n      this.dataInterdep = {\r\n        componentId: 'InterdependencePopupDialog',\r\n        selectedRow: this.selectedInterdependences,\r\n        object: this.currentInterdependence,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openInterdependence(): void {\r\n    this.isReadOnlyInterdependenceDialog = true;\r\n    if (this.selectedInterdependences.length === 1) {\r\n      this.currentInterdependence = { ...this.selectedInterdependences[0] };\r\n      this.currentInterdependence.interdependenceCode = this.interdependence.filter(\r\n        (interdep) => interdep.label === this.currentInterdependence.interdependenceCode\r\n      )[0].value;\r\n      this.currentInterdependenceIndex = this.bireInterdependenceDisplayed.indexOf(this.selectedInterdependences[0]);\r\n      this.currentInterdependence.evolutionNumber = this.evolution.evolutionNumber;\r\n      this.currentInterdependence.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n      this.showInterdependanceDialog = true;\r\n      this.dataInterdep = {\r\n        componentId: 'InterdependencePopupDialog',\r\n        selectedRow: this.selectedInterdependences,\r\n        object: this.currentInterdependence,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public addNewInterdependence(newInterdependence: BireEvolutionEvolutionDTO) {\r\n    newInterdependence.interdependenceCode = this.interdependence.filter(\r\n      (status) => status.value === newInterdependence.interdependenceCode\r\n    )[0].label;\r\n    const searchInDisplayedList = this.bireInterdependenceDisplayed.find(\r\n      (value) =>\r\n        value.variantCode === newInterdependence.variantCode &&\r\n        value.familyCode === newInterdependence.familyCode &&\r\n        value.structureType === newInterdependence.structureType &&\r\n        value.interdependenceCode === newInterdependence.interdependenceCode\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireInterdependenceAddedList.push(newInterdependence);\r\n      this.bireInterdependenceDisplayed.push(newInterdependence);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('InterdependenceAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedInterdependence() {\r\n    this.selectedInterdependences.forEach((element) => {\r\n      const searchInAddedList = this.bireInterdependenceAddedList.find(\r\n        (value) =>\r\n          value.interdependenceCode === element.interdependenceCode &&\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.evoEvolutionNumber === element.evoEvolutionNumber &&\r\n          value.evoEvolutionRevisionNumber === element.evoEvolutionRevisionNumber\r\n      );\r\n      const searchInUpdatedList = this.bireInterdependenceAddedList.find(\r\n        (value) =>\r\n          value.evolutionRevisionNumber === element.evolutionRevisionNumber &&\r\n          value.interdependenceCode === element.interdependenceCode &&\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.evoEvolutionNumber === element.evoEvolutionNumber &&\r\n          value.evoEvolutionRevisionNumber === element.evoEvolutionRevisionNumber\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireInterdependenceAddedList.indexOf(searchInAddedList);\r\n        this.bireInterdependenceAddedList.splice(indexInAddedList, 1);\r\n      } else {\r\n        if (\r\n          !!element.evolutionNumber &&\r\n          !!element.evolutionRevisionNumber &&\r\n          !!element.familyCode &&\r\n          !!element.structureType &&\r\n          !!element.interdependenceCode &&\r\n          !!element.variantCode &&\r\n          !!element.evoEvolutionNumber &&\r\n          !!element.evoEvolutionRevisionNumber\r\n        ) {\r\n          const interdepId: BireEvolutionEvolutionDTOId = {\r\n            evolutionNumber: element.evolutionNumber,\r\n            evolutionRevisionNumber: element.evolutionRevisionNumber,\r\n            familyCode: element.familyCode,\r\n            structureType: element.structureType,\r\n            interdependenceCode: element.interdependenceCode,\r\n            variantCode: element.variantCode,\r\n            evoEvolutionNumber: element.evoEvolutionNumber,\r\n            evoEvolutionRevisionNumber: element.evoEvolutionRevisionNumber\r\n          };\r\n          if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireInterdependenceUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireInterdependenceUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireInterdependenceDeletedList.push(interdepId);\r\n          } else {\r\n            this.bireInterdependenceDeletedList.push(interdepId);\r\n          }\r\n        } else {\r\n          super.throwUnboundLocalError('deleteSelectedInterdependence', 'element');\r\n        }\r\n      }\r\n\r\n      const indexInDisplayedList = this.bireInterdependenceDisplayed.indexOf(element);\r\n      this.bireInterdependenceDisplayed.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedInterdependences = [];\r\n  }\r\n\r\n  public updateInterdependence(udpatedInterdependence: BireEvolutionEvolutionDTO) {\r\n    const previousInterdependenceObject = this.bireInterdependenceDisplayed[this.currentInterdependenceIndex];\r\n    const searchInAddedList = this.bireInterdependenceAddedList.find(\r\n      (value) =>\r\n        value.variantCode === previousInterdependenceObject.variantCode &&\r\n        value.interdependenceCode === previousInterdependenceObject.interdependenceCode &&\r\n        value.familyCode === previousInterdependenceObject.familyCode &&\r\n        value.structureType === previousInterdependenceObject.structureType &&\r\n        value.evoEvolutionNumber === previousInterdependenceObject.evoEvolutionNumber &&\r\n        value.evoEvolutionRevisionNumber === previousInterdependenceObject.evoEvolutionRevisionNumber\r\n    );\r\n    const searchInUpdatedList = this.bireInterdependenceUpdatedList.find(\r\n      (value) =>\r\n        value.variantCode === previousInterdependenceObject.variantCode &&\r\n        value.interdependenceCode === previousInterdependenceObject.interdependenceCode &&\r\n        value.familyCode === previousInterdependenceObject.familyCode &&\r\n        value.structureType === previousInterdependenceObject.structureType &&\r\n        value.evoEvolutionNumber === previousInterdependenceObject.evoEvolutionNumber &&\r\n        value.evoEvolutionRevisionNumber === previousInterdependenceObject.evoEvolutionRevisionNumber\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireInterdependenceAddedList.indexOf(searchInAddedList);\r\n      this.bireInterdependenceAddedList[indexInAddedList] = udpatedInterdependence;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireInterdependenceUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireInterdependenceUpdatedList[indexInUpdatedList] = udpatedInterdependence;\r\n    } else {\r\n      this.bireInterdependenceUpdatedList.push(udpatedInterdependence);\r\n    }\r\n    this.selectedInterdependences = [];\r\n    this.bireInterdependenceDisplayed[this.currentInterdependenceIndex] = udpatedInterdependence;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Impacts table\r\n   *************************************************************************/\r\n\r\n  public confirmDeleteImpact(): void {\r\n    const partialMessageKey = 'deleteConfirmationImpact';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedImpact();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createImpact(): void {\r\n    this.showImpactDialog = true;\r\n    this.isNewImpact = true;\r\n    this.isReadOnlyImpactDialog = false;\r\n    this.dataImpacts = {\r\n      componentId: 'ImpactsPopupDialog',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editImpact(): void {\r\n    this.isNewImpact = false;\r\n    this.isReadOnlyImpactDialog = false;\r\n    if (this.selectedImpacts.length === 1) {\r\n      this.currentImpact = { ...this.selectedImpacts[0] };\r\n      this.currentImpact.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n        (action) => action.label === this.currentImpact.actionTypeCode\r\n      )[0].value;\r\n      this.currentImpactIndex = this.bireImpactDisplayed.indexOf(this.selectedImpacts[0]);\r\n      this.showImpactDialog = true;\r\n      this.dataImpacts = {\r\n        componentId: 'ImpactsPopupDialog',\r\n        selectedRow: this.selectedImpacts,\r\n        object: this.currentImpact,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openImpact(): void {\r\n    this.isReadOnlyImpactDialog = true;\r\n    if (this.selectedImpacts.length === 1) {\r\n      this.currentImpact = { ...this.selectedImpacts[0] };\r\n      this.currentImpact.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n        (action) => action.label === this.currentImpact.actionTypeCode\r\n      )[0].value;\r\n      this.currentImpactIndex = this.bireImpactDisplayed.indexOf(this.selectedImpacts[0]);\r\n      this.showImpactDialog = true;\r\n      this.dataImpacts = {\r\n        componentId: 'ImpactsPopupDialog',\r\n        selectedRow: this.selectedImpacts,\r\n        object: this.currentImpact,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public addNewImpact(newImpact: BireEvolutionPnDTO) {\r\n    newImpact.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n      (action) => action.value === newImpact.actionTypeCode\r\n    )[0].label;\r\n    const searchInDisplayedList = this.bireImpactDisplayed.find(\r\n      (value) =>\r\n        value.variantCode === newImpact.variantCode &&\r\n        value.familyCode === newImpact.familyCode &&\r\n        value.structureType === newImpact.structureType &&\r\n        value.actionTypeCode === newImpact.actionTypeCode &&\r\n        value.chapter === newImpact.chapter &&\r\n        value.section === newImpact.section &&\r\n        value.sheet === newImpact.sheet &&\r\n        value.subject === newImpact.subject &&\r\n        value.marks === newImpact.marks &&\r\n        value.pnCode === newImpact.pnCode\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireImpactAddedList.push(newImpact);\r\n      newImpact[\r\n        'item'\r\n      ] = `${newImpact.chapter}-${newImpact.section}-${newImpact.subject}-${newImpact.sheet}-${newImpact.marks}`;\r\n\r\n      newImpact['variant'] = `${newImpact.familyCode}-${newImpact.structureType}-${newImpact.variantCode}`;\r\n      newImpact['assetPn'] = `${newImpact.pnCode}`;\r\n      this.bireImpactDisplayed.push(newImpact);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('ImpactAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedImpact() {\r\n    this.selectedImpacts.forEach((element) => {\r\n      const searchInAddedList = this.bireImpactAddedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.chapter === element.chapter &&\r\n          value.section === element.section &&\r\n          value.sheet === element.sheet &&\r\n          value.subject === element.subject &&\r\n          value.marks === element.marks &&\r\n          value.pnCode === element.pnCode\r\n      );\r\n      const searchInUpdatedList = this.bireImpactAddedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.chapter === element.chapter &&\r\n          value.section === element.section &&\r\n          value.sheet === element.sheet &&\r\n          value.subject === element.subject &&\r\n          value.marks === element.marks &&\r\n          value.pnCode === element.pnCode\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireImpactAddedList.indexOf(searchInAddedList);\r\n        this.bireImpactAddedList.splice(indexInAddedList, 1);\r\n      } else {\r\n        if (\r\n          !!element.evolutionNumber &&\r\n          !!element.evolutionRevisionNumber &&\r\n          !!element.familyCode &&\r\n          !!element.structureType &&\r\n          !!element.actionTypeCode &&\r\n          !!element.variantCode &&\r\n          !!element.chapter &&\r\n          !!element.sheet &&\r\n          !!element.section &&\r\n          !!element.subject &&\r\n          !!element.marks &&\r\n          !!element.pnCode\r\n        ) {\r\n          const impactId: BireEvolutionPnDTOId = {\r\n            evolutionNumber: element.evolutionNumber,\r\n            evolutionRevisionNumber: element.evolutionRevisionNumber,\r\n            familyCode: element.familyCode,\r\n            structureType: element.structureType,\r\n            variantCode: element.variantCode,\r\n            actionTypeCode: element.actionTypeCode,\r\n            chapter: element.chapter,\r\n            sheet: element.sheet,\r\n            section: element.section,\r\n            subject: element.subject,\r\n            marks: element.marks,\r\n            pnCode: element.pnCode\r\n          };\r\n          if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireImpactUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireImpactUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireImpactDeletedList.push(impactId);\r\n          } else {\r\n            this.bireImpactDeletedList.push(impactId);\r\n          }\r\n        } else {\r\n          super.throwUnboundLocalError('deleteSelectedImpact', 'element');\r\n        }\r\n      }\r\n\r\n      const indexInDisplayedList = this.bireImpactDisplayed.indexOf(element);\r\n      this.bireImpactDisplayed.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedImpacts = [];\r\n  }\r\n\r\n  public updateImpact(udpatedImpact: BireEvolutionPnDTO) {\r\n    udpatedImpact.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n      (action) => action.value === udpatedImpact.actionTypeCode\r\n    )[0].label;\r\n    const previousImpactObject = this.bireImpactDisplayed[this.currentImpactIndex];\r\n    const searchInAddedList = this.bireImpactAddedList.find(\r\n      (value) =>\r\n        value.variantCode === previousImpactObject.variantCode &&\r\n        value.familyCode === previousImpactObject.familyCode &&\r\n        value.structureType === previousImpactObject.structureType &&\r\n        value.chapter === previousImpactObject.chapter &&\r\n        value.section === previousImpactObject.section &&\r\n        value.sheet === previousImpactObject.sheet &&\r\n        value.subject === previousImpactObject.subject &&\r\n        value.marks === previousImpactObject.marks &&\r\n        value.pnCode === previousImpactObject.pnCode\r\n    );\r\n    const searchInUpdatedList = this.bireImpactUpdatedList.find(\r\n      (value) =>\r\n        value.variantCode === previousImpactObject.variantCode &&\r\n        value.familyCode === previousImpactObject.familyCode &&\r\n        value.structureType === previousImpactObject.structureType &&\r\n        value.chapter === previousImpactObject.chapter &&\r\n        value.section === previousImpactObject.section &&\r\n        value.sheet === previousImpactObject.sheet &&\r\n        value.subject === previousImpactObject.subject &&\r\n        value.marks === previousImpactObject.marks &&\r\n        value.pnCode === previousImpactObject.pnCode\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireImpactAddedList.indexOf(searchInAddedList);\r\n      this.bireImpactAddedList[indexInAddedList] = udpatedImpact;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireImpactUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireImpactUpdatedList[indexInUpdatedList] = udpatedImpact;\r\n    } else {\r\n      this.bireImpactUpdatedList.push(udpatedImpact);\r\n    }\r\n    this.selectedImpacts = [];\r\n    this.bireImpactDisplayed[this.currentImpactIndex] = udpatedImpact;\r\n\r\n    this.bireImpactAddedList[this.currentImpactIndex]['assetPn'] = `${udpatedImpact.pnCode}`;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Impacts on pn evol table\r\n   *************************************************************************/\r\n\r\n  public confirmDeleteImpactEvol(): void {\r\n    const partialMessageKey = 'deleteConfirmationImpactEvol';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedImpactEvol();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createImpactEvol(): void {\r\n    this.isNewImpactEvol = true;\r\n    this.isReadOnlyImpactEvolDialog = false;\r\n    this.showEvolDialog = true;\r\n    this.dataImpactsEvol = {\r\n      componentId: 'ImpactsEvolPopupDialog',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editImpactEvol(): void {\r\n    this.isNewImpactEvol = false;\r\n    this.isReadOnlyImpactEvolDialog = false;\r\n    if (this.selectedImpactsEvol.length === 1) {\r\n      this.currentImpactEvol = { ...this.selectedImpactsEvol[0] };\r\n      this.currentImpactEvol.actionTypeCode = this.propertyActionType.filter(\r\n        (action) => action.label === this.currentImpactEvol.actionTypeCode\r\n      )[0].value;\r\n      if (this.currentImpactEvol.interchangeability) {\r\n        this.currentImpactEvol.interchangeability = this.propertyInterchangeability.filter(\r\n          (interchangeability) => interchangeability.label === this.currentImpactEvol.interchangeability\r\n        )[0].value;\r\n      }\r\n      this.currentImpactEvolIndex = this.bireImpactEvolDisplayed.indexOf(this.selectedImpactsEvol[0]);\r\n      this.showEvolDialog = true;\r\n      this.dataImpactsEvol = {\r\n        componentId: 'ImpactsEvolPopupDialog',\r\n        selectedRow: this.selectedImpactsEvol,\r\n        object: this.currentImpactEvol,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openImpactEvol(): void {\r\n    this.isReadOnlyImpactEvolDialog = true;\r\n    if (this.selectedImpactsEvol.length === 1) {\r\n      this.currentImpactEvol = { ...this.selectedImpactsEvol[0] };\r\n      this.currentImpactEvol.actionTypeCode = this.propertyActionType.filter(\r\n        (action) => action.label === this.currentImpactEvol.actionTypeCode\r\n      )[0].value;\r\n      if (this.currentImpactEvol.interchangeability) {\r\n        this.currentImpactEvol.interchangeability = this.propertyInterchangeability.filter(\r\n          (interchangeability) => interchangeability.label === this.currentImpactEvol.interchangeability\r\n        )[0].value;\r\n      }\r\n      this.currentImpactEvolIndex = this.bireImpactEvolDisplayed.indexOf(this.selectedImpactsEvol[0]);\r\n      this.showEvolDialog = true;\r\n      this.dataImpactsEvol = {\r\n        componentId: 'ImpactsEvolPopupDialog',\r\n        selectedRow: this.selectedImpactsEvol,\r\n        object: this.currentImpactEvol,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public addNewImpactEvol(newImpactEvol: BireAlternativePnAndItemPnDTO) {\r\n    if (newImpactEvol.actionTypeCode) {\r\n      newImpactEvol.actionTypeCode = this.propertyActionType.filter(\r\n        (action) => action.value === newImpactEvol.actionTypeCode\r\n      )[0].label;\r\n    }\r\n    if (newImpactEvol.interchangeability) {\r\n      newImpactEvol.interchangeability = this.propertyInterchangeability.filter(\r\n        (interchangeability) => interchangeability.value === newImpactEvol.interchangeability\r\n      )[0].label;\r\n    }\r\n    const searchInDisplayedList = this.bireImpactEvolDisplayed.find(\r\n      (value) =>\r\n        value.variantCode === newImpactEvol.variantCode &&\r\n        value.familyCode === newImpactEvol.familyCode &&\r\n        value.structureType === newImpactEvol.structureType &&\r\n        value.pnCode === newImpactEvol.pnCode &&\r\n        value.pnPnCode === newImpactEvol.pnPnCode &&\r\n        value.chapter === newImpactEvol.chapter &&\r\n        value.section === newImpactEvol.section &&\r\n        value.sheet === newImpactEvol.sheet &&\r\n        value.subject === newImpactEvol.subject &&\r\n        value.marks === newImpactEvol.marks\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireImpactEvolAddedList.push(newImpactEvol);\r\n\r\n      let item = `${newImpactEvol.chapter}-${newImpactEvol.section}-`;\r\n      item += `${newImpactEvol.subject}-${newImpactEvol.sheet}-${newImpactEvol.marks}`;\r\n\r\n      newImpactEvol['item'] = item;\r\n\r\n      newImpactEvol[\r\n        'variant'\r\n      ] = `${newImpactEvol.familyCode}-${newImpactEvol.structureType}-${newImpactEvol.variantCode}`;\r\n\r\n      this.bireImpactEvolDisplayed.push(newImpactEvol);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('ImpactEvolAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedImpactEvol() {\r\n    this.selectedImpactsEvol.forEach((element) => {\r\n      const impactId: BireAlternativePnAndItemPnDTO = {\r\n        pnPnCode: element.pnPnCode,\r\n        evolutionNumber: element.evolutionNumber,\r\n        evolutionRevisionNumber: element.evolutionRevisionNumber,\r\n        familyCode: element.familyCode,\r\n        structureType: element.structureType,\r\n        variantCode: element.variantCode,\r\n        actionTypeCode: element.actionTypeCode,\r\n        chapter: element.chapter,\r\n        sheet: element.sheet,\r\n        section: element.section,\r\n        subject: element.subject,\r\n        marks: element.marks,\r\n        pnCode: element.pnCode,\r\n        applicability: element.applicability,\r\n        versionNumber: element.versionNumber,\r\n        interchangeability: element.interchangeability\r\n      };\r\n      const searchInAddedList = this.bireImpactEvolAddedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.versionNumber === element.versionNumber &&\r\n          value.actionTypeCode === element.actionTypeCode &&\r\n          value.chapter === element.chapter &&\r\n          value.section === element.section &&\r\n          value.sheet === element.sheet &&\r\n          value.subject === element.subject &&\r\n          value.marks === element.marks\r\n      );\r\n      const searchInUpdatedList = this.bireImpactEvolAddedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.versionNumber === element.versionNumber &&\r\n          value.actionTypeCode === element.actionTypeCode &&\r\n          value.chapter === element.chapter &&\r\n          value.section === element.section &&\r\n          value.sheet === element.sheet &&\r\n          value.subject === element.subject &&\r\n          value.marks === element.marks\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireImpactEvolAddedList.indexOf(searchInAddedList);\r\n        this.bireImpactEvolAddedList.splice(indexInAddedList, 1);\r\n      } else if (searchInUpdatedList) {\r\n        const indexInUpdatedList = this.bireImpactEvolUpdatedList.indexOf(searchInUpdatedList);\r\n        this.bireImpactEvolUpdatedList.splice(indexInUpdatedList, 1);\r\n        this.bireImpactEvolDeletedList.push(impactId);\r\n      } else {\r\n        this.bireImpactEvolDeletedList.push(impactId);\r\n      }\r\n      const indexInDisplayedList = this.bireImpactEvolDisplayed.indexOf(element);\r\n      this.bireImpactEvolDisplayed.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedImpactsEvol = [];\r\n  }\r\n\r\n  public updateImpactEvol(udpatedImpactEvol: BireAlternativePnAndItemPnDTO) {\r\n    if (udpatedImpactEvol.actionTypeCode) {\r\n      udpatedImpactEvol.actionTypeCode = this.propertyActionType.filter(\r\n        (action) => action.value === udpatedImpactEvol.actionTypeCode\r\n      )[0].label;\r\n    }\r\n    if (udpatedImpactEvol.interchangeability) {\r\n      udpatedImpactEvol.interchangeability = this.propertyInterchangeability.filter(\r\n        (interchangeability) => interchangeability.value === udpatedImpactEvol.interchangeability\r\n      )[0].label;\r\n    }\r\n    const previousImpactEvolObject = this.bireImpactEvolDisplayed[this.currentImpactEvolIndex];\r\n    const searchInAddedList = this.bireImpactEvolAddedList.find(\r\n      (value) =>\r\n        value.variantCode === previousImpactEvolObject.variantCode &&\r\n        value.familyCode === previousImpactEvolObject.familyCode &&\r\n        value.structureType === previousImpactEvolObject.structureType &&\r\n        value.versionNumber === previousImpactEvolObject.versionNumber &&\r\n        value.actionTypeCode === previousImpactEvolObject.actionTypeCode &&\r\n        value.chapter === previousImpactEvolObject.chapter &&\r\n        value.section === previousImpactEvolObject.section &&\r\n        value.sheet === previousImpactEvolObject.sheet &&\r\n        value.subject === previousImpactEvolObject.subject &&\r\n        value.marks === previousImpactEvolObject.marks\r\n    );\r\n    const searchInUpdatedList = this.bireImpactEvolUpdatedList.find(\r\n      (value) =>\r\n        value.variantCode === previousImpactEvolObject.variantCode &&\r\n        value.familyCode === previousImpactEvolObject.familyCode &&\r\n        value.structureType === previousImpactEvolObject.structureType &&\r\n        value.versionNumber === previousImpactEvolObject.versionNumber &&\r\n        value.actionTypeCode === previousImpactEvolObject.actionTypeCode &&\r\n        value.chapter === previousImpactEvolObject.chapter &&\r\n        value.section === previousImpactEvolObject.section &&\r\n        value.sheet === previousImpactEvolObject.sheet &&\r\n        value.subject === previousImpactEvolObject.subject &&\r\n        value.marks === previousImpactEvolObject.marks\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireImpactEvolAddedList.indexOf(searchInAddedList);\r\n      this.bireImpactEvolAddedList[indexInAddedList] = udpatedImpactEvol;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireImpactEvolUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireImpactEvolUpdatedList[indexInUpdatedList] = udpatedImpactEvol;\r\n    } else {\r\n      this.bireImpactEvolUpdatedList.push(udpatedImpactEvol);\r\n    }\r\n    this.selectedImpactsEvol = [];\r\n    this.bireImpactEvolDisplayed[this.currentImpactEvolIndex] = udpatedImpactEvol;\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Impacts on item table\r\n   *************************************************************************/\r\n\r\n  public findBireItemItemsByItemSon(bireEvolutionItemDTO: BireEvolutionItemDTO, callback) {\r\n    this.evolutionFormService.findBireItemItemsByItemSon(bireEvolutionItemDTO).subscribe(\r\n      (result) => {\r\n        this.fatherItem = result;\r\n        callback(result);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFather'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public confirmDeleteImpactItem(): void {\r\n    const partialMessageKey = 'deleteConfirmationImpactItem';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedImpactItem();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createImpactItem(): void {\r\n    this.showItemDialog = true;\r\n    this.isNewImpactItem = true;\r\n    this.isReadOnlyImpactDialog = false;\r\n    this.dataImpactsItem = {\r\n      componentId: 'ImpactsItemPopupDialog',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editImpactItem(): void {\r\n    this.isNewImpactItem = false;\r\n    this.isReadOnlyImpactItemDialog = false;\r\n    if (this.selectedImpactsItem.length === 1) {\r\n      this.currentImpactItem = { ...this.selectedImpactsItem[0] };\r\n      this.currentImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n        (action) => action.label === this.currentImpactItem.actionTypeCode\r\n      )[0].value;\r\n      this.currentImpactItemIndex = this.bireImpactItemDisplayed.indexOf(this.selectedImpactsItem[0]);\r\n      this.showItemDialog = true;\r\n      this.dataImpactsItem = {\r\n        componentId: 'ImpactsItemPopupDialog',\r\n        selectedRow: this.selectedImpactsItem,\r\n        object: this.currentImpactItem,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public openImpactItem(): void {\r\n    this.isReadOnlyImpactItemDialog = true;\r\n    if (this.selectedImpactsItem.length === 1) {\r\n      this.currentImpactItem = { ...this.selectedImpactsItem[0] };\r\n      this.currentImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n        (action) => action.label === this.currentImpactItem.actionTypeCode\r\n      )[0].value;\r\n      this.currentImpactItemIndex = this.bireImpactItemDisplayed.indexOf(this.selectedImpactsItem[0]);\r\n      this.showItemDialog = true;\r\n      this.dataImpactsItem = {\r\n        componentId: 'ImpactsItemPopupDialog',\r\n        selectedRow: this.selectedImpactsItem,\r\n        object: this.currentImpactItem,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public addNewImpactItem(newImpactItem: BireEvolutionItemDTO) {\r\n    if (newImpactItem.actionTypeCode) {\r\n      newImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n        (action) => action.value === newImpactItem.actionTypeCode\r\n      )[0].label;\r\n    }\r\n    const searchInDisplayedList = this.bireImpactItemDisplayed.find(\r\n      (value) =>\r\n        value.variantCode === newImpactItem.variantCode &&\r\n        value.familyCode === newImpactItem.familyCode &&\r\n        value.structureType === newImpactItem.structureType &&\r\n        value.chapter === newImpactItem.chapter &&\r\n        value.sheet === newImpactItem.sheet &&\r\n        value.section === newImpactItem.section &&\r\n        value.marks === newImpactItem.marks &&\r\n        value.subject === newImpactItem.subject &&\r\n        value.actionTypeCode === newImpactItem.actionTypeCode\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireImpactItemAddedList.push(newImpactItem);\r\n\r\n      let item = `${newImpactItem.chapter}-${newImpactItem.section}-`;\r\n      item += `${newImpactItem.subject}-${newImpactItem.sheet}-${newImpactItem.marks}`;\r\n\r\n      newImpactItem['item'] = item;\r\n\r\n      newImpactItem[\r\n        'variant'\r\n      ] = `${newImpactItem.familyCode}-${newImpactItem.structureType}-${newImpactItem.variantCode}`;\r\n\r\n      this.findBireItemItemsByItemSon(newImpactItem, (result: BireItemItemDTO[]) => {\r\n        if (!!result && result.length !== 0) {\r\n          let itemFather = `${result[0].fatherChapter}-${result[0].fatherSection}-${result[0].fatherSheet}`;\r\n          itemFather += `-${result[0].fatherSubject}-${result[0].fatherMarks}`;\r\n          newImpactItem['itemFather'] = itemFather;\r\n        }\r\n        this.bireImpactItemDisplayed.push(newImpactItem);\r\n      });\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('ImpactItemAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedImpactItem() {\r\n    this.selectedImpactsItem.forEach((element) => {\r\n      const searchInAddedList = this.bireImpactItemAddedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.chapter === element.chapter &&\r\n          value.section === element.section &&\r\n          value.sheet === element.sheet &&\r\n          value.subject === element.subject &&\r\n          value.marks === element.marks &&\r\n          value.actionTypeCode === element.actionTypeCode\r\n      );\r\n      const searchInUpdatedList = this.bireImpactItemAddedList.find(\r\n        (value) =>\r\n          value.variantCode === element.variantCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.chapter === element.chapter &&\r\n          value.section === element.section &&\r\n          value.sheet === element.sheet &&\r\n          value.subject === element.subject &&\r\n          value.marks === element.marks &&\r\n          value.actionTypeCode === element.actionTypeCode\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireImpactItemAddedList.indexOf(searchInAddedList);\r\n        this.bireImpactItemAddedList.splice(indexInAddedList, 1);\r\n      } else {\r\n        if (\r\n          !!element.evolutionNumber &&\r\n          !!element.evolutionRevisionNumber &&\r\n          !!element.familyCode &&\r\n          !!element.structureType &&\r\n          !!element.actionTypeCode &&\r\n          !!element.variantCode &&\r\n          !!element.chapter &&\r\n          !!element.sheet &&\r\n          !!element.section &&\r\n          !!element.subject &&\r\n          !!element.marks\r\n        ) {\r\n          const impactId: BireEvolutionItemDTOId = {\r\n            evolutionNumber: element.evolutionNumber,\r\n            evolutionRevisionNumber: element.evolutionRevisionNumber,\r\n            familyCode: element.familyCode,\r\n            structureType: element.structureType,\r\n            variantCode: element.variantCode,\r\n            actionTypeCode: element.actionTypeCode,\r\n            chapter: element.chapter,\r\n            sheet: element.sheet,\r\n            section: element.section,\r\n            subject: element.subject,\r\n            marks: element.marks\r\n          };\r\n          if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireImpactItemUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireImpactItemUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireImpactItemDeletedList.push(impactId);\r\n          } else {\r\n            this.bireImpactItemDeletedList.push(impactId);\r\n          }\r\n        } else {\r\n          super.throwUnboundLocalError('deleteSelectedImpactItem', 'element');\r\n        }\r\n      }\r\n      const indexInDisplayedList = this.bireImpactItemDisplayed.indexOf(element);\r\n      this.bireImpactItemDisplayed.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedImpactsItem = [];\r\n  }\r\n\r\n  public updateImpactItem(udpatedImpactItem: BireEvolutionItemDTO) {\r\n    if (udpatedImpactItem.actionTypeCode) {\r\n      udpatedImpactItem.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n        (action) => action.value === udpatedImpactItem.actionTypeCode\r\n      )[0].label;\r\n    }\r\n    const previousImpactItemObject = this.bireImpactItemDisplayed[this.currentImpactItemIndex];\r\n    const searchInAddedList = this.bireImpactItemAddedList.find(\r\n      (value) =>\r\n        value.variantCode === previousImpactItemObject.variantCode &&\r\n        value.familyCode === previousImpactItemObject.familyCode &&\r\n        value.structureType === previousImpactItemObject.structureType &&\r\n        value.chapter === previousImpactItemObject.chapter &&\r\n        value.section === previousImpactItemObject.section &&\r\n        value.sheet === previousImpactItemObject.sheet &&\r\n        value.subject === previousImpactItemObject.subject &&\r\n        value.marks === previousImpactItemObject.marks &&\r\n        value.actionTypeCode === previousImpactItemObject.actionTypeCode\r\n    );\r\n    const searchInUpdatedList = this.bireImpactItemUpdatedList.find(\r\n      (value) =>\r\n        value.variantCode === previousImpactItemObject.variantCode &&\r\n        value.familyCode === previousImpactItemObject.familyCode &&\r\n        value.structureType === previousImpactItemObject.structureType &&\r\n        value.chapter === previousImpactItemObject.chapter &&\r\n        value.section === previousImpactItemObject.section &&\r\n        value.sheet === previousImpactItemObject.sheet &&\r\n        value.subject === previousImpactItemObject.subject &&\r\n        value.marks === previousImpactItemObject.marks &&\r\n        value.actionTypeCode === previousImpactItemObject.actionTypeCode\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireImpactItemAddedList.indexOf(searchInAddedList);\r\n      this.bireImpactItemAddedList[indexInAddedList] = udpatedImpactItem;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireImpactItemUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireImpactItemUpdatedList[indexInUpdatedList] = udpatedImpactItem;\r\n    } else {\r\n      this.bireImpactItemUpdatedList.push(udpatedImpactItem);\r\n    }\r\n    this.selectedImpactsItem = [];\r\n    this.bireImpactItemDisplayed[this.currentImpactItemIndex] = udpatedImpactItem;\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Documents Tab\r\n   ***********************************************************************************/\r\n  /*\r\n        Documents handler functions\r\n    */\r\n\r\n  private getCustomDocumentRow(newDocument: BireDocumentDTO): DocumentRow {\r\n    return {\r\n      _obj: newDocument,\r\n      docCode: newDocument.docCode,\r\n      docExtension: this.showDocExtension(newDocument),\r\n      docName: newDocument.docName,\r\n      docPublicationDate: this.dateService.dateToString(newDocument.docPublicationDate),\r\n      docSize: this.showDocSize(newDocument),\r\n      docSource: newDocument.docSource\r\n    };\r\n  }\r\n\r\n  private addNewDocument(newDocument: BireDocumentDTO) {\r\n    const searchInDisplayedList = this.bireDocumentDisplayed.find((value) => value.docName === newDocument.docName);\r\n    if (!searchInDisplayedList) {\r\n      this.bireDocumentAddedList.push(newDocument);\r\n      this.bireDocumentDisplayed.push(this.getCustomDocumentRow(newDocument));\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorFileAlreadyExist'));\r\n    }\r\n  }\r\n  public deleteSelectedDocuments() {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedDocuments'),\r\n      accept: () => {\r\n        this.selectedDocuments.forEach((element) => {\r\n          const searchInAddedList = this.bireDocumentAddedList.find((value) => value.docName === element.docName);\r\n          const searchInUpdatedList = this.bireDocumentUpdatedList.find((value) => value.docName === element.docName);\r\n          if (searchInAddedList) {\r\n            const indexInAddedList = this.bireDocumentAddedList.indexOf(searchInAddedList);\r\n            this.bireDocumentAddedList.splice(indexInAddedList, 1);\r\n          } else if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireDocumentUpdatedList.splice(indexInUpdatedList, 1);\r\n            if (!!this.evolution.evolutionNumber && !!this.evolution.evolutionRevisionNumber) {\r\n              const bireDocEvolId: BireDocEvolDTOId = {\r\n                evolutionNumber: this.evolution.evolutionNumber,\r\n                evolutionRevisionNumber: this.evolution.evolutionRevisionNumber,\r\n                docCode: element.docCode || ''\r\n              };\r\n              this.bireDocDeletedList.push(bireDocEvolId);\r\n            }\r\n          } else {\r\n            if (!!this.evolution.evolutionNumber && !!this.evolution.evolutionRevisionNumber) {\r\n              const bireDocEvolId: BireDocEvolDTOId = {\r\n                evolutionNumber: this.evolution.evolutionNumber,\r\n                evolutionRevisionNumber: this.evolution.evolutionRevisionNumber,\r\n                docCode: element.docCode || ''\r\n              };\r\n              this.bireDocDeletedList.push(bireDocEvolId);\r\n            }\r\n          }\r\n          const indexInDisplayedList = this.bireDocumentDisplayed.indexOf(element);\r\n          this.bireDocumentDisplayed.splice(indexInDisplayedList, 1);\r\n        });\r\n        this.bireDocDeletedList = [...this.bireDocDeletedList];\r\n        this.selectedDocuments = [];\r\n      }\r\n    });\r\n  }\r\n  public updateDocument(updatedDocument: BireDocumentDTO) {\r\n    if (this.currentDocumentIndex === undefined || this.currentDocumentIndex < 0) {\r\n      this.addNewDocument(updatedDocument);\r\n    } else {\r\n      const previousDocumentObject = this.bireDocumentDisplayed[this.currentDocumentIndex];\r\n      const searchInAddedList = this.bireDocumentAddedList.find(\r\n        (value) => value.docName === previousDocumentObject.docName\r\n      );\r\n      const searchInUpdatedList = this.bireDocumentUpdatedList.find(\r\n        (value) => value.docCode === previousDocumentObject.docCode\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireDocumentAddedList.indexOf(searchInAddedList);\r\n        this.bireDocumentAddedList[indexInAddedList] = updatedDocument;\r\n      } else if (searchInUpdatedList) {\r\n        const indexInUpdatedList = this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);\r\n        this.bireDocumentUpdatedList[indexInUpdatedList] = updatedDocument;\r\n      } else {\r\n        this.bireDocumentUpdatedList.push(updatedDocument);\r\n      }\r\n      this.bireDocumentDisplayed[this.currentDocumentIndex] = this.getCustomDocumentRow(updatedDocument);\r\n      this.selectedDocuments = [];\r\n    }\r\n  }\r\n\r\n  // File handler utilities\r\n  public showDocExtension(document: BidoDocumentationDTO): string {\r\n    return FileUtils.getExtension(document.docName).toUpperCase();\r\n  }\r\n\r\n  public showDocSize(document: BidoDocumentationDTO): string {\r\n    return document.docFile ? FileUtils.getFormattedSize(document.docFile.length) : '';\r\n  }\r\n\r\n  public editDocument(): void {\r\n    if (this.selectedDocuments.length === 1) {\r\n      this.currentDocumentIndex = this.bireDocumentDisplayed.findIndex((document) => {\r\n        return document === this.selectedDocuments[0];\r\n      });\r\n\r\n      this.currentDocument = { ...this.selectedDocuments[0]._obj };\r\n      this.isReadOnlyDocumentDialog = false;\r\n      this.showDocumentDialog = true;\r\n    }\r\n  }\r\n\r\n  public openDocument(): void {\r\n    if (this.selectedDocuments.length === 1) {\r\n      this.currentDocument = this.selectedDocuments[0]._obj;\r\n      this.isReadOnlyDocumentDialog = true;\r\n      this.showDocumentDialog = true;\r\n    }\r\n  }\r\n\r\n  private findBireDocumentsByEvol(): void {\r\n    this.evolutionFormService.findBireDocumentsByEvol(this.evolution).subscribe(\r\n      (results) => {\r\n        this.bireDocument = results;\r\n        this.bireDocument.forEach((element) => {\r\n          if (element && element.docPublicationDate) {\r\n            element.docPublicationDate = new Date(element.docPublicationDate.toString());\r\n          } else {\r\n            this.bireDocument.pop();\r\n          }\r\n        });\r\n\r\n        this.bireDocumentDisplayed = [];\r\n        this.bireDocument.forEach((doc) => {\r\n          this.bireDocumentDisplayed.push(this.getCustomDocumentRow(doc));\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireDocEvolsByEvol'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public addDocuments(): void {\r\n    this.currentDocument = {};\r\n    this.selectedDocuments = [];\r\n    this.currentDocumentIndex = -1;\r\n    this.isReadOnlyDocumentDialog = false;\r\n    this.showDocumentDialog = true;\r\n  }\r\n\r\n  public downloadFiles(): void {\r\n    this.selectedDocuments.forEach((documentRow) => {\r\n      FileUtils.downloadFile(documentRow._obj.docFile, documentRow._obj.docName);\r\n    });\r\n  }\r\n\r\n  public confirmUpgradeEvolution(): void {\r\n    const partialMessageKey = 'confirmCreateEvolutionUpgrade';\r\n\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.evolutionFormService.checkAndReturnNewRevisionNumberByEvolution(this.evolution).subscribe(\r\n          (revisionNumber) => {\r\n            if (!!revisionNumber && !!this.evolution.evolutionRevisionNumber) {\r\n              const evolRevisionNumber = (parseInt(this.evolution.evolutionRevisionNumber, 10) + 1).toString();\r\n              this.evolutionFormService.upgradeBireEvolution(this.evolution, evolRevisionNumber).subscribe((result) => {\r\n                this.evolution = result;\r\n                if (!!this.componentData) {\r\n                  this.componentData.objectId = `${this.evolution.evolutionNumber}`;\r\n                  this.componentData.objectId += `;${this.evolution.evolutionRevisionNumber}`;\r\n                }\r\n                this.getEvolution();\r\n                this.ngOnInit();\r\n                this.messageService.showSuccessMessage(this.getTranslateKey('successOnUpgradeEvolution'));\r\n              });\r\n            } else {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('upgradeAlreadyExists'));\r\n            }\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnUpgradeEvolution'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  private getEvolution(): void {\r\n    const bireEvolutionDTOId: BireEvolutionDTOId = {\r\n      evolutionNumber: this.evolution.evolutionNumber,\r\n      evolutionRevisionNumber: this.evolution.evolutionRevisionNumber\r\n    };\r\n    this.evolutionFormService.findBireEvolution(bireEvolutionDTOId).subscribe((data) => {\r\n      this.evolution.evolutionCompliance = data.evolutionCompliance;\r\n      this.evolution.evolutionLevel = data.evolutionLevel;\r\n      this.evolution.evolutionSummary = data.evolutionSummary;\r\n      this.evolution.evolutionType = data.evolutionType;\r\n      this.evolution.tracked = data.tracked;\r\n      this.evolution.statusState = data.statusState;\r\n      this.evolution.statusDate = data.statusDate;\r\n      this.evolution.statusUser = data.statusUser;\r\n    });\r\n  }\r\n\r\n  public updateListsAttributes() {\r\n    this.bireApplicabilityAddedList.forEach((element) => {\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n    });\r\n    this.bireModificationAddedList.forEach((element) => {\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n    });\r\n    this.bireInterdependenceAddedList.forEach((element) => {\r\n      element.interdependenceCode = this.interdependence.filter(\r\n        (status) => status.label === element.interdependenceCode\r\n      )[0].value;\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n    });\r\n    this.bireInterdependenceDeletedList.forEach((element) => {\r\n      element.interdependenceCode = this.interdependence.filter(\r\n        (status) => status.label === element.interdependenceCode\r\n      )[0].value;\r\n    });\r\n    this.bireImpactAddedList.forEach((element) => {\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactUpdatedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactDeletedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactEvolAddedList.forEach((element) => {\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionType.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n      if (element.interchangeability) {\r\n        element.interchangeability = this.propertyInterchangeability.filter(\r\n          (interchangeability) => interchangeability.label === element.interchangeability\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactEvolDeletedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionType.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n      if (element.interchangeability) {\r\n        element.interchangeability = this.propertyInterchangeability.filter(\r\n          (interchangeability) => interchangeability.label === element.interchangeability\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactEvolUpdatedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionType.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n      if (element.interchangeability) {\r\n        element.interchangeability = this.propertyInterchangeability.filter(\r\n          (interchangeability) => interchangeability.label === element.interchangeability\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactItemAddedList.forEach((element) => {\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactItemUpdatedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n          (action) => action.label === element.actionTypeCode\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireImpactItemDeletedList.forEach((element) => {\r\n      if (!!this.evolution.evolutionNumber && !!this.evolution.evolutionRevisionNumber) {\r\n        element.evolutionNumber = this.evolution.evolutionNumber;\r\n        element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n        if (element.actionTypeCode) {\r\n          element.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n            (action) => action.label === element.actionTypeCode\r\n          )[0].value;\r\n        }\r\n      } else {\r\n        super.throwUnboundLocalError('getEvolution', 'this.evolution');\r\n      }\r\n    });\r\n    this.bireSbadAddedList.forEach((element) => {\r\n      element.statusState = this.propertyStatusSbad.filter((status) => status.label === element.statusState)[0].value;\r\n      if (element.statusState !== this.evolution.statusState) {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('Warning'));\r\n      }\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n    });\r\n    this.bireConcernedAssetAddedList.forEach((element) => {\r\n      element.evolutionNumber = this.evolution.evolutionNumber;\r\n      element.evolutionRevisionNumber = this.evolution.evolutionRevisionNumber;\r\n      if (element.assetActionType) {\r\n        element.assetActionType = this.instructions.filter(\r\n          (actionType) => actionType.label === element.assetActionType\r\n        )[0].value;\r\n      }\r\n    });\r\n  }\r\n\r\n  private transformDdlValueToLabel() {\r\n    this.bireSbadAddedList.forEach((element) => {\r\n      element.statusState = this.propertyStatusSbad.filter((status) => status.value === element.statusState)[0].label;\r\n    });\r\n    this.bireInterdependenceAddedList.forEach((element) => {\r\n      element.interdependenceCode = this.interdependence.filter(\r\n        (status) => status.value === element.interdependenceCode\r\n      )[0].label;\r\n    });\r\n    this.bireConcernedAssetAddedList.forEach((element) => {\r\n      if (element.assetActionType) {\r\n        element.assetActionType = this.instructions.filter(\r\n          (actionType) => actionType.value === element.assetActionType\r\n        )[0].label;\r\n      }\r\n    });\r\n    this.bireImpactEvolAddedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionType.filter(\r\n          (action) => action.value === element.actionTypeCode\r\n        )[0].label;\r\n      }\r\n      if (element.interchangeability) {\r\n        element.interchangeability = this.propertyInterchangeability.filter(\r\n          (interchangeability) => interchangeability.value === element.interchangeability\r\n        )[0].label;\r\n      }\r\n    });\r\n    this.bireImpactEvolUpdatedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionType.filter(\r\n          (action) => action.value === element.actionTypeCode\r\n        )[0].label;\r\n      }\r\n      if (element.interchangeability) {\r\n        element.interchangeability = this.propertyInterchangeability.filter(\r\n          (interchangeability) => interchangeability.value === element.interchangeability\r\n        )[0].label;\r\n      }\r\n    });\r\n    this.bireImpactItemAddedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n          (action) => action.value === element.actionTypeCode\r\n        )[0].label;\r\n      }\r\n    });\r\n    this.bireImpactItemUpdatedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpactItem.filter(\r\n          (action) => action.value === element.actionTypeCode\r\n        )[0].label;\r\n      }\r\n    });\r\n    this.bireImpactAddedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n          (action) => action.value === element.actionTypeCode\r\n        )[0].label;\r\n      }\r\n    });\r\n    this.bireImpactUpdatedList.forEach((element) => {\r\n      if (element.actionTypeCode) {\r\n        element.actionTypeCode = this.propertyActionTypeImpact.filter(\r\n          (action) => action.value === element.actionTypeCode\r\n        )[0].label;\r\n      }\r\n    });\r\n  }\r\n\r\n  public saveEvolutionData(): void {\r\n    if (this.evolution.evolutionNumber && this.evolution.evolutionRevisionNumber) {\r\n      if (!this.isEvolutionAlreadyExist(this.evolution.evolutionNumber, this.evolution.evolutionRevisionNumber)) {\r\n        this.updateListsAttributes();\r\n\r\n        this.bireEvolutionAttributes = this.dynamicAttributesService.toBireEvolutionAttribute(\r\n          this.evolution.evolutionNumber,\r\n          this.evolution.evolutionRevisionNumber,\r\n          this.dynamicAttributesForEvolution\r\n        );\r\n\r\n        const saveEvolutionDateInput: SaveEvolutionDataInput = {\r\n          evolution: this.evolution,\r\n          bireApplicabilityAddedList: this.bireApplicabilityAddedList,\r\n          bireApplicabilityUpdatedList: this.bireApplicabilityUpdatedList,\r\n          bireApplicabilityDeletedList: this.bireApplicabilityDeletedList,\r\n          bireConcernedAssetAddedList: this.bireConcernedAssetAddedList,\r\n          bireImpactAddedList: this.bireImpactAddedList,\r\n          bireImpactUpdatedList: this.bireImpactUpdatedList,\r\n          bireImpactDeletedList: this.bireImpactDeletedList,\r\n          bireImpactEvolAddedList: this.bireImpactEvolAddedList,\r\n          bireImpactEvolUpdatedList: this.bireImpactEvolUpdatedList,\r\n          bireImpactEvolDeletedList: this.bireImpactEvolDeletedList,\r\n          bireImpactItemAddedList: this.bireImpactItemAddedList,\r\n          bireImpactItemUpdatedList: this.bireImpactItemUpdatedList,\r\n          bireImpactItemDeletedList: this.bireImpactItemDeletedList,\r\n          bireInterdependenceAddedList: this.bireInterdependenceAddedList,\r\n          bireInterdependenceUpdatedList: this.bireInterdependenceUpdatedList,\r\n          bireInterdependenceDeletedList: this.bireInterdependenceDeletedList,\r\n          bireModificationAddedList: this.bireModificationAddedList,\r\n          bireModificationUpdatedList: this.bireModificationUpdatedList,\r\n          bireModificationDeletedList: this.bireModificationDeletedList,\r\n          bireSbadAddedList: this.bireSbadAddedList,\r\n          bireSbadUpdatedList: this.bireSbadUpdatedList,\r\n          bireSbadDeletedList: this.bireSbadDeletedList,\r\n          bireEvolutionAttributes: this.bireEvolutionAttributes,\r\n          bireDocumentAddedList: this.bireDocumentAddedList,\r\n          bireDocumentUpdatedList: this.bireDocumentUpdatedList,\r\n          bireDocDeletedList: this.bireDocDeletedList\r\n        };\r\n\r\n        this.showSaveSpinner = true;\r\n        this.evolutionFormService.saveEvolutionData(saveEvolutionDateInput).subscribe(\r\n          (result) => {\r\n            this.isCreateMode = false;\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('successOnSavedEvolution'));\r\n            this.initLists();\r\n            this.updateOpenMode(ComponentOpenMode.Read);\r\n            if (!!this.componentData && !this.componentData.objectId) {\r\n              // this.componentData.objectId = `${this.evolution.evolutionNumber};${this.evolution.evolutionRevisionNumber}`;\r\n              this.isEditable = false;\r\n            }\r\n            const bireEvolutionId: BireEvolutionDTOId = {\r\n              evolutionNumber: this.evolution.evolutionNumber,\r\n              evolutionRevisionNumber: this.evolution.evolutionRevisionNumber\r\n            };\r\n\r\n            this.componentData.objectId = this.serializationService.serialize(bireEvolutionId);\r\n            this.refresh();\r\n            this.showSaveSpinner = false;\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnSaveEvolution'));\r\n            this.showSaveSpinner = false;\r\n          }\r\n        );\r\n        this.transformDdlValueToLabel();\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('evolutionAlreadyExist'));\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  public openStatusPopupSbad(bireEvolution: BireEvolutionSbDTO): void {\r\n    this.bireSb = { ...bireEvolution };\r\n    if (this.propertyObjectStatus.filter((status) => status.value === this.bireSb.statusState).length !== 0) {\r\n      this.bireSb.statusState = this.propertyObjectStatus.filter(\r\n        (status) => status.value === this.bireSb.statusState\r\n      )[0].value;\r\n    }\r\n    if (this.bireSb.statusDate) {\r\n      this.bireSb.statusDate = new Date(this.bireSb.statusDate);\r\n    }\r\n\r\n    let id = `${this.evolution.evolutionNumber}-${this.evolution.evolutionRevisionNumber}/`;\r\n    id += `${this.bireSb.sbNumber}-${this.bireSb.sbRevisionNumber}`;\r\n\r\n    this.bireSbId = id;\r\n    this.displayStatusPopupSb = true;\r\n  }\r\n\r\n  public openStatusPopupModification(bireEvolution: BireModificationEvolutionDTO): void {\r\n    this.bireModif = { ...bireEvolution };\r\n    if (this.propertyObjectStatus.filter((status) => status.value === this.bireModif.statusState).length !== 0) {\r\n      this.bireModif.statusState = this.propertyObjectStatus.filter(\r\n        (status) => status.value === this.bireModif.statusState\r\n      )[0].value;\r\n    }\r\n    if (this.bireModif.statusDate) {\r\n      this.bireModif.statusDate = new Date(this.bireModif.statusDate);\r\n    }\r\n    if (!!this.evolution) {\r\n      let id = `${this.bireModif.modificationType}-${this.bireModif.modificationNumber}`;\r\n      id += `-${this.bireModif.modificationRevisionNumber}/`;\r\n      id += `${this.evolution.evolutionNumber}-${this.evolution.evolutionRevisionNumber}`;\r\n\r\n      this.bireModifId = id;\r\n    }\r\n    this.displayStatusPopupModif = true;\r\n  }\r\n\r\n  public openStatusPopupApplicability(): void {\r\n    if (!!this.selectedApplicabilities && this.selectedApplicabilities.length === 1) {\r\n      this.bireAppli = { ...this.selectedApplicabilities[0] };\r\n      if (this.propertyObjectStatus.filter((status) => status.value === this.bireAppli.statusState).length !== 0) {\r\n        this.bireAppli.statusState = this.propertyObjectStatus.filter(\r\n          (status) => status.value === this.bireAppli.statusState\r\n        )[0].value;\r\n      }\r\n      if (this.bireAppli.statusDate) {\r\n        this.bireAppli.statusDate = new Date(this.bireAppli.statusDate);\r\n      }\r\n\r\n      let id = `${this.bireAppli.familyCode}-${this.bireAppli.variantCode}/`;\r\n      id += `${this.bireAppli.evolutionNumber}-${this.bireAppli.evolutionRevisionNumber}`;\r\n\r\n      this.bireAppliId = id;\r\n      this.displayStatusPopupAppli = true;\r\n    }\r\n  }\r\n\r\n  public openStatusPopupInterdependence(): void {\r\n    if (!!this.selectedInterdependences && this.selectedInterdependences.length === 1) {\r\n      this.bireInterdep = { ...this.selectedInterdependences[0] };\r\n      if (this.propertyObjectStatus.filter((status) => status.value === this.bireInterdep.statusState).length !== 0) {\r\n        this.bireInterdep.statusState = this.propertyObjectStatus.filter(\r\n          (status) => status.value === this.bireInterdep.statusState\r\n        )[0].value;\r\n      }\r\n      if (this.bireInterdep.statusDate) {\r\n        this.bireInterdep.statusDate = new Date(this.bireInterdep.statusDate);\r\n      }\r\n      this.bireInterdepId = `${this.bireInterdep.evolutionNumber}-${this.bireInterdep.evolutionRevisionNumber}/\r\n    ${this.bireInterdep.evoEvolutionNumber}-${this.bireInterdep.evoEvolutionRevisionNumber}`;\r\n      this.displayStatusPopupInterdep = true;\r\n    }\r\n  }\r\n\r\n  public openStatusPopupImpact(): void {\r\n    if (!!this.selectedImpacts && this.selectedImpacts.length === 1) {\r\n      this.bireImpact = { ...this.selectedImpacts[0] };\r\n      if (this.propertyObjectStatus.filter((status) => status.value === this.bireImpact.statusState).length !== 0) {\r\n        this.bireImpact.statusState = this.propertyObjectStatus.filter(\r\n          (status) => status.value === this.bireImpact.statusState\r\n        )[0].value;\r\n      }\r\n      if (this.bireImpact.statusDate) {\r\n        this.bireImpact.statusDate = new Date(this.bireImpact.statusDate);\r\n      }\r\n\r\n      let id = `${this.bireImpact.pnCode}/`;\r\n      id += `${this.bireImpact.evolutionNumber}-${this.bireImpact.evolutionRevisionNumber}`;\r\n\r\n      this.bireImpactId = id;\r\n      this.displayStatusPopupImpact = true;\r\n    }\r\n  }\r\n\r\n  public openStatusPopupImpactItem(): void {\r\n    if (!!this.selectedImpactsItem && this.selectedImpactsItem.length === 1) {\r\n      this.bireImpactItem = { ...this.selectedImpactsItem[0] };\r\n      if (this.propertyObjectStatus.filter((status) => status.value === this.bireImpactItem.statusState).length !== 0) {\r\n        this.bireImpactItem.statusState = this.propertyObjectStatus.filter(\r\n          (status) => status.value === this.bireImpactItem.statusState\r\n        )[0].value;\r\n      }\r\n      if (this.bireImpactItem.statusDate) {\r\n        this.bireImpactItem.statusDate = new Date(this.bireImpactItem.statusDate);\r\n      }\r\n\r\n      let id = `${this.bireImpactItem.familyCode}-${this.bireImpactItem.variantCode}/`;\r\n      id += `${this.bireImpactItem.evolutionNumber}-${this.bireImpactItem.evolutionRevisionNumber}`;\r\n\r\n      this.bireImpactItemId = id;\r\n      this.displayStatusPopupImpactItem = true;\r\n    }\r\n  }\r\n\r\n  public openStatusPopupImpactEvol(): void {\r\n    if (this.selectedImpactsEvol && this.selectedImpactsEvol.length === 1) {\r\n      this.bireImpactEvol = { ...this.selectedImpactsEvol[0] };\r\n      if (this.propertyObjectStatus.filter((status) => status.value === this.bireImpactEvol.statusState).length !== 0) {\r\n        this.bireImpactEvol.statusState = this.propertyObjectStatus.filter(\r\n          (status) => status.value === this.bireImpactEvol.statusState\r\n        )[0].value;\r\n      }\r\n\r\n      if (this.bireImpactEvol.statusDate) {\r\n        this.bireImpactEvol.statusDate = new Date(this.bireImpactEvol.statusDate);\r\n      }\r\n\r\n      const actionTypeCode = this.propertyActionType.filter(\r\n        (action) => action.label === this.bireImpactEvol.actionTypeCode\r\n      )[0].value;\r\n\r\n      let id = `${this.bireImpactEvol.familyCode}-${this.bireImpactEvol.variantCode}`;\r\n      id += `-${this.bireImpactEvol.chapter}-${this.bireImpactEvol.section}-`;\r\n      id += `${this.bireImpactEvol.subject}-${this.bireImpactEvol.sheet}-${this.bireImpactEvol.marks}/`;\r\n      id += `${this.bireImpactEvol.pnCode}/${this.bireImpactEvol.pnPnCode}/`;\r\n      id += `${this.evolution.evolutionNumber}-${this.evolution.evolutionRevisionNumber}/${actionTypeCode}`;\r\n\r\n      this.bireImpactEvolId = id;\r\n      this.displayStatusPopupImpactEvol = true;\r\n    }\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    // Test of the popup (not the real history)\r\n    this.showStatusUpdatesPopup = true;\r\n\r\n    this.evolutionStatus = { ...this.evolution };\r\n    if (this.evolutionStatus.statusState) {\r\n      this.evolutionStatus.statusState = this.propertyStatus.filter(\r\n        (status) => status.value === this.evolutionStatus.statusState\r\n      )[0].value;\r\n    }\r\n    if (!!this.evolutionStatus.statusState) {\r\n      this.evolutionStatus.statusDate = new Date(this.evolutionStatus.statusState.toString());\r\n    }\r\n\r\n    const columns: TableColumn[] = [\r\n      { field: 'timestamp', width: '200px', filterMode: TableColumnFilterMode.Input, isDate: true, alignment: 'left' },\r\n      { field: 'statusUser', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'action', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'statusState', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'evolutionType', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'evolutionSummary', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'evolutionLevel', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'evolutionCompliance', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'tracked', width: '100px', filterMode: TableColumnFilterMode.Input, alignment: 'left' }\r\n    ];\r\n    const evolutionId: BireEvolutionDTOId = {\r\n      evolutionNumber: this.evolution.evolutionNumber,\r\n      evolutionRevisionNumber: this.evolution.evolutionRevisionNumber\r\n    };\r\n    this.updatesKeyMap.set('evolutionCompliance', this.evolutionFormService.getComplianceMap());\r\n    this.updatesKeyMap.set('evolutionType', this.evolutionFormService.getEvolutionTypeMap());\r\n    this.updatesKeyMap.set('evolutionLevel', this.evolutionFormService.getEvolutionLevelMap());\r\n    this.tableStatusUpdatesData = {\r\n      componentId: 'EvolutionFormComponent',\r\n      tableCols: columns,\r\n      tableRows: this.updateHistoricService.findBireEvolutionHistoric(evolutionId),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Multiple,\r\n      globalFilter: false\r\n    };\r\n  }\r\n\r\n  public isSelectedAnchor(anchorId: string): boolean {\r\n    return anchorId === this.selectedAnchor;\r\n  }\r\n\r\n  public setSelectedAnchor(anchorId: string): void {\r\n    this.pageTocService.setAnchorSelected(anchorId);\r\n\r\n    this.selectedAnchor = anchorId;\r\n  }\r\n\r\n  private isEvolutionAlreadyExist(evolutionNumber, evolutionRevisionNumber): boolean {\r\n    let isFound = false;\r\n\r\n    if (this.componentData && this.componentData.objectId) {\r\n      return false;\r\n    }\r\n\r\n    this.resultsTable.forEach((res) => {\r\n      if (res.evolutionNumber === evolutionNumber && res.evolutionRevisionNumber === evolutionRevisionNumber) {\r\n        isFound = true;\r\n      }\r\n    });\r\n\r\n    return isFound;\r\n  }\r\n\r\n  private evolutionList() {\r\n    this.evolutionSearchService.findBireEvolutionsByEvolutionCriteria({}, '', '', '').subscribe((results) => {\r\n      this.resultsTable = results.list;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Event on Modification row click\r\n   * param modification\r\n   */\r\n  public openModificationNumber(modification) {\r\n    const selectedObjectId: BireModificationDTO = {\r\n      familyCode: modification.familyCode,\r\n      structureType: modification.structureType,\r\n      modificationType: modification.modificationType,\r\n      modificationNumber: modification.modificationNumber,\r\n      modificationRevisionNumber: modification.modificationRevisionNumber\r\n    };\r\n    this.openModificationForm(selectedObjectId, ComponentOpenMode.Read);\r\n  }\r\n\r\n  private openModificationForm(objectId: BireModificationDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.ModificationFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'ModificationFormComponent',\r\n      objectId: objectId ? this.serializationService.serialize(objectId) : undefined,\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  /**\r\n   * Event on Evolution row click\r\n   * param modification\r\n   */\r\n  public openEvolutionNumber(ev) {\r\n    if (ev && ev.evoEvolutionNumber && ev.evoEvolutionRevisionNumber) {\r\n      const bireEvId: BireEvolutionDTOId = {\r\n        evolutionNumber: ev.evoEvolutionNumber,\r\n        evolutionRevisionNumber: ev.evoEvolutionRevisionNumber\r\n      };\r\n\r\n      this.openEvolution(this.serializationService.serialize(bireEvId));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event on Task row click\r\n   * param modification\r\n   */\r\n  public openTaskCode(task: BireTaskDTO) {\r\n    if (task) {\r\n      this.openTask(task, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  public openTask(object: BireTaskDTO | undefined, openMode: ComponentOpenMode): void {\r\n    if (object != undefined) {\r\n      const labelKey = 'transaction.TaskFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'TaskFormComponent',\r\n        objectId: this.serializationService.serialize(object),\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event on SbAD row click\r\n   * param modification\r\n   */\r\n  public openRevisionNumber(row: BireEvolutionSbDTO) {\r\n    if (row && row.sbNumber && row.sbRevisionNumber) {\r\n      const bireSbId: BireSbDTOId = { sbNumber: row.sbNumber, sbRevisionNumber: row.sbRevisionNumber };\r\n      if (row.sbType === 'AD') {\r\n        this.openADForm(bireSbId, ComponentOpenMode.Read);\r\n      } else {\r\n        this.openSBForm(bireSbId, ComponentOpenMode.Read);\r\n      }\r\n    }\r\n  }\r\n\r\n  public openSBForm(objectId: BireSbDTOId | undefined, openMode: ComponentOpenMode): void {\r\n    if (objectId != undefined) {\r\n      const labelKey = 'transaction.SbadFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'SbadFormComponent',\r\n        objectId: this.serializationService.serialize(objectId),\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openADForm(objectId: BireSbDTOId | undefined, openMode: ComponentOpenMode): void {\r\n    if (objectId != undefined) {\r\n      const labelKey = 'transaction.AirworthinessDirectiveFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'AirworthinessDirectiveFormComponent',\r\n        objectId: this.serializationService.serialize(objectId),\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public showStatus(): void {\r\n    const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n      content: ObjectStatusComponent,\r\n      data: {\r\n        currentAuthor: this.evolution.statusUser,\r\n        currentDate: this.evolution.statusDate,\r\n        currentStatus: {\r\n          label: this._formatSelectOption.transform(this.evolution.statusState, this.propertyStatus),\r\n          value: this.evolution.statusState\r\n        },\r\n        nextStatuses: this.propertyStatus\r\n      }\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          this.evolution.statusState = event.data;\r\n          this.saveEvolutionData();\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureHistoryApi } from '../../../shared/api/product-structure-history.api';\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SaveEvolutionDataInput } from '../../../shared/types/api-input-types/product-structure-management/save-evolution-data-input.interface';\r\nimport { UpgradeBireEvolutionInput } from '../../../shared/types/api-input-types/product-structure-management/upgrade-bire-evolution-input.interface';\r\nimport { BireAlternativePnAndItemPnDTO } from '../../../shared/types/api-types/bire-alternative-pn-and-item-pn-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireConcernedAssetDTO } from '../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireEvolutionAttributeDTOId } from '../../../shared/types/api-types/bire-evolution-attribute-dto-id.interface';\r\nimport { BireEvolutionAttributeDTO } from '../../../shared/types/api-types/bire-evolution-attribute-dto.interface';\r\nimport { BireEvolutionDTOId } from '../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireEvolutionDTO } from '../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireEvolutionEvolutionDTO } from '../../../shared/types/api-types/bire-evolution-evolution-dto.interface';\r\nimport { BireEvolutionItemDTO } from '../../../shared/types/api-types/bire-evolution-item-dto.interface';\r\nimport { BireEvolutionPnDTO } from '../../../shared/types/api-types/bire-evolution-pn-dto.interface';\r\nimport { BireEvolutionSbDTO } from '../../../shared/types/api-types/bire-evolution-sb-dto.interface';\r\nimport { BireEvolutionVariantDTO } from '../../../shared/types/api-types/bire-evolution-variant-dto.interface';\r\nimport { BireItemItemDTO } from '../../../shared/types/api-types/bire-item-item-dto.interface';\r\nimport { BireModificationEvolutionDTO } from '../../../shared/types/api-types/bire-modification-evolution-dto.interface';\r\nimport { BireTaskEvolutionDTO } from '../../../shared/types/api-types/bire-task-evolution-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { HBireEvolutionAttributeDTO } from '../../../shared/types/api-types/h-bire-evolution-attribute-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class EvolutionFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureHistoryApi: ProductStructureHistoryApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireEvolution(evolution: BireEvolutionDTOId): Observable<BireEvolutionDTO> {\r\n    return super.post<BireEvolutionDTOId, BireEvolutionDTO>(\r\n      this.productStructureManagementApi.findBireEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  public getFuncObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFuncObjectStatusMap');\r\n  }\r\n\r\n  public getEvolutionTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionTypeMap');\r\n  }\r\n\r\n  public getComplianceMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getComplianceMap');\r\n  }\r\n\r\n  public getEvolutionLevelMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionLevelMap');\r\n  }\r\n\r\n  public getFunctionObjectionStatus(status: string): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getObjectStatusList(true, false, false, status, false);\r\n  }\r\n\r\n  // SB/AD\r\n  public findBireEvolutionSbsByEvolution(evolution: BireEvolutionDTO): Observable<BireEvolutionSbDTO[]> {\r\n    return super.post<BireEvolutionDTO, BireEvolutionSbDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionSbsByEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  // Modifications Table\r\n  public findBireModificationEvolutionsByEvolution(\r\n    evolution: BireEvolutionDTO\r\n  ): Observable<BireModificationEvolutionDTO[]> {\r\n    return super.post<BireEvolutionDTO, BireModificationEvolutionDTO[]>(\r\n      this.productStructureManagementApi.findBireModificationEvolutionsByEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  // Interdependences\r\n  public findBireEvolutionEvolutionsByEvolution(evolution: BireEvolutionDTO): Observable<BireEvolutionEvolutionDTO[]> {\r\n    return super.post<BireEvolutionDTO, BireEvolutionEvolutionDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionEvolutionsByEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  // Applicabilities\r\n  public findBireEvolutionVariantsByEvolutionNumbers(\r\n    evolution: BireEvolutionDTOId\r\n  ): Observable<BireEvolutionVariantDTO[]> {\r\n    return super.post<BireEvolutionDTOId, BireEvolutionVariantDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionVariantsByEvolutionNumbers,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  // Assets\r\n  public findBireConcernedAssetsByEvolution(evolution: BireEvolutionDTOId): Observable<BireConcernedAssetDTO[]> {\r\n    return super.post<BireEvolutionDTOId, BireConcernedAssetDTO[]>(\r\n      this.productStructureManagementApi.findBireConcernedAssetsByEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  // Retrieve the instruction dropdownlist in the Asset table\r\n  public getAssetActionType(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getAssetActionTypeMap');\r\n  }\r\n\r\n  // Impacts on P/N Evolution\r\n  public findBireItemPnEvolutionsByEvolution(\r\n    evolution: BireEvolutionDTOId\r\n  ): Observable<BireAlternativePnAndItemPnDTO[]> {\r\n    return super.post<BireEvolutionDTOId, BireAlternativePnAndItemPnDTO[]>(\r\n      this.productStructureManagementApi.findBireItemPnEvolutionsByEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  // Impacts on P/N\r\n  public findBireEvolutionPnsByEvolution(evolution: BireEvolutionDTOId): Observable<BireEvolutionPnDTO[]> {\r\n    return super.post<BireEvolutionDTOId, BireEvolutionPnDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionPnsByEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  // Impacts on Item\r\n  public findBireEvolutionItemsByEvolution(evolution: BireEvolutionDTOId): Observable<BireEvolutionItemDTO[]> {\r\n    return super.post<BireEvolutionDTOId, BireEvolutionItemDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionItemsByEvolution,\r\n      evolution\r\n    );\r\n  }\r\n\r\n  public getPnInterchangeabilityMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getPnInterchangeabilityMap');\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCode(item: string): Observable<LabelValue<string>[]> {\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findAllBireInterdependences(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireInterdependences);\r\n  }\r\n\r\n  public findAllBireVariantVersions(): Observable<FamilyVariantDTO[]> {\r\n    return super.post<void, FamilyVariantDTO[]>(this.productStructureManagementApi.findAllBireVariantVersions);\r\n  }\r\n\r\n  public findBireTaskEvolutionsByEvolution(evolutionId: BireEvolutionDTOId): Observable<BireTaskEvolutionDTO[]> {\r\n    return super.post<BireEvolutionDTOId, BireTaskEvolutionDTO[]>(\r\n      this.taskManagementApi.findBireTaskEvolutionsByEvolution,\r\n      evolutionId\r\n    );\r\n  }\r\n\r\n  public saveEvolutionData(saveEvolutionDateInput: SaveEvolutionDataInput): Observable<void> {\r\n    return super.post<SaveEvolutionDataInput, void>(\r\n      this.productStructureManagementApi.saveEvolutionData,\r\n      saveEvolutionDateInput\r\n    );\r\n  }\r\n\r\n  public findBireItemItemsByItemSon(bireEvolutionItemDTO: BireEvolutionItemDTO): Observable<BireItemItemDTO[]> {\r\n    return super.post<BireEvolutionItemDTO, BireItemItemDTO[]>(\r\n      this.productStructureManagementApi.findBireItemItemsByItemSon,\r\n      bireEvolutionItemDTO\r\n    );\r\n  }\r\n\r\n  public checkAndReturnNewRevisionNumberByEvolution(bireEvolutionDTO: BireEvolutionDTO): Observable<string> {\r\n    return super.post<BireEvolutionDTO, string>(\r\n      this.productStructureManagementApi.checkAndReturnNewRevisionNumberByEvolution,\r\n      bireEvolutionDTO\r\n    );\r\n  }\r\n\r\n  public upgradeBireEvolution(\r\n    bireEvolutionDTO: BireEvolutionDTO,\r\n    targetRevisionNumber: string\r\n  ): Observable<BireEvolutionDTO> {\r\n    const upgradeBireEvolutionInput: UpgradeBireEvolutionInput = {\r\n      bireEvolutionDTO,\r\n      targetRevisionNumber\r\n    };\r\n\r\n    return super.post<UpgradeBireEvolutionInput, BireEvolutionDTO>(\r\n      this.productStructureManagementApi.upgradeBireEvolution,\r\n      upgradeBireEvolutionInput\r\n    );\r\n  }\r\n\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n\r\n  public findBireEvolutionAttributesByEvolution(\r\n    bireEvolution: BireEvolutionDTO\r\n  ): Observable<BireEvolutionAttributeDTO[]> {\r\n    const bireEvolutionId: BireEvolutionDTOId = {\r\n      evolutionNumber: bireEvolution.evolutionNumber,\r\n      evolutionRevisionNumber: bireEvolution.evolutionRevisionNumber\r\n    };\r\n\r\n    return super.post<BireEvolutionDTOId, BireEvolutionAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionAttributesByEvolution,\r\n      bireEvolutionId\r\n    );\r\n  }\r\n\r\n  public findHBireEvolutionAttributesByAttributeId(\r\n    ids: BireEvolutionAttributeDTOId[]\r\n  ): Observable<HBireEvolutionAttributeDTO[]> {\r\n    return super.post<BireEvolutionAttributeDTOId[], HBireEvolutionAttributeDTO[]>(\r\n      this.productStructureHistoryApi.findHBireEvolutionAttributesByAttributeId,\r\n      ids\r\n    );\r\n  }\r\n\r\n  public findBireDocumentsByEvol(evolutionDto: BireEvolutionDTO): Observable<BireDocumentDTO[]> {\r\n    const bireEvolDtoId: BireEvolutionDTOId = {\r\n      evolutionRevisionNumber: evolutionDto.evolutionRevisionNumber || '',\r\n      evolutionNumber: evolutionDto.evolutionNumber || ''\r\n    };\r\n\r\n    return super.post<BireEvolutionDTOId, BireDocumentDTO[]>(\r\n      this.productStructureManagementApi.findBireDocumentByEvolution,\r\n      bireEvolDtoId\r\n    );\r\n  }\r\n\r\n  public getObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getObjectStatusMap');\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"50\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm && this.isEditable }\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyCode\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm || !isEditable }\\\">\\r\\n                <div class=\\\"form-control-data\\\" (click)=\\\"showFamilyCode()\\\">{{ newEvol.familyCode }}</div>\\r\\n\\r\\n                <div *ngIf=\\\"newEvol.familyCode && !isReadOnlyForm\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                  <i\\r\\n                    class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    (click)=\\\"\\r\\n                      newEvol.familyCode = undefined; newEvol.structureType = undefined; newEvol.variantCode = undefined\\r\\n                    \\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n                <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n                  <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showFamilyCode()\\\"></i>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'visibility--hidden': !newEvol.structureType }\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".structureType\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newEvol.structureType\\\" [disabled]=\\\"true\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'visibility--hidden': !newEvol.variantCode }\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".variantCode\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newEvol.variantCode\\\" [disabled]=\\\"true\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".approvalDate\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-calendar\\r\\n                  showButtonBar=\\\"true\\\"\\r\\n                  [monthNavigator]=\\\"true\\\"\\r\\n                  [yearNavigator]=\\\"true\\\"\\r\\n                  [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                  class=\\\"aw-calendar\\\"\\r\\n                  [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                  [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                  [disabled]=\\\"isReadOnlyForm\\\"\\r\\n                  [(ngModel)]=\\\"newEvol.evolutionApplicabilityDate\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                ></p-calendar>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group flex--2\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".applicabilitiesPartnerAssociated\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <p-table\\r\\n              [resizableColumns]=\\\"true\\\"\\r\\n              #ptable\\r\\n              class=\\\"aw-table2\\\"\\r\\n              [columns]=\\\"applicabilitiesPartnerTableCols\\\"\\r\\n              [value]=\\\"applicabilitiesPartnerTable\\\"\\r\\n              [(selection)]=\\\"selectedApplicabilitiesPartner\\\"\\r\\n              dataKey=\\\"rowData\\\"\\r\\n              [scrollable]=\\\"true\\\"\\r\\n            >\\r\\n              <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                  <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                  <div class=\\\"lds-hourglass\\\"></div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"caption\\\">\\r\\n                <div class=\\\"aw-table-header\\\">\\r\\n                  <div class=\\\"aw-table-global-filter\\\">\\r\\n                    <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                      <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                    </label>\\r\\n\\r\\n                    <input\\r\\n                      #ptableGlobalFilter\\r\\n                      class=\\\"aw-table-global-filter-input\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                      (input)=\\\"ptable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                    />\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                <colgroup>\\r\\n                  <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                  <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                </colgroup>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                <tr>\\r\\n                  <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                    <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                  </th>\\r\\n\\r\\n                  <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                  </th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                  <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                    <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                  </td>\\r\\n\\r\\n                  <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\">\\r\\n                    <span *ngSwitchCase=\\\"'owner?'\\\">\\r\\n                      <p-checkbox name=\\\"owner\\\" value=\\\"0\\\" [(ngModel)]=\\\"rowData['owner']\\\" binary=\\\"true\\\"></p-checkbox>\\r\\n                    </span>\\r\\n                    <span *ngSwitchCase=\\\"'finished?'\\\">\\r\\n                      <p-checkbox\\r\\n                        name=\\\"finished\\\"\\r\\n                        value=\\\"1\\\"\\r\\n                        [disabled]=\\\"!rowData['owner']\\\"\\r\\n                        [(ngModel)]=\\\"rowData['finished']\\\"\\r\\n                        binary=\\\"true\\\"\\r\\n                      ></p-checkbox>\\r\\n                    </span>\\r\\n                    <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </p-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"newEvol.familyCode === undefined || newEvol.familyCode === null || newEvol.familyCode.length === 0\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showFamilyCodeDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showFamilyCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataFamilyCode\\\"\\r\\n  (onSelected)=\\\"setSelectedFamilyCode($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BireEvolutionVariantDTO } from '../../../../../shared/types/api-types/bire-evolution-variant-dto.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { BireVariantVersionDTOId } from '../../../../../shared/types/api-types/bire-variant-version-dto-id.interface';\r\nimport { BireVariantVersionDTO } from '../../../../../shared/types/api-types/bire-variant-version-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\n\r\nimport { ApplicabilitiesPopupFormService } from './applicabilities-popup-form.service';\r\n\r\ninterface DTOForPartnerInfoTable {\r\n  familyCode?: string;\r\n  structureType?: string;\r\n  variantCode?: string;\r\n  partnerCode?: string;\r\n  owner?: boolean;\r\n  finished?: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-applicabilities-popup-form',\r\n  templateUrl: './applicabilities-popup-form.component.html'\r\n})\r\nexport class ApplicabilitiesPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Input()\r\n  public isNewApplicability: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireEvolutionVariantDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireEvolutionVariantDTO>;\r\n\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireEvolutionVariantDTO> | null;\r\n\r\n  public newEvol: BireEvolutionVariantDTO;\r\n  public isEditable: boolean;\r\n  public contentTable: BireEvolutionVariantDTO[];\r\n  public selectedEvolutions: BireEvolutionVariantDTO[];\r\n  public applicabilitiesPartnerTable: DTOForPartnerInfoTable[];\r\n  public selectedApplicabilitiesPartner: DTOForPartnerInfoTable;\r\n  public applicabilitiesPartnerTableCols: TableColumn[];\r\n  public applicabilitiesPartnerTableFilteredRowsNb: number;\r\n\r\n  public dialogTableDataFamilyCode: DialogTableData<BireVariantDTO>;\r\n  public showFamilyCodeDialog: boolean;\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  // POPUP\r\n  public dialogTableData: DialogTableData<BireVariantVersionDTO>;\r\n\r\n  public constructor(\r\n    public applicabilitiesPopupFormService: ApplicabilitiesPopupFormService,\r\n    private readonly messageService: MessageService,\r\n    public sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ApplicabilityPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireEvolutionVariantDTO>();\r\n    this.onUpdate = new EventEmitter<BireEvolutionVariantDTO>();\r\n\r\n    this.showFamilyCodeDialog = false;\r\n\r\n    this.applicabilitiesPartnerTable = [];\r\n    this.applicabilitiesPartnerTableFilteredRowsNb = 0;\r\n    this.contentTable = [];\r\n    this.selectedEvolutions = [];\r\n    this.newEvol = {};\r\n\r\n    this.keyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.keyMap.set('familyFunction', this.applicabilitiesPopupFormService.getFamilyFunctionMap());\r\n    this.keyMap.set('structureType', this.applicabilitiesPopupFormService.getStructureTypeMap());\r\n\r\n    this.searchFamilyCode();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (\r\n      this.componentData &&\r\n      this.componentData.componentId &&\r\n      this.componentData.object &&\r\n      this.componentData.componentId.length > 0\r\n    ) {\r\n      this.newEvol = this.componentData.object;\r\n      if (!!this.componentData.selectedRow) {\r\n        this.selectedEvolutions = this.componentData.selectedRow;\r\n      }\r\n\r\n      this.applicabilitiesPartnerTableCols = [\r\n        { field: 'partnerCode', alignment: 'left' },\r\n        { field: 'owner?', alignment: 'left' },\r\n        { field: 'finished?', alignment: 'left' }\r\n      ];\r\n\r\n      if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {\r\n        this.isEditable = true;\r\n      } else {\r\n        if (!!this.newEvol.evolutionApplicabilityDate) {\r\n          this.newEvol.evolutionApplicabilityDate = new Date(this.newEvol.evolutionApplicabilityDate);\r\n        }\r\n\r\n        this.isEditable = false;\r\n      }\r\n\r\n      this.loadApplicabilityPartner();\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  private alterEvolution(evol: BireEvolutionVariantDTO): BireEvolutionVariantDTO {\r\n    let oemPartner = '';\r\n    this.applicabilitiesPartnerTable.forEach((rowData: DTOForPartnerInfoTable) => {\r\n      if (!rowData.owner) {\r\n        rowData.finished = undefined;\r\n      }\r\n\r\n      if (!!rowData && rowData.partnerCode) {\r\n        if (rowData.owner && !rowData.finished) {\r\n          // tslint:disable-next-line:no-string-literal\r\n          oemPartner = oemPartner + rowData.partnerCode.split('-')[0] + '=' + 'On going' + ' ';\r\n        } else if (rowData.owner && rowData.finished) {\r\n          // tslint:disable-next-line:no-string-literal\r\n          oemPartner = oemPartner + rowData.partnerCode.split('-')[0] + '=' + 'Finished' + ' ';\r\n        }\r\n      }\r\n    });\r\n\r\n    // tslint:disable-next-line:no-string-literal\r\n    evol.statusStatePerPartner = oemPartner;\r\n\r\n    return evol;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newEvol = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (this.newEvol.familyCode) {\r\n      if (this.isNewApplicability) {\r\n        this.newEvol = this.alterEvolution(this.newEvol);\r\n        this.onCreate.emit(this.newEvol);\r\n        this.display = false;\r\n      } else {\r\n        this.newEvol = this.alterEvolution(this.newEvol);\r\n        this.onUpdate.emit(this.newEvol);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  public searchFamilyCode() {\r\n    const test: TableColumn[] = [\r\n      { field: 'familyCode', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyName', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyFunction', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'structureType', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'variantCode', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'variantName', width: '180px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.dialogTableDataFamilyCode = {\r\n      componentId: 'ApplicabilityPopupDialog',\r\n      tableCols: test,\r\n      tableRows: this.applicabilitiesPopupFormService.findFamilyVariantVersion(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  public setSelectedFamilyCode(selectedObject: BireVariantDTO) {\r\n    if (selectedObject) {\r\n      this.newEvol.familyCode = selectedObject.familyCode;\r\n      this.newEvol.structureType = selectedObject.structureType;\r\n      this.newEvol.variantCode = selectedObject.variantCode;\r\n    }\r\n    this.showFamilyCodeDialog = false;\r\n    this.loadApplicabilityPartner();\r\n  }\r\n\r\n  public showFamilyCode() {\r\n    if (!this.isReadOnlyForm && this.isEditable) {\r\n      this.showFamilyCodeDialog = true;\r\n    }\r\n  }\r\n\r\n  private loadApplicabilityPartner(): void {\r\n    if (!!this.newEvol && !!this.newEvol.familyCode && !!this.newEvol.structureType && !!this.newEvol.variantCode) {\r\n      const variantVersion: BireVariantVersionDTOId = {\r\n        familyCode: this.newEvol.familyCode,\r\n        structureType: this.newEvol.structureType,\r\n        variantCode: this.newEvol.variantCode\r\n      };\r\n      this.applicabilitiesPartnerTable = [];\r\n      this.applicabilitiesPopupFormService.findBirePartnersByVariant(variantVersion).subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            results.forEach((res) => {\r\n              const dto: DTOForPartnerInfoTable = {\r\n                familyCode: res.familyCode,\r\n                partnerCode: res.partnerCode,\r\n                structureType: res.structureType,\r\n                variantCode: res.variantCode\r\n              };\r\n              if (\r\n                this.componentData &&\r\n                this.componentData.componentId &&\r\n                this.componentData.object &&\r\n                this.componentData.object.statusStatePerPartner &&\r\n                this.componentData.componentId.length > 0\r\n              ) {\r\n                const tableArr = this.getArrayOfTableData(this.componentData.object.statusStatePerPartner);\r\n                tableArr.forEach((result) => {\r\n                  if (!!dto.partnerCode) {\r\n                    if (result.indexOf(dto.partnerCode) !== -1) {\r\n                      const code = result.split('=')[1];\r\n                      if (code === 'On going') {\r\n                        dto.owner = true;\r\n                      } else if (code === 'Finished') {\r\n                        dto.owner = true;\r\n                        dto.finished = true;\r\n                      }\r\n                    }\r\n                  }\r\n                });\r\n              }\r\n              this.applicabilitiesPartnerTable.push(dto);\r\n            });\r\n            this.applicabilitiesPartnerTableFilteredRowsNb = this.applicabilitiesPartnerTable.length;\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetApplicabilityPartnerResults'));\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  private getArrayOfTableData(tableString: string): string[] {\r\n    const b = tableString.split(' ');\r\n\r\n    for (let i = 0; i < b.length; i++) {\r\n      if (b[i].startsWith('going')) {\r\n        b[i - 1] = b[i - 1] + ' ' + 'going';\r\n        b.splice(i, 1);\r\n      }\r\n      if (b[i].length === 0) {\r\n        b.splice(i, 1);\r\n      }\r\n    }\r\n\r\n    return b;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { FindFamilyVariantInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireEvolutionVariantDTOId } from '../../../../../shared/types/api-types/bire-evolution-variant-dto-id.interface';\r\nimport { BirePartnerDTO } from '../../../../../shared/types/api-types/bire-partner-dto.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { BireVariantVersionDTOId } from '../../../../../shared/types/api-types/bire-variant-version-dto-id.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ApplicabilitiesPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public removeBireApplicability(applicability: BireEvolutionVariantDTOId): Observable<boolean> {\r\n    // TODO\r\n    return of(true);\r\n  }\r\n\r\n  public findFamilyVariantVersion(): Observable<SearchResultsDTO<BireVariantDTO>> {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: 'UC50',\r\n      module: 'FAMILY'\r\n    };\r\n\r\n    return super.post<FindFamilyVariantInput, SearchResultsDTO<BireVariantDTO>>(\r\n      this.productStructureManagementApi.findFamilyVariantVersion,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  // Applicability Partners\r\n  public findBirePartnersByVariant(bireVariantVersionDTOId: BireVariantVersionDTOId): Observable<BirePartnerDTO[]> {\r\n    return super.post<BireVariantVersionDTOId, BirePartnerDTO[]>(\r\n      this.productStructureManagementApi.findBirePartnersByVariant,\r\n      bireVariantVersionDTOId\r\n    );\r\n  }\r\n\r\n  public getFamilyFunctionMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFamilyFunctionMap');\r\n  }\r\n\r\n  public getStructureTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getStructureTypeMap');\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n\\r\\n    <div class=\\\"modal-subtitle\\\">{{ getComponentName() + \\\".informationAsset\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".pn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"isReadOnlyForm\\\" [(ngModel)]=\\\"newEvol.assetPn\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"isReadOnlyForm\\\" [(ngModel)]=\\\"newEvol.assetSn\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".instruction\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"instruction\\\"\\r\\n              [(ngModel)]=\\\"newEvol.assetActionType\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"!isScreenValid()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BireConcernedAssetDTO } from '../../../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\n\r\nimport { AssetsPopupFormService } from './assets-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-assets-popup-form',\r\n  templateUrl: './assets-popup-form.component.html'\r\n})\r\nexport class AssetsPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireConcernedAssetDTO> | null;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Input()\r\n  public isNewAsset: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireConcernedAssetDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireConcernedAssetDTO>;\r\n\r\n  public newEvol: BireConcernedAssetDTO;\r\n  public displayDialog: boolean;\r\n  public selectedEvolutions: BireConcernedAssetDTO[];\r\n  public instruction: SelectItem[];\r\n  public isEditable: boolean;\r\n\r\n  public constructor(\r\n    public assetsPopupFormService: AssetsPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'AssetPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireConcernedAssetDTO>();\r\n    this.onUpdate = new EventEmitter<BireConcernedAssetDTO>();\r\n\r\n    this.displayDialog = false;\r\n    this.selectedEvolutions = [];\r\n    this.newEvol = {};\r\n\r\n    this.loadInstructions();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (\r\n      this.componentData &&\r\n      this.componentData.componentId &&\r\n      this.componentData.object &&\r\n      this.componentData.componentId.length > 0\r\n    ) {\r\n      this.newEvol = this.componentData.object;\r\n      if (!!this.componentData.selectedRow) {\r\n        this.selectedEvolutions = this.componentData.selectedRow;\r\n      }\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newEvol = {};\r\n    this.display = false;\r\n  }\r\n\r\n  private loadInstructions(): void {\r\n    this.assetsPopupFormService.getAssetActionType().subscribe(\r\n      (results) => {\r\n        this.instruction = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInstructions'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (this.isScreenValid()) {\r\n      if (this.newEvol.assetPn || this.newEvol.assetSn) {\r\n        if (this.isNewAsset) {\r\n          this.onCreate.emit(this.newEvol);\r\n          this.display = false;\r\n        } else {\r\n          this.onUpdate.emit(this.newEvol);\r\n          this.display = false;\r\n        }\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage('global.warningOnMissingRequiredFields');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Is screen valid\r\n   */\r\n  private isScreenValid() {\r\n    if (this.newEvol.assetPn || this.newEvol.assetSn) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { BireConcernedAssetDTOId } from '../../../../../shared/types/api-types/bire-concerned-asset-dto-id.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class AssetsPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public removeBireAsset(asset: BireConcernedAssetDTOId): Observable<boolean> {\r\n    // TODO\r\n    return of(true);\r\n  }\r\n\r\n  // Retrieve the instruction dropdownlist in the Asset dropdown list\r\n  public getAssetActionType(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getAssetActionTypeMap');\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".docManagement\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docName\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control form-control-with-btn\\\">\\r\\n          <input\\r\\n            class=\\\"aw-input\\\"\\r\\n            type=\\\"text\\\"\\r\\n            [(ngModel)]=\\\"document.docName\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            style=\\\"width:79%\\\"\\r\\n          />\\r\\n          <p-fileUpload\\r\\n            #fileUploader\\r\\n            *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n            name=\\\"document[]\\\"\\r\\n            customUpload=\\\"true\\\"\\r\\n            mode=\\\"basic\\\"\\r\\n            auto=\\\"true\\\"\\r\\n            chooseLabel=\\\"{{ 'global.upload' | translate }}\\\"\\r\\n            (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n          ></p-fileUpload>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docSource\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"document.docSource\\\" [disabled]=\\\"isReadOnlyForm\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docPublicationDate\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [(ngModel)]=\\\"document.docPublicationDate\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docDescription\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <textarea\\r\\n            class=\\\"aw-textarea\\\"\\r\\n            [rows]=\\\"3\\\"\\r\\n            pInputTextarea\\r\\n            autoResize=\\\"autoResize\\\"\\r\\n            [(ngModel)]=\\\"document.docDescription\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n          ></textarea>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"validate()\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      [disabled]=\\\"!isValidateEnabled()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { GenericPropertyConstants } from '../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BidoDocumentationDTO } from '../../../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { FileUtils } from '../../../../../shared/utils/file-utils';\r\n\r\n@Component({\r\n  selector: 'aw-evol-import-popup',\r\n  templateUrl: './evol-import-popup.component.html'\r\n})\r\nexport class EvolImportPopupComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public get display() {\r\n    return this.displayValue;\r\n  }\r\n  public set display(displayValue) {\r\n    this.displayValue = displayValue;\r\n    this.displayChange.emit(this.displayValue);\r\n  }\r\n\r\n  @Output() public displayChange: EventEmitter<boolean>;\r\n  @Input() public document: BidoDocumentationDTO;\r\n  @Input() public isReadOnlyForm: boolean;\r\n  @Output() public onValidated: EventEmitter<BidoDocumentationDTO>;\r\n\r\n  public readonly componentId: string;\r\n  public displayValue: boolean;\r\n  public types: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    public readonly sessionService: SessionService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'EvolutionFormComponent');\r\n\r\n    this.displayChange = new EventEmitter<boolean>();\r\n    this.onValidated = new EventEmitter<BidoDocumentationDTO>();\r\n\r\n    this.loadTypes();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    if (!this.document) {\r\n      this.document = {};\r\n    }\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.document);\r\n    this.display = false;\r\n  }\r\n\r\n  private loadTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.DOC_PARTNER_CATEGORY_MAP).subscribe(\r\n      (results) => {\r\n        this.types = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.componentId + '.errorOnGetTypes');\r\n      }\r\n    );\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (event.files) {\r\n      const file: File = event.files[0];\r\n      FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n        if (fileContent) {\r\n          this.document.docFile = fileContent;\r\n          this.document.docName = file.name;\r\n          this.document.docPublicationDate = new Date();\r\n        }\r\n      });\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public isValidateEnabled() {\r\n    return this.document.docName;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"60\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\"></div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".item\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm || !isEditable }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"openItemTableDialog()\\\">\\r\\n              {{ bireItemDTO.chapter }}\\r\\n              <span *ngIf=\\\"bireItemDTO.section\\\"> - {{ bireItemDTO.section }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.subject\\\"> - {{ bireItemDTO.subject }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.sheet\\\"> - {{ bireItemDTO.sheet }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.marks\\\"> - {{ bireItemDTO.marks }}</span>\\r\\n            </div>\\r\\n\\r\\n            <div\\r\\n              *ngIf=\\\"\\r\\n                bireItemDTO.chapter &&\\r\\n                bireItemDTO.section &&\\r\\n                bireItemDTO.subject &&\\r\\n                bireItemDTO.sheet &&\\r\\n                bireItemDTO.marks &&\\r\\n                !isReadOnlyForm\\r\\n              \\\"\\r\\n              class=\\\"btn-clear-wrapper\\\"\\r\\n            >\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"\\r\\n                  bireItemDTO.chapter = undefined;\\r\\n                  bireItemDTO.section = undefined;\\r\\n                  bireItemDTO.subject = undefined;\\r\\n                  bireItemDTO.sheet = undefined;\\r\\n                  bireItemDTO.marks = undefined;\\r\\n                  bireItemDTO.versionNumber = undefined\\r\\n                \\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"openItemTableDialog()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".pnBefore\\\" | translate }}</label>\\r\\n\\r\\n          <div *ngIf=\\\"selectedItem != null\\\" class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              [ngClass]=\\\"{ inactive: isReadOnlyForm || !isEditable }\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [(ngModel)]=\\\"newEvol.pnCode\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"pnBefore\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n\\r\\n          <div\\r\\n            *ngIf=\\\"selectedItem == null\\\"\\r\\n            class=\\\"form-control form-control-with-modal\\\"\\r\\n            [ngClass]=\\\"{ disabled: isReadOpenMode }\\\"\\r\\n          >\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchPnCodeBefore()\\\">{{ selectedPnBefore }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"selectedPnBefore\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"selectedPnBefore = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"searchPnCodeBefore()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".existingPnAfter\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-radioButton\\r\\n              class=\\\"aw-radiobutton\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              value=\\\"existing\\\"\\r\\n              [(ngModel)]=\\\"optionExisting\\\"\\r\\n              inputId=\\\"existing\\\"\\r\\n              (onClick)=\\\"onChangeRadio()\\\"\\r\\n            ></p-radioButton>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".newPnAfter\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-radioButton\\r\\n              class=\\\"aw-radiobutton\\\"\\r\\n              value=\\\"new\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [(ngModel)]=\\\"optionExisting\\\"\\r\\n              inputId=\\\"new\\\"\\r\\n              (onClick)=\\\"onChangeRadio()\\\"\\r\\n            ></p-radioButton>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div\\r\\n          *ngIf=\\\"optionExisting && optionExisting === 'existing'\\\"\\r\\n          class=\\\"form-group\\\"\\r\\n          [ngClass]=\\\"{ required: !isReadOpenMode }\\\"\\r\\n        >\\r\\n          <label class=\\\"form-label\\\">{{ \\\"global.pn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              [disabled]=\\\"optionExisting !== 'existing' || isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [options]=\\\"pnAfter\\\"\\r\\n              [(ngModel)]=\\\"pnPnCode\\\"\\r\\n              (onChange)=\\\"onChangePnPnCode()\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div\\r\\n          *ngIf=\\\"optionExisting && optionExisting !== 'existing'\\\"\\r\\n          class=\\\"form-group\\\"\\r\\n          [ngClass]=\\\"{ required: !isReadOnlyForm }\\\"\\r\\n        >\\r\\n          <label class=\\\"form-label\\\">{{ \\\"global.pn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchPnCodeAfter()\\\">{{ pnPnCodeInput }}</div>\\r\\n            <!-- <div class=\\\"form-control-data\\\">\\r\\n                <input\\r\\n                type=\\\"text\\\"\\r\\n                class=\\\"aw-input\\\"\\r\\n                [disabled]=\\\"isReadOnlyForm\\\"\\r\\n                [(ngModel)]=\\\"pnPnCodeInput\\\"\\r\\n                style=\\\"border-width: 0px\\\"\\r\\n              />\\r\\n            </div> -->\\r\\n            <div *ngIf=\\\"pnPnCodeInput\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"pnPnCodeInput = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"searchPnCodeAfter()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"optionExisting\\\" class=\\\"form-group\\\"></div>\\r\\n        <div *ngIf=\\\"!optionExisting\\\" class=\\\"form-group flex--2\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"optionExisting == 'new'\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".itemVersion\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"versions\\\"\\r\\n              [(ngModel)]=\\\"newEvol.versionNumber\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".isn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"isn\\\"\\r\\n              [(ngModel)]=\\\"selectedIsn\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".pnApplicability\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchApplicability(true)\\\">{{ pnApplicability }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"newEvol.pnApplicability\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"newEvol.pnApplicability = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"searchApplicability(true)\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".duplicateISN\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-checkbox class=\\\"aw-checkbox\\\" [disabled]=\\\"isReadOnlyForm\\\" value=\\\"duplicateISN\\\" binary=\\\"true\\\"></p-checkbox>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".actionType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"actionType\\\"\\r\\n              [(ngModel)]=\\\"newEvol.actionTypeCode\\\"\\r\\n              (click)=\\\"onSelectedActionType()\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"actionInterchangeability\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".interchangeability\\\" | translate }} </label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"interchangeability\\\"\\r\\n              [(ngModel)]=\\\"newEvol.interchangeability\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"actionInterchangeability\\\" class=\\\"form-group flex--2\\\"></div>\\r\\n        <div *ngIf=\\\"!actionInterchangeability\\\" class=\\\"form-group flex--3\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".applicability\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchApplicability(false)\\\">{{ newEvol.applicability }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"newEvol.applicability\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"newEvol.applicability = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"searchApplicability(false)\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".quantBefore\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              maxlength=\\\"3\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [(ngModel)]=\\\"newEvol.quantityBefore\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".quantAfter\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              maxlength=\\\"3\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [(ngModel)]=\\\"newEvol.quantityAfter\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".comments\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <textarea\\r\\n              class=\\\"aw-textarea\\\"\\r\\n              [rows]=\\\"3\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              pInputTextarea\\r\\n              [(ngModel)]=\\\"newEvol.evolutionRemarks\\\"\\r\\n            ></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"!isValidateEnabled()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showPnBeforeDialog\\\"\\r\\n  [(display)]=\\\"showPnBeforeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataPnBefore\\\"\\r\\n  (onSelected)=\\\"setSelectedPnBefore($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-search-part\\r\\n  *ngIf=\\\"showPnAfterDialog\\\"\\r\\n  [(display)]=\\\"showPnAfterDialog\\\"\\r\\n  (onValidated)=\\\"setSelectedPnAfter($event)\\\"\\r\\n  [searchObject]=\\\"partsSearch\\\"\\r\\n></aw-dialog-search-part>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showPnApplicabilityDialog\\\"\\r\\n  [(display)]=\\\"showPnApplicabilityDialog\\\"\\r\\n  [data]=\\\"dialogTableDataApplicability\\\"\\r\\n  (onSelected)=\\\"setPnSelectedApplicability($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showApplicabilityDialog\\\"\\r\\n  [(display)]=\\\"showApplicabilityDialog\\\"\\r\\n  [data]=\\\"dialogTableDataApplicability\\\"\\r\\n  (onSelected)=\\\"setSelectedApplicability($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\\r\\n<aw-dialog-search-item\\r\\n  *ngIf=\\\"showItemTableDialog\\\"\\r\\n  [(display)]=\\\"showItemTableDialog\\\"\\r\\n  (onValidated)=\\\"onSelectedItem($event)\\\"\\r\\n></aw-dialog-search-item>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { FindBireItemVersionByItemAndPnInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-item-versions-by-item-and-pn-code-input.interface';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { FindBirePnsBySearchCriteriaPSMInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-pns-by-search-criteria-input.interface';\r\nimport { PartsSearchInput } from '../../../../../shared/types/api-input-types/task-management/parts-search-input.interface';\r\nimport { PartsAssociatedTableDTO } from '../../../../../shared/types/api-output-types/task-management/parts-associated-table-dto.interface';\r\nimport { BireAlternativePnAndItemPnDTO } from '../../../../../shared/types/api-types/bire-alternative-pn-and-item-pn-dto.interface';\r\nimport { BireItemDTO } from '../../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireModelDTO } from '../../../../../shared/types/api-types/bire-model-dto.interface';\r\nimport { BirePnDTO } from '../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireVariantVersionDTOId } from '../../../../../shared/types/api-types/bire-variant-version-dto-id.interface';\r\nimport { FamilyVariantDTO } from '../../../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { ArrayUtils } from '../../../../../shared/utils/array-utils';\r\n\r\nimport { ImpactsEvolPopupFormService } from './impacts-evol-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-impacts-evol-popup-form',\r\n  templateUrl: './impacts-evol-popup-form.component.html'\r\n})\r\nexport class ImpactsEvolPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireAlternativePnAndItemPnDTO> | null;\r\n\r\n  @Input()\r\n  public isNewImpactsEvol: boolean;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireAlternativePnAndItemPnDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireAlternativePnAndItemPnDTO>;\r\n\r\n  public newEvol: BireAlternativePnAndItemPnDTO;\r\n  public displayDialog: boolean;\r\n  public bireItemDTO: BireItemDTO;\r\n  public itemSelectedAfterPNChoice: string;\r\n  public bireItemDTOList: BireItemDTO[];\r\n  public isEditable: boolean;\r\n\r\n  public optionExisting: string;\r\n  public optionExistingImpacts: string;\r\n  public pnCode: string | undefined;\r\n  public variant: LabelValue<string>[];\r\n  public item: LabelValue<string>[];\r\n  public isn: LabelValue<string>[];\r\n  public selectedIsn: string | undefined;\r\n  public pnAfter: LabelValue<string>[];\r\n  public pnBefore: LabelValue<string>[];\r\n  public interchangeability: LabelValue<string>[];\r\n  public actionType: LabelValue<string>[];\r\n  public actionInterchangeability: boolean;\r\n  public selectedInterchangeability: string;\r\n  public selectedItem: string | undefined;\r\n  public selectedPnBeforeDdl: string;\r\n  public selectedPnBefore: string | undefined;\r\n  public selectedPnAfter: string;\r\n  public versions: LabelValue<string>[];\r\n\r\n  public pnBeforeTable: BirePnDTO[];\r\n  public selectedPnBeforeTable: BirePnDTO[];\r\n  public pnBeforeTableTableCols: TableColumn[];\r\n  public pnBeforeTableFilteredRowsNb: number;\r\n\r\n  public pnAfterTable: BirePnDTO[];\r\n  public selectedPnAfterTable: BirePnDTO[];\r\n  public pnAfterTableTableCols: TableColumn[];\r\n  public pnAfterTableFilteredRowsNb: number;\r\n\r\n  public dialogTableDataPnBefore: DialogTableData<BirePnDTO>;\r\n  public dialogTableDataPnAfter: DialogTableData<BirePnDTO>;\r\n  public dialogTableDataApplicability: DialogTableData<BireModelDTO>;\r\n  public showPnBeforeDialog: boolean;\r\n  public showPnAfterDialog: boolean;\r\n  public showApplicabilityDialog: boolean;\r\n  public showPnApplicabilityDialog: boolean;\r\n  public familyVariantMap: Map<LabelValue<string>, FamilyVariantDTO>;\r\n  public variantCode: string;\r\n  public pnPnCodeInput: string | undefined;\r\n  public pnPnCodeDdl: string;\r\n  public pnPnCode: string | undefined;\r\n  public pnApplicability: string | undefined;\r\n\r\n  public showItemTableDialog: boolean;\r\n  public partsSearch: PartsSearchInput;\r\n\r\n  public constructor(\r\n    public impactsEvolPopupFormService: ImpactsEvolPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ImpactsEvolPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireAlternativePnAndItemPnDTO>();\r\n    this.onUpdate = new EventEmitter<BireAlternativePnAndItemPnDTO>();\r\n\r\n    this.displayDialog = false;\r\n    this.actionInterchangeability = false;\r\n    this.selectedPnBefore = undefined;\r\n    this.pnCode = undefined;\r\n    this.versions = [];\r\n\r\n    this.bireItemDTOList = [];\r\n    this.newEvol = {};\r\n    this.isEditable = true;\r\n    this.familyVariantMap = new Map<LabelValue<string>, FamilyVariantDTO>();\r\n    this.partsSearch = {};\r\n    this.bireItemDTO = {};\r\n    this.showItemTableDialog = false;\r\n    this.showApplicabilityDialog = false;\r\n    this.showPnApplicabilityDialog = false;\r\n\r\n    this.loadDdl();\r\n  }\r\n\r\n  public openItemTableDialog(): void {\r\n    if (!this.isReadOnlyForm) {\r\n      this.showItemTableDialog = true;\r\n    }\r\n  }\r\n\r\n  public onSelectedItem(item: BireItemDTO): void {\r\n    if (!item) {\r\n      return;\r\n    }\r\n\r\n    let familyVariantDTO: FamilyVariantDTO = {};\r\n    this.familyVariantMap.forEach((variantElement) => {\r\n      if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === this.variantCode) {\r\n        familyVariantDTO = variantElement;\r\n      }\r\n    });\r\n\r\n    this.selectedItem = `${item.chapter}-${item.section}-${item.subject}-${item.sheet}-${item.marks}`;\r\n\r\n    const itemTab: string[] = this.selectedItem.split('-');\r\n    const subjectPos = 2;\r\n    const sheetPos = 3;\r\n    const marksPos = 4;\r\n    const itemNumberPosStart = 5;\r\n    const itemNumberPosEnd = 6;\r\n    let itemNumber = '';\r\n\r\n    if (this.selectedItem.indexOf('(') !== -1) {\r\n      itemNumber = this.selectedItem.split('(')[1].substr(0, itemTab[1].indexOf(')'));\r\n    }\r\n\r\n    let name = '';\r\n    if (itemTab[itemNumberPosStart] && itemTab[itemNumberPosEnd]) {\r\n      name = itemTab[itemNumberPosStart].trim() + itemTab[itemNumberPosEnd].split('(')[0];\r\n    }\r\n    this.newEvol.chapter = itemTab[0].trim();\r\n    this.newEvol.section = itemTab[1].trim();\r\n    this.newEvol.subject = itemTab[subjectPos].trim();\r\n    this.newEvol.sheet = itemTab[sheetPos].trim();\r\n    this.newEvol.marks = itemTab[marksPos].trim();\r\n    this.newEvol.familyCode = item.familyCode;\r\n    this.newEvol.variantCode = item.variantCode;\r\n    this.newEvol.structureType = item.structureType;\r\n\r\n    this.bireItemDTO = {\r\n      variantCode: this.newEvol.variantCode,\r\n      familyCode: this.newEvol.familyCode,\r\n      structureType: this.newEvol.structureType,\r\n      chapter: this.newEvol.chapter,\r\n      section: this.newEvol.section,\r\n      subject: this.newEvol.subject,\r\n      sheet: this.newEvol.sheet,\r\n      marks: this.newEvol.marks,\r\n      name,\r\n      itemNumber\r\n    };\r\n    this.loadVersionAndISN();\r\n    this.searchPnCodeLabelValue(false);\r\n    this.variantCode = item.variantCode as string;\r\n\r\n    this.showItemTableDialog = false;\r\n  }\r\n\r\n  private fillPopup() {\r\n    this.variantCode = `${this.newEvol.familyCode}-${this.newEvol.structureType}-${this.newEvol.variantCode}`;\r\n    this.bireItemDTO = {\r\n      variantCode: this.newEvol.variantCode,\r\n      familyCode: this.newEvol.familyCode,\r\n      structureType: this.newEvol.structureType,\r\n      chapter: this.newEvol.chapter,\r\n      sheet: this.newEvol.sheet,\r\n      section: this.newEvol.section,\r\n      marks: this.newEvol.marks,\r\n      subject: this.newEvol.subject\r\n    };\r\n\r\n    const searchCriteria: FindBireItemsBySearchCriteriaInput = {\r\n      bireItemDTOCriteria: this.bireItemDTO,\r\n      attribute: undefined,\r\n      pnCode: undefined\r\n    };\r\n    this.loadBireItems(searchCriteria);\r\n    this.impactsEvolPopupFormService.FindBireItemsBySearchCriteria(searchCriteria).subscribe(\r\n      (results) => {\r\n        this.bireItemDTOList = results.list;\r\n        this.bireItemDTO = this.bireItemDTOList.filter(\r\n          (item) =>\r\n            item.structureType === this.newEvol.structureType &&\r\n            item.variantCode === this.newEvol.variantCode &&\r\n            item.familyCode === this.newEvol.familyCode &&\r\n            item.chapter === this.newEvol.chapter &&\r\n            item.sheet === this.newEvol.sheet &&\r\n            item.subject === this.newEvol.subject &&\r\n            item.marks === this.newEvol.marks\r\n        )[0];\r\n\r\n        this.selectedItem = `${this.newEvol.chapter}\r\n          -\r\n          ${this.newEvol.section}\r\n          -\r\n          ${this.newEvol.subject}\r\n          -\r\n          ${this.newEvol.sheet}\r\n          -\r\n          ${this.newEvol.marks}`;\r\n\r\n        if (this.bireItemDTO.name != undefined) {\r\n          this.selectedItem = `${this.selectedItem} - ${this.bireItemDTO.name}`;\r\n        }\r\n        if (this.bireItemDTO.itemNumber != undefined) {\r\n          this.selectedItem = `{this.selectedItem} (${this.bireItemDTO.itemNumber})`;\r\n        }\r\n        this.searchPnCodeLabelValue(true);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetItem'));\r\n      }\r\n    );\r\n    if (!!this.newEvol.interchangeability) {\r\n      this.selectedInterchangeability = this.newEvol.interchangeability;\r\n    }\r\n\r\n    this.loadVersionAndISN();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (\r\n      this.componentData &&\r\n      this.componentData.componentId &&\r\n      this.componentData.object &&\r\n      this.componentData.componentId.length > 0\r\n    ) {\r\n      this.newEvol = this.componentData.object;\r\n\r\n      if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {\r\n        this.isEditable = true;\r\n      } else {\r\n        this.isEditable = false;\r\n\r\n        this.fillPopup();\r\n        this.pnCode = this.newEvol.pnCode;\r\n        this.onSelectedActionType();\r\n        this.selectedIsn = '_';\r\n      }\r\n    }\r\n    this.optionExisting = 'existing';\r\n  }\r\n\r\n  public onShow() {\r\n    this.displayDialog = true;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newEvol = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    // this.newEvol.interchangeability = this.selectedInterchangeability;\r\n    if (this.newEvol.versionNumber === null) {\r\n      if (!!this.bireItemDTO && !!this.newEvol.pnPnCode) {\r\n        const findBireItemVersionByItemAndPnInput: FindBireItemVersionByItemAndPnInput = {\r\n          bireItemDTO: this.bireItemDTO,\r\n          pnCode: this.newEvol.pnPnCode\r\n        };\r\n        this.impactsEvolPopupFormService\r\n          .findBireItemVersionsByItemAndPnCode(findBireItemVersionByItemAndPnInput)\r\n          .subscribe(\r\n            (results) => {\r\n              this.newEvol.versionNumber = results[0].versionNumber;\r\n            },\r\n            () => {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetVersion'));\r\n            }\r\n          );\r\n      } else {\r\n        super.throwUnboundLocalError('onValidate', 'this.bireItemDTO && this.newEvol.pnPnCode');\r\n      }\r\n    }\r\n    if (\r\n      this.newEvol.familyCode &&\r\n      this.newEvol.actionTypeCode &&\r\n      this.newEvol.chapter &&\r\n      this.newEvol.pnCode &&\r\n      this.newEvol.pnPnCode &&\r\n      ((this.optionExisting === 'new' && this.newEvol.versionNumber) || this.optionExisting === 'existing')\r\n    ) {\r\n      if (this.isNewImpactsEvol) {\r\n        this.onCreate.emit(this.newEvol);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.newEvol);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  // Load Variant, Interchangeability and Action Type\r\n  private loadDdl(): void {\r\n    this.impactsEvolPopupFormService.findAllBireVariantVersions().subscribe(\r\n      (results) => {\r\n        const list: LabelValue<string>[] = [];\r\n        results.forEach((variantElement) => {\r\n          if (!!variantElement.labelValueDTO) {\r\n            variantElement.labelValueDTO.label = `${variantElement.familyCode}-\r\n              ${variantElement.labelValueDTO.label.substring(0, variantElement.labelValueDTO.label.lastIndexOf('-'))}/${\r\n              variantElement.variantCode\r\n            }-\r\n              ${variantElement.labelValueDTO.label.substring(\r\n                variantElement.labelValueDTO.label.lastIndexOf('-') + 1,\r\n                variantElement.labelValueDTO.label.length\r\n              )}`;\r\n\r\n            list.push(variantElement.labelValueDTO);\r\n            this.familyVariantMap.set(variantElement.labelValueDTO, variantElement);\r\n          } else {\r\n            super.throwUnboundLocalError('loadDdl', 'variantElement.labelValueDTO');\r\n          }\r\n        });\r\n        this.variant = list;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetVariant'));\r\n      }\r\n    );\r\n    this.impactsEvolPopupFormService.getPnInterchangeabilityMap().subscribe(\r\n      (results) => {\r\n        this.interchangeability = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInterchangeability'));\r\n      }\r\n    );\r\n    this.impactsEvolPopupFormService.findBireActionTypesByActionTypeCode().subscribe(\r\n      (results) => {\r\n        this.actionType = results.sort(ArrayUtils.compareValues('label'));\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetActionType'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public onChangeVariant() {\r\n    this.pnCode = undefined;\r\n    this.selectedPnBefore = undefined;\r\n    this.selectedItem = undefined;\r\n    if (!!this.variantCode) {\r\n      let familyVariantDTO: FamilyVariantDTO = {};\r\n      this.familyVariantMap.forEach((variantElement) => {\r\n        if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === this.variantCode) {\r\n          familyVariantDTO = variantElement;\r\n        }\r\n      });\r\n      if (!!familyVariantDTO) {\r\n        this.newEvol.familyCode = familyVariantDTO.familyCode;\r\n        this.newEvol.variantCode = familyVariantDTO.variantCode;\r\n        this.newEvol.structureType = familyVariantDTO.structureType;\r\n        this.bireItemDTO = {\r\n          variantCode: familyVariantDTO.variantCode,\r\n          familyCode: familyVariantDTO.familyCode,\r\n          structureType: familyVariantDTO.structureType\r\n        };\r\n      }\r\n\r\n      let pnCodeSelected;\r\n      if (this.selectedPnBefore) {\r\n        pnCodeSelected = this.selectedPnBefore;\r\n      }\r\n      const searchCriteria: FindBireItemsBySearchCriteriaInput = {\r\n        bireItemDTOCriteria: this.bireItemDTO,\r\n        attribute: undefined,\r\n        pnCode: pnCodeSelected\r\n      };\r\n      this.loadBireItems(searchCriteria);\r\n    }\r\n  }\r\n\r\n  private loadBireItems(searchCriteria: FindBireItemsBySearchCriteriaInput) {\r\n    this.impactsEvolPopupFormService.FindBireItemsBySearchCriteriaToLVD(searchCriteria).subscribe(\r\n      (results) => {\r\n        this.item = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetItem'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public onChangeItem() {\r\n    if (this.selectedItem) {\r\n      let familyVariantDTO: FamilyVariantDTO = {};\r\n      this.familyVariantMap.forEach((variantElement) => {\r\n        if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === this.variantCode) {\r\n          familyVariantDTO = variantElement;\r\n        }\r\n      });\r\n      const itemTab: string[] = this.selectedItem.split('-');\r\n      const subjectPos = 2;\r\n      const sheetPos = 3;\r\n      const marksPos = 4;\r\n      const itemNumberPosStart = 5;\r\n      const itemNumberPosEnd = 6;\r\n      let itemNumber = '';\r\n\r\n      if (this.selectedItem.indexOf('(') !== -1) {\r\n        itemNumber = this.selectedItem.split('(')[1].substr(0, itemTab[1].indexOf(')'));\r\n      }\r\n\r\n      let name = '';\r\n      if (itemTab[itemNumberPosStart] && itemTab[itemNumberPosEnd]) {\r\n        name = itemTab[itemNumberPosStart].trim() + itemTab[itemNumberPosEnd].split('(')[0];\r\n      }\r\n      this.newEvol.chapter = itemTab[0].trim();\r\n      this.newEvol.section = itemTab[1].trim();\r\n      this.newEvol.subject = itemTab[subjectPos].trim();\r\n      this.newEvol.sheet = itemTab[sheetPos].trim();\r\n      this.newEvol.marks = itemTab[marksPos].trim();\r\n\r\n      this.bireItemDTO = {\r\n        variantCode: familyVariantDTO.variantCode,\r\n        familyCode: familyVariantDTO.familyCode,\r\n        structureType: familyVariantDTO.structureType,\r\n        chapter: this.newEvol.chapter,\r\n        section: this.newEvol.section,\r\n        subject: this.newEvol.subject,\r\n        sheet: this.newEvol.sheet,\r\n        marks: this.newEvol.marks,\r\n        name,\r\n        itemNumber\r\n      };\r\n      this.loadVersionAndISN();\r\n      this.searchPnCodeLabelValue(false);\r\n    }\r\n  }\r\n\r\n  public loadVersionAndISN() {\r\n    this.impactsEvolPopupFormService.findEvolutionItemVersion(this.bireItemDTO).subscribe(\r\n      (results) => {\r\n        this.versions = results;\r\n        this.newEvol.versionNumber = this.versions[0].label;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetVersion'));\r\n      }\r\n    );\r\n\r\n    this.impactsEvolPopupFormService.findAllIsnAtasAsStrings().subscribe(\r\n      (results) => {\r\n        this.isn = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetISN'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public onSelectedActionType() {\r\n    this.actionInterchangeability = this.newEvol.actionTypeCode === 'B2' || this.newEvol.actionTypeCode === 'B3';\r\n  }\r\n\r\n  public searchPnCodeBefore() {\r\n    if (!!this.variantCode) {\r\n      this.showPnBeforeDialog = true;\r\n      const pnCodeInput = this.selectedPnBefore === undefined ? undefined : this.selectedPnBefore + '%';\r\n      const birePnDTOCriteria: BirePnDTO = {\r\n        pnCode: pnCodeInput,\r\n        pnType: undefined\r\n      };\r\n      const findBirePnsBySearchCriteriaInput: FindBirePnsBySearchCriteriaPSMInput = {\r\n        birePnDTOCriteria,\r\n        familyCode: this.bireItemDTO.familyCode,\r\n        structureType: this.bireItemDTO.structureType,\r\n        variantCode: this.bireItemDTO.variantCode\r\n      };\r\n      this.dialogTableDataPnBefore = {\r\n        componentId: 'ImpactsEvolPopupDialog',\r\n        tableRows: this.impactsEvolPopupFormService.findBirePnsBySearchCriteria(findBirePnsBySearchCriteriaInput),\r\n        tableCols: [\r\n          { field: 'pnCode', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n          { field: 'articleDesignation', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n          { field: 'manufacturerOtanCode', width: '250px', filterMode: TableColumnFilterMode.Input },\r\n          { field: 'otanPnReference', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n          { field: 'quantityUnit', width: '200px', filterMode: TableColumnFilterMode.Input }\r\n        ],\r\n        exportExcel: true,\r\n        globalFilter: true,\r\n        dataKey: undefined,\r\n        selectionMode: TableSelectionMode.Single\r\n      };\r\n    }\r\n  }\r\n\r\n  public searchPnCodeLabelValue(initData: boolean) {\r\n    const birePnDTOCriteria: BirePnDTO = {\r\n      pnCode: undefined\r\n    };\r\n    const findBirePnsBySearchCriteriaInput: FindBirePnsBySearchCriteriaPSMInput = {\r\n      birePnDTOCriteria,\r\n      familyCode: this.bireItemDTO.familyCode,\r\n      structureType: this.bireItemDTO.structureType,\r\n      variantCode: this.bireItemDTO.variantCode,\r\n      chapter: this.bireItemDTO.chapter,\r\n      mark: this.bireItemDTO.marks,\r\n      section: this.bireItemDTO.section,\r\n      sheet: this.bireItemDTO.sheet,\r\n      subject: this.bireItemDTO.subject\r\n    };\r\n    this.impactsEvolPopupFormService.findBirePnsBySearchCriteriaToLVD(findBirePnsBySearchCriteriaInput).subscribe(\r\n      (results) => {\r\n        const bireItemDTO: BireItemDTO = {\r\n          familyCode: this.bireItemDTO.familyCode,\r\n          structureType: this.bireItemDTO.structureType,\r\n          variantCode: this.bireItemDTO.variantCode,\r\n          chapter: this.bireItemDTO.chapter,\r\n          section: this.bireItemDTO.section,\r\n          sheet: this.bireItemDTO.sheet,\r\n          subject: this.bireItemDTO.subject,\r\n          marks: this.bireItemDTO.marks\r\n        };\r\n\r\n        results.forEach((res) => {\r\n          this.impactsEvolPopupFormService.findBireVersionPnsByItem(bireItemDTO).subscribe((result) => {\r\n            result.forEach((r) => {\r\n              if (r.pnCode === res.value) {\r\n                const num = !r.rf ? ` (${r.versionNumber})` : '';\r\n                res.label = `${r.isnAta} - ${r.pnCode}${num}`;\r\n              }\r\n            });\r\n          });\r\n        });\r\n\r\n        this.pnAfter = [...results];\r\n        this.pnBefore = [...results];\r\n        if (!!initData && !!this.newEvol.pnPnCode) {\r\n          if (!this.pnAfter.find((value) => this.newEvol.pnPnCode === value.label)) {\r\n            this.optionExisting = 'new';\r\n            this.pnPnCodeInput = this.newEvol.pnPnCode;\r\n          } else {\r\n            this.optionExisting = 'existing';\r\n            this.pnPnCode = this.newEvol.pnPnCode;\r\n          }\r\n        }\r\n\r\n        this.pnAfter = [...this.pnAfter];\r\n        this.pnBefore = [...this.pnBefore];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetPN'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public searchPnCodeAfter() {\r\n    if (this.optionExisting === 'new') {\r\n      this.partsSearch = {\r\n        pn: !!this.pnPnCodeInput ? this.pnPnCodeInput : undefined\r\n      };\r\n\r\n      this.showPnAfterDialog = true;\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('fillPnAfter'));\r\n    }\r\n  }\r\n\r\n  public setSelectedPnBefore(selectedObject: BirePnDTO) {\r\n    if (selectedObject) {\r\n      this.selectedPnBefore = selectedObject.pnCode;\r\n      this.pnCode = this.selectedPnBefore;\r\n      this.newEvol.pnCode = this.selectedPnBefore;\r\n      this.selectedPn();\r\n    }\r\n    this.searchPnCodeLabelValue(false);\r\n    this.loadVersionAndISN();\r\n    this.showPnBeforeDialog = false;\r\n  }\r\n\r\n  public selectedPn() {\r\n    const searchCriteria: FindBireItemsBySearchCriteriaInput = {\r\n      bireItemDTOCriteria: this.bireItemDTO,\r\n      attribute: undefined,\r\n      pnCode: this.selectedPnBefore\r\n    };\r\n    this.impactsEvolPopupFormService.FindBireItemsBySearchCriteriaToLVD(searchCriteria).subscribe(\r\n      (result) => {\r\n        this.selectedItem = result[0].label;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetItem'));\r\n      }\r\n    );\r\n    this.impactsEvolPopupFormService.FindBireItemsBySearchCriteria(searchCriteria).subscribe(\r\n      (result) => {\r\n        this.newEvol.chapter = result.list[0].chapter;\r\n        this.newEvol.section = result.list[0].section;\r\n        this.newEvol.subject = result.list[0].subject;\r\n        this.newEvol.sheet = result.list[0].sheet;\r\n        this.newEvol.marks = result.list[0].marks;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetItem'));\r\n      }\r\n    );\r\n    if (!!this.selectedPnBefore) {\r\n      this.selectedPnBeforeDdl = this.selectedPnBefore;\r\n    }\r\n  }\r\n\r\n  public setSelectedPnAfter(selectedObject: PartsAssociatedTableDTO) {\r\n    if (!!selectedObject && !!selectedObject.birePnDTO) {\r\n      this.pnPnCodeInput = selectedObject.birePnDTO.pnCode;\r\n      this.newEvol.pnPnCode = this.pnPnCodeInput;\r\n    }\r\n    this.showPnAfterDialog = false;\r\n  }\r\n\r\n  public onChangePnPnCode() {\r\n    this.newEvol.pnPnCode = this.pnPnCode;\r\n  }\r\n\r\n  public searchApplicability(val: boolean) {\r\n    if (!this.isReadOnlyForm && !!this.variantCode) {\r\n      if (!!this.bireItemDTO.familyCode && !!this.bireItemDTO.structureType && !!this.bireItemDTO.variantCode) {\r\n        const bireVariantVersionDTOId: BireVariantVersionDTOId = {\r\n          familyCode: this.bireItemDTO.familyCode,\r\n          structureType: this.bireItemDTO.structureType,\r\n          variantCode: this.bireItemDTO.variantCode\r\n        };\r\n        val ? (this.showPnApplicabilityDialog = true) : (this.showApplicabilityDialog = true);\r\n        this.dialogTableDataApplicability = {\r\n          componentId: 'ImpactsEvolPopupDialog',\r\n          tableRows: this.impactsEvolPopupFormService.findBireModelsByVariantPK(bireVariantVersionDTOId),\r\n          tableCols: [\r\n            { field: 'modelCode', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n            { field: 'modelName', width: '200px', filterMode: TableColumnFilterMode.Input }\r\n          ],\r\n          exportExcel: false,\r\n          globalFilter: true,\r\n          dataKey: undefined,\r\n          selectionMode: TableSelectionMode.Single\r\n        };\r\n      } else {\r\n        super.throwUnboundLocalError('searchApplicability', 'this.bireItemDTO');\r\n      }\r\n    }\r\n  }\r\n\r\n  public isValidateEnabled() {\r\n    if (!this.variantCode || !this.selectedItem || !this.newEvol.pnCode || !this.newEvol.actionTypeCode) {\r\n      return false;\r\n    }\r\n    if (this.optionExisting === 'existing' && !this.pnPnCode) {\r\n      return false;\r\n    } else if (this.optionExisting === 'new') {\r\n      if (!this.pnPnCodeInput || !this.newEvol.versionNumber) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public onChangeRadio() {\r\n    this.pnPnCode = undefined;\r\n    this.pnPnCodeInput = undefined;\r\n    // this.newEvol.versionNumber = undefined;\r\n    this.selectedIsn = undefined;\r\n    this.pnApplicability = undefined;\r\n  }\r\n\r\n  public setPnSelectedApplicability(event: BireModelDTO) {\r\n    this.pnApplicability = event.modelCode;\r\n    this.showPnApplicabilityDialog = false;\r\n  }\r\n\r\n  public setSelectedApplicability(event: BireModelDTO) {\r\n    this.newEvol.applicability = event.modelCode;\r\n    this.showApplicabilityDialog = false;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { BireActionTypeConstants } from '../../../../../shared/constants/bire-action-type-constants';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { FindBireItemVersionByItemAndPnInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-item-versions-by-item-and-pn-code-input.interface';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { FindBirePnsBySearchCriteriaPSMInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-pns-by-search-criteria-input.interface';\r\nimport { BireItemDTO } from '../../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireItemVersionDTO } from '../../../../../shared/types/api-types/bire-item-version-dto.interface';\r\nimport { BireModelDTO } from '../../../../../shared/types/api-types/bire-model-dto.interface';\r\nimport { BirePnDTO } from '../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireVariantVersionDTOId } from '../../../../../shared/types/api-types/bire-variant-version-dto-id.interface';\r\nimport { BireVersionPnDTO } from '../../../../../shared/types/api-types/bire-version-pn-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ImpactsEvolPopupFormService extends AbstractAwHttpService {\r\n  public isDuplicate: boolean;\r\n\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public isDuplicated(duplicate: boolean) {\r\n    this.isDuplicate = duplicate;\r\n  }\r\n\r\n  public getPnInterchangeabilityMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getPnInterchangeabilityMap');\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCode(): Observable<LabelValue<string>[]> {\r\n    const item: string = BireActionTypeConstants.ACTION_TYPE_B;\r\n\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findAllBireVariantVersions(): Observable<FamilyVariantDTO[]> {\r\n    return super.post<void, FamilyVariantDTO[]>(this.productStructureManagementApi.findAllBireVariantVersions);\r\n  }\r\n\r\n  public FindBireItemsBySearchCriteria(\r\n    findBireItemsBySearchCriteriaInput: FindBireItemsBySearchCriteriaInput\r\n  ): Observable<SearchResultsDTO<BireItemDTO>> {\r\n    return super.post<FindBireItemsBySearchCriteriaInput, SearchResultsDTO<BireItemDTO>>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteria,\r\n      findBireItemsBySearchCriteriaInput\r\n    );\r\n  }\r\n\r\n  public FindBireItemsBySearchCriteriaToLVD(\r\n    findBireItemsBySearchCriteriaInput: FindBireItemsBySearchCriteriaInput\r\n  ): Observable<LabelValue<string>[]> {\r\n    return super.post<FindBireItemsBySearchCriteriaInput, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteriaToLVD,\r\n      findBireItemsBySearchCriteriaInput\r\n    );\r\n  }\r\n\r\n  public findEvolutionItemVersion(itemDTO: BireItemDTO): Observable<LabelValue<string>[]> {\r\n    return super.post<BireItemDTO, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findEvolutionItemVersion,\r\n      itemDTO\r\n    );\r\n  }\r\n\r\n  public findBireItemVersionsByItemAndPnCode(\r\n    findBireItemVersionByItemAndPnInput: FindBireItemVersionByItemAndPnInput\r\n  ): Observable<BireItemVersionDTO[]> {\r\n    return super.post<FindBireItemVersionByItemAndPnInput, BireItemVersionDTO[]>(\r\n      this.productStructureManagementApi.findBireItemVersionsByItemAndPnCode,\r\n      findBireItemVersionByItemAndPnInput\r\n    );\r\n  }\r\n\r\n  public findAllIsnAtasAsStrings(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllIsnAtasAsStrings);\r\n  }\r\n\r\n  public findBirePnsBySearchCriteria(\r\n    findBirePnsBySearchCriteriaInput: FindBirePnsBySearchCriteriaPSMInput\r\n  ): Observable<SearchResultsDTO<BirePnDTO>> {\r\n    return super.post<FindBirePnsBySearchCriteriaPSMInput, SearchResultsDTO<BirePnDTO>>(\r\n      this.productStructureManagementApi.findBirePnsBySearchCriteria,\r\n      findBirePnsBySearchCriteriaInput\r\n    );\r\n  }\r\n\r\n  public findBirePnsBySearchCriteriaToLVD(\r\n    findBirePnsBySearchCriteriaInput: FindBirePnsBySearchCriteriaPSMInput\r\n  ): Observable<LabelValue<string>[]> {\r\n    return super.post<FindBirePnsBySearchCriteriaPSMInput, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBirePnsBySearchCriteriaToLVD,\r\n      findBirePnsBySearchCriteriaInput\r\n    );\r\n  }\r\n\r\n  public findBireModelsByVariantPK(\r\n    bireVariantVersionDTOId: BireVariantVersionDTOId\r\n  ): Observable<SearchResultsDTO<BireModelDTO>> {\r\n    return super.post<BireVariantVersionDTOId, SearchResultsDTO<BireModelDTO>>(\r\n      this.productStructureManagementApi.findBireModelsByVariantPK,\r\n      bireVariantVersionDTOId\r\n    );\r\n  }\r\n\r\n  public findBireVersionPnsByItem(bireItemDTO: BireItemDTO): Observable<BireVersionPnDTO[]> {\r\n    return super.post<BireItemDTO, BireVersionPnDTO[]>(\r\n      this.productStructureManagementApi.findBireVersionPnsByItem,\r\n      bireItemDTO\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".item\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm || !isEditable }\\\">\\r\\n          <div class=\\\"form-control-data\\\" (click)=\\\"searchItems()\\\">\\r\\n            {{ newEvol.chapter }} <span *ngIf=\\\"newEvol.section\\\">- {{ newEvol.section }}</span>\\r\\n            <span *ngIf=\\\"newEvol.subject\\\">- {{ newEvol.subject }}</span>\\r\\n            <span *ngIf=\\\"newEvol.sheet\\\">- {{ newEvol.sheet }}</span>\\r\\n            <span *ngIf=\\\"newEvol.marks\\\">- {{ newEvol.marks }}</span>\\r\\n          </div>\\r\\n\\r\\n          <div\\r\\n            *ngIf=\\\"\\r\\n              newEvol.chapter && newEvol.section && newEvol.subject && newEvol.sheet && newEvol.marks && !isReadOnlyForm\\r\\n            \\\"\\r\\n            class=\\\"btn-clear-wrapper\\\"\\r\\n          >\\r\\n            <i\\r\\n              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n              aria-hidden=\\\"true\\\"\\r\\n              (click)=\\\"\\r\\n                newEvol.chapter = undefined;\\r\\n                newEvol.section = undefined;\\r\\n                newEvol.subject = undefined;\\r\\n                newEvol.sheet = undefined;\\r\\n                newEvol.marks = undefined\\r\\n              \\\"\\r\\n            ></i>\\r\\n          </div>\\r\\n          <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n            <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"searchItems()\\\"></i>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".itemNumber\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"isReadOnlyForm\\\" [(ngModel)]=\\\"itemNumber\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".group\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            [options]=\\\"group\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            [(ngModel)]=\\\"newEvol.inGroup\\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".actionType\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            [options]=\\\"actionType\\\"\\r\\n            [(ngModel)]=\\\"newEvol.actionTypeCode\\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        newEvol.chapter === undefined ||\\r\\n        newEvol.chapter === null ||\\r\\n        newEvol.section === undefined ||\\r\\n        newEvol.section === null ||\\r\\n        newEvol.sheet === undefined ||\\r\\n        newEvol.sheet === null ||\\r\\n        newEvol.subject === undefined ||\\r\\n        newEvol.subject === null ||\\r\\n        newEvol.marks === undefined ||\\r\\n        newEvol.marks === null ||\\r\\n        newEvol.actionTypeCode === undefined ||\\r\\n        newEvol.actionTypeCode === null\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-item\\r\\n  *ngIf=\\\"showItemsDialog\\\"\\r\\n  [(display)]=\\\"showItemsDialog\\\"\\r\\n  (onValidated)=\\\"setSelectedItems($event)\\\"\\r\\n></aw-dialog-search-item>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { BireEvolutionItemDTO } from '../../../../../shared/types/api-types/bire-evolution-item-dto.interface';\r\nimport { BireItemDTO } from '../../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { ArrayUtils } from '../../../../../shared/utils/array-utils';\r\n\r\nimport { ImpactsItemPopupFormService } from './impacts-item-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-impacts-item-popup-form',\r\n  templateUrl: './impacts-item-popup-form.component.html'\r\n})\r\nexport class ImpactsItemPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireEvolutionItemDTO> | null;\r\n\r\n  @Input()\r\n  public isNewImpactsItem: boolean;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireEvolutionItemDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireEvolutionItemDTO>;\r\n\r\n  public newEvol: BireEvolutionItemDTO;\r\n  public displayDialog: boolean;\r\n  public newItem: boolean;\r\n  public isEditable: boolean;\r\n\r\n  public variant: SelectItem[];\r\n  public group: SelectItem[];\r\n  public actionType: SelectItem[];\r\n  public actionTypeCode: string;\r\n  public itemNumber: string | undefined;\r\n\r\n  public dialogTableDataItems: DialogTableData<BireItemDTO>;\r\n  public showItemsDialog: boolean;\r\n  public familyVariantMap: Map<LabelValue<string>, FamilyVariantDTO>;\r\n\r\n  public constructor(\r\n    public impactsItemPopupFormService: ImpactsItemPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ImpactsItemPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireEvolutionItemDTO>();\r\n    this.onUpdate = new EventEmitter<BireEvolutionItemDTO>();\r\n\r\n    this.displayDialog = false;\r\n    this.newItem = false;\r\n    this.showItemsDialog = false;\r\n\r\n    this.newEvol = {};\r\n    this.familyVariantMap = new Map<LabelValue<string>, FamilyVariantDTO>();\r\n\r\n    this.loadItems();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {\r\n      this.newEvol = this.componentData.object as BireEvolutionItemDTO;\r\n      if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {\r\n        this.isEditable = true;\r\n        this.isReadOnlyForm = false;\r\n      } else {\r\n        this.isEditable = false;\r\n\r\n        const bire: BireItemDTO = {\r\n          familyCode: this.newEvol.familyCode,\r\n          variantCode: this.newEvol.variantCode,\r\n          structureType: this.newEvol.structureType,\r\n          chapter: this.newEvol.chapter,\r\n          section: this.newEvol.section,\r\n          sheet: this.newEvol.sheet,\r\n          subject: this.newEvol.subject,\r\n          marks: this.newEvol.marks\r\n        };\r\n        const criteria: FindBireItemsBySearchCriteriaInput = {\r\n          bireItemDTOCriteria: bire\r\n        };\r\n        this.impactsItemPopupFormService.findBireItemsBySearchCriteria(criteria).subscribe((results) => {\r\n          this.itemNumber = results.list[0].itemNumber;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.displayDialog = true;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newItem = false;\r\n    this.newEvol = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (\r\n      this.newEvol.chapter &&\r\n      this.newEvol.section &&\r\n      this.newEvol.sheet &&\r\n      this.newEvol.subject &&\r\n      this.newEvol.marks &&\r\n      this.newEvol.actionTypeCode\r\n    ) {\r\n      if (this.isNewImpactsItem) {\r\n        this.onCreate.emit(this.newEvol);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.newEvol);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  private loadItems(): void {\r\n    this.impactsItemPopupFormService.findAllBireVariantVersions().subscribe(\r\n      (results) => {\r\n        const variantList = new Array<LabelValue<string>>();\r\n        results.forEach((element) => {\r\n          if (!!element.labelValueDTO) {\r\n            variantList.push(element.labelValueDTO);\r\n            this.familyVariantMap.set(element.labelValueDTO, element);\r\n          } else {\r\n            super.throwUnboundLocalError('loadItems', 'element.labelValueDTO');\r\n          }\r\n        });\r\n        this.variant = variantList;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetVariant'));\r\n      }\r\n    );\r\n    this.impactsItemPopupFormService.findBireActionTypesByActionTypeCode().subscribe(\r\n      (results) => {\r\n        this.actionType = results.sort(ArrayUtils.compareValues('label'));\r\n        this.newEvol.actionTypeCode = this.actionType[0].value as string;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetActionType'));\r\n      }\r\n    );\r\n\r\n    const list = new Array<LabelValue<string>>();\r\n    const groupSize = 10;\r\n    for (let i = 0; i < groupSize; i++) {\r\n      const group: LabelValue<string> = {\r\n        label: String(i),\r\n        value: String(i)\r\n      };\r\n      list.push(group);\r\n    }\r\n    this.group = list;\r\n  }\r\n\r\n  public searchItems() {\r\n    if (!this.isReadOnlyForm && this.isEditable) {\r\n      this.showItemsDialog = true;\r\n\r\n      const itemCol: TableColumn[] = [\r\n        { field: 'familyCode', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'structureType', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'variantCode', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'name', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'chapter', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'section', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'subject', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'sheet', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'marks', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'functionCode', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'itemNumber', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'itemType', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'flocType', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'itemFamily', filterMode: TableColumnFilterMode.Input },\r\n        { field: 'configurableItem', filterMode: TableColumnFilterMode.Tricheckbox }\r\n      ];\r\n      const chapter = !this.newEvol.chapter ? undefined : this.newEvol.chapter + '%';\r\n      const section = !this.newEvol.section ? undefined : this.newEvol.section + '%';\r\n      const sheet = !this.newEvol.sheet ? undefined : this.newEvol.sheet + '%';\r\n      const subject = !this.newEvol.subject ? undefined : this.newEvol.subject + '%';\r\n      const marks = !this.newEvol.marks ? undefined : this.newEvol.marks + '%';\r\n      const bire: BireItemDTO = {\r\n        familyCode: this.newEvol.familyCode,\r\n        variantCode: this.newEvol.variantCode,\r\n        structureType: this.newEvol.structureType,\r\n        chapter,\r\n        section,\r\n        sheet,\r\n        subject,\r\n        marks\r\n      };\r\n      const criteria: FindBireItemsBySearchCriteriaInput = {\r\n        bireItemDTOCriteria: bire\r\n      };\r\n      this.dialogTableDataItems = {\r\n        componentId: 'ImpactsItemPopupDialog',\r\n        tableCols: itemCol,\r\n        tableRows: this.impactsItemPopupFormService.findBireItemsBySearchCriteria(criteria),\r\n        dataKey: undefined,\r\n        selectionMode: TableSelectionMode.Single,\r\n        globalFilter: true\r\n      };\r\n    }\r\n  }\r\n\r\n  public setSelectedItems(selectedObject: BireItemDTO) {\r\n    if (selectedObject) {\r\n      this.newEvol.familyCode = selectedObject.familyCode;\r\n      this.newEvol.structureType = selectedObject.structureType;\r\n      this.newEvol.variantCode = selectedObject.variantCode;\r\n      this.newEvol.section = selectedObject.section;\r\n      this.newEvol.marks = selectedObject.marks;\r\n      this.newEvol.chapter = selectedObject.chapter;\r\n      this.newEvol.sheet = selectedObject.sheet;\r\n      this.newEvol.subject = selectedObject.subject;\r\n      this.newEvol.statusDate = selectedObject.statusDate;\r\n      this.newEvol.statusUser = selectedObject.statusUser;\r\n      this.newEvol.statusState = selectedObject.statusState;\r\n      this.itemNumber = selectedObject.itemNumber;\r\n    }\r\n    this.showItemsDialog = false;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { BireActionTypeConstants } from '../../../../../shared/constants/bire-action-type-constants';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { BireItemDTO } from '../../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ImpactsItemPopupFormService extends AbstractAwHttpService {\r\n  public isDuplicate: boolean;\r\n\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public isDuplicated(duplicate: boolean) {\r\n    this.isDuplicate = duplicate;\r\n  }\r\n\r\n  public findBireItemsBySearchCriteria(\r\n    criteria: FindBireItemsBySearchCriteriaInput\r\n  ): Observable<SearchResultsDTO<BireItemDTO>> {\r\n    return super.post<FindBireItemsBySearchCriteriaInput, SearchResultsDTO<BireItemDTO>>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public findBireItemsBySearchCriteriaToLVD(): Observable<BireItemDTO[]> {\r\n    return super.post<void, BireItemDTO[]>(this.productStructureManagementApi.findBireItemsBySearchCriteriaToLVD);\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCode(): Observable<LabelValue<string>[]> {\r\n    const item: string = BireActionTypeConstants.ACTION_TYPE_A;\r\n\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findAllBireVariantVersions(): Observable<FamilyVariantDTO[]> {\r\n    return super.post<void, FamilyVariantDTO[]>(this.productStructureManagementApi.findAllBireVariantVersions);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"60\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".item\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm || !isEditable }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchItems()\\\">\\r\\n              {{ newEvol.chapter }}\\r\\n              <span *ngIf=\\\"newEvol.section\\\"> - {{ newEvol.section }}</span>\\r\\n              <span *ngIf=\\\"newEvol.subject\\\"> - {{ newEvol.subject }}</span>\\r\\n              <span *ngIf=\\\"newEvol.sheet\\\"> - {{ newEvol.sheet }}</span>\\r\\n              <span *ngIf=\\\"newEvol.marks\\\"> - {{ newEvol.marks }}</span>\\r\\n            </div>\\r\\n\\r\\n            <div\\r\\n              *ngIf=\\\"\\r\\n                newEvol.chapter &&\\r\\n                newEvol.section &&\\r\\n                newEvol.subject &&\\r\\n                newEvol.sheet &&\\r\\n                newEvol.marks &&\\r\\n                !isReadOnlyForm\\r\\n              \\\"\\r\\n              class=\\\"btn-clear-wrapper\\\"\\r\\n            >\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"\\r\\n                  newEvol.chapter = undefined;\\r\\n                  newEvol.section = undefined;\\r\\n                  newEvol.subject = undefined;\\r\\n                  newEvol.sheet = undefined;\\r\\n                  newEvol.marks = undefined;\\r\\n                  newEvol.versionNumber = undefined\\r\\n                \\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"searchItems()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".itemNumber\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" [disabled]=\\\"isReadOnlyForm\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"itemNumber\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".existingPn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-radioButton\\r\\n              class=\\\"aw-radiobutton\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              value=\\\"existing\\\"\\r\\n              [(ngModel)]=\\\"optionExisting\\\"\\r\\n              inputId=\\\"existing\\\"\\r\\n              (onClick)=\\\"onChangeRadio()\\\"\\r\\n            ></p-radioButton>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".newPn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-radioButton\\r\\n              class=\\\"aw-radiobutton\\\"\\r\\n              value=\\\"new\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [(ngModel)]=\\\"optionExisting\\\"\\r\\n              inputId=\\\"new\\\"\\r\\n              (onClick)=\\\"onChangeRadio()\\\"\\r\\n            ></p-radioButton>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"optionExisting && optionExisting === 'existing'\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ \\\"global.pn\\\" | translate }}</label>\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              [disabled]=\\\"optionExisting !== 'existing' || isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [options]=\\\"pnAfter\\\"\\r\\n              [(ngModel)]=\\\"pnCodeDdl\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"optionExisting && optionExisting !== 'existing'\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ \\\"global.pn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm || !isEditable }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchPnCode()\\\">{{ pnCodeInput }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"pnCodeInput\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"pnCodeInput = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"searchPnCode()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"optionExisting\\\" class=\\\"form-group\\\"></div>\\r\\n        <div *ngIf=\\\"!optionExisting\\\" class=\\\"form-group flex--2\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"optionExisting && optionExisting == 'new'\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".itemVersion\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"versions\\\"\\r\\n              [(ngModel)]=\\\"selectedVersion\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group \\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".isn\\\" | translate }}</label>\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"isn\\\"\\r\\n              [(ngModel)]=\\\"selectedIsn\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group \\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".pnApplicability\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchPnApplicability(true)\\\">{{ pnApplicability }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"pnApplicability\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"pnApplicability = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"searchApplicability(true)\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group \\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".duplicateISN\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-checkbox\\r\\n              class=\\\"aw-checkbox\\\"\\r\\n              [(ngModel)]=\\\"duplicate\\\"\\r\\n              value=\\\"duplicateISN\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              binary=\\\"true\\\"\\r\\n            ></p-checkbox>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".action\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"actionType\\\"\\r\\n              [(ngModel)]=\\\"newEvol.actionTypeCode\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".applicability\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"searchApplicability(false)\\\">{{ newEvol.applicability }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"newEvol.applicability\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"newEvol.applicability = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"searchApplicability(false)\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ \\\"global.comment\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <textarea\\r\\n              class=\\\"aw-textarea\\\"\\r\\n              [rows]=\\\"3\\\"\\r\\n              pInputTextarea\\r\\n              [(ngModel)]=\\\"newEvol.evolutionRemarks\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            ></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"!isValidateEnabled()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n<aw-dialog-search-part\\r\\n  *ngIf=\\\"showPnDialog\\\"\\r\\n  [(display)]=\\\"showPnDialog\\\"\\r\\n  (onValidated)=\\\"setSelectedPn($event)\\\"\\r\\n  [searchObject]=\\\"partsSearch\\\"\\r\\n></aw-dialog-search-part>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showPnApplicabilityDialog\\\"\\r\\n  [(display)]=\\\"showPnApplicabilityDialog\\\"\\r\\n  [data]=\\\"dialogTableDataApplicability\\\"\\r\\n  (onSelected)=\\\"setPnSelectedApplicability($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showApplicabilityDialog\\\"\\r\\n  [(display)]=\\\"showApplicabilityDialog\\\"\\r\\n  [data]=\\\"dialogTableDataApplicability\\\"\\r\\n  (onSelected)=\\\"setSelectedApplicability($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-search-item\\r\\n  *ngIf=\\\"showItemsDialog\\\"\\r\\n  [(display)]=\\\"showItemsDialog\\\"\\r\\n  (onValidated)=\\\"setSelectedItems($event)\\\"\\r\\n></aw-dialog-search-item>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { FindBirePnsBySearchCriteriaPSMInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-pns-by-search-criteria-input.interface';\r\nimport { PartsSearchInput } from '../../../../../shared/types/api-input-types/task-management/parts-search-input.interface';\r\nimport { PartsAssociatedTableDTO } from '../../../../../shared/types/api-output-types/task-management/parts-associated-table-dto.interface';\r\nimport { BireEvolutionPnDTO } from '../../../../../shared/types/api-types/bire-evolution-pn-dto.interface';\r\nimport { BireItemDTO } from '../../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireModelDTO } from '../../../../../shared/types/api-types/bire-model-dto.interface';\r\nimport { BirePnDTO } from '../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireVariantVersionDTOId } from '../../../../../shared/types/api-types/bire-variant-version-dto-id.interface';\r\nimport { FamilyVariantDTO } from '../../../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\nimport { ArrayUtils } from '../../../../../shared/utils/array-utils';\r\nimport { ImpactsItemPopupFormService } from '../impacts-item-popup-form/impacts-item-popup-form.service';\r\n\r\nimport { ImpactsPopupFormService } from './impacts-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-impacts-popup-form',\r\n  templateUrl: './impacts-popup-form.component.html'\r\n})\r\nexport class ImpactsPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireEvolutionPnDTO> | null;\r\n\r\n  @Input()\r\n  public isNewImpacts: boolean;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireEvolutionPnDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireEvolutionPnDTO>;\r\n\r\n  public newEvol: BireEvolutionPnDTO;\r\n  public displayDialog: boolean;\r\n  public selectedEvolutions: BireEvolutionPnDTO[];\r\n\r\n  public optionExisting: string;\r\n  public variant: SelectItem[];\r\n  public pn: SelectItem[];\r\n  public actionType: SelectItem[];\r\n  public item: LabelValue<string>[];\r\n  public versions: LabelValue<string>[];\r\n  public isn: LabelValue<string>[];\r\n  public actionTypeCode: string;\r\n  public pnCode: string;\r\n  public applicability: string;\r\n  public evolutionRemarks: string;\r\n\r\n  public pnTable: BirePnDTO[];\r\n  public selectedPnTable: BirePnDTO[];\r\n  public pnTableTableCols: TableColumn[];\r\n  public pnTableFilteredRowsNb: number;\r\n  public familyVariantMap: Map<LabelValue<string>, FamilyVariantDTO>;\r\n\r\n  public variantCode: string;\r\n  public bireItemDTO: BireItemDTO;\r\n  public selectedItem: string;\r\n  public pnCodeInput: string | undefined;\r\n  public pnCodeDdl: string | undefined;\r\n  public itemNumber: string | undefined;\r\n  public selectedIsn: string | undefined;\r\n  public selectedVersion: string | undefined;\r\n  public pnAfter: LabelValue<string>[];\r\n  public duplicate: boolean;\r\n\r\n  // POPUP\r\n  public dialogTableData: DialogTableData<BirePnDTO>;\r\n  public dialogTableDataPn: DialogTableData<BirePnDTO>;\r\n  public dialogTableDataApplicability: DialogTableData<BireModelDTO>;\r\n  public dialogTableDataItems: DialogTableData<BireItemDTO>;\r\n  public showItemsDialog: boolean;\r\n  public showApplicabilityDialog: boolean;\r\n  public showPnDialog: boolean;\r\n  public isEditable: boolean;\r\n\r\n  public pnApplicability: string | undefined;\r\n  public showPnApplicabilityDialog: boolean = false;\r\n  public partsSearch: PartsSearchInput;\r\n  public constructor(\r\n    public impactsPopupFormService: ImpactsPopupFormService,\r\n    public impactsItemPopupFormService: ImpactsItemPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ImpactsPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireEvolutionPnDTO>();\r\n    this.onUpdate = new EventEmitter<BireEvolutionPnDTO>();\r\n\r\n    this.displayDialog = false;\r\n    this.selectedEvolutions = [];\r\n    this.optionExisting = 'existing';\r\n    this.newEvol = {};\r\n    this.familyVariantMap = new Map<LabelValue<string>, FamilyVariantDTO>();\r\n    this.partsSearch = {};\r\n    this.loadItems();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (\r\n      this.componentData &&\r\n      this.componentData.componentId &&\r\n      this.componentData.object &&\r\n      this.componentData.componentId.length > 0\r\n    ) {\r\n      this.newEvol = this.componentData.object;\r\n      this.pnCodeDdl = this.componentData.object.pnCode;\r\n      if (!!this.componentData.selectedRow) {\r\n        this.selectedEvolutions = this.componentData.selectedRow;\r\n      }\r\n\r\n      this.duplicate = false;\r\n\r\n      if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {\r\n        this.isEditable = true;\r\n      } else {\r\n        this.isEditable = false;\r\n\r\n        this.fillPopup();\r\n      }\r\n    }\r\n  }\r\n\r\n  private fillPopup() {\r\n    this.variantCode = `${this.newEvol.familyCode}-${this.newEvol.structureType}-${this.newEvol.variantCode}`;\r\n    this.bireItemDTO = {\r\n      variantCode: this.newEvol.variantCode,\r\n      familyCode: this.newEvol.familyCode,\r\n      structureType: this.newEvol.structureType,\r\n      chapter: this.newEvol.chapter,\r\n      subject: this.newEvol.subject,\r\n      sheet: this.newEvol.sheet,\r\n      marks: this.newEvol.marks,\r\n      section: this.newEvol.section\r\n    };\r\n\r\n    const criteria: FindBireItemsBySearchCriteriaInput = {\r\n      bireItemDTOCriteria: this.bireItemDTO\r\n    };\r\n    this.impactsItemPopupFormService.findBireItemsBySearchCriteria(criteria).subscribe((results) => {\r\n      this.itemNumber = results.list[0].itemNumber;\r\n    });\r\n\r\n    this.searchPnCodeLabelValue(true);\r\n    this.loadVersionAndISN();\r\n    this.selectedIsn = '_';\r\n    this.selectedVersion = '1';\r\n  }\r\n\r\n  public onShow() {\r\n    this.displayDialog = true;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newEvol = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    this.newEvol.pnCode = this.pnCodeInput === null || !this.pnCodeInput ? this.pnCodeDdl : this.pnCodeInput;\r\n    if (\r\n      this.newEvol.variantCode &&\r\n      this.newEvol.actionTypeCode &&\r\n      this.newEvol.chapter &&\r\n      this.newEvol.section &&\r\n      this.newEvol.sheet &&\r\n      this.newEvol.marks &&\r\n      this.newEvol.subject &&\r\n      this.newEvol.pnCode\r\n    ) {\r\n      if (this.optionExisting === 'new') {\r\n        this.newEvol.newPn = true;\r\n        this.newEvol.duplicateFields = this.duplicate;\r\n        this.newEvol.isn = this.selectedIsn;\r\n        if (!!this.selectedVersion) {\r\n          this.newEvol.itemVersion = this.selectedVersion;\r\n        }\r\n      } else {\r\n        this.newEvol.newPn = false;\r\n      }\r\n\r\n      if (this.isNewImpacts) {\r\n        this.onCreate.emit(this.newEvol);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.newEvol);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  private loadItems(): void {\r\n    this.impactsPopupFormService.findAllBireVariantVersions().subscribe(\r\n      (results) => {\r\n        const list = new Array<LabelValue<string>>();\r\n        results.forEach((element) => {\r\n          if (!!element.labelValueDTO) {\r\n            list.push(element.labelValueDTO);\r\n            this.familyVariantMap.set(element.labelValueDTO, element);\r\n          } else {\r\n            super.throwUnboundLocalError('loadItems', 'element.labelValueDTO');\r\n          }\r\n        });\r\n        this.variant = list;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetVariant'));\r\n      }\r\n    );\r\n    this.impactsPopupFormService.findBireActionTypesByActionTypeCode().subscribe(\r\n      (results) => {\r\n        this.actionType = results.sort(ArrayUtils.compareValues('label'));\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage('global.errorOnGetActionType');\r\n      }\r\n    );\r\n  }\r\n\r\n  public onChangeVariant() {\r\n    this.newEvol = {};\r\n    this.itemNumber = undefined;\r\n    this.optionExisting = 'existing';\r\n    this.onChangeRadio();\r\n    if (this.variantCode != undefined) {\r\n      let familyVariantDTO: FamilyVariantDTO = {};\r\n      this.familyVariantMap.forEach((element) => {\r\n        if (!!element.labelValueDTO && element.labelValueDTO.value === this.variantCode) {\r\n          familyVariantDTO = element;\r\n        }\r\n      });\r\n      this.bireItemDTO = {\r\n        variantCode: familyVariantDTO.variantCode,\r\n        familyCode: familyVariantDTO.familyCode,\r\n        structureType: familyVariantDTO.structureType\r\n      };\r\n      this.newEvol.familyCode = familyVariantDTO.familyCode;\r\n      this.newEvol.variantCode = familyVariantDTO.variantCode;\r\n      this.newEvol.structureType = familyVariantDTO.structureType;\r\n      const pnCode = this.pnCodeInput ? this.pnCodeInput : undefined;\r\n      const searchCriteria: FindBireItemsBySearchCriteriaInput = {\r\n        bireItemDTOCriteria: this.bireItemDTO,\r\n        attribute: undefined,\r\n        pnCode\r\n      };\r\n      this.impactsPopupFormService.findBireItemsBySearchCriteriaToLVD(searchCriteria).subscribe(\r\n        (results) => {\r\n          this.item = results;\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetItem'));\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  public onChangeRadio() {\r\n    this.pnCodeDdl = undefined;\r\n    this.pnCodeInput = undefined;\r\n    this.selectedVersion = undefined;\r\n    this.selectedIsn = undefined;\r\n  }\r\n\r\n  public searchItems() {\r\n    if (!this.isReadOnlyForm) {\r\n      this.showItemsDialog = true;\r\n    }\r\n  }\r\n\r\n  public searchPnCode() {\r\n    if (!this.isReadOnlyForm && this.isEditable) {\r\n      if (this.optionExisting === 'new') {\r\n        this.partsSearch = {\r\n          pn: !!this.pnCodeInput ? this.pnCodeInput : undefined\r\n        };\r\n        this.showPnDialog = true;\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearchPN'));\r\n      }\r\n    }\r\n  }\r\n\r\n  public searchPnCodeLabelValue(initData: boolean) {\r\n    const birePnDTOCriteria: BirePnDTO = {\r\n      pnCode: undefined\r\n    };\r\n    const findBirePnsBySearchCriteriaInput: FindBirePnsBySearchCriteriaPSMInput = {\r\n      birePnDTOCriteria,\r\n      familyCode: this.bireItemDTO.familyCode,\r\n      structureType: this.bireItemDTO.structureType,\r\n      variantCode: this.bireItemDTO.variantCode,\r\n      chapter: this.bireItemDTO.chapter,\r\n      mark: this.bireItemDTO.marks,\r\n      section: this.bireItemDTO.section,\r\n      sheet: this.bireItemDTO.sheet,\r\n      subject: this.bireItemDTO.subject\r\n    };\r\n    this.impactsPopupFormService.findBirePnsBySearchCriteriaToLVD(findBirePnsBySearchCriteriaInput).subscribe(\r\n      (results) => {\r\n        this.pnAfter = results;\r\n\r\n        if (!!initData && !!this.newEvol.pnCode) {\r\n          if (!this.pnAfter.find((value) => this.newEvol.pnCode === value.label)) {\r\n            this.optionExisting = 'new';\r\n            this.pnCodeInput = this.newEvol.pnCode;\r\n          } else {\r\n            this.optionExisting = 'existing';\r\n            this.pnCodeDdl = this.newEvol.pnCode;\r\n          }\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetPN'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public setSelectedItems(selectedObject: BireItemDTO) {\r\n    if (selectedObject) {\r\n      this.newEvol.chapter = selectedObject.chapter;\r\n      this.newEvol.section = selectedObject.section;\r\n      this.newEvol.subject = selectedObject.subject;\r\n      this.newEvol.sheet = selectedObject.sheet;\r\n      this.newEvol.marks = selectedObject.marks;\r\n      this.newEvol.statusDate = selectedObject.statusDate;\r\n      this.newEvol.statusUser = selectedObject.statusUser;\r\n      this.newEvol.statusState = selectedObject.statusState;\r\n      this.newEvol.variantCode = selectedObject.variantCode;\r\n      this.newEvol.familyCode = selectedObject.familyCode;\r\n      this.newEvol.structureType = selectedObject.structureType;\r\n      this.itemNumber = selectedObject.itemNumber;\r\n      this.variantCode = selectedObject.variantCode as string;\r\n      this.bireItemDTO = selectedObject;\r\n      this.loadVersionAndISN();\r\n      this.searchPnCodeLabelValue(false);\r\n    }\r\n    this.showItemsDialog = false;\r\n  }\r\n\r\n  public loadVersionAndISN() {\r\n    this.impactsPopupFormService.findEvolutionItemVersion(this.bireItemDTO).subscribe(\r\n      (results) => {\r\n        this.versions = results;\r\n        this.selectedVersion = results[0].value;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetVersion'));\r\n      }\r\n    );\r\n\r\n    this.impactsPopupFormService.findAllIsnAtasAsStrings().subscribe(\r\n      (results) => {\r\n        this.isn = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetISN'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public searchApplicability(val: boolean) {\r\n    if (!this.isReadOnlyForm && !!this.variantCode) {\r\n      if (!!this.bireItemDTO.familyCode && !!this.bireItemDTO.structureType && !!this.bireItemDTO.variantCode) {\r\n        const bireVariantVersionDTOId: BireVariantVersionDTOId = {\r\n          familyCode: this.bireItemDTO.familyCode,\r\n          structureType: this.bireItemDTO.structureType,\r\n          variantCode: this.bireItemDTO.variantCode\r\n        };\r\n        val ? (this.showPnApplicabilityDialog = true) : (this.showApplicabilityDialog = true);\r\n        this.dialogTableDataApplicability = {\r\n          componentId: 'ImpactsPopupDialog',\r\n          tableRows: this.impactsPopupFormService.findBireModelsByVariantPK(bireVariantVersionDTOId),\r\n          tableCols: [\r\n            { field: 'modelCode', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n            { field: 'modelName', width: '200px', filterMode: TableColumnFilterMode.Input }\r\n          ],\r\n          exportExcel: false,\r\n          globalFilter: true,\r\n          dataKey: undefined,\r\n          selectionMode: TableSelectionMode.Single\r\n        };\r\n      } else {\r\n        super.throwUnboundLocalError('searchAvailability', 'this.bireItemDTO');\r\n      }\r\n    }\r\n  }\r\n\r\n  public setSelectedPn(selectedObject: PartsAssociatedTableDTO) {\r\n    if (!!selectedObject && !!selectedObject.birePnDTO) {\r\n      this.pnCodeInput = selectedObject.birePnDTO.pnCode;\r\n    }\r\n    this.loadVersionAndISN();\r\n    this.showPnDialog = false;\r\n  }\r\n\r\n  public setPnSelectedApplicability(event: BireModelDTO) {\r\n    this.pnApplicability = event.modelCode;\r\n    this.showPnApplicabilityDialog = false;\r\n  }\r\n\r\n  public setSelectedApplicability(event: BireModelDTO) {\r\n    this.newEvol.applicability = event.modelCode;\r\n    this.showApplicabilityDialog = false;\r\n  }\r\n\r\n  public isValidateEnabled() {\r\n    if (\r\n      !this.variantCode ||\r\n      (!this.newEvol.chapter &&\r\n        !this.newEvol.section &&\r\n        !this.newEvol.subject &&\r\n        !this.newEvol.sheet &&\r\n        !this.newEvol.marks) ||\r\n      !this.newEvol.actionTypeCode\r\n    ) {\r\n      return false;\r\n    }\r\n    if (this.optionExisting === 'existing' && !this.pnCodeDdl) {\r\n      return false;\r\n    } else if (this.optionExisting === 'new') {\r\n      if (!this.pnCodeInput || !this.selectedVersion || !this.selectedIsn) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { BireActionTypeConstants } from '../../../../../shared/constants/bire-action-type-constants';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { FindBirePnsBySearchCriteriaPSMInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-pns-by-search-criteria-input.interface';\r\nimport { BireEvolutionPnDTOId } from '../../../../../shared/types/api-types/bire-evolution-pn-dto-id.interface';\r\nimport { BireItemDTO } from '../../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireModelDTO } from '../../../../../shared/types/api-types/bire-model-dto.interface';\r\nimport { BirePnDTO } from '../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireVariantVersionDTOId } from '../../../../../shared/types/api-types/bire-variant-version-dto-id.interface';\r\nimport { FamilyVariantDTO } from '../../../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ImpactsPopupFormService extends AbstractAwHttpService {\r\n  public isDuplicate: boolean;\r\n\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireItemsBySearchCriteriaToLVD(\r\n    findBireItemsBySearchCriteriaInput: FindBireItemsBySearchCriteriaInput\r\n  ): Observable<LabelValue<string>[]> {\r\n    return super.post<FindBireItemsBySearchCriteriaInput, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteriaToLVD,\r\n      findBireItemsBySearchCriteriaInput\r\n    );\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCode(): Observable<LabelValue<string>[]> {\r\n    const item: string = BireActionTypeConstants.ACTION_TYPE_A;\r\n\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findAllBireVariantVersions(): Observable<FamilyVariantDTO[]> {\r\n    return super.post<void, FamilyVariantDTO[]>(this.productStructureManagementApi.findAllBireVariantVersions);\r\n  }\r\n\r\n  public removeBireImpact(impact: BireEvolutionPnDTOId): Observable<boolean> {\r\n    // TODO\r\n    return of(true);\r\n  }\r\n\r\n  public findBirePnsBySearchCriteria(\r\n    findBirePnsBySearchCriteriaInput: FindBirePnsBySearchCriteriaPSMInput\r\n  ): Observable<SearchResultsDTO<BirePnDTO>> {\r\n    return super.post<FindBirePnsBySearchCriteriaPSMInput, SearchResultsDTO<BirePnDTO>>(\r\n      this.productStructureManagementApi.findBirePnsBySearchCriteria,\r\n      findBirePnsBySearchCriteriaInput\r\n    );\r\n  }\r\n\r\n  public findBirePnsBySearchCriteriaToLVD(\r\n    findBirePnsBySearchCriteriaInput: FindBirePnsBySearchCriteriaPSMInput\r\n  ): Observable<LabelValue<string>[]> {\r\n    return super.post<FindBirePnsBySearchCriteriaPSMInput, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBirePnsBySearchCriteriaToLVD,\r\n      findBirePnsBySearchCriteriaInput\r\n    );\r\n  }\r\n\r\n  public findBireModelsByVariantPK(\r\n    bireVariantVersionDTOId: BireVariantVersionDTOId\r\n  ): Observable<SearchResultsDTO<BireModelDTO>> {\r\n    return super.post<BireVariantVersionDTOId, SearchResultsDTO<BireModelDTO>>(\r\n      this.productStructureManagementApi.findBireModelsByVariantPK,\r\n      bireVariantVersionDTOId\r\n    );\r\n  }\r\n\r\n  public findEvolutionItemVersion(itemDTO: BireItemDTO): Observable<LabelValue<string>[]> {\r\n    return super.post<BireItemDTO, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findEvolutionItemVersion,\r\n      itemDTO\r\n    );\r\n  }\r\n\r\n  public findAllIsnAtasAsStrings(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllIsnAtasAsStrings);\r\n  }\r\n\r\n  public findBireItemsBySearchCriteria(\r\n    criteria: FindBireItemsBySearchCriteriaInput\r\n  ): Observable<SearchResultsDTO<BireItemDTO>> {\r\n    return super.post<FindBireItemsBySearchCriteriaInput, SearchResultsDTO<BireItemDTO>>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteria,\r\n      criteria\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"50\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"showFamilyCode()\\\">{{ newEvol.familyCode }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"newEvol.familyCode && !isReadOnlyForm\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"\\r\\n                  newEvol.familyCode = undefined; newEvol.structureType = undefined; newEvol.variantCode = undefined\\r\\n                \\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showFamilyCode()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'visibility--hidden': !newEvol.structureType }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".structureType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newEvol.structureType\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'visibility--hidden': !newEvol.structureType }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".variantCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newEvol.variantCode\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".evolutionNumber\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"showEvolutionNumber()\\\">{{ newEvol.evoEvolutionNumber }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"newEvol.evoEvolutionNumber && !isReadOnlyForm\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"newEvol.evoEvolutionNumber = undefined; newEvol.evoEvolutionRevisionNumber = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOnlyForm\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showEvolutionNumber()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ 'visibility--hidden': !newEvol.evoEvolutionRevisionNumber }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".evolutionRevisionNumber\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"true\\\" [(ngModel)]=\\\"newEvol.evoEvolutionRevisionNumber\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".interdependence\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"interdependence\\\"\\r\\n              [(ngModel)]=\\\"newEvol.interdependenceCode\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group flex--2\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        newEvol.evoEvolutionNumber === undefined ||\\r\\n        newEvol.evoEvolutionNumber === null ||\\r\\n        newEvol.interdependenceCode === undefined ||\\r\\n        newEvol.interdependenceCode === null\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showFamilyCodeDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showFamilyCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataFamilyCode\\\"\\r\\n  (onSelected)=\\\"setSelectedFamilyCode($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\\r\\n<aw-dialog-search-evolution\\r\\n  *ngIf=\\\"showEvolutionNumberDialog\\\"\\r\\n  [(display)]=\\\"showEvolutionNumberDialog\\\"\\r\\n  [evolutionNumber]=\\\"newEvol.evoEvolutionNumber\\\"\\r\\n  [evolutionRevisionNumber]=\\\"newEvol.evoEvolutionRevisionNumber\\\"\\r\\n  (onSelected)=\\\"setSelectedEvolutionNumber($event)\\\"\\r\\n>\\r\\n</aw-dialog-search-evolution>\\r\\n\\r\\n<!-- <aw-dialog-table\\r\\n  *ngIf=\\\"showEvolutionNumberDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showEvolutionNumberDialog\\\"\\r\\n  [data]=\\\"dialogTableDataEvolutionNumber\\\"\\r\\n  (onSelected)=\\\"setSelectedEvolutionNumber($event)\\\"\\r\\n></aw-dialog-table> -->\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BireEvolutionDTO } from '../../../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireEvolutionEvolutionDTO } from '../../../../../shared/types/api-types/bire-evolution-evolution-dto.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { BireVariantVersionDTO } from '../../../../../shared/types/api-types/bire-variant-version-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\n\r\nimport { InterdependencesPopupFormService } from './interdependences-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-interdependences-popup-form',\r\n  templateUrl: './interdependences-popup-form.component.html'\r\n})\r\nexport class InterdependencesPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireEvolutionEvolutionDTO> | null;\r\n\r\n  @Input()\r\n  public isNewInterdependence: boolean;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireEvolutionEvolutionDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireEvolutionEvolutionDTO>;\r\n\r\n  public newEvol: BireEvolutionEvolutionDTO;\r\n  public displayDialog: boolean;\r\n  public newItem: boolean;\r\n  public isEditable: boolean;\r\n  public contentTable: BireEvolutionEvolutionDTO[];\r\n  public interdependence: SelectItem[];\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public evolutionNumberTable: BireEvolutionDTO[];\r\n  public selectedEvolutionNumberTable: BireEvolutionDTO[];\r\n  public evolutionNumberTableTableCols: TableColumn[];\r\n  public evolutionNumberTableFilteredRowsNb: number;\r\n\r\n  public familyCodeTable: BireVariantVersionDTO[];\r\n  public selectedfamilyCodeTable: BireVariantVersionDTO[];\r\n  public familyCodeTableTableCols: TableColumn[];\r\n  public familyCodeTableFilteredRowsNb: number;\r\n\r\n  public dialogTableDataFamilyCode: DialogTableData<BireVariantDTO>;\r\n  public dialogTableDataEvolutionNumber: DialogTableData<BireEvolutionDTO>;\r\n  public showFamilyCodeDialog: boolean;\r\n  public showEvolutionNumberDialog: boolean;\r\n\r\n  public constructor(\r\n    public interdependencesPopupFormService: InterdependencesPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'InterdependencePopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireEvolutionEvolutionDTO>();\r\n    this.onUpdate = new EventEmitter<BireEvolutionEvolutionDTO>();\r\n\r\n    this.displayDialog = false;\r\n    this.newItem = false;\r\n    this.showFamilyCodeDialog = false;\r\n    this.showEvolutionNumberDialog = false;\r\n\r\n    this.contentTable = [];\r\n    this.newEvol = {};\r\n    this.keyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.keyMap.set('familyFunction', this.interdependencesPopupFormService.getFamilyFunctionMap());\r\n    this.keyMap.set('evolutionType', this.interdependencesPopupFormService.getEvolutionTypeMap());\r\n    this.keyMap.set('evolutionCompliance', this.interdependencesPopupFormService.getComplianceMap());\r\n    this.keyMap.set('evolutionLevel', this.interdependencesPopupFormService.getEvolutionLevelMap());\r\n    this.keyMap.set('structureType', this.interdependencesPopupFormService.getStructureTypeMap());\r\n\r\n    this.loadInterdependences();\r\n    this.searchFamilyCode();\r\n    this.searchEvolutionNumber();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (\r\n      this.componentData &&\r\n      this.componentData.componentId &&\r\n      this.componentData.object &&\r\n      this.componentData.componentId.length > 0\r\n    ) {\r\n      this.newEvol = this.componentData.object;\r\n      this.isEditable = !!this.componentData.selectedRow && this.componentData.selectedRow.length === 0;\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.displayDialog = true;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newItem = false;\r\n    this.newEvol = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (\r\n      !(\r\n        this.newEvol.evolutionNumber === this.newEvol.evoEvolutionNumber &&\r\n        this.newEvol.evolutionRevisionNumber === this.newEvol.evoEvolutionRevisionNumber\r\n      )\r\n    ) {\r\n      if (this.newEvol.familyCode && this.newEvol.evoEvolutionNumber && this.newEvol.interdependenceCode) {\r\n        if (this.isNewInterdependence) {\r\n          this.onCreate.emit(this.newEvol);\r\n          this.display = false;\r\n        } else {\r\n          this.onUpdate.emit(this.newEvol);\r\n          this.display = false;\r\n        }\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('sameEvolutionNumber'));\r\n    }\r\n  }\r\n\r\n  public searchFamilyCode() {\r\n    const test: TableColumn[] = [\r\n      { field: 'familyCode', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyName', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyFunction', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'structureType', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'variantCode', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'variantName', width: '180px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.dialogTableDataFamilyCode = {\r\n      componentId: 'InterdependencePopupDialog',\r\n      tableCols: test,\r\n      tableRows: this.interdependencesPopupFormService.findFamilyVariantVersion(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  public searchEvolutionNumber() {\r\n    const evolutionNumberCol: TableColumn[] = [\r\n      { field: 'evolutionNumber', width: '100px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'evolutionRevisionNumber', width: '100px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'statusState', width: '100px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'evolutionType', width: '100px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'evolutionCompliance', width: '100px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'evolutionLevel', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'tracked', width: '50px', filterMode: TableColumnFilterMode.Tricheckbox },\r\n      { field: 'evolutionSummary', width: '200px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.dialogTableDataEvolutionNumber = {\r\n      componentId: 'InterdependencePopupDialog',\r\n      tableRows: this.interdependencesPopupFormService.findBireEvolutionsByEvolutionCriteria(\r\n        this.newEvol.familyCode,\r\n        this.newEvol.structureType,\r\n        this.newEvol.variantCode\r\n      ),\r\n      tableCols: evolutionNumberCol,\r\n      globalFilter: true,\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single\r\n    };\r\n  }\r\n\r\n  public showFamilyCode() {\r\n    if (!this.isReadOnlyForm) {\r\n      this.showFamilyCodeDialog = true;\r\n    }\r\n  }\r\n\r\n  public showEvolutionNumber() {\r\n    if (!this.isReadOnlyForm) {\r\n      this.showEvolutionNumberDialog = true;\r\n    }\r\n  }\r\n\r\n  public setSelectedFamilyCode(selectedObject: BireVariantDTO) {\r\n    if (selectedObject) {\r\n      this.newEvol.familyCode = selectedObject.familyCode;\r\n      this.newEvol.structureType = selectedObject.structureType;\r\n      this.newEvol.variantCode = selectedObject.variantCode;\r\n    }\r\n    this.showFamilyCodeDialog = false;\r\n  }\r\n\r\n  public setSelectedEvolutionNumber(selectedObject: BireEvolutionDTO) {\r\n    if (selectedObject) {\r\n      this.newEvol.evoEvolutionNumber = selectedObject.evolutionNumber;\r\n      this.newEvol.evoEvolutionRevisionNumber = selectedObject.evolutionRevisionNumber;\r\n    }\r\n    this.showEvolutionNumberDialog = false;\r\n  }\r\n\r\n  private loadInterdependences(): void {\r\n    this.interdependencesPopupFormService.findAllBireInterdependences().subscribe(\r\n      (results) => {\r\n        this.interdependence = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage('errorOnGetInterdependences');\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { BidoFunctionTypeConstants } from '../../../../../shared/constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { FindBireEvolutionsByEvolutionCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-evolutions-by-evolution-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireEvolutionDTO } from '../../../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireEvolutionEvolutionDTOId } from '../../../../../shared/types/api-types/bire-evolution-evolution-dto-id.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class InterdependencesPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public removeBireInterdependence(interdependence: BireEvolutionEvolutionDTOId): Observable<boolean> {\r\n    // TODO\r\n    return of(true);\r\n  }\r\n\r\n  public findFamilyVariantVersion(): Observable<SearchResultsDTO<BireVariantDTO>> {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY,\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM\r\n    };\r\n\r\n    return super.post<FindFamilyVariantInput, SearchResultsDTO<BireVariantDTO>>(\r\n      this.productStructureManagementApi.findFamilyVariantVersion,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public findAllBireInterdependences(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireInterdependences);\r\n  }\r\n\r\n  public findBireEvolutionsByEvolutionCriteria(\r\n    familyCode?: string,\r\n    structureType?: string,\r\n    variantCode?: string\r\n  ): Observable<SearchResultsDTO<BireEvolutionDTO>> {\r\n    const bireEvolutionDTO: BireEvolutionDTO = {};\r\n    const params: FindBireEvolutionsByEvolutionCriteriaInput = {\r\n      bireEvolutionDTO,\r\n      familyCode,\r\n      structureType,\r\n      variantCode\r\n    };\r\n\r\n    return super.post<FindBireEvolutionsByEvolutionCriteriaInput, SearchResultsDTO<BireEvolutionDTO>>(\r\n      this.productStructureManagementApi.findBireEvolutionsByEvolutionCriteria,\r\n      params\r\n    );\r\n  }\r\n\r\n  public getFamilyFunctionMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFamilyFunctionMap');\r\n  }\r\n\r\n  public getEvolutionTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionTypeMap');\r\n  }\r\n\r\n  public getComplianceMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getComplianceMap');\r\n  }\r\n\r\n  public getEvolutionLevelMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionLevelMap');\r\n  }\r\n\r\n  public getStructureTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getStructureTypeMap');\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"showFamilyCode()\\\">{{ newEvol.familyCode }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"newEvol.familyCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"\\r\\n                  newEvol.familyCode = undefined;\\r\\n                  newEvol.structureType = undefined;\\r\\n                  newEvol.modificationType = undefined;\\r\\n                  newEvol.modificationNumber = undefined;\\r\\n                  newEvol.modificationRevisionNumber = undefined\\r\\n                \\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showFamilyCode()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"newEvol.structureType\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".structureType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newEvol.structureType\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"showType()\\\">{{ newEvol.modificationType }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"newEvol.modificationType\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"\\r\\n                  newEvol.modificationType = undefined;\\r\\n                  newEvol.familyCode = undefined;\\r\\n                  newEvol.structureType = undefined;\\r\\n                  newEvol.modificationNumber = undefined;\\r\\n                  newEvol.modificationRevisionNumber = undefined\\r\\n                \\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showType()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationNumber\\\" | translate }} </label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"isReadOnlyForm\\\" [(ngModel)]=\\\"newEvol.modificationNumber\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"newEvol.modificationRevisionNumber\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationRevisionNumber\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newEvol.modificationRevisionNumber\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        newEvol.familyCode === undefined ||\\r\\n        newEvol.familyCode === null ||\\r\\n        newEvol.modificationType === undefined ||\\r\\n        newEvol.modificationType === null ||\\r\\n        newEvol.modificationNumber === undefined ||\\r\\n        newEvol.modificationNumber === null\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showFamilyCodeDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showFamilyCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataFamilyCode\\\"\\r\\n  (onSelected)=\\\"setSelectedObject($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showModificationTypeDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showModificationTypeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataModificationType\\\"\\r\\n  (onSelected)=\\\"setSelectedObjectType($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BireFamilyDTO } from '../../../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireModificationDTO } from '../../../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { BireModificationEvolutionDTO } from '../../../../../shared/types/api-types/bire-modification-evolution-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\n\r\nimport { ModificationsPopupFormService } from './modifications-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-modifications-popup-form',\r\n  templateUrl: './modifications-popup-form.component.html'\r\n})\r\nexport class ModificationsPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireModificationEvolutionDTO> | null;\r\n\r\n  @Input()\r\n  public isNewModification: boolean;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireModificationEvolutionDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireModificationEvolutionDTO>;\r\n\r\n  public newEvol: BireModificationDTO;\r\n  public newItem: boolean;\r\n  public contentTable: BireModificationDTO[];\r\n  public selectedEvolutions: BireModificationDTO[];\r\n\r\n  public familyCodeTable: BireFamilyDTO[];\r\n  public selectedfamilyCodeTable: BireFamilyDTO[];\r\n  public familyCodeTableTableCols: TableColumn[];\r\n  public familyCodeTableFilteredRowsNb: number;\r\n\r\n  public modificationTypeTable: BireModificationDTO[];\r\n  public selectedmodificationTypeTable: BireModificationDTO[];\r\n  public modificationTypeTableCols: TableColumn[];\r\n  public modificationTypeTableFilteredRowsNb: number;\r\n\r\n  public dialogTableDataFamilyCode: DialogTableData<BireFamilyDTO>;\r\n  public dialogTableDataModificationType: DialogTableData<BireModificationDTO> | undefined;\r\n  public showFamilyCodeDialog: boolean;\r\n  public showModificationTypeDialog: boolean;\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public constructor(\r\n    public modificationsPopupFormService: ModificationsPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ModificationsPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireModificationEvolutionDTO>();\r\n    this.onUpdate = new EventEmitter<BireModificationEvolutionDTO>();\r\n\r\n    this.dialogTableDataModificationType = undefined;\r\n    this.newItem = false;\r\n    this.showFamilyCodeDialog = false;\r\n    this.showModificationTypeDialog = false;\r\n\r\n    this.contentTable = [];\r\n    this.selectedEvolutions = [];\r\n    this.newEvol = {};\r\n    this.keyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.keyMap.set('familyFunction', this.modificationsPopupFormService.getFuncObjectStatusMap());\r\n    this.keyMap.set('structureType', this.modificationsPopupFormService.getStructureTypeMap());\r\n\r\n    this.searchFamilyCode();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (\r\n      this.componentData &&\r\n      this.componentData.componentId &&\r\n      this.componentData.object &&\r\n      this.componentData.componentId.length > 0\r\n    ) {\r\n      this.newEvol = this.componentData.object;\r\n      if (!!this.componentData.selectedRow) {\r\n        this.selectedEvolutions = this.componentData.selectedRow;\r\n      }\r\n\r\n      this.searchModificationType();\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newItem = false;\r\n    this.newEvol = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (\r\n      this.newEvol.familyCode != undefined &&\r\n      this.newEvol.modificationNumber != undefined &&\r\n      this.newEvol.modificationType != undefined\r\n    ) {\r\n      if (this.isNewModification) {\r\n        this.onCreate.emit(this.newEvol);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.newEvol);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  public searchFamilyCode() {\r\n    const test: TableColumn[] = [\r\n      { field: 'familyCode', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyName', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'structureType', width: '250px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyFunction', width: '200px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.dialogTableDataFamilyCode = {\r\n      componentId: 'ApplicabilityPopupDialog',\r\n      tableCols: test,\r\n      tableRows: this.modificationsPopupFormService.findAllBireFamilys(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  public searchModificationType() {\r\n    const evolutionTableCols: TableColumn[] = [\r\n      { field: 'familyCode', width: '80px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'structureType', width: '60px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'modificationType', width: '80px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'modificationNumber', width: '80px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'modificationRevisionNumber', width: '80px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'modificationDocumentUrl', width: '100px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'modificationTitle', width: '250px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.dialogTableDataModificationType = {\r\n      componentId: 'ModificationsPopupDialog',\r\n      tableCols: evolutionTableCols,\r\n      tableRows: this.modificationsPopupFormService.findBireModificationsByModificationPKAndDesignation(\r\n        this.newEvol,\r\n        this.newEvol.modificationNumber\r\n      ),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  // Fonctions popup\r\n  public showFamilyCode() {\r\n    if (!this.isReadOnlyForm) {\r\n      this.showFamilyCodeDialog = true;\r\n    }\r\n  }\r\n\r\n  public showType() {\r\n    // if (!this.isReadOnlyForm && this.newEvol.familyCode != undefined) {\r\n    if (!this.isReadOnlyForm) {\r\n      this.showModificationTypeDialog = true;\r\n    }\r\n  }\r\n\r\n  public setSelectedObject(selectedObject: BireFamilyDTO) {\r\n    if (selectedObject) {\r\n      this.newEvol.familyCode = selectedObject.familyCode;\r\n      this.newEvol.structureType = selectedObject.structureType;\r\n      this.searchModificationType();\r\n      this.newEvol.modificationType = undefined;\r\n      this.newEvol.modificationNumber = undefined;\r\n      this.newEvol.modificationRevisionNumber = undefined;\r\n      this.newEvol.modificationDocumentUrl = undefined;\r\n      this.newEvol.modificationTitle = undefined;\r\n    }\r\n    this.showFamilyCodeDialog = false;\r\n  }\r\n\r\n  public setSelectedObjectType(selectedObject: BireModificationDTO) {\r\n    if (selectedObject) {\r\n      this.newEvol.modificationType = selectedObject.modificationType;\r\n      this.newEvol.modificationNumber = selectedObject.modificationNumber;\r\n      this.newEvol.modificationRevisionNumber = selectedObject.modificationRevisionNumber;\r\n      this.newEvol.modificationDocumentUrl = selectedObject.modificationDocumentUrl;\r\n      this.newEvol.modificationTitle = selectedObject.modificationTitle;\r\n      if (!this.newEvol.familyCode) {\r\n        this.newEvol.familyCode = selectedObject.familyCode;\r\n        this.newEvol.structureType = selectedObject.structureType;\r\n      }\r\n    }\r\n    this.showModificationTypeDialog = false;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { BidoFunctionTypeConstants } from '../../../../../shared/constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { FindBireModificationsByModificationPKAndDesignationInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-modifications-by-modification-pk-and-designation-input.interface';\r\nimport { BireFamilyDTO } from '../../../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireModificationDTO } from '../../../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ModificationsPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findAllBireFamilys(): Observable<SearchResultsDTO<BireFamilyDTO>> {\r\n    return super.post<void, SearchResultsDTO<BireFamilyDTO>>(this.productStructureManagementApi.findAllBireFamilys);\r\n  }\r\n\r\n  public findBireModificationsByModificationPKAndDesignation(\r\n    bireModificationDTO?: BireModificationDTO,\r\n    designation?: string\r\n  ): Observable<SearchResultsDTO<BireModificationDTO>> {\r\n    const findBireModificationsByModificationPKAndDesignationInput = {\r\n      bireModificationDTO,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY,\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM\r\n    };\r\n\r\n    return super.post<FindBireModificationsByModificationPKAndDesignationInput, SearchResultsDTO<BireModificationDTO>>(\r\n      this.productStructureManagementApi.findBireModificationsByModificationPKAndDesignation,\r\n      findBireModificationsByModificationPKAndDesignationInput\r\n    );\r\n  }\r\n\r\n  public getFuncObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFamilyFunctionMap');\r\n  }\r\n\r\n  public getStructureTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getStructureTypeMap');\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sbNumber\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n          <div class=\\\"form-control-data\\\" (click)=\\\"showDialog()\\\">{{ evolution.sbNumber }}</div>\\r\\n\\r\\n          <div *ngIf=\\\"evolution.sbNumber\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n            <i\\r\\n              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n              aria-hidden=\\\"true\\\"\\r\\n              (click)=\\\"evolution.sbNumber = undefined\\\"\\r\\n            ></i>\\r\\n          </div>\\r\\n          <div class=\\\"btn-search-wrapper\\\">\\r\\n            <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showDialog()\\\"></i>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"evolution.sbRevisionNumber\\\" class=\\\"form-group general-field\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sbRevisionNumber\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"evolution.sbRevisionNumber\\\" [disabled]=\\\"true\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"evolution.sbNumber === undefined || evolution.sbNumber === null\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-sbad\\r\\n  *ngIf=\\\"showSbadDialog\\\"\\r\\n  [(display)]=\\\"showSbadDialog\\\"\\r\\n  (onValidated)=\\\"setSelectedObject($event)\\\"\\r\\n  [revisionNumber]=\\\"evolution.sbNumber\\\"\\r\\n  [dialogType]=\\\"\\\"\\r\\n>\\r\\n</aw-dialog-search-sbad>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BireEvolutionSbDTO } from '../../../../../shared/types/api-types/bire-evolution-sb-dto.interface';\r\nimport { BireSbDTO } from '../../../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\n\r\nimport { SbadPopupFormService } from './sbad-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-sbad-popup-form',\r\n  templateUrl: './sbad-popup-form.component.html'\r\n})\r\nexport class SbadPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireEvolutionSbDTO> | null;\r\n\r\n  @Input()\r\n  public isNewSbad: boolean;\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireEvolutionSbDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireEvolutionSbDTO>;\r\n\r\n  public evolution: BireEvolutionSbDTO;\r\n  // POPUP\r\n  public dialogTableData: DialogTableData<BireSbDTO>;\r\n  public showSbadDialog: boolean;\r\n  public propertyStatus: LabelValue<string>[];\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public constructor(\r\n    public sbadPopupFormService: SbadPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'SbadPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BireEvolutionSbDTO>();\r\n    this.onUpdate = new EventEmitter<BireEvolutionSbDTO>();\r\n\r\n    this.showSbadDialog = false;\r\n    this.evolution = {};\r\n    this.keyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.keyMap.set('statusState', this.sbadPopupFormService.getFuncObjectStatusMap());\r\n    this.keyMap.set('sbType', this.sbadPopupFormService.getSbTypeMap());\r\n    this.keyMap.set('sbCompliance', this.sbadPopupFormService.getComplianceMap());\r\n    this.keyMap.set('sbClass', this.sbadPopupFormService.getSbClassificationMap());\r\n\r\n    this.loadDialog();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (\r\n      this.componentData &&\r\n      this.componentData.componentId &&\r\n      this.componentData.object &&\r\n      this.componentData.componentId.length > 0\r\n    ) {\r\n      this.evolution = this.componentData.object;\r\n    }\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.evolution = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (this.evolution.sbNumber) {\r\n      if (this.isNewSbad) {\r\n        this.onCreate.emit(this.evolution);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.evolution);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  // Fonctions popup\r\n  public showDialog() {\r\n    if (!this.isReadOnlyForm) {\r\n      this.showSbadDialog = true;\r\n    }\r\n  }\r\n\r\n  public loadDialog() {\r\n    this.dialogTableData = {\r\n      componentId: 'SbadPopupDialog',\r\n      tableRows: this.sbadPopupFormService.findBireSbsBySbCriteria(),\r\n      tableCols: [\r\n        { field: 'sbNumber', width: '75px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n        { field: 'sbRevisionNumber', width: '75px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n        { field: 'statusState', width: '90px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n        { field: 'sbType', width: '100px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n        { field: 'sbCompliance', width: '90px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n        { field: 'sbClass', width: '90px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n        {\r\n          field: 'sbPublicationDate',\r\n          width: '100px',\r\n          filterMode: TableColumnFilterMode.Input,\r\n          isDate: true,\r\n          alignment: 'left'\r\n        },\r\n        {\r\n          field: 'sbEffectiveDate',\r\n          width: '100px',\r\n          filterMode: TableColumnFilterMode.Input,\r\n          isDate: true,\r\n          alignment: 'left'\r\n        },\r\n        { field: 'sbDocumentUrl', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n        { field: 'sbTitle', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'left' }\r\n      ],\r\n      exportExcel: true,\r\n      globalFilter: true,\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single\r\n    };\r\n  }\r\n\r\n  public setSelectedObject(selectedObject: BireSbDTO) {\r\n    if (selectedObject) {\r\n      this.evolution.statusState = selectedObject.statusState;\r\n      this.evolution.sbNumber = selectedObject.sbNumber;\r\n      this.evolution.sbRevisionNumber = selectedObject.sbRevisionNumber;\r\n      this.evolution.statusDate = selectedObject.statusDate;\r\n      this.evolution.statusUser = selectedObject.statusUser;\r\n    }\r\n    this.showSbadDialog = false;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { FindBireSbsBySbCriteriaInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-bire-sbs-by-sb-criteria-input.interface';\r\nimport { BireEvolutionSbDTOId } from '../../../../../shared/types/api-types/bire-evolution-sb-dto-id.interface';\r\nimport { BireEvolutionSbDTO } from '../../../../../shared/types/api-types/bire-evolution-sb-dto.interface';\r\nimport { BireSbDTO } from '../../../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class SbadPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public removeBireSbad(sbadId: BireEvolutionSbDTOId) {\r\n    return super.post<BireEvolutionSbDTOId, void>(this.productStructureManagementApi.createBireEvolutionSb, sbadId);\r\n  }\r\n\r\n  public createBireEvolutionSb(sbad: BireEvolutionSbDTO): Observable<BireEvolutionSbDTOId> {\r\n    return super.post<BireEvolutionSbDTO, BireEvolutionSbDTOId>(\r\n      this.productStructureManagementApi.createBireEvolutionSb,\r\n      sbad\r\n    );\r\n  }\r\n\r\n  public findBireSbsBySbCriteria(): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    const bireSbDTO: BireSbDTO = {\r\n      sbNumber: undefined\r\n    };\r\n    const criteria: FindBireSbsBySbCriteriaInput = {\r\n      bireSbDTO,\r\n      familyCode: undefined,\r\n      structureType: undefined,\r\n      variantCode: undefined,\r\n      publicationDateFrom: undefined,\r\n      publicationDateTo: undefined,\r\n      effectiveDateFrom: undefined,\r\n      effectiveDateTo: undefined\r\n    };\r\n\r\n    return super.post<FindBireSbsBySbCriteriaInput, SearchResultsDTO<BireEvolutionSbDTOId>>(\r\n      this.productStructureManagementApi.findBireSbsBySbCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public getFuncObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFuncObjectStatusMap');\r\n  }\r\n\r\n  public getSbTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getSbTypeMap');\r\n  }\r\n\r\n  public getComplianceMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getComplianceMap');\r\n  }\r\n\r\n  public getSbClassificationMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getSbClassificationMap');\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewEvolution()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group flex--2\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertyVariant\\\"\\r\\n                        [(ngModel)]=\\\"familyVariant\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--2\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".evolutionNumber\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.evolutionNumber\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--2\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".evolutionSummary\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.evolutionSummary\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--2\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".statusState\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertyStatus\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.statusState\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".tracked\\\" | translate }}</label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-checkbox class=\\\"aw-checkbox\\\" binary=\\\"true\\\" [(ngModel)]=\\\"searchObject.tracked\\\"></p-checkbox>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"advanced-criteria\\\" [ngClass]=\\\"{ 'display--none': !showAdvancedCriteria }\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group flex--2\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".evolutionRevisionNumber\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.evolutionRevisionNumber\\\" />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex--2\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".evolutionType\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"propertyType\\\"\\r\\n                          [(ngModel)]=\\\"searchObject.evolutionType\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          (keyup.enter)=\\\"search()\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex--2\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".evolutionCompliance\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"propertyCompliance\\\"\\r\\n                          [(ngModel)]=\\\"searchObject.evolutionCompliance\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          (keyup.enter)=\\\"search()\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group flex--2\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".evolutionLevel\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [options]=\\\"propertyLevel\\\"\\r\\n                          [(ngModel)]=\\\"searchObject.evolutionLevel\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          (keyup.enter)=\\\"search()\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\"></div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <button mat-button (click)=\\\"showAdvancedCriteria = !showAdvancedCriteria\\\">\\r\\n                    <ng-container *ngIf=\\\"showAdvancedCriteria\\\">\\r\\n                      <mat-icon>remove</mat-icon>\\r\\n                      {{ \\\"global.collapseCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"!showAdvancedCriteria\\\">\\r\\n                      <mat-icon>add</mat-icon>\\r\\n                      {{ \\\"global.expandCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                  </button>\\r\\n\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ resultsTableDatasource ? resultsTableDatasource.dataCount : 0\\r\\n                  }}{{ moreResults ? \\\"+\\\" : \\\"\\\" }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"resultsTableDatasource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"\\r\\n                      resultsTableDatasource &&\\r\\n                      resultsTableDatasource.hasData &&\\r\\n                      !resultsTableDatasource.hasDataSelection\\r\\n                    \\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && resultsTableDatasource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteSelectedEvolution()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"resultsTableDatasource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedEvolution()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n                <ng-template columnDef=\\\"evolutionNumber\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <a (click)=\\\"openEvolutionLink(rowData)\\\"> {{ rowData[\\\"evolutionNumber\\\"] }} </a>\\r\\n                </ng-template>\\r\\n                <ng-template columnDef=\\\"tracked\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <i *ngIf=\\\"rowData['tracked']\\\" class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { MenuItem } from 'primeng/api';\r\nimport { Table } from 'primeng/table';\r\n\r\nimport { ColumnAlignment, TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireEvolutionDTOId } from '../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireEvolutionDTO } from '../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { LabelValueUtils } from '../../../shared/utils/label-value-utils';\r\n\r\nimport { EvolutionSearchService } from './evolution-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-evolution-search',\r\n  templateUrl: './evolution-search.component.html'\r\n})\r\nexport class EvolutionSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  private static readonly RESULTS_TABLE_EXPORT_NAME: string = 'evolution-list';\r\n  public isLoading: boolean;\r\n  public resultsTableDatasource: TableDataSource<BireEvolutionDTO>;\r\n  public moreResults: boolean;\r\n  public searchObject: BireEvolutionDTO;\r\n  public selectedEvolution: BireEvolutionDTO[];\r\n  public exportMethods: MenuItem[];\r\n  public propertyVariant: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public propertyType: LabelValue<string>[];\r\n  public propertyCompliance: LabelValue<string>[];\r\n  public propertyLevel: LabelValue<string>[];\r\n  public showAdvancedCriteria: boolean;\r\n  /*public selectedFamilyVariant: LabelValue<string>;*/\r\n  public familyVariant: string | undefined;\r\n  public familyVariantMap: Map<LabelValue<string>, FamilyVariantDTO>;\r\n\r\n  /* HTML references ***********************************************************/\r\n\r\n  @ViewChild('resultsContainerAnchor')\r\n  public resultsContainerAnchor: ElementRef;\r\n\r\n  /* ***************************************************************************/\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly evolutionSearchService: EvolutionSearchService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly exportService: ExportService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.isLoading = false;\r\n    this.showAdvancedCriteria = false;\r\n    this.familyVariantMap = new Map<LabelValue<string>, FamilyVariantDTO>();\r\n\r\n    this.searchObject = {};\r\n    this.selectedEvolution = [];\r\n    this.exportMethods = [];\r\n    this.propertyVariant = [];\r\n    this.propertyStatus = [];\r\n    this.propertyType = [];\r\n    this.propertyCompliance = [];\r\n    this.propertyLevel = [];\r\n\r\n    this.setExportMethods();\r\n\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      this.setExportMethods();\r\n      this.loadDropDownLists();\r\n    });\r\n\r\n    this.initResultsTableDatasource();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'EvolutionSearchComponent';\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n\r\n    this.loadDropDownLists();\r\n  }\r\n\r\n  public deleteSelectedEvolution(): void {\r\n    const partialMessageKey =\r\n      this.resultsTableDatasource.dataSelectionCount > 1\r\n        ? 'confirmDeleteSelectedEvolutions'\r\n        : 'confirmDeleteSelectedEvolution';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.resultsTableDatasource.dataSelection.forEach((evolution) => {\r\n          if (evolution && evolution.evolutionNumber && evolution.evolutionRevisionNumber) {\r\n            const evolutionId: BireEvolutionDTOId = {\r\n              evolutionNumber: evolution.evolutionNumber,\r\n              evolutionRevisionNumber: evolution.evolutionRevisionNumber\r\n            };\r\n            this.evolutionSearchService.removeBireEvolution(evolutionId).subscribe(\r\n              (result) => {\r\n                if (result) {\r\n                  this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteEvolution'));\r\n                } else {\r\n                  this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteEvolution'));\r\n                }\r\n              },\r\n              () => {\r\n                this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteEvolution'));\r\n              }\r\n            );\r\n          }\r\n        });\r\n        this.resultsTableDatasource.deleteDataSelection();\r\n      }\r\n    });\r\n  }\r\n\r\n  public openNewEvolution(): void {\r\n    this.openEvolution(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public openEvolutionLink(evolution: BireEvolutionDTO): void {\r\n    if (evolution && evolution.evolutionNumber && evolution.evolutionRevisionNumber) {\r\n      const bireEvolutionId: BireEvolutionDTOId = {\r\n        evolutionNumber: evolution.evolutionNumber,\r\n        evolutionRevisionNumber: evolution.evolutionRevisionNumber\r\n      };\r\n      this.openEvolution(bireEvolutionId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  public openSelectedEvolution(): void {\r\n    this.resultsTableDatasource.dataSelection.forEach((evolution) => {\r\n      if (evolution && evolution.evolutionNumber && evolution.evolutionRevisionNumber) {\r\n        const bireEvolutionId: BireEvolutionDTOId = {\r\n          evolutionNumber: evolution.evolutionNumber,\r\n          evolutionRevisionNumber: evolution.evolutionRevisionNumber\r\n        };\r\n        this.openEvolution(bireEvolutionId, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {};\r\n    this.familyVariant = undefined;\r\n  }\r\n\r\n  public search(): void {\r\n    let familyCode = '';\r\n    let structureType = '';\r\n    let variantCode = '';\r\n    if (this.familyVariant) {\r\n      let familyVariantDTO: FamilyVariantDTO;\r\n      this.familyVariantMap.forEach((variantElement) => {\r\n        if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === this.familyVariant) {\r\n          familyVariantDTO = variantElement;\r\n\r\n          if (!!familyVariantDTO.familyCode && !!familyVariantDTO.structureType && !!familyVariantDTO.variantCode) {\r\n            familyCode = familyVariantDTO.familyCode;\r\n            structureType = familyVariantDTO.structureType;\r\n            variantCode = familyVariantDTO.variantCode;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    super.scrollToAnchor(this.resultsContainerAnchor);\r\n    this.isLoading = true;\r\n    this.evolutionSearchService\r\n      .findBireEvolutionsByEvolutionCriteria(this.searchObject, familyCode, structureType, variantCode)\r\n      .subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            results.list.forEach((element) => {\r\n              // if (element.evolutionLevel) {\r\n              //   element.evolutionLevel = this.propertyLevel.filter(\r\n              //     (level) => level.value === element.evolutionLevel\r\n              //   )[0].label;\r\n              // }\r\n              // if (element.evolutionCompliance) {\r\n              //   element.evolutionCompliance = this.propertyCompliance.filter(\r\n              //     (compliance) => compliance.value === element.evolutionCompliance\r\n              //   )[0].label;\r\n              // }\r\n              // if (element.evolutionType) {\r\n              //   element.evolutionType = this.propertyType.filter(\r\n              //     (type) => type.value === element.evolutionType\r\n              //   )[0].label;\r\n              // }\r\n              LabelValueUtils.stringValueToLabel<BireEvolutionDTO>(element, 'evolutionLevel', this.propertyLevel);\r\n              LabelValueUtils.stringValueToLabel<BireEvolutionDTO>(\r\n                element,\r\n                'evolutionCompliance',\r\n                this.propertyCompliance\r\n              );\r\n              LabelValueUtils.stringValueToLabel<BireEvolutionDTO>(element, 'evolutionType', this.propertyType);\r\n            });\r\n            this.resultsTableDatasource.setData(results.list);\r\n            this.moreResults = results.moreResults;\r\n          }\r\n          super.differ(() => {\r\n            super.scrollToAnchor(this.resultsContainerAnchor);\r\n          });\r\n          this.isLoading = false;\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetResults'));\r\n          this.isLoading = false;\r\n        }\r\n      );\r\n  }\r\n\r\n  private loadDropDownLists(): void {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: 'UC50',\r\n      module: 'FAMILY'\r\n    };\r\n    this.evolutionSearchService.getFamilyVariant(familyVariantInput).subscribe(\r\n      (results) => {\r\n        const list = new Array<LabelValue<string>>();\r\n        results.forEach((variantElement) => {\r\n          if (!!variantElement.labelValueDTO) {\r\n            list.push(variantElement.labelValueDTO);\r\n            this.familyVariantMap.set(variantElement.labelValueDTO, variantElement);\r\n          }\r\n        });\r\n        this.propertyVariant = list;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n    this.evolutionSearchService.getFuncObjectStatusMap().subscribe(\r\n      (results) => {\r\n        this.propertyStatus = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStatus'));\r\n      }\r\n    );\r\n\r\n    this.evolutionSearchService.getEvolutionTypeMap().subscribe(\r\n      (results) => {\r\n        this.propertyType = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetEvolutionType'));\r\n      }\r\n    );\r\n\r\n    this.evolutionSearchService.getComplianceMap().subscribe(\r\n      (results) => {\r\n        this.propertyCompliance = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetCompliance'));\r\n      }\r\n    );\r\n\r\n    this.evolutionSearchService.getEvolutionLevelMap().subscribe(\r\n      (results) => {\r\n        this.propertyLevel = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetEvolutionLevel'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private openEvolution(objectId: BireEvolutionDTOId | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EvolutionFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EvolutionFormComponent',\r\n      objectId: this.serializationService.serialize(objectId),\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    this.selectedEvolution = [];\r\n  }\r\n\r\n  public save() {\r\n    // TODO\r\n  }\r\n\r\n  private setExportMethods(): void {\r\n    this.exportMethods = [\r\n      {\r\n        label: this.translateService.instant('global.excel'),\r\n        icon: 'fa-file-excel-o',\r\n        command: () => {\r\n          // TODO\r\n        }\r\n      },\r\n      {\r\n        label: this.translateService.instant('global.pdf'),\r\n        icon: 'fa-file-pdf-o',\r\n        command: () => {\r\n          // TODO\r\n        }\r\n      }\r\n    ];\r\n  }\r\n\r\n  public exportTable(): void {\r\n    if (!!this.componentData) {\r\n      this.exportService.toExcel(\r\n        this.modifyExportColumns(this.resultsTableDatasource.dataSrc),\r\n        EvolutionSearchComponent.RESULTS_TABLE_EXPORT_NAME,\r\n        this.componentData.componentId\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('exportTable', 'this.componentData');\r\n    }\r\n  }\r\n\r\n  private modifyExportColumns(resultArr: BireEvolutionDTO[]): BireEvolutionDTO[] {\r\n    const exportArr: BireEvolutionDTO[] = [];\r\n\r\n    resultArr.forEach((res) => {\r\n      const json: BireEvolutionDTO = {};\r\n      const keys = Object.keys(res);\r\n      keys.forEach((key) => {\r\n        if (key !== 'statusUser' && key !== 'statusDate') {\r\n          json[key] = res[key];\r\n        }\r\n      });\r\n      exportArr.push(json);\r\n    });\r\n\r\n    return exportArr;\r\n  }\r\n\r\n  private initResultsTableDatasource(): void {\r\n    this.resultsTableDatasource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'evolutionNumber',\r\n          translateKey: this.getTranslateKey('evolutionNumber'),\r\n          width: '11%',\r\n          alignment: ColumnAlignment.LEFT\r\n        },\r\n        {\r\n          field: 'evolutionRevisionNumber',\r\n          translateKey: this.getTranslateKey('evolutionRevisionNumber'),\r\n          width: '11%',\r\n          alignment: ColumnAlignment.LEFT\r\n        },\r\n        {\r\n          field: 'evolutionSummary',\r\n          translateKey: this.getTranslateKey('evolutionSummary'),\r\n          width: '23%',\r\n          alignment: ColumnAlignment.LEFT\r\n        },\r\n        {\r\n          field: 'statusState',\r\n          translateKey: this.getTranslateKey('statusState'),\r\n          width: '11%',\r\n          alignment: ColumnAlignment.LEFT\r\n        },\r\n        {\r\n          field: 'evolutionType',\r\n          translateKey: this.getTranslateKey('evolutionType'),\r\n          width: '11%',\r\n          alignment: ColumnAlignment.LEFT\r\n        },\r\n        {\r\n          field: 'evolutionCompliance',\r\n          translateKey: this.getTranslateKey('evolutionCompliance'),\r\n          width: '11%',\r\n          alignment: ColumnAlignment.LEFT\r\n        },\r\n        {\r\n          field: 'evolutionLevel',\r\n          translateKey: this.getTranslateKey('evolutionLevel'),\r\n          width: '11%',\r\n          alignment: ColumnAlignment.LEFT\r\n        },\r\n        {\r\n          field: 'tracked',\r\n          translateKey: this.getTranslateKey('tracked'),\r\n          width: '11%',\r\n          alignment: ColumnAlignment.CENTER\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { FindBireEvolutionsByEvolutionCriteriaInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-evolutions-by-evolution-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireEvolutionDTOId } from '../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireEvolutionDTO } from '../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class EvolutionSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireEvolutionsByEvolutionCriteria(\r\n    criteria: BireEvolutionDTO,\r\n    familyCode: string,\r\n    structureType: string,\r\n    variantCode: string\r\n  ): Observable<SearchResultsDTO<BireEvolutionDTO>> {\r\n    const params: FindBireEvolutionsByEvolutionCriteriaInput = {\r\n      bireEvolutionDTO: criteria,\r\n      familyCode,\r\n      structureType,\r\n      variantCode\r\n    };\r\n\r\n    return super.post<FindBireEvolutionsByEvolutionCriteriaInput, SearchResultsDTO<BireEvolutionDTO>>(\r\n      this.productStructureManagementApi.findBireEvolutionsByEvolutionCriteria,\r\n      params\r\n    );\r\n  }\r\n\r\n  public removeBireEvolution(evolutionId: BireEvolutionDTOId): Observable<boolean> {\r\n    return super.post<BireEvolutionDTOId, boolean>(this.productStructureManagementApi.removeBireEvolution, evolutionId);\r\n  }\r\n\r\n  public getFamilyVariant(familyVariantInput: FindFamilyVariantInput): Observable<FamilyVariantDTO[]> {\r\n    return super.post<FindFamilyVariantInput, FamilyVariantDTO[]>(\r\n      this.productStructureManagementApi.findFamilyVariant,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public getFuncObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFuncObjectStatusMap');\r\n  }\r\n\r\n  public getEvolutionTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionTypeMap');\r\n  }\r\n\r\n  public getComplianceMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getComplianceMap');\r\n  }\r\n\r\n  public getEvolutionLevelMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionLevelMap');\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\" *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\">\\r\\n        - {{ subTitle }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"edit()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      color=\\\"warn\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"cancel()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"saveFamilyData()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" (click)=\\\"refresh()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"grid-row\\\">\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyCode\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          maxlength=\\\"50\\\"\\r\\n                          [(ngModel)]=\\\"familyDisplayed.familyCode\\\"\\r\\n                          [disabled]=\\\"!isCreateOpenMode || isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyName\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"familyDisplayed.familyName\\\"\\r\\n                          maxlength=\\\"50\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".structureType\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        {{ familyStructureTypeDisplay }}\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".familyFunction\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          appendTo=\\\"body\\\"\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          [options]=\\\"propertyFamilyFunction\\\"\\r\\n                          [(ngModel)]=\\\"familyDisplayed.familyFunction\\\"\\r\\n                          [ngClass]=\\\"{ inactive: isReadOpenMode }\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <!-- Modifications table -->\\r\\n\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".modification\\\" | translate }} ({{\\r\\n                        modificationsTableDataSource ? modificationsTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"modificationsTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteSelectedModification()\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode && modificationsTableDataSource.hasDataSelection\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editModification()\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode && modificationsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        *ngIf=\\\"modificationsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        (click)=\\\"openModification()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode && !modificationsTableDataSource.hasDataSelection\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createModification()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"modificationDocumentUrl\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"redirectToURL(rowData.modificationDocumentUrl)\\\">\\r\\n                        {{ rowData.modificationDocumentUrl }}\\r\\n                      </a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n        <mat-tab *ngIf=\\\"isEngine()\\\">\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".rating\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div #resultsratingAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <!-- Ratings table -->\\r\\n\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".rating\\\" | translate }} ({{\\r\\n                        ratingsTableDataSource ? ratingsTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"ratingsTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode && ratingsTableDataSource.hasDataSelection\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteSelectedRating()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode && ratingsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editRating()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        *ngIf=\\\"ratingsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        (click)=\\\"openRating()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode && !ratingsTableDataSource.hasDataSelection\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createRating()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<p-overlayPanel #op1 [showCloseIcon]=\\\"false\\\" [dismissable]=\\\"true\\\" appendTo=\\\"body\\\">\\r\\n  <ul class=\\\"export-methods\\\">\\r\\n    <li class=\\\"export-method-wrapper\\\">\\r\\n      <i class=\\\"fa fa-file-excel-o\\\" aria-hidden=\\\"true\\\"></i> <span class=\\\"export-method\\\">Excel</span>\\r\\n    </li>\\r\\n\\r\\n    <li class=\\\"export-method-wrapper\\\">\\r\\n      <i class=\\\"fa fa-file-pdf-o\\\" aria-hidden=\\\"true\\\"></i> <span class=\\\"export-method\\\">PDF</span>\\r\\n    </li>\\r\\n  </ul>\\r\\n</p-overlayPanel>\\r\\n\\r\\n<!-- POPUP ZONE -->\\r\\n<aw-family-modification-popup\\r\\n  *ngIf=\\\"showModificationPopup\\\"\\r\\n  [component-data]=\\\"dataModiciation\\\"\\r\\n  [(display)]=\\\"showModificationPopup\\\"\\r\\n  (onCreate)=\\\"addNewModfication($event)\\\"\\r\\n  (onUpdate)=\\\"updateModification($event)\\\"\\r\\n>\\r\\n</aw-family-modification-popup>\\r\\n<aw-family-rating-popup\\r\\n  *ngIf=\\\"showRatingPopup\\\"\\r\\n  [component-data]=\\\"dataRating\\\"\\r\\n  [(display)]=\\\"showRatingPopup\\\"\\r\\n  (onCreate)=\\\"addNewRating($event)\\\"\\r\\n  (onUpdate)=\\\"updateRating($event)\\\"\\r\\n></aw-family-rating-popup>\\r\\n\"","module.exports = \":host #sbad-form-component .main-data .form-group {\\n  width: 15rem; }\\n\\n:host #sbad-form-component .attributes-tab {\\n  display: flex;\\n  flex-direction: column; }\\n\\n:host #sbad-form-component .attributes-tab .attribute-field {\\n    width: 10rem; }\\n\\n:host #sbad-form-component .general-tab {\\n  display: flex;\\n  flex-direction: column; }\\n\\n:host #sbad-form-component .general-tab .general-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n\\n:host #sbad-form-component .general-tab .general-fields .general-field {\\n      width: 10rem; }\\n\\n:host #sbad-form-component .general-tab .general-fields .general-field .aw-checkbox {\\n        margin-top: 30px;\\n        margin-bottom: 8px; }\\n\\n:host #sbad-form-component .general-tab .general-fields .opt-field {\\n      width: 8rem;\\n      margin-left: 30px; }\\n\\n:host #sbad-form-component .general-tab .general-fields .opt-field .aw-checkbox {\\n        margin-top: 30px;\\n        margin-bottom: 8px; }\\n\\n:host #sbad-form-component .general-tab .general-fields .location-container {\\n      display: flex;\\n      flex-direction: row; }\\n\\n:host #sbad-form-component .general-tab .general-fields .sbad-form-group {\\n      /*&:first-of-type {\\r\\n                        padding-right: 60px;\\r\\n                    }*/ }\\n\\n:host #sbad-form-component .general-tab .general-fields .sbad-form-group > div {\\n        display: flex;\\n        flex-direction: column;\\n        width: 100%;\\n        padding-left: 65px; }\\n\\n:host #sbad-form-component .general-tab .general-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 100%; }\\n\\n:host #sbad-form-component .general-tab .general-fields > div:first-of-type {\\n        padding-right: 24px; }\\n\\n:host #sbad-form-component .general-tab .general-fields > div:nth-of-type(2) {\\n        padding-right: 24px; }\\n\\n:host #sbad-form-component .general-tab .general-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n\\n:host #sbad-form-component .general-tab .general-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n\\n:host #sbad-form-component .general-tab .general-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n\\n:host #sbad-form-component .general-tab .general-tables .row:nth-of-type(2) {\\n        margin-bottom: 24px; }\\n\\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper {\\n        width: 50%; }\\n\\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper-large {\\n        width: 100%; }\\n\\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper:first-of-type,\\n      :host #sbad-form-component .general-tab .general-tables .row .table-wrapper-large:first-of-type {\\n        padding-right: 24px; }\\n\\n:host #sbad-form-component .general-tab .general-tables .row .table-wrapper:nth-of-type(2),\\n      :host #sbad-form-component .general-tab .general-tables .row .table-wrapper-large:nth-of-type(2) {\\n        padding-left: 24px; }\\n\\n:host .page-content .main-data {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap; }\\n\\n:host .page-content .main-data .form-group {\\n    margin-right: 20px;\\n    width: 20%; }\\n\\n:host .page-content .main-data .form-group:last-of-type {\\n      margin-right: 0; }\\n\\n:host .page-content .main-data .search-criteria-primary {\\n    justify-content: flex-start; }\\n\\n:host .page-content .main-data .search-criteria-primary .criteria-checkboxes {\\n      display: flex;\\n      flex-direction: column; }\\n\\n:host .page-content .main-data .search-criteria-primary .criteria-checkboxes p-checkbox:first-of-type {\\n        margin-top: 30px; }\\n\\n:host .page-content .main-data .search-criteria-primary .criteria-checkboxes p-checkbox:nth-of-type(2) {\\n        margin-top: 5px; }\\n\\n:host .page-content .info-tab {\\n  display: flex;\\n  flex-direction: column; }\\n\\n:host .page-content .info-tab .bp-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n\\n:host .page-content .info-tab .bp-fields .bp-field {\\n      width: 12rem; }\\n\\n:host .page-content .info-tab .bp-fields > div {\\n      display: flex;\\n      flex-direction: column; }\\n\\n:host .page-content .info-tab .bp-fields > div:first-of-type {\\n        margin-right: 20px; }\\n\\n:host .page-content .info-tab .bp-fields > div:nth-of-type(2) {\\n        margin-left: 20px; }\\n\\n:host .page-content .info-tab .bp-fields > div .tab-wrapper {\\n        display: flex;\\n        flex-direction: row; }\\n\\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div {\\n          display: flex;\\n          flex-direction: column; }\\n\\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div .aw-btn-group {\\n            margin-top: 20px;\\n            margin-bottom: 20px; }\\n\\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div:first-of-type {\\n          margin-right: 50px; }\\n\\n:host .page-content .info-tab .bp-fields > div .tab-wrapper > div:nth-of-type(2) {\\n          margin-left: 50px; }\\n\\n:host .page-content .general-tab {\\n  display: flex;\\n  flex-direction: column; }\\n\\n:host .page-content .general-tab .bp-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n\\n:host .page-content .general-tab .bp-fields .label-comment {\\n      margin-top: 17px; }\\n\\n:host .page-content .general-tab .bp-fields .bp-field {\\n      width: 12rem; }\\n\\n:host .page-content .general-tab .bp-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n\\n:host .page-content .general-tab .bp-fields > div:first-of-type {\\n        margin-right: 20px; }\\n\\n:host .page-content .general-tab .bp-fields > div:nth-of-type(2) {\\n        margin-left: 20px; }\\n\\n:host .page-content .general-tab .bp-fields > div .informations-wrapper {\\n        display: flex;\\n        flex-direction: column; }\\n\\n:host .page-content .general-tab .bp-fields > div .informations-wrapper > div {\\n          display: flex;\\n          flex-direction: row; }\\n\\n:host .page-content .general-tab .bp-fields > div .informations-wrapper > div > div:first-of-type {\\n            margin-right: 20px; }\\n\\n:host .page-content .general-tab .bp-fields > div .informations-wrapper > div > div:nth-of-type(2) {\\n            margin-left: 20px; }\\n\\n:host .page-content .general-tab .bp-fields > div .location-wrapper {\\n        display: flex;\\n        flex-direction: row; }\\n\\n:host .page-content .general-tab .bp-fields > div .location-wrapper > div {\\n          display: flex;\\n          flex-direction: column; }\\n\\n:host .page-content .general-tab .bp-fields > div .location-wrapper > div:first-of-type {\\n          margin-right: 20px; }\\n\\n:host .page-content .general-tab .bp-fields > div .location-wrapper > div:nth-of-type(2) {\\n          margin-left: 20px; }\\n\\n:host .page-content .general-tab .bp-fields > div .type-wrapper {\\n        display: flex;\\n        flex-direction: row;\\n        flex-wrap: wrap; }\\n\\n:host .page-content .general-tab .tables {\\n    display: flex;\\n    flex-direction: row; }\\n\\n:host .page-content .general-tab .tables > div:first-of-type,\\n    :host .page-content .general-tab .tables > div:nth-of-type(2) {\\n      width: 30%; }\\n\\n:host .page-content .general-tab .tables > div:first-of-type {\\n      padding-right: 20px; }\\n\\n:host .page-content .general-tab .tables > div:nth-of-type(2) {\\n      padding-left: 20px;\\n      padding-right: 20px; }\\n\\n:host .page-content .general-tab .tables > div:nth-of-type(3) {\\n      width: 40%;\\n      padding-left: 20px; }\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxmYW1pbHktZm9ybVxcZmFtaWx5LWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9mYW1pbHktZm9ybS9mYW1pbHktZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdNLFlBQVksRUFBQTs7QUFIbEI7RUFPTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7O0FBUjVCO0lBV1EsWUFBWSxFQUFBOztBQVhwQjtFQWdCTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7O0FBakI1QjtJQW9CUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTs7QUF0Qm5CO01BeUJVLFlBQVksRUFBQTs7QUF6QnRCO1FBNEJZLGdCQUFnQjtRQUNoQixrQkFBa0IsRUFBQTs7QUE3QjlCO01Ba0NVLFdBQVc7TUFDWCxpQkFBaUIsRUFBQTs7QUFuQzNCO1FBc0NZLGdCQUFnQjtRQUNoQixrQkFBa0IsRUFBQTs7QUF2QzlCO01BNENVLGFBQWE7TUFDYixtQkFBbUIsRUFBQTs7QUE3QzdCO01Bd0RVOztzQkN2QlksRUR5QkM7O0FBMUR2QjtRQWtEWSxhQUFhO1FBQ2Isc0JBQXNCO1FBQ3RCLFdBQVc7UUFDWCxrQkFBa0IsRUFBQTs7QUFyRDlCO01BOERVLGFBQWE7TUFDYixzQkFBc0I7TUFDdEIsV0FBVyxFQUFBOztBQWhFckI7UUFtRVksbUJBQW1CLEVBQUE7O0FBbkUvQjtRQXVFWSxtQkFBbUIsRUFBQTs7QUF2RS9CO0lBNkVRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7O0FBL0V6QjtNQWtGVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTs7QUFwRnpCO1FBdUZZLG1CQUFtQixFQUFBOztBQXZGL0I7UUEyRlksbUJBQW1CLEVBQUE7O0FBM0YvQjtRQStGWSxVQUFVLEVBQUE7O0FBL0Z0QjtRQW1HWSxXQUFXLEVBQUE7O0FBbkd2Qjs7UUF5R2MsbUJBQW1CLEVBQUE7O0FBekdqQzs7UUE2R2Msa0JBQWtCLEVBQUE7O0FBN0doQztFQXVITSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGVBQWUsRUFBQTs7QUF6SHJCO0lBNEhRLGtCQUFrQjtJQUNsQixVQUFVLEVBQUE7O0FBN0hsQjtNQWdJVSxlQUFlLEVBQUE7O0FBaEl6QjtJQXFJUSwyQkFBMkIsRUFBQTs7QUFySW5DO01Bd0lVLGFBQWE7TUFDYixzQkFBc0IsRUFBQTs7QUF6SWhDO1FBNElZLGdCQUFnQixFQUFBOztBQTVJNUI7UUFnSlksZUFBZSxFQUFBOztBQWhKM0I7RUF1Sk0sYUFBYTtFQUNiLHNCQUFzQixFQUFBOztBQXhKNUI7SUEySlEsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixXQUFXLEVBQUE7O0FBN0puQjtNQWdLVSxZQUFZLEVBQUE7O0FBaEt0QjtNQW9LVSxhQUFhO01BQ2Isc0JBQXNCLEVBQUE7O0FBcktoQztRQXlLWSxrQkFBa0IsRUFBQTs7QUF6SzlCO1FBNktZLGlCQUFpQixFQUFBOztBQTdLN0I7UUFpTFksYUFBYTtRQUNiLG1CQUFtQixFQUFBOztBQWxML0I7VUFxTGMsYUFBYTtVQUNiLHNCQUFzQixFQUFBOztBQXRMcEM7WUF5TGdCLGdCQUFnQjtZQUNoQixtQkFBbUIsRUFBQTs7QUExTG5DO1VBK0xjLGtCQUFrQixFQUFBOztBQS9MaEM7VUFtTWMsaUJBQWlCLEVBQUE7O0FBbk0vQjtFQTJNTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7O0FBNU01QjtJQStNUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTs7QUFqTm5CO01Bb05VLGdCQUFnQixFQUFBOztBQXBOMUI7TUF3TlUsWUFBWSxFQUFBOztBQXhOdEI7TUE0TlUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7O0FBOU5wQjtRQWlPWSxrQkFBa0IsRUFBQTs7QUFqTzlCO1FBcU9ZLGlCQUFpQixFQUFBOztBQXJPN0I7UUF5T1ksYUFBYTtRQUNiLHNCQUFzQixFQUFBOztBQTFPbEM7VUE2T2MsYUFBYTtVQUNiLG1CQUFtQixFQUFBOztBQTlPakM7WUFpUGdCLGtCQUFrQixFQUFBOztBQWpQbEM7WUFxUGdCLGlCQUFpQixFQUFBOztBQXJQakM7UUEyUFksYUFBYTtRQUNiLG1CQUFtQixFQUFBOztBQTVQL0I7VUErUGMsYUFBYTtVQUNiLHNCQUFzQixFQUFBOztBQWhRcEM7VUFvUWMsa0JBQWtCLEVBQUE7O0FBcFFoQztVQXdRYyxpQkFBaUIsRUFBQTs7QUF4US9CO1FBNlFZLGFBQWE7UUFDYixtQkFBbUI7UUFDbkIsZUFBZSxFQUFBOztBQS9RM0I7SUFxUlEsYUFBYTtJQUNiLG1CQUFtQixFQUFBOztBQXRSM0I7O01BMFJVLFVBQVUsRUFBQTs7QUExUnBCO01BOFJVLG1CQUFtQixFQUFBOztBQTlSN0I7TUFrU1Usa0JBQWtCO01BQ2xCLG1CQUFtQixFQUFBOztBQW5TN0I7TUF1U1UsVUFBVTtNQUNWLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1mb3JtL2ZhbWlseS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICNzYmFkLWZvcm0tY29tcG9uZW50IHtcclxuICAgIC5tYWluLWRhdGEgLmZvcm0tZ3JvdXAge1xyXG4gICAgICB3aWR0aDogMTVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLmF0dHJpYnV0ZXMtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5hdHRyaWJ1dGUtZmllbGQge1xyXG4gICAgICAgIHdpZHRoOiAxMHJlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5nZW5lcmFsLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuZ2VuZXJhbC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmdlbmVyYWwtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG5cclxuICAgICAgICAgIC5hdy1jaGVja2JveCB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5vcHQtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDhyZW07XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMzBweDtcclxuXHJcbiAgICAgICAgICAuYXctY2hlY2tib3gge1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAubG9jYXRpb24tY29udGFpbmVyIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnNiYWQtZm9ybS1ncm91cCB7XHJcbiAgICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNjVweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvKiY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDYwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5nZW5lcmFsLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyLWxhcmdlIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIsXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlci1sYXJnZSB7XHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAucGFnZS1jb250ZW50IHtcclxuICAgIC5tYWluLWRhdGEge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgIHdpZHRoOiAyMCU7XHJcblxyXG4gICAgICAgICY6bGFzdC1vZi10eXBlIHtcclxuICAgICAgICAgIG1hcmdpbi1yaWdodDogMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWFyY2gtY3JpdGVyaWEtcHJpbWFyeSB7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG5cclxuICAgICAgICAuY3JpdGVyaWEtY2hlY2tib3hlcyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgICAgICBwLWNoZWNrYm94OmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHAtY2hlY2tib3g6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmluZm8tdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5icC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmJwLWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiAxMnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICAvL3dpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFiLXdyYXBwZXIge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cclxuICAgICAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgICAgICAgICAuYXctYnRuLWdyb3VwIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJiA+IGRpdjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDUwcHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiA1MHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmdlbmVyYWwtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5icC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmxhYmVsLWNvbW1lbnQge1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogMTdweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5icC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTJyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5pbmZvcm1hdGlvbnMtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblxyXG4gICAgICAgICAgICAgICYgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAmID4gZGl2Om50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5sb2NhdGlvbi13cmFwcGVyIHtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHJcbiAgICAgICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJiA+IGRpdjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnR5cGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHJcbiAgICAgICAgJiA+IGRpdjpmaXJzdC1vZi10eXBlLFxyXG4gICAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgd2lkdGg6IDMwJTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdjpudGgtb2YtdHlwZSgzKSB7XHJcbiAgICAgICAgICB3aWR0aDogNDAlO1xyXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCI6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAubWFpbi1kYXRhIC5mb3JtLWdyb3VwIHtcbiAgd2lkdGg6IDE1cmVtOyB9XG5cbjpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5hdHRyaWJ1dGVzLXRhYiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmF0dHJpYnV0ZXMtdGFiIC5hdHRyaWJ1dGUtZmllbGQge1xuICAgIHdpZHRoOiAxMHJlbTsgfVxuXG46aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9XG4gIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB3aWR0aDogMTAwJTsgfVxuICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLmdlbmVyYWwtZmllbGQge1xuICAgICAgd2lkdGg6IDEwcmVtOyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5nZW5lcmFsLWZpZWxkIC5hdy1jaGVja2JveCB7XG4gICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsgfVxuICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLm9wdC1maWVsZCB7XG4gICAgICB3aWR0aDogOHJlbTtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4OyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5vcHQtZmllbGQgLmF3LWNoZWNrYm94IHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OyB9XG4gICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAubG9jYXRpb24tY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93OyB9XG4gICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAuc2JhZC1mb3JtLWdyb3VwIHtcbiAgICAgIC8qJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogNjBweDtcclxuICAgICAgICAgICAgICAgICAgICB9Ki8gfVxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAuc2JhZC1mb3JtLWdyb3VwID4gZGl2IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHBhZGRpbmctbGVmdDogNjVweDsgfVxuICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgPiBkaXYge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB3aWR0aDogMTAwJTsgfVxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyA+IGRpdjpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDsgfVxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7IH1cbiAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHBhZGRpbmctdG9wOiAyNHB4OyB9XG4gICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgZmxleC13cmFwOiB3cmFwOyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3c6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7IH1cbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdzpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7IH1cbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlciB7XG4gICAgICAgIHdpZHRoOiA1MCU7IH1cbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlci1sYXJnZSB7XG4gICAgICAgIHdpZHRoOiAxMDAlOyB9XG4gICAgICA6aG9zdCAjc2JhZC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXI6Zmlyc3Qtb2YtdHlwZSxcbiAgICAgIDpob3N0ICNzYmFkLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyAudGFibGUtd3JhcHBlci1sYXJnZTpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDsgfVxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IC50YWJsZS13cmFwcGVyOm50aC1vZi10eXBlKDIpLFxuICAgICAgOmhvc3QgI3NiYWQtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IC50YWJsZS13cmFwcGVyLWxhcmdlOm50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4OyB9XG5cbjpob3N0IC5wYWdlLWNvbnRlbnQgLm1haW4tZGF0YSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGZsZXgtd3JhcDogd3JhcDsgfVxuICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLmZvcm0tZ3JvdXAge1xuICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgICB3aWR0aDogMjAlOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAubWFpbi1kYXRhIC5mb3JtLWdyb3VwOmxhc3Qtb2YtdHlwZSB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDA7IH1cbiAgOmhvc3QgLnBhZ2UtY29udGVudCAubWFpbi1kYXRhIC5zZWFyY2gtY3JpdGVyaWEtcHJpbWFyeSB7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAubWFpbi1kYXRhIC5zZWFyY2gtY3JpdGVyaWEtcHJpbWFyeSAuY3JpdGVyaWEtY2hlY2tib3hlcyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAubWFpbi1kYXRhIC5zZWFyY2gtY3JpdGVyaWEtcHJpbWFyeSAuY3JpdGVyaWEtY2hlY2tib3hlcyBwLWNoZWNrYm94OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4OyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLnNlYXJjaC1jcml0ZXJpYS1wcmltYXJ5IC5jcml0ZXJpYS1jaGVja2JveGVzIHAtY2hlY2tib3g6bnRoLW9mLXR5cGUoMikge1xuICAgICAgICBtYXJnaW4tdG9wOiA1cHg7IH1cblxuOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9XG4gIDpob3N0IC5wYWdlLWNvbnRlbnQgLmluZm8tdGFiIC5icC1maWVsZHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB3aWR0aDogMTAwJTsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmluZm8tdGFiIC5icC1maWVsZHMgLmJwLWZpZWxkIHtcbiAgICAgIHdpZHRoOiAxMnJlbTsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmluZm8tdGFiIC5icC1maWVsZHMgPiBkaXYge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmluZm8tdGFiIC5icC1maWVsZHMgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4OyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5pbmZvLXRhYiAuYnAtZmllbGRzID4gZGl2IC50YWItd3JhcHBlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7IH1cbiAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyA+IGRpdiAudGFiLXdyYXBwZXIgPiBkaXYge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICAgICAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmluZm8tdGFiIC5icC1maWVsZHMgPiBkaXYgLnRhYi13cmFwcGVyID4gZGl2IC5hdy1idG4tZ3JvdXAge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7IH1cbiAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuaW5mby10YWIgLmJwLWZpZWxkcyA+IGRpdiAudGFiLXdyYXBwZXIgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1MHB4OyB9XG4gICAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmluZm8tdGFiIC5icC1maWVsZHMgPiBkaXYgLnRhYi13cmFwcGVyID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogNTBweDsgfVxuXG46aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHdpZHRoOiAxMDAlOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyAubGFiZWwtY29tbWVudCB7XG4gICAgICBtYXJnaW4tdG9wOiAxN3B4OyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyAuYnAtZmllbGQge1xuICAgICAgd2lkdGg6IDEycmVtOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIHdpZHRoOiA1MCU7IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXY6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4OyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2IC5pbmZvcm1hdGlvbnMtd3JhcHBlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiAuaW5mb3JtYXRpb25zLXdyYXBwZXIgPiBkaXYge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsgfVxuICAgICAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXYgLmluZm9ybWF0aW9ucy13cmFwcGVyID4gZGl2ID4gZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OyB9XG4gICAgICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiAuaW5mb3JtYXRpb25zLXdyYXBwZXIgPiBkaXYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXYgLmxvY2F0aW9uLXdyYXBwZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93OyB9XG4gICAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXYgLmxvY2F0aW9uLXdyYXBwZXIgPiBkaXYge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxuICAgICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2IC5sb2NhdGlvbi13cmFwcGVyID4gZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsgfVxuICAgICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2IC5sb2NhdGlvbi13cmFwcGVyID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsgfVxuICAgICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLmJwLWZpZWxkcyA+IGRpdiAudHlwZS13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgZmxleC13cmFwOiB3cmFwOyB9XG4gIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdzsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6Zmlyc3Qtb2YtdHlwZSxcbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgIHdpZHRoOiAzMCU7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzID4gZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgcGFkZGluZy1yaWdodDogMjBweDsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xuICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICAgICAgcGFkZGluZy1yaWdodDogMjBweDsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC50YWJsZXMgPiBkaXY6bnRoLW9mLXR5cGUoMykge1xuICAgICAgd2lkdGg6IDQwJTtcbiAgICAgIHBhZGRpbmctbGVmdDogMjBweDsgfVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { ColumnAlignment, TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { BireFamilyDTOId } from '../../../shared/types/api-types/bire-family-dto-id.interface';\r\nimport { BireFamilyDTO } from '../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireModificationDTOId } from '../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { BireRatingDTOId } from '../../../shared/types/api-types/bire-rating-dto-id.interface';\r\nimport { BireRatingDTO } from '../../../shared/types/api-types/bire-rating-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../shared/types/popup-entry.interface';\r\nimport { TabObjectIdUtils } from '../../../shared/utils/tab-object-id-utils';\r\nimport { FamilySearchService } from '../family-search/family-search.service';\r\n\r\nimport { FamilyFormService } from './family-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-family-form',\r\n  styleUrls: ['./family-form.component.scss'],\r\n  templateUrl: './family-form.component.html'\r\n})\r\nexport class FamilyFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  // Tab id\r\n  public tabModificationId: string;\r\n  public tabRatingId: string;\r\n\r\n  public currentTabId: string;\r\n  public ratingTableFilteredRowsNb: number;\r\n  public modificationTableFilteredRowsNb: number;\r\n\r\n  // New object ?\r\n  public delRow: number;\r\n\r\n  // For modification tab\r\n  public showModificationPopup: boolean;\r\n  public currentModification: BireModificationDTO;\r\n  public currentModificationIndex: number;\r\n  public dataModiciation: PopupEntry<BireModificationDTO>;\r\n\r\n  // For rating tab\r\n  public showRatingPopup: boolean;\r\n  public currentRating: BireRatingDTO;\r\n  public currentRatingIndex: number;\r\n  public dataRating: PopupEntry<BireRatingDTO>;\r\n\r\n  // DTO objects from database\r\n  public family: BireFamilyDTO;\r\n  public bireModifications: BireModificationDTO[];\r\n  public bireRatings: BireRatingDTO[];\r\n\r\n  // DTO objects for display\r\n  public familyDisplayed: BireFamilyDTO;\r\n  public modificationsTableDataSource: TableDataSource<BireModificationDTO>;\r\n  public ratingsTableDataSource: TableDataSource<BireRatingDTO>;\r\n\r\n  // DTO objects for database\r\n  public familyId: BireFamilyDTOId;\r\n  private bireModificationAddedList: BireModificationDTO[];\r\n  private bireModificationUpdatedList: BireModificationDTO[];\r\n  private bireModificationDeletedList: BireModificationDTOId[];\r\n  private bireRatingAddedList: BireRatingDTO[];\r\n  private bireRatingUpdatedList: BireRatingDTO[];\r\n  private bireRatingDeletedList: BireRatingDTOId[];\r\n\r\n  // DropDown list of label\r\n  public propertyFamilyFunction: LabelValue<string>[];\r\n\r\n  // For tab context\r\n  public subTitle: string;\r\n\r\n  private readonly engineValue: string;\r\n\r\n  public isLoadingRating: boolean;\r\n  public isLoading: boolean;\r\n\r\n  public resultsTable: SearchResultsDTO<BireFamilyDTO>;\r\n  public showSaveSpinner: boolean;\r\n\r\n  public familyStructureTypeDisplay: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly familyFormService: FamilyFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly familySearchService: FamilySearchService\r\n  ) {\r\n    super(ComponentOpenMode.Read, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.initObjects();\r\n\r\n    // Fill table column information\r\n    this.initModificationsTableDataSource();\r\n    this.initRatingsTableDataSource();\r\n\r\n    this.delRow = 0;\r\n\r\n    // Tab Id\r\n    this.tabModificationId = 'modification';\r\n    this.tabRatingId = 'rating';\r\n    this.currentTabId = this.tabModificationId;\r\n\r\n    this.engineValue = AWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY;\r\n\r\n    // Loading all DropDown list\r\n    this.loadDropDownLists();\r\n\r\n    // Lang change events\r\n    // this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {});\r\n\r\n    this.isLoadingRating = false;\r\n    this.isLoading = false;\r\n\r\n    this.dataModiciation = {\r\n      componentId: 'FamilyFormComponent',\r\n      openMode: ComponentOpenMode.Write,\r\n      object: {},\r\n      selectedRow: undefined\r\n    };\r\n\r\n    this.dataRating = {\r\n      componentId: 'FamilyFormComponent',\r\n      openMode: ComponentOpenMode.Write,\r\n      object: {},\r\n      selectedRow: undefined\r\n    };\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'FamilyFormComponent';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    if (this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      let context = '';\r\n      if (this.componentData.objectId) {\r\n        const tempContext = TabObjectIdUtils.bireFamilyDTOIdToString(\r\n          this.serializationService.deserialize(this.componentData.objectId)\r\n        ).split(TabObjectIdUtils.DEFAULT_SEPARATOR);\r\n        tempContext.forEach((element) => {\r\n          context += element + TabObjectIdUtils.CONTEXT_SEPARATOR;\r\n        });\r\n        context = context.substring(0, context.length - 1);\r\n        this.subTitle = context;\r\n        this.findBireFamily();\r\n      } else {\r\n        context = 'tab.createMode';\r\n      }\r\n\r\n      this.displayComponentContext(context, this.isCreateOpenMode);\r\n    } else {\r\n      // TODO\r\n    }\r\n\r\n    this.getFamilyList();\r\n  }\r\n\r\n  private initModificationsTableDataSource(): void {\r\n    this.modificationsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'modificationType',\r\n          translateKey: this.getTranslateKey('modificationType')\r\n        },\r\n        {\r\n          field: 'modificationNumber',\r\n          translateKey: this.getTranslateKey('modificationNumber')\r\n        },\r\n        {\r\n          field: 'modificationRevisionNumber',\r\n          translateKey: this.getTranslateKey('modificationRevisionNumber')\r\n        },\r\n        {\r\n          field: 'modificationDocumentUrl',\r\n          translateKey: this.getTranslateKey('modificationDocumentUrl')\r\n        },\r\n        {\r\n          field: 'modificationTitle',\r\n          translateKey: this.getTranslateKey('modificationTitle')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initRatingsTableDataSource(): void {\r\n    this.ratingsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'ratingCode',\r\n          translateKey: this.getTranslateKey('ratingCode'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '50%'\r\n        },\r\n        {\r\n          field: 'ratingName',\r\n          translateKey: this.getTranslateKey('ratingName'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '50%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initObjects() {\r\n    // Init DTO objects\r\n    this.family = {};\r\n    this.bireModifications = [];\r\n    this.bireRatings = [];\r\n\r\n    // Init Displayed Objects\r\n    this.familyDisplayed = {};\r\n    this.familyDisplayed.structureType = AWPropertiesConstants.STRUCTURE_TYPE_IPC_KEY;\r\n\r\n    this.initDtoObjectForDatabase();\r\n  }\r\n\r\n  private initDtoObjectForDatabase() {\r\n    this.bireModificationAddedList = [];\r\n    this.bireModificationUpdatedList = [];\r\n    this.bireModificationDeletedList = [];\r\n    this.bireRatingAddedList = [];\r\n    this.bireRatingUpdatedList = [];\r\n    this.bireRatingDeletedList = [];\r\n  }\r\n\r\n  public cancel(): void {\r\n    if (this.isCreateOpenMode) {\r\n      this.initObjects();\r\n    } else {\r\n      this.initObjects();\r\n      this.componentData.openMode = ComponentOpenMode.Read;\r\n      this.ngOnInit();\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.ngOnInit();\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Modification Tab\r\n   ***********************************************************************************/\r\n  public openModificationTab(): void {\r\n    this.currentTabId = this.tabModificationId;\r\n  }\r\n  public createModification(): void {\r\n    this.dataModiciation = {\r\n      componentId: 'FamilyFormComponent',\r\n      openMode: ComponentOpenMode.Write,\r\n      object: {},\r\n      selectedRow: undefined\r\n    };\r\n    this.showModificationPopup = true;\r\n  }\r\n  public editModification(): void {\r\n    if (this.modificationsTableDataSource.dataSelectionCount === 1) {\r\n      // Copy all the selectedModification[0] field into currentModification one by one\r\n      this.currentModification = { ...this.modificationsTableDataSource.dataSelection[0] };\r\n      this.currentModificationIndex = this.modificationsTableDataSource.dataSrc.indexOf(\r\n        this.modificationsTableDataSource.dataSelection[0]\r\n      );\r\n      this.dataModiciation = {\r\n        componentId: 'FamilyFormComponent',\r\n        selectedRow: undefined,\r\n        object: this.currentModification,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n    this.showModificationPopup = true;\r\n  }\r\n  public openModification(): void {\r\n    if (this.modificationsTableDataSource.dataSelectionCount === 1) {\r\n      // Copy all the selectedModification[0] field into currentModification one by one\r\n      this.currentModification = { ...this.modificationsTableDataSource.dataSelection[0] };\r\n\r\n      this.currentModificationIndex = this.modificationsTableDataSource.dataSrc.indexOf(\r\n        this.modificationsTableDataSource.dataSelection[0]\r\n      );\r\n      this.dataModiciation = {\r\n        componentId: 'FamilyFormComponent',\r\n        selectedRow: undefined,\r\n        object: this.currentModification,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n    this.showModificationPopup = true;\r\n  }\r\n\r\n  /*\r\n        Modication handler functions\r\n    */\r\n  public addNewModfication(modification: BireModificationDTO) {\r\n    const searchInDisplayedList = this.modificationsTableDataSource.dataSrc.find(\r\n      (value) =>\r\n        value.modificationType === modification.modificationType &&\r\n        value.modificationNumber === modification.modificationNumber &&\r\n        value.modificationRevisionNumber === modification.modificationRevisionNumber\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireModificationAddedList.push(modification);\r\n      this.modificationsTableDataSource.addData([modification]);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));\r\n    }\r\n    this.showModificationPopup = false;\r\n  }\r\n\r\n  public updateModification(udpatedModification: BireModificationDTO) {\r\n    let isFound = false;\r\n    const previousModificationObject = this.modificationsTableDataSource[this.currentModificationIndex];\r\n    const searchInAddedList = this.bireModificationAddedList.find(\r\n      (value) =>\r\n        value.modificationType === previousModificationObject.modificationType &&\r\n        value.modificationNumber === previousModificationObject.modificationNumber &&\r\n        value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber\r\n    );\r\n    const searchInUpdatedList = this.bireModificationUpdatedList.find(\r\n      (value) =>\r\n        value.modificationType === previousModificationObject.modificationType &&\r\n        value.modificationNumber === previousModificationObject.modificationNumber &&\r\n        value.modificationRevisionNumber === previousModificationObject.modificationRevisionNumber\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireModificationAddedList.indexOf(searchInAddedList);\r\n      this.modificationsTableDataSource.dataSrc.forEach((res) => {\r\n        if (\r\n          this.modificationsTableDataSource.dataSelection[0].modificationNumber !==\r\n            udpatedModification.modificationNumber &&\r\n          this.modificationsTableDataSource.dataSelection[0].modificationRevisionNumber !==\r\n            udpatedModification.modificationRevisionNumber &&\r\n          this.modificationsTableDataSource.dataSelection[0].modificationType !==\r\n            udpatedModification.modificationType &&\r\n          res.modificationType === udpatedModification.modificationType &&\r\n          res.modificationRevisionNumber === udpatedModification.modificationRevisionNumber &&\r\n          res.modificationNumber === udpatedModification.modificationNumber\r\n        ) {\r\n          isFound = true;\r\n        }\r\n      });\r\n\r\n      if (isFound) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));\r\n      } else {\r\n        this.bireModificationAddedList[indexInAddedList] = udpatedModification;\r\n      }\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireModificationUpdatedList.indexOf(searchInUpdatedList);\r\n      this.modificationsTableDataSource.dataSrc.forEach((res) => {\r\n        if (\r\n          this.modificationsTableDataSource.dataSelection[0].modificationNumber !==\r\n            udpatedModification.modificationNumber &&\r\n          this.modificationsTableDataSource.dataSelection[0].modificationRevisionNumber !==\r\n            udpatedModification.modificationRevisionNumber &&\r\n          this.modificationsTableDataSource.dataSelection[0].modificationType !==\r\n            udpatedModification.modificationType &&\r\n          res.modificationType === udpatedModification.modificationType &&\r\n          res.modificationRevisionNumber === udpatedModification.modificationRevisionNumber &&\r\n          res.modificationNumber === udpatedModification.modificationNumber\r\n        ) {\r\n          isFound = true;\r\n        }\r\n      });\r\n\r\n      if (isFound) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));\r\n      } else {\r\n        this.bireModificationUpdatedList[indexInUpdatedList] = udpatedModification;\r\n      }\r\n    } else {\r\n      this.modificationsTableDataSource.dataSrc.forEach((res) => {\r\n        if (\r\n          this.modificationsTableDataSource.dataSelection[0].modificationNumber !==\r\n            udpatedModification.modificationNumber &&\r\n          this.modificationsTableDataSource.dataSelection[0].modificationRevisionNumber !==\r\n            udpatedModification.modificationRevisionNumber &&\r\n          this.modificationsTableDataSource.dataSelection[0].modificationType !==\r\n            udpatedModification.modificationType &&\r\n          res.modificationType === udpatedModification.modificationType &&\r\n          res.modificationRevisionNumber === udpatedModification.modificationRevisionNumber &&\r\n          res.modificationNumber === udpatedModification.modificationNumber\r\n        ) {\r\n          isFound = true;\r\n        }\r\n      });\r\n\r\n      if (isFound) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));\r\n      } else {\r\n        this.bireModificationUpdatedList.push(udpatedModification);\r\n      }\r\n    }\r\n    this.modificationsTableDataSource.dataSelection = [];\r\n    if (!isFound) {\r\n      this.modificationsTableDataSource.replaceData(\r\n        this.modificationsTableDataSource.dataSelection[0],\r\n        udpatedModification\r\n      );\r\n    }\r\n    this.showModificationPopup = false;\r\n  }\r\n\r\n  public deleteSelectedModification() {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedModifications'),\r\n      accept: () => {\r\n        this.modificationsTableDataSource.dataSelection.forEach((element) => {\r\n          const modificationId: BireModificationDTOId = {\r\n            familyCode: element.familyCode,\r\n            structureType: element.structureType,\r\n            modificationNumber: element.modificationNumber,\r\n            modificationRevisionNumber: element.modificationRevisionNumber,\r\n            modificationType: element.modificationType\r\n          };\r\n          const searchInAddedList = this.bireModificationAddedList.find(\r\n            (value) =>\r\n              value.modificationType === element.modificationType &&\r\n              value.modificationNumber === element.modificationNumber &&\r\n              value.modificationRevisionNumber === element.modificationRevisionNumber\r\n          );\r\n          const searchInUpdatedList = this.bireModificationUpdatedList.find(\r\n            (value) =>\r\n              value.modificationType === element.modificationType &&\r\n              value.modificationNumber === element.modificationNumber &&\r\n              value.modificationRevisionNumber === element.modificationRevisionNumber\r\n          );\r\n          if (searchInAddedList) {\r\n            const indexInAddedList = this.bireModificationAddedList.indexOf(searchInAddedList);\r\n            this.bireModificationAddedList.splice(indexInAddedList, 1);\r\n          } else if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireModificationUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireModificationUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireModificationDeletedList.push(modificationId);\r\n          } else {\r\n            this.bireModificationDeletedList.push(modificationId);\r\n          }\r\n          const indexInDisplayedList = this.modificationsTableDataSource.dataSrc.indexOf(element);\r\n          this.modificationsTableDataSource.dataSrc.splice(indexInDisplayedList, 1);\r\n        });\r\n        this.modificationsTableDataSource.dataSelection = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Rating Tab\r\n   ***********************************************************************************/\r\n  public openRatingTab(): void {\r\n    this.currentTabId = this.tabRatingId;\r\n  }\r\n  public createRating(): void {\r\n    this.dataRating = {\r\n      componentId: 'FamilyFormComponent',\r\n      openMode: ComponentOpenMode.Write,\r\n      object: {},\r\n      selectedRow: undefined\r\n    };\r\n    this.showRatingPopup = true;\r\n  }\r\n  public editRating(): void {\r\n    if (this.ratingsTableDataSource.dataSelectionCount === 1) {\r\n      this.currentRating = { ...this.ratingsTableDataSource.dataSelection[0] };\r\n      this.currentRatingIndex = this.ratingsTableDataSource.dataSrc.indexOf(\r\n        this.ratingsTableDataSource.dataSelection[0]\r\n      );\r\n      this.dataRating = {\r\n        componentId: 'SbadFormComponent',\r\n        selectedRow: undefined,\r\n        object: this.currentRating,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n    this.showRatingPopup = true;\r\n  }\r\n  public openRating(): void {\r\n    if (this.ratingsTableDataSource.dataSelectionCount === 1) {\r\n      this.currentRating = { ...this.ratingsTableDataSource.dataSelection[0] };\r\n      this.currentRatingIndex = this.ratingsTableDataSource.dataSrc.indexOf(\r\n        this.ratingsTableDataSource.dataSelection[0]\r\n      );\r\n      this.dataRating = {\r\n        componentId: 'SbadFormComponent',\r\n        selectedRow: undefined,\r\n        object: this.currentRating,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n    this.showRatingPopup = true;\r\n  }\r\n\r\n  /*\r\n        Sb variant handler functions\r\n    */\r\n  public addNewRating(newRating: BireRatingDTO) {\r\n    const searchInDisplayedList = this.ratingsTableDataSource.dataSrc.find(\r\n      (value) => value.ratingCode === newRating.ratingCode && value.ratingName === newRating.ratingName\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireRatingAddedList.push(newRating);\r\n      this.ratingsTableDataSource.addData([newRating]);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyRatingExisting'));\r\n    }\r\n    this.showRatingPopup = false;\r\n  }\r\n\r\n  public deleteSelectedRating() {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedRatings'),\r\n      accept: () => {\r\n        this.ratingsTableDataSource.dataSelection.forEach((element) => {\r\n          const searchInAddedList = this.bireRatingAddedList.find(\r\n            (value) => value.ratingCode === element.ratingCode && value.ratingName === element.ratingName\r\n          );\r\n          const searchInUpdatedList = this.bireRatingUpdatedList.find(\r\n            (value) => value.ratingCode === element.ratingCode && value.ratingName === element.ratingName\r\n          );\r\n          if (searchInAddedList) {\r\n            const indexInAddedList = this.bireRatingAddedList.indexOf(searchInAddedList);\r\n            this.bireRatingAddedList.splice(indexInAddedList, 1);\r\n          } else {\r\n            if (!!element.ratingCode && !!element.familyCode && !!element.structureType) {\r\n              const ratingId: BireRatingDTOId = {\r\n                ratingCode: element.ratingCode,\r\n                familyCode: element.familyCode,\r\n                structureType: element.structureType\r\n              };\r\n              if (searchInUpdatedList) {\r\n                const indexInUpdatedList = this.bireRatingUpdatedList.indexOf(searchInUpdatedList);\r\n                this.bireRatingUpdatedList.splice(indexInUpdatedList, 1);\r\n                this.bireRatingDeletedList.push(ratingId);\r\n              } else {\r\n                this.bireRatingDeletedList.push(ratingId);\r\n              }\r\n            } else {\r\n              super.throwUnboundLocalError('deleteSelectedRating', 'element');\r\n            }\r\n          }\r\n          const indexInDisplayedList = this.ratingsTableDataSource.dataSrc.indexOf(element);\r\n          this.ratingsTableDataSource.dataSrc.splice(indexInDisplayedList, 1);\r\n          this.ratingsTableDataSource.setData(this.ratingsTableDataSource.dataSrc);\r\n          this.ratingsTableDataSource.update();\r\n        });\r\n        this.ratingsTableDataSource.dataSelection = [];\r\n      }\r\n    });\r\n  }\r\n  public updateRating(udpatedRating: BireRatingDTO) {\r\n    const previousRatingObject = this.ratingsTableDataSource.data[this.currentRatingIndex];\r\n    let isFound = false;\r\n    const searchInAddedList = this.bireRatingAddedList.find(\r\n      (value) =>\r\n        value.ratingCode === previousRatingObject.ratingCode && value.ratingName === previousRatingObject.ratingName\r\n    );\r\n    const searchInUpdatedList = this.bireRatingUpdatedList.find(\r\n      (value) =>\r\n        value.ratingCode === previousRatingObject.ratingCode && value.ratingName === previousRatingObject.ratingName\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireRatingAddedList.indexOf(searchInAddedList);\r\n      this.ratingsTableDataSource.dataSrc.forEach((res) => {\r\n        if (\r\n          this.ratingsTableDataSource.dataSelection[0].ratingCode !== udpatedRating.ratingCode &&\r\n          res.ratingCode === udpatedRating.ratingCode\r\n        ) {\r\n          isFound = true;\r\n        }\r\n      });\r\n\r\n      if (isFound) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));\r\n      } else {\r\n        this.bireRatingAddedList[indexInAddedList] = udpatedRating;\r\n      }\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireRatingUpdatedList.indexOf(searchInUpdatedList);\r\n      this.ratingsTableDataSource.dataSrc.forEach((res) => {\r\n        if (\r\n          this.ratingsTableDataSource.dataSelection[0].ratingCode !== udpatedRating.ratingCode &&\r\n          res.ratingCode === udpatedRating.ratingCode\r\n        ) {\r\n          isFound = true;\r\n        }\r\n      });\r\n\r\n      if (isFound) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));\r\n      } else {\r\n        this.bireRatingUpdatedList[indexInUpdatedList] = udpatedRating;\r\n      }\r\n    } else {\r\n      this.ratingsTableDataSource.dataSrc.forEach((res) => {\r\n        if (\r\n          this.ratingsTableDataSource.dataSelection[0].ratingCode !== udpatedRating.ratingCode &&\r\n          res.ratingCode === udpatedRating.ratingCode\r\n        ) {\r\n          isFound = true;\r\n        }\r\n      });\r\n\r\n      if (isFound) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyModificationExisting'));\r\n      } else {\r\n        this.bireRatingUpdatedList.push(udpatedRating);\r\n      }\r\n    }\r\n    if (!isFound) {\r\n      this.ratingsTableDataSource.replaceData(this.ratingsTableDataSource.dataSelection[0], udpatedRating);\r\n    }\r\n    this.ratingsTableDataSource.dataSelection = [];\r\n    this.showRatingPopup = false;\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * BackEnd functions\r\n   ***********************************************************************************/\r\n  private loadDropDownLists(): void {\r\n    this.loadStructureTypeValue();\r\n    this.loadFamilyFunctions();\r\n  }\r\n\r\n  private loadStructureTypeValue(): void {\r\n    this.propertiesService\r\n      .getValueByKey(GenericPropertyConstants.STRUCTURE_TYPE_VALUE_BY_KEY, AWPropertiesConstants.STRUCTURE_TYPE_IPC_KEY)\r\n      .subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            this.familyStructureTypeDisplay = results;\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnStructureType'));\r\n        }\r\n      );\r\n  }\r\n\r\n  private loadFamilyFunctions(): void {\r\n    this.propertiesService.getValue('getFamilyFunctionMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyFamilyFunction = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFamilyFunctionList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private findBireFamily(): void {\r\n    // Retrieve the family Id object by deserialization\r\n    if (!!this.componentData && !!this.componentData.objectId) {\r\n      this.familyId = this.serializationService.deserialize(this.componentData.objectId);\r\n\r\n      this.familyFormService.findBireFamilyByFamilyId(this.familyId.familyCode, this.familyId.structureType).subscribe(\r\n        (result: BireFamilyDTO) => {\r\n          this.family = result;\r\n          if (!!this.family) {\r\n            this.findBireModificationByBireFamily(this.family);\r\n            if (!!this.family && !!this.family.familyCode && !!this.family.structureType) {\r\n              this.findBireRatingByBireFamily(this.family);\r\n            }\r\n          }\r\n          this.familyDisplayed = { ...this.family };\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireFamily'));\r\n        }\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('findBireFamily', 'this.componentData.objectId');\r\n    }\r\n  }\r\n\r\n  private getFamilyList() {\r\n    this.familySearchService.findAllBireFamilys().subscribe((result) => {\r\n      this.resultsTable = result;\r\n    });\r\n  }\r\n\r\n  private findBireModificationByBireFamily(bireFamily: BireFamilyDTO): void {\r\n    this.isLoading = true;\r\n    this.familyFormService.findBireModificationByBireFamily(bireFamily).subscribe(\r\n      (results: BireModificationDTO[]) => {\r\n        this.bireModifications = [...results];\r\n        this.modificationsTableDataSource.setData(results);\r\n        this.isLoading = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindModifications'));\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private findBireRatingByBireFamily(bireFamily: BireFamilyDTO): void {\r\n    this.isLoadingRating = true;\r\n    if (!!bireFamily && !!bireFamily.familyCode && !!bireFamily.structureType) {\r\n      this.familyFormService.findBireRatingByBireFamily(bireFamily.familyCode, bireFamily.structureType).subscribe(\r\n        (results: BireRatingDTO[]) => {\r\n          this.bireRatings = [...results];\r\n          this.ratingsTableDataSource.setData(results);\r\n          this.isLoadingRating = false;\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindModifications'));\r\n          this.isLoadingRating = false;\r\n        }\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('findBireRatingByBireFamily', 'bireFamily');\r\n    }\r\n  }\r\n\r\n  private isOneRequiredFieldNull() {\r\n    return !this.familyDisplayed.familyCode || !this.familyDisplayed.structureType || !this.familyDisplayed.familyName;\r\n  }\r\n\r\n  public saveFamilyData(): void {\r\n    if (this.isOneRequiredFieldNull()) {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));\r\n    } else {\r\n      if (!this.validateDuplicateFamily()) {\r\n        // Parse the familyId\r\n        if (!!this.familyDisplayed.familyCode && !!this.familyDisplayed.structureType) {\r\n          this.familyId = {\r\n            familyCode: this.familyDisplayed.familyCode,\r\n            structureType: this.familyDisplayed.structureType\r\n          };\r\n\r\n          // Add the link between the family and the modification added elements\r\n          this.bireModificationAddedList.forEach((element) => {\r\n            element.familyCode = this.familyId.familyCode;\r\n            element.structureType = this.familyId.structureType;\r\n          });\r\n          // Add the link between the family and the rating added elements\r\n          this.bireRatingAddedList.forEach((element) => {\r\n            element.familyCode = this.familyId.familyCode;\r\n            element.structureType = this.familyId.structureType;\r\n          });\r\n\r\n          this.showSaveSpinner = true;\r\n          this.familyFormService\r\n            .saveFamilyData(\r\n              this.familyDisplayed,\r\n              this.bireModificationAddedList,\r\n              this.bireModificationUpdatedList,\r\n              this.bireModificationDeletedList,\r\n              this.bireRatingAddedList,\r\n              this.bireRatingUpdatedList,\r\n              this.bireRatingDeletedList\r\n            )\r\n            .subscribe(\r\n              (result) => {\r\n                if (\r\n                  !!this.familyDisplayed &&\r\n                  !!this.familyDisplayed.familyCode &&\r\n                  !!this.familyDisplayed.structureType\r\n                ) {\r\n                  // SUCCEED CASE\r\n                  const bireFamilyId: BireFamilyDTOId = {\r\n                    familyCode: this.familyDisplayed.familyCode,\r\n                    structureType: this.familyDisplayed.structureType\r\n                  };\r\n                  let objectId = '';\r\n                  if (!!bireFamilyId) {\r\n                    objectId = this.serializationService.serialize(bireFamilyId);\r\n                  }\r\n                  let context = '';\r\n                  const tempContext = TabObjectIdUtils.bireFamilyDTOIdToString(\r\n                    this.serializationService.deserialize(objectId)\r\n                  ).split(TabObjectIdUtils.DEFAULT_SEPARATOR);\r\n                  tempContext.forEach((element) => {\r\n                    context += element + TabObjectIdUtils.CONTEXT_SEPARATOR;\r\n                  });\r\n                  context = context.substring(0, context.length - 1);\r\n                  this.subTitle = context;\r\n                  this.componentData.objectId = this.serializationService.serialize(bireFamilyId);\r\n                  this.findBireFamily();\r\n                  this.updateOpenMode(ComponentOpenMode.Write);\r\n                  this.componentData.openMode = ComponentOpenMode.Write;\r\n                  this.displayComponentContext(context, this.isCreateOpenMode);\r\n\r\n                  this.initializeObjectsAfterSave();\r\n\r\n                  // TODO: Update evolutions with a new callback ?\r\n                  // Reload evolution\r\n\r\n                  this.messageService.showSuccessMessage(this.getTranslateKey('onSuccessSave'));\r\n                }\r\n                this.showSaveSpinner = false;\r\n              },\r\n              () => {\r\n                // FAILED\r\n                this.messageService.showErrorMessage(this.getTranslateKey('errorOnSave'));\r\n                this.showSaveSpinner = false;\r\n              }\r\n            );\r\n        } else {\r\n          super.throwUnboundLocalError('saveFamilyData', 'this.familyDisplayed');\r\n        }\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('duplicateFamilyCode'));\r\n      }\r\n    }\r\n  }\r\n\r\n  private validateDuplicateFamily(): boolean {\r\n    let isFound = false;\r\n    this.resultsTable.list.forEach((res: BireFamilyDTO) => {\r\n      if (res.familyCode === this.familyDisplayed.familyCode) {\r\n        isFound = true;\r\n      }\r\n    });\r\n\r\n    if (isFound) {\r\n      if (!this.componentData.objectId) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private initializeObjectsAfterSave() {\r\n    // Clean the added lists\r\n    this.bireModificationAddedList = [];\r\n    this.bireRatingAddedList = [];\r\n\r\n    // Clean the udated lists\r\n    this.bireModificationUpdatedList = [];\r\n    this.bireRatingUpdatedList = [];\r\n\r\n    // Reset database object with displayed object\r\n    this.family = { ...this.familyDisplayed };\r\n    this.bireModifications = [...this.modificationsTableDataSource.dataSrc];\r\n    this.bireRatings = [...this.ratingsTableDataSource.dataSrc];\r\n  }\r\n\r\n  public isEngine(): boolean {\r\n    return this.family.familyFunction === this.engineValue;\r\n  }\r\n\r\n  public redirectToURL(site) {\r\n    window.open(site);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { SaveFamilyDataInput } from '../../../shared/types/api-input-types/product-structure-management/save-family-data-input.interface';\r\nimport { BireFamilyDTOId } from '../../../shared/types/api-types/bire-family-dto-id.interface';\r\nimport { BireFamilyDTO } from '../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireModificationDTOId } from '../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { BireRatingDTOId } from '../../../shared/types/api-types/bire-rating-dto-id.interface';\r\nimport { BireRatingDTO } from '../../../shared/types/api-types/bire-rating-dto.interface';\r\n\r\n@Injectable()\r\nexport class FamilyFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Product structure management api\r\n   *************************************************************************/\r\n\r\n  public findBireModificationByBireFamily(bireFamily: BireFamilyDTO): Observable<BireModificationDTO[]> {\r\n    const modificiation: BireModificationDTO = {\r\n      familyCode: bireFamily.familyCode,\r\n      structureType: bireFamily.structureType\r\n    };\r\n\r\n    return super.post<BireModificationDTO, BireModificationDTO[]>(\r\n      this.productStructureManagementApi.findBireModificationsByFamilyId,\r\n      modificiation\r\n    );\r\n  }\r\n\r\n  public findBireRatingByBireFamily(familyCode: string, structureType: string): Observable<BireRatingDTO[]> {\r\n    const familyId: BireFamilyDTOId = { familyCode, structureType };\r\n\r\n    return super.post<BireFamilyDTOId, BireRatingDTO[]>(\r\n      this.productStructureManagementApi.findBireRatingsByFamilyPK,\r\n      familyId\r\n    );\r\n  }\r\n\r\n  public saveFamilyData(\r\n    bireFamilyDTO: BireFamilyDTO,\r\n    bireModificationAddedList: BireModificationDTO[],\r\n    bireModificationUpdatedList: BireModificationDTO[],\r\n    bireModificationRemovedList: BireModificationDTOId[],\r\n    bireRatingAddedList: BireRatingDTO[],\r\n    bireRatingUpdatedList: BireRatingDTO[],\r\n    bireRatingRemovedList: BireRatingDTOId[]\r\n  ): Observable<void> {\r\n    const params: SaveFamilyDataInput = {\r\n      bireFamilyDTO,\r\n      bireModificationAddedList,\r\n      bireModificationUpdatedList,\r\n      bireModificationRemovedList,\r\n      bireRatingAddedList,\r\n      bireRatingUpdatedList,\r\n      bireRatingRemovedList,\r\n      bidoFunctionTypeAddedList: [],\r\n      bidoFunctionTypeUpdatedList: [],\r\n      bidoProfileFunctionAddedList: []\r\n    };\r\n\r\n    return super.post<SaveFamilyDataInput, void>(this.productStructureManagementApi.saveFamilyData, params);\r\n  }\r\n\r\n  public findBireFamilyByFamilyId(familyCode: string, structureType: string): Observable<BireFamilyDTO> {\r\n    const familyId: BireFamilyDTOId = { familyCode, structureType };\r\n\r\n    return super.post<BireFamilyDTOId, BireFamilyDTO>(\r\n      this.productStructureManagementApi.findBireFamilyByFamilyId,\r\n      familyId\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".modificationManagement\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div *ngIf=\\\"!isReadOpenMode\\\" class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationType\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"10\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationType\\\"\\r\\n          [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!isReadOpenMode\\\" class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationNumber\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"50\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationNumber\\\"\\r\\n          [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"!isReadOpenMode\\\" class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationRevisionNumber\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationRevisionNumber\\\"\\r\\n          maxlength=\\\"10\\\"\\r\\n          [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"isReadOpenMode\\\" class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationType\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationType\\\"\\r\\n          maxlength=\\\"10\\\"\\r\\n          [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"isReadOpenMode\\\" class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationNumber\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"50\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationNumber\\\"\\r\\n          [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"isReadOpenMode\\\" class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationRevisionNumber\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"10\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationRevisionNumber\\\"\\r\\n          [disabled]=\\\"isReadOpenMode || !isEditable\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationDocumentUrl\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationDocumentUrl\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modificationTitle\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <textarea\\r\\n          class=\\\"aw-textarea\\\"\\r\\n          [(ngModel)]=\\\"bireModificationObject.modificationTitle\\\"\\r\\n          maxlength=\\\"300\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n          [rows]=\\\"3\\\"\\r\\n          pInputTextarea\\r\\n        ></textarea>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        !bireModificationObject.modificationType ||\\r\\n        !bireModificationObject.modificationNumber ||\\r\\n        !bireModificationObject.modificationRevisionNumber\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<!-- ZONE POPUP -->\\r\\n<!--\\r\\n  TODO: fix for AOT: Property 'showFamilyCodeDialog' does not exist on type 'FamilyModificationPopupFormComponent'.\\r\\n-->\\r\\n<!--\\r\\n  <aw-dialog-table *ngIf=\\\"showFamilyCodeDialog\\\" [(display)]=\\\"showFamilyCodeDialog\\\" [data]=\\\"dialogTableDataFamilyCode\\\" (onSelected)=\\\"setSelectedFamilyCode($event)\\\"></aw-dialog-table>\\r\\n-->\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BireModificationDTO } from '../../../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\n\r\n@Component({\r\n  selector: 'aw-family-modification-popup',\r\n  templateUrl: './family-modification-popup.component.html',\r\n  styleUrls: ['../popup-form.component.scss']\r\n})\r\nexport class FamilyModificationPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireModificationDTO> | null;\r\n\r\n  public isNewModification: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireModificationDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireModificationDTO>;\r\n\r\n  public bireModificationObject: BireModificationDTO;\r\n  public isEditable: boolean = true;\r\n\r\n  public constructor(private readonly messageService: MessageService) {\r\n    super(ComponentOpenMode.Write, 'FamilyFormComponent');\r\n\r\n    this.onCreate = new EventEmitter<BireModificationDTO>();\r\n    this.onUpdate = new EventEmitter<BireModificationDTO>();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n\r\n      if (!!this.componentData && !!this.componentData.object && !this.isEmpty(this.componentData.object)) {\r\n        this.bireModificationObject = this.componentData.object;\r\n        this.isNewModification = false;\r\n        this.isEditable = false;\r\n      } else {\r\n        this.bireModificationObject = {};\r\n        this.isNewModification = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private isEmpty(obj): boolean {\r\n    for (const prop in obj) {\r\n      if (obj.hasOwnProperty(prop)) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onCancel(): void {\r\n    this.bireModificationObject = {};\r\n    this.display = false;\r\n  }\r\n\r\n  private isOneRequiredFieldNull() {\r\n    return (\r\n      !this.bireModificationObject.modificationNumber ||\r\n      !this.bireModificationObject.modificationType ||\r\n      !this.bireModificationObject.modificationRevisionNumber\r\n    );\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (!this.isOneRequiredFieldNull()) {\r\n      if (this.isValidURL(this.bireModificationObject.modificationDocumentUrl)) {\r\n        if (this.isNewModification) {\r\n          this.onCreate.emit(this.bireModificationObject);\r\n        } else {\r\n          this.onUpdate.emit(this.bireModificationObject);\r\n        }\r\n        this.display = false;\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('entryOfValidModificationURLisRequired'));\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));\r\n    }\r\n  }\r\n\r\n  private isValidURL(url): boolean {\r\n    if (!!url) {\r\n      // tslint:disable-next-line:max-line-length\r\n      const pattern = /^http(s{0,1}):\\/\\/\\w+([a-zA-Z0-9_\\/\\-\\.]+\\.([A-Za-z\\/]{2,5})|(6553[0-5]|655[0-2]|65[0-4]{0,2}|6[0-4]|5|[0-9]{0,3}))[a-zA-Z0-9_\\/\\&\\?\\=\\-\\.\\~\\%]*/;\r\n      const regex = new RegExp(pattern);\r\n\r\n      return regex.test(url);\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".ratingManagement\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div *ngIf=\\\"!isReadOpenMode\\\" class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".ratingCode\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"50\\\"\\r\\n          [(ngModel)]=\\\"bireRatingObject.ratingCode\\\"\\r\\n          [disabled]=\\\"!isNewRating\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"isReadOpenMode\\\" class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".ratingCode\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"50\\\"\\r\\n          [(ngModel)]=\\\"bireRatingObject.ratingCode\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".ratingName\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          maxlength=\\\"100\\\"\\r\\n          [(ngModel)]=\\\"bireRatingObject.ratingName\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"!bireRatingObject.ratingCode\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { BireRatingDTO } from '../../../../../shared/types/api-types/bire-rating-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\n\r\n@Component({\r\n  selector: 'aw-family-rating-popup',\r\n  templateUrl: './family-rating-popup.component.html',\r\n  styleUrls: ['../popup-form.component.scss']\r\n})\r\nexport class FamilyRatingPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireRatingDTO> | null;\r\n\r\n  public isNewRating: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireRatingDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireRatingDTO>;\r\n\r\n  public bireRatingObject: BireRatingDTO;\r\n\r\n  public constructor(private readonly messageService: MessageService) {\r\n    super(ComponentOpenMode.Write, 'FamilyFormComponent');\r\n\r\n    this.onCreate = new EventEmitter<BireRatingDTO>();\r\n\r\n    this.onUpdate = new EventEmitter<BireRatingDTO>();\r\n\r\n    this.displayChange = new EventEmitter<boolean>();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n\r\n      if (!!this.componentData && !!this.componentData.object && !this.isEmpty(this.componentData.object)) {\r\n        this.bireRatingObject = this.componentData.object;\r\n        this.isNewRating = false;\r\n      } else {\r\n        this.bireRatingObject = {};\r\n        this.isNewRating = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private isEmpty(obj): boolean {\r\n    for (const prop in obj) {\r\n      if (obj.hasOwnProperty(prop)) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onCancel(): void {\r\n    this.bireRatingObject = {};\r\n    this.display = false;\r\n  }\r\n\r\n  private isOneRequiredFieldNull() {\r\n    return !this.bireRatingObject.ratingCode;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (!this.isOneRequiredFieldNull()) {\r\n      if (this.isNewRating) {\r\n        this.onCreate.emit(this.bireRatingObject);\r\n      } else {\r\n        this.onUpdate.emit(this.bireRatingObject);\r\n      }\r\n      this.display = false;\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));\r\n    }\r\n  }\r\n}\r\n","module.exports = \":host #popup-form-component .general-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #popup-form-component .general-tab .general-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #popup-form-component .general-tab .general-fields .general-field {\\n      width: 10rem; }\\n  :host #popup-form-component .general-tab .general-fields .general-field .aw-checkbox {\\n        margin-top: 30px;\\n        margin-bottom: 8px; }\\n  :host #popup-form-component .general-tab .general-fields .general-field .popup-dropdown {\\n        width: 222px; }\\n  :host #popup-form-component .general-tab .general-fields .general-field .group-opt {\\n        width: 222px; }\\n  :host #popup-form-component .general-tab .general-fields .opt-field {\\n      margin-left: 30px;\\n      width: 180px; }\\n  :host #popup-form-component .general-tab .general-fields .opt-field .aw-checkbox {\\n        margin-bottom: 8px; }\\n  :host #popup-form-component .general-tab .general-fields .opt-field .aw-input-group-popup {\\n        display: flex;\\n        flex-direction: row;\\n        flex-wrap: wrap; }\\n  :host #popup-form-component .general-tab .general-fields .opt-field .aw-input-group-popup .input-opt {\\n          width: 140px; }\\n  :host #popup-form-component .general-tab .general-fields .location-container {\\n      display: flex;\\n      flex-direction: row; }\\n  :host #popup-form-component .general-tab .general-fields .popup-form-group {\\n      /*&:first-of-type {\\r\\n                        padding-right: 60px;\\r\\n                    }*/ }\\n  :host #popup-form-component .general-tab .general-fields .popup-form-group > div {\\n        display: flex;\\n        flex-direction: column;\\n        width: 250px;\\n        padding-left: 65px; }\\n  :host #popup-form-component .general-tab .general-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 100%; }\\n  :host #popup-form-component .general-tab .general-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #popup-form-component .general-tab .general-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #popup-form-component .general-tab .general-fields .aw-input-group-popup {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #popup-form-component .general-tab .general-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #popup-form-component .general-tab .general-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #popup-form-component .general-tab .general-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #popup-form-component .general-tab .general-tables .row:nth-of-type(2) {\\n        margin-bottom: 24px; }\\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper-large {\\n        width: 100%; }\\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper:first-of-type,\\n      :host #popup-form-component .general-tab .general-tables .row .table-wrapper-large:first-of-type {\\n        padding-right: 24px; }\\n  :host #popup-form-component .general-tab .general-tables .row .table-wrapper:nth-of-type(2),\\n      :host #popup-form-component .general-tab .general-tables .row .table-wrapper-large:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host .page-content .main-data {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap; }\\n  :host .page-content .main-data .form-group {\\n    margin-right: 20px;\\n    width: 20%; }\\n  :host .page-content .main-data .form-group:last-of-type {\\n      margin-right: 0; }\\n  :host .page-content .general-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host .page-content .general-tab .bp-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host .page-content .general-tab .bp-fields .label-comment {\\n      margin-top: 17px; }\\n  :host .page-content .general-tab .bp-fields .bp-field {\\n      width: 12rem; }\\n  :host .page-content .general-tab .bp-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host .page-content .general-tab .bp-fields > div:first-of-type {\\n        margin-right: 20px; }\\n  :host .page-content .general-tab .bp-fields > div:nth-of-type(2) {\\n        margin-left: 20px; }\\n  :host .page-content .general-tab .tables {\\n    display: flex;\\n    flex-direction: row; }\\n  :host .page-content .general-tab .tables > div:first-of-type,\\n    :host .page-content .general-tab .tables > div:nth-of-type(2) {\\n      width: 30%; }\\n  :host .page-content .general-tab .tables > div:first-of-type {\\n      padding-right: 20px; }\\n  :host .page-content .general-tab .tables > div:nth-of-type(2) {\\n      padding-left: 20px;\\n      padding-right: 20px; }\\n  :host .page-content .general-tab .tables > div:nth-of-type(3) {\\n      width: 40%;\\n      padding-left: 20px; }\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1mb3JtL3BvcHVwcy9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcZmFtaWx5LWZvcm1cXHBvcHVwc1xccG9wdXAtZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1mb3JtL3BvcHVwcy9wb3B1cC1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBSjVCO0lBT1EsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixXQUFXLEVBQUE7RUFUbkI7TUFZVSxZQUFZLEVBQUE7RUFadEI7UUFlWSxnQkFBZ0I7UUFDaEIsa0JBQWtCLEVBQUE7RUFoQjlCO1FBb0JZLFlBQVksRUFBQTtFQXBCeEI7UUF3QlksWUFBWSxFQUFBO0VBeEJ4QjtNQThCVSxpQkFBaUI7TUFDakIsWUFBWSxFQUFBO0VBL0J0QjtRQWtDWSxrQkFBa0IsRUFBQTtFQWxDOUI7UUFzQ1ksYUFBYTtRQUNiLG1CQUFtQjtRQUNuQixlQUFlLEVBQUE7RUF4QzNCO1VBMkNjLFlBQVksRUFBQTtFQTNDMUI7TUFpRFUsYUFBYTtNQUNiLG1CQUFtQixFQUFBO0VBbEQ3QjtNQTZEVTs7c0JDNUJZLEVEOEJDO0VBL0R2QjtRQXVEWSxhQUFhO1FBQ2Isc0JBQXNCO1FBQ3RCLFlBQVk7UUFDWixrQkFBa0IsRUFBQTtFQTFEOUI7TUFtRVUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixXQUFXLEVBQUE7RUFyRXJCO1FBd0VZLG1CQUFtQixFQUFBO0VBeEUvQjtRQTRFWSxrQkFBa0IsRUFBQTtFQTVFOUI7TUFpRlUsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUFuRnpCO0lBd0ZRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUExRnpCO01BNkZVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBO0VBL0Z6QjtRQWtHWSxtQkFBbUIsRUFBQTtFQWxHL0I7UUFzR1ksbUJBQW1CLEVBQUE7RUF0Ry9CO1FBMEdZLFVBQVUsRUFBQTtFQTFHdEI7UUE4R1ksV0FBVyxFQUFBO0VBOUd2Qjs7UUFvSGMsbUJBQW1CLEVBQUE7RUFwSGpDOztRQXdIYyxrQkFBa0IsRUFBQTtFQXhIaEM7RUFrSU0sYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixlQUFlLEVBQUE7RUFwSXJCO0lBdUlRLGtCQUFrQjtJQUNsQixVQUFVLEVBQUE7RUF4SWxCO01BMklVLGVBQWUsRUFBQTtFQTNJekI7RUFpSk0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBbEo1QjtJQXFKUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQXZKbkI7TUEwSlUsZ0JBQWdCLEVBQUE7RUExSjFCO01BOEpVLFlBQVksRUFBQTtFQTlKdEI7TUFrS1UsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7RUFwS3BCO1FBdUtZLGtCQUFrQixFQUFBO0VBdks5QjtRQTJLWSxpQkFBaUIsRUFBQTtFQTNLN0I7SUFpTFEsYUFBYTtJQUNiLG1CQUFtQixFQUFBO0VBbEwzQjs7TUFzTFUsVUFBVSxFQUFBO0VBdExwQjtNQTBMVSxtQkFBbUIsRUFBQTtFQTFMN0I7TUE4TFUsa0JBQWtCO01BQ2xCLG1CQUFtQixFQUFBO0VBL0w3QjtNQW1NVSxVQUFVO01BQ1Ysa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvZmFtaWx5LWZvcm0vcG9wdXBzL3BvcHVwLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgI3BvcHVwLWZvcm0tY29tcG9uZW50IHtcclxuICAgIC5nZW5lcmFsLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuZ2VuZXJhbC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmdlbmVyYWwtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG5cclxuICAgICAgICAgIC5hdy1jaGVja2JveCB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAucG9wdXAtZHJvcGRvd24ge1xyXG4gICAgICAgICAgICB3aWR0aDogMjIycHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLmdyb3VwLW9wdCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAyMjJweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5vcHQtZmllbGQge1xyXG4gICAgICAgICAgLy93aWR0aDogOHJlbTtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgICAgICAgd2lkdGg6IDE4MHB4O1xyXG5cclxuICAgICAgICAgIC5hdy1jaGVja2JveCB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAuYXctaW5wdXQtZ3JvdXAtcG9wdXAge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgICAuaW5wdXQtb3B0IHtcclxuICAgICAgICAgICAgICB3aWR0aDogMTQwcHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5sb2NhdGlvbi1jb250YWluZXIge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucG9wdXAtZm9ybS1ncm91cCB7XHJcbiAgICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgICAgd2lkdGg6IDI1MHB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDY1cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLyomOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA2MHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5hdy1pbnB1dC1ncm91cC1wb3B1cCB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5nZW5lcmFsLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyLWxhcmdlIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIsXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlci1sYXJnZSB7XHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAucGFnZS1jb250ZW50IHtcclxuICAgIC5tYWluLWRhdGEge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgIHdpZHRoOiAyMCU7XHJcblxyXG4gICAgICAgICY6bGFzdC1vZi10eXBlIHtcclxuICAgICAgICAgIG1hcmdpbi1yaWdodDogMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZ2VuZXJhbC10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmJwLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAubGFiZWwtY29tbWVudCB7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxN3B4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmJwLWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiAxMnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAudGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblxyXG4gICAgICAgICYgPiBkaXY6Zmlyc3Qtb2YtdHlwZSxcclxuICAgICAgICAmID4gZGl2Om50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgIHdpZHRoOiAzMCU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2OmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgcGFkZGluZy1yaWdodDogMjBweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xyXG4gICAgICAgICAgcGFkZGluZy1yaWdodDogMjBweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMykge1xyXG4gICAgICAgICAgd2lkdGg6IDQwJTtcclxuICAgICAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cbiAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB3aWR0aDogMTAwJTsgfVxuICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5nZW5lcmFsLWZpZWxkIHtcbiAgICAgIHdpZHRoOiAxMHJlbTsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLmdlbmVyYWwtZmllbGQgLmF3LWNoZWNrYm94IHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAuZ2VuZXJhbC1maWVsZCAucG9wdXAtZHJvcGRvd24ge1xuICAgICAgICB3aWR0aDogMjIycHg7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5nZW5lcmFsLWZpZWxkIC5ncm91cC1vcHQge1xuICAgICAgICB3aWR0aDogMjIycHg7IH1cbiAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAub3B0LWZpZWxkIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xuICAgICAgd2lkdGg6IDE4MHB4OyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyAub3B0LWZpZWxkIC5hdy1jaGVja2JveCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLm9wdC1maWVsZCAuYXctaW5wdXQtZ3JvdXAtcG9wdXAge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7IH1cbiAgICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLm9wdC1maWVsZCAuYXctaW5wdXQtZ3JvdXAtcG9wdXAgLmlucHV0LW9wdCB7XG4gICAgICAgICAgd2lkdGg6IDE0MHB4OyB9XG4gICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLmxvY2F0aW9uLWNvbnRhaW5lciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsgfVxuICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5wb3B1cC1mb3JtLWdyb3VwIHtcbiAgICAgIC8qJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogNjBweDtcclxuICAgICAgICAgICAgICAgICAgICB9Ki8gfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC1maWVsZHMgLnBvcHVwLWZvcm0tZ3JvdXAgPiBkaXYge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB3aWR0aDogMjUwcHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogNjVweDsgfVxuICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzID4gZGl2IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgd2lkdGg6IDEwMCU7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzID4gZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4OyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLWZpZWxkcyA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMjRweDsgfVxuICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtZmllbGRzIC5hdy1pbnB1dC1ncm91cC1wb3B1cCB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIGZsZXgtd3JhcDogd3JhcDsgfVxuICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHBhZGRpbmctdG9wOiAyNHB4OyB9XG4gICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgIGZsZXgtd3JhcDogd3JhcDsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdzpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDsgfVxuICAgICAgOmhvc3QgI3BvcHVwLWZvcm0tY29tcG9uZW50IC5nZW5lcmFsLXRhYiAuZ2VuZXJhbC10YWJsZXMgLnJvdzpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXIge1xuICAgICAgICB3aWR0aDogNTAlOyB9XG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IC50YWJsZS13cmFwcGVyLWxhcmdlIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXI6Zmlyc3Qtb2YtdHlwZSxcbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXItbGFyZ2U6Zmlyc3Qtb2YtdHlwZSB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7IH1cbiAgICAgIDpob3N0ICNwb3B1cC1mb3JtLWNvbXBvbmVudCAuZ2VuZXJhbC10YWIgLmdlbmVyYWwtdGFibGVzIC5yb3cgLnRhYmxlLXdyYXBwZXI6bnRoLW9mLXR5cGUoMiksXG4gICAgICA6aG9zdCAjcG9wdXAtZm9ybS1jb21wb25lbnQgLmdlbmVyYWwtdGFiIC5nZW5lcmFsLXRhYmxlcyAucm93IC50YWJsZS13cmFwcGVyLWxhcmdlOm50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4OyB9XG5cbjpob3N0IC5wYWdlLWNvbnRlbnQgLm1haW4tZGF0YSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGZsZXgtd3JhcDogd3JhcDsgfVxuICA6aG9zdCAucGFnZS1jb250ZW50IC5tYWluLWRhdGEgLmZvcm0tZ3JvdXAge1xuICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgICB3aWR0aDogMjAlOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAubWFpbi1kYXRhIC5mb3JtLWdyb3VwOmxhc3Qtb2YtdHlwZSB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDA7IH1cblxuOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9XG4gIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB3aWR0aDogMTAwJTsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgLmxhYmVsLWNvbW1lbnQge1xuICAgICAgbWFyZ2luLXRvcDogMTdweDsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgLmJwLWZpZWxkIHtcbiAgICAgIHdpZHRoOiAxMnJlbTsgfVxuICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXYge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB3aWR0aDogNTAlOyB9XG4gICAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAuYnAtZmllbGRzID4gZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7IH1cbiAgICAgIDpob3N0IC5wYWdlLWNvbnRlbnQgLmdlbmVyYWwtdGFiIC5icC1maWVsZHMgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsgfVxuICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzID4gZGl2OmZpcnN0LW9mLXR5cGUsXG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLnRhYmxlcyA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICB3aWR0aDogMzAlOyB9XG4gICAgOmhvc3QgLnBhZ2UtY29udGVudCAuZ2VuZXJhbC10YWIgLnRhYmxlcyA+IGRpdjpmaXJzdC1vZi10eXBlIHtcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7IH1cbiAgICA6aG9zdCAucGFnZS1jb250ZW50IC5nZW5lcmFsLXRhYiAudGFibGVzID4gZGl2Om50aC1vZi10eXBlKDMpIHtcbiAgICAgIHdpZHRoOiA0MCU7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7IH1cbiJdfQ== */\"","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewFamily()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"refresh()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <!-- Families table -->\\r\\n\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ familyTableDataSource ? familyTableDataSource.dataCount : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"familyTableDataSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"\\r\\n                      familyTableDataSource && familyTableDataSource.hasData && !familyTableDataSource.hasDataSelection\\r\\n                    \\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && familyTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteSelectedFamily()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n                  <button\\r\\n                    *ngIf=\\\"familyTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedFamily()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n                <ng-template columnDef=\\\"familyCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <a (click)=\\\"openFamilyLink(rowData)\\\"> {{ rowData.familyCode }} </a>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .criteria-checkboxes,\\n:host .form-group {\\n  margin-right: 20px;\\n  max-width: 15rem;\\n  min-width: 10rem;\\n  width: 20%; }\\n  :host .criteria-checkboxes:last-of-type,\\n  :host .form-group:last-of-type {\\n    margin-right: 0; }\\n  :host .search-criteria-primary {\\n  justify-content: flex-start; }\\n  :host .search-criteria-primary .criteria-checkboxes {\\n    display: flex;\\n    flex-direction: column; }\\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:first-of-type {\\n      margin-top: 30px; }\\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:nth-of-type(2) {\\n      margin-top: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1zZWFyY2gvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXGZhbWlseS1zZWFyY2hcXGZhbWlseS1zZWFyY2guY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBR0ksa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBTmQ7O0lBU00sZUFBZSxFQUFBO0VBVHJCO0VBY0ksMkJBQTJCLEVBQUE7RUFkL0I7SUFpQk0sYUFBYTtJQUNiLHNCQUFzQixFQUFBO0VBbEI1QjtNQXFCUSxnQkFBZ0IsRUFBQTtFQXJCeEI7TUF5QlEsZUFBZSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2ZhbWlseS1zZWFyY2gvZmFtaWx5LXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAuY3JpdGVyaWEtY2hlY2tib3hlcyxcclxuICAuZm9ybS1ncm91cCB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDE1cmVtO1xyXG4gICAgbWluLXdpZHRoOiAxMHJlbTtcclxuICAgIHdpZHRoOiAyMCU7XHJcblxyXG4gICAgJjpsYXN0LW9mLXR5cGUge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc2VhcmNoLWNyaXRlcmlhLXByaW1hcnkge1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG5cclxuICAgIC5jcml0ZXJpYS1jaGVja2JveGVzIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIHAtY2hlY2tib3g6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcC1jaGVja2JveDpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { MenuItem } from 'primeng/api';\r\nimport { forkJoin } from 'rxjs';\r\n\r\nimport { ColumnAlignment, TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { BireFamilyDTOId } from '../../../shared/types/api-types/bire-family-dto-id.interface';\r\nimport { BireFamilyDTO } from '../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { LabelValueUtils } from '../../../shared/utils/label-value-utils';\r\n\r\nimport { FamilySearchService } from './family-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-family-search',\r\n  templateUrl: './family-search.component.html',\r\n  styleUrls: ['./family-search.component.scss']\r\n})\r\nexport class FamilySearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public filteredRowsNb: number;\r\n  public familyTableDataSource: TableDataSource<BireFamilyDTO>;\r\n  public exportMethods: MenuItem[];\r\n\r\n  public familyStructureType: string;\r\n  public propertyFamilyFunction: LabelValue<string>[];\r\n\r\n  public resultsTableExportName: string;\r\n  public isLoading: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly familySearchService: FamilySearchService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly exportService: ExportService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.resultsTableExportName = 'Family list';\r\n\r\n    this.filteredRowsNb = 0;\r\n    this.exportMethods = [];\r\n    this.initFamilyTableDataSource();\r\n    this.setExportMethods();\r\n\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      this.setExportMethods();\r\n    });\r\n\r\n    this.isLoading = false;\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'FamilySearchComponent';\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.isLoading = true;\r\n    forkJoin({\r\n      familyFunctionList: this.propertiesService.getValue('getFamilyFunctionMap'),\r\n      structureTypeValue: this.propertiesService.getValueByKey('getStructureTypeValueByKey',\r\n      AWPropertiesConstants.STRUCTURE_TYPE_IPC_KEY ),\r\n      familyList: this.familySearchService.findAllBireFamilys()\r\n    }).subscribe(\r\n      (result) => {\r\n        this.propertyFamilyFunction = result.familyFunctionList;\r\n        this.familyStructureType = result.structureTypeValue;\r\n        result.familyList.list.forEach((element) => {\r\n          element.structureTypeDisplay = this.familyStructureType;\r\n          LabelValueUtils.stringValueToLabel(element, 'familyFunction', this.propertyFamilyFunction);\r\n        });\r\n        this.familyTableDataSource.setData(result.familyList.list);\r\n        this.familyTableDataSource.update();\r\n        this.familyTableDataSource.dataSrc.sort((a, b) =>\r\n        !!a.familyCode && !!b.familyCode && a.familyCode > b.familyCode ? 1 : -1\r\n      );\r\n        this.filteredRowsNb = result.familyList.list.length;\r\n        this.isLoading = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearchAllBireFamily'));\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  private initFamilyTableDataSource(): void {\r\n    this.familyTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'familyCode',\r\n          translateKey: this.getTranslateKey('familyCode'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '20%'\r\n        },\r\n        {\r\n          field: 'familyName',\r\n          translateKey: this.getTranslateKey('familyName'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '40%'\r\n        },\r\n        {\r\n          field: 'structureTypeDisplay',\r\n          translateKey: this.getTranslateKey('structureTypeDisplay'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '20%'\r\n        },\r\n        {\r\n          field: 'familyFunction',\r\n          translateKey: this.getTranslateKey('familyFunction'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '20%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public deleteSelectedFamily(): void {\r\n    const deleteMessage =\r\n      this.familyTableDataSource.dataSelectionCount > 1 ?\r\n      'confirmDeleteSelectedFamilys' : 'confirmDeleteSelectedFamily';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(deleteMessage),\r\n      accept: () => {\r\n        this.familySearchService.removeBireFamilys(this.familyTableDataSource.dataSelection).subscribe(\r\n          (result) => {\r\n            if (this.familyTableDataSource.dataSelectionCount > 1) {\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('onSuccessDeleteFamilies'));\r\n            } else {\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('onSuccessDeleteFamily'));\r\n            }\r\n            this.familyTableDataSource.dataSelection = [];\r\n            this.search();\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteFamily'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public search() {\r\n    this.isLoading = true;\r\n\r\n    this.familySearchService.findAllBireFamilys().subscribe(\r\n      (results) => {\r\n        results.list.forEach((element) => {\r\n          element.structureTypeDisplay = this.familyStructureType;\r\n          LabelValueUtils.stringValueToLabel(element, 'familyFunction', this.propertyFamilyFunction);\r\n        });\r\n        this.familyTableDataSource.setData(results.list);\r\n        this.familyTableDataSource.update();\r\n        this.familyTableDataSource.dataSrc.sort((a, b) =>\r\n        !!a.familyCode && !!b.familyCode && a.familyCode > b.familyCode ? 1 : -1\r\n      );\r\n        this.filteredRowsNb = results.list.length;\r\n        this.isLoading = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearchAllBireFamily'));\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  public refresh() {\r\n    this.search();\r\n  }\r\n\r\n  public openNewFamily(): void {\r\n    this.openFamily(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public openFamilyLink(bireFamily: BireFamilyDTO): void {\r\n    if (bireFamily && bireFamily.familyCode && bireFamily.structureType) {\r\n      const bireFamilyId: BireFamilyDTOId = {\r\n        familyCode: bireFamily.familyCode,\r\n        structureType: bireFamily.structureType\r\n      };\r\n      this.openFamily(bireFamilyId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  public openSelectedFamily(): void {\r\n    this.familyTableDataSource.dataSelection.forEach((bireFamily) => {\r\n      if (bireFamily && bireFamily.familyCode && bireFamily.structureType) {\r\n        const bireFamilyId: BireFamilyDTOId = {\r\n          familyCode: bireFamily.familyCode,\r\n          structureType: bireFamily.structureType\r\n        };\r\n        this.openFamily(bireFamilyId, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n    this.familyTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onFilter(event: any): void {\r\n    this.filteredRowsNb = event.filteredValue.length;\r\n  }\r\n\r\n  private openFamily(objectId: BireFamilyDTOId | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.FamilyFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'FamilyFormComponent',\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      data.objectId = this.serializationService.serialize(objectId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public exportTable(): void {\r\n    if (!!this.componentData) {\r\n      this.exportService.toExcel(\r\n        this.modifyExportColumns(this.familyTableDataSource.dataSrc),\r\n        this.resultsTableExportName,\r\n        this.componentData.componentId\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('exportTable', 'this.componentData');\r\n    }\r\n  }\r\n\r\n  private modifyExportColumns(resultArr: BireFamilyDTO[]): BireFamilyDTO[] {\r\n    const exportArr: BireFamilyDTO[] = [];\r\n    resultArr.forEach((res) => {\r\n      const json: BireFamilyDTO = {};\r\n      const keys = Object.keys(res);\r\n      keys.forEach((key) => {\r\n        if (key !== 'variantName' && key !== 'variantCode' && key !== 'structureType') {\r\n          json[key] = res[key];\r\n        }\r\n      });\r\n      exportArr.push(json);\r\n    });\r\n\r\n    return exportArr;\r\n  }\r\n\r\n  private setExportMethods(): void {\r\n    this.exportMethods = [\r\n      {\r\n        label: this.translateService.instant('global.excel'),\r\n        icon: 'fa-file-excel-o'\r\n        // command: () => {}\r\n      },\r\n      {\r\n        label: this.translateService.instant('global.pdf'),\r\n        icon: 'fa-file-pdf-o'\r\n        // command: () => {}\r\n      }\r\n    ];\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { BireFamilyDTOId } from '../../../shared/types/api-types/bire-family-dto-id.interface';\r\nimport { BireFamilyDTO } from '../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class FamilySearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public removeBireFamilys(selectedBireFamilys: BireFamilyDTO[]): Observable<void> {\r\n    const selectedBireFamilysId: BireFamilyDTOId[] = [];\r\n    selectedBireFamilys.forEach((element) => {\r\n      if (!!element.familyCode && !!element.structureType) {\r\n        const bireFamilyDTOId: BireFamilyDTOId = {\r\n          familyCode: element.familyCode,\r\n          structureType: element.structureType\r\n        };\r\n        selectedBireFamilysId.push(bireFamilyDTOId);\r\n      }\r\n    });\r\n\r\n    return super.post<BireFamilyDTOId[], void>(\r\n      this.productStructureManagementApi.removeBireFamily,\r\n      selectedBireFamilysId\r\n    );\r\n  }\r\n\r\n  public findAllBireFamilys(): Observable<SearchResultsDTO<BireFamilyDTO>> {\r\n    return super.post<void, SearchResultsDTO<BireFamilyDTO>>(this.productStructureManagementApi.findAllBireFamilys);\r\n  }\r\n\r\n  public getSBObjectStatusValue(key: string): Observable<string> {\r\n    return super.post<string, string>(this.productStructureManagementApi.getSBObjectStatusValue, key);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          - {{ subTitle }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"object-status\\\" *ngIf=\\\"statusDTO.statusState\\\" (click)=\\\"showStatus()\\\">\\r\\n      {{ statusDTO.statusState | formatSelectOption: statusList }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"edit()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"warn\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"cancel()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"save()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item id=\\\"status\\\" (click)=\\\"openStatusUpdatesPopup()\\\">{{ \\\"updates\\\" | translate }}</button>\\r\\n      <button mat-menu-item *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" (click)=\\\"refresh()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div [ngClass]=\\\"isHardpointOrLoadFamily ? 'grid-cell--6' : 'grid-cell--12'\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <ng-template [ngIf]=\\\"!isHardpointOrLoadFamily\\\" [ngIfElse]=\\\"hardpointOrLoadFamilyInformations\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flCode\\\"></ng-container>\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flDescription\\\"></ng-container>\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flFunction\\\"></ng-container>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <div *ngIf=\\\"showConfigurationSheet()\\\">\\r\\n                            <label class=\\\"form-label\\\">{{\\r\\n                              componentData.componentId + \\\".isInConfigurationSheet\\\" | translate\\r\\n                            }}</label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <p-checkbox\\r\\n                                class=\\\"aw-checkbox\\\"\\r\\n                                binary=\\\"true\\\"\\r\\n                                [(ngModel)]=\\\"selectedFunctionalLocationComponent.flIsInConfSheet\\\"\\r\\n                                [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              ></p-checkbox>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group general-field\\\">\\r\\n                          <label class=\\\"form-label\\\">{{\\r\\n                            componentData.componentId + \\\".flNominalQuantity\\\" | translate\\r\\n                          }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              #flNominalQuantity=\\\"ngModel\\\"\\r\\n                              type=\\\"number\\\"\\r\\n                              [pKeyFilter]=\\\"inputValidationService.validatorOfInteger()\\\"\\r\\n                              [pValidateOnly]=\\\"true\\\"\\r\\n                              name=\\\"flNominalQuantity\\\"\\r\\n                              [(ngModel)]=\\\"selectedFunctionalLocationComponent.flNominalQuantity\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [max]=\\\"2147483648\\\"\\r\\n                              [min]=\\\"-2147483648\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              (keypress)=\\\"maxLengthCheck($event, selectedFunctionalLocationComponent.flNominalQuantity)\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                              required\\r\\n                            />\\r\\n                            <p-message\\r\\n                              *ngIf=\\\"\\r\\n                                flNominalQuantity.invalid && (flNominalQuantity.dirty || flNominalQuantity.touched)\\r\\n                              \\\"\\r\\n                              severity=\\\"error\\\"\\r\\n                              [text]=\\\"inputValidationService.formatOfInteger()\\\"\\r\\n                            ></p-message>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group general-field\\\">\\r\\n                          <label class=\\\"form-label\\\">{{\\r\\n                            componentData.componentId + \\\".flRequiredQuantity\\\" | translate\\r\\n                          }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              #flRequiredQuantity=\\\"ngModel\\\"\\r\\n                              type=\\\"number\\\"\\r\\n                              [pKeyFilter]=\\\"inputValidationService.validatorOfInteger()\\\"\\r\\n                              [pValidateOnly]=\\\"true\\\"\\r\\n                              name=\\\"flRequiredQuantity\\\"\\r\\n                              [(ngModel)]=\\\"selectedFunctionalLocationComponent.flRequiredQuantity\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [max]=\\\"2147483648\\\"\\r\\n                              [min]=\\\"-2147483648\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              (keypress)=\\\"\\r\\n                                maxLengthCheckRequired($event, selectedFunctionalLocationComponent.flRequiredQuantity)\\r\\n                              \\\"\\r\\n                              [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                              required\\r\\n                            />\\r\\n                            <p-message\\r\\n                              *ngIf=\\\"\\r\\n                                flRequiredQuantity.invalid && (flRequiredQuantity.dirty || flRequiredQuantity.touched)\\r\\n                              \\\"\\r\\n                              severity=\\\"error\\\"\\r\\n                              [text]=\\\"inputValidationService.formatOfInteger()\\\"\\r\\n                            ></p-message>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".flIsMel\\\" | translate }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-checkbox\\r\\n                              class=\\\"aw-checkbox\\\"\\r\\n                              binary=\\\"true\\\"\\r\\n                              [(ngModel)]=\\\"selectedFunctionalLocationComponent.flIsMel\\\"\\r\\n                              value=\\\"val1\\\"\\r\\n                              (onChange)=\\\"onHandleFlIsMel($event)\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            ></p-checkbox>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flOrderNumber\\\"></ng-container>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n                  </div>\\r\\n                  <ng-template #hardpointOrLoadFamilyInformations>\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flCode\\\"></ng-container>\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flDescription\\\"></ng-container>\\r\\n                      </div>\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flFunction\\\"></ng-container>\\r\\n                        <ng-container *ngTemplateOutlet=\\\"flOrderNumber\\\"></ng-container>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"isHardpointOrLoadFamily\\\" class=\\\"grid-cell--6\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".illustration\\\" | translate }}\\r\\n                      <div *ngIf=\\\"bireStructurePanelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <!-- Waiting for MCD changes -->\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".positionX\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            maxlength=\\\"50\\\"\\r\\n                            [(ngModel)]=\\\"selectedFunctionalLocationComponent.flPositionX\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".positionY\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            maxlength=\\\"50\\\"\\r\\n                            [(ngModel)]=\\\"selectedFunctionalLocationComponent.flPositionY\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <!-- <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".image\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"true\\\" />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div> -->\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--5\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".items\\\" | translate }} ({{\\r\\n                        familyVariantTableDataSource ? familyVariantTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                    <div *ngIf=\\\"familyVariantPanelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"familyVariantTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"\\r\\n                          !isReadOpenMode &&\\r\\n                          familyVariantTableDataSource.hasDataSelection &&\\r\\n                          selectedFunctionalLocationComponent.flFunction !==\\r\\n                            aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteSelectedFamilyVariant()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"\\r\\n                          !isReadOpenMode &&\\r\\n                          familyVariantTableDataSource.dataSelectionCount === 1 &&\\r\\n                          selectedFunctionalLocationComponent.flFunction !==\\r\\n                            aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editFamilyVariant()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"familyVariantTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openFamilyVariant()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        type=\\\"button\\\"\\r\\n                        *ngIf=\\\"!isReadOpenMode && !familyVariantTableDataSource.hasDataSelection\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createFamilyVariant()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"item\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"openItemForm(rowData)\\\">{{ rowData.item }}</a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell--7\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".structure\\\" | translate }} ({{\\r\\n                        bireStructureDisplayed ? bireStructureDisplayed.length : 0\\r\\n                      }})\\r\\n                      <div *ngIf=\\\"bireStructurePanelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <p-treeTable\\r\\n                    #ptreetableStructure\\r\\n                    class=\\\"aw-tree-table2\\\"\\r\\n                    [columns]=\\\"!isHardpointOrLoadFamily ? structureTableCols : structureTableColsHardpoint\\\"\\r\\n                    [value]=\\\"bireStructureDisplayed\\\"\\r\\n                    [(selection)]=\\\"selectedStructure\\\"\\r\\n                    selectionMode=\\\"checkBox\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                    (onNodeSelect)=\\\"onRowSelected($event.node)\\\"\\r\\n                    (onNodeUnselect)=\\\"onRowUnSelected($event.node)\\\"\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingStructureTable\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingStructureTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedStructure.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptreetableStructureGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptreetableStructure.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedStructure.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"detachSelectedStructure()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.detach\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedStructure.length === 1 && !!selectedStructure[0].parent\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editStructure()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedStructure.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openStructure()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.open\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && this.bireStructureDisplayed.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createStructure()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-treeTableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-treeTableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th ttResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowNode let-rowData=\\\"rowData\\\" let-columns=\\\"columns\\\">\\r\\n                      <tr>\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-treeTableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowNode\\\"></p-treeTableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td *ngFor=\\\"let col of columns; let i = index\\\" [ngSwitch]=\\\"col.field\\\">\\r\\n                          <p-treeTableToggler [rowNode]=\\\"rowNode\\\" *ngIf=\\\"i == 0\\\"></p-treeTableToggler>\\r\\n\\r\\n                          <span *ngSwitchCase=\\\"'flIsMel'\\\">\\r\\n                            <span *ngIf=\\\"rowData[col.field]\\\"> <i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i> </span>\\r\\n                          </span>\\r\\n\\r\\n                          <span *ngSwitchCase=\\\"'flCode'\\\" pTooltip=\\\"{{ rowData[col.field] }}\\\" tooltipPosition=\\\"top\\\">\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </span>\\r\\n\\r\\n                          <span *ngSwitchCase=\\\"'flFunction'\\\">\\r\\n                            <span> {{ getFlFunctionLabel(rowData) }} </span>\\r\\n                          </span>\\r\\n\\r\\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-treeTable>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n        <mat-tab *ngIf=\\\"engineType\\\">\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".models\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".models\\\" | translate }} ({{ modelTable ? modelTable.length : 0 }})\\r\\n                    </h3>\\r\\n                    <div *ngIf=\\\"modelPanelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"modelTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && modelTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteSelectedModel()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && modelTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openModel()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && !modelTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createModel()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"modelCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                      {{ rowData.bireModelDTO.modelCode }}\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"modelName\\\" let-rowData=\\\"rowData\\\">\\r\\n                      {{ rowData.bireModelDTO.modelName }}\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"ratingCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                      {{ rowData.bireModelDTO.ratingCode }}\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".documentation\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".documentation\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div class=\\\"row documentation-actions\\\">\\r\\n                      <p-fileUpload\\r\\n                        *ngIf=\\\"!isReadOpenMode && !documentExists\\\"\\r\\n                        #fileUploader\\r\\n                        class=\\\"aw-fileupload marginRight\\\"\\r\\n                        name=\\\"document[]\\\"\\r\\n                        customUpload=\\\"true\\\"\\r\\n                        mode=\\\"basic\\\"\\r\\n                        auto=\\\"true\\\"\\r\\n                        chooseLabel=\\\"{{ 'global.upload' | translate }}\\\"\\r\\n                        (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n                      ></p-fileUpload>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && documentExists\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteDocuments()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button *ngIf=\\\"documentExists\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"downloadFiles()\\\">\\r\\n                        {{ \\\"global.download\\\" | translate }}\\r\\n                      </button>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div *ngIf=\\\"flIsMelChecked\\\" class=\\\"form-group delay-category\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".delayCategory\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"delayCategories\\\"\\r\\n                            [(ngModel)]=\\\"selectedFunctionalLocationComponent.flDelayCategory\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".name\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"true\\\" [(ngModel)]=\\\"docName\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".description\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            maxlength=\\\"300\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            pInputTextarea\\r\\n                            [(ngModel)]=\\\"document.docDescription\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div *ngIf=\\\"flIsMelChecked\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".revisionNumber\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            maxlength=\\\"10\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            [(ngModel)]=\\\"document.docVersion\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div *ngIf=\\\"flIsMelChecked\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".revisionDate\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            [(ngModel)]=\\\"document.docPublicationDate\\\"\\r\\n                          >\\r\\n                          </p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div *ngIf=\\\"flIsMelChecked\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".remarksAndExceptions\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            maxlength=\\\"4000\\\"\\r\\n                            pInputTextarea\\r\\n                            [(ngModel)]=\\\"selectedFunctionalLocationComponent.flComments\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopup\\\"\\r\\n    [item]=\\\"currentAsset\\\"\\r\\n    [itemId]=\\\"currentAssetId\\\"\\r\\n    [(display)]=\\\"displayStatusPopup\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n    [isStatusEditable]=\\\"false\\\"\\r\\n    [item]=\\\"statusDTO\\\"\\r\\n    [itemId]=\\\"statusTitle\\\"\\r\\n    [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-family-variant-popup-form\\r\\n    *ngIf=\\\"showOpenFamilyVariantPopup\\\"\\r\\n    [(display)]=\\\"showOpenFamilyVariantPopup\\\"\\r\\n    [component-data]=\\\"dataFamilyVariant\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyFamilyVariantDialog\\\"\\r\\n    (onAdded)=\\\"onSaveFamilyVariant($event)\\\"\\r\\n    (onUpdate)=\\\"updateConcernedFunctionalLocation($event)\\\"\\r\\n    [isNewFunctionalLocation]=\\\"isNewFunctionalLocation\\\"\\r\\n  ></aw-family-variant-popup-form>\\r\\n  <aw-dialog-search-item\\r\\n    *ngIf=\\\"showFamilyVariantPopup\\\"\\r\\n    [(display)]=\\\"showFamilyVariantPopup\\\"\\r\\n    [searchObject]=\\\"{}\\\"\\r\\n    [autoFilterForFlFunction]=\\\"currentFamilyVariant.flFunction\\\"\\r\\n    (onValidated)=\\\"onValidate($event)\\\"\\r\\n  >\\r\\n  </aw-dialog-search-item>\\r\\n\\r\\n  <aw-model-popup-form\\r\\n    *ngIf=\\\"showModelDialog\\\"\\r\\n    [(display)]=\\\"showModelDialog\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyModelDialog\\\"\\r\\n    [model]=\\\"currentModel\\\"\\r\\n    (onValidated)=\\\"onAddModel($event)\\\"\\r\\n  ></aw-model-popup-form>\\r\\n\\r\\n  <aw-dialog-search-functional-location\\r\\n    [title]=\\\"getComponentName() + '.popupFunctionalLocationTitle' | translate\\\"\\r\\n    [includeUndefinedFunction]=\\\"false\\\"\\r\\n    [familyVariant]=\\\"familyVariant\\\"\\r\\n    [(display)]=\\\"showFlCodeTableDialog\\\"\\r\\n    [authorizedFunctionsId]=\\\"propertyValueId\\\"\\r\\n    (onSelected)=\\\"addOrUpdateStructure($event)\\\"\\r\\n  ></aw-dialog-search-functional-location>\\r\\n</div>\\r\\n\\r\\n<ng-template #flCode>\\r\\n  <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateOpenMode }\\\">\\r\\n    <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".flCode\\\" | translate }}</label>\\r\\n\\r\\n    <div class=\\\"form-control\\\">\\r\\n      <input\\r\\n        type=\\\"text\\\"\\r\\n        class=\\\"aw-input\\\"\\r\\n        [disabled]=\\\"!isCreateOpenMode\\\"\\r\\n        maxlength=\\\"50\\\"\\r\\n        [(ngModel)]=\\\"selectedFunctionalLocationComponent.flCode\\\"\\r\\n      />\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-template>\\r\\n<ng-template #flDescription>\\r\\n  <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n    <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".flDescription\\\" | translate }}</label>\\r\\n\\r\\n    <div class=\\\"form-control\\\">\\r\\n      <textarea\\r\\n        class=\\\"aw-textarea\\\"\\r\\n        [rows]=\\\"3\\\"\\r\\n        pInputTextarea\\r\\n        [disabled]=\\\"isReadOpenMode\\\"\\r\\n        [(ngModel)]=\\\"selectedFunctionalLocationComponent.flDescription\\\"\\r\\n        maxlength=\\\"300\\\"\\r\\n      ></textarea>\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-template>\\r\\n<ng-template #flFunction>\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".flFunction\\\" | translate }}</label>\\r\\n\\r\\n    <div class=\\\"form-control\\\">\\r\\n      <p-dropdown\\r\\n        class=\\\"aw-dropdown fixed-width\\\"\\r\\n        [options]=\\\"flFunctions\\\"\\r\\n        [(ngModel)]=\\\"selectedFunctionalLocationComponent.flFunction\\\"\\r\\n        [showClear]=\\\"true\\\"\\r\\n        placeholder=\\\"&nbsp;\\\"\\r\\n        [disabled]=\\\"isReadOpenMode\\\"\\r\\n        (onChange)=\\\"onFlFunctionsSelected($event)\\\"\\r\\n      ></p-dropdown>\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-template>\\r\\n<ng-template #flOrderNumber>\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <div\\r\\n      *ngIf=\\\"\\r\\n        selectedFunctionalLocationComponent.flFunction === aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY ||\\r\\n        isDisplayableOrderNumber()\\r\\n      \\\"\\r\\n    >\\r\\n      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".flOrderNumber\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n          maxlength=\\\"50\\\"\\r\\n          [(ngModel)]=\\\"selectedFunctionalLocationComponent.flOrderNumber\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-template>\\r\\n\"","module.exports = \":host .marginRight {\\n  margin-right: 8px; }\\n\\n:host .delay-category {\\n  max-width: 8rem; }\\n\\n:host .documentation-actions {\\n  justify-content: flex-end; }\\n\\n:host .documentation-actions .aw-btn {\\n    margin-left: 8px; }\\n\\n:host .documentation-actions .aw-btn:first-of-type {\\n      margin-left: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2Z1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcZnVuY3Rpb25hbC1sb2NhdGlvbi1mb3JtXFxmdW5jdGlvbmFsLWxvY2F0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9mdW5jdGlvbmFsLWxvY2F0aW9uLWZvcm0vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUVJLGlCQUFpQixFQUFBOztBQUZyQjtFQUtJLGVBQWUsRUFBQTs7QUFMbkI7RUFTSSx5QkFBeUIsRUFBQTs7QUFUN0I7SUFZTSxnQkM4QlksRUFBQTs7QUQxQ2xCO01BZVEsY0FBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2Z1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS9mdW5jdGlvbmFsLWxvY2F0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiY29uc3RhbnRzXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgLm1hcmdpblJpZ2h0IHtcclxuICAgIG1hcmdpbi1yaWdodDogOHB4O1xyXG4gIH1cclxuICAuZGVsYXktY2F0ZWdvcnkge1xyXG4gICAgbWF4LXdpZHRoOiA4cmVtO1xyXG4gIH1cclxuXHJcbiAgLmRvY3VtZW50YXRpb24tYWN0aW9ucyB7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cclxuICAgIC5hdy1idG4ge1xyXG4gICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TreeNode } from 'primeng/api';\r\nimport { forkJoin } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { FlVariantInput } from '../../..//shared/types/api-input-types/fleet-management/fl-variant-input.interface';\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { FormatSelectOptionPipe } from '../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { InputValidationService } from '../../../shared/services/input-validation.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { SaveFunctionalLocationInput } from '../../../shared/types/api-input-types/fleet-management/save-functional-location-input.interface';\r\nimport { FunctionalLocationStructureTreeNodeOutput } from '../../../shared/types/api-output-types/fleet-management/functional-location-structure-tree-node-output';\r\nimport { BidoDocumentationDTOId } from '../../../shared/types/api-types/bido-documentation-dto-id.interface';\r\nimport { BidoDocumentationDTO } from '../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { BidoFlDTOId } from '../../../shared/types/api-types/bido-fl-dto-id.interface';\r\nimport { BidoFlDTO } from '../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { BidoFlEquipmentDTO } from '../../../shared/types/api-types/bido-fl-equipment-dto.interface';\r\nimport { BidoFlModelDTOId } from '../../../shared/types/api-types/bido-fl-model-dto-id.interface';\r\nimport { BidoFlModelDTO } from '../../../shared/types/api-types/bido-fl-model-dto.interface';\r\nimport { BidoFlVariantDTOId } from '../../../shared/types/api-types/bido-fl-variant-dto-id.interface';\r\nimport { BidoFlVariantDTO } from '../../../shared/types/api-types/bido-fl-variant-dto.interface';\r\nimport { BireItemDTO } from '../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { FindBidoFlVariantsByFlCodeDTO } from '../../../shared/types/api-types/find-bido-fl-variants-by-fl-code-dto.interface';\r\nimport { FindBireVariantVersionsByFamilyFunctionAlternativeDTO } from '../../../shared/types/api-types/find-bire-variant-versions-by-family-function-alternative-dto.interface';\r\nimport { FlModelsTableDTO } from '../../../shared/types/api-types/fl-models-table-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { FileUtils } from '../../../shared/utils/file-utils';\r\nimport { StringUtils } from '../../../shared/utils/string-utils';\r\nimport { ObjectStatusComponent } from '../../object-status/object-status.component';\r\nimport { OverlayService } from '../../overlay/overlay.service';\r\nimport { FunctionalLocationSearchComponent } from '../functional-location-search/functional-location-search.component';\r\nimport { FunctionalLocationSearchService } from '../functional-location-search/functional-location-search.service';\r\n\r\nimport { FunctionalLocationFormService } from './functional-location-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-functional-location-form',\r\n  styleUrls: ['./functional-location-form.component.scss'],\r\n  templateUrl: './functional-location-form.component.html'\r\n})\r\nexport class FunctionalLocationFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public currentTabId: string;\r\n  public readonly tabGeneralId: string;\r\n  public readonly tabStructureId: string;\r\n  public readonly tabDocumentationId: string;\r\n  public readonly tabModelId: string;\r\n  public readonly tabAssetsId: string;\r\n  public readonly propertyValueId = 1092;\r\n  public isUpdate: boolean;\r\n\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  public showOpenFamilyVariantPopup: boolean;\r\n  public showFamilyVariantPopup: boolean;\r\n\r\n  public subTitle: string;\r\n\r\n  public selectedFunctionalLocationComponent: BidoFlDTO;\r\n\r\n  public flFunctions: LabelValue<string>[];\r\n  public statusList: LabelValue<string>[];\r\n  public findBireVariantVersion: FindBireVariantVersionsByFamilyFunctionAlternativeDTO[];\r\n\r\n  /* family-variant table */\r\n  public currentFamilyVariant: FindBidoFlVariantsByFlCodeDTO | undefined;\r\n  public dataFamilyVariant: PopupEntry<FindBidoFlVariantsByFlCodeDTO>;\r\n  public isNewFunctionalLocation: boolean;\r\n  public currentFamilyVariantIndex: number;\r\n  public bidoFlVariantDTOAddedList: BidoFlVariantDTO[];\r\n  public bidoFlVariantDTORemovedList: BidoFlVariantDTOId[];\r\n  public flVariantInputAddedList: FlVariantInput[];\r\n  public isReadOnlyFamilyVariantDialog: boolean;\r\n  public familyVariantTableDataSource: TableDataSource<FindBidoFlVariantsByFlCodeDTO>;\r\n  public familyVariant: string[];\r\n\r\n  /* asset table */\r\n  public displayStatusPopup: boolean;\r\n  public currentAsset: BidoFlEquipmentDTO;\r\n  public currentAssetId: string;\r\n  public assetTableDataSource: TableDataSource<BidoFlEquipmentDTO>;\r\n\r\n  /* model table */\r\n  public currentModel: FlModelsTableDTO | undefined;\r\n  public showModelDialog: boolean;\r\n  public engineType: boolean;\r\n  public isHardpointOrLoadFamily: boolean;\r\n  public flIsMelChecked: boolean;\r\n  public isNewModel: boolean;\r\n  public currentModelIndex: number | undefined;\r\n  public flModelAddedList: BidoFlModelDTO[];\r\n  public flModelRemovedList: BidoFlModelDTOId[];\r\n  public isReadOnlyModelDialog: boolean;\r\n  public modelTableDataSource: TableDataSource<FlModelsTableDTO>;\r\n\r\n  /* structure table */\r\n  public structureTableCols: TableColumn[];\r\n  public structureTableColsHardpoint: TableColumn[];\r\n  public bireStructureDisplayed: TreeNode[];\r\n  public bireStructureNodesStore: TreeNode[];\r\n\r\n  public structureTable: BidoFlDTO[];\r\n  public structureTableAddedList: BidoFlDTO[];\r\n  public selectedStructure: TreeNode[];\r\n  public currentStructure: BidoFlDTO | undefined;\r\n  public isNewStructure: boolean;\r\n  public showFlCodeTableDialog: boolean;\r\n\r\n  public currentConcernedStructureIndex: number;\r\n\r\n  /* document table*/\r\n  public documents: BidoDocumentationDTO[];\r\n  public document: BidoDocumentationDTO;\r\n  public docName: string | undefined;\r\n  public docFile: Uint8Array | undefined;\r\n  private documentsAdded: BidoDocumentationDTO | undefined;\r\n  private documentsRemoved: BidoDocumentationDTOId | undefined;\r\n  public delayCategories: LabelValue<string>[];\r\n\r\n  public showStatusUpdatesPopup: boolean;\r\n  public statusDTO: BidoFlDTO;\r\n  public statusTitle: string;\r\n  public documentExists: boolean;\r\n\r\n  public showSaveSpinner: boolean;\r\n\r\n  /* Loaders */\r\n  public familyVariantPanelLoading: boolean;\r\n  public bireStructurePanelLoading: boolean;\r\n  public modelPanelLoading: boolean;\r\n  public assetPanelLoading: boolean;\r\n  public bidoFlCodeInStructure: BidoFlDTO[];\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly dateService: DateService,\r\n    public inputValidationService: InputValidationService,\r\n    public sessionService: SessionService,\r\n    public translateService: TranslateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly functionalLocationSearchService: FunctionalLocationSearchService,\r\n    private readonly functionalLocationFormService: FunctionalLocationFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly _overlayService: OverlayService,\r\n    private readonly _formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n\r\n    this.isUpdate = false;\r\n    this.showFamilyVariantPopup = false;\r\n    this.showOpenFamilyVariantPopup = false;\r\n\r\n    this.displayStatusPopup = false;\r\n\r\n    this.subTitle = '';\r\n    this.selectedFunctionalLocationComponent = {};\r\n\r\n    // Tab Id's\r\n    this.tabGeneralId = 'general';\r\n    this.tabStructureId = 'structure';\r\n    this.tabDocumentationId = 'documentation';\r\n    this.tabModelId = 'models';\r\n    this.tabAssetsId = 'assets';\r\n\r\n    this.currentTabId = this.tabGeneralId;\r\n\r\n    // General Tab\r\n    this.flFunctions = [];\r\n    this.loadFlFunction();\r\n    this.loadStatusList();\r\n    this.loadfamilyVariant();\r\n    this.loadDelayCategory();\r\n    this.initFamilyVariantTableDataSource();\r\n\r\n    this.bidoFlVariantDTOAddedList = [];\r\n    this.bidoFlVariantDTORemovedList = [];\r\n    this.flVariantInputAddedList = [];\r\n    this.flModelAddedList = [];\r\n    this.flModelRemovedList = [];\r\n\r\n    this.initAssetTableDataSource();\r\n\r\n    this.initModelTableDataSource();\r\n\r\n    this.modelTableDataSource.dataSelection = [];\r\n    this.engineType = false;\r\n\r\n    // Structure Tab\r\n    this.structureTableCols = [\r\n      { field: 'flCode', alignment: 'left', width: '15%' },\r\n      { field: 'flDescription', alignment: 'left', width: '30%' },\r\n      { field: 'flFunction', alignment: 'left', width: '20%' },\r\n      { field: 'flIsMel', alignment: 'left', width: '15%' },\r\n      { field: 'flNominalQuantity', alignment: 'left', width: '10%' },\r\n      { field: 'flRequiredQuantity', alignment: 'left', width: '10%' }\r\n    ];\r\n\r\n    this.structureTableColsHardpoint = [\r\n      { field: 'flCode', alignment: 'left', width: '25%' },\r\n      { field: 'flDescription', alignment: 'left', width: '50%' },\r\n      { field: 'flFunction', alignment: 'left', width: '25%' }\r\n    ];\r\n\r\n    this.bireStructureDisplayed = [];\r\n    this.bireStructureNodesStore = [];\r\n    this.structureTable = [];\r\n    this.selectedStructure = [];\r\n    this.structureTableAddedList = [];\r\n\r\n    // Document Tab\r\n\r\n    this.flIsMelChecked = false;\r\n    this.documents = [];\r\n    this.document = {};\r\n    this.documentsAdded = undefined;\r\n    this.documentsRemoved = undefined;\r\n    this.docFile = undefined;\r\n    this.documentExists = false;\r\n\r\n    this.showStatusUpdatesPopup = false;\r\n    this.statusDTO = {};\r\n\r\n    this.assetTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'FunctionalLocationFormComponent';\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    if (this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      if (this.componentData.objectId && this.componentData.objectId.length > 0) {\r\n        this.getFunctionalLocationComponentData(this.componentData.objectId);\r\n        this.onInit();\r\n      }\r\n    }\r\n    if (this.isCreateOpenMode) {\r\n      this.statusDTO.statusState = AWPropertiesConstants.OBJECT_STATUS_UPDATED_KEY;\r\n    }\r\n  }\r\n\r\n  private onInit(): void {\r\n    this.isUpdate = true;\r\n    this.loadTreeTableStructure();\r\n    this.loadDocuments();\r\n    this.findModelByFlCode();\r\n    this.setSubTitle();\r\n    this.selectedStructure = [];\r\n    this.modelTableDataSource.dataSelection = [];\r\n    this.assetTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  private initFamilyVariantTableDataSource(): void {\r\n    this.familyVariantTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'familyVariantCode',\r\n          translateKey: this.getTranslateKey('familyVariantCode')\r\n        },\r\n        {\r\n          field: 'item',\r\n          translateKey: this.getTranslateKey('item')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initAssetTableDataSource(): void {\r\n    this.assetTableDataSource = new TableDataSource({\r\n      allowMultiSelect: false,\r\n      enableSelection: false,\r\n      columns: [\r\n        {\r\n          field: 'equipmentCode',\r\n          translateKey: this.getTranslateKey('equipmentCode')\r\n        },\r\n        {\r\n          field: 'pnCode',\r\n          translateKey: this.getTranslateKey('pnCode')\r\n        },\r\n        {\r\n          field: 'sn',\r\n          translateKey: this.getTranslateKey('sn')\r\n        },\r\n        {\r\n          field: 'appliedDateStr',\r\n          translateKey: this.getTranslateKey('appliedDateStr')\r\n        },\r\n        {\r\n          field: 'removedDateStr',\r\n          translateKey: this.getTranslateKey('removedDateStr')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initModelTableDataSource(): void {\r\n    this.modelTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'modelCode',\r\n          translateKey: this.getTranslateKey('modelCode')\r\n        },\r\n        {\r\n          field: 'modelName',\r\n          translateKey: this.getTranslateKey('modelName')\r\n        },\r\n        {\r\n          field: 'ratingCode',\r\n          translateKey: this.getTranslateKey('ratingCode')\r\n        },\r\n        {\r\n          field: 'ratingName',\r\n          translateKey: this.getTranslateKey('ratingName')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.onInit();\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Read);\r\n    this.onInit();\r\n  }\r\n\r\n  public maxLengthCheck(event, value) {\r\n    const min = -21474836;\r\n    const max = 214748364;\r\n    if (value < min || value > max) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  public maxLengthCheckRequired(event, value) {\r\n    const min = -21474836;\r\n    const max = 214748364;\r\n    if (value < min || value > max) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public save(): void {\r\n    if (\r\n      !StringUtils.isNullOrEmpty(this.selectedFunctionalLocationComponent.flDescription) &&\r\n      !StringUtils.isNullOrEmpty(this.selectedFunctionalLocationComponent.flCode)\r\n    ) {\r\n      if (!this.validateHarpointAndLoadProperties()) {\r\n        return;\r\n      }\r\n      if (this.validateQuantity()) {\r\n        if (!!this.docName || !!this.document.docDescription) {\r\n          this.documentsAdded = {\r\n            docCode: this.document.docCode,\r\n            docDescription: this.document.docDescription,\r\n            docName: this.docName,\r\n            docFile: this.docFile,\r\n            docVersion: this.selectedFunctionalLocationComponent.flIsMel ? this.document.docVersion : undefined,\r\n            docPublicationDate: this.selectedFunctionalLocationComponent.flIsMel\r\n              ? this.document.docPublicationDate\r\n              : undefined\r\n          };\r\n        }\r\n        this.familyVariantTableDataSource.dataSrc.forEach((item) => {\r\n          const bidoFlVariant: BidoFlVariantDTO = {\r\n            familyVariantCode: item.familyVariantCode\r\n          };\r\n          const flVariantInput: FlVariantInput = {\r\n            bidoFlVariantDTO: bidoFlVariant,\r\n            bireItemDTOId: item.item === '----' ? undefined : item.bireItemDTOId\r\n          };\r\n          if (item.isAdded) {\r\n            this.flVariantInputAddedList.push(flVariantInput);\r\n          }\r\n        });\r\n        this.selectedFunctionalLocationComponent.flDelayCategory = this.selectedFunctionalLocationComponent.flIsMel\r\n          ? this.selectedFunctionalLocationComponent.flDelayCategory\r\n          : undefined;\r\n        this.selectedFunctionalLocationComponent.flComments = this.selectedFunctionalLocationComponent.flIsMel\r\n          ? this.selectedFunctionalLocationComponent.flComments\r\n          : undefined;\r\n        const saveFunctionalLocationInput: SaveFunctionalLocationInput = {\r\n          isUpdate: this.isUpdate,\r\n          bidoFlDTO: this.selectedFunctionalLocationComponent,\r\n          flVariantInputAddedList: this.flVariantInputAddedList,\r\n          flTreeList: this.bidoFlCodeInStructure,\r\n          bidoFlVariantDTORemovedList: this.bidoFlVariantDTORemovedList,\r\n          bidoDocumentationAdded: this.documentsAdded,\r\n          bidoDocumentationRemoved: this.documentsRemoved,\r\n          flModelAddedList:\r\n            this.selectedFunctionalLocationComponent.flFunction === AWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\r\n              ? this.flModelAddedList\r\n              : [],\r\n          flModelRemovedList:\r\n            this.selectedFunctionalLocationComponent.flFunction === AWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\r\n              ? this.flModelRemovedList\r\n              : []\r\n        };\r\n\r\n        this.showSaveSpinner = true;\r\n        this.functionalLocationFormService.saveFlData(saveFunctionalLocationInput).subscribe(\r\n          (result) => {\r\n            this.messageService.showSuccessMessage('global.successOnSave');\r\n            this.selectedFunctionalLocationComponent.flCode = result.flCode;\r\n            this.document.docCode = result.docCode;\r\n            this.onInit();\r\n            this.updateOpenMode(ComponentOpenMode.Read);\r\n            this.flVariantInputAddedList = [];\r\n            this.bidoFlVariantDTORemovedList = [];\r\n            this.flModelAddedList = [];\r\n            this.flModelRemovedList = [];\r\n            this.documentsAdded = undefined;\r\n            this.documentsRemoved = undefined;\r\n            if (!!this.componentData && !this.componentData.objectId) {\r\n              this.componentData.objectId = result.flCode;\r\n            }\r\n\r\n            this.showSaveSpinner = false;\r\n          },\r\n          (err) => {\r\n            const errorCode = 500;\r\n            if (err.error.errorCode === errorCode) {\r\n              this.messageService.showErrorMessage(this.getComponentName() + '.pkBidoFl');\r\n            } else {\r\n              this.messageService.showErrorMessage('global.errorOnSave');\r\n            }\r\n            this.showSaveSpinner = false;\r\n          }\r\n        );\r\n      }\r\n    } else {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    }\r\n  }\r\n  private validateHarpointAndLoadProperties() {\r\n    let isValid = true;\r\n    const regexAllExcludingZero = /^-?[1-9][0-9]*$/;\r\n    if (\r\n      this.selectedFunctionalLocationComponent.flOrderNumber &&\r\n      !regexAllExcludingZero.test(`${this.selectedFunctionalLocationComponent.flOrderNumber}`)\r\n    ) {\r\n      this.selectedFunctionalLocationComponent.flOrderNumber = undefined;\r\n      this.messageService.showWarningMessage(this.getComponentName() + '.warnIncorrectOrderNumber');\r\n    }\r\n    const regexOnlyPositiveInteger = /^[0-9]*$/;\r\n    if (\r\n      this.selectedFunctionalLocationComponent.flPositionX &&\r\n      !regexOnlyPositiveInteger.test(`${this.selectedFunctionalLocationComponent.flPositionX}`)\r\n    ) {\r\n      this.messageService.showErrorMessage(this.getComponentName() + '.incorrectTypeOfXPosition');\r\n      isValid = false;\r\n    }\r\n    if (\r\n      this.selectedFunctionalLocationComponent.flPositionY &&\r\n      !regexOnlyPositiveInteger.test(`${this.selectedFunctionalLocationComponent.flPositionY}`)\r\n    ) {\r\n      this.messageService.showErrorMessage(this.getComponentName() + '.incorrectTypeOfYPosition');\r\n      isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  private validateQuantity(): boolean {\r\n    if (\r\n      !!this.selectedFunctionalLocationComponent &&\r\n      !!this.selectedFunctionalLocationComponent.flNominalQuantity &&\r\n      !!this.selectedFunctionalLocationComponent.flRequiredQuantity\r\n    ) {\r\n      if (\r\n        this.selectedFunctionalLocationComponent.flNominalQuantity <\r\n        this.selectedFunctionalLocationComponent.flRequiredQuantity\r\n      ) {\r\n        this.messageService.showErrorMessage(this.getComponentName() + '.reqQuantitySuperiorThanNominal');\r\n\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  // To fill the functional location data in the popup\r\n  private getFunctionalLocationComponentData(objectId): void {\r\n    if (this.componentData) {\r\n      if (this.componentData.objectId && this.componentData.objectId.length > 0) {\r\n        this.selectedFunctionalLocationComponent = this.serializationService.deserialize(this.componentData.objectId);\r\n        this.flIsMelChecked = !!this.selectedFunctionalLocationComponent.flIsMel;\r\n        this.selectedFunctionalLocationComponent.flFunction === AWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\r\n          ? (this.engineType = true)\r\n          : (this.engineType = false);\r\n        this.isHardpointOrLoadFamily =\r\n          this.selectedFunctionalLocationComponent.flFunction ===\r\n            this.aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY ||\r\n          this.selectedFunctionalLocationComponent.flFunction === this.aWPropertiesConstants.ITEM_FAMILY_CODE_LOAD_KEY;\r\n      }\r\n    }\r\n  }\r\n\r\n  private setSubTitle(): void {\r\n    this.subTitle =\r\n      StringUtils.orEmpty(this.selectedFunctionalLocationComponent.flCode) +\r\n      StringUtils.orEmpty(this.selectedFunctionalLocationComponent.flDescription);\r\n    this.displayComponentContext(this.subTitle, false);\r\n  }\r\n\r\n  // Model tab binding\r\n  private findModelByFlCode(): void {\r\n    this.modelTableDataSource.setData([]);\r\n    this.modelTableDataSource.update();\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      this.modelPanelLoading = true;\r\n      this.functionalLocationFormService\r\n        .findModelsByFlCode(this.selectedFunctionalLocationComponent.flCode)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.modelPanelLoading = false;\r\n          })\r\n        )\r\n        .subscribe(\r\n          (results) => {\r\n            this.modelTableDataSource.setData(results);\r\n            this.modelTableDataSource.update();\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindModelsByFlCode'));\r\n          }\r\n        );\r\n    } else {\r\n      super.throwUnboundLocalError('findModelByFlCode', 'this.selectedFunctionalLocationComponent.flCode');\r\n    }\r\n  }\r\n\r\n  // Asset table binding by flCode\r\n  private findAssetsByFlCode(): void {\r\n    this.assetTableDataSource.setData([]);\r\n    this.assetTableDataSource.update();\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      const bidoFlDTOId: BidoFlDTOId = {\r\n        flCode: this.selectedFunctionalLocationComponent.flCode\r\n      };\r\n      this.assetPanelLoading = true;\r\n      this.functionalLocationFormService\r\n        .findAssetsByFlCode(bidoFlDTOId)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.assetPanelLoading = false;\r\n          })\r\n        )\r\n        .subscribe(\r\n          (results) => {\r\n            this.assetTableDataSource.setData(results);\r\n            this.assetTableDataSource.update();\r\n            this.assetTableDataSource.dataSrc.forEach((asset) => {\r\n              asset.appliedDateStr = this.dateService.dateToString(asset.appliedDate);\r\n              asset.removedDateStr = this.dateService.dateToString(asset.removedDate);\r\n            });\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAssetsByFlCode'));\r\n          }\r\n        );\r\n    } else {\r\n      super.throwUnboundLocalError('findAssetByFlCode', 'this.selectedFunctionalLocationComponent.flCode');\r\n    }\r\n    this.assetTableDataSource.setData(this.assetTableDataSource.dataSrc);\r\n    this.assetTableDataSource.update();\r\n  }\r\n\r\n  public displayStatusForAsset(): void {\r\n    if (!!this.assetTableDataSource.dataSelection && this.assetTableDataSource.dataSelectionCount === 1) {\r\n      this.currentAsset = { ...this.assetTableDataSource.dataSelection[0] };\r\n      this.currentAssetId = !!this.selectedFunctionalLocationComponent\r\n        ? `Asset ${this.selectedFunctionalLocationComponent.flCode} - ${this.currentAsset.equipmentCode}`\r\n        : '';\r\n      this.displayStatusPopup = true;\r\n    }\r\n  }\r\n\r\n  public openStatusPopup(bidoFlEquipmentDTO: BidoFlEquipmentDTO): void {\r\n    this.currentAsset = { ...bidoFlEquipmentDTO };\r\n    this.currentAssetId = !!this.selectedFunctionalLocationComponent\r\n      ? `Asset ${this.selectedFunctionalLocationComponent.flCode} - ${this.currentAsset.equipmentCode}`\r\n      : '';\r\n    this.displayStatusPopup = true;\r\n  }\r\n\r\n  // To bind dropdown function\r\n  private loadFlFunction(): void {\r\n    forkJoin({\r\n      flFunctions: this.propertiesService.getValue(GenericPropertyConstants.ITEM_FAMILY_CODE_MAP),\r\n      authorizedFunctions: this.functionalLocationSearchService.fetchPropertyValuesTableData(\r\n        FunctionalLocationSearchComponent.PROPERTY_ID\r\n      )\r\n    }).subscribe((results) => {\r\n      const flFunctions = results.flFunctions || [];\r\n      const authorizedFunctions = results.authorizedFunctions.find(\r\n        (cpt) => `${cpt.enPropertiesValueId}` === `${this.propertyValueId}`\r\n      );\r\n      this.flFunctions = flFunctions.filter(\r\n        (fl) =>\r\n          authorizedFunctions &&\r\n          authorizedFunctions.propertiesValue &&\r\n          authorizedFunctions.propertiesValue.split(';').find((s) => s === fl.value)\r\n      );\r\n    });\r\n  }\r\n  private loadStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.OBJECT_STATUS_MAP).subscribe((results) => {\r\n      this.statusList = results || [];\r\n    });\r\n  }\r\n\r\n  // To bind dropdown delay category\r\n  private loadDelayCategory(): void {\r\n    this.functionalLocationFormService.findFlDelayCategory().subscribe((results) => {\r\n      this.delayCategories = results || [];\r\n    });\r\n  }\r\n\r\n  public onFlFunctionsSelected(functions) {\r\n    functions.value === AWPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY\r\n      ? (this.engineType = true)\r\n      : (this.engineType = false);\r\n    if (this.isCreateOpenMode) {\r\n      if (functions.value === AWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY) {\r\n        this.functionalLocationSearchService\r\n          .findBireVariantVersionsByFamilyFunctionAlternative()\r\n          .subscribe((familyVariants) => {\r\n            return familyVariants.map((familyVariant) => {\r\n              this.onSaveFamilyVariant({\r\n                familyVariantCode: familyVariant.labelValue.value,\r\n                bireItemDTOId: undefined\r\n              });\r\n            });\r\n          });\r\n      } else {\r\n        this.familyVariantTableDataSource.setData([]);\r\n      }\r\n    }\r\n    this.selectedFunctionalLocationComponent.flOrderNumber = undefined;\r\n    this.selectedFunctionalLocationComponent.flIsInConfSheet = false;\r\n  }\r\n\r\n  public onHandleFlIsMel(flIsMel) {\r\n    flIsMel === true ? (this.flIsMelChecked = true) : (this.flIsMelChecked = false);\r\n  }\r\n\r\n  public openItemForm(item: FindBidoFlVariantsByFlCodeDTO): void {\r\n    // open item screen\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_ITEM_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    if (!!item && item.bireItemDTOId) {\r\n      const itemFormId: BireItemDTO = {\r\n        familyCode: item.bireItemDTOId.familyCode,\r\n        chapter: item.bireItemDTOId.chapter,\r\n        section: item.bireItemDTOId.section,\r\n        sheet: item.bireItemDTOId.sheet,\r\n        marks: item.bireItemDTOId.marks,\r\n        subject: item.bireItemDTOId.subject,\r\n        structureType: item.bireItemDTOId.structureType,\r\n        variantCode: item.bireItemDTOId.variantCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(itemFormId);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  // Family-variant table binding by flCode\r\n  private findBidoFlVariantsByFlCode(): void {\r\n    this.familyVariantTableDataSource.setData([]);\r\n    this.familyVariantTableDataSource.update();\r\n    this.familyVariantTableDataSource.dataSelection = [];\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      const bidoFlDTOId: BidoFlDTOId = {\r\n        flCode: this.selectedFunctionalLocationComponent.flCode\r\n      };\r\n      this.familyVariantPanelLoading = true;\r\n      this.functionalLocationFormService\r\n        .findFamilyVariantByFlCode(bidoFlDTOId)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.familyVariantPanelLoading = false;\r\n          })\r\n        )\r\n        .subscribe(\r\n          (results) => {\r\n            if (results) {\r\n              results.forEach((item: FindBidoFlVariantsByFlCodeDTO) => {\r\n                item.isAdded = false;\r\n              });\r\n            }\r\n            this.familyVariantTableDataSource.setData(results);\r\n            this.familyVariantTableDataSource.update();\r\n            this.computeFamilyVariantCodes();\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBidoFlVariantsByFlCode'));\r\n          }\r\n        );\r\n    } else {\r\n      super.throwUnboundLocalError('findBidoFlVariantsByFlCode', 'this.selectedFunctionalLocationComponent.flCode');\r\n    }\r\n  }\r\n  private computeFamilyVariantCodes() {\r\n    this.familyVariant = this.familyVariantTableDataSource.dataSrc\r\n      .map((fv) => fv.familyVariantCode)\r\n      .filter((fv) => !!fv) as string[];\r\n  }\r\n\r\n  public createFamilyVariant(): void {\r\n    this.currentFamilyVariant = {\r\n      bireItemDTOId: undefined,\r\n      flFunction: this.selectedFunctionalLocationComponent.flFunction\r\n    };\r\n    this.isNewFunctionalLocation = true;\r\n    this.isReadOnlyFamilyVariantDialog = false;\r\n    this.showFamilyVariantPopup = true;\r\n\r\n    this.dataFamilyVariant = {\r\n      componentId: 'FunctionalLocationFormComponent',\r\n      selectedRow: undefined,\r\n      object: this.currentFamilyVariant,\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editFamilyVariant(): void {\r\n    if (this.familyVariantTableDataSource.dataSelection && this.familyVariantTableDataSource.hasDataSelection) {\r\n      this.isNewFunctionalLocation = false;\r\n      this.isReadOnlyFamilyVariantDialog = false;\r\n      // Copy all the selectedfamilyVariant[0] field into currentFamilyVariant one by one\r\n      this.currentFamilyVariant = { ...this.familyVariantTableDataSource.dataSelection[0] };\r\n      this.currentFamilyVariantIndex = this.familyVariantTableDataSource.dataSrc.indexOf(\r\n        this.familyVariantTableDataSource.dataSelection[0]\r\n      );\r\n      this.showFamilyVariantPopup = true;\r\n      this.dataFamilyVariant = {\r\n        componentId: 'FunctionalLocationFormComponent',\r\n        selectedRow: undefined,\r\n        object: this.currentFamilyVariant,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n  }\r\n\r\n  public deleteSelectedFamilyVariant(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.deleteConfirmationMsg',\r\n      accept: () => {\r\n        this.deleteSelectedFamilyVariants();\r\n      }\r\n    });\r\n  }\r\n\r\n  private deleteSelectedFamilyVariants() {\r\n    this.familyVariantTableDataSource.dataSelection.forEach((element) => {\r\n      if (!!element.familyVariantCode && !!this.selectedFunctionalLocationComponent.flCode) {\r\n        const interdepId: BidoFlVariantDTOId = {\r\n          familyVariantCode: element.familyVariantCode,\r\n          flCode: this.selectedFunctionalLocationComponent.flCode\r\n        };\r\n\r\n        this.bidoFlVariantDTORemovedList.push(interdepId);\r\n        const indexInDisplayedList = this.familyVariantTableDataSource.dataSrc.indexOf(element);\r\n        this.familyVariantTableDataSource.dataSrc.splice(indexInDisplayedList, 1);\r\n      }\r\n    });\r\n    this.familyVariantTableDataSource.dataSelection = [];\r\n    this.familyVariantTableDataSource.setData(this.familyVariantTableDataSource.dataSrc);\r\n    this.familyVariantTableDataSource.update();\r\n    this.computeFamilyVariantCodes();\r\n  }\r\n\r\n  public openFamilyVariant(): void {\r\n    this.isReadOnlyFamilyVariantDialog = true;\r\n    if (this.familyVariantTableDataSource.dataSelection && this.familyVariantTableDataSource.hasDataSelection) {\r\n      this.currentFamilyVariant = { ...this.familyVariantTableDataSource.dataSelection[0] };\r\n      this.showOpenFamilyVariantPopup = true;\r\n      this.dataFamilyVariant = {\r\n        componentId: 'FunctionalLocationFormComponent',\r\n        selectedRow: undefined,\r\n        object: this.currentFamilyVariant,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n  public onValidate(item: BireItemDTO) {\r\n    const bidoFlVariant = this.computeSelectedItemToFindBidoFlVariantsByFlCodeDTO(item);\r\n    if (this.isNewFunctionalLocation) {\r\n      this.onSaveFamilyVariant(bidoFlVariant);\r\n    } else {\r\n      this.updateConcernedFunctionalLocation(bidoFlVariant);\r\n    }\r\n  }\r\n\r\n  private computeSelectedItemToFindBidoFlVariantsByFlCodeDTO(item: BireItemDTO): FindBidoFlVariantsByFlCodeDTO {\r\n    if (\r\n      !!item &&\r\n      !!item.chapter &&\r\n      !!item.section &&\r\n      !!item.subject &&\r\n      !!item.sheet &&\r\n      !!item.marks &&\r\n      !!item.structureType\r\n    ) {\r\n      const familyVariantCode = `${item.familyCode}-${item.variantCode}`;\r\n      const bireItemDTO = {\r\n        familyCode: item.familyCode,\r\n        variantCode: item.variantCode,\r\n        chapter: item.chapter,\r\n        section: item.section,\r\n        subject: item.subject,\r\n        sheet: item.sheet,\r\n        marks: item.marks,\r\n        structureType: item.structureType as string\r\n      };\r\n\r\n      const selectedVariantCode = this.findBireVariantVersion.filter(\r\n        (x) => !!familyVariantCode && x.labelValue.value.includes(familyVariantCode)\r\n      )[0];\r\n\r\n      return {\r\n        bireItemDTOId: bireItemDTO,\r\n        item:\r\n          bireItemDTO.chapter +\r\n          '-' +\r\n          bireItemDTO.section +\r\n          '-' +\r\n          bireItemDTO.subject +\r\n          '-' +\r\n          bireItemDTO.sheet +\r\n          '-' +\r\n          bireItemDTO.marks,\r\n        familyVariantCode: selectedVariantCode.labelValue.value\r\n      };\r\n    } else {\r\n      super.throwUnboundLocalError('onSelectedItem', 'item && this.structureType');\r\n\r\n      return {\r\n        bireItemDTOId: {\r\n          chapter: '',\r\n          marks: '',\r\n          section: '',\r\n          sheet: '',\r\n          structureType: '',\r\n          subject: ''\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  private loadfamilyVariant(): void {\r\n    this.functionalLocationSearchService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe((results) => {\r\n      this.findBireVariantVersion = results;\r\n      const list: LabelValue<string>[] = [];\r\n      results.forEach((element) => {\r\n        list.push(element.labelValue);\r\n      });\r\n    });\r\n  }\r\n\r\n  // To re-bind family variant, on addition of new family-variant\r\n  public onSaveFamilyVariant(familyvariantItems: FindBidoFlVariantsByFlCodeDTO): void {\r\n    familyvariantItems.isAdded = true;\r\n    const searchInDisplayedList = this.familyVariantTableDataSource.dataSrc.find((value) =>\r\n      this.isConcernedFunctionalLocationTheSame(value, familyvariantItems)\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.familyVariantTableDataSource.addData([familyvariantItems]);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyConcernedFunctionalLocationExist'));\r\n    }\r\n    this.familyVariantTableDataSource.setData(this.familyVariantTableDataSource.dataSrc);\r\n    this.familyVariantTableDataSource.update();\r\n    this.computeFamilyVariantCodes();\r\n  }\r\n\r\n  public updateConcernedFunctionalLocation(familyvariantItems: FindBidoFlVariantsByFlCodeDTO) {\r\n    if (!this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex].isAdded) {\r\n      if (\r\n        !!this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex].familyVariantCode &&\r\n        !!this.selectedFunctionalLocationComponent.flCode\r\n      ) {\r\n        const interdepId: BidoFlVariantDTOId = {\r\n          familyVariantCode:\r\n            this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex].familyVariantCode || '',\r\n          flCode: this.selectedFunctionalLocationComponent.flCode\r\n        };\r\n        this.bidoFlVariantDTORemovedList.push(interdepId);\r\n      }\r\n    }\r\n    familyvariantItems.isAdded = true;\r\n    this.familyVariantTableDataSource.replaceData(\r\n      this.familyVariantTableDataSource.data[this.currentFamilyVariantIndex],\r\n      familyvariantItems\r\n    );\r\n    this.familyVariantTableDataSource.setData(this.familyVariantTableDataSource.dataSrc);\r\n    this.familyVariantTableDataSource.dataSelection = [];\r\n    this.familyVariantTableDataSource.update();\r\n    this.computeFamilyVariantCodes();\r\n  }\r\n\r\n  // To check for the duplicate entry in the table\r\n  private isConcernedFunctionalLocationTheSame(\r\n    familyvariantItems1: FindBidoFlVariantsByFlCodeDTO,\r\n    familyvariantItems2: FindBidoFlVariantsByFlCodeDTO\r\n  ): boolean {\r\n    if (familyvariantItems1.familyVariantCode === familyvariantItems2.familyVariantCode) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Tab - Model Starts\r\n  public createModel(): void {\r\n    this.currentModel = undefined;\r\n    this.isReadOnlyModelDialog = false;\r\n    this.showModelDialog = true;\r\n  }\r\n\r\n  public openModel(): void {\r\n    if (this.modelTableDataSource.dataSelectionCount === 1) {\r\n      this.currentModel = this.modelTableDataSource.dataSelection[0];\r\n      this.currentModelIndex = undefined;\r\n      this.isReadOnlyModelDialog = true;\r\n      this.showModelDialog = true;\r\n    }\r\n  }\r\n\r\n  public onAddModel(modelData: FlModelsTableDTO): void {\r\n    if (!!modelData) {\r\n      if (this.validateEntry(this.modelTableDataSource, modelData)) {\r\n        this.modelTableDataSource.setData([...this.modelTableDataSource.dataSrc, modelData]);\r\n        this.modelTableDataSource.update();\r\n        const bidoFlModelDTO: BidoFlModelDTO = {\r\n          flCode: this.selectedFunctionalLocationComponent.flCode,\r\n          modelCode: modelData.bireModelDTO.modelCode,\r\n          familyCode: modelData.bireModelDTO.familyCode,\r\n          variantCode: modelData.bireModelDTO.variantCode\r\n        };\r\n        this.flModelAddedList.push(bidoFlModelDTO);\r\n      } else {\r\n        this.messageService.showErrorMessage('global.duplicate');\r\n      }\r\n    }\r\n    this.modelTableDataSource.setData(this.modelTableDataSource.dataSrc);\r\n    this.modelTableDataSource.update();\r\n  }\r\n\r\n  // Validate for duplicacy\r\n  private validateEntry(modelTableDataSource, modelData) {\r\n    let isFound = false;\r\n    this.modelTableDataSource.dataSrc.forEach((result) => {\r\n      if (\r\n        result.bireModelDTO.familyCode === modelData.bireModelDTO.familyCode &&\r\n        result.bireModelDTO.modelCode === modelData.bireModelDTO.modelCode &&\r\n        result.bireModelDTO.modelName === modelData.bireModelDTO.modelName &&\r\n        result.bireModelDTO.ratingCode === modelData.bireModelDTO.ratingCode &&\r\n        result.bireModelDTO.structureType === modelData.bireModelDTO.structureType &&\r\n        result.bireModelDTO.variantCode === modelData.bireModelDTO.variantCode\r\n      ) {\r\n        isFound = true;\r\n      }\r\n    });\r\n\r\n    return isFound ? false : true;\r\n  }\r\n\r\n  public deleteSelectedModel(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.deleteConfirmationMsg',\r\n      accept: () => {\r\n        this.deleteSelectedModels();\r\n      }\r\n    });\r\n  }\r\n\r\n  private deleteSelectedModels() {\r\n    this.modelTableDataSource.dataSelection.forEach((element) => {\r\n      if (!!element.bireModelDTO.familyCode && !!element.bireModelDTO.modelCode && !!element.bireModelDTO.variantCode) {\r\n        const bidoFlModelDTOId: BidoFlModelDTOId = {\r\n          familyCode: element.bireModelDTO.familyCode,\r\n          modelCode: element.bireModelDTO.modelCode,\r\n          variantCode: element.bireModelDTO.variantCode,\r\n          flCode: !!this.selectedFunctionalLocationComponent.flCode\r\n            ? this.selectedFunctionalLocationComponent.flCode\r\n            : ''\r\n        };\r\n\r\n        this.flModelRemovedList.push(bidoFlModelDTOId);\r\n        const indexInDisplayedList = this.modelTableDataSource.dataSrc.indexOf(element);\r\n        this.modelTableDataSource.dataSrc.splice(indexInDisplayedList, 1);\r\n      }\r\n    });\r\n    this.modelTableDataSource.dataSelection = [];\r\n    this.modelTableDataSource.setData(this.modelTableDataSource.dataSrc);\r\n    this.modelTableDataSource.update();\r\n  }\r\n  // Tab - Structure starts\r\n\r\n  // Structure table\r\n\r\n  public onRowSelected(node: TreeNode): void {\r\n    this.deactivePartialSelection(node);\r\n    this.bireStructureNodesStore.push(node);\r\n    this.selectedStructure = [...this.bireStructureNodesStore];\r\n    this.bireStructureDisplayed = [...this.bireStructureDisplayed];\r\n    this.selectedStructure = [...this.selectedStructure];\r\n  }\r\n\r\n  public onRowUnSelected(node: TreeNode): void {\r\n    this.deactivePartialSelection(node);\r\n    this.bireStructureNodesStore = this.bireStructureNodesStore.filter((value) => value !== node);\r\n    this.selectedStructure = [...this.bireStructureNodesStore];\r\n    this.bireStructureDisplayed = [...this.bireStructureDisplayed];\r\n    this.selectedStructure = [...this.selectedStructure];\r\n  }\r\n\r\n  private deactivePartialSelection(node: TreeNode): void {\r\n    // not to remove the null check\r\n    if (node.parent !== null && node.parent !== undefined) {\r\n      node.parent.partialSelected = false;\r\n      this.deactivePartialSelection(node.parent);\r\n    }\r\n  }\r\n\r\n  public loadTreeTableStructure(): void {\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      const bidoFlDTOId: BidoFlDTOId = {\r\n        flCode: this.selectedFunctionalLocationComponent.flCode\r\n      };\r\n\r\n      if (bidoFlDTOId.flCode) {\r\n        this.bireStructurePanelLoading = true;\r\n        this.functionalLocationFormService\r\n          .findStructureByFlCode(bidoFlDTOId.flCode)\r\n          .pipe(\r\n            finalize(() => {\r\n              this.bireStructurePanelLoading = false;\r\n            })\r\n          )\r\n          .subscribe(\r\n            (results) => {\r\n              if (!!results.data && !!results.children) {\r\n                this.statusDTO = results.data;\r\n                this.statusTitle = `${this.statusDTO.flCode} - ${this.statusDTO.flDescription}`;\r\n                const treeTable: TreeNode[] = [\r\n                  {\r\n                    data: results.data,\r\n                    children: this.getChildren(results.children),\r\n                    leaf: results.children.length === 0,\r\n                    expanded: true\r\n                  }\r\n                ];\r\n\r\n                this.loadFunctionalLocationScreen(treeTable[0].data);\r\n                // this.updateFunctionalLocation(treeTable);\r\n                this.bireStructureDisplayed = treeTable;\r\n                this.fetchFlCodePresentInStructure();\r\n                this.findBidoFlVariantsByFlCode();\r\n                this.findAssetsByFlCode();\r\n              }\r\n            },\r\n            () => {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStructure'));\r\n            }\r\n          );\r\n      }\r\n    } else {\r\n      super.throwUnboundLocalError('loadTreeTableStructure', 'this.selectedFunctionalLocationComponent.flCode');\r\n    }\r\n  }\r\n  private fetchFlCodePresentInStructure() {\r\n    this.bidoFlCodeInStructure = [];\r\n    this.fetchFlCodePresentInStructureRecursively(this.bireStructureDisplayed);\r\n  }\r\n\r\n  private fetchFlCodePresentInStructureRecursively(trees: TreeNode[]) {\r\n    trees.forEach((tree) => {\r\n      this.bidoFlCodeInStructure.push(tree.data as BidoFlDTO);\r\n      if (tree.children && tree.children.length > 0) {\r\n        this.fetchFlCodePresentInStructureRecursively(tree.children);\r\n      }\r\n    });\r\n  }\r\n\r\n  public getFlFunctionLabel(row): string {\r\n    let toReturn = '';\r\n    if (row.flFunction) {\r\n      this.flFunctions.forEach((elem: LabelValue<string>) => {\r\n        if (row.flFunction === elem.value) {\r\n          toReturn = elem.label;\r\n        }\r\n      });\r\n    }\r\n\r\n    return toReturn;\r\n  }\r\n\r\n  private loadFunctionalLocationScreen(data): void {\r\n    this.selectedFunctionalLocationComponent.flDescription = data.flDescription;\r\n    this.selectedFunctionalLocationComponent.flFunction = data.flFunction;\r\n    this.selectedFunctionalLocationComponent.flOrderNumber = data.flOrderNumber;\r\n    this.selectedFunctionalLocationComponent.flIsMel = data.flIsMel;\r\n    this.selectedFunctionalLocationComponent.flNominalQuantity = data.flNominalQuantity;\r\n    this.selectedFunctionalLocationComponent.flRequiredQuantity = data.flRequiredQuantity;\r\n    this.selectedFunctionalLocationComponent.flFlCode = data.flFlCode;\r\n    this.selectedFunctionalLocationComponent.flItems = data.flItems;\r\n    this.selectedFunctionalLocationComponent.flIsOpeConf = data.flIsOpeConf;\r\n    this.selectedFunctionalLocationComponent.flPositionX = data.flPositionX;\r\n    this.selectedFunctionalLocationComponent.flPositionY = data.flPositionY;\r\n    this.selectedFunctionalLocationComponent.flIsInConfSheet = data.flIsInConfSheet;\r\n  }\r\n\r\n  // Function to update functional location\r\n  private updateFunctionalLocation(treeTable) {\r\n    const table = treeTable;\r\n\r\n    /* table.map((result) => {\r\n      if (\r\n        result.data.flFunction &&\r\n        this.flFunctions.filter((flFunctions) => flFunctions.value === result.data.flFunction)[0]\r\n      ) {\r\n        result.data.flFunction = this.flFunctions.filter(\r\n          (flFunctions) => flFunctions.value === result.data.flFunction\r\n        )[0].label;\r\n      }\r\n\r\n      if (result.children) {\r\n        this.updateFunctionalLocation(result.children);\r\n      }\r\n    }); */\r\n\r\n    return table;\r\n  }\r\n\r\n  private getChildren(results: FunctionalLocationStructureTreeNodeOutput[]): TreeNode[] {\r\n    const childTreeNode: TreeNode[] = [];\r\n    if (results) {\r\n      results.sort((a, b) => {\r\n        if (!!a.data && !!a.data.flCode && !!b.data && !!b.data.flCode) {\r\n          const nameA = a.data.flCode.toLowerCase();\r\n          const nameB = b.data.flCode.toLowerCase();\r\n          if (nameA < nameB) {\r\n            return -1;\r\n          }\r\n          if (nameA > nameB) {\r\n            return 1;\r\n          }\r\n        }\r\n\r\n        return 0;\r\n      });\r\n      results.forEach((child) => {\r\n        const childTree: TreeNode = {\r\n          data: child.data,\r\n          leaf: !!child.children && child.children.length === 0,\r\n          expanded: true\r\n        };\r\n        childTree.children = child.children && child.children.length > 0 ? child.children : [];\r\n        childTreeNode.push(childTree);\r\n        if (childTree.children && childTree.children.length > 0) {\r\n          this.getChildren(childTree.children);\r\n        }\r\n      });\r\n    }\r\n\r\n    return childTreeNode;\r\n  }\r\n\r\n  public createStructure(): void {\r\n    this.isNewStructure = true;\r\n    this.showFlCodeTableDialog = true;\r\n  }\r\n\r\n  public editStructure(): void {\r\n    if (this.selectedStructure.length === 1) {\r\n      this.isNewStructure = false;\r\n      this.currentStructure = this.selectedStructure[0].data;\r\n      this.showFlCodeTableDialog = true;\r\n    }\r\n  }\r\n\r\n  public openStructure(): void {\r\n    this.currentTabId = this.tabStructureId;\r\n  }\r\n\r\n  public addOrUpdateStructure(concernedStructure: BidoFlDTO) {\r\n    if (this.isNewStructure) {\r\n      this.addNewStructure(concernedStructure);\r\n    } else {\r\n      this.updateConcernedStructure(concernedStructure);\r\n    }\r\n  }\r\n\r\n  public addNewStructure(concernedStructure: BidoFlDTO) {\r\n    if (this.selectedStructure[0] && this.selectedStructure[0].data.flCode && concernedStructure.flCode) {\r\n      this.functionalLocationFormService.findStructureByFlCode(concernedStructure.flCode).subscribe(\r\n        (flTrees) => {\r\n          const tempTree: TreeNode = {};\r\n          tempTree.data = flTrees.data;\r\n          tempTree.children = flTrees.children;\r\n          tempTree.data.flFlCode = this.selectedStructure[0].data.flCode;\r\n\r\n          const searchInStructureTableChildren = this.findTreeFlCodeInStructure(flTrees);\r\n          if (!searchInStructureTableChildren) {\r\n            const selectedStructureChild = this.selectedStructure[0].children;\r\n            if (selectedStructureChild) {\r\n              selectedStructureChild.push(tempTree);\r\n\r\n              this.bireStructureDisplayed = [...this.updateFunctionalLocation(this.bireStructureDisplayed)];\r\n              this.fetchFlCodePresentInStructure();\r\n            }\r\n          } else {\r\n            this.messageService.showErrorMessage(\r\n              // Change it to, create a master entry or something\r\n              this.getTranslateKey('errorAlreadyConcernedStructureExist'),\r\n              `(${searchInStructureTableChildren.join(', ')})`\r\n            );\r\n          }\r\n\r\n          this.selectedStructure = [];\r\n          this.bireStructureNodesStore = [];\r\n        },\r\n        (err) => {\r\n          this.selectedStructure = [];\r\n          this.bireStructureNodesStore = [];\r\n        }\r\n      );\r\n    } else if (!this.selectedStructure[0] && this.bireStructureDisplayed.length > 0) {\r\n      // If none selected, add entry to root FL Code\r\n      this.selectedStructure[0] = this.bireStructureDisplayed[0];\r\n      this.addNewStructure(concernedStructure);\r\n    }\r\n  }\r\n  private findTreeFlCodeInStructure(\r\n    flTrees: FunctionalLocationStructureTreeNodeOutput,\r\n    result: { bidoFl: string[] | undefined } = { bidoFl: undefined }\r\n  ) {\r\n    if (\r\n      flTrees.data &&\r\n      this.bidoFlCodeInStructure.find((value) => value.flCode === (flTrees.data as BidoFlDTO).flCode)\r\n    ) {\r\n      if ((flTrees.data as BidoFlDTO).flCode) {\r\n        if (!result.bidoFl) {\r\n          result.bidoFl = [] as string[];\r\n        }\r\n        result.bidoFl.push((flTrees.data as BidoFlDTO).flCode as string);\r\n      }\r\n    }\r\n    if (flTrees.children && flTrees.children.length > 0) {\r\n      flTrees.children.forEach((treeNode) => {\r\n        this.findTreeFlCodeInStructure(treeNode, result);\r\n      });\r\n    }\r\n\r\n    return result.bidoFl;\r\n  }\r\n\r\n  public updateConcernedStructure(concernedStructure: BidoFlDTO) {\r\n    this.selectedStructure[0].data = {\r\n      flCode: concernedStructure.flCode,\r\n      flDescription: concernedStructure.flDescription,\r\n      flFunction: concernedStructure.flFunction,\r\n      flFlCode: this.selectedStructure[0].data.flFlCode,\r\n      flIsMel: concernedStructure.flIsMel,\r\n      flIsOpeConf: concernedStructure.flIsOpeConf,\r\n      flNominalQuantity: concernedStructure.flNominalQuantity,\r\n      flRequiredQuantity: concernedStructure.flRequiredQuantity\r\n    };\r\n    if (this.selectedStructure[0].children) {\r\n      this.selectedStructure[0].children.forEach((fl) => {\r\n        fl.data.flFlCode = concernedStructure.flCode;\r\n      });\r\n    }\r\n\r\n    this.bireStructureDisplayed = [...this.updateFunctionalLocation(this.bireStructureDisplayed)];\r\n    this.fetchFlCodePresentInStructure();\r\n    this.selectedStructure = [];\r\n    this.bireStructureNodesStore = [];\r\n  }\r\n\r\n  public detachSelectedStructure(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.detachConfirmationMsg',\r\n      accept: () => {\r\n        this.selectedStructure.forEach((element) => {\r\n          element.data.flFlCode = undefined;\r\n          if (!!element.parent && !!element.parent.children) {\r\n            element.parent.children = [\r\n              ...element.parent.children.filter((child) => child.data.flCode !== element.data.flCode)\r\n            ];\r\n          }\r\n          this.bireStructureDisplayed = [...this.bireStructureDisplayed];\r\n          this.fetchFlCodePresentInStructure();\r\n        });\r\n        this.selectedStructure = [];\r\n        this.bireStructureNodesStore = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Tab structure Ends */\r\n\r\n  /* Tab Documentation Starts*/\r\n  private loadDocuments(): void {\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      this.functionalLocationFormService\r\n        .findBidoDocumentationsByFleetCode(this.selectedFunctionalLocationComponent.flCode)\r\n        .subscribe((results) => {\r\n          this.documents = results || [];\r\n          const docName = !!this.documents[0] ? this.documents[0].docName : undefined;\r\n          if (results.length > 0) {\r\n            this.documentExists = !!this.documents[0].docFile ? true : false;\r\n            this.docName = docName;\r\n            this.document.docDescription = this.documents[0].docDescription;\r\n            this.document.docCode = this.documents[0].docCode;\r\n            this.docFile = this.documents[0].docFile;\r\n            const pubDate = this.documents[0].docPublicationDate;\r\n            if (!!pubDate) {\r\n              this.document.docPublicationDate = new Date(pubDate);\r\n            }\r\n            this.document.docVersion = this.documents[0].docVersion;\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  public uploadDocument(event, fileUploader): void {\r\n    if (event.files) {\r\n      const file = event.files[0];\r\n\r\n      // Check if the file already exists\r\n      const fileExists = this.documents.some((document) => {\r\n        if (document.docFile) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      if (fileExists) {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('warningOnFileExists'));\r\n      } else {\r\n        FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n          if (fileContent) {\r\n            this.documentExists = true;\r\n            const document: BidoDocumentationDTO = {\r\n              docFile: fileContent,\r\n              docName: file.name,\r\n              docPublicationDate: new Date()\r\n            };\r\n\r\n            this.documents = [...this.documents, document];\r\n            this.documentsAdded = document;\r\n            if (!!document.docName) {\r\n              this.docName = document.docName;\r\n            }\r\n            this.docFile = document.docFile;\r\n          }\r\n        });\r\n      }\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public downloadFiles(): void {\r\n    FileUtils.downloadFile(this.docFile, this.docName);\r\n  }\r\n\r\n  public deleteDocuments(): void {\r\n    const partialMessageKey = 'confirmDeleteSelectedDocuments';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        let docCode: string;\r\n        if (this.documents.length > 0) {\r\n          const temp = this.documents[0].docCode;\r\n          if (!!temp) {\r\n            docCode = temp;\r\n            if (!!docCode) {\r\n              this.documentsRemoved = {\r\n                docCode\r\n              };\r\n            }\r\n          }\r\n        }\r\n        docCode = '';\r\n        this.documents = [];\r\n        this.docName = '';\r\n        this.docFile = undefined;\r\n        this.selectedFunctionalLocationComponent.flComments = '';\r\n        if (!!this.document) {\r\n          this.document.docPublicationDate = undefined;\r\n          this.document.docDescription = '';\r\n          this.document.docCode = undefined;\r\n          this.document.docVersion = '';\r\n        }\r\n\r\n        this.documentExists = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  public showStatus(): void {\r\n    const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n      content: ObjectStatusComponent,\r\n      data: {\r\n        currentAuthor: this.statusDTO.statusUser,\r\n        currentDate: this.statusDTO.statusDate,\r\n        currentStatus: {\r\n          label: this._formatSelectOption.transform(this.statusDTO.statusState, this.statusList),\r\n          value: this.statusDTO.statusState\r\n        },\r\n        nextStatuses: this.statusList\r\n      }\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          this.selectedFunctionalLocationComponent.statusState = event.data;\r\n          this.save();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /*Tab Documentation Ends*/\r\n\r\n  public openGeneralTab(): void {\r\n    this.currentTabId = this.tabGeneralId;\r\n  }\r\n\r\n  public openStructureTab(): void {\r\n    this.currentTabId = this.tabStructureId;\r\n  }\r\n\r\n  public openDocumentationTab(): void {\r\n    this.currentTabId = this.tabDocumentationId;\r\n  }\r\n\r\n  public openModelsTab(): void {\r\n    this.currentTabId = this.tabModelId;\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    this.showStatusUpdatesPopup = true;\r\n  }\r\n\r\n  public openAssetsTab(): void {\r\n    this.currentTabId = this.tabAssetsId;\r\n  }\r\n\r\n  public isDisplayableOrderNumber() {\r\n    if (this.selectedFunctionalLocationComponent) {\r\n      return (\r\n        this.sessionService.isSpecificDassault &&\r\n        this.selectedFunctionalLocationComponent.flFunction === this.aWPropertiesConstants.FAMILY_FUNCTION_OME_KEY\r\n      );\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public showConfigurationSheet() {\r\n    if (this.selectedFunctionalLocationComponent) {\r\n      return (\r\n        this.selectedFunctionalLocationComponent.flFunction === AWPropertiesConstants.FAMILY_FUNCTION_OME_KEY ||\r\n        this.selectedFunctionalLocationComponent.flFunction === AWPropertiesConstants.FAMILY_FUNCTION_OME_COMPONENT_KEY\r\n      );\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"20\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <!-- <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyVariantCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [options]=\\\"familyVariants\\\"\\r\\n              [(ngModel)]=\\\"familyVariantCode\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              (onChange)=\\\"onFamilyVariantSelected($event)\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div> -->\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOnlyForm }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".item\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" *ngIf=\\\"!isReadOpenMode\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"openItemTableDialog()\\\">\\r\\n              {{ bireItemDTO.chapter }}\\r\\n              <span *ngIf=\\\"bireItemDTO.section\\\"> - {{ bireItemDTO.section }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.subject\\\"> - {{ bireItemDTO.subject }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.sheet\\\"> - {{ bireItemDTO.sheet }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.marks\\\"> - {{ bireItemDTO.marks }}</span>\\r\\n            </div>\\r\\n\\r\\n            <div\\r\\n              *ngIf=\\\"\\r\\n                bireItemDTO.chapter &&\\r\\n                bireItemDTO.section &&\\r\\n                bireItemDTO.subject &&\\r\\n                bireItemDTO.sheet &&\\r\\n                bireItemDTO.marks\\r\\n              \\\"\\r\\n              class=\\\"btn-clear-wrapper\\\"\\r\\n            >\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"\\r\\n                  bireItemDTO.chapter = undefined;\\r\\n                  bireItemDTO.section = undefined;\\r\\n                  bireItemDTO.subject = undefined;\\r\\n                  bireItemDTO.sheet = undefined;\\r\\n                  bireItemDTO.marks = undefined;\\r\\n                  bireItemDTO.versionNumber = undefined\\r\\n                \\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"openItemTableDialog()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" *ngIf=\\\"isReadOpenMode\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"openItemTableDialog()\\\">\\r\\n              {{ bireItemDTO.chapter }}\\r\\n              <span *ngIf=\\\"bireItemDTO.section\\\"> - {{ bireItemDTO.section }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.subject\\\"> - {{ bireItemDTO.subject }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.sheet\\\"> - {{ bireItemDTO.sheet }}</span>\\r\\n              <span *ngIf=\\\"bireItemDTO.marks\\\"> - {{ bireItemDTO.marks }}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onSave()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-item\\r\\n  *ngIf=\\\"showItemTableDialog\\\"\\r\\n  [(display)]=\\\"showItemTableDialog\\\"\\r\\n  [searchObject]=\\\"bireItemDTO\\\"\\r\\n  (onValidated)=\\\"onSelectedItem($event)\\\"\\r\\n></aw-dialog-search-item>\\r\\n\"","module.exports = \":host .separator {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2Z1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS9wb3B1cHMvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXGZ1bmN0aW9uYWwtbG9jYXRpb24tZm9ybVxccG9wdXBzXFxmYW1pbHktdmFyaWFudC1wb3B1cC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL2VuZ2luZWVyaW5nLW1hbmFnZW1lbnQvZnVuY3Rpb25hbC1sb2NhdGlvbi1mb3JtL3BvcHVwcy9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXHN0eWxlc1xcX21peGlucy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VDcUJFLGFBQWE7RUFDYixtQkFBbUI7RURsQmpCLG1CQUFtQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L2Z1bmN0aW9uYWwtbG9jYXRpb24tZm9ybS9wb3B1cHMvZmFtaWx5LXZhcmlhbnQtcG9wdXAtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJtaXhpbnNcIjtcclxuXHJcbjpob3N0IHtcclxuICAuc2VwYXJhdG9yIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB9XHJcbn1cclxuIiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBVdGlscyAvL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5AbWl4aW4gYnV0dG9uLWNvbG9yKCRiYWNrZ3JvdW5kLWNvbG9yLCAkY29sb3IsICRib3JkZXItY29sb3I6IG51bGwpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcclxuICBib3JkZXItY29sb3I6ICRjb2xvcjtcclxuICBjb2xvcjogJGNvbG9yO1xyXG5cclxuICAmOm5vdCg6ZGlzYWJsZWQpOmhvdmVyLFxyXG4gICY6bm90KDpkaXNhYmxlZCkuYWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvcjtcclxuICAgIGJvcmRlci1jb2xvcjogaWYoJGJvcmRlci1jb2xvciA9PSBudWxsLCAkY29sb3IsICRib3JkZXItY29sb3IpO1xyXG4gICAgY29sb3I6ICRiYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGZsZXgtY29sdW1uKCkge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuQG1peGluIGZsZXgtcm93KCkge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxufVxyXG5cclxuQG1peGluIGlucHV0KCkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgYm9yZGVyLWxlZnQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItc3R5bGU6ICRib3JkZXItc3R5bGU7XHJcbiAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXdpZHRoOiAkYm9yZGVyLXdpZHRoO1xyXG4gIGNvbG9yOiBpbmhlcml0O1xyXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xyXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0O1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgcGFkZGluZzogMnB4IDAgNHB4IDA7XHJcblxyXG4gIHRyYW5zaXRpb246IGJvcmRlci1ib3R0b20tY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dC1kaXNhYmxlZCgpIHtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDtcclxuICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtZm9jdXMoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dC1ob3ZlcigpIHtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxufVxyXG5cclxuQG1peGluIHBsYWNlaG9sZGVyIHtcclxuICAmOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOi1tb3otcGxhY2Vob2xkZXIge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG4gICY6Oi1tb3otcGxhY2Vob2xkZXIge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG4gICY6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHNlYXJjaC1jcml0ZXJpYS1jb250YWluZXIge1xyXG4gIC5hZHZhbmNlZC1jcml0ZXJpYSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I7XHJcbiAgfVxyXG5cclxuICAuc2VhcmNoLWNyaXRlcmlhLWZvb3RlciB7XHJcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XHJcbiAgICBtYXJnaW4tdG9wOiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuXHJcbiAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlciB7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLWxlc3MsXHJcbiAgICAgICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXItbW9yZSB7XHJcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLWxlc3MsXHJcbiAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLW1vcmUge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBtYXJnaW4tbGVmdDogY2FsYygjeyRtYXJnaW4tdmFsdWV9IC8gMik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuc2VhcmNoLWFjdGlvbnMge1xyXG4gICAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cclxuICAgICAgLmF3LWJ0biB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzZWN0aW9uLWNvbnRhaW5lciB7XHJcbiAgbWFyZ2luLXRvcDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogNCk7XHJcblxyXG4gICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICBtYXJnaW4tdG9wOiAwO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tdGl0bGUge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjc1cmVtO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDIpO1xyXG5cclxuICAgICYucmVxdWlyZWQge1xyXG4gICAgICBAaW5jbHVkZSBncmlkLWZvcm0tY29udHJvbC1yZXF1aXJlZCgpO1xyXG4gICAgICAmOjphZnRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYWxlcnQge1xyXG4gICAgICAgIGNvbG9yOiAkcmVkLWRhcmsxO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmF3LWljb24ge1xyXG4gICAgICBsaW5lLWhlaWdodDogMS43NXJlbTtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuXHJcbiAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc2VjdGlvbi1jb250ZW50IHtcclxuICAgIEBpbmNsdWRlIGZsZXgtY29sdW1uKCk7XHJcbiAgfVxyXG5cclxuICAuc2VjdGlvbi1hY3Rpb25zIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAmID4gYnV0dG9uIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gdGV4dC1vdmVyZmxvdy1oaWRkZW4ge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBHcmlkIGZvcm0gY29udHJvbHMgLy9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuQG1peGluIGdyaWQtZm9ybS1jb250cm9sIHtcclxuICBmb250LXNpemU6IDFyZW07XHJcbiAgZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViTWVkaXVtXCI7XHJcblxyXG4gICYgPiBpbnB1dCArIHAtbWVzc2FnZSA+IC51aS1tZXNzYWdlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1hY3Rpb25zIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICY6Zm9jdXMsXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgJiA+IC5mb3JtLWNvbnRyb2wtYWN0aW9ucyB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsIHJnYigyNTUsIDI1NSwgMjU1KSA2MCUsIHRyYW5zcGFyZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYgPiAqOmZpcnN0LWNoaWxkIHtcclxuICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDEuNzVyZW0pO1xyXG4gICAgfVxyXG5cclxuICAgICYgPiAuZm9ybS1jb250cm9sLWFjdGlvbnMge1xyXG4gICAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgYm90dG9tOiAwO1xyXG4gICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICB0b3A6IDA7XHJcblxyXG4gICAgICAuYXctaWNvbiB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgMC4zcztcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYnRuLFxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtbW9kYWwge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLWxlZnQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItc3R5bGU6ICRib3JkZXItc3R5bGU7XHJcbiAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuXHJcbiAgICB0cmFuc2l0aW9uOiBib3JkZXItYm90dG9tLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG5cclxuICAgICYuZGlzYWJsZWQge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1idG4ge1xyXG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xyXG5cclxuICAgICYgPiAqOmZpcnN0LWNoaWxkIHtcclxuICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDEuNzVyZW0pO1xyXG5cclxuICAgICAgJi5hdy1jYWxlbmRhciAudWktaW5wdXR0ZXh0LFxyXG4gICAgICAmLmF3LWRyb3Bkb3duIC51aS1kcm9wZG93bixcclxuICAgICAgJi5hdy1pbnB1dCxcclxuICAgICAgJi5hdy10ZXh0YXJlYSB7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYgPiAuYXctY2FsZW5kYXIge1xyXG4gICAgICAvLyBGSVhNRTogZml4IGFuIFVJIGlzc3VlIG9uIFByaW1lTkcgY2FsZW5kYXIgY29tcG9uZW50OyB0byByZW1vdmUgd2hlbiBpc3N1ZSB3aWxsIGJlIGZpeGVkIHVwc3RyZWFtXHJcbiAgICAgIG92ZXJmbG93OiBpbml0aWFsO1xyXG4gICAgfVxyXG5cclxuICAgICYgPiAuYXctaWNvbiB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG5cclxuICAgICAgJjpmb2N1cyxcclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtbW9kYWwge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgbWF4LWhlaWdodDogMzBweDtcclxuICAgIG1pbi1oZWlnaHQ6IDMwcHg7XHJcblxyXG4gICAgJi5kaXNhYmxlZCB7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcblxyXG4gICAgICAuYXctaWNvbjpub3QoLnJlYWQtb25seS1saW5rKSB7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7IC8vIG5vbmVcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5mb3JtLWNvbnRyb2wtZGF0YSB7XHJcbiAgICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xyXG4gICAgICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0O1xyXG4gICAgICBwYWRkaW5nOiAycHggMCA0cHggMDtcclxuICAgIH1cclxuXHJcbiAgICAuYnRuLW5pbXAsXHJcbiAgICAuYnRuLWV4dGVybmFsLWxpbmstd3JhcHBlcixcclxuICAgIC5idG4tY2xlYXItd3JhcHBlcixcclxuICAgIC5idG4tZmlsZS11cGxvYWQtd3JhcHBlcixcclxuICAgIC5idG4tc2VhcmNoLXdyYXBwZXIge1xyXG4gICAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuYnRuLWZpbGUtdXBsb2FkLXdyYXBwZXIge1xyXG4gICAgICAuYXctZmlsZXVwbG9hZCB7XHJcbiAgICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcblxyXG4gICAgICAgICY6Zm9jdXMsXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAudWktYnV0dG9uIHtcclxuICAgICAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgICB3aWR0aDogMS4xcmVtO1xyXG5cclxuICAgICAgICAgICY6Zm9jdXMsXHJcbiAgICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnVpLWJ1dHRvbi1pY29uLWxlZnQge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBjb250ZW50cztcclxuICAgICAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBpbml0aWFsO1xyXG4gICAgICAgICAgICB3aWR0aDogMS4xcmVtO1xyXG5cclxuICAgICAgICAgICAgJjo6YmVmb3JlIHtcclxuICAgICAgICAgICAgICBjb250ZW50OiBcIlxcZTkzNFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmF3LWljb24ge1xyXG4gICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICBmb250LXNpemU6IDAuODc1cmVtO1xyXG5cclxuICAgICAgJjpmb2N1cyxcclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYnRuLWNsZWFyIHtcclxuICAgICAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYnRuLXNlYXJjaCB7XHJcbiAgICAgICAgd2lkdGg6IDEuNzVyZW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtcmFkaW9idXR0b24ge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAmID4gLmF3LXJhZGlvYnV0dG9uIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiBjYWxjKDIgKiAjeyRtYXJnaW4tdmFsdWV9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tY29udHJvbC1nZW5lcmljIHtcclxuICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbiAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuXHJcbiAgJiA+IGEge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYgPiAuYWxlcnQge1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiA1cmVtO1xyXG5cclxuICAgICYuYWxlcnQtLW5vayB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRyZWQtbGlnaHQxO1xyXG4gICAgfVxyXG5cclxuICAgICYuYWxlcnQtLW9rIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGdyZWVuLWxpZ2h0MTtcclxuICAgIH1cclxuXHJcbiAgICAmLmFsZXJ0LS13YXJuaW5nIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tY29udHJvbC1yZXF1aXJlZCB7XHJcbiAgJjo6YWZ0ZXIge1xyXG4gICAgY29sb3I6ICRyZWQtZGFyazE7XHJcbiAgICBjb250ZW50OiBcIipcIjtcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDJweDtcclxuICAgIG1hcmdpbi10b3A6IC00cHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1jYWxlbmRhciB7XHJcbiAgJi51aS1pbnB1dHdyYXBwZXItZm9jdXMge1xyXG4gICAgLnVpLWNhbGVuZGFyIC51aS1pbnB1dHRleHQge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnVpLWNhbGVuZGFyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgIC51aS1pbnB1dHRleHQge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dCgpO1xyXG5cclxuICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAmOmRpc2FibGVkIHtcclxuICAgICAgICBAaW5jbHVkZSBpbnB1dC1kaXNhYmxlZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCg6ZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWxhYmVsIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWNoZWNrYm94IHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgaGVpZ2h0OiAkY2hlY2tib3gtaGVpZ2h0O1xyXG4gIHdpZHRoOiAkY2hlY2tib3gtaGVpZ2h0O1xyXG5cclxuICAudWktY2hrYm94IHtcclxuICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgIHdpZHRoOiBpbmhlcml0O1xyXG5cclxuICAgIC51aS1jaGtib3gtYm94IHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiAkYm9yZGVyLXJhZGl1cztcclxuICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG4gICAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHdpZHRoOiBpbmhlcml0O1xyXG5cclxuICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG5cclxuICAgICAgJi51aS1zdGF0ZS1kaXNhYmxlZCB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtYWN0aXZlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG4gICAgICAgIGNvbG9yOiAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZHJvcGRvd24ge1xyXG4gIC51aS1kcm9wZG93biB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dCgpO1xyXG5cclxuICAgICYudWktc3RhdGUtZGlzYWJsZWQge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1kaXNhYmxlZCgpO1xyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLWxhYmVsIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi10cmlnZ2VyIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0LWhvdmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1mb2N1cyB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0LWZvY3VzKCk7XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tY2xlYXItaWNvbixcclxuICAgIC51aS1kcm9wZG93bi10cmlnZ2VyIHtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWNsZWFyLWljb24ge1xyXG4gICAgICByaWdodDogMS43NXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1sYWJlbCB7XHJcbiAgICAgIEBpbmNsdWRlIHRleHQtb3ZlcmZsb3ctaGlkZGVuKCk7XHJcblxyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIG1heC13aWR0aDogY2FsYygxMDAlIC0gMiAqIDEuNzVyZW0pO1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5maXhlZC13aWR0aCAudWktZHJvcGRvd24ge1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWZpbGV1cGxvYWQge1xyXG4gIEBleHRlbmQgLmF3LWJ0bjtcclxuXHJcbiAgcGFkZGluZzogMDtcclxuXHJcbiAgLnVpLWZpbGV1cGxvYWQtY2hvb3NlIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gICAgY29sb3I6IGluaGVyaXQ7XHJcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgcGFkZGluZzogMCAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgIC51aS1idXR0b24taWNvbi1sZWZ0IHtcclxuICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAudWktYnV0dG9uLXRleHQge1xyXG4gICAgICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWlucHV0KCkge1xyXG4gIEBpbmNsdWRlIGlucHV0KCk7XHJcblxyXG4gIHdpZHRoOiAxMDAlO1xyXG5cclxuICAmOmRpc2FibGVkIHtcclxuICAgIEBpbmNsdWRlIGlucHV0LWRpc2FibGVkKCk7XHJcbiAgfVxyXG5cclxuICAmOm5vdCg6ZGlzYWJsZWQpOmZvY3VzIHtcclxuICAgIEBpbmNsdWRlIGlucHV0LWZvY3VzKCk7XHJcbiAgfVxyXG5cclxuICAmOm5vdCg6ZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgIEBpbmNsdWRlIGlucHV0LWhvdmVyKCk7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC10ZXh0YXJlYSB7XHJcbiAgQGluY2x1ZGUgZ3JpZC1pbnB1dCgpO1xyXG5cclxuICBkaXNwbGF5OiBibG9jaztcclxuICBtaW4taGVpZ2h0OiAkZm9ybS1jb250cm9sLWhlaWdodDtcclxuICByZXNpemU6IHZlcnRpY2FsO1xyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1yYWRpb2J1dHRvbiB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGhlaWdodDogJHJhZGlvYnV0dG9uLWhlaWdodDtcclxuICB3aWR0aDogJHJhZGlvYnV0dG9uLWhlaWdodDtcclxuXHJcbiAgLnVpLXJhZGlvYnV0dG9uIHtcclxuICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgIHdpZHRoOiBpbmhlcml0O1xyXG5cclxuICAgIC51aS1yYWRpb2J1dHRvbi1ib3gge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgIGNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgICYudWktc3RhdGUtZGlzYWJsZWQge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWFjdGl2ZSB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG5cclxuICAgICAgICAudWktcmFkaW9idXR0b24taWNvbiB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuQG1peGluIGNhbGVuZGFyLXBhbmVsIHtcclxuICAudWktZGF0ZXBpY2tlcjpub3QoLnVpLWRhdGVwaWNrZXItaW5saW5lKSB7XHJcbiAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gICAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gICAgYm9yZGVyLXdpZHRoOiAkYm9yZGVyLXdpZHRoO1xyXG4gICAgYm94LXNoYWRvdzogMCAzcHggNnB4IDAgcmdiYSgwLCAwLCAwLCAwLjE2KTtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBkcm9wZG93bi1wYW5lbCB7XHJcbiAgLnVpLWRyb3Bkb3duLXBhbmVsIHtcclxuICAgIGJvcmRlcjogJGJvcmRlci13aWR0aCAkYm9yZGVyLXN0eWxlICRib3JkZXItY29sb3I7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gICAgYm94LXNoYWRvdzogMCAzcHggNnB4IDAgcmdiYSgwLCAwLCAwLCAwLjE2KTtcclxuXHJcbiAgICAudWktZHJvcGRvd24taXRlbXMtd3JhcHBlciAudWktZHJvcGRvd24tbGlzdCB7XHJcbiAgICAgIC51aS1kcm9wZG93bi1pdGVtIHtcclxuICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIHBhZGRpbmc6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi51aS1zdGF0ZS1oaWdobGlnaHQge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICAgIGNvbG9yOiAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { DialogTableData } from '../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { BireItemDTOId } from '../../../../shared/types/api-types/bire-item-dto-id.interface';\r\nimport { BireItemDTO } from '../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { FindBidoFlVariantsByFlCodeDTO } from '../../../../shared/types/api-types/find-bido-fl-variants-by-fl-code-dto.interface';\r\nimport { FindBireVariantVersionsByFamilyFunctionAlternativeDTO } from '../../../../shared/types/api-types/find-bire-variant-versions-by-family-function-alternative-dto.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../shared/types/popup-entry.interface';\r\n\r\nimport { FamilyVariantPopupFormService } from './family-variant-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-family-variant-popup-form',\r\n  styleUrls: ['./family-variant-popup-form.component.scss'],\r\n  templateUrl: './family-variant-popup-form.component.html'\r\n})\r\nexport class FamilyVariantPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<FindBidoFlVariantsByFlCodeDTO> | undefined;\r\n  @Input()\r\n  public familyvariantItems: FindBidoFlVariantsByFlCodeDTO | undefined;\r\n  @Output()\r\n  public onAdded: EventEmitter<FindBidoFlVariantsByFlCodeDTO>;\r\n  @Output()\r\n  public onUpdate: EventEmitter<FindBidoFlVariantsByFlCodeDTO> = new EventEmitter<FindBidoFlVariantsByFlCodeDTO>();\r\n  @Input()\r\n  public isNewFunctionalLocation: boolean;\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n\r\n  public findBireVariantVersion: FindBireVariantVersionsByFamilyFunctionAlternativeDTO[];\r\n  public findBireVariantVersionFilter: FindBireVariantVersionsByFamilyFunctionAlternativeDTO[];\r\n  public familyVariants: LabelValue<string>[];\r\n  public familyVariantCode: string | undefined;\r\n  public itemTableData: DialogTableData<BireItemDTO>;\r\n  public showItemTableDialog: boolean;\r\n  public readonly componentId: string;\r\n  public inputBireItemDTOId: BireItemDTOId;\r\n  public familyCode: string | undefined;\r\n  public structureType: string | undefined;\r\n  public variantCode: string | undefined;\r\n\r\n  public bireItemDTO: BireItemDTOId;\r\n  public flFunction: string | undefined;\r\n\r\n  public chapter: string;\r\n  public section: string;\r\n  public subject: string;\r\n  public sheet: string;\r\n  public marks: string;\r\n\r\n  public constructor(\r\n    public familyVariantPopupFormService: FamilyVariantPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'FunctionalLocationFormComponent');\r\n\r\n    this.findBireVariantVersion = [];\r\n    this.findBireVariantVersionFilter = [];\r\n    this.loadfamilyVariant();\r\n    this.familyCode = undefined;\r\n    this.familyVariantCode = undefined;\r\n    this.familyVariants = [];\r\n    this.onAdded = new EventEmitter<FindBidoFlVariantsByFlCodeDTO>();\r\n    this.familyvariantItems = undefined;\r\n    this.bireItemDTO = {\r\n      familyCode: !!this.familyCode ? this.familyCode : '',\r\n      variantCode: !!this.variantCode ? this.variantCode : '',\r\n      chapter: '',\r\n      section: '',\r\n      subject: '',\r\n      sheet: '',\r\n      marks: '',\r\n      structureType: !!this.structureType ? this.structureType : ''\r\n    };\r\n    // this.chapter = undefined;\r\n    // this.section = undefined;\r\n    // this.subject = undefined;\r\n    // this.sheet = undefined;\r\n    // this.marks = undefined;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.object) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      this.familyVariantCode = this.componentData.object.familyVariantCode;\r\n      if (this.componentData.object.bireItemDTOId) {\r\n        this.bireItemDTO = this.componentData.object.bireItemDTOId;\r\n      }\r\n      if (!!this.componentData.object.flFunction) {\r\n        this.flFunction = this.componentData.object.flFunction;\r\n      }\r\n    }\r\n  }\r\n\r\n  // To bind drop-down\r\n  private loadfamilyVariant(): void {\r\n    this.familyVariantPopupFormService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe((results) => {\r\n      this.findBireVariantVersion = results;\r\n      const list: LabelValue<string>[] = [];\r\n      results.forEach((element) => {\r\n        list.push(element.labelValue);\r\n      });\r\n\r\n      this.familyVariants = list;\r\n\r\n      // To fetch the value of familyCode and VariantCode\r\n      if (this.familyVariantCode) {\r\n        this.familyCode = results.filter(\r\n          (x) => x.labelValue.value === this.familyVariantCode\r\n        )[0].bireVariantVersionDTO.familyCode;\r\n        const strType = results.filter((x) => x.labelValue.value === this.familyVariantCode)[0].bireVariantVersionDTO\r\n          .structureType;\r\n        if (!!strType) {\r\n          this.structureType = strType;\r\n        }\r\n        const varCode = results.filter((x) => x.labelValue.value === this.familyVariantCode)[0].bireVariantVersionDTO\r\n          .variantCode;\r\n        if (!!varCode) {\r\n          this.variantCode = varCode;\r\n        }\r\n        if (!!this.familyvariantItems) {\r\n          this.familyvariantItems.familyVariantCode = this.variantCode;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // To split the value of family-variant, as they are used in search parameter\r\n  public onFamilyVariantSelected(event) {\r\n    this.findBireVariantVersionFilter = [];\r\n    this.familyCode = undefined;\r\n    this.structureType = undefined;\r\n    this.variantCode = undefined;\r\n\r\n    this.bireItemDTO.chapter = '';\r\n    this.bireItemDTO.section = '';\r\n    this.bireItemDTO.sheet = '';\r\n    this.bireItemDTO.subject = '';\r\n    this.bireItemDTO.marks = '';\r\n    // this.bireItemDTO = {\r\n    //   familyCode: undefined,\r\n    //   variantCode: undefined,\r\n    //   chapter: '',\r\n    //   section: '',\r\n    //   subject: '',\r\n    //   sheet: '',\r\n    //   marks: '',\r\n    //   structureType: undefined\r\n    // };\r\n    if (event.value) {\r\n      this.findBireVariantVersionFilter = this.findBireVariantVersion.filter((x) => x.labelValue.value === event.value);\r\n      this.familyCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.familyCode;\r\n      this.structureType = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.structureType;\r\n      this.variantCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.variantCode;\r\n    }\r\n  }\r\n\r\n  public onCancel() {\r\n    this.display = false;\r\n  }\r\n\r\n  public onSave(): void {\r\n    if (!this.familyVariantCode || this.familyVariantCode.trim().length === 0) {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    } else {\r\n      this.familyvariantItems = {\r\n        bireItemDTOId: this.bireItemDTO,\r\n        item:\r\n          this.bireItemDTO.chapter +\r\n          '-' +\r\n          this.bireItemDTO.section +\r\n          '-' +\r\n          this.bireItemDTO.subject +\r\n          '-' +\r\n          this.bireItemDTO.sheet +\r\n          '-' +\r\n          this.bireItemDTO.marks\r\n      };\r\n\r\n      // tslint:disable-next-line:max-line-length\r\n      const selectedVariantCode: FindBireVariantVersionsByFamilyFunctionAlternativeDTO = this.findBireVariantVersion.filter(\r\n        (x) => !!this.familyVariantCode && x.labelValue.value.includes(this.familyVariantCode)\r\n      )[0];\r\n      this.familyvariantItems.familyVariantCode = selectedVariantCode.labelValue.value;\r\n\r\n      if (this.isNewFunctionalLocation) {\r\n        this.onAdded.emit(this.familyvariantItems);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.familyvariantItems);\r\n        this.display = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // To open item dialog\r\n  public openItemTableDialog(): void {\r\n    if (!this.isReadOpenMode) {\r\n      this.showItemTableDialog = true;\r\n    }\r\n  }\r\n\r\n  public onSelectedItem(item: BireItemDTO): void {\r\n    if (\r\n      !!item &&\r\n      !!item.chapter &&\r\n      !!item.section &&\r\n      !!item.subject &&\r\n      !!item.sheet &&\r\n      !!item.marks &&\r\n      !!item.structureType\r\n    ) {\r\n      this.familyCode = item.familyCode;\r\n      this.structureType = item.structureType;\r\n      this.variantCode = item.variantCode;\r\n      this.familyVariantCode = `${item.familyCode}-${item.variantCode}`;\r\n      this.bireItemDTO = {\r\n        familyCode: item.familyCode,\r\n        variantCode: item.variantCode,\r\n        chapter: item.chapter,\r\n        section: item.section,\r\n        subject: item.subject,\r\n        sheet: item.sheet,\r\n        marks: item.marks,\r\n        structureType: item.structureType as string\r\n      };\r\n    } else {\r\n      super.throwUnboundLocalError('onSelectedItem', 'item && this.structureType');\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { BireItemDTO } from '../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { FindBireVariantVersionsByFamilyFunctionAlternativeDTO } from '../../../../shared/types/api-types/find-bire-variant-versions-by-family-function-alternative-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class FamilyVariantPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  // To populate values into family-variant dropdown\r\n  public findBireVariantVersionsByFamilyFunctionAlternative(): Observable<\r\n    FindBireVariantVersionsByFamilyFunctionAlternativeDTO[]\r\n  > {\r\n    return super.post<void, FindBireVariantVersionsByFamilyFunctionAlternativeDTO[]>(\r\n      this.productStructureManagementApi.findBireVariantVersionsByFamilyFunctionAlternative\r\n    );\r\n  }\r\n\r\n  // To get all items by family-variant\r\n  public findBireItemsBySearchCriteria(\r\n    familyCode: string,\r\n    structureType: string,\r\n    variantCode: string\r\n  ): Observable<SearchResultsDTO<BireItemDTO>> {\r\n    const params: FindBireItemsBySearchCriteriaInput = {\r\n      bireItemDTOCriteria: {\r\n        familyCode,\r\n        structureType,\r\n        variantCode\r\n      },\r\n      pnCode: undefined,\r\n      attribute: undefined\r\n    };\r\n\r\n    return super.post<FindBireItemsBySearchCriteriaInput, SearchResultsDTO<BireItemDTO>>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteria,\r\n      params\r\n    );\r\n  }\r\n\r\n  // Retrieve the instruction dropdownlist in the Asset dropdown list\r\n  // public getAssetActionType(): Observable<LabelValue<string>[]> {\r\n  //     return this.propertiesService.getValue(\"getAssetActionTypeMap\");\r\n  // }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyVariant\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [options]=\\\"familyVariants\\\"\\r\\n              [(ngModel)]=\\\"familyVariantCode\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n              (onChange)=\\\"onFamilyVariantSelected($event)\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modelCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOnlyForm }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"showDialog()\\\">{{ model.bireModelDTO.modelCode }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"model.bireModelDTO.modelCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"\\r\\n                  model.bireModelDTO.modelCode = undefined;\\r\\n                  model.bireModelDTO.modelName = undefined;\\r\\n                  model.bireModelDTO.ratingCode = undefined;\\r\\n                  model.ratingName = undefined\\r\\n                \\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showDialog()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div *ngIf=\\\"model.bireModelDTO.modelName\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".modelName\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              name=\\\"modelName\\\"\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [(ngModel)]=\\\"model.bireModelDTO.modelName\\\"\\r\\n              [disabled]=\\\"true\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div *ngIf=\\\"model.bireModelDTO.ratingCode\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".ratingCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              name=\\\"ratingCode\\\"\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [(ngModel)]=\\\"model.bireModelDTO.ratingCode\\\"\\r\\n              disabled=\\\"true\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div *ngIf=\\\"model.ratingName\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".ratingName\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"model.ratingName\\\" disabled=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        !familyVariantCode ||\\r\\n        familyVariantCode.length === 0 ||\\r\\n        !model.bireModelDTO.modelCode ||\\r\\n        model.bireModelDTO.modelCode.length === 0\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-model\\r\\n  *ngIf=\\\"displayModelPopin\\\"\\r\\n  [(display)]=\\\"displayModelPopin\\\"\\r\\n  [model-code]=\\\"this.model.modelCode\\\"\\r\\n  [family-code]=\\\"this.model.bireModelDTO.familyCode\\\"\\r\\n  [variant-code]=\\\"this.model.bireModelDTO.variantCode\\\"\\r\\n  (onSelected)=\\\"setSelectedCode($event, 'model')\\\"\\r\\n></aw-dialog-search-model>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { FindBireVariantVersionsByFamilyFunctionAlternativeDTO } from '../../../../../shared/types/api-types/find-bire-variant-versions-by-family-function-alternative-dto.interface';\r\nimport { FlModelsTableDTO } from '../../../../../shared/types/api-types/fl-models-table-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\nimport { ModelPopupFormService } from './model-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-model-popup-form',\r\n  templateUrl: './model-popup-form.component.html'\r\n})\r\nexport class ModelPopupFormComponent extends DialogComponent implements OnInit {\r\n  public familyVariants: LabelValue<string>[];\r\n  public familyVariantCode: string;\r\n  public displayModelPopin: boolean;\r\n  public findBireVariantVersion: FindBireVariantVersionsByFamilyFunctionAlternativeDTO[];\r\n  public findBireVariantVersionFilter: FindBireVariantVersionsByFamilyFunctionAlternativeDTO[];\r\n\r\n  @Input()\r\n  public model: FlModelsTableDTO;\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n  @Output()\r\n  public onValidated: EventEmitter<FlModelsTableDTO>;\r\n\r\n  public customerLinks: SelectItem[];\r\n  public displayValue: boolean;\r\n\r\n  public customerTableData: DialogTableData<FlModelsTableDTO>;\r\n  public showCustomerDialog: boolean;\r\n\r\n  public constructor(\r\n    private readonly modelPopupFormService: ModelPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogModelComponent');\r\n\r\n    this.onValidated = new EventEmitter<FlModelsTableDTO>();\r\n    this.displayModelPopin = false;\r\n    this.loadfamilyVariant();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    if (!this.model) {\r\n      this.model = { bireModelDTO: {}, ratingName: undefined };\r\n    } else {\r\n      this.modelPopupFormService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe((results) => {\r\n        this.familyVariantCode = this.findBireVariantVersion.filter(\r\n          (x) =>\r\n            x.bireVariantVersionDTO.familyCode === this.model.bireModelDTO.familyCode &&\r\n            x.bireVariantVersionDTO.variantCode === this.model.bireModelDTO.variantCode\r\n        )[0].labelValue.value;\r\n      });\r\n    }\r\n  }\r\n\r\n  // To bind drop-down\r\n  private loadfamilyVariant(): void {\r\n    this.modelPopupFormService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe((results) => {\r\n      this.findBireVariantVersion = results;\r\n      const list: LabelValue<string>[] = [];\r\n      results.forEach((element) => {\r\n        list.push(element.labelValue);\r\n      });\r\n\r\n      this.familyVariants = list;\r\n    });\r\n  }\r\n\r\n  public onFamilyVariantSelected(event) {\r\n    this.model = { bireModelDTO: {}, ratingName: undefined };\r\n    if (event.value) {\r\n      this.findBireVariantVersionFilter = this.findBireVariantVersion.filter((x) => x.labelValue.value === event.value);\r\n      this.model.bireModelDTO.familyCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.familyCode;\r\n      this.model.bireModelDTO.structureType = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.structureType;\r\n      this.model.bireModelDTO.variantCode = this.findBireVariantVersionFilter[0].bireVariantVersionDTO.variantCode;\r\n    }\r\n  }\r\n\r\n  public showDialog() {\r\n    this.displayModelPopin = true;\r\n  }\r\n\r\n  public setSelectedCode(returnedObject, type) {\r\n    if (type === 'model') {\r\n      this.model.bireModelDTO.modelCode = returnedObject.modelCode;\r\n      this.model.bireModelDTO.modelName = returnedObject.modelName;\r\n      this.model.bireModelDTO.ratingCode = returnedObject.ratingCode;\r\n      this.model.ratingName = returnedObject.ratingName;\r\n      this.displayModelPopin = false;\r\n    }\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public validate(): void {\r\n    if (\r\n      !this.familyVariantCode ||\r\n      this.familyVariantCode.trim().length === 0 ||\r\n      (!this.model.bireModelDTO.modelCode || this.model.bireModelDTO.modelCode.trim().length === 0)\r\n    ) {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    } else {\r\n      this.onValidated.emit(this.model);\r\n      this.display = false;\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { FindBireVariantVersionsByFamilyFunctionAlternativeDTO } from '../../../../../shared/types/api-types/find-bire-variant-versions-by-family-function-alternative-dto.interface';\r\n\r\n@Injectable()\r\nexport class ModelPopupFormService extends AbstractAwHttpService {\r\n  public displayDialog: boolean;\r\n\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public displayPopup(display: boolean) {\r\n    this.displayDialog = display;\r\n  }\r\n\r\n  public findBireVariantVersionsByFamilyFunctionAlternative(): Observable<\r\n    FindBireVariantVersionsByFamilyFunctionAlternativeDTO[]\r\n  > {\r\n    return super.post<void, FindBireVariantVersionsByFamilyFunctionAlternativeDTO[]>(\r\n      this.productStructureManagementApi.findBireVariantVersionsByFamilyFunctionAlternative\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewFunctionalLocation()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group flex--3\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"familyVariants\\\"\\r\\n                        [(ngModel)]=\\\"familyVariant\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--3\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".flCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.flCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--3\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".flFunction\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"flFunctions\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.flFunction\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        (onChange)=\\\"onFlFunctionsSelected()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--3\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".flDescription\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.flDescription\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--3\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".model\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control form-control-with-btn\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"this.searchObject.modelCode\\\" />\\r\\n                      <i class=\\\"fa fa-fw fa-search aw-icon\\\" aria-hidden=\\\"true\\\" (click)=\\\"showDialog()\\\"></i>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".onlyMel\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-checkbox\\r\\n                        class=\\\"aw-checkbox\\\"\\r\\n                        binary=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.flIsMel\\\"\\r\\n                      ></p-checkbox>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div *ngIf=\\\"showConfigurationSheet()\\\" class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".isInConfigurationSheet\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-checkbox\\r\\n                        class=\\\"aw-checkbox\\\"\\r\\n                        binary=\\\"true\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.flIsInConfSheet\\\"\\r\\n                      ></p-checkbox>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{\\r\\n                    resultsTableDataSource ? resultsTableDataSource.dataCount : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"resultsTableDataSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"\\r\\n                      hasOneSelectedDataAndTypeOfHardpointOrOME() &&\\r\\n                      resultsTableDataSource.dataSelection[0].flOrderNumber > 1\\r\\n                    \\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"decOrderNumber()\\\"\\r\\n                  >\\r\\n                    {{ componentData.componentId + \\\".up\\\" | translate }}\\r\\n                  </button>\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasOneSelectedDataAndTypeOfHardpointOrOME()\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"incOrderNumber()\\\"\\r\\n                  >\\r\\n                    {{ componentData.componentId + \\\".down\\\" | translate }}\\r\\n                  </button>\\r\\n                  <button\\r\\n                    *ngIf=\\\"!resultsTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && resultsTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    color=\\\"warn\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"deleteSelectedFunctionalLocation()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"resultsTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedFunctionalLocation()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n                <ng-template columnDef=\\\"flCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <a (click)=\\\"openFunctionalLocationLink(rowData)\\\"> {{ rowData.flCode }} </a>\\r\\n                </ng-template>\\r\\n                <ng-template columnDef=\\\"flIsMel\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <i *ngIf=\\\"rowData.flIsMel\\\" class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-search-model\\r\\n    *ngIf=\\\"displayModelPopin\\\"\\r\\n    [(display)]=\\\"displayModelPopin\\\"\\r\\n    [model-code]=\\\"this.searchObject.modelCode\\\"\\r\\n    (onSelected)=\\\"setSelectedCode($event, 'model')\\\"\\r\\n  ></aw-dialog-search-model>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { forkJoin } from 'rxjs';\r\n\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { FindBidoFlsBySearchCriteriaInput } from '../../../shared/types/api-input-types/fleet-management/find-bido-fls-by-search-criteria-input.interface';\r\nimport { BidoFlDTOId } from '../../../shared/types/api-types/bido-fl-dto-id.interface';\r\nimport { BidoFlDTO } from '../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { ObjectUtils } from '../../../shared/utils/object-utils';\r\n\r\nimport { FunctionalLocationSearchService } from './functional-location-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-functional-location-search',\r\n  templateUrl: './functional-location-search.component.html'\r\n})\r\nexport class FunctionalLocationSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public static readonly PROPERTY_ID = 1;\r\n  public readonly propertyValueId = 1092;\r\n\r\n  public isLoading: boolean;\r\n  public familyVariants: LabelValue<string>[];\r\n  public flFunctions: LabelValue<string>[];\r\n  public searchObject: FindBidoFlsBySearchCriteriaInput;\r\n  public familyVariant: string;\r\n  public showFunctionalLocationModelDialog: boolean;\r\n  public displayModelPopin: boolean;\r\n  public isReadOnlyForm: boolean;\r\n  private readonly resultsTableExportName: string;\r\n  public globalFilterTxt: string | undefined;\r\n  public resultsTableDataSource: TableDataSource<BidoFlDTO>;\r\n\r\n  public readonly aWPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly sessionService: SessionService,\r\n    private readonly functionalLocationSearchService: FunctionalLocationSearchService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly exportService: ExportService,\r\n    private readonly confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.aWPropertiesConstants = AWPropertiesConstants;\r\n    this.isLoading = false;\r\n    this.familyVariants = [];\r\n    this.flFunctions = [];\r\n\r\n    this.searchObject = {\r\n      bidoFlDTOCriteria: {},\r\n      familyVariantCode: undefined,\r\n      modelCode: undefined\r\n    };\r\n    this.isReadOnlyForm = false;\r\n    this.displayModelPopin = false;\r\n\r\n    this.loadfamilyVariant();\r\n    this.loadFlFunction();\r\n    this.showFunctionalLocationModelDialog = false;\r\n    this.resultsTableExportName = 'functionLocation-search-list';\r\n    this.initResultsTableDataSource();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'FunctionalLocationSearchComponent';\r\n  }\r\n\r\n  // To bind dropdown family variant\r\n  private loadfamilyVariant(): void {\r\n    this.functionalLocationSearchService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe((results) => {\r\n      const list: LabelValue<string>[] = [];\r\n      results.forEach((element) => {\r\n        list.push(element.labelValue);\r\n      });\r\n      // this.searchObject.familyVariantCode = list[0].value;\r\n      this.familyVariants = list || [];\r\n    });\r\n  }\r\n\r\n  // To bind dropdown function\r\n  private loadFlFunction(): void {\r\n    forkJoin({\r\n      flFunctions: this.propertiesService.getValue(GenericPropertyConstants.ITEM_FAMILY_CODE_MAP),\r\n      authorizedFunctions: this.functionalLocationSearchService.fetchPropertyValuesTableData(\r\n        FunctionalLocationSearchComponent.PROPERTY_ID\r\n      )\r\n    }).subscribe((results) => {\r\n      const flFunctions = results.flFunctions || [];\r\n      const authorizedFunctions = results.authorizedFunctions.find(\r\n        (cpt) => `${cpt.enPropertiesValueId}` === `${this.propertyValueId}`\r\n      );\r\n      this.flFunctions = flFunctions.filter(\r\n        (fl) =>\r\n          authorizedFunctions &&\r\n          authorizedFunctions.propertiesValue &&\r\n          authorizedFunctions.propertiesValue.split(';').find((s) => s === fl.value)\r\n      );\r\n    });\r\n  }\r\n\r\n  public showDialog() {\r\n    this.displayModelPopin = true;\r\n    this.searchObject = this.searchObject;\r\n  }\r\n\r\n  /*\r\n     <summary>Set selected customer code in corresponding input box</summary>\r\n     */\r\n  public setSelectedCode(returnedObject, type) {\r\n    if (type === 'model') {\r\n      this.searchObject.modelCode = returnedObject.modelCode;\r\n      this.displayModelPopin = false;\r\n    }\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  private initResultsTableDataSource(): void {\r\n    const defaultSortMethod = (data1: BidoFlDTO, data2: BidoFlDTO, field: string) => {\r\n      let value1;\r\n      let value2;\r\n      value1 = data1[field];\r\n      value2 = data2[field];\r\n\r\n      let result: number;\r\n      if (field === 'flOrderNumber') {\r\n        result = this.sortByOrderNumber(data1, data2);\r\n      } else {\r\n        if (!ObjectUtils.isDefined(value1) && ObjectUtils.isDefined(value2)) {\r\n          result = -1;\r\n        } else if (ObjectUtils.isDefined(value1) && !ObjectUtils.isDefined(value2)) {\r\n          result = 1;\r\n        } else if (!ObjectUtils.isDefined(value1) && !ObjectUtils.isDefined(value2)) {\r\n          result = 0;\r\n        } else if (typeof value1 === 'string' && typeof value2 === 'string') {\r\n          result = value1.localeCompare(value2);\r\n        } else {\r\n          result = JSON.stringify(value1).localeCompare(JSON.stringify(value2));\r\n        }\r\n      }\r\n\r\n      return result;\r\n    };\r\n    this.resultsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'flCode',\r\n          translateKey: this.getTranslateKey('flCode'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'flDescription',\r\n          translateKey: this.getTranslateKey('flDescription'),\r\n          width: '25%'\r\n        },\r\n        {\r\n          field: 'flFunction',\r\n          translateKey: this.getTranslateKey('flFunction'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'flIsMel',\r\n          translateKey: this.getTranslateKey('flIsMel'),\r\n          width: '7%'\r\n        },\r\n        {\r\n          field: 'flNominalQuantity',\r\n          translateKey: this.getTranslateKey('flNominalQuantity'),\r\n          width: '14%'\r\n        },\r\n        {\r\n          field: 'flRequiredQuantity',\r\n          translateKey: this.getTranslateKey('flRequiredQuantity'),\r\n          width: '14%'\r\n        },\r\n        {\r\n          field: 'flOrderNumber',\r\n          translateKey: this.getTranslateKey('flOrderNumber'),\r\n          width: '10%'\r\n        }\r\n      ],\r\n      data: [],\r\n      itemsPerPage: 30,\r\n      customSort: defaultSortMethod\r\n    });\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {\r\n      bidoFlDTOCriteria: {},\r\n      familyVariantCode: undefined,\r\n      modelCode: undefined\r\n    };\r\n    this.loadfamilyVariant();\r\n  }\r\n\r\n  /* Search functional location */\r\n  public search(): void {\r\n    this.loadFunctionalLocations();\r\n  }\r\n\r\n  // To bind the table function locations\r\n  private loadFunctionalLocations(bidoFlCriteria?: BidoFlDTO): void {\r\n    let criteria: FindBidoFlsBySearchCriteriaInput;\r\n    if (bidoFlCriteria) {\r\n      criteria = {\r\n        bidoFlDTOCriteria: bidoFlCriteria\r\n      };\r\n    } else {\r\n      criteria = {\r\n        bidoFlDTOCriteria: this.searchObject.bidoFlDTOCriteria,\r\n        familyVariantCode: this.familyVariant ? [this.familyVariant] : undefined,\r\n        modelCode: this.searchObject.modelCode\r\n      };\r\n    }\r\n    this.isLoading = true;\r\n    this.functionalLocationSearchService.searchFunctionalLocationList(criteria).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          results.list.forEach((result) => {\r\n            if (\r\n              result.flFunction &&\r\n              this.flFunctions.filter((flFunctions) => flFunctions.value === result.flFunction)[0]\r\n            ) {\r\n              result.flFunction = this.flFunctions.filter(\r\n                (flFunctions) => flFunctions.value === result.flFunction\r\n              )[0].label;\r\n            }\r\n          });\r\n          if (\r\n            criteria.bidoFlDTOCriteria.flFunction &&\r\n            (this.isHardpoint(criteria.bidoFlDTOCriteria.flFunction) ||\r\n              this.isOMESpecifDassault(criteria.bidoFlDTOCriteria.flFunction))\r\n          ) {\r\n            const tmpNullOrder = results.list.filter((fl) => !fl.flOrderNumber && fl.flOrderNumber !== 0);\r\n            results.list = results.list.filter((fl) => !!fl.flOrderNumber);\r\n            results.list.sort(this.sortByOrderNumber);\r\n            results.list = results.list.concat(tmpNullOrder);\r\n          }\r\n          this.resultsTableDataSource.setData(results.list);\r\n        }\r\n        this.isLoading = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFLResults'));\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private sortByOrderNumber(fl1: BidoFlDTO, fl2: BidoFlDTO): number {\r\n    if (fl1 && fl1.flOrderNumber) {\r\n      if (fl2 && fl2.flOrderNumber) {\r\n        return fl1.flOrderNumber > fl2.flOrderNumber ? 1 : -1;\r\n      }\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  public openFunctionalLocationLink(functionLocation: BidoFlDTO) {\r\n    if (functionLocation) {\r\n      const matchingFlFunction = this.flFunctions.find(\r\n        (flFunction) => flFunction.label === functionLocation.flFunction\r\n      );\r\n      const selectedObjectId: BidoFlDTO = {\r\n        flCode: functionLocation.flCode,\r\n        flDescription: functionLocation.flDescription,\r\n        flFunction: matchingFlFunction ? matchingFlFunction.value : undefined,\r\n        flIsMel: functionLocation.flIsMel,\r\n        flNominalQuantity: functionLocation.flNominalQuantity,\r\n        flRequiredQuantity: functionLocation.flRequiredQuantity,\r\n        flComments: functionLocation.flComments,\r\n        flDelayCategory: functionLocation.flDelayCategory\r\n      };\r\n      this.openFunctionalLocation(selectedObjectId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  /* Open Functional Location form for selected rows in consult mode */\r\n  public openSelectedFunctionalLocation(): void {\r\n    this.resultsTableDataSource.dataSelection.forEach((functionLocation) => {\r\n      if (functionLocation) {\r\n        const matchingFlFunction = this.flFunctions.find(\r\n          (flFunction) => flFunction.label === functionLocation.flFunction\r\n        );\r\n        const selectedObjectId: BidoFlDTO = {\r\n          flCode: functionLocation.flCode,\r\n          flDescription: functionLocation.flDescription,\r\n          flFunction: matchingFlFunction ? matchingFlFunction.value : undefined,\r\n          flIsMel: functionLocation.flIsMel,\r\n          flNominalQuantity: functionLocation.flNominalQuantity,\r\n          flRequiredQuantity: functionLocation.flRequiredQuantity,\r\n          flComments: functionLocation.flComments,\r\n          flDelayCategory: functionLocation.flDelayCategory\r\n        };\r\n        this.openFunctionalLocation(selectedObjectId, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Delete selected functional location */\r\n  public deleteSelectedFunctionalLocation(): void {\r\n    if (this.resultsTableDataSource.hasDataSelection) {\r\n      this.confirmationService.confirmDelete({\r\n        messageKey: 'global.deleteConfirmationMsg',\r\n        accept: () => {\r\n          const selectedBireFunctionalLocationDTOId = new Array<BidoFlDTOId>();\r\n          this.resultsTableDataSource.dataSelection.forEach((functionLocation) => {\r\n            if (functionLocation) {\r\n              if (!!functionLocation.flCode) {\r\n                const bireFunctionalLocationDTOId: BidoFlDTOId = {\r\n                  flCode: functionLocation.flCode\r\n                };\r\n                selectedBireFunctionalLocationDTOId.push(bireFunctionalLocationDTOId);\r\n              } else {\r\n                super.throwUnboundLocalError('deleteSelectedFunctionalLocation', 'functionLocation.flCode');\r\n              }\r\n            }\r\n          });\r\n          this.functionalLocationSearchService.removeFunctionalLocation(selectedBireFunctionalLocationDTOId).subscribe(\r\n            (result) => {\r\n              this.messageService.showSuccessMessage('global.deleteSuccessMsg');\r\n            },\r\n            () => {\r\n              this.messageService.showErrorMessage('global.deleteErrorMsg');\r\n            }\r\n          );\r\n\r\n          this.resultsTableDataSource.deleteDataSelection();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public exportTable(): void {\r\n    if (!!this.componentData) {\r\n      this.exportService.toExcel(\r\n        this.resultsTableDataSource.sanitizedData.map((data) => {\r\n          const fieldsLess = { ...data };\r\n          delete fieldsLess.flFlCode;\r\n          delete fieldsLess.flItems;\r\n          delete fieldsLess.flDelayCategory;\r\n          delete fieldsLess.flComments;\r\n          delete fieldsLess.statusDate;\r\n          delete fieldsLess.statusState;\r\n          delete fieldsLess.statusUser;\r\n\r\n          return fieldsLess;\r\n        }),\r\n        this.resultsTableExportName,\r\n        this.componentData.componentId\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('exportTable', 'this.componentData');\r\n    }\r\n  }\r\n\r\n  // To open create popup for function location\r\n  public openNewFunctionalLocation(): void {\r\n    this.openFunctionalLocation(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  private openFunctionalLocation(objectId: any | null, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.FunctionalLocationFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'FunctionalLocationFormComponent',\r\n      objectId: objectId != undefined ? this.serializationService.serialize(objectId) : undefined,\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    this.resultsTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  public resetFilter(): void {\r\n    this.globalFilterTxt = undefined;\r\n  }\r\n\r\n  public hasOneSelectedDataAndTypeOfHardpointOrOME(): boolean {\r\n    if (this.flFunctions && this.resultsTableDataSource.dataSelectionCount === 1) {\r\n      const flFunction = this.getFlFunctionValueFromLabel(this.resultsTableDataSource.dataSelection[0].flFunction);\r\n      if (flFunction) {\r\n        return !!(\r\n          (this.isHardpoint(flFunction) || this.isOMESpecifDassault(flFunction)) &&\r\n          this.resultsTableDataSource.dataSelection[0].flOrderNumber\r\n        );\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n  private getFlFunctionValueFromLabel(flFunction: string | undefined): string {\r\n    return this.flFunctions\r\n      .filter((fl) => fl.label === this.resultsTableDataSource.dataSelection[0].flFunction)\r\n      .map((fl) => fl.value)[0];\r\n  }\r\n  private isHardpoint(flFunction: string): boolean {\r\n    return flFunction === this.aWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY;\r\n  }\r\n\r\n  public isOMESpecifDassault(flFunction: string): boolean {\r\n    return this.sessionService.isSpecificDassault && flFunction === this.aWPropertiesConstants.FAMILY_FUNCTION_OME_KEY;\r\n  }\r\n\r\n  public decOrderNumber() {\r\n    if (this.hasOneSelectedDataAndTypeOfHardpointOrOME()) {\r\n      const fl = { ...this.resultsTableDataSource.dataSelection[0] };\r\n      if (fl.flOrderNumber && fl.flOrderNumber > 1) {\r\n        fl.flOrderNumber = fl.flOrderNumber - 1;\r\n        this.updateFl(fl);\r\n      }\r\n    }\r\n  }\r\n\r\n  public incOrderNumber() {\r\n    if (this.hasOneSelectedDataAndTypeOfHardpointOrOME()) {\r\n      const fl = { ...this.resultsTableDataSource.dataSelection[0] };\r\n      if (fl.flOrderNumber) {\r\n        fl.flOrderNumber = fl.flOrderNumber + 1;\r\n        this.updateFl(fl);\r\n      }\r\n    }\r\n  }\r\n\r\n  private updateFl(fl: BidoFlDTO) {\r\n    const flFunction = this.flFunctions.find(\r\n      (_fl) => _fl.label === this.resultsTableDataSource.dataSelection[0].flFunction\r\n    );\r\n    if (flFunction) {\r\n      fl.flFunction = flFunction.value;\r\n    }\r\n    this.functionalLocationSearchService.createUpdateFl(fl).subscribe((_fl) => {\r\n      const bidoFlDTOCriteria: BidoFlDTO = { flFunction: this.getFlFunctionValueFromLabel(fl.flFunction) };\r\n      this.loadFunctionalLocations(bidoFlDTOCriteria);\r\n    });\r\n  }\r\n\r\n  public showConfigurationSheet(): boolean {\r\n    if (this.searchObject.bidoFlDTOCriteria) {\r\n      return (\r\n        this.searchObject.bidoFlDTOCriteria.flFunction === AWPropertiesConstants.FAMILY_FUNCTION_OME_KEY ||\r\n        this.searchObject.bidoFlDTOCriteria.flFunction === AWPropertiesConstants.FAMILY_FUNCTION_OME_COMPONENT_KEY\r\n      );\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public onFlFunctionsSelected(): void {\r\n    this.searchObject.bidoFlDTOCriteria.flIsInConfSheet = false;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { MassUpdatesApi } from '../../../shared/api/mhiael/mass-updates.api';\r\nimport { AbstractAwMhiaelHttpService } from '../../../shared/http/abstract-aw-mhiael-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\n\r\n@Injectable()\r\nexport class MaintenanceProgramFormMhiaelService extends AbstractAwMhiaelHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly massUpdatesApi: MassUpdatesApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public updateInMassRMPSubObjectStatus(bireMaintenancePlan: BireMaintenancePlanDTO): Observable<boolean> {\r\n    return super.post<BireMaintenancePlanDTO, boolean>(\r\n      this.massUpdatesApi.updateInMassRMPObjectStatus,\r\n      bireMaintenancePlan\r\n    );\r\n  }\r\n\r\n  public updateRMPCsv(bireMaintenancePlan: BireMaintenancePlanDTO): Observable<void> {\r\n    return super.post<BireMaintenancePlanDTO, void>(this.massUpdatesApi.updateRMPCsv, bireMaintenancePlan);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          {{ displayName }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"object-status\\\" *ngIf=\\\"currentMaintenancePlan.statusState\\\" (click)=\\\"showStatus()\\\">\\r\\n      {{ currentMaintenancePlan.statusState | formatSelectOption: status }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"showCreateAmpButton\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"createAmp()\\\">\\r\\n      {{ getComponentName() + \\\".createAMP\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"isReadOpenMode && !isConsultMode && hasUpdateAccessRight\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"editMaintenanceProgram()\\\"\\r\\n    >\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      color=\\\"warn\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"cancelMaintenanceProgram()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"save()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button *ngIf=\\\"showAssignAssetsButton\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"assignAssets()\\\">\\r\\n        {{ componentData.componentId + \\\".assignAssets\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"openStatusUpdatesPopup()\\\">\\r\\n        {{ \\\"global.updates\\\" | translate }}\\r\\n      </button>\\r\\n      <button *ngIf=\\\"showUpgradeButton\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"checkUpgradeMaintenancePlan()\\\">\\r\\n        {{ componentData.componentId + \\\".upgrade\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        *ngIf=\\\"isReadOpenMode && !isCreateOpenMode && !isConsultMode\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-menu-item\\r\\n        (click)=\\\"reloadMaintenanceProgram()\\\"\\r\\n      >\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <!-- Main information -->\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div #mainDataAnchor class=\\\"grid-cell--4\\\" (click)=\\\"setSelectedAnchor('mainDataAnchor')\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isSelectedAnchor('mainDataAnchor') }\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ \\\"page.mainData\\\" | translate }}\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".code\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            maxlength=\\\"50\\\"\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planCode\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".name\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            maxlength=\\\"100\\\"\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planName\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || disableMpEdit\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".revisionNumber\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            maxlength=\\\"10\\\"\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planRevisionNumber\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || disableMpEdit\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".revisionDate\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planRevisionDate\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || disableMpEdit\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".approvalNumber\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            maxlength=\\\"10\\\"\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planApprovalNumber\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || disableMpEdit\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".approvalDate\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planApprovalDate\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || disableMpEdit\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".validityEndDate\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planValidityEndDate\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || disableMpEdit\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div *ngIf=\\\"relatedApplicableMaintenancePlanCode\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".applicableMaintenancePlan\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control span-padding\\\">\\r\\n                          <a\\r\\n                            (click)=\\\"openMaintenanceProgram(relatedApplicableMaintenancePlanCode)\\\"\\r\\n                            style=\\\"cursor: pointer;\\\"\\r\\n                            >{{ relatedApplicableMaintenancePlanCode }}</a\\r\\n                          >\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\" *ngIf=\\\"relatedRecommendedMaintenancePlanCode\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".recommendedMaintenancePlan\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control span-padding\\\">\\r\\n                          <a\\r\\n                            (click)=\\\"openMaintenanceProgram(relatedRecommendedMaintenancePlanCode)\\\"\\r\\n                            style=\\\"cursor: pointer;\\\"\\r\\n                            >{{ relatedRecommendedMaintenancePlanCode }}</a\\r\\n                          >\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div *ngIf=\\\"relatedRecommendedMaintenancePlanCode\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".complianceStatus\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control span-padding\\\">\\r\\n                          <span\\r\\n                            *ngIf=\\\"complianceColor === COMPLIANCE_GREEN\\\"\\r\\n                            class=\\\"airworthiness-alert airworthiness-alert--ok\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.alertOk\\\" | translate }}\\r\\n                          </span>\\r\\n\\r\\n                          <span\\r\\n                            *ngIf=\\\"complianceColor === COMPLIANCE_RED\\\"\\r\\n                            class=\\\"airworthiness-alert airworthiness-alert--nok\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.alertNok\\\" | translate }}\\r\\n                          </span>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div\\r\\n                        *ngIf=\\\"!relatedApplicableMaintenancePlanCode && !relatedRecommendedMaintenancePlanCode\\\"\\r\\n                        class=\\\"form-group\\\"\\r\\n                      ></div>\\r\\n                      <div *ngIf=\\\"!relatedRecommendedMaintenancePlanCode\\\" class=\\\"form-group\\\"></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".description\\\" | translate }}\\r\\n                        </label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            pInputTextarea\\r\\n                            [(ngModel)]=\\\"currentMaintenancePlan.planDescription\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || disableMpEdit\\\"\\r\\n                            maxlength=\\\"300\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div id=\\\"vertical\\\" class=\\\"grid-cell--8 column-cell\\\">\\r\\n              <div class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".items\\\" | translate }}\\r\\n                        ({{ itemsDisplayedRowNb !== undefined ? itemsDisplayedRowNb + \\\" / \\\" : \\\"\\\"\\r\\n                        }}{{ items ? items.length : 0 }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableItems\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"itemsTableCols\\\"\\r\\n                      [value]=\\\"items\\\"\\r\\n                      [(selection)]=\\\"selectedItems\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                      (onFilter)=\\\"onItemsFilter($event)\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingItemTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingItemTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedItems.length > 0 }\\\">\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableItemsGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableItems.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              *ngIf=\\\"\\r\\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\\r\\n                                !disableMpEdit &&\\r\\n                                !isReadOpenMode &&\\r\\n                                selectedItems.length > 0\\r\\n                              \\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"deleteItem()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <!-- <button *ngIf=\\\"selectedItems.length === 1\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"openItem()\\\">\\r\\n                        {{'global.open' | translate}}\\r\\n                      </button> -->\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"\\r\\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\\r\\n                                !disableMpEdit &&\\r\\n                                !isReadOpenMode &&\\r\\n                                selectedItems.length === 0\\r\\n                              \\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"createItem()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.add\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          >\\r\\n                            <a *ngSwitchCase=\\\"'itemText'\\\" (click)=\\\"openItemCode(rowData[col.field])\\\">{{\\r\\n                              rowData[col.field]\\r\\n                            }}</a>\\r\\n\\r\\n                            <span *ngSwitchDefault>\\r\\n                              {{ rowData[col.field] }}\\r\\n                            </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".parts\\\" | translate }}\\r\\n                        ({{ partsDisplayedRowNb !== undefined ? partsDisplayedRowNb + \\\" / \\\" : \\\"\\\"\\r\\n                        }}{{ parts ? parts.length : 0 }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableParts\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"partsTableCols\\\"\\r\\n                      [value]=\\\"parts\\\"\\r\\n                      [(selection)]=\\\"selectedParts\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                      (onFilter)=\\\"onPartsFilter($event)\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingPartTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingPartTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedParts.length > 0 }\\\">\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptablePartsGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableParts.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              *ngIf=\\\"\\r\\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\\r\\n                                !disableMpEdit &&\\r\\n                                !isReadOpenMode &&\\r\\n                                selectedParts.length > 0\\r\\n                              \\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"deletePart()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <!-- <button *ngIf=\\\"selectedParts.length === 1\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"openPart()\\\">\\r\\n                        {{'global.open' | translate}}\\r\\n                      </button> -->\\r\\n\\r\\n                            <button\\r\\n                              *ngIf=\\\"\\r\\n                                planType === MAINTENANCE_PLAN.PLAN_TYPE_RMP &&\\r\\n                                !isReadOpenMode &&\\r\\n                                !disableMpEdit &&\\r\\n                                selectedParts.length === 0\\r\\n                              \\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"createPart()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.add\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          >\\r\\n                            <a *ngSwitchCase=\\\"'pnCode'\\\" (click)=\\\"openPartCode(rowData[col.field], rowData['pnType'])\\\">{{\\r\\n                              rowData[col.field]\\r\\n                            }}</a>\\r\\n\\r\\n                            <span *ngSwitchDefault>\\r\\n                              {{ rowData[col.field] }}\\r\\n                            </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".visitTaskTab\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <!-- Tasks -->\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div #taskAnchor class=\\\"grid-cell--12\\\" (click)=\\\"setSelectedAnchor('taskAnchor')\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isSelectedAnchor('taskAnchor') }\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".taskTab\\\" | translate }}\\r\\n                      ({{ tasksDisplayedRowNb !== undefined ? tasksDisplayedRowNb + \\\" / \\\" : \\\"\\\"\\r\\n                      }}{{ tasks ? tasks.length : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        [resizableColumns]=\\\"true\\\"\\r\\n                        #ptableTask\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [columns]=\\\"taskTableCols\\\"\\r\\n                        [value]=\\\"tasks\\\"\\r\\n                        [(selection)]=\\\"selectedTasks\\\"\\r\\n                        [scrollable]=\\\"true\\\"\\r\\n                        (onRowSelect)=\\\"checkTasks()\\\"\\r\\n                        dataKey=\\\"dataKey\\\"\\r\\n                        (onRowUnselect)=\\\"checkTasks()\\\"\\r\\n                        (onHeaderCheckboxToggle)=\\\"checkTasks()\\\"\\r\\n                        (onFilter)=\\\"onTasksFilter($event)\\\"\\r\\n                        [paginator]=\\\"true\\\"\\r\\n                        [rows]=\\\"NUMBER_OF_ROWS\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                          <span *ngIf=\\\"!isLoadingTaskTable\\\"> &nbsp;</span>\\r\\n\\r\\n                          <div *ngIf=\\\"isLoadingTaskTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                            <div class=\\\"lds-hourglass\\\"></div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"caption\\\">\\r\\n                          <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedTasks.length > 0 }\\\">\\r\\n                            <div class=\\\"aw-table-global-filter\\\">\\r\\n                              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </label>\\r\\n\\r\\n                              <input\\r\\n                                #ptableTaskGlobalFilter\\r\\n                                class=\\\"aw-table-global-filter-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                                (input)=\\\"ptableTask.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"aw-table-actions\\\">\\r\\n                              <button\\r\\n                                *ngIf=\\\"\\r\\n                                  !isReadOpenMode && !disableMpEdit && selectedTasks.length > 0 && enableTaskDelete\\r\\n                                \\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                color=\\\"warn\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"deleteTaskVisit('task')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.delete\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && !disableMpEdit && selectedTasks.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"generateTaskComment()\\\"\\r\\n                              >\\r\\n                                {{ componentData.componentId + \\\".generateComment\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && !disableMpEdit && selectedTasks.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"editTaskVisit('task')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.edit\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"selectedTasks.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"openTaskVisit('task')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.open\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"\\r\\n                                  !isReadOpenMode &&\\r\\n                                  (planType === MAINTENANCE_PLAN.PLAN_TYPE_AMP || !disableMpEdit) &&\\r\\n                                  selectedTasks.length === 0\\r\\n                                \\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"createTaskVisit('task')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.add\\\" | translate }}\\r\\n                              </button>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                          <colgroup>\\r\\n                            <col class=\\\"aw-table-checkbox-wrapper\\\" [ngStyle]=\\\"{ width: '2.5rem' }\\\" />\\r\\n                            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                            <col [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\" />\\r\\n                          </colgroup>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                          <tr>\\r\\n                            <th class=\\\"aw-table-checkbox-wrapper\\\" [ngStyle]=\\\"{ width: '2.5rem' }\\\">\\r\\n                              <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                            </th>\\r\\n\\r\\n                            <th\\r\\n                              pResizableColumn\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                            </th>\\r\\n                            <th [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\"></th>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td class=\\\"aw-table-checkbox-wrapper\\\" [ngStyle]=\\\"{ width: '2.5rem' }\\\">\\r\\n                              <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                            </td>\\r\\n\\r\\n                            <ng-container *ngFor=\\\"let col of columns\\\">\\r\\n                              <td\\r\\n                                *ngIf=\\\"col.field === 'taskCode'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                              >\\r\\n                                <a\\r\\n                                  (click)=\\\"\\r\\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\\r\\n                                  \\\"\\r\\n                                  >{{ rowData[col.field] }}</a\\r\\n                                >\\r\\n                              </td>\\r\\n\\r\\n                              <td\\r\\n                                *ngIf=\\\"col.field === 'version'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </td>\\r\\n\\r\\n                              <td\\r\\n                                *ngIf=\\\"col.field === 'designation'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </td>\\r\\n\\r\\n                              <td\\r\\n                                *ngIf=\\\"col.field === 'compliance'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                              >\\r\\n                                <span\\r\\n                                  *ngIf=\\\"rowData[col.field] === COMPLIANCE_GREEN\\\"\\r\\n                                  class=\\\"airworthiness-alert airworthiness-alert--ok\\\"\\r\\n                                >\\r\\n                                  {{ \\\"global.alertOk\\\" | translate }}\\r\\n                                </span>\\r\\n\\r\\n                                <span\\r\\n                                  *ngIf=\\\"rowData[col.field] === COMPLIANCE_RED\\\"\\r\\n                                  class=\\\"airworthiness-alert airworthiness-alert--nok\\\"\\r\\n                                  pTooltip=\\\"{{ rowData['complianceDetail'] || '' }}\\\"\\r\\n                                >\\r\\n                                  {{ \\\"global.alertNok\\\" | translate }}\\r\\n                                </span>\\r\\n                              </td>\\r\\n\\r\\n                              <td\\r\\n                                *ngIf=\\\"\\r\\n                                  col.field !== 'taskCode' &&\\r\\n                                  col.field !== 'version' &&\\r\\n                                  col.field !== 'designation' &&\\r\\n                                  col.field !== 'compliance'\\r\\n                                \\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </td>\\r\\n                            </ng-container>\\r\\n                            <td\\r\\n                              class=\\\"row-expand-wrapper\\\"\\r\\n                              [pRowToggler]=\\\"rowData\\\"\\r\\n                              [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\"\\r\\n                            >\\r\\n                              <i\\r\\n                                class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                                [ngClass]=\\\"rowData.expand ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                                tooltipPosition=\\\"top\\\"\\r\\n                                (click)=\\\"toggleRowDetailsVisibility(rowData)\\\"\\r\\n                              ></i>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                          <tr *ngIf=\\\"rowData.expand\\\" class=\\\"row-expanded\\\">\\r\\n                            <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                              <div class=\\\"column forced-backgroung\\\">\\r\\n                                <div class=\\\"row\\\">\\r\\n                                  <div class=\\\"form-group flex--1\\\">\\r\\n                                    <label class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"taskType\\\" | translate }}\\r\\n                                    </label>\\r\\n\\r\\n                                    <div class=\\\"form-control\\\">\\r\\n                                      <input\\r\\n                                        type=\\\"text\\\"\\r\\n                                        class=\\\"aw-input\\\"\\r\\n                                        maxlength=\\\"50\\\"\\r\\n                                        [(ngModel)]=\\\"rowData.taskType\\\"\\r\\n                                        [disabled]=\\\"true\\\"\\r\\n                                      />\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div class=\\\"form-group flex--1\\\">\\r\\n                                    <label class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"groupCode\\\" | translate }}\\r\\n                                    </label>\\r\\n\\r\\n                                    <div class=\\\"form-control\\\">\\r\\n                                      <input\\r\\n                                        type=\\\"text\\\"\\r\\n                                        class=\\\"aw-input\\\"\\r\\n                                        maxlength=\\\"50\\\"\\r\\n                                        [(ngModel)]=\\\"rowData.groupCode\\\"\\r\\n                                        [disabled]=\\\"true\\\"\\r\\n                                      />\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div class=\\\"form-group flex--1\\\">\\r\\n                                    <label class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"firstPeriodicity\\\" | translate }}\\r\\n                                    </label>\\r\\n\\r\\n                                    <div class=\\\"form-control\\\">\\r\\n                                      <input\\r\\n                                        type=\\\"text\\\"\\r\\n                                        class=\\\"aw-input\\\"\\r\\n                                        maxlength=\\\"50\\\"\\r\\n                                        [(ngModel)]=\\\"rowData.firstPeriodicity\\\"\\r\\n                                        [disabled]=\\\"true\\\"\\r\\n                                      />\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div class=\\\"form-group flex--1\\\">\\r\\n                                    <label class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"periodicityType\\\" | translate }}\\r\\n                                    </label>\\r\\n\\r\\n                                    <div class=\\\"form-control\\\">\\r\\n                                      <input\\r\\n                                        type=\\\"text\\\"\\r\\n                                        class=\\\"aw-input\\\"\\r\\n                                        maxlength=\\\"50\\\"\\r\\n                                        [(ngModel)]=\\\"rowData.periodicityType\\\"\\r\\n                                        [disabled]=\\\"true\\\"\\r\\n                                      />\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"row\\\">\\r\\n                                  <div class=\\\"form-group flex--1\\\">\\r\\n                                    <label class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"tolerance\\\" | translate }}\\r\\n                                    </label>\\r\\n\\r\\n                                    <div class=\\\"form-control\\\">\\r\\n                                      <input\\r\\n                                        type=\\\"text\\\"\\r\\n                                        class=\\\"aw-input\\\"\\r\\n                                        maxlength=\\\"50\\\"\\r\\n                                        [(ngModel)]=\\\"rowData.tolerance\\\"\\r\\n                                        [disabled]=\\\"true\\\"\\r\\n                                      />\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div class=\\\"form-group flex--1\\\">\\r\\n                                    <label *ngIf=\\\"isUnitFh\\\" class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"alertThreshold\\\" | translate }}\\r\\n                                      {{ \\\"(\\\" + rowData.unit + \\\")\\\" }}\\r\\n                                    </label>\\r\\n                                    <label *ngIf=\\\"!isUnitFh\\\" class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"alertThreshold\\\" | translate }} {{ \\\"(%)\\\" }}\\r\\n                                    </label>\\r\\n                                    <div class=\\\"form-control\\\">\\r\\n                                      <input\\r\\n                                        type=\\\"text\\\"\\r\\n                                        class=\\\"aw-input\\\"\\r\\n                                        maxlength=\\\"50\\\"\\r\\n                                        [(ngModel)]=\\\"rowData.alertThreshold\\\"\\r\\n                                        [disabled]=\\\"true\\\"\\r\\n                                      />\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div class=\\\"form-group flex--1\\\">\\r\\n                                    <label class=\\\"form-label\\\">\\r\\n                                      {{ getComponentName() + \\\".\\\" + \\\"comments\\\" | translate }}\\r\\n                                    </label>\\r\\n\\r\\n                                    <div class=\\\"form-control\\\">\\r\\n                                      <input\\r\\n                                        type=\\\"text\\\"\\r\\n                                        class=\\\"aw-input\\\"\\r\\n                                        maxlength=\\\"50\\\"\\r\\n                                        [(ngModel)]=\\\"rowData.comments\\\"\\r\\n                                        [disabled]=\\\"true\\\"\\r\\n                                      />\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n\\r\\n                                  <div class=\\\"form-group flex--1\\\"></div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n\\r\\n                              <!-- <div class=\\\"row\\\">\\r\\n\\r\\n\\r\\n                                <p-table [resizableColumns]=\\\"true\\\" #ptable class=\\\"aw-table2\\\" [columns]=\\\"remainingTaskTableCols\\\" [value]=\\\"rowData.childRow\\\">\\r\\n                                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                                    <colgroup>\\r\\n                                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                                    </colgroup>\\r\\n                                  </ng-template>\\r\\n\\r\\n                                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                                    <tr>\\r\\n                                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\">\\r\\n                                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                                      </th>\\r\\n                                    </tr>\\r\\n                                    <tr>\\r\\n                                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, 'font-weight': 'bold', width: col.width }\\\">\\r\\n                                        {{ rowData[col.field] }}\\r\\n                                      </th>\\r\\n                                    </tr>\\r\\n                                  </ng-template>\\r\\n                                </p-table>\\r\\n\\r\\n                                <p-table [resizableColumns]=\\\"true\\\" #ptable class=\\\"aw-table2\\\" [columns]=\\\"remainingTaskTableCols1\\\" [value]=\\\"rowData.childRow\\\">\\r\\n                                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                                    <colgroup>\\r\\n                                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                                    </colgroup>\\r\\n                                  </ng-template>\\r\\n\\r\\n                                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                                    <tr>\\r\\n                                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, 'width': col.width }\\\">\\r\\n                                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                                      </th>\\r\\n                                      <th></th>\\r\\n                                    </tr>\\r\\n                                    <tr>\\r\\n                                      <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, 'font-weight': 'bold', 'width': col.width }\\\">\\r\\n                                        {{ rowData[col.field] }}\\r\\n                                      </th>\\r\\n                                      <th></th>\\r\\n                                    </tr>\\r\\n                                  </ng-template>\\r\\n                                </p-table>\\r\\n\\r\\n\\r\\n                              </div> -->\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div *ngIf=\\\"removedTasks.length > 0\\\" class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".removedTaskHeading\\\" | translate }}\\r\\n                      ({{ removedTasksDisplayedRowNb !== undefined ? removedTasksDisplayedRowNb + \\\" / \\\" : \\\"\\\"\\r\\n                      }}{{ removedTasks ? removedTasks.length : 0 }})\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        [resizableColumns]=\\\"true\\\"\\r\\n                        #ptableRemovedTask\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [columns]=\\\"removedTaskTableCols\\\"\\r\\n                        [value]=\\\"removedTasks\\\"\\r\\n                        [(selection)]=\\\"selectedRemovedTasks\\\"\\r\\n                        [scrollable]=\\\"true\\\"\\r\\n                        (onFilter)=\\\"onRemovedTasksFilter($event)\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                          <span *ngIf=\\\"!isLoadingRemovedTaskTabble\\\"> &nbsp;</span>\\r\\n\\r\\n                          <div *ngIf=\\\"isLoadingRemovedTaskTabble\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                            <div class=\\\"lds-hourglass\\\"></div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"caption\\\">\\r\\n                          <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedRemovedTasks.length > 0 }\\\">\\r\\n                            <div class=\\\"aw-table-global-filter\\\">\\r\\n                              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </label>\\r\\n\\r\\n                              <input\\r\\n                                #ptableRemovedTaskGlobalFilter\\r\\n                                class=\\\"aw-table-global-filter-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                                (input)=\\\"ptableRemovedTask.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"aw-table-actions\\\">\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedRemovedTasks.length > 0\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"addMissingTasks()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.add\\\" | translate }}\\r\\n                              </button>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                          <colgroup>\\r\\n                            <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                          </colgroup>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                          <tr>\\r\\n                            <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                            </th>\\r\\n\\r\\n                            <th\\r\\n                              pResizableColumn\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                            </th>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                            </td>\\r\\n\\r\\n                            <ng-container *ngFor=\\\"let col of columns\\\">\\r\\n                              <td\\r\\n                                *ngIf=\\\"col.field === 'taskCode'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                <a\\r\\n                                  (click)=\\\"\\r\\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\\r\\n                                  \\\"\\r\\n                                  >{{ rowData[col.field] }}</a\\r\\n                                >\\r\\n                              </td>\\r\\n\\r\\n                              <td\\r\\n                                *ngIf=\\\"col.field === 'version'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </td>\\r\\n\\r\\n                              <td\\r\\n                                *ngIf=\\\"col.field === 'designation'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </td>\\r\\n\\r\\n                              <td\\r\\n                                *ngIf=\\\"\\r\\n                                  col.field !== 'taskCode' && col.field !== 'version' && col.field !== 'designation'\\r\\n                                \\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </td>\\r\\n                            </ng-container>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!-- Visit -->\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\" #visitAnchor class=\\\"grid-cell--12\\\" (click)=\\\"setSelectedAnchor('visitAnchor')\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isSelectedAnchor('visitAnchor') }\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".visitTab\\\" | translate }}\\r\\n                      ({{ visitsDisplayedRowNb !== undefined ? visitsDisplayedRowNb + \\\" / \\\" : \\\"\\\"\\r\\n                      }}{{ visits ? visits.length : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        [resizableColumns]=\\\"true\\\"\\r\\n                        #ptableVisit\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [columns]=\\\"visitTableCols\\\"\\r\\n                        [value]=\\\"visits\\\"\\r\\n                        [(selection)]=\\\"selectedVisits\\\"\\r\\n                        dataKey=\\\"visitbloc\\\"\\r\\n                        [scrollable]=\\\"true\\\"\\r\\n                        (onRowSelect)=\\\"checkVisits()\\\"\\r\\n                        (onRowUnselect)=\\\"checkVisits()\\\"\\r\\n                        (onHeaderCheckboxToggle)=\\\"checkVisits()\\\"\\r\\n                        (onFilter)=\\\"onVisitsFilter($event)\\\"\\r\\n                        [paginator]=\\\"true\\\"\\r\\n                        [rows]=\\\"NUMBER_OF_ROWS\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                          <span *ngIf=\\\"!isLoadingVisitTable\\\"> &nbsp;</span>\\r\\n                          <div *ngIf=\\\"isLoadingVisitTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                            <div class=\\\"lds-hourglass\\\"></div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"caption\\\">\\r\\n                          <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedVisits.length > 0 }\\\">\\r\\n                            <div class=\\\"aw-table-global-filter\\\">\\r\\n                              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </label>\\r\\n\\r\\n                              <input\\r\\n                                #ptableVisitGlobalFilter\\r\\n                                class=\\\"aw-table-global-filter-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                                (input)=\\\"ptableVisit.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"aw-table-actions\\\">\\r\\n                              <button\\r\\n                                *ngIf=\\\"\\r\\n                                  !isReadOpenMode && !disableMpEdit && selectedVisits.length > 0 && enableVisitDelete\\r\\n                                \\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                color=\\\"warn\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"deleteTaskVisit('visit')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.delete\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && !disableMpEdit && selectedVisits.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"editTaskVisit('visit')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.edit\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"selectedVisits.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"openTaskVisit('visit')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.open\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && !disableMpEdit && selectedVisits.length === 0\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"createTaskVisit('visit')\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.add\\\" | translate }}\\r\\n                              </button>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                          <colgroup>\\r\\n                            <col class=\\\"aw-table-checkbox-wrapper\\\" [ngStyle]=\\\"{ width: '2.5rem' }\\\" />\\r\\n                            <col\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                            />\\r\\n                            <col [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\" />\\r\\n                          </colgroup>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                          <tr>\\r\\n                            <th class=\\\"aw-table-checkbox-wrapper\\\" [ngStyle]=\\\"{ width: '2.5rem' }\\\">\\r\\n                              <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                            </th>\\r\\n\\r\\n                            <th\\r\\n                              pResizableColumn\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                            </th>\\r\\n                            <th [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\"></th>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td class=\\\"aw-table-checkbox-wrapper\\\" [ngStyle]=\\\"{ width: '2.5rem' }\\\">\\r\\n                              <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                            </td>\\r\\n\\r\\n                            <td\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                            >\\r\\n                              <span *ngIf=\\\"col.field === 'visitCode'\\\" [attr.rowspan]=\\\"rowData['rowSpan']\\\">\\r\\n                                <i\\r\\n                                  [pRowToggler]=\\\"rowData\\\"\\r\\n                                  [ngClass]=\\\"rowData.expand ? 'fa fa-fw fa-chevron-down' : 'fa fa-fw fa-chevron-right'\\\"\\r\\n                                  (click)=\\\"toggleRowDetailsVisibility(rowData)\\\"\\r\\n                                ></i>\\r\\n                                <a\\r\\n                                  (click)=\\\"\\r\\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\\r\\n                                  \\\"\\r\\n                                  >{{ rowData[col.field] }}</a\\r\\n                                >\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngIf=\\\"col.field === 'visitVersion'\\\" [attr.rowspan]=\\\"rowData['rowSpan']\\\">\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngIf=\\\"col.field === 'visitDesignation'\\\" [attr.rowspan]=\\\"rowData['rowSpan']\\\">\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngIf=\\\"col.field === 'compliance'\\\" [attr.rowspan]=\\\"rowData['rowSpan']\\\">\\r\\n                                <span\\r\\n                                  *ngIf=\\\"rowData[col.field] === COMPLIANCE_GREEN\\\"\\r\\n                                  class=\\\"airworthiness-alert airworthiness-alert--ok\\\"\\r\\n                                >\\r\\n                                  {{ \\\"global.alertOk\\\" | translate }}\\r\\n                                </span>\\r\\n\\r\\n                                <span\\r\\n                                  *ngIf=\\\"rowData[col.field] === COMPLIANCE_RED\\\"\\r\\n                                  class=\\\"airworthiness-alert airworthiness-alert--nok\\\"\\r\\n                                  pTooltip=\\\"{{ rowData['complianceDetail'] || '' }}\\\"\\r\\n                                >\\r\\n                                  {{ \\\"global.alertNok\\\" | translate }}\\r\\n                                </span>\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  col.field !== 'visitCode' &&\\r\\n                                  col.field !== 'visitVersion' &&\\r\\n                                  col.field !== 'visitDesignation' &&\\r\\n                                  col.field !== 'compliance'\\r\\n                                \\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </span>\\r\\n                            </td>\\r\\n                            <td class=\\\"row-expand-wrapper\\\" [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\">\\r\\n                              <i\\r\\n                                [pRowToggler]=\\\"rowData\\\"\\r\\n                                class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                                [ngClass]=\\\"rowData.showMore ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                                tooltipPosition=\\\"top\\\"\\r\\n                                (click)=\\\"toggleShowMoreRowDetailsVisibility(rowData)\\\"\\r\\n                              ></i>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                          <ng-container *ngIf=\\\"rowData['showMore']\\\">\\r\\n                            <tr class=\\\"row-expanded\\\">\\r\\n                              <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                                <div class=\\\"row\\\">\\r\\n                                  <p-table\\r\\n                                    [resizableColumns]=\\\"true\\\"\\r\\n                                    #ptable\\r\\n                                    class=\\\"aw-table2\\\"\\r\\n                                    [columns]=\\\"remainingVisitTableCols\\\"\\r\\n                                    [value]=\\\"rowData.childRow\\\"\\r\\n                                  >\\r\\n                                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                                      <colgroup>\\r\\n                                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                                      </colgroup>\\r\\n                                    </ng-template>\\r\\n\\r\\n                                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                                      <tr>\\r\\n                                        <th\\r\\n                                          pResizableColumn\\r\\n                                          *ngFor=\\\"let col of columns\\\"\\r\\n                                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                                        >\\r\\n                                          {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                                        </th>\\r\\n                                      </tr>\\r\\n                                      <tr>\\r\\n                                        <th\\r\\n                                          pResizableColumn\\r\\n                                          *ngFor=\\\"let col of columns\\\"\\r\\n                                          [ngStyle]=\\\"{ 'text-align': col.alignment, 'font-weight': 'bold' }\\\"\\r\\n                                        >\\r\\n                                          {{ rowData[col.field] }}\\r\\n                                        </th>\\r\\n                                      </tr>\\r\\n                                    </ng-template>\\r\\n                                  </p-table>\\r\\n                                  <p-table\\r\\n                                    [resizableColumns]=\\\"true\\\"\\r\\n                                    #ptable\\r\\n                                    class=\\\"aw-table2\\\"\\r\\n                                    [columns]=\\\"remainingVisitTableCols1\\\"\\r\\n                                    [value]=\\\"rowData.childRow\\\"\\r\\n                                  >\\r\\n                                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                                      <colgroup>\\r\\n                                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                                      </colgroup>\\r\\n                                    </ng-template>\\r\\n\\r\\n                                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                                      <tr>\\r\\n                                        <th\\r\\n                                          pResizableColumn\\r\\n                                          *ngFor=\\\"let col of columns\\\"\\r\\n                                          [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                                        >\\r\\n                                          {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                                          <label *ngIf=\\\"col.field == alertThreshold && isUnitFh\\\">{{\\r\\n                                            \\\"(\\\" + rowData.unit + \\\")\\\"\\r\\n                                          }}</label>\\r\\n                                          <label *ngIf=\\\"col.field == alertThreshold && !isUnitFh\\\">{{ \\\"(%)\\\" }}</label>\\r\\n                                        </th>\\r\\n                                        <th></th>\\r\\n                                      </tr>\\r\\n                                      <tr>\\r\\n                                        <th\\r\\n                                          pResizableColumn\\r\\n                                          *ngFor=\\\"let col of columns\\\"\\r\\n                                          [ngStyle]=\\\"{\\r\\n                                            'text-align': col.alignment,\\r\\n                                            'font-weight': 'bold',\\r\\n                                            width: col.width\\r\\n                                          }\\\"\\r\\n                                        >\\r\\n                                          {{ rowData[col.field] }}\\r\\n                                        </th>\\r\\n                                        <th></th>\\r\\n                                      </tr>\\r\\n                                    </ng-template>\\r\\n                                  </p-table>\\r\\n                                </div>\\r\\n                              </td>\\r\\n                            </tr>\\r\\n                          </ng-container>\\r\\n                          <ng-container *ngIf=\\\"rowData['expand']\\\">\\r\\n                            <ng-container *ngFor=\\\"let task of rowData.visitTasks\\\">\\r\\n                              <tr *ngIf=\\\"task.taskCode && task.taskCode !== rowData.visitCode\\\">\\r\\n                                <td></td>\\r\\n                                <td>{{ task.taskCode }}</td>\\r\\n                                <td>{{ task.version }}</td>\\r\\n                                <td>{{ task.designation }}</td>\\r\\n                                <td [attr.colspan]=\\\"columns.length - 3\\\">{{ task.taskType }}</td>\\r\\n                              </tr>\\r\\n                            </ng-container>\\r\\n                          </ng-container>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div *ngIf=\\\"removedVisits.length > 0\\\" class=\\\"section\\\">\\r\\n                    <h4 class=\\\"section-title\\\">\\r\\n                      {{ componentData.componentId + \\\".removedVisitHeading\\\" | translate }}\\r\\n                      ({{ removedVisitsDisplayedRowNb !== undefined ? removedVisitsDisplayedRowNb + \\\" / \\\" : \\\"\\\"\\r\\n                      }}{{ removedVisits ? removedVisits.length : 0 }})\\r\\n                    </h4>\\r\\n\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        [resizableColumns]=\\\"true\\\"\\r\\n                        #ptableRemovedVisit\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [columns]=\\\"removedVisitTableCols\\\"\\r\\n                        [value]=\\\"removedVisits\\\"\\r\\n                        [(selection)]=\\\"selectedRemovedVisits\\\"\\r\\n                        dataKey=\\\"visitbloc\\\"\\r\\n                        [scrollable]=\\\"true\\\"\\r\\n                        (onFilter)=\\\"onRemovedVisitsFilter($event)\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                          <span *ngIf=\\\"!isLoadingRemovedVisitTable\\\"> &nbsp;</span>\\r\\n\\r\\n                          <div *ngIf=\\\"isLoadingRemovedVisitTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                            <div class=\\\"lds-hourglass\\\"></div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"caption\\\">\\r\\n                          <div\\r\\n                            class=\\\"aw-table-header\\\"\\r\\n                            [ngClass]=\\\"{ 'rows-selected': selectedRemovedVisits.length > 0 }\\\"\\r\\n                          >\\r\\n                            <div class=\\\"aw-table-global-filter\\\">\\r\\n                              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </label>\\r\\n\\r\\n                              <input\\r\\n                                #ptableRemovedVisitGlobalFilter\\r\\n                                class=\\\"aw-table-global-filter-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                                (input)=\\\"ptableRemovedVisit.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"aw-table-actions\\\">\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedRemovedVisits.length > 0\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"addMissingVisits()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.add\\\" | translate }}\\r\\n                              </button>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                          <colgroup>\\r\\n                            <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                          </colgroup>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                          <tr>\\r\\n                            <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                            </th>\\r\\n\\r\\n                            <th\\r\\n                              pResizableColumn\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                            </th>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template\\r\\n                          pTemplate=\\\"body\\\"\\r\\n                          let-rowData\\r\\n                          let-expanded=\\\"expanded\\\"\\r\\n                          let-columns=\\\"columns\\\"\\r\\n                          let-rowIndex=\\\"rowIndex\\\"\\r\\n                        >\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                            </td>\\r\\n\\r\\n                            <td *ngFor=\\\"let col of columns\\\">\\r\\n                              <span\\r\\n                                *ngIf=\\\"col.field === 'visitCode'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                <i\\r\\n                                  [pRowToggler]=\\\"rowData\\\"\\r\\n                                  [ngClass]=\\\"expanded ? 'fa fa-fw fa-chevron-down' : 'fa fa-fw fa-chevron-right'\\\"\\r\\n                                ></i>\\r\\n                                <a\\r\\n                                  (click)=\\\"\\r\\n                                    openVisitOrTaskCode(rowData['planTaskCounterTableDTO'], rowData['taskTypeCode'])\\r\\n                                  \\\"\\r\\n                                  >{{ rowData[col.field] }}</a\\r\\n                                >\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"col.field === 'visitVersion'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"col.field === 'visitDesignation'\\\"\\r\\n                                [attr.rowspan]=\\\"rowData['rowSpan']\\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  col.field !== 'visitCode' &&\\r\\n                                  col.field !== 'visitVersion' &&\\r\\n                                  col.field !== 'visitDesignation' &&\\r\\n                                  col.field !== 'compliance'\\r\\n                                \\\"\\r\\n                                [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              >\\r\\n                                {{ rowData[col.field] }}\\r\\n                              </span>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-rowIndex=\\\"rowIndex\\\" let-columns=\\\"columns\\\">\\r\\n                          <ng-container *ngFor=\\\"let task of rowData.visitTasks\\\">\\r\\n                            <tr *ngIf=\\\"task.taskCode && task.taskCode !== rowData.visitCode\\\">\\r\\n                              <td></td>\\r\\n                              <td>{{ task.taskCode }}</td>\\r\\n                              <td>{{ task.version }}</td>\\r\\n                              <td>{{ task.designation }}</td>\\r\\n                              <td [attr.colspan]=\\\"columns.length - 3\\\">{{ task.taskType }}</td>\\r\\n                            </tr>\\r\\n                          </ng-container>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            <ng-container *ngIf=\\\"dynamicAttributesForMaintenancePlan && dynamicAttributesForMaintenancePlan.length > 0\\\">\\r\\n              {{ \\\"attributes\\\" | translate }} &amp;\\r\\n            </ng-container>\\r\\n            {{ \\\"documents\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <!-- Document Import -->\\r\\n          <div class=\\\"grid-row\\\" *ngIf=\\\"dynamicAttributesForMaintenancePlan.length > 0\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <aw-dynamic-attributes\\r\\n                    [attributes]=\\\"dynamicAttributesForMaintenancePlan\\\"\\r\\n                    [isReadOpenMode]=\\\"isReadOpenMode\\\"\\r\\n                  ></aw-dynamic-attributes>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div\\r\\n                #documentsAnchor\\r\\n                class=\\\"grid-cell grid-cell--container\\\"\\r\\n                [ngClass]=\\\"{ active: isSelectedAnchor('documentsAnchor') }\\\"\\r\\n              >\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".documents\\\" | translate }} ({{\\r\\n                        documentsTableDataSource.hasData ? documentsTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"documentsTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"documentsTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteDocuments()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"documentsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editDocument()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"documentsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openDocument()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!documentsTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"addDocument()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"showSaveDocumentPlanBtn()\\\"\\r\\n                        color=\\\"primary\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"saveDocPlans()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.save\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template columnDef=\\\"docName\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"downloadFile(rowData)\\\">{{ rowData.docName }}</a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- <aw-item-popup-form *ngIf=\\\"showItemPopup\\\" [(display)]=\\\"showItemPopup\\\" [isReadOnlyForm]=\\\"isReadOnlyItemDialog\\\"\\r\\n  [component-data]=\\\"dataItem\\\" (onAssociated)=\\\"saveItem($event)\\\"></aw-item-popup-form> -->\\r\\n\\r\\n  <!-- <aw-part-popup-form *ngIf=\\\"showPartPopup\\\" [(display)]=\\\"showPartPopup\\\" [isReadOnlyForm]=\\\"isReadOnlyPartDialog\\\"\\r\\n  [component-data]=\\\"dataPart\\\" (onAssociated)=\\\"savePart($event)\\\"></aw-part-popup-form> -->\\r\\n\\r\\n  <aw-task-visit-popup-form\\r\\n    *ngIf=\\\"showVisitTaskPopup\\\"\\r\\n    [(display)]=\\\"showVisitTaskPopup\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyVisitTaskDialog\\\"\\r\\n    [component-data]=\\\"dataVisitTask\\\"\\r\\n    (onAssociated)=\\\"saveTaskVisit($event)\\\"\\r\\n    [popUpType]=\\\"popUpType\\\"\\r\\n    [isCreateMode]=\\\"isCreateMode\\\"\\r\\n  ></aw-task-visit-popup-form>\\r\\n\\r\\n  <aw-assign-assets-popup-form\\r\\n    *ngIf=\\\"showAssetPopup\\\"\\r\\n    [(display)]=\\\"showAssetPopup\\\"\\r\\n    [isReadOnlyForm]=\\\"isReadOnlyAssetDialog\\\"\\r\\n    [component-data]=\\\"dataAsset\\\"\\r\\n    (onAssociated)=\\\"refreshAfterAssetAssignment($event)\\\"\\r\\n  ></aw-assign-assets-popup-form>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n    [isStatusEditable]=\\\"false\\\"\\r\\n    [item]=\\\"currentMaintenancePlan\\\"\\r\\n    [itemId]=\\\"statusPopupTitle\\\"\\r\\n    [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n    [isObjectTypeOfBireMaintenancePlanDTO]=\\\"true\\\"\\r\\n  ></aw-dialog-status>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-search-item\\r\\n  *ngIf=\\\"showItemPopup\\\"\\r\\n  [(display)]=\\\"showItemPopup\\\"\\r\\n  (onValidated)=\\\"saveItem($event)\\\"\\r\\n></aw-dialog-search-item>\\r\\n\\r\\n<aw-dialog-search-part\\r\\n  *ngIf=\\\"showPartPopup\\\"\\r\\n  [(display)]=\\\"showPartPopup\\\"\\r\\n  (onValidated)=\\\"savePart($event)\\\"\\r\\n></aw-dialog-search-part>\\r\\n\\r\\n<aw-dialog-generate-comment\\r\\n  *ngIf=\\\"showGenerateCommentPopup\\\"\\r\\n  [(display)]=\\\"showGenerateCommentPopup\\\"\\r\\n  [componentData]=\\\"comment\\\"\\r\\n  (onValidate)=\\\"saveComments($event)\\\"\\r\\n></aw-dialog-generate-comment>\\r\\n\\r\\n<aw-dialog-bire-document\\r\\n  *ngIf=\\\"showAddDocumentDialog\\\"\\r\\n  [document]=\\\"\\r\\n    documentsTableDataSource.dataSelectionCount === 1 ? documentsTableDataSource.dataSelection[0]._obj : undefined\\r\\n  \\\"\\r\\n  [(display)]=\\\"showAddDocumentDialog\\\"\\r\\n  [isReadOnlyForm]=\\\"isReadOnlyDocumentDialog\\\"\\r\\n  (onValidated)=\\\"onAddDocument($event)\\\"\\r\\n></aw-dialog-bire-document>\\r\\n<aw-upgrade-popup-form\\r\\n  *ngIf=\\\"showUpgradePopup\\\"\\r\\n  [(display)]=\\\"showUpgradePopup\\\"\\r\\n  (changedVersion)=\\\"manualUpgradeMaintenancePlan($event)\\\"\\r\\n></aw-upgrade-popup-form>\\r\\n\"","module.exports = \":host .compliance-icon {\\n  font-size: 2.125rem; }\\n\\n:host .compliance-table-icon {\\n  font-size: 1.125rem; }\\n\\n:host .red {\\n  color: #f6685e; }\\n\\n:host .green {\\n  color: #4caf50; }\\n\\n:host .yellow {\\n  color: #ffc107; }\\n\\n:host .forced-backgroung {\\n  background-color: #f0f0f0; }\\n\\n.airworthiness-alert,\\n.maintenance-alert {\\n  font-weight: 600;\\n  text-align: center;\\n  width: 4rem;\\n  display: inline-block; }\\n\\n.airworthiness-alert.airworthiness-alert--nok,\\n.maintenance-alert.maintenance-alert--nok {\\n  background-color: #f6685e; }\\n\\n.airworthiness-alert.airworthiness-alert--ok,\\n.maintenance-alert.maintenance-alert--ok {\\n  background-color: #4caf50; }\\n\\n.airworthiness-alert.airworthiness-alert--warning,\\n.maintenance-alert.maintenance-alert--warning {\\n  background-color: #ffc107; }\\n\\n.red {\\n  color: #f6685e; }\\n\\n.green {\\n  color: #4caf50; }\\n\\n.yellow {\\n  color: #ffc107; }\\n\\n.span-padding {\\n  padding: 8px 0; }\\n\\n.grid-cell--8.column-cell {\\n  padding-top: 0px !important;\\n  padding-bottom: 0px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcbWFpbnRlbmFuY2UtcHJvZ3JhbS1mb3JtXFxtYWludGVuYW5jZS1wcm9ncmFtLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9tYWludGVuYW5jZS1wcm9ncmFtLWZvcm0vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUVJLG1CQUFtQixFQUFBOztBQUZ2QjtFQU1JLG1CQUFtQixFQUFBOztBQU52QjtFQVVJLGNDWWdCLEVBQUE7O0FEdEJwQjtFQWNJLGNDS2tCLEVBQUE7O0FEbkJ0QjtFQWtCSSxjQ0VZLEVBQUE7O0FEcEJoQjtFQXNCSSx5QkFBeUIsRUFBQTs7QUFJN0I7O0VBRUUsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gscUJBQXFCLEVBQUE7O0FBR3ZCOztFQUVFLHlCQ2RrQixFQUFBOztBRGlCcEI7O0VBRUUseUJDdEJvQixFQUFBOztBRHlCdEI7O0VBRUUseUJDMUJjLEVBQUE7O0FENkJoQjtFQUNFLGNDNUJrQixFQUFBOztBRCtCcEI7RUFDRSxjQ25Db0IsRUFBQTs7QURzQ3RCO0VBQ0UsY0N0Q2MsRUFBQTs7QUR5Q2hCO0VBQ0UsY0FBYyxFQUFBOztBQUdoQjtFQUNFLDJCQUEyQjtFQUMzQiw4QkFBOEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9tYWludGVuYW5jZS1wcm9ncmFtLWZvcm0vbWFpbnRlbmFuY2UtcHJvZ3JhbS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5jb21wbGlhbmNlLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAyLjEyNXJlbTtcclxuICB9XHJcblxyXG4gIC5jb21wbGlhbmNlLXRhYmxlLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAxLjEyNXJlbTtcclxuICB9XHJcblxyXG4gIC5yZWQge1xyXG4gICAgY29sb3I6ICRyZWQtbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLmdyZWVuIHtcclxuICAgIGNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLnllbGxvdyB7XHJcbiAgICBjb2xvcjogJG9yYW5nZTtcclxuICB9XHJcblxyXG4gIC5mb3JjZWQtYmFja2dyb3VuZyB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4gIH1cclxufVxyXG5cclxuLmFpcndvcnRoaW5lc3MtYWxlcnQsXHJcbi5tYWludGVuYW5jZS1hbGVydCB7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgd2lkdGg6IDRyZW07XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcblxyXG4uYWlyd29ydGhpbmVzcy1hbGVydC5haXJ3b3J0aGluZXNzLWFsZXJ0LS1ub2ssXHJcbi5tYWludGVuYW5jZS1hbGVydC5tYWludGVuYW5jZS1hbGVydC0tbm9rIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MTtcclxufVxyXG5cclxuLmFpcndvcnRoaW5lc3MtYWxlcnQuYWlyd29ydGhpbmVzcy1hbGVydC0tb2ssXHJcbi5tYWludGVuYW5jZS1hbGVydC5tYWludGVuYW5jZS1hbGVydC0tb2sge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbn1cclxuXHJcbi5haXJ3b3J0aGluZXNzLWFsZXJ0LmFpcndvcnRoaW5lc3MtYWxlcnQtLXdhcm5pbmcsXHJcbi5tYWludGVuYW5jZS1hbGVydC5tYWludGVuYW5jZS1hbGVydC0td2FybmluZyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZTtcclxufVxyXG5cclxuLnJlZCB7XHJcbiAgY29sb3I6ICRyZWQtbGlnaHQxO1xyXG59XHJcblxyXG4uZ3JlZW4ge1xyXG4gIGNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG59XHJcblxyXG4ueWVsbG93IHtcclxuICBjb2xvcjogJG9yYW5nZTtcclxufVxyXG5cclxuLnNwYW4tcGFkZGluZyB7XHJcbiAgcGFkZGluZzogOHB4IDA7XHJcbn1cclxuXHJcbi5ncmlkLWNlbGwtLTguY29sdW1uLWNlbGwge1xyXG4gIHBhZGRpbmctdG9wOiAwcHggIWltcG9ydGFudDtcclxuICBwYWRkaW5nLWJvdHRvbTogMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { TableDataSourceWithHistory } from '../../../modules/purchase-contract/utils/table-data-source-with-history';\r\nimport { PageTocService } from '../../../shared/components/component-sidebar/page-toc.service';\r\nimport { DynamicAttributesService } from '../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { DynamicAttributes } from '../../../shared/components/dynamic-attributes/types/dynamic-attributes.interface';\r\nimport { AppConstants } from '../../../shared/constants/app-constants';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { BireAttributeConstants } from '../../../shared/constants/bire-attribute-constants';\r\nimport { BireMaintenancePlanConstants } from '../../../shared/constants/bire-maintenance-plan-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { FormatSelectOptionPipe } from '../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { AssetAssignmentMPSaveInput } from '../../../shared/types/api-input-types/airworthiness-management/asset-assignment-mp-save-input.interface';\r\nimport { CreateUpdateBireDocPlanInput } from '../../../shared/types/api-input-types/fleet-management/create-update-bire-doc-plan-input.interface';\r\nimport { RemoveBireDocPlanInput } from '../../../shared/types/api-input-types/fleet-management/remove-bire-doc-plan-input.interface';\r\nimport { CheckAMPComplianceRMPInput } from '../../../shared/types/api-input-types/task-management/check-amp-compliance-rmp-input.interface';\r\nimport { SaveMaintenanceProgramScreenInput } from '../../../shared/types/api-input-types/task-management/save-maintenance-program-screen-input.interface';\r\nimport { UpgradeBireMaintenancePlanInput } from '../../../shared/types/api-input-types/task-management/upgrade-bire-maintenance-plan-input.interface';\r\nimport { BireDocPlanDTOId } from '../../../shared/types/api-output-types/fleet-management/bire-doc-plan-dto-id.interface';\r\nimport { BireDocPlanDTO } from '../../../shared/types/api-output-types/fleet-management/bire-doc-plan-dto.interface';\r\nimport { AssetAssignmentMPTableDTO } from '../../../shared/types/api-output-types/task-management/asset-assignment-mp-table-dto.interface';\r\nimport { ItemsAssociatedTableDTO } from '../../../shared/types/api-output-types/task-management/items-associated-table-dto.interface';\r\nimport { PartAssociateTableDTO } from '../../../shared/types/api-output-types/task-management/part-associate-table-dto.interface';\r\nimport { PartsAssociatedTableDTO } from '../../../shared/types/api-output-types/task-management/parts-associated-table-dto.interface';\r\nimport { PlanTaskCounterTableDTO } from '../../../shared/types/api-output-types/task-management/plan-task-counter-table-dto.interface';\r\nimport { UpgradedMaintenacePlanDTO } from '../../../shared/types/api-output-types/task-management/upgraded-maintenance-plan-dto.interface';\r\nimport { BidoMaintenancePlanDTO } from '../../../shared/types/api-types/bido-maintenance-plan-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireItemDTO } from '../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireMaintenancePlanDTOId } from '../../../shared/types/api-types/bire-maintenance-plan-dto-id.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { BirePlanAttributeDTO } from '../../../shared/types/api-types/bire-plan-attribute-dto.interface';\r\nimport { BirePlanItemDTO } from '../../../shared/types/api-types/bire-plan-item-dto.interface';\r\nimport { BirePnDTO } from '../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { MaintenancePlanDTO } from '../../../shared/types/api-types/maintenance-plan-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { FileUtils } from '../../../shared/utils/file-utils';\r\nimport { ObjectUtils } from '../../../shared/utils/object-utils';\r\nimport { SettingsUtils } from '../../../shared/utils/settings-utils';\r\nimport { WorkflowUtils } from '../../../shared/utils/workflow-utils';\r\nimport { ObjectStatusComponent } from '../../object-status/object-status.component';\r\nimport { OverlayService } from '../../overlay/overlay.service';\r\n\r\nimport { MaintenanceProgramFormMhiaelService } from './maintenance-program-form-mhiael.service';\r\nimport { MaintenanceProgramFormService } from './maintenance-program-form.service';\r\n\r\ninterface RemainingTaskTableRow {\r\n  taskType: string | undefined;\r\n  taskTypeCode: string | undefined;\r\n  groupCode: string | undefined;\r\n  firstPeriodicity: number | undefined;\r\n  periodicityType: string | undefined;\r\n  comments: string | undefined;\r\n}\r\n\r\ninterface TaskVisitTableRow {\r\n  taskCode: string;\r\n  visitCode: string;\r\n  planCode: string | undefined;\r\n  version: string;\r\n  visitVersion: string;\r\n  designation: string | undefined;\r\n  taskGroup: string | undefined;\r\n  taskType: string | undefined;\r\n  taskTypeCode: string | undefined;\r\n  groupCode: string | undefined;\r\n  reference: string;\r\n  firstPeriodicity: number | undefined;\r\n  periodicity: number | undefined;\r\n  unit: string | undefined;\r\n  periodicityType: string | undefined;\r\n  tolerance: number | undefined;\r\n  alertThreshold: number | undefined;\r\n  comments: string | undefined;\r\n  compliance: string | undefined;\r\n  rowSpan?: number | undefined;\r\n  planTaskCounterTableDTO: PlanTaskCounterTableDTO | undefined;\r\n  visitbloc?: number | undefined;\r\n  isRemovable?: boolean | undefined;\r\n  visitTasks?: TaskVisitTableRow[] | undefined;\r\n  visitDesignation?: string | undefined;\r\n  expand: boolean;\r\n  childRow: RemainingTaskTableRow[];\r\n  dataKey: number;\r\n  showMore: boolean;\r\n  complianceDetail: string | undefined;\r\n}\r\n\r\ninterface RowGroupVisit {\r\n  visitCode: string;\r\n  tasks: TaskVisitTableRow[];\r\n}\r\n\r\ninterface DocumentRow {\r\n  docName?: string;\r\n  docSource?: string;\r\n  docExtension?: string;\r\n  docSize?: string;\r\n  docPublicationDate?: string;\r\n  docDescription?: string;\r\n  _obj?: BireDocumentDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-maintenance-program-form',\r\n  templateUrl: './maintenance-program-form.component.html',\r\n  styleUrls: ['./maintenance-program-form.component.scss']\r\n})\r\nexport class MaintenanceProgramFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public static readonly PERCENTAGE_CONST = 100;\r\n  public static readonly ONE_DECIMAL_ROUND = 10;\r\n  public static readonly ALERT_THRESHOLD_FIELD = 'alertThreshold';\r\n\r\n  public MAINTENANCE_PLAN = { ...BireMaintenancePlanConstants };\r\n  public TABLE_PAGINATION_DEFAULT_ROWS: number = AppConstants.TABLE_PAGINATION_DEFAULT_ROWS;\r\n\r\n  public NUMBER_OF_ROWS: number = 4;\r\n  public COMPLIANCE_RED: string = 'red';\r\n  public COMPLIANCE_GREEN: string = 'green';\r\n  public selectedAnchor: string | undefined;\r\n  public toc;\r\n\r\n  @ViewChild('mainDataAnchor')\r\n  public mainDataAnchor: ElementRef;\r\n\r\n  @ViewChild('taskAnchor')\r\n  public taskAnchor: ElementRef;\r\n\r\n  @ViewChild('visitAnchor')\r\n  public visitAnchor: ElementRef;\r\n\r\n  @ViewChild('generalAnchor')\r\n  public generalAnchor: ElementRef;\r\n\r\n  @ViewChild('documentsAnchor')\r\n  public documentsAnchor: ElementRef;\r\n\r\n  public readonly tabGeneralId: string;\r\n  public readonly tabTaskId: string;\r\n  public readonly tabVisitId: string;\r\n  public readonly tabAttributesId: string;\r\n\r\n  public currentMaintenanceProgramAssets: AssetAssignmentMPTableDTO[];\r\n  public previousMaintenanceProgramAssets: AssetAssignmentMPTableDTO[];\r\n  public maintenanceProgramApprovedAsset: BireMaintenancePlanDTO;\r\n  public isCurrentMaintenanceProgramHasAssets: boolean;\r\n  public isAnteriorVersionWithAssetsFound: boolean;\r\n  public isAnteriorVersionWithApprovedAssetsFound: boolean;\r\n  public alertThreshold: string;\r\n  public isUnitFh: boolean;\r\n  public currentTabId: string;\r\n  public itemsTableCols: TableColumn[];\r\n  public partsTableCols: TableColumn[];\r\n  public taskTableCols: TableColumn[];\r\n  public visitTableCols: TableColumn[];\r\n  public remainingTaskTableCols: TableColumn[];\r\n  public remainingTaskTableCols1: TableColumn[];\r\n  public remainingVisitTableCols: TableColumn[];\r\n  public remainingVisitTableCols1: TableColumn[];\r\n  public removedTaskTableCols: TableColumn[];\r\n  public removedVisitTableCols: TableColumn[];\r\n  public workflowStatus: LabelValue<string>[];\r\n  public status: LabelValue<string>[];\r\n  public currentMaintenancePlan: BireMaintenancePlanDTO;\r\n  public tasks: TaskVisitTableRow[];\r\n  public removedTasks: TaskVisitTableRow[];\r\n  public visits: TaskVisitTableRow[];\r\n  public removedVisits: TaskVisitTableRow[];\r\n  public items: ItemsAssociatedTableDTO[];\r\n  public parts: PartAssociateTableDTO[];\r\n  public dynamicAttributes: DynamicAttributes[];\r\n  public planType: string;\r\n  public planCode: string;\r\n  public relatedRecommendedMaintenancePlanCode: string;\r\n  public relatedApplicableMaintenancePlanCode: string | undefined;\r\n  public selectedStatus: string;\r\n  public approvedStatus: string;\r\n  public disableMpEdit: boolean;\r\n  public isNewPlanCode: boolean;\r\n  public isStatusReadOnly: boolean;\r\n  public hasRelatedBidoMaintenancePlan: boolean;\r\n  public showCreateAmpButton: boolean;\r\n  public isConsultMode: boolean;\r\n  public showAssignAssetsButton: boolean;\r\n  public revisionNumber: string;\r\n\r\n  // For part section\r\n  public dataPart: PopupEntry<PartAssociateTableDTO>;\r\n  public isReadOnlyPartDialog: boolean;\r\n  public currentParts: PartAssociateTableDTO;\r\n  public currentPartIndex: number;\r\n  public showPartPopup: boolean;\r\n  public selectedParts: PartAssociateTableDTO[];\r\n  public partAssociateTableDTOAddedList: PartAssociateTableDTO[];\r\n  public partAssociateTableDTODeletedList: PartAssociateTableDTO[];\r\n\r\n  // For item section\r\n  public dataItem: PopupEntry<ItemsAssociatedTableDTO>;\r\n  public isReadOnlyItemDialog: boolean;\r\n  public currentItems: ItemsAssociatedTableDTO;\r\n  public currentItemIndex: number;\r\n  public showItemPopup: boolean;\r\n  public selectedItems: ItemsAssociatedTableDTO[];\r\n  public itemsAssociatedTableDTOAddedList: ItemsAssociatedTableDTO[];\r\n  public itemsAssociatedTableDTODeletedList: ItemsAssociatedTableDTO[];\r\n\r\n  // For task and visit tab\r\n  public dataVisitTask: PopupEntry<PlanTaskCounterTableDTO>;\r\n  public isReadOnlyVisitTaskDialog: boolean;\r\n  public currentTasks: TaskVisitTableRow | undefined;\r\n  public currentVisits: TaskVisitTableRow | undefined;\r\n  public currentTaskIndex: number;\r\n  public currentVisitIndex: number;\r\n  public showVisitTaskPopup: boolean;\r\n  public selectedTasks: TaskVisitTableRow[];\r\n  public selectedVisits: TaskVisitTableRow[];\r\n  public popUpType: string;\r\n\r\n  public planTaskCounterTableDTOAddedList: PlanTaskCounterTableDTO[];\r\n  public planTaskCounterTableDTODeletedList: PlanTaskCounterTableDTO[];\r\n  public planTaskCounterTableDTOUpdatedList: PlanTaskCounterTableDTO[];\r\n\r\n  // Attributes tab\r\n  public dynamicAttributesForMaintenancePlan: DynamicAttributes[];\r\n  public birePlanAttributeDTOAddedList: BirePlanAttributeDTO[];\r\n  public birePlanAttributeDTOUpdatedList: BirePlanAttributeDTO[];\r\n  public birePlanAttributeDTODeletedList: BirePlanAttributeDTO[];\r\n\r\n  // For Removed task and visit from RMP\r\n  public dataRemovedVisitTask: PopupEntry<PlanTaskCounterTableDTO>;\r\n  public isReadOnlyRemovedVisitTaskDialog: boolean;\r\n  public showRemovedVisitTaskPopup: boolean;\r\n\r\n  public currentRemovedTasks: TaskVisitTableRow | undefined;\r\n  public currentRemovedTaskIndex: number;\r\n  public selectedRemovedTasks: TaskVisitTableRow[];\r\n  public currentRemovedVisits: TaskVisitTableRow | undefined;\r\n  public currentRemovedVisitIndex: number;\r\n  public selectedRemovedVisits: TaskVisitTableRow[];\r\n\r\n  public planTaskCounterTableDTORemovedVisitTaskAddedList: PlanTaskCounterTableDTO[];\r\n  public planTaskCounterTableDTORemovedVisitTaskDeletedList: PlanTaskCounterTableDTO[];\r\n\r\n  // For Assets\r\n  public dataAsset: PopupEntry<BireMaintenancePlanDTO>;\r\n  public isReadOnlyAssetDialog: boolean;\r\n  public showAssetPopup: boolean;\r\n  public showUpgradeButton: boolean;\r\n\r\n  public taskTypes: LabelValue<string>[];\r\n  public periodicityTypes: LabelValue<string>[];\r\n  public taskGroups: LabelValue<string>[];\r\n  public references: LabelValue<string>[];\r\n\r\n  public taskTypeMap: Map<string, string>;\r\n  public periodicityTypeMap: Map<string, string>;\r\n  public taskGroupMap: Map<string, string>;\r\n  public referencesMap: Map<string, string>;\r\n  public unitCodeMap: Map<string, string>;\r\n\r\n  public complianceColor: string | undefined;\r\n\r\n  public rowGroupVisit: RowGroupVisit[] = [];\r\n  public rowGroupMissingVisit: RowGroupVisit[] = [];\r\n  public isCreateMode: boolean;\r\n  // For object status/updates popup\r\n  public showStatusUpdatesPopup: boolean;\r\n  public statusPopupTitle: string;\r\n  public showApproveAmpButton: boolean;\r\n  public enableTaskDelete: boolean;\r\n  public enableVisitDelete: boolean;\r\n  public displayName: string;\r\n  public showUpgradePopup: boolean;\r\n\r\n  public isAmpOfRmpApproved: boolean;\r\n  public tasksDisplayedRowNb: number | undefined;\r\n  public visitsDisplayedRowNb: number;\r\n  public partsDisplayedRowNb: number;\r\n  public itemsDisplayedRowNb: number;\r\n  public removedVisitsDisplayedRowNb: number;\r\n  public removedTasksDisplayedRowNb: number;\r\n  public isLoadingTaskTable: boolean;\r\n  public isLoadingRemovedTaskTabble: boolean;\r\n  public isLoadingVisitTable: boolean;\r\n  public isLoadingRemovedVisitTable: boolean;\r\n  public isLoadingItemTable: boolean;\r\n  public isLoadingPartTable: boolean;\r\n  public showGenerateCommentPopup: boolean;\r\n  public comment: PopupEntry<string>;\r\n  public showSaveSpinner: boolean;\r\n  private planAttributeIdValueMap: Map<string, string>;\r\n\r\n  // Document Import\r\n  public documentsTableDataSource: TableDataSourceWithHistory<DocumentRow>;\r\n  public displayDocumentDialog: boolean;\r\n  public showAddDocumentDialog: boolean;\r\n  public currentDocument?: DocumentRow;\r\n  public isReadOnlyDocumentDialog: boolean;\r\n  public createdBireDocplanList: BireDocPlanDTOId[];\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    private readonly maintenanceProgramFormService: MaintenanceProgramFormService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly dynamicAttributesService: DynamicAttributesService,\r\n    private readonly propertiesService: PropertiesService,\r\n    pageTocService: PageTocService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly dateService: DateService,\r\n    private readonly maintenanceProgramFormMhiaelService: MaintenanceProgramFormMhiaelService,\r\n    private readonly _overlayService: OverlayService,\r\n    private readonly _formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Write,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n    this.registerPageTocEntrySelectedObservable();\r\n    this.tabTaskId = 'task';\r\n    this.tabVisitId = 'visit';\r\n    this.tabGeneralId = 'general';\r\n    this.tabAttributesId = 'attributes';\r\n    this.isNewPlanCode = true;\r\n    this.isCreateMode = false;\r\n    this.planType = BireMaintenancePlanConstants.PLAN_TYPE_RMP;\r\n    this.alertThreshold = MaintenanceProgramFormComponent.ALERT_THRESHOLD_FIELD;\r\n\r\n    this.taskTypeMap = new Map<string, string>();\r\n    this.referencesMap = new Map<string, string>();\r\n    this.periodicityTypeMap = new Map<string, string>();\r\n    this.taskGroupMap = new Map<string, string>();\r\n    this.unitCodeMap = new Map<string, string>();\r\n\r\n    this.showItemPopup = false;\r\n    this.showPartPopup = false;\r\n\r\n    this.currentMaintenanceProgramAssets = [];\r\n    this.previousMaintenanceProgramAssets = [];\r\n    this.tasks = [];\r\n    this.removedTasks = [];\r\n    this.visits = [];\r\n    this.removedVisits = [];\r\n    this.items = [];\r\n    this.parts = [];\r\n    this.selectedStatus = AWPropertiesConstants.FUNC_OBJECT_STATUS_ON_GOING_KEY;\r\n    this.approvedStatus = AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY;\r\n\r\n    this.initMeasureUnit();\r\n    this.loadTaskTypeMap();\r\n    this.loadPeriodicityTypeMap();\r\n    this.loadReferences();\r\n    this.loadTaskGroups();\r\n    this.openGeneralTab();\r\n    this.setTableCols();\r\n\r\n    this.isAmpOfRmpApproved = false;\r\n    this.status = [];\r\n  }\r\n\r\n  public loadTaskTypeMap() {\r\n    this.propertiesService.getValue(GenericPropertyConstants.TASK_TYPE_MAP).subscribe((results) => {\r\n      results.forEach((element) => {\r\n        this.taskTypeMap.set(element.value, element.label);\r\n      });\r\n    });\r\n  }\r\n\r\n  public loadPeriodicityTypeMap() {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PERIODICITY_TYPE_MAP).subscribe((results) => {\r\n      results.forEach((element) => {\r\n        this.periodicityTypeMap.set(element.value, element.label);\r\n      });\r\n    });\r\n  }\r\n\r\n  public loadTaskGroups() {\r\n    this.maintenanceProgramFormService.findAllBireTaskGroups().subscribe((results) => {\r\n      results.forEach((element) => {\r\n        this.taskGroupMap.set(element.value, element.label);\r\n      });\r\n    });\r\n  }\r\n\r\n  public loadReferences() {\r\n    this.maintenanceProgramFormService.findAllBireMeasureReferencesMaintenanceProgram().subscribe((results) => {\r\n      results.forEach((element) => {\r\n        if (!!element.counterCode) {\r\n          this.referencesMap.set(element.counterCode, `${element.counterRemarks} (${element.counterCode})`);\r\n          if (!!element.unitCode) {\r\n            this.unitCodeMap.set(element.counterCode, element.unitCode);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private getDynamicAttributesObservable(attributeCategory: string): Observable<BireAttributeDTO[]> {\r\n    return this.maintenanceProgramFormService.findBireAttributesByCategory(attributeCategory);\r\n  }\r\n\r\n  public openGeneralTab(): void {\r\n    this.currentTabId = this.tabGeneralId;\r\n  }\r\n\r\n  public openTaskTab(): void {\r\n    this.currentTabId = this.tabTaskId;\r\n  }\r\n\r\n  public openVisitTab(): void {\r\n    this.currentTabId = this.tabVisitId;\r\n  }\r\n\r\n  public openAttributesTab(): void {\r\n    this.currentTabId = this.tabAttributesId;\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_MAINTENANCE_PROGRAM_FORM;\r\n  }\r\n\r\n  private setTableCols(planType?: string): void {\r\n    let taskDesignationWidth = '30%';\r\n    let visitDesignationWidth = '41%';\r\n    if (planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n      taskDesignationWidth = '22%';\r\n      visitDesignationWidth = '33%';\r\n    }\r\n\r\n    this.itemsTableCols = [\r\n      { field: 'familyVariant', alignment: 'left' },\r\n      { field: 'itemCode', alignment: 'left' },\r\n      { field: 'designation', alignment: 'left' }\r\n    ];\r\n\r\n    this.partsTableCols = [\r\n      { field: 'pnCode', alignment: 'left' },\r\n      { field: 'pnName', alignment: 'left' },\r\n      { field: 'planPnTypeText', alignment: 'left' }\r\n    ];\r\n\r\n    this.taskTableCols = [\r\n      { field: 'taskCode', alignment: 'left', width: '12%' },\r\n      { field: 'version', alignment: 'left', width: '5%' },\r\n      { field: 'designation', alignment: 'left', width: taskDesignationWidth },\r\n      { field: 'taskGroup', alignment: 'left', width: '10%' },\r\n      { field: 'reference', alignment: 'left', width: '25%' },\r\n      { field: 'periodicity', alignment: 'left', width: '8%' },\r\n      { field: 'unit', alignment: 'left', width: '5%' }\r\n    ];\r\n    if (planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n      this.taskTableCols.push({ field: 'compliance', alignment: 'left', width: '8%' });\r\n    }\r\n\r\n    this.remainingTaskTableCols = [\r\n      { field: 'taskType', alignment: 'left', width: '25%' },\r\n      { field: 'groupCode', alignment: 'left', width: '25%' },\r\n      { field: 'firstPeriodicity', alignment: 'left', width: '25%' },\r\n      { field: 'periodicityType', alignment: 'left', width: '25%' }\r\n    ];\r\n\r\n    this.remainingTaskTableCols1 = [\r\n      { field: 'tolerance', alignment: 'left', width: '25%' },\r\n      { field: 'alertThreshold', alignment: 'left', width: '25%' },\r\n      { field: 'comments', alignment: 'left', width: '25%' }\r\n    ];\r\n\r\n    this.removedTaskTableCols = [\r\n      { field: 'taskCode', alignment: 'left' },\r\n      { field: 'version', alignment: 'left' },\r\n      { field: 'designation', alignment: 'left' },\r\n      { field: 'taskGroup', alignment: 'left' },\r\n      { field: 'taskType', alignment: 'left' },\r\n      { field: 'groupCode', alignment: 'left' },\r\n      { field: 'reference', alignment: 'left' },\r\n      { field: 'firstPeriodicity', alignment: 'left' },\r\n      { field: 'periodicity', alignment: 'left' },\r\n      { field: 'unit', alignment: 'left' },\r\n      { field: 'periodicityType', alignment: 'left' },\r\n      { field: 'tolerance', alignment: 'left' },\r\n      { field: 'alertThreshold', alignment: 'left' },\r\n      { field: 'comments', alignment: 'left' }\r\n    ];\r\n\r\n    this.visitTableCols = [\r\n      { field: 'visitCode', alignment: 'left', width: '12%' },\r\n      { field: 'visitVersion', alignment: 'left', width: '5%' },\r\n      { field: 'visitDesignation', alignment: 'left', width: visitDesignationWidth },\r\n      { field: 'reference', alignment: 'left', width: '25%' },\r\n      { field: 'periodicity', alignment: 'left', width: '7%' },\r\n      { field: 'unit', alignment: 'left', width: '5%' }\r\n    ];\r\n    if (planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n      this.visitTableCols.push({ field: 'compliance', alignment: 'left', width: '8%' });\r\n    }\r\n\r\n    this.remainingVisitTableCols = [\r\n      { field: 'taskType', alignment: 'left', width: '33%' },\r\n      { field: 'firstPeriodicity', alignment: 'left', width: '33%' },\r\n      { field: 'tolerance', alignment: 'left', width: '33%' }\r\n    ];\r\n\r\n    this.remainingVisitTableCols1 = [\r\n      { field: 'alertThreshold', alignment: 'left', width: '33%' },\r\n      { field: 'comments', alignment: 'left', width: '33%' }\r\n    ];\r\n\r\n    this.removedVisitTableCols = [\r\n      { field: 'visitCode', alignment: 'left' },\r\n      { field: 'visitVersion', alignment: 'left' },\r\n      { field: 'visitDesignation', alignment: 'left' },\r\n      { field: 'reference', alignment: 'left' },\r\n      { field: 'periodicity', alignment: 'left' },\r\n      { field: 'unit', alignment: 'left' },\r\n      { field: 'tolerance', alignment: 'left' },\r\n      { field: 'alertThreshold', alignment: 'left' }\r\n    ];\r\n  }\r\n\r\n  private init(): void {\r\n    this.currentMaintenancePlan = {};\r\n    this.showUpgradeButton = false;\r\n    this.complianceColor = '';\r\n    this.isStatusReadOnly = false;\r\n    this.hasRelatedBidoMaintenancePlan = false;\r\n    this.showCreateAmpButton = false;\r\n    this.isConsultMode = false;\r\n    this.disableMpEdit = false;\r\n    // Historic popup\r\n    this.showStatusUpdatesPopup = false;\r\n    this.showApproveAmpButton = false;\r\n    this.showUpgradePopup = false;\r\n\r\n    this.planTaskCounterTableDTODeletedList = [];\r\n    this.planTaskCounterTableDTOAddedList = [];\r\n    this.planTaskCounterTableDTOUpdatedList = [];\r\n\r\n    this.itemsAssociatedTableDTOAddedList = [];\r\n    this.itemsAssociatedTableDTODeletedList = [];\r\n\r\n    this.partAssociateTableDTOAddedList = [];\r\n    this.partAssociateTableDTODeletedList = [];\r\n\r\n    this.dynamicAttributesForMaintenancePlan = [];\r\n    this.birePlanAttributeDTOAddedList = [];\r\n    this.birePlanAttributeDTOUpdatedList = [];\r\n    this.birePlanAttributeDTODeletedList = [];\r\n\r\n    this.isCurrentMaintenanceProgramHasAssets = false;\r\n    this.isAnteriorVersionWithApprovedAssetsFound = false;\r\n    this.isAnteriorVersionWithAssetsFound = false;\r\n    this.previousMaintenanceProgramAssets = [];\r\n    this.selectedItems = [];\r\n    this.currentItemIndex = -1;\r\n    this.showItemPopup = false;\r\n    this.currentItems = {};\r\n\r\n    this.selectedParts = [];\r\n    this.currentPartIndex = -1;\r\n    this.showPartPopup = false;\r\n    this.currentParts = {};\r\n\r\n    this.selectedTasks = [];\r\n    this.currentTaskIndex = -1;\r\n    this.currentTasks = undefined;\r\n\r\n    this.selectedVisits = [];\r\n    this.currentVisitIndex = -1;\r\n    this.currentVisits = undefined;\r\n\r\n    this.selectedRemovedTasks = [];\r\n    this.currentRemovedTaskIndex = -1;\r\n    this.currentRemovedTasks = undefined;\r\n    this.selectedRemovedVisits = [];\r\n    this.currentRemovedVisitIndex = -1;\r\n    this.currentRemovedVisits = undefined;\r\n\r\n    this.popUpType = '';\r\n    this.enableTaskDelete = true;\r\n    this.enableVisitDelete = true;\r\n    this.planAttributeIdValueMap = new Map<string, string>();\r\n    this.initDocumentsTableDataSource();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    if (!!this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      if (!this.isCreateOpenMode && this.componentData.objectId) {\r\n        this.createContentTable();\r\n      }\r\n      this.loadOnInit();\r\n    }\r\n  }\r\n\r\n  public editMaintenancePlan(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  private loadOnInit() {\r\n    this.init();\r\n    if (!!this.componentData.objectId) {\r\n      const planDTOId = this.serializationService.deserialize(this.componentData.objectId);\r\n      this.planCode = planDTOId.planCode;\r\n      this.loadDocumentsTableDataSourceData();\r\n      const planDTO: BireMaintenancePlanDTO = { planCode: planDTOId.planCode };\r\n\r\n      // Load dynamic attributes\r\n      const observables: Observable<BireAttributeDTO[]>[] = [\r\n        this.getDynamicAttributesObservable(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY),\r\n        this.getDynamicAttributesObservable(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_MAINTENANCE_PLAN_KEY)\r\n      ];\r\n\r\n      forkJoin(observables).subscribe(([allAttribute, customerAttribute]) => {\r\n        let attributes: BireAttributeDTO[] = [];\r\n        attributes = !!allAttribute ? [...attributes, ...allAttribute] : attributes;\r\n        attributes = !!customerAttribute ? [...attributes, ...customerAttribute] : attributes;\r\n        attributes = attributes.filter((element) => {\r\n          return element.attributeId !== BireAttributeConstants.MAINTENANCE_PLAN_RMP_PLAN_CODE;\r\n        });\r\n        this.dynamicAttributesForMaintenancePlan = this.dynamicAttributesService.from(attributes);\r\n\r\n        this.maintenanceProgramFormService.findBirePlanAttributesByPlanCode(planDTO).subscribe((results) => {\r\n          let rmpAttribute: BirePlanAttributeDTO = {};\r\n          results.forEach((obj) => {\r\n            if (obj.attributeId === BireAttributeConstants.MAINTENANCE_PLAN_RMP_PLAN_CODE) {\r\n              rmpAttribute = obj;\r\n            } else {\r\n              if (obj.attributeId) {\r\n                this.planAttributeIdValueMap.set(obj.attributeId, obj.attributeValue || '');\r\n              }\r\n            }\r\n          });\r\n          // set bire maintenance plan attributes\r\n          this.dynamicAttributesService.setValues(this.dynamicAttributesForMaintenancePlan, results);\r\n\r\n          this.planType =\r\n            rmpAttribute && rmpAttribute.attributeValue\r\n              ? BireMaintenancePlanConstants.PLAN_TYPE_AMP\r\n              : BireMaintenancePlanConstants.PLAN_TYPE_RMP;\r\n\r\n          if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP) {\r\n            // Get AMP code\r\n            this.maintenanceProgramFormService\r\n              .findApplicableMaintenancePlanCodeByRecommendedPlanCode(this.planCode)\r\n              .subscribe((ampCode) => {\r\n                this.relatedApplicableMaintenancePlanCode = ampCode;\r\n                this.loadMaintenanceProgram();\r\n              });\r\n          } else if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n            // get RMP code from attribute value\r\n            if (!!rmpAttribute.attributeValue) {\r\n              this.relatedRecommendedMaintenancePlanCode = rmpAttribute.attributeValue;\r\n            }\r\n            // reset table coumns for AMP\r\n            this.setTableCols(this.planType);\r\n            this.loadMaintenanceProgram();\r\n          }\r\n\r\n          this.userWorkflowSubject.pipe(takeUntil(this.unsubscribe)).subscribe((_userWorkflow) => {\r\n            this.updateWorkflowStatusList();\r\n          });\r\n        });\r\n      });\r\n    } else {\r\n      const context = 'tab.createMode';\r\n      this.displayComponentContext(context, this.isCreateOpenMode);\r\n    }\r\n  }\r\n\r\n  private loadMaintenanceProgram(): void {\r\n    if (!!this.componentData && !!this.componentData.objectId) {\r\n      const bireMaintenancePlanDTOId: BireMaintenancePlanDTOId = {\r\n        planCode: this.planCode\r\n      };\r\n\r\n      this.maintenanceProgramFormService.findBireMaintenancePlan(bireMaintenancePlanDTOId).subscribe((result) => {\r\n        if (this.checkNotIsNullOrUndefined(result) && result.planCode) {\r\n          this.isNewPlanCode = false;\r\n          this.displayName = `${result.planCode}-${result.planName}`;\r\n          this.displayComponentContext(this.displayName, this.isCreateOpenMode);\r\n          // Create observables for data necessary before load\r\n          const bidoMaintenanceObservable = this.maintenanceProgramFormService.findBidoMaintenancePlanByPlanCode(\r\n            (result && result.planCode) || ''\r\n          );\r\n\r\n          let uObservable;\r\n\r\n          if (!this.relatedRecommendedMaintenancePlanCode) {\r\n            const upgradeBireMaintenancePlanInput: UpgradeBireMaintenancePlanInput = {\r\n              currentRevisionNumber: result && result.planRevisionNumber,\r\n              planCode: result && result.planCode\r\n            };\r\n            uObservable = this.maintenanceProgramFormService.checkAndReturnNewRevisionNumberByMaintenancePlan(\r\n              upgradeBireMaintenancePlanInput\r\n            );\r\n          } else {\r\n            uObservable = this.maintenanceProgramFormService.checkAndReturnNewRevisionNumberByMaintenancePlan();\r\n          }\r\n\r\n          const checkUpdateAccess = this.maintenanceProgramFormService.hasUpdateRights();\r\n\r\n          const ampPlanObservable = this.maintenanceProgramFormService.findBireMaintenancePlan({\r\n            planCode: this.relatedApplicableMaintenancePlanCode || ''\r\n          });\r\n\r\n          forkJoin([ampPlanObservable, bidoMaintenanceObservable, uObservable, checkUpdateAccess]).subscribe(\r\n            (results) => {\r\n              const bidoPlanIndex = 1;\r\n              const hasUpdateRightsIndex = 2;\r\n              const resultAmp = results[0] as BireMaintenancePlanDTO; // FIXME\r\n              const bidoMaintenancePlan = results[bidoPlanIndex] as BidoMaintenancePlanDTO[]; // FIXME\r\n              const hasUpdateRights = results[hasUpdateRightsIndex] as boolean; // FIXME\r\n\r\n              this.statusPopupTitle = `${result.planCode}${result.planName ? '-' + result.planName : ''}`;\r\n\r\n              if (!!result.planRevisionNumber) {\r\n                this.revisionNumber = result.planRevisionNumber;\r\n              }\r\n              this.currentMaintenancePlan = result;\r\n              this.currentMaintenancePlan.planApprovalDate =\r\n                this.currentMaintenancePlan.planApprovalDate && new Date(this.currentMaintenancePlan.planApprovalDate);\r\n              this.currentMaintenancePlan.planRevisionDate =\r\n                this.currentMaintenancePlan.planRevisionDate && new Date(this.currentMaintenancePlan.planRevisionDate);\r\n              this.currentMaintenancePlan.planValidityEndDate =\r\n                this.currentMaintenancePlan.planValidityEndDate &&\r\n                new Date(this.currentMaintenancePlan.planValidityEndDate);\r\n              // set default status if status not found\r\n              this.selectedStatus =\r\n                this.currentMaintenancePlan.statusState || AWPropertiesConstants.FUNC_OBJECT_STATUS_ON_GOING_KEY;\r\n              // set consult mode\r\n              this.isConsultMode =\r\n                this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP &&\r\n                this.currentMaintenancePlan.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY &&\r\n                resultAmp &&\r\n                resultAmp.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY\r\n                  ? true\r\n                  : false;\r\n\r\n              // disable task/visit delete if RMP is approved\r\n              this.disableMpEdit =\r\n                this.currentMaintenancePlan.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY;\r\n\r\n              // show approve AMP only if AMP is not approved and remove approve option from status list\r\n              if (!!this.currentMaintenancePlan.statusState) {\r\n                this.loadStatus(this.currentMaintenancePlan.statusState);\r\n                this.loadUserWorkflow(this.currentMaintenancePlan.statusState);\r\n              }\r\n\r\n              // Initialise RMP/AMP Comparison in case of AMP\r\n              if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n                this.checkAmpComplianceWithRmp();\r\n              } else if (!!result.planCode) {\r\n                this.loadTasksAndVisits(result.planCode);\r\n              }\r\n              if (!!result.planCode) {\r\n                this.loadItems(result.planCode);\r\n                this.loadParts(result.planCode);\r\n              }\r\n\r\n              // check upgrade visibility\r\n              if (\r\n                hasUpdateRights &&\r\n                this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP &&\r\n                !!result.planRevisionNumber\r\n              ) {\r\n                this.showUpgradeButton = true;\r\n              }\r\n              // check if mp has relate bido maintenance plan\r\n              this.hasRelatedBidoMaintenancePlan = bidoMaintenancePlan && bidoMaintenancePlan.length > 0 ? true : false;\r\n              // check assign assets visibilty\r\n              this.checkAssetsAndCreateAmpVisibility();\r\n              // set status dropdown mode\r\n              this.checkStatusReadOnly(resultAmp);\r\n\r\n              this.getPreviousAssetData(this.currentMaintenancePlan);\r\n              this.getAssetData();\r\n\r\n              this.isAmpOfRmpApproved = resultAmp.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private checkStatusReadOnly(resultAmp: BireMaintenancePlanDTO): void {\r\n    if (\r\n      this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP &&\r\n      resultAmp &&\r\n      resultAmp.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY\r\n    ) {\r\n      // RMP: there is no AMP.\r\n      this.isStatusReadOnly = true;\r\n    } else if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP && this.hasRelatedBidoMaintenancePlan) {\r\n      // AMP: has been assigned to Assets\r\n      this.isStatusReadOnly = true;\r\n    }\r\n  }\r\n\r\n  private loadTasksAndVisits(planCode: string): void {\r\n    this.isLoadingTaskTable = true;\r\n    this.isLoadingVisitTable = true;\r\n    this.maintenanceProgramFormService.findBirePlanTaskCountersByPlanCode(planCode).subscribe((results) => {\r\n      this.loadTasksRows(results);\r\n      this.isLoadingTaskTable = false;\r\n      this.loadVisitsRows(results);\r\n      this.isLoadingVisitTable = false;\r\n    });\r\n  }\r\n\r\n  private loadTasksRows(results: PlanTaskCounterTableDTO[]): void {\r\n    if (!!results) {\r\n      const tasks: TaskVisitTableRow[] = [];\r\n      results\r\n        .filter((element) => {\r\n          return (\r\n            !element.visitCode &&\r\n            element.bireTaskDTO &&\r\n            element.bireTaskDTO.taskTypeCode !== AWPropertiesConstants.TASK_TYPE_VISIT_KEY\r\n          );\r\n        })\r\n        .forEach((element, index) => {\r\n          const temp = this.convertPlanTaskCounterTableDTOToRow(element, index);\r\n          if (!!temp) {\r\n            tasks.push(temp);\r\n          }\r\n        });\r\n      this.tasks = tasks;\r\n    }\r\n  }\r\n\r\n  private loadVisitsRows(results: PlanTaskCounterTableDTO[]): void {\r\n    if (!!results) {\r\n      const visitsTemp: TaskVisitTableRow[] = [];\r\n      results\r\n        .filter((element) => {\r\n          return !!element.visitCode;\r\n        })\r\n        .forEach((element, index) => {\r\n          const temp = this.convertPlanTaskCounterTableDTOToRow(element, index);\r\n          if (!!temp) {\r\n            visitsTemp.push(temp);\r\n          }\r\n        });\r\n      this.buildVisits(visitsTemp);\r\n    }\r\n  }\r\n\r\n  private buildVisits(visits: TaskVisitTableRow[]): void {\r\n    this.rowGroupVisit = this.createRowGroupVisit(visits);\r\n    this.visits = [];\r\n    this.rowGroupVisit.forEach((element, index) => {\r\n      const vistsTask = { ...element.tasks[0] };\r\n      vistsTask.visitbloc = index;\r\n      vistsTask.visitTasks = element.tasks || [];\r\n      vistsTask.taskType = 'Visit';\r\n      vistsTask.taskTypeCode = AWPropertiesConstants.TASK_TYPE_VISIT_KEY;\r\n      this.visits.push(vistsTask);\r\n    });\r\n  }\r\n\r\n  private createRowGroupVisit(visits: TaskVisitTableRow[]): RowGroupVisit[] {\r\n    const initArr: RowGroupVisit[] = [];\r\n\r\n    return visits.reduce((arr, item) => {\r\n      const visitExistence = arr.filter((element) => {\r\n        return element.visitCode === `${item.visitCode}-${item.visitVersion}-${item.reference}`;\r\n      });\r\n      if (visitExistence.length > 0) {\r\n        const existingObj = visitExistence[0];\r\n        existingObj.tasks.push(item);\r\n      } else {\r\n        arr.push({\r\n          visitCode: `${item.visitCode}-${item.visitVersion}-${item.reference}`,\r\n          tasks: [item]\r\n        });\r\n      }\r\n\r\n      return arr;\r\n    }, initArr);\r\n  }\r\n\r\n  private loadMissingTasksRows(results: PlanTaskCounterTableDTO[]): void {\r\n    if (!!results) {\r\n      const removedTasks: TaskVisitTableRow[] = [];\r\n      results\r\n        .filter((element) => {\r\n          return (\r\n            !element.visitCode &&\r\n            element.bireTaskDTO &&\r\n            element.bireTaskDTO.taskTypeCode !== AWPropertiesConstants.TASK_TYPE_VISIT_KEY\r\n          );\r\n        })\r\n        .forEach((element, index) => {\r\n          const temp = this.convertPlanTaskCounterTableDTOToRow(element, index);\r\n          if (!!temp) {\r\n            removedTasks.push(temp);\r\n          }\r\n        });\r\n      this.removedTasks = removedTasks;\r\n    }\r\n  }\r\n\r\n  private loadMissingVisitsRows(results: PlanTaskCounterTableDTO[]): void {\r\n    if (!!results) {\r\n      const removedVisits: TaskVisitTableRow[] = [];\r\n      results\r\n        .filter((element) => {\r\n          return !!element.visitCode;\r\n        })\r\n        .map((element, index) => {\r\n          const temp = this.convertPlanTaskCounterTableDTOToRow(element, index);\r\n          if (!!temp) {\r\n            removedVisits.push(temp);\r\n          }\r\n        });\r\n\r\n      this.buildMissingVisits(removedVisits);\r\n    }\r\n  }\r\n\r\n  private buildMissingVisits(visits: TaskVisitTableRow[]): void {\r\n    this.rowGroupMissingVisit = this.createRowGroupVisit(visits);\r\n    this.removedVisits = [];\r\n    this.rowGroupMissingVisit.forEach((element, index) => {\r\n      const vistsTask = { ...element.tasks[0] };\r\n      vistsTask.visitbloc = index;\r\n      vistsTask.visitTasks = element.tasks || [];\r\n      vistsTask.taskType = 'Visit';\r\n      vistsTask.taskTypeCode = AWPropertiesConstants.TASK_TYPE_VISIT_KEY;\r\n      this.removedVisits.push(vistsTask);\r\n    });\r\n  }\r\n\r\n  private loadItems(planCode: string): void {\r\n    this.isLoadingItemTable = true;\r\n    this.maintenanceProgramFormService.findBirePlanItemsByPlanCode(planCode).subscribe((results) => {\r\n      this.items = results;\r\n      this.isLoadingItemTable = false;\r\n    });\r\n  }\r\n\r\n  private loadParts(planCode: string): void {\r\n    this.isLoadingPartTable = true;\r\n    this.maintenanceProgramFormService.findBirePlanPnsByPlanCode(planCode).subscribe((results) => {\r\n      this.parts = results;\r\n      this.isLoadingPartTable = false;\r\n    });\r\n  }\r\n\r\n  public cancelMaintenanceProgram(): void {\r\n    if (this.isWriteOpenMode) {\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n    this.reloadMaintenanceProgram();\r\n  }\r\n\r\n  public editMaintenanceProgram(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public reloadMaintenanceProgram(): void {\r\n    this.loadOnInit();\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Part Section\r\n   ***********************************************************************************/\r\n  /*public openPart(): void {\r\n    this.isReadOnlyPartDialog = true;\r\n    if (this.selectedParts.length === 1) {\r\n      this.currentParts = { ...this.selectedParts[0] };\r\n      this.currentPartIndex = this.parts.indexOf(this.selectedParts[0]);\r\n      this.showPartPopup = true;\r\n      this.dataPart = {\r\n        componentId: 'PartPopupFormComponent',\r\n        selectedRow: this.selectedParts,\r\n        object: this.currentParts,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n  }*/\r\n\r\n  public createPart(): void {\r\n    this.currentParts = {};\r\n    this.showPartPopup = true;\r\n    this.isReadOnlyPartDialog = false;\r\n    this.dataPart = {\r\n      componentId: 'PartPopupFormComponent',\r\n      selectedRow: undefined,\r\n      object: this.currentParts,\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n    this.currentPartIndex = -1;\r\n    this.selectedParts = [];\r\n  }\r\n\r\n  public deletePart(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.confirmSelectedDataDelete',\r\n      accept: () => {\r\n        this.selectedParts.forEach((element) => {\r\n          const indexInDisplayedList = this.parts.indexOf(element);\r\n          this.parts.splice(indexInDisplayedList, 1);\r\n          this.partAssociateTableDTODeletedList.push(element);\r\n        });\r\n\r\n        this.selectedParts = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public savePart(item: PartsAssociatedTableDTO): void {\r\n    const partObj: PartAssociateTableDTO = {\r\n      birePlanPnDTO: item.birePnDTO,\r\n      pnCode: item.consumableCode,\r\n      pnName: item.consumableName,\r\n      pnType: item.consumableTypeKey,\r\n      planPnTypeText: item.consumableTypeValue\r\n    };\r\n\r\n    if (this.isNewPlanCode) {\r\n      this.confirmationService.confirm({\r\n        messageKey: this.getTranslateKey('createMaintenanceProgramConfirmation'),\r\n        accept: () => {\r\n          this.addPart(partObj);\r\n          this.saveMaintenanceProgram();\r\n        }\r\n      });\r\n    } else {\r\n      this.addPart(partObj);\r\n    }\r\n    this.selectedParts = [];\r\n  }\r\n\r\n  private addPart(partObj: PartAssociateTableDTO): void {\r\n    if (!!partObj) {\r\n      const getParts = this.parts.filter((obj) => {\r\n        return obj.pnCode === partObj.pnCode && obj.pnName === partObj.pnName && obj.pnType === partObj.pnType;\r\n      });\r\n      if (getParts.length > 0) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnPartAdd'));\r\n\r\n        return;\r\n      }\r\n\r\n      if (!!partObj.birePlanPnDTO) {\r\n        partObj.birePlanPnDTO.planCode = this.currentMaintenancePlan.planCode;\r\n      }\r\n\r\n      if (this.currentPartIndex > -1) {\r\n        this.parts[this.currentPartIndex] = partObj;\r\n      } else {\r\n        this.parts = [...this.parts, partObj];\r\n      }\r\n      this.partAssociateTableDTOAddedList.push(partObj);\r\n    }\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Item Section\r\n   ***********************************************************************************/\r\n  /*public openItem(): void {\r\n    this.isReadOnlyItemDialog = true;\r\n    if (this.selectedItems.length === 1) {\r\n      this.currentItems = { ...this.selectedItems[0] };\r\n      this.currentItemIndex = this.items.indexOf(this.selectedItems[0]);\r\n      this.showItemPopup = true;\r\n      this.dataItem = {\r\n        componentId: 'ItemPopupFormComponent',\r\n        selectedRow: this.selectedItems,\r\n        object: this.currentItems,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n  }*/\r\n\r\n  public createItem(): void {\r\n    this.showItemPopup = true;\r\n    this.isReadOnlyItemDialog = false;\r\n    this.dataItem = {\r\n      componentId: 'ItemPopupFormComponent',\r\n      selectedRow: [],\r\n      object: {},\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n    this.currentItemIndex = -1;\r\n    this.selectedItems = [];\r\n  }\r\n\r\n  public deleteItem(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.confirmSelectedDataDelete',\r\n      accept: () => {\r\n        this.selectedItems.forEach((element) => {\r\n          const indexInDisplayedList = this.items.indexOf(element);\r\n          this.items.splice(indexInDisplayedList, 1);\r\n          this.itemsAssociatedTableDTODeletedList.push(element);\r\n        });\r\n\r\n        this.selectedItems = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public saveItem(itemObj: BireItemDTO): void {\r\n    const item: BirePlanItemDTO = {};\r\n    item.chapter = itemObj.chapter;\r\n    item.section = itemObj.section;\r\n    item.subject = itemObj.subject;\r\n    item.sheet = itemObj.sheet;\r\n    item.marks = itemObj.marks;\r\n\r\n    const familyVariant = `${itemObj.familyCode}-${itemObj.structureType}-${itemObj.variantCode}`;\r\n\r\n    const itemCode = `${item.chapter}-${item.section}-${item.subject}-${item.sheet}-${item.marks}`;\r\n\r\n    const designation = `${itemObj.name}`;\r\n\r\n    const obj: ItemsAssociatedTableDTO = {\r\n      familyVariant,\r\n      itemCode,\r\n      designation,\r\n      birePlanItemDTO: itemObj\r\n    };\r\n\r\n    if (!!obj.birePlanItemDTO) {\r\n      obj.birePlanItemDTO.familyCode = itemObj.familyCode;\r\n      obj.birePlanItemDTO.structureType = itemObj.structureType;\r\n      obj.birePlanItemDTO.variantCode = itemObj.variantCode;\r\n    }\r\n\r\n    if (this.isNewPlanCode) {\r\n      this.confirmationService.confirm({\r\n        messageKey: this.getTranslateKey('createMaintenanceProgramConfirmation'),\r\n        accept: () => {\r\n          this.addItem(obj);\r\n          this.saveMaintenanceProgram();\r\n        }\r\n      });\r\n    } else {\r\n      this.addItem(obj);\r\n    }\r\n    this.selectedItems = [];\r\n  }\r\n\r\n  private addItem(itemObj: ItemsAssociatedTableDTO): void {\r\n    if (!!itemObj) {\r\n      const getItems = this.items.filter((obj) => {\r\n        return obj.itemCode === itemObj.itemCode && obj.familyVariant === itemObj.familyVariant;\r\n      });\r\n      if (getItems.length > 0) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnItemAdd'));\r\n\r\n        return;\r\n      }\r\n\r\n      if (!!itemObj.birePlanItemDTO) {\r\n        itemObj.birePlanItemDTO.planCode = this.currentMaintenancePlan.planCode;\r\n      }\r\n\r\n      if (this.currentItemIndex > -1) {\r\n        this.items[this.currentItemIndex] = itemObj;\r\n      } else {\r\n        this.items = [...this.items, itemObj];\r\n      }\r\n      this.itemsAssociatedTableDTOAddedList.push(itemObj);\r\n    }\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Visit Task Section\r\n   ***********************************************************************************/\r\n  public editTaskVisit(type: string): void {\r\n    this.isReadOnlyVisitTaskDialog = false;\r\n    this.isCreateMode = false;\r\n    this.popUpType = type;\r\n    if (type === 'task' && this.selectedTasks.length === 1) {\r\n      this.currentTasks = { ...this.selectedTasks[0] };\r\n      this.currentTaskIndex = this.tasks.indexOf(this.selectedTasks[0]);\r\n      this.showVisitTaskPopup = true;\r\n      if (!!this.currentTasks.planTaskCounterTableDTO) {\r\n        this.dataVisitTask = {\r\n          componentId: 'TaskVisitPopupFormComponent',\r\n          selectedRow: [],\r\n          object: this.currentTasks.planTaskCounterTableDTO,\r\n          openMode: ComponentOpenMode.Write\r\n        };\r\n      }\r\n    } else if (type === 'visit' && this.selectedVisits.length === 1) {\r\n      this.currentVisits = { ...this.selectedVisits[0] };\r\n      this.currentVisitIndex = this.tasks.indexOf(this.selectedVisits[0]);\r\n      this.showVisitTaskPopup = true;\r\n      if (!!this.currentVisits.planTaskCounterTableDTO) {\r\n        this.dataVisitTask = {\r\n          componentId: 'TaskVisitPopupFormComponent',\r\n          selectedRow: [],\r\n          object: this.currentVisits.planTaskCounterTableDTO,\r\n          openMode: ComponentOpenMode.Write\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  public openTaskVisit(type: string): void {\r\n    this.isReadOnlyVisitTaskDialog = true;\r\n    this.isCreateMode = false;\r\n    this.popUpType = type;\r\n    if (type === 'task' && this.selectedTasks.length === 1) {\r\n      this.currentTasks = { ...this.selectedTasks[0] };\r\n      this.currentTaskIndex = this.tasks.indexOf(this.selectedTasks[0]);\r\n      this.showVisitTaskPopup = true;\r\n      if (!!this.currentTasks.planTaskCounterTableDTO) {\r\n        this.dataVisitTask = {\r\n          componentId: 'TaskVisitPopupFormComponent',\r\n          selectedRow: [],\r\n          object: this.currentTasks.planTaskCounterTableDTO,\r\n          openMode: ComponentOpenMode.Read\r\n        };\r\n      }\r\n    } else if (type === 'visit' && this.selectedVisits.length === 1) {\r\n      this.currentVisits = { ...this.selectedVisits[0] };\r\n      this.currentVisitIndex = this.tasks.indexOf(this.selectedVisits[0]);\r\n      this.showVisitTaskPopup = true;\r\n      if (!!this.currentVisits.planTaskCounterTableDTO) {\r\n        this.dataVisitTask = {\r\n          componentId: 'TaskVisitPopupFormComponent',\r\n          selectedRow: [],\r\n          object: this.currentVisits.planTaskCounterTableDTO,\r\n          openMode: ComponentOpenMode.Read\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  public createTaskVisit(type: string): void {\r\n    this.isCreateMode = true;\r\n    const newVisitOrTask: PlanTaskCounterTableDTO = {\r\n      birePlanTaskCounterDTO: {\r\n        planCode: this.currentMaintenancePlan.planCode\r\n      },\r\n      bireTaskDTO: {}\r\n    };\r\n    if (type === 'visit') {\r\n      this.currentVisitIndex = -1;\r\n      this.selectedVisits = [];\r\n    } else {\r\n      this.currentTaskIndex = -1;\r\n      this.selectedTasks = [];\r\n    }\r\n    this.showVisitTaskPopup = true;\r\n    this.isReadOnlyVisitTaskDialog = false;\r\n    this.popUpType = type;\r\n    this.dataVisitTask = {\r\n      componentId: 'TaskVisitPopupFormComponent',\r\n      selectedRow: undefined,\r\n      object: newVisitOrTask,\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n  }\r\n\r\n  public createNewTaskVisit(type: string): void {\r\n    const openMode: ComponentOpenMode = ComponentOpenMode.Create;\r\n    if (type === 'task') {\r\n      const labelKey = 'transaction.TaskFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'TaskFormComponent',\r\n        objectId: undefined,\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else if (type === 'visit') {\r\n      const labelKey = 'transaction.VisitFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'VisitFormComponent',\r\n        objectId: undefined,\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public deleteTaskVisit(type: string): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.confirmSelectedDataDelete',\r\n      accept: () => {\r\n        if (type === 'task') {\r\n          this.selectedTasks.forEach((element) => {\r\n            const indexInDisplayedList = this.tasks.indexOf(element);\r\n            this.tasks.splice(indexInDisplayedList, 1);\r\n            if (\r\n              !!element.planTaskCounterTableDTO &&\r\n              this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO) < 0\r\n            ) {\r\n              this.planTaskCounterTableDTODeletedList.push(element.planTaskCounterTableDTO);\r\n            }\r\n          });\r\n          this.selectedTasks = [];\r\n        } else if (type === 'visit') {\r\n          this.selectedVisits.forEach((element) => {\r\n            const indexInDisplayedList = this.visits.indexOf(element);\r\n            // delete including tasks of this visit also\r\n            this.visits.splice(indexInDisplayedList, 1);\r\n            if (\r\n              !!element.planTaskCounterTableDTO &&\r\n              this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO) < 0\r\n            ) {\r\n              this.planTaskCounterTableDTODeletedList.push(element.planTaskCounterTableDTO);\r\n            }\r\n          });\r\n          this.selectedVisits = [];\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public saveTaskVisit(elements: PlanTaskCounterTableDTO[]): void {\r\n    if (this.isNewPlanCode) {\r\n      this.confirmationService.confirm({\r\n        messageKey: this.getTranslateKey('createMaintenanceProgramConfirmation'),\r\n        accept: () => {\r\n          this.addUpdateRowData(elements);\r\n          this.saveMaintenanceProgram();\r\n        }\r\n      });\r\n    } else {\r\n      this.addUpdateRowData(elements);\r\n    }\r\n    this.selectedTasks = [];\r\n    this.selectedVisits = [];\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  private checkNotIsNullOrUndefined(obj: any) {\r\n    return obj !== null && obj !== undefined;\r\n  }\r\n\r\n  private addUpdateRowData(elements: PlanTaskCounterTableDTO[]): void {\r\n    const element: PlanTaskCounterTableDTO = elements[0];\r\n\r\n    let checkExistingTaskIndex = -1;\r\n    let checkExistingVisitIndex = -1;\r\n    if (\r\n      this.checkNotIsNullOrUndefined(element.visitCode) &&\r\n      this.checkNotIsNullOrUndefined(element.visitVersion) &&\r\n      element.visitCode !== '' &&\r\n      element.visitVersion !== ''\r\n    ) {\r\n      this.visits.forEach((visit, index) => {\r\n        if (\r\n          visit.visitCode === element.visitCode &&\r\n          visit.visitVersion === element.visitVersion &&\r\n          !!visit.planTaskCounterTableDTO &&\r\n          !!visit.planTaskCounterTableDTO.birePlanTaskCounterDTO &&\r\n          !!element.birePlanTaskCounterDTO &&\r\n          visit.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ===\r\n            element.birePlanTaskCounterDTO.counterCode\r\n        ) {\r\n          checkExistingVisitIndex = index;\r\n\r\n          return;\r\n        }\r\n      });\r\n    } else if (\r\n      !!element.birePlanTaskCounterDTO &&\r\n      this.checkNotIsNullOrUndefined(element.birePlanTaskCounterDTO.taskCode) &&\r\n      this.checkNotIsNullOrUndefined(element.birePlanTaskCounterDTO.taskVersion) &&\r\n      element.birePlanTaskCounterDTO.taskCode !== '' &&\r\n      element.birePlanTaskCounterDTO.taskVersion !== ''\r\n    ) {\r\n      this.tasks.forEach((task, index) => {\r\n        if (\r\n          !!element.birePlanTaskCounterDTO &&\r\n          task.taskCode === element.birePlanTaskCounterDTO.taskCode &&\r\n          task.version === element.birePlanTaskCounterDTO.taskVersion &&\r\n          !!task.planTaskCounterTableDTO &&\r\n          !!task.planTaskCounterTableDTO.birePlanTaskCounterDTO &&\r\n          task.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode\r\n        ) {\r\n          checkExistingTaskIndex = index;\r\n\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.isCreateMode && this.popUpType === 'visit' && checkExistingVisitIndex > -1) {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnVisitAdd'));\r\n\r\n      return;\r\n    } else if (this.isCreateMode && this.popUpType === 'task' && checkExistingTaskIndex > -1) {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnTaskAdd'));\r\n\r\n      return;\r\n    }\r\n\r\n    // Add to added and updated list in save api\r\n    if (checkExistingTaskIndex < 0 && checkExistingVisitIndex < 0) {\r\n      const planTaskCounterTableDTOAddedList = [...this.planTaskCounterTableDTOAddedList];\r\n      planTaskCounterTableDTOAddedList.forEach((obj, indexOfTask) => {\r\n        if (\r\n          obj.birePlanTaskCounterDTO &&\r\n          element.birePlanTaskCounterDTO &&\r\n          obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&\r\n          obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&\r\n          obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode\r\n        ) {\r\n          this.planTaskCounterTableDTOAddedList.splice(indexOfTask, 1);\r\n        }\r\n      });\r\n      this.planTaskCounterTableDTOAddedList.push(element);\r\n\r\n      const planTaskCounterTableDTODeletedList = [...this.planTaskCounterTableDTODeletedList];\r\n      planTaskCounterTableDTODeletedList.forEach((obj, indexOfDeletedTask) => {\r\n        if (\r\n          obj.birePlanTaskCounterDTO &&\r\n          element.birePlanTaskCounterDTO &&\r\n          obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&\r\n          obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&\r\n          obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode\r\n        ) {\r\n          this.planTaskCounterTableDTODeletedList.splice(indexOfDeletedTask, 1);\r\n        }\r\n      });\r\n    } else {\r\n      // Check if newly added from added if exists\r\n      let isFound = false;\r\n      const planTaskCounterTableDTOAddedList = [...this.planTaskCounterTableDTOAddedList];\r\n      planTaskCounterTableDTOAddedList.forEach((obj, indexOfTask) => {\r\n        if (\r\n          obj.birePlanTaskCounterDTO &&\r\n          element.birePlanTaskCounterDTO &&\r\n          obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&\r\n          obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&\r\n          obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode\r\n        ) {\r\n          this.planTaskCounterTableDTOAddedList[indexOfTask] = element;\r\n          isFound = true;\r\n        }\r\n      });\r\n\r\n      if (!isFound) {\r\n        const planTaskCounterTableDTOUpdatedList = [...this.planTaskCounterTableDTOUpdatedList];\r\n        planTaskCounterTableDTOUpdatedList.forEach((obj, indexOfTask) => {\r\n          if (\r\n            obj.birePlanTaskCounterDTO &&\r\n            element.birePlanTaskCounterDTO &&\r\n            obj.birePlanTaskCounterDTO.taskCode === element.birePlanTaskCounterDTO.taskCode &&\r\n            obj.birePlanTaskCounterDTO.taskVersion === element.birePlanTaskCounterDTO.taskVersion &&\r\n            obj.birePlanTaskCounterDTO.counterCode === element.birePlanTaskCounterDTO.counterCode\r\n          ) {\r\n            this.planTaskCounterTableDTOUpdatedList.splice(indexOfTask, 1);\r\n          }\r\n        });\r\n        this.planTaskCounterTableDTOUpdatedList.push(element);\r\n      }\r\n    }\r\n\r\n    // convert to task row\r\n    const itemObj: TaskVisitTableRow[] = [];\r\n    elements.forEach((item) => {\r\n      let index = 0;\r\n      if (this.popUpType === 'task') {\r\n        index = checkExistingTaskIndex === -1 ? this.tasks.length : checkExistingTaskIndex;\r\n      } else if (this.popUpType === 'visit') {\r\n        index = checkExistingVisitIndex === -1 ? this.visits.length : checkExistingVisitIndex;\r\n      }\r\n      const temp = this.convertPlanTaskCounterTableDTOToRow(item, index);\r\n      if (!!temp) {\r\n        itemObj.push(temp);\r\n      }\r\n    });\r\n\r\n    // Check AMP compliance when a task/visit is validated\r\n    if (this.relatedRecommendedMaintenancePlanCode) {\r\n      this.validateCompliance(itemObj, checkExistingVisitIndex, checkExistingTaskIndex);\r\n    } else {\r\n      this.setTaskvisitRow(itemObj, checkExistingVisitIndex, checkExistingTaskIndex);\r\n    }\r\n  }\r\n\r\n  private setTaskvisitRow(items: TaskVisitTableRow[], visitIndex: number, taskIndex: number) {\r\n    const itemObj: TaskVisitTableRow = items[0];\r\n    // just to verify if item is visit\r\n    if (!!itemObj.visitCode) {\r\n      if (visitIndex > -1) {\r\n        this.visits[visitIndex] = this.appendTasksToVisit(items, visitIndex)[0];\r\n      } else {\r\n        this.visits = this.visits.concat(this.appendTasksToVisit(items, this.visits.length));\r\n      }\r\n    } else {\r\n      if (taskIndex > -1) {\r\n        this.tasks[taskIndex] = itemObj;\r\n      } else {\r\n        this.tasks = this.tasks.concat(items);\r\n      }\r\n    }\r\n  }\r\n\r\n  private appendTasksToVisit(newVisits: TaskVisitTableRow[], visitIndex: number): TaskVisitTableRow[] {\r\n    this.rowGroupVisit = this.createRowGroupVisit(newVisits);\r\n    const visit: TaskVisitTableRow[] = [];\r\n    this.rowGroupVisit.forEach((element, index) => {\r\n      const vistsTask = { ...element.tasks[0] };\r\n      vistsTask.visitbloc = visitIndex;\r\n      vistsTask.visitTasks = element.tasks || [];\r\n      vistsTask.taskType = 'Visit';\r\n      vistsTask.taskTypeCode = AWPropertiesConstants.TASK_TYPE_VISIT_KEY;\r\n      visit.push(vistsTask);\r\n    });\r\n\r\n    return visit;\r\n  }\r\n\r\n  public initMeasureUnit(): void {\r\n    this.isUnitFh = true;\r\n    this.propertiesService\r\n      .getValue(GenericPropertyConstants.AEROWEBB_CONFIGURATION_MAP)\r\n      .subscribe((awConfiguration) => {\r\n        if (\r\n          SettingsUtils.isPropertyEnabled(\r\n            awConfiguration,\r\n            AWPropertiesConstants.REFERENTIAL_ALERT_THRESHOLD_IS_PERCENTAGE\r\n          )\r\n        ) {\r\n          this.isUnitFh = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  private calculateFhValueFromPercentage(\r\n    percent: number,\r\n    periodicityFirst: number | undefined,\r\n    periodicity: number | undefined\r\n  ): number {\r\n    if (!!periodicity) {\r\n      return (\r\n        Math.round(\r\n          ((percent * periodicity) / MaintenanceProgramFormComponent.PERCENTAGE_CONST) *\r\n            MaintenanceProgramFormComponent.ONE_DECIMAL_ROUND\r\n        ) / MaintenanceProgramFormComponent.ONE_DECIMAL_ROUND\r\n      );\r\n    }\r\n\r\n    if (!!periodicityFirst) {\r\n      return (\r\n        Math.round(\r\n          ((percent * periodicityFirst) / MaintenanceProgramFormComponent.PERCENTAGE_CONST) *\r\n            MaintenanceProgramFormComponent.ONE_DECIMAL_ROUND\r\n        ) / MaintenanceProgramFormComponent.ONE_DECIMAL_ROUND\r\n      );\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  private convertPlanTaskCounterTableDTOToRow(\r\n    element: PlanTaskCounterTableDTO,\r\n    rowIndex: number\r\n  ): TaskVisitTableRow | undefined {\r\n    if (!!element.bireTaskDTO && !!element.birePlanTaskCounterDTO && !!element.birePlanTaskCounterDTO.counterCode) {\r\n      const tempReference = this.referencesMap.get(element.birePlanTaskCounterDTO.counterCode);\r\n\r\n      const itemObj: TaskVisitTableRow = {\r\n        taskCode: element.bireTaskDTO.taskCode || '',\r\n        visitCode: element.visitCode || '',\r\n        planCode: element.birePlanTaskCounterDTO.planCode,\r\n        version: element.bireTaskDTO.taskVersion || '',\r\n        visitVersion: element.visitVersion || '',\r\n        designation: element.bireTaskDTO.taskDesignation || '',\r\n        taskGroup: element.bireTaskDTO.groupCode && this.taskGroupMap.get(element.bireTaskDTO.groupCode),\r\n        taskType: element.bireTaskDTO.taskTypeCode && this.taskTypeMap.get(element.bireTaskDTO.taskTypeCode),\r\n        taskTypeCode: element.bireTaskDTO.taskTypeCode,\r\n        groupCode: element.birePlanTaskCounterDTO.groupCode,\r\n        reference: (element.birePlanTaskCounterDTO.counterCode && tempReference) || '',\r\n        firstPeriodicity: element.birePlanTaskCounterDTO.periodicityFirst || 0,\r\n        periodicity: element.birePlanTaskCounterDTO.periodicity || 0,\r\n        unit: this.unitCodeMap.get(element.birePlanTaskCounterDTO.counterCode),\r\n        periodicityType:\r\n          element.birePlanTaskCounterDTO.periodicityType &&\r\n          this.periodicityTypeMap.get(element.birePlanTaskCounterDTO.periodicityType),\r\n        tolerance: element.birePlanTaskCounterDTO.tolerance || 0,\r\n        alertThreshold: element.birePlanTaskCounterDTO.threshold || 0,\r\n        comments: this.getDisplayComments(element.birePlanTaskCounterDTO.comments || ''),\r\n        compliance: element.complianceLight || undefined,\r\n        planTaskCounterTableDTO: element,\r\n        isRemovable: element.isRemovable,\r\n        visitTasks: [],\r\n        visitDesignation: element.visitDesignation || '',\r\n        expand: false,\r\n        showMore: false,\r\n        childRow: [\r\n          {\r\n            comments: this.getDisplayComments(element.birePlanTaskCounterDTO.comments || ''),\r\n            firstPeriodicity: element.birePlanTaskCounterDTO.periodicityFirst,\r\n            groupCode: element.birePlanTaskCounterDTO.groupCode,\r\n            periodicityType:\r\n              element.birePlanTaskCounterDTO.periodicityType &&\r\n              this.periodicityTypeMap.get(element.birePlanTaskCounterDTO.periodicityType),\r\n            taskType: element.bireTaskDTO.taskTypeCode && this.taskTypeMap.get(element.bireTaskDTO.taskTypeCode),\r\n            taskTypeCode: element.bireTaskDTO.taskTypeCode\r\n          }\r\n        ],\r\n        dataKey: rowIndex,\r\n        complianceDetail: element.complianceDetail\r\n      };\r\n\r\n      if (this.isUnitFh && !!itemObj.alertThreshold && (!!itemObj.periodicity || !!itemObj.firstPeriodicity)) {\r\n        itemObj.alertThreshold = this.calculateFhValueFromPercentage(\r\n          itemObj.alertThreshold,\r\n          itemObj.firstPeriodicity,\r\n          itemObj.periodicity\r\n        );\r\n      }\r\n\r\n      return itemObj;\r\n    }\r\n  }\r\n\r\n  public getDisplayComments(comment: string): string {\r\n    try {\r\n      if (comment) {\r\n        const commentObj = JSON.parse(comment);\r\n        if (commentObj && commentObj.length === 1) {\r\n          return commentObj[0].comment;\r\n        } else if (commentObj && commentObj.length > 1) {\r\n          return !!commentObj[0].comment ? commentObj[0].comment : comment;\r\n        }\r\n      }\r\n\r\n      return '';\r\n    } catch (e) {\r\n      return comment;\r\n    }\r\n  }\r\n\r\n  public assignAssets(): void {\r\n    if (\r\n      !this.currentMaintenancePlan.planValidityEndDate ||\r\n      new Date(this.currentMaintenancePlan.planValidityEndDate).getTime() > new Date().getTime()\r\n    ) {\r\n      this.isReadOnlyAssetDialog = false;\r\n      this.showAssetPopup = true;\r\n      this.dataAsset = {\r\n        componentId: 'AssignAssetsPopupFormComponent',\r\n        selectedRow: undefined,\r\n        object: this.currentMaintenancePlan,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorValidityExpire'));\r\n    }\r\n  }\r\n\r\n  public createAmp(): void {\r\n    if (!!this.currentMaintenancePlan.planCode) {\r\n      this.maintenanceProgramFormService.generateAMPFromRMP(this.currentMaintenancePlan.planCode).subscribe((anAMP) => {\r\n        if (!!anAMP) {\r\n          this.currentMaintenancePlan.ampplanCode = anAMP.planCode;\r\n          this.relatedApplicableMaintenancePlanCode = anAMP.planCode;\r\n          this.showCreateAmpButton = false;\r\n\r\n          // Check if there is a previous revision available to propose to fetch customization\r\n          this.maintenanceProgramFormService\r\n            .getPreviousRMPRevisionOfMaintenancePlan(this.currentMaintenancePlan)\r\n            .subscribe((previousRMP) => {\r\n              if (previousRMP && previousRMP.ampplanCode) {\r\n                // Ask for retrieval of customization\r\n                this.confirmationService.confirm({\r\n                  messageKey: this.getTranslateKey('createCustomizeAmp'),\r\n                  accept: () => {\r\n                    this.maintenanceProgramFormService\r\n                      .applyPreviousAMPCustomizationOnAMP(this.currentMaintenancePlan)\r\n                      .subscribe(() => {\r\n                        this.messageService.showSuccessMessage(this.getTranslateKey('customizationAmpSuccessful'));\r\n                      });\r\n                  }\r\n                });\r\n              }\r\n            });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public checkAmpComplianceWithRmp(): void {\r\n    let checkAMPComplianceRMPInput: CheckAMPComplianceRMPInput;\r\n\r\n    checkAMPComplianceRMPInput = {\r\n      recommendedMaintenancePlanCode: this.relatedRecommendedMaintenancePlanCode,\r\n      applicableMaintenancePlanCode: this.planCode\r\n    };\r\n\r\n    this.isLoadingTaskTable = true;\r\n    this.isLoadingVisitTable = true;\r\n    this.maintenanceProgramFormService.controlComplianceWithRMP(checkAMPComplianceRMPInput).subscribe((result) => {\r\n      this.complianceColor = result && result.maintenancePlanControlIcon;\r\n      // Update compliance data in task & visit Table\r\n      if (result && result.updatedPlanTaskCounterTableDTOs) {\r\n        this.loadTasksRows(result.updatedPlanTaskCounterTableDTOs);\r\n        this.isLoadingTaskTable = false;\r\n        this.loadVisitsRows(result.updatedPlanTaskCounterTableDTOs);\r\n        this.isLoadingVisitTable = false;\r\n      }\r\n      if (result && result.missingPlanTaskCounterTableDTOs) {\r\n        this.loadMissingTasksRows(result.missingPlanTaskCounterTableDTOs);\r\n        this.loadMissingVisitsRows(result.missingPlanTaskCounterTableDTOs);\r\n      }\r\n    });\r\n  }\r\n\r\n  public saveMaintenanceProgram(): void {\r\n    if (\r\n      this.currentMaintenancePlan.planCode &&\r\n      this.currentMaintenancePlan.planName &&\r\n      this.currentMaintenancePlan.planRevisionNumber\r\n    ) {\r\n      const saveMaintenanceProgramScreenInput: SaveMaintenanceProgramScreenInput = {\r\n        mpCodeSelected: this.currentMaintenancePlan.planCode,\r\n        isForUpdate: !this.isNewPlanCode,\r\n        statusSelected: this.selectedStatus\r\n      };\r\n\r\n      saveMaintenanceProgramScreenInput.isForUpdate = !this.isNewPlanCode;\r\n      saveMaintenanceProgramScreenInput.bireMaintenancePlanDTO = this.currentMaintenancePlan;\r\n      // update status\r\n      saveMaintenanceProgramScreenInput.bireMaintenancePlanDTO.statusState = this.selectedStatus;\r\n      if (!!this.sessionService.loggedUser) {\r\n        const login = this.sessionService.loggedUser.login;\r\n        saveMaintenanceProgramScreenInput.bireMaintenancePlanDTO.statusUser = login;\r\n      }\r\n      saveMaintenanceProgramScreenInput.itemsAssociatedTableDTOAddedList = this.itemsAssociatedTableDTOAddedList;\r\n      saveMaintenanceProgramScreenInput.itemsAssociatedTableDTODeletedList = this.itemsAssociatedTableDTODeletedList;\r\n      saveMaintenanceProgramScreenInput.partAssociateTableDTOAddedList = this.partAssociateTableDTOAddedList;\r\n      saveMaintenanceProgramScreenInput.partAssociateTableDTODeletedList = this.partAssociateTableDTODeletedList;\r\n      saveMaintenanceProgramScreenInput.planTaskCounterTableDTOAddedList = this.planTaskCounterTableDTOAddedList;\r\n      saveMaintenanceProgramScreenInput.planTaskCounterTableDTODeletedList = this.planTaskCounterTableDTODeletedList;\r\n      saveMaintenanceProgramScreenInput.planTaskCounterTableDTOUpdatedList = this.planTaskCounterTableDTOUpdatedList;\r\n\r\n      const bireAttributeDtos: BirePlanAttributeDTO[] = this.dynamicAttributesService.toBirePlanAttribute(\r\n        this.currentMaintenancePlan.planCode,\r\n        this.dynamicAttributesForMaintenancePlan\r\n      );\r\n\r\n      saveMaintenanceProgramScreenInput.birePlanAttributeDTOAddedList = [];\r\n      saveMaintenanceProgramScreenInput.birePlanAttributeDTOUpdatedList = [];\r\n      saveMaintenanceProgramScreenInput.birePlanAttributeDTODeletedList = [];\r\n\r\n      if (bireAttributeDtos !== null && bireAttributeDtos !== undefined) {\r\n        bireAttributeDtos.forEach((attr) => {\r\n          if (!attr.attributeValue) {\r\n            if (\r\n              attr.attributeId &&\r\n              this.planAttributeIdValueMap.get(attr.attributeId) &&\r\n              saveMaintenanceProgramScreenInput.birePlanAttributeDTODeletedList\r\n            ) {\r\n              saveMaintenanceProgramScreenInput.birePlanAttributeDTODeletedList.push(attr);\r\n            }\r\n          } else {\r\n            if (attr.attributeId && this.planAttributeIdValueMap.get(attr.attributeId)) {\r\n              if (saveMaintenanceProgramScreenInput.birePlanAttributeDTOUpdatedList) {\r\n                saveMaintenanceProgramScreenInput.birePlanAttributeDTOUpdatedList.push(attr);\r\n              }\r\n            } else {\r\n              if (saveMaintenanceProgramScreenInput.birePlanAttributeDTOAddedList) {\r\n                saveMaintenanceProgramScreenInput.birePlanAttributeDTOAddedList.push(attr);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      saveMaintenanceProgramScreenInput.bireTaskTaskDTO = [];\r\n      this.showSaveSpinner = true;\r\n      this.maintenanceProgramFormService.saveMaintenanceProgram(saveMaintenanceProgramScreenInput).subscribe(\r\n        (result) => {\r\n          this.currentMaintenancePlan.planCode = result;\r\n          if (this.isNewPlanCode) {\r\n            this.updateComponentOpenMode();\r\n          } else {\r\n            this.loadOnInit();\r\n          }\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnSaveProgram'));\r\n          this.updateOpenMode(ComponentOpenMode.Read);\r\n          this.showSaveSpinner = false;\r\n        },\r\n        (error) => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnSaveProgram'));\r\n          this.showSaveSpinner = false;\r\n        }\r\n      );\r\n\r\n      if (\r\n        this.currentMaintenancePlan.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY &&\r\n        this.sessionService.isSpecificMHIAEL\r\n      ) {\r\n        this.maintenanceProgramFormMhiaelService\r\n          .updateInMassRMPSubObjectStatus(this.currentMaintenancePlan)\r\n          .subscribe();\r\n        this.maintenanceProgramFormMhiaelService.updateRMPCsv(this.currentMaintenancePlan).subscribe();\r\n      }\r\n    } else {\r\n      // If plan is new, clear tables\r\n      if (!this.componentData.objectId) {\r\n        this.parts = [];\r\n        this.items = [];\r\n        this.tasks = [];\r\n        this.visits = [];\r\n      }\r\n      this.messageService.showErrorMessage('global.missingFields');\r\n    }\r\n  }\r\n\r\n  private updateComponentOpenMode(): void {\r\n    if (!!this.currentMaintenancePlan.planCode && !!this.componentData) {\r\n      const birePlanDTOId: BireMaintenancePlanDTOId = {\r\n        planCode: this.currentMaintenancePlan.planCode\r\n      };\r\n\r\n      this.componentData.openMode = ComponentOpenMode.Write;\r\n      this.componentData.objectId = this.serializationService.serialize(birePlanDTOId);\r\n      this.componentData.componentId = ComponentConstants.ENG_MAINTENANCE_PROGRAM_FORM;\r\n      this.ngOnInit();\r\n    }\r\n  }\r\n\r\n  private checkAssetsAndCreateAmpVisibility(): void {\r\n    this.getCeateAMPVisibility();\r\n    this.getAssignAssetsVisibility();\r\n  }\r\n\r\n  public openMaintenanceProgram(planCode: string): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_MAINTENANCE_PROGRAM_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    if (!!planCode) {\r\n      const birePlanDTOId: BireMaintenancePlanDTOId = {\r\n        planCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(birePlanDTOId);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openItemCode(itemCode: string): void {\r\n    // TODO: open item screen\r\n    return;\r\n  }\r\n\r\n  public openPartCode(pnCode: string, pnType: string): void {\r\n    if (pnType === '4-par') {\r\n      const labelKey = 'transaction.PartNumberFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'PartNumberFormComponent',\r\n        objectId: pnCode,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else {\r\n      const materialFormId: BirePnDTO = {\r\n        pnCode,\r\n        pnType\r\n      };\r\n      const labelKey = 'transaction.MaterialFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'MaterialFormComponent',\r\n        objectId: this.serializationService.serialize(materialFormId),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openVisitOrTaskCode(object: PlanTaskCounterTableDTO, type: string): void {\r\n    if (!!object.visitCode) {\r\n      const labelKey = 'transaction.VisitFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'VisitFormComponent',\r\n        objectId: this.serializationService.serialize(object.birePlanTaskCounterDTO),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else {\r\n      const labelKey = 'transaction.TaskFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'TaskFormComponent',\r\n        objectId: this.serializationService.serialize(object.birePlanTaskCounterDTO),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public checkUpgradeMaintenancePlan(): void {\r\n    if (\r\n      this.currentMaintenancePlan.planRevisionNumber !== null &&\r\n      this.currentMaintenancePlan.planRevisionNumber !== undefined &&\r\n      !isNaN(Number(this.currentMaintenancePlan.planRevisionNumber))\r\n    ) {\r\n      this.upgradeMaintenancePlan();\r\n    } else {\r\n      this.showUpgradePopup = true;\r\n    }\r\n  }\r\n  public upgradeMaintenancePlan(): void {\r\n    const upgradeBireMaintenancePlanInput: UpgradeBireMaintenancePlanInput = {\r\n      currentRevisionNumber: this.currentMaintenancePlan.planRevisionNumber,\r\n      planCode: this.currentMaintenancePlan.planCode\r\n    };\r\n    this.maintenanceProgramFormService\r\n      .checkAndReturnNewRevisionNumberByMaintenancePlan(upgradeBireMaintenancePlanInput)\r\n      .subscribe((newerVersionDTO) => {\r\n        this.confirmAndUpgradeVersion(newerVersionDTO);\r\n      });\r\n  }\r\n  private confirmAndUpgradeVersion(newerVersionDTO: UpgradedMaintenacePlanDTO | undefined) {\r\n    const partialMessageKey = this.getTranslateKey('upgradeConfirmation');\r\n    // TODO: need to add util to get complete plan code\r\n    this.confirmationService.confirm({\r\n      interpolateParams: { planRevision: newerVersionDTO && newerVersionDTO.planCode },\r\n      messageKey: partialMessageKey,\r\n      accept: () => {\r\n        if (this.currentMaintenancePlan.planCode) {\r\n          const upgradeBireMaintenancePlan: UpgradeBireMaintenancePlanInput = {\r\n            bireMaintenancePlanDTOId: {\r\n              planCode: this.currentMaintenancePlan.planCode\r\n            },\r\n            targetRevisionNumber: newerVersionDTO && newerVersionDTO.revisionNumber\r\n          };\r\n          this.maintenanceProgramFormService\r\n            .upgradeBireMaintenancePlanData(upgradeBireMaintenancePlan)\r\n            .subscribe((upgradePlanDTO) => {\r\n              if (!!this.componentData) {\r\n                this.componentData.objectId = this.serializationService.serialize({\r\n                  planCode: upgradePlanDTO.planCode\r\n                });\r\n              }\r\n              this.loadOnInit();\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  public manualUpgradeMaintenancePlan(newVersion: string): void {\r\n    if (this.currentMaintenancePlan.planCode) {\r\n      const splitPlanCode = this.currentMaintenancePlan.planCode.split(':');\r\n      splitPlanCode.pop();\r\n      this.confirmAndUpgradeVersion({\r\n        planCode: splitPlanCode.join(':') + ':' + newVersion,\r\n        revisionNumber: newVersion\r\n      });\r\n    }\r\n  }\r\n  public getCeateAMPVisibility(): void {\r\n    // Consult mode?\r\n    if (this.isConsultMode) {\r\n      this.showCreateAmpButton = false;\r\n\r\n      return;\r\n    }\r\n\r\n    // AMP ?\r\n    if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n      this.showCreateAmpButton = false;\r\n\r\n      return;\r\n    }\r\n    // RMP with already an AMP ?\r\n    if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP && this.relatedApplicableMaintenancePlanCode) {\r\n      this.showCreateAmpButton = false;\r\n\r\n      return;\r\n    }\r\n    // RMP status not approved\r\n    if (\r\n      this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP &&\r\n      AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY !== this.currentMaintenancePlan.statusState\r\n    ) {\r\n      this.showCreateAmpButton = false;\r\n\r\n      return;\r\n    }\r\n    // RMP with assigned Assets?\r\n    if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP && this.hasRelatedBidoMaintenancePlan) {\r\n      this.showCreateAmpButton = false;\r\n\r\n      return;\r\n    }\r\n    this.showCreateAmpButton = true;\r\n  }\r\n\r\n  public getAssignAssetsVisibility(): void {\r\n    this.maintenanceProgramFormService\r\n      .hasDisplayRights(BidoFunctionTypeConstants.UC_FM_AIRWORTHINESS)\r\n      .subscribe((result) => {\r\n        this.showAssignAssetsButton = false;\r\n\r\n        if (\r\n          AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY === this.currentMaintenancePlan.statusState &&\r\n          this.planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP\r\n        ) {\r\n          this.showAssignAssetsButton = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  public addMissingTasks(): void {\r\n    this.selectedRemovedTasks.forEach((element) => {\r\n      const existingTask = this.tasks.filter((taskAndVisit) => {\r\n        return (\r\n          taskAndVisit.taskCode === element.taskCode &&\r\n          taskAndVisit.version === element.version &&\r\n          taskAndVisit.reference === element.reference\r\n        );\r\n      });\r\n\r\n      if (existingTask.length === 0) {\r\n        if (\r\n          !!element.planTaskCounterTableDTO &&\r\n          this.planTaskCounterTableDTOAddedList.indexOf(element.planTaskCounterTableDTO) < 0\r\n        ) {\r\n          this.planTaskCounterTableDTOAddedList.push(element.planTaskCounterTableDTO);\r\n          this.tasks.push(element);\r\n        }\r\n      }\r\n      if (!!element.planTaskCounterTableDTO) {\r\n        const indexOfDeletedTask = this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO);\r\n        if (indexOfDeletedTask > -1) {\r\n          this.planTaskCounterTableDTODeletedList.splice(indexOfDeletedTask, 1);\r\n        }\r\n      }\r\n      const indexInDisplayedList = this.removedTasks.indexOf(element);\r\n      this.removedTasks.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedRemovedTasks = [];\r\n    this.selectedTasks = [];\r\n  }\r\n\r\n  public addMissingVisits(): void {\r\n    this.selectedRemovedVisits.forEach((element) => {\r\n      const existingVisit = this.visits.filter((taskAndVisit) => {\r\n        return (\r\n          taskAndVisit.visitCode === element.visitCode &&\r\n          taskAndVisit.visitVersion === element.visitVersion &&\r\n          taskAndVisit.reference === element.reference\r\n        );\r\n      });\r\n\r\n      if (existingVisit.length === 0) {\r\n        if (\r\n          !!element.planTaskCounterTableDTO &&\r\n          this.planTaskCounterTableDTOAddedList.indexOf(element.planTaskCounterTableDTO) < 0\r\n        ) {\r\n          this.planTaskCounterTableDTOAddedList.push(element.planTaskCounterTableDTO);\r\n          element.visitbloc = this.visits.length;\r\n          this.visits.push(element);\r\n        }\r\n      }\r\n\r\n      // if item is already deleted and then added, remove it from deleted list as well\r\n      if (!!element.planTaskCounterTableDTO) {\r\n        const indexOfDeletedVisit = this.planTaskCounterTableDTODeletedList.indexOf(element.planTaskCounterTableDTO);\r\n        if (indexOfDeletedVisit > -1) {\r\n          this.planTaskCounterTableDTODeletedList.splice(indexOfDeletedVisit, 1);\r\n        }\r\n      }\r\n      const indexInDisplayedList = this.removedVisits.indexOf(element);\r\n      this.removedVisits.splice(indexInDisplayedList, 1);\r\n    });\r\n    this.selectedRemovedVisits = [];\r\n    this.selectedVisits = [];\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    this.showStatusUpdatesPopup = true;\r\n  }\r\n\r\n  public showStatus(): void {\r\n    const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n      content: ObjectStatusComponent,\r\n      data: {\r\n        currentAuthor: this.currentMaintenancePlan.statusUser,\r\n        currentDate: this.currentMaintenancePlan.statusDate,\r\n        currentStatus: {\r\n          label: this._formatSelectOption.transform(this.currentMaintenancePlan.statusState, this.workflowStatus),\r\n          value: this.currentMaintenancePlan.statusState\r\n        },\r\n        nextStatuses: this.workflowStatus\r\n      }\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          this.selectedStatus = event.data;\r\n          this.save();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private validationAssetConfirmation(): void {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('setPreviousAssetConfirmation'),\r\n      accept: () => {\r\n        this.setPreviousAssetData();\r\n      },\r\n      reject: () => {\r\n        this.saveMaintenanceProgram();\r\n        this.setContext(ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  private getPreviousAssetData(amp: BireMaintenancePlanDTO): void {\r\n    this.maintenanceProgramFormService.getPreviousAMPRevisionOfMaintenancePlan(amp).subscribe((previousAMP) => {\r\n      if (previousAMP) {\r\n        if (\r\n          previousAMP.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY &&\r\n          !this.isAnteriorVersionWithApprovedAssetsFound\r\n        ) {\r\n          this.isAnteriorVersionWithApprovedAssetsFound = true;\r\n          this.maintenanceProgramApprovedAsset = previousAMP;\r\n        }\r\n        this.maintenanceProgramFormService\r\n          .findBidoEquipmentsEligibleToMaintenancePlan(previousAMP)\r\n          .subscribe((results) => {\r\n            if (!this.isAnteriorVersionWithAssetsFound) {\r\n              results.forEach((res) => {\r\n                if (res.isAssigned) {\r\n                  this.previousMaintenanceProgramAssets.push(res);\r\n                }\r\n              });\r\n\r\n              if (this.previousMaintenanceProgramAssets.length > 0) {\r\n                this.isAnteriorVersionWithAssetsFound = true;\r\n              } else {\r\n                this.getPreviousAssetData(previousAMP);\r\n              }\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  private getAssetData(): void {\r\n    this.isCurrentMaintenanceProgramHasAssets = false;\r\n    this.currentMaintenanceProgramAssets = [];\r\n\r\n    this.maintenanceProgramFormService\r\n      .findBidoEquipmentsEligibleToMaintenancePlan(this.currentMaintenancePlan)\r\n      .subscribe((results) => {\r\n        results.forEach((res) => {\r\n          if (res.isAssigned) {\r\n            this.currentMaintenanceProgramAssets.push(res);\r\n          }\r\n        });\r\n\r\n        if (this.currentMaintenanceProgramAssets.length > 0) {\r\n          this.isCurrentMaintenanceProgramHasAssets = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  private setPreviousAssetData(): void {\r\n    const maintenancePlanAssignedList: MaintenancePlanDTO[] = [];\r\n\r\n    this.previousMaintenanceProgramAssets.forEach((element) => {\r\n      const maintenancePlan: MaintenancePlanDTO = {\r\n        planCode: element.planCode,\r\n        equipmentCode: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentCode\r\n      };\r\n\r\n      maintenancePlanAssignedList.push(maintenancePlan);\r\n    });\r\n\r\n    const inputObj: AssetAssignmentMPSaveInput = {\r\n      planCode: this.currentMaintenancePlan.planCode,\r\n      maintenancePlanDTOsAssignedList: maintenancePlanAssignedList,\r\n      maintenancePlanDTOsUnAssignedList: []\r\n    };\r\n\r\n    this.maintenanceProgramFormService.saveAssetAssignedToMaintenancePlan(inputObj).subscribe(() => {\r\n      this.saveMaintenanceProgram();\r\n      this.setContext(ComponentOpenMode.Read);\r\n    });\r\n  }\r\n\r\n  public approveAmp(): void {\r\n    let checkAMPComplianceRMPInput: CheckAMPComplianceRMPInput;\r\n    checkAMPComplianceRMPInput = {\r\n      recommendedMaintenancePlanCode: this.relatedRecommendedMaintenancePlanCode,\r\n      applicableMaintenancePlanCode: this.planCode\r\n    };\r\n    this.maintenanceProgramFormService.controlComplianceWithRMP(checkAMPComplianceRMPInput).subscribe((result) => {\r\n      this.complianceColor = result && result.maintenancePlanControlIcon;\r\n      if (this.complianceColor === 'green') {\r\n        this.selectedStatus = AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY;\r\n        this.saveMaintenanceProgram();\r\n      } else {\r\n        // Update compliance data in task & visit Table\r\n        if (result && result.updatedPlanTaskCounterTableDTOs) {\r\n          this.loadTasksRows(result.updatedPlanTaskCounterTableDTOs);\r\n          this.loadVisitsRows(result.updatedPlanTaskCounterTableDTOs);\r\n        }\r\n        if (result && result.missingPlanTaskCounterTableDTOs) {\r\n          this.loadMissingTasksRows(result.missingPlanTaskCounterTableDTOs);\r\n          this.loadMissingVisitsRows(result.missingPlanTaskCounterTableDTOs);\r\n        }\r\n        this.messageService.showErrorMessage(this.getTranslateKey('ampNotApproved'));\r\n      }\r\n    });\r\n  }\r\n\r\n  public checkTasks(): void {\r\n    this.enableTaskDelete = true;\r\n    this.selectedTasks.every((task) => {\r\n      if (task.isRemovable === false) {\r\n        this.enableTaskDelete = false;\r\n\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n  }\r\n\r\n  public checkVisits(): void {\r\n    this.enableVisitDelete = true;\r\n    this.selectedVisits.every((task) => {\r\n      if (task.isRemovable === false) {\r\n        this.enableVisitDelete = false;\r\n\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n  }\r\n\r\n  public refreshAfterAssetAssignment(event: boolean): void {\r\n    this.loadOnInit();\r\n  }\r\n\r\n  public save(): void {\r\n    if (this.selectedStatus === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY) {\r\n      if (!!this.currentMaintenancePlan.planCode) {\r\n        if (this.isAnteriorVersionWithAssetsFound && this.planType === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n          this.validationAssetConfirmation();\r\n        } else {\r\n          this.saveMaintenanceProgram();\r\n          this.setContext(ComponentOpenMode.Read);\r\n        }\r\n      }\r\n    } else if (this.currentMaintenancePlan.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY) {\r\n      // RMP\r\n      if (this.planType === BireMaintenancePlanConstants.PLAN_TYPE_RMP) {\r\n        if (!this.isAmpOfRmpApproved) {\r\n          this.saveMaintenanceProgram();\r\n        } else {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnDisapprovingRMP'));\r\n        }\r\n        // AMP\r\n      } else {\r\n        if (!this.isCurrentMaintenanceProgramHasAssets) {\r\n          this.saveMaintenanceProgram();\r\n        } else {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnDisapprovingAMP'));\r\n        }\r\n      }\r\n    } else {\r\n      this.saveMaintenanceProgram();\r\n    }\r\n  }\r\n\r\n  private setContext(openMode?: number) {\r\n    if (!this.componentData.objectId) {\r\n      this.componentData.openMode = ComponentOpenMode.Create;\r\n    } else {\r\n      this.componentData.openMode = ComponentOpenMode.Read;\r\n    }\r\n    this.updateOpenMode(openMode ? openMode : this.componentData.openMode);\r\n  }\r\n\r\n  public toggleRowDetailsVisibility(row: TaskVisitTableRow): void {\r\n    row.showMore = false;\r\n    row.expand = !row.expand;\r\n  }\r\n\r\n  public toggleShowMoreRowDetailsVisibility(row: TaskVisitTableRow): void {\r\n    row.expand = false;\r\n    row.showMore = !row.showMore;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onTasksFilter(event: any): void {\r\n    this.tasksDisplayedRowNb =\r\n      this.tasks && event.filteredValue.length && this.tasks.length === event.filteredValue.length\r\n        ? undefined\r\n        : event.filteredValue.length;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onVisitsFilter(event: any): void {\r\n    this.visitsDisplayedRowNb = event.filteredValue.length;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onRemovedTasksFilter(event: any): void {\r\n    this.removedTasksDisplayedRowNb = event.filteredValue.length;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onRemovedVisitsFilter(event: any): void {\r\n    this.removedVisitsDisplayedRowNb = event.filteredValue.length;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onItemsFilter(event: any): void {\r\n    this.itemsDisplayedRowNb = event.filteredValue.length;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onPartsFilter(event: any): void {\r\n    this.partsDisplayedRowNb = event.filteredValue.length;\r\n  }\r\n\r\n  private createContentTable(): void {\r\n    this.toc = [\r\n      {\r\n        id: 'mainDataAnchor',\r\n        anchor: this.mainDataAnchor,\r\n        label: this.translateService.instant('page.mainData')\r\n      },\r\n      {\r\n        id: 'taskAnchor',\r\n        anchor: this.taskAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('tasks'))\r\n      },\r\n      {\r\n        id: 'visitAnchor',\r\n        anchor: this.visitAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('visits'))\r\n      },\r\n      {\r\n        id: 'generalAnchor',\r\n        anchor: this.generalAnchor,\r\n        label: this.translateService.instant('page.additionalData')\r\n      },\r\n      {\r\n        id: 'documentsAnchor',\r\n        anchor: this.documentsAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('documents'))\r\n      }\r\n    ];\r\n\r\n    const SET_TIME_OUT = 500;\r\n\r\n    setTimeout(() => {\r\n      this.setSelectedAnchor('mainDataAnchor');\r\n    }, SET_TIME_OUT);\r\n  }\r\n\r\n  public isSelectedAnchor(anchorId: string): boolean {\r\n    return anchorId === this.selectedAnchor;\r\n  }\r\n\r\n  public setSelectedAnchor(anchorId: string): void {\r\n    this.pageTocService.setAnchorSelected(anchorId);\r\n\r\n    this.selectedAnchor = anchorId;\r\n  }\r\n\r\n  private registerPageTocEntrySelectedObservable(): void {\r\n    this.pageTocService.pageTocEntrySelected$.pipe(takeUntil(this.unsubscribe)).subscribe((pageTocEntrySelected) => {\r\n      this.selectedAnchor = pageTocEntrySelected;\r\n    });\r\n  }\r\n\r\n  public generateTaskComment(): void {\r\n    const taskRow: TaskVisitTableRow = { ...this.selectedTasks[0] };\r\n    this.showGenerateCommentPopup = true;\r\n    this.comment = {\r\n      componentId: 'DialogGenerateCommentComponent',\r\n      selectedRow: undefined,\r\n      object:\r\n        (taskRow.planTaskCounterTableDTO && taskRow.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments) || '',\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n  }\r\n\r\n  public saveComments(comment: string) {\r\n    const row: TaskVisitTableRow = this.selectedTasks[0];\r\n    if (\r\n      row.planTaskCounterTableDTO &&\r\n      row.planTaskCounterTableDTO.birePlanTaskCounterDTO &&\r\n      row.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments !== comment\r\n    ) {\r\n      row.comments = this.getDisplayComments(comment);\r\n      row.childRow[0].comments = row.comments;\r\n      row.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments = comment;\r\n      this.planTaskCounterTableDTOUpdatedList.push(row.planTaskCounterTableDTO);\r\n    }\r\n  }\r\n\r\n  public validateCompliance(rows: TaskVisitTableRow[], visitIndex: number, taskIndex: number) {\r\n    let checkAMPComplianceRMPInput: CheckAMPComplianceRMPInput;\r\n    checkAMPComplianceRMPInput = {\r\n      recommendedMaintenancePlanCode: this.relatedRecommendedMaintenancePlanCode,\r\n      applicableMaintenancePlanCode: this.planCode,\r\n      birePlanTaskCounters: rows[0].planTaskCounterTableDTO && rows[0].planTaskCounterTableDTO.birePlanTaskCounterDTO\r\n    };\r\n\r\n    this.maintenanceProgramFormService.checkAmpTaskCompliance(checkAMPComplianceRMPInput).subscribe((result) => {\r\n      this.complianceColor = result && result.maintenancePlanControlIcon;\r\n      // Update compliance data in task & visit Table\r\n      if (result && result.updatedPlanTaskCounterTableDTOs && result.updatedPlanTaskCounterTableDTOs.length > 0) {\r\n        this.loadRowsOnValidate(result.updatedPlanTaskCounterTableDTOs, rows[0]);\r\n        this.setTaskvisitRow(rows, visitIndex, taskIndex);\r\n        this.displayCompliance();\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadRowsOnValidate(results: PlanTaskCounterTableDTO[], row: TaskVisitTableRow): void {\r\n    if (!!results && results.length > 0) {\r\n      const res = results[0];\r\n      row.complianceDetail = res.complianceDetail;\r\n      row.compliance = res.complianceLight;\r\n      row.planTaskCounterTableDTO = res;\r\n    }\r\n  }\r\n\r\n  private displayCompliance() {\r\n    const tasks = this.tasks.filter((element) => {\r\n      return element.compliance === 'red';\r\n    });\r\n    const visits = this.visits.filter((element) => {\r\n      return element.compliance === 'red';\r\n    });\r\n\r\n    if (tasks.length > 0 || visits.length > 0) {\r\n      this.complianceColor = 'red';\r\n    } else {\r\n      this.complianceColor = 'green';\r\n    }\r\n  }\r\n\r\n  private initDocumentsTableDataSource(): void {\r\n    this.documentsTableDataSource = new TableDataSourceWithHistory({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'docName',\r\n          translateKey: this.getTranslateKey('docName')\r\n        },\r\n        {\r\n          field: 'docSource',\r\n          translateKey: this.getTranslateKey('docExternal')\r\n        },\r\n        {\r\n          field: 'docExtension',\r\n          translateKey: this.getTranslateKey('docExtension')\r\n        },\r\n        {\r\n          field: 'docSize',\r\n          translateKey: this.getTranslateKey('docSize')\r\n        },\r\n        {\r\n          field: 'docPublicationDate',\r\n          translateKey: this.getTranslateKey('docPublicationDate')\r\n        },\r\n        {\r\n          field: 'docDescription',\r\n          translateKey: this.getTranslateKey('docDescription')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n    this.isReadOnlyDocumentDialog = true;\r\n    this.displayDocumentDialog = false;\r\n  }\r\n\r\n  public deleteDocuments(): void {\r\n    const partialMessageKey =\r\n      this.documentsTableDataSource.dataSelectionCount > 1\r\n        ? 'confirmDeleteSelectedDocuments'\r\n        : 'confirmDeleteSelectedDocument';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: `global.${partialMessageKey}`,\r\n      accept: () => {\r\n        this.documentsTableDataSource.deleteDataSelection();\r\n      }\r\n    });\r\n  }\r\n\r\n  public addDocument(): void {\r\n    this.currentDocument = undefined;\r\n    this.isReadOnlyDocumentDialog = false;\r\n    this.showAddDocumentDialog = true;\r\n  }\r\n\r\n  public onAddDocument(documentDTO: BireDocumentDTO): void {\r\n    const editedOrAddedDocumentRow = this.createDocumentRowFromBireDocumentDTO(documentDTO);\r\n    // We are editing an existing document\r\n    if (!!this.currentDocument) {\r\n      const oldDoc = this.documentsTableDataSource.data.find((docRow) => {\r\n        return !!this.currentDocument && docRow.docName === this.currentDocument.docName;\r\n      });\r\n      if (!!oldDoc && !!oldDoc._obj) {\r\n        this.documentsTableDataSource.replaceData(oldDoc, editedOrAddedDocumentRow);\r\n        this.currentDocument = undefined;\r\n      }\r\n    } else {\r\n      // We have just uploaded a new document\r\n      this.documentsTableDataSource.addData([editedOrAddedDocumentRow]);\r\n    }\r\n  }\r\n\r\n  public editDocument(): void {\r\n    this.currentDocument = { ...this.documentsTableDataSource.dataSelection[0] };\r\n    this.isReadOnlyDocumentDialog = false;\r\n    this.showAddDocumentDialog = true;\r\n  }\r\n\r\n  public openDocument(): void {\r\n    this.isReadOnlyDocumentDialog = true;\r\n    this.showAddDocumentDialog = true;\r\n  }\r\n\r\n  public downloadFile(document: DocumentRow): void {\r\n    if (!!document._obj) {\r\n      FileUtils.downloadFile(document._obj.docFile, document.docName);\r\n    }\r\n  }\r\n\r\n  private createDocumentRowFromBireDocumentDTO(documentDTO: BireDocumentDTO): DocumentRow {\r\n    return {\r\n      docName: documentDTO.docName,\r\n      docSource: documentDTO.docSource,\r\n      docExtension: FileUtils.getExtension(documentDTO.docName).toUpperCase(),\r\n      docSize: !!documentDTO.docFile ? FileUtils.getFormattedSize(documentDTO.docFile.length) : '',\r\n      docPublicationDate: this.dateService.dateToString(documentDTO.docPublicationDate),\r\n      docDescription: documentDTO.docDescription,\r\n      _obj: documentDTO\r\n    };\r\n  }\r\n\r\n  private createDocumentsRowsFromBireDocPlanDTO(documentsDTO: BireDocPlanDTO[]): DocumentRow[] {\r\n    return documentsDTO.map((elt) => this.createDocumentRowFromBireDocumentDTO(elt.bireDocumentDTO));\r\n  }\r\n\r\n  public saveDocPlans(): void {\r\n    const forkedObservables: Observable<void>[] = [];\r\n\r\n    // saveAddedBireDocPlan\r\n    const createBireDocPlanInputList = this.documentsTableDataSource\r\n      .getAddedList()\r\n      .map((row) => this.getCreateUpdateBireDocPlanInputFromDocumentRow(row));\r\n\r\n    if (!!createBireDocPlanInputList && createBireDocPlanInputList.length > 0) {\r\n      forkedObservables.push(this.maintenanceProgramFormService.createBireDocPlan(createBireDocPlanInputList));\r\n    }\r\n\r\n    // saveUpdatedBireDocPlan\r\n    const updateBireDocPlanInputList = this.documentsTableDataSource\r\n      .getUpdatedList()\r\n      .map((row) => this.getCreateUpdateBireDocPlanInputFromDocumentRow(row));\r\n\r\n    if (!!updateBireDocPlanInputList && updateBireDocPlanInputList.length > 0) {\r\n      forkedObservables.push(this.maintenanceProgramFormService.updateBireDocPlan(updateBireDocPlanInputList));\r\n    }\r\n\r\n    // saveDeletedBireDocPlan\r\n    const removeBireDocPlanInputList: RemoveBireDocPlanInput[] = [];\r\n    this.documentsTableDataSource.getDeletedList().forEach((row) => {\r\n      removeBireDocPlanInputList.push(this.getRemoveBireDocPlanInputFromDocumentRow(row));\r\n    });\r\n\r\n    if (!!removeBireDocPlanInputList && removeBireDocPlanInputList.length > 0) {\r\n      forkedObservables.push(this.maintenanceProgramFormService.removeBireDocPlan(removeBireDocPlanInputList));\r\n    }\r\n\r\n    this.documentsTableDataSource.clearHistory();\r\n\r\n    forkJoin(forkedObservables).subscribe((errors) => {\r\n      if (errors.every((error) => !ObjectUtils.isDefined(error))) {\r\n        this.messageService.showSuccessMessage('global.successOnSave');\r\n        this.loadDocumentsTableDataSourceData();\r\n      } else {\r\n        this.messageService.showErrorMessage('global.errorOnSave');\r\n      }\r\n    });\r\n  }\r\n\r\n  private getCreateUpdateBireDocPlanInputFromDocumentRow(docRow: DocumentRow): CreateUpdateBireDocPlanInput {\r\n    return {\r\n      planCode: this.planCode,\r\n      bireDocumentDTO: docRow._obj as BireDocumentDTO\r\n    };\r\n  }\r\n\r\n  private getRemoveBireDocPlanInputFromDocumentRow(docRow: DocumentRow): RemoveBireDocPlanInput {\r\n    return {\r\n      planCode: this.planCode,\r\n      bireDocumentDTOId: {\r\n        birMandant: undefined,\r\n        planCode: this.planCode,\r\n        mandant: undefined,\r\n        docCode: (docRow._obj as BireDocumentDTO).docCode as string\r\n      }\r\n    };\r\n  }\r\n\r\n  private loadDocumentsTableDataSourceData(): void {\r\n    this.maintenanceProgramFormService.findBreDocPlansListByPlanCode(this.planCode).subscribe((results) => {\r\n      this.documentsTableDataSource.setData(this.createDocumentsRowsFromBireDocPlanDTO(results));\r\n    });\r\n  }\r\n\r\n  public showSaveDocumentPlanBtn(): boolean {\r\n    return this.documentsTableDataSource.tableDataSourceHasBeenModified();\r\n  }\r\n\r\n  private updateWorkflowStatusList() {\r\n    this.workflowStatus = WorkflowUtils.filterWorkflowStatusList(\r\n      this.userWorkflow,\r\n      this.status,\r\n      this.currentMaintenancePlan.statusState\r\n    );\r\n  }\r\n\r\n  private loadStatus(statusState: string): void {\r\n    this.propertiesService.getObjectStatusList(true, false, false, statusState, false).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          results.forEach((element) => {\r\n            if (this.status.filter((status) => status.value === element.value).length === 0) {\r\n              this.status.push(element);\r\n            }\r\n          });\r\n          this.status = [...this.status];\r\n          this.updateWorkflowStatusList();\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStatusList'));\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { AirworthinessManagementApi } from '../../../shared/api/airworthiness-management.api';\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { TaskBusinessApi } from '../../../shared/api/task-business.api';\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { UserProfileBusinessApi } from '../../../shared/api/user-profile-business.api';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { AssetAssignmentMPSaveInput } from '../../../shared/types/api-input-types/airworthiness-management/asset-assignment-mp-save-input.interface';\r\nimport { CreateUpdateBireDocPlanInput } from '../../../shared/types/api-input-types/fleet-management/create-update-bire-doc-plan-input.interface';\r\nimport { RemoveBireDocPlanInput } from '../../../shared/types/api-input-types/fleet-management/remove-bire-doc-plan-input.interface';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { CheckAMPComplianceRMPInput } from '../../../shared/types/api-input-types/task-management/check-amp-compliance-rmp-input.interface';\r\nimport { PartsSearchInput } from '../../../shared/types/api-input-types/task-management/parts-search-input.interface';\r\nimport { SaveMaintenanceProgramScreenInput } from '../../../shared/types/api-input-types/task-management/save-maintenance-program-screen-input.interface';\r\nimport { UpgradeBireMaintenancePlanInput } from '../../../shared/types/api-input-types/task-management/upgrade-bire-maintenance-plan-input.interface';\r\nimport { VisitCriteriaMPInput } from '../../../shared/types/api-input-types/task-management/visit-criteria-mp-input.interface';\r\nimport { GetVariantOutputDTO } from '../../../shared/types/api-output-types/engineering-data-exchange/get-variant-output-dto.interface';\r\nimport { BireDocPlanDTO } from '../../../shared/types/api-output-types/fleet-management/bire-doc-plan-dto.interface';\r\nimport { MaintenanceProgramReports } from '../../../shared/types/api-output-types/task-business/maintenance-program-reports.interface';\r\nimport { AssetAssignmentMPTableDTO } from '../../../shared/types/api-output-types/task-management/asset-assignment-mp-table-dto.interface';\r\nimport { CheckComplianceMissingTaskVisitsDTO } from '../../../shared/types/api-output-types/task-management/check-compliance-missing-task-visits-dto.interface';\r\nimport { ItemsAssociatedTableDTO } from '../../../shared/types/api-output-types/task-management/items-associated-table-dto.interface';\r\nimport { PartAssociateTableDTO } from '../../../shared/types/api-output-types/task-management/part-associate-table-dto.interface';\r\nimport { PartsAssociatedTableDTO } from '../../../shared/types/api-output-types/task-management/parts-associated-table-dto.interface';\r\nimport { PlanTaskCounterTableDTO } from '../../../shared/types/api-output-types/task-management/plan-task-counter-table-dto.interface';\r\nimport { UpgradedMaintenacePlanDTO } from '../../../shared/types/api-output-types/task-management/upgraded-maintenance-plan-dto.interface';\r\nimport { AccessRightQueryDTO } from '../../../shared/types/api-types/access-right-query-dto.interface';\r\nimport { BidoMaintenancePlanDTO } from '../../../shared/types/api-types/bido-maintenance-plan-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireItemDTO } from '../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireMaintenancePlanDTOId } from '../../../shared/types/api-types/bire-maintenance-plan-dto-id.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { BirePlanAttributeDTO } from '../../../shared/types/api-types/bire-plan-attribute-dto.interface';\r\nimport { BirePnDTO } from '../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireTaskDTO } from '../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { FindBireTaskByCriteriaInput } from '../../../shared/types/api-types/find-bire-task-by-criteria-input.interface';\r\nimport { MaintenancePlanDTO } from '../../../shared/types/api-types/maintenance-plan-dto.interface';\r\nimport { ReportDTO } from '../../../shared/types/api-types/report-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class MaintenanceProgramFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly taskBusinessApi: TaskBusinessApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly airworthinessManagementApi: AirworthinessManagementApi,\r\n    private readonly userProfileBusinessApi: UserProfileBusinessApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireMaintenancePlan(\r\n    bireMaintenancePlanDTOId: BireMaintenancePlanDTOId\r\n  ): Observable<BireMaintenancePlanDTO> {\r\n    if (bireMaintenancePlanDTOId.planCode) {\r\n      return super.post<BireMaintenancePlanDTOId, BireMaintenancePlanDTO>(\r\n        this.taskManagementApi.findBireMaintenancePlan,\r\n        bireMaintenancePlanDTOId\r\n      );\r\n    } else {\r\n      return of({});\r\n    }\r\n  }\r\n\r\n  public findBirePlanAttributesByPlanCode(\r\n    bireMaintenancePlanDTO: BireMaintenancePlanDTO\r\n  ): Observable<BirePlanAttributeDTO[]> {\r\n    return super.post<BireMaintenancePlanDTO, BirePlanAttributeDTO[]>(\r\n      this.taskManagementApi.findBirePlanAttributesByPlanCode,\r\n      bireMaintenancePlanDTO\r\n    );\r\n  }\r\n\r\n  public findBirePlanPnsByPlanCode(planCode: string): Observable<PartAssociateTableDTO[]> {\r\n    return super.post<string, PartAssociateTableDTO[]>(this.taskManagementApi.findBirePlanPnsByPlanCode, planCode);\r\n  }\r\n\r\n  public findBirePlanTaskCountersByPlanCode(planCode: string): Observable<PlanTaskCounterTableDTO[]> {\r\n    return super.post<string, PlanTaskCounterTableDTO[]>(\r\n      this.taskManagementApi.findBirePlanTaskCountersByPlanCode,\r\n      planCode\r\n    );\r\n  }\r\n\r\n  public findBirePlanItemsByPlanCode(planCode: string): Observable<ItemsAssociatedTableDTO[]> {\r\n    return super.post<string, ItemsAssociatedTableDTO[]>(this.taskManagementApi.findBirePlanItemsByPlanCode, planCode);\r\n  }\r\n\r\n  public findBireFamilyVariantDropdownForMaintenanceProgram(\r\n    familyVariantInput: FindFamilyVariantInput\r\n  ): Observable<GetVariantOutputDTO[]> {\r\n    return super.post<FindFamilyVariantInput, GetVariantOutputDTO[]>(\r\n      this.productStructureManagementApi.findBireFamilyVariantDropdownForMaintenanceProgram,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public findBireItemsBySearchCriteria(\r\n    familyCode: string,\r\n    structureType: string,\r\n    variantCode: string\r\n  ): Observable<SearchResultsDTO<BireItemDTO>> {\r\n    const params: FindBireItemsBySearchCriteriaInput = {\r\n      bireItemDTOCriteria: {\r\n        familyCode,\r\n        structureType,\r\n        variantCode\r\n      },\r\n      pnCode: undefined,\r\n      attribute: undefined\r\n    };\r\n\r\n    return super.post<FindBireItemsBySearchCriteriaInput, SearchResultsDTO<BireItemDTO>>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteria,\r\n      params\r\n    );\r\n  }\r\n\r\n  public findBirePartNumbersBySearchCriteria(\r\n    partsSearchInputCriteria: PartsSearchInput\r\n  ): Observable<SearchResultsDTO<PartsAssociatedTableDTO>> {\r\n    return super.post<PartsSearchInput, SearchResultsDTO<PartsAssociatedTableDTO>>(\r\n      this.taskManagementApi.findBirePartNumbersBySearchCriteria,\r\n      partsSearchInputCriteria\r\n    );\r\n  }\r\n\r\n  public findBirePnsBySearchCriteriaForParts(\r\n    partsSearchInputCriteria: PartsSearchInput\r\n  ): Observable<SearchResultsDTO<BirePnDTO>> {\r\n    return super.post<PartsSearchInput, SearchResultsDTO<BirePnDTO>>(\r\n      this.productStructureManagementApi.findBirePnsBySearchCriteriaForParts,\r\n      partsSearchInputCriteria\r\n    );\r\n  }\r\n\r\n  public findAllBireTaskGroups(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.taskManagementApi.findAllBireTaskGroups);\r\n  }\r\n\r\n  public findAllBireMeasureReferences(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireMeasureReferences);\r\n  }\r\n\r\n  public findAllBireMeasureReferencesMaintenanceProgram(): Observable<BireMeasureReferenceDTO[]> {\r\n    return super.post<void, BireMeasureReferenceDTO[]>(\r\n      this.productStructureManagementApi.findAllBireMeasureReferencesMaintenanceProgram\r\n    );\r\n  }\r\n\r\n  public findBidoEquipmentsEligibleToMaintenancePlan(\r\n    bireMaintenancePlanDTO: BireMaintenancePlanDTO\r\n  ): Observable<AssetAssignmentMPTableDTO[]> {\r\n    return super.post<BireMaintenancePlanDTO, AssetAssignmentMPTableDTO[]>(\r\n      this.airworthinessManagementApi.findBidoEquipmentsEligibleToMaintenancePlan,\r\n      bireMaintenancePlanDTO\r\n    );\r\n  }\r\n\r\n  public findApplicableMaintenancePlanCodeByRecommendedPlanCode(rmpCode: string): Observable<string> {\r\n    return super.post<string, string>(\r\n      this.taskManagementApi.findApplicableMaintenancePlanCodeByRecommendedPlanCode,\r\n      rmpCode\r\n    );\r\n  }\r\n\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n\r\n  public saveMaintenanceProgram(\r\n    saveMaintenanceProgramScreenInput: SaveMaintenanceProgramScreenInput\r\n  ): Observable<string> {\r\n    return super.post<SaveMaintenanceProgramScreenInput, string>(\r\n      this.taskManagementApi.saveMaintenanceProgram,\r\n      saveMaintenanceProgramScreenInput\r\n    );\r\n  }\r\n\r\n  public generateAMPFromRMP(planCode: string): Observable<BireMaintenancePlanDTO> {\r\n    return super.post<string, BireMaintenancePlanDTO>(this.taskBusinessApi.generateAMPFromRMP, planCode);\r\n  }\r\n\r\n  public createAmp(maintenancePlanDTO: MaintenancePlanDTO): Observable<BireMaintenancePlanDTO> {\r\n    return super.post<MaintenancePlanDTO, BireMaintenancePlanDTO>(this.taskBusinessApi.createAmp, maintenancePlanDTO);\r\n  }\r\n\r\n  public applyPreviousAMPCustomizationOnAMP(\r\n    bireMaintenancePlanDTO: BireMaintenancePlanDTO\r\n  ): Observable<BireMaintenancePlanDTO> {\r\n    return super.post<BireMaintenancePlanDTO, BireMaintenancePlanDTO>(\r\n      this.taskBusinessApi.applyPreviousAMPCustomizationOnAMP,\r\n      bireMaintenancePlanDTO\r\n    );\r\n  }\r\n\r\n  public getPreviousAMPRevisionOfMaintenancePlan(\r\n    bireMaintenancePlanDTO: BireMaintenancePlanDTO\r\n  ): Observable<BireMaintenancePlanDTO> {\r\n    return super.post<BireMaintenancePlanDTO, BireMaintenancePlanDTO>(\r\n      this.taskManagementApi.getPreviousAMPRevisionOfMaintenancePlan,\r\n      bireMaintenancePlanDTO\r\n    );\r\n  }\r\n\r\n  public getPreviousRMPRevisionOfMaintenancePlan(\r\n    bireMaintenancePlanDTO: BireMaintenancePlanDTO\r\n  ): Observable<BireMaintenancePlanDTO> {\r\n    return super.post<BireMaintenancePlanDTO, BireMaintenancePlanDTO>(\r\n      this.taskManagementApi.getPreviousRMPRevisionOfMaintenancePlan,\r\n      bireMaintenancePlanDTO\r\n    );\r\n  }\r\n\r\n  public findBireTasksByCriteria(criteria: FindBireTaskByCriteriaInput): Observable<SearchResultsDTO<BireTaskDTO>> {\r\n    return super.post<FindBireTaskByCriteriaInput, SearchResultsDTO<BireTaskDTO>>(\r\n      this.taskManagementApi.findBireTasksByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public findBireVisitsByCriteriaForMP(criteria: VisitCriteriaMPInput): Observable<SearchResultsDTO<BireTaskDTO>> {\r\n    return super.post<VisitCriteriaMPInput, SearchResultsDTO<BireTaskDTO>>(\r\n      this.taskManagementApi.findBireVisitsByCriteriaForMP,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public checkAndReturnNewRevisionNumberByMaintenancePlan(\r\n    upgradeBireMaintenancePlanInput?: UpgradeBireMaintenancePlanInput\r\n  ): Observable<UpgradedMaintenacePlanDTO | undefined> {\r\n    if (upgradeBireMaintenancePlanInput) {\r\n      return super.post<UpgradeBireMaintenancePlanInput, UpgradedMaintenacePlanDTO>(\r\n        this.taskManagementApi.checkAndReturnNewRevisionNumberByMaintenancePlan,\r\n        upgradeBireMaintenancePlanInput\r\n      );\r\n    } else {\r\n      return of(undefined);\r\n    }\r\n  }\r\n\r\n  public saveAssetAssignedToMaintenancePlan(\r\n    assetAssignmentMPSaveInput: AssetAssignmentMPSaveInput\r\n  ): Observable<MaintenanceProgramReports> {\r\n    return super.post<AssetAssignmentMPSaveInput, MaintenanceProgramReports>(\r\n      this.airworthinessManagementApi.saveAssetAssignedToMaintenancePlan,\r\n      assetAssignmentMPSaveInput\r\n    );\r\n  }\r\n\r\n  public upgradeBireMaintenancePlanData(\r\n    upgradeBireMaintenancePlanInput: UpgradeBireMaintenancePlanInput\r\n  ): Observable<BireMaintenancePlanDTO> {\r\n    return super.post<UpgradeBireMaintenancePlanInput, BireMaintenancePlanDTO>(\r\n      this.taskManagementApi.upgradeBireMaintenancePlanData,\r\n      upgradeBireMaintenancePlanInput\r\n    );\r\n  }\r\n\r\n  public controlComplianceWithRMP(\r\n    checkAMPComplianceRMPInput: CheckAMPComplianceRMPInput\r\n  ): Observable<CheckComplianceMissingTaskVisitsDTO> {\r\n    return super.post<CheckAMPComplianceRMPInput, CheckComplianceMissingTaskVisitsDTO>(\r\n      this.taskManagementApi.controlComplianceWithRMP,\r\n      checkAMPComplianceRMPInput\r\n    );\r\n  }\r\n\r\n  public updateMaintenancePlans(planCode: string): Observable<ReportDTO[]> {\r\n    return super.post<string, ReportDTO[]>(this.airworthinessManagementApi.updateMaintenancePlans, planCode);\r\n  }\r\n\r\n  public findBidoMaintenancePlanByPlanCode(planCode: string): Observable<BidoMaintenancePlanDTO[]> {\r\n    return super.post<string, BidoMaintenancePlanDTO[]>(\r\n      this.airworthinessManagementApi.findBidoMaintenancePlanByPlanCode,\r\n      planCode\r\n    );\r\n  }\r\n\r\n  public findBireTaskTasksByVisit(bireTaskDTO: BireTaskDTO): Observable<BireTaskDTO[]> {\r\n    return super.post<BireTaskDTO, BireTaskDTO[]>(this.taskManagementApi.findBireTaskTasksByVisit, bireTaskDTO);\r\n  }\r\n\r\n  public hasUpdateRights(): Observable<boolean> {\r\n    const accessRightQueryDTO: AccessRightQueryDTO = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_MCH_TASK,\r\n      functionCode: undefined\r\n    };\r\n\r\n    return super.post<AccessRightQueryDTO, boolean>(this.userProfileBusinessApi.hasUpdateRights, accessRightQueryDTO);\r\n  }\r\n\r\n  public hasDisplayRights(useCaseCode?: string): Observable<boolean> {\r\n    const accessRightQueryDTO: AccessRightQueryDTO = {\r\n      useCaseCode: useCaseCode || BidoFunctionTypeConstants.UC_MCH_TASK,\r\n      functionCode: undefined\r\n    };\r\n\r\n    return super.post<AccessRightQueryDTO, boolean>(this.userProfileBusinessApi.hasDisplayRights, accessRightQueryDTO);\r\n  }\r\n\r\n  public hasManageRights(): Observable<boolean> {\r\n    const accessRightQueryDTO: AccessRightQueryDTO = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_MCH_TASK,\r\n      functionCode: undefined\r\n    };\r\n\r\n    return super.post<AccessRightQueryDTO, boolean>(this.userProfileBusinessApi.hasManageRights, accessRightQueryDTO);\r\n  }\r\n\r\n  public checkAmpTaskCompliance(\r\n    checkAMPComplianceRMPInput: CheckAMPComplianceRMPInput\r\n  ): Observable<CheckComplianceMissingTaskVisitsDTO> {\r\n    return super.post<CheckAMPComplianceRMPInput, CheckComplianceMissingTaskVisitsDTO>(\r\n      this.taskManagementApi.checkAmpTaskCompliance,\r\n      checkAMPComplianceRMPInput\r\n    );\r\n  }\r\n\r\n  public findBreDocPlansListByPlanCode(planCode: string): Observable<BireDocPlanDTO[]> {\r\n    return super.post<string, BireDocPlanDTO[]>(this.taskManagementApi.findBreDocPlansListByPlanCode, planCode);\r\n  }\r\n\r\n  public createBireDocPlan(createBireDocPlanInputList: CreateUpdateBireDocPlanInput[]): Observable<void> {\r\n    return super.post<CreateUpdateBireDocPlanInput[], void>(\r\n      this.taskManagementApi.createBireDocPlan,\r\n      createBireDocPlanInputList\r\n    );\r\n  }\r\n\r\n  public updateBireDocPlan(updateBireDocPlanInputList: CreateUpdateBireDocPlanInput[]): Observable<void> {\r\n    return super.post<CreateUpdateBireDocPlanInput[], void>(\r\n      this.taskManagementApi.updateBireDocPlan,\r\n      updateBireDocPlanInputList\r\n    );\r\n  }\r\n\r\n  public removeBireDocPlan(bireDocPlanInputDeletedList: RemoveBireDocPlanInput[]): Observable<void> {\r\n    return super.post<RemoveBireDocPlanInput[], void>(\r\n      this.taskManagementApi.removeBireDocPlan,\r\n      bireDocPlanInputDeletedList\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"70\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ componentData.componentId + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <!-- assets table -->\\r\\n\\r\\n    <div class=\\\"section\\\">\\r\\n      <h4 class=\\\"section-title\\\">\\r\\n        {{ \\\"global.results\\\" | translate }} ({{ assetsTableDataSource ? assetsTableDataSource.dataCount : 0 }})\\r\\n      </h4>\\r\\n\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <a-table [dataSource]=\\\"assetsTableDataSource\\\"> </a-table>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" class=\\\"btn-with-spinner\\\" mat-raised-button (click)=\\\"associate()\\\">\\r\\n      <span *ngIf=\\\"isValidating\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-report-popup-form\\r\\n  *ngIf=\\\"showReportPopup\\\"\\r\\n  [reportContent]=\\\"reportText\\\"\\r\\n  [(display)]=\\\"showReportPopup\\\"\\r\\n  (onClose)=\\\"cancel()\\\"\\r\\n></aw-report-popup-form>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { TableDataSource } from '../../../../../shared/components/table/table-data-source';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { AssetAssignmentMPSaveInput } from '../../../../../shared/types/api-input-types/airworthiness-management/asset-assignment-mp-save-input.interface';\r\nimport { MaintenanceProgramReports } from '../../../../../shared/types/api-output-types/task-business/maintenance-program-reports.interface';\r\nimport { BidoEquipmentDTO } from '../../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { MaintenancePlanDTO } from '../../../../../shared/types/api-types/maintenance-plan-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { MaintenanceProgramFormService } from '../../maintenance-program-form.service';\r\n\r\ninterface AssignTableRow {\r\n  asset?: string;\r\n  familyVariantCode?: string;\r\n  function?: string;\r\n  designation?: string;\r\n  status?: string;\r\n  isAssigned?: boolean;\r\n  bidoEquipmentDTO?: BidoEquipmentDTO;\r\n  maintenanceProgram?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-assign-assets-popup-form',\r\n  templateUrl: './assign-assets-popup-form.component.html',\r\n  styleUrls: ['../popup-form.component.scss']\r\n})\r\nexport class AssignAssetsPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public get display() {\r\n    return this.displayValue;\r\n  }\r\n\r\n  public set display(displayValue) {\r\n    this.displayValue = displayValue;\r\n    this.displayChange.emit(this.displayValue);\r\n  }\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n  @Output()\r\n  public displayChange: EventEmitter<boolean>;\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireMaintenancePlanDTO>;\r\n  @Output()\r\n  public onAssociated: EventEmitter<boolean>;\r\n\r\n  public displayValue: boolean;\r\n  public isEditable: boolean;\r\n  public assetsTableDataSource: TableDataSource<AssignTableRow>;\r\n  public bireMaintenancePlanDTO: BireMaintenancePlanDTO;\r\n  public maintenancePlanDTOsAssignedList: MaintenancePlanDTO[];\r\n  public maintenancePlanDTOsUnAssignedList: MaintenancePlanDTO[];\r\n  public reportText: MaintenanceProgramReports;\r\n  public showReportPopup: boolean;\r\n  public isLoading: boolean;\r\n  public isValidating: boolean;\r\n\r\n  public constructor(\r\n    public messageService: MessageService,\r\n    public sessionService: SessionService,\r\n    public propertiesService: PropertiesService,\r\n    public maintenanceProgramFormService: MaintenanceProgramFormService\r\n  ) {\r\n    super(ComponentOpenMode.Read, 'AssignAssetsPopupFormComponent');\r\n\r\n    this.displayChange = new EventEmitter<boolean>();\r\n    this.onAssociated = new EventEmitter<boolean>();\r\n    this.showReportPopup = false;\r\n    this.maintenancePlanDTOsAssignedList = [];\r\n    this.maintenancePlanDTOsUnAssignedList = [];\r\n    this.initAssetsTableDataSource();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.componentId && !!this.componentData.object) {\r\n      this.bireMaintenancePlanDTO = this.componentData.object;\r\n      this.loadAssets();\r\n    }\r\n  }\r\n\r\n  public getTypeName(): string {\r\n    return 'AssignAssetsPopupFormComponent';\r\n  }\r\n\r\n  public associate(): void {\r\n    this.isValidating = true;\r\n    this.maintenancePlanDTOsAssignedList = [];\r\n    this.maintenancePlanDTOsUnAssignedList = [];\r\n    this.assetsTableDataSource.dataSrc.forEach((element) => {\r\n      const maintenancePlan: MaintenancePlanDTO = {\r\n        planCode: element.maintenanceProgram,\r\n        equipmentCode: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentCode\r\n      };\r\n\r\n      const selectedAsset = this.assetsTableDataSource.dataSelection.filter((asset) => {\r\n        return asset.asset === element.asset && asset.familyVariantCode === element.familyVariantCode;\r\n      });\r\n      // if asset was assigned previously and unassigned\r\n      if (element.isAssigned) {\r\n        if (selectedAsset.length === 0) {\r\n          this.maintenancePlanDTOsUnAssignedList.push(maintenancePlan);\r\n        }\r\n      } else {\r\n        if (selectedAsset.length > 0) {\r\n          this.maintenancePlanDTOsAssignedList.push(maintenancePlan);\r\n        }\r\n      }\r\n    });\r\n    const inputObj: AssetAssignmentMPSaveInput = {\r\n      planCode: this.bireMaintenancePlanDTO.planCode,\r\n      maintenancePlanDTOsAssignedList: this.maintenancePlanDTOsAssignedList,\r\n      maintenancePlanDTOsUnAssignedList: this.maintenancePlanDTOsUnAssignedList\r\n    };\r\n    this.maintenanceProgramFormService\r\n      .saveAssetAssignedToMaintenancePlan(inputObj)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.isValidating = false;\r\n        })\r\n      )\r\n      .subscribe((result) => {\r\n        this.loadAssets();\r\n        this.reportText = result;\r\n        this.showReportPopup = true;\r\n        this.onAssociated.emit(true);\r\n      });\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  private loadAssets(): void {\r\n    this.isLoading = true;\r\n    this.maintenanceProgramFormService\r\n      .findBidoEquipmentsEligibleToMaintenancePlan(this.bireMaintenancePlanDTO)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.isLoading = false;\r\n        })\r\n      )\r\n      .subscribe((results) => {\r\n        this.isLoading = false;\r\n        const assetsTable: AssignTableRow[] = results.map((element) => ({\r\n          asset: element.assetText,\r\n          bidoEquipmentDTO: element.bidoEquipmentDTO,\r\n          designation: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentDesignation,\r\n          familyVariantCode: element.bidoEquipmentDTO && element.bidoEquipmentDTO.familyVariantCode,\r\n          function: element.bidoEquipmentDTO && element.bidoEquipmentDTO.equipmentFunction,\r\n          isAssigned: element.isAssigned,\r\n          maintenanceProgram: element.planCode,\r\n          status: element.bidoEquipmentDTO && element.bidoEquipmentDTO.operationalStatus\r\n        }));\r\n        assetsTable.sort((a: AssignTableRow, b: AssignTableRow) => {\r\n          if (a.isAssigned === b.isAssigned) {\r\n            if (a.asset === b.asset) {\r\n              return 0;\r\n            } else if (a.asset) {\r\n              return b.asset ? a.asset.localeCompare(b.asset) : 1;\r\n            } else {\r\n              return -1;\r\n            }\r\n          } else {\r\n            return a.isAssigned ? -1 : 1;\r\n          }\r\n        });\r\n\r\n        this.assetsTableDataSource.setData(assetsTable);\r\n        this.assetsTableDataSource.dataSelection = this.assetsTableDataSource.dataSrc.filter((element) => {\r\n          element._checked = element.isAssigned ? true : false;\r\n\r\n          return element.isAssigned;\r\n        });\r\n      });\r\n  }\r\n\r\n  private initAssetsTableDataSource(): void {\r\n    this.assetsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'asset',\r\n          translateKey: this.getTranslateKey('asset'),\r\n          width: '30%'\r\n        },\r\n        {\r\n          field: 'familyVariantCode',\r\n          translateKey: this.getTranslateKey('familyVariantCode'),\r\n          width: '10%'\r\n        },\r\n        {\r\n          field: 'designation',\r\n          translateKey: this.getTranslateKey('designation'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'function',\r\n          translateKey: this.getTranslateKey('function'),\r\n          width: '10%'\r\n        },\r\n        {\r\n          field: 'status',\r\n          translateKey: this.getTranslateKey('status'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'maintenanceProgram',\r\n          translateKey: this.getTranslateKey('maintenanceProgram'),\r\n          width: '20%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n}\r\n","module.exports = \":host .item-textbox {\\n  width: 5rem; }\\n\\n:host .span-padding {\\n  padding: 8px 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9wb3B1cHMvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXG1haW50ZW5hbmNlLXByb2dyYW0tZm9ybVxccG9wdXBzXFxwb3B1cC1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksV0FBVyxFQUFBOztBQUZmO0VBTUksY0FBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9wb3B1cHMvcG9wdXAtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAuaXRlbS10ZXh0Ym94IHtcclxuICAgIHdpZHRoOiA1cmVtO1xyXG4gIH1cclxuXHJcbiAgLnNwYW4tcGFkZGluZyB7XHJcbiAgICBwYWRkaW5nOiA4cHggMDtcclxuICB9XHJcbn1cclxuIl19 */\"","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <textarea\\r\\n          class=\\\"aw-textarea\\\"\\r\\n          [rows]=\\\"20\\\"\\r\\n          [cols]=\\\"150\\\"\\r\\n          pInputTextarea\\r\\n          [(ngModel)]=\\\"reportContent.text\\\"\\r\\n        ></textarea>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeAllDialog()\\\">{{ \\\"global.close\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"exportToTxt()\\\">\\r\\n      {{ getComponentName() + \\\".exportTxt\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \":host textarea {\\n  background-color: transparent;\\n  border: 0;\\n  color: inherit;\\n  font-family: inherit;\\n  font-size: inherit;\\n  font-weight: inherit;\\n  line-height: 1.42857143;\\n  min-height: 50vh;\\n  outline: none;\\n  padding: 8px 0;\\n  width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tZm9ybS9wb3B1cHMvcmVwb3J0LXBvcHVwLWZvcm0vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXG1haW50ZW5hbmNlLXByb2dyYW0tZm9ybVxccG9wdXBzXFxyZXBvcnQtcG9wdXAtZm9ybVxccmVwb3J0LXBvcHVwLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9tYWludGVuYW5jZS1wcm9ncmFtLWZvcm0vcG9wdXBzL3JlcG9ydC1wb3B1cC1mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcc3R5bGVzXFxfY29uc3RhbnRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFFSSw2QkFBNkI7RUFDN0IsU0FBUztFQUNULGNBQWM7RUFDZCxvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLG9CQUFvQjtFQUNwQix1QkNpQ3FCO0VEaENyQixnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLGNBQXdCO0VBQ3hCLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9tYWludGVuYW5jZS1wcm9ncmFtLWZvcm0vcG9wdXBzL3JlcG9ydC1wb3B1cC1mb3JtL3JlcG9ydC1wb3B1cC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIHRleHRhcmVhIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gICAgY29sb3I6IGluaGVyaXQ7XHJcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gICAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICAgIG1pbi1oZWlnaHQ6IDUwdmg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgcGFkZGluZzogJG1hcmdpbi12YWx1ZSAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iXX0= */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MaintenanceProgramReports } from '../../../../../shared/types/api-output-types/task-business/maintenance-program-reports.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { FileUtils } from '../../../../../shared/utils/file-utils';\r\n\r\n@Component({\r\n  selector: 'aw-report-popup-form',\r\n  styleUrls: ['./report-popup-form.component.scss'],\r\n  templateUrl: './report-popup-form.component.html'\r\n})\r\nexport class ReportPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public reportContent: MaintenanceProgramReports;\r\n  @Output()\r\n  public onClose: EventEmitter<void>;\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Read, 'ReportPopupFormComponent');\r\n    this.reportContent = {};\r\n    this.onClose = new EventEmitter<void>();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    return;\r\n  }\r\n\r\n  public exportToTxt(): void {\r\n    FileUtils.downloadFile(\r\n      this.reportContent.bytes,\r\n      `Report_${new Date().toDateString()}_${new Date().getHours()}h${new Date().getSeconds()}.txt`\r\n    );\r\n  }\r\n\r\n  public closeAllDialog(): void {\r\n    this.display = false;\r\n    this.onClose.emit();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" width=\\\"100\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">\\r\\n      {{\\r\\n        popUpType === \\\"visit\\\"\\r\\n          ? (componentData.componentId + \\\".titleVisit\\\" | translate)\\r\\n          : (componentData.componentId + \\\".titleTask\\\" | translate)\\r\\n      }}\\r\\n    </div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div *ngIf=\\\"popUpType === 'task'\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".taskCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: !isCreateMode }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"!isReadOnlyForm && taskSearch()\\\">\\r\\n              {{ planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode }}\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"!isReadOnlyForm && taskSearch()\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".taskVersion\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion\\\"\\r\\n              [disabled]=\\\"true\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".taskDesignation\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.bireTaskDTO.taskDesignation\\\"\\r\\n              [disabled]=\\\"true\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".taskType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              [disabled]=\\\"true\\\"\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.bireTaskDTO.taskTypeCode\\\"\\r\\n              [options]=\\\"taskTypes\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"popUpType === 'task'\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".taskGroup\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              [disabled]=\\\"true\\\"\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.bireTaskDTO.groupCode\\\"\\r\\n              [options]=\\\"taskGroups\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".groupCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.groupCode\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\"></div>\\r\\n        <div class=\\\"form-group\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"popUpType === 'visit'\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".visitCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: !isCreateMode }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"!isReadOnlyForm && visitSearch()\\\">\\r\\n              {{ planTaskCounterTableDTO.visitCode }}\\r\\n            </div>\\r\\n\\r\\n            <div *ngIf=\\\"planTaskCounterTableDTO.visitCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"planTaskCounterTableDTO.visitCode = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"!isReadOnlyForm && visitSearch()\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".visitVersion\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"planTaskCounterTableDTO.visitVersion\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".visitDesignation\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.visitDesignation\\\"\\r\\n              [disabled]=\\\"true\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".reference\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              [disabled]=\\\"!isCreateMode\\\"\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode\\\"\\r\\n              [options]=\\\"references\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              (onChange)=\\\"onSelectVisitReference()\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"!showPeriodicity ? 'none' : 'inherit'\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".firstPeriodicity\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div style=\\\"width:90%\\\">\\r\\n                <input\\r\\n                  #periodicityFirst=\\\"ngModel\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"aw-input\\\"\\r\\n                  [disabled]=\\\"isReadOnlyForm\\\"\\r\\n                  [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst\\\"\\r\\n                  [pKeyFilter]=\\\"inputValidationService.validatorOfPositiveNumber()\\\"\\r\\n                  [pValidateOnly]=\\\"true\\\"\\r\\n                />\\r\\n              </div>\\r\\n              <div style=\\\"width:10%\\\" class=\\\"span-padding\\\">{{ unitCode }}</div>\\r\\n            </div>\\r\\n            <p-message\\r\\n              *ngIf=\\\"periodicityFirst.invalid && (periodicityFirst.dirty || periodicityFirst.touched)\\\"\\r\\n              severity=\\\"error\\\"\\r\\n              [text]=\\\"inputValidationService.formatOfPositiveNumber()\\\"\\r\\n            ></p-message>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"showPeriodicity ? 'none' : 'inherit'\\\"></div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"!showPeriodicity ? 'none' : 'inherit'\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".periodicity\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div style=\\\"width: 90%\\\">\\r\\n                <input\\r\\n                  #periodicity=\\\"ngModel\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"aw-input\\\"\\r\\n                  [disabled]=\\\"isReadOnlyForm\\\"\\r\\n                  [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity\\\"\\r\\n                  [pKeyFilter]=\\\"inputValidationService.validatorOfPositiveNumber()\\\"\\r\\n                  [pValidateOnly]=\\\"true\\\"\\r\\n                />\\r\\n              </div>\\r\\n              <div class=\\\"span-padding\\\" style=\\\"width: 10%\\\">{{ unitCode }}</div>\\r\\n            </div>\\r\\n            <p-message\\r\\n              *ngIf=\\\"periodicity.invalid && (periodicity.dirty || periodicity.touched)\\\"\\r\\n              severity=\\\"error\\\"\\r\\n              [text]=\\\"inputValidationService.formatOfPositiveNumber()\\\"\\r\\n            ></p-message>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"showPeriodicity ? 'none' : 'inherit'\\\"></div>\\r\\n\\r\\n        <div *ngIf=\\\"popUpType === 'task' && showPeriodicity\\\" class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".periodicityType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityType\\\"\\r\\n              [options]=\\\"periodicityTypes\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"popUpType === 'task' && !showPeriodicity\\\" class=\\\"form-group\\\"></div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"!showPeriodicity ? 'none' : 'inherit'\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".tolerance\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              #tolerance=\\\"ngModel\\\"\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance\\\"\\r\\n              [pKeyFilter]=\\\"inputValidationService.validatorOfNumber()\\\"\\r\\n              [pValidateOnly]=\\\"true\\\"\\r\\n            />\\r\\n            <p-message\\r\\n              *ngIf=\\\"tolerance.invalid && (tolerance.dirty || tolerance.touched)\\\"\\r\\n              severity=\\\"error\\\"\\r\\n              [text]=\\\"inputValidationService.formatOfNumber()\\\"\\r\\n            ></p-message>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"!showPeriodicity ? 'none' : 'inherit'\\\">\\r\\n          <label class=\\\"form-label\\\"\\r\\n            >{{ componentData.componentId + \\\".alertThreshold\\\" | translate }} {{ labelUnitCode }}</label\\r\\n          >\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              #threshold=\\\"ngModel\\\"\\r\\n              type=\\\"text\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n              [disabled]=\\\"isReadOnlyForm\\\"\\r\\n              [(ngModel)]=\\\"planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold\\\"\\r\\n              [pKeyFilter]=\\\"inputValidationService.validatorOfNumber()\\\"\\r\\n              [pValidateOnly]=\\\"true\\\"\\r\\n            />\\r\\n            <p-message\\r\\n              *ngIf=\\\"threshold.invalid && (threshold.dirty || threshold.touched)\\\"\\r\\n              severity=\\\"error\\\"\\r\\n              [text]=\\\"inputValidationService.formatOfNumber()\\\"\\r\\n            ></p-message>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".comments\\\" | translate }}</label>\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <textarea\\r\\n              class=\\\"aw-textarea\\\"\\r\\n              [rows]=\\\"3\\\"\\r\\n              pInputTextarea\\r\\n              [disabled]=\\\"true\\\"\\r\\n              [(ngModel)]=\\\"customComments\\\"\\r\\n            ></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"popUpType === 'task'\\\"></div>\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"showPeriodicity ? 'none' : 'inherit'\\\"></div>\\r\\n        <div class=\\\"form-group\\\" [style.display]=\\\"showPeriodicity ? 'none' : 'inherit'\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm && popUpType === 'visit'\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"associate()\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      [disabled]=\\\"\\r\\n        !planTaskCounterTableDTO.visitCode ||\\r\\n        !planTaskCounterTableDTO.visitVersion ||\\r\\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||\\r\\n        (periodicityFirst.invalid && (periodicityFirst.dirty || periodicityFirst.touched)) ||\\r\\n        (periodicity.invalid && (periodicity.dirty || periodicity.touched)) ||\\r\\n        (tolerance.invalid && (tolerance.dirty || tolerance.touched)) ||\\r\\n        (threshold.invalid && (threshold.dirty || threshold.touched))\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm && popUpType === 'task'\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"associate()\\\"\\r\\n      [disabled]=\\\"\\r\\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode ||\\r\\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion ||\\r\\n        !planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||\\r\\n        (periodicityFirst.invalid && (periodicityFirst.dirty || periodicityFirst.touched)) ||\\r\\n        (periodicity.invalid && (periodicity.dirty || periodicity.touched)) ||\\r\\n        (tolerance.invalid && (tolerance.dirty || tolerance.touched)) ||\\r\\n        (threshold.invalid && (threshold.dirty || threshold.touched))\\r\\n      \\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-task\\r\\n  *ngIf=\\\"showItemTaskSearchPopup\\\"\\r\\n  [(display)]=\\\"showItemTaskSearchPopup\\\"\\r\\n  (onSelected)=\\\"setSelectedTaskSearchCode($event)\\\"\\r\\n  [is-visit]=\\\"false\\\"\\r\\n></aw-dialog-search-task>\\r\\n\\r\\n<aw-dialog-search-task\\r\\n  *ngIf=\\\"showItemVisitSearchPopup\\\"\\r\\n  [(display)]=\\\"showItemVisitSearchPopup\\\"\\r\\n  (onSelected)=\\\"setSelectedVisitSearchCode($event)\\\"\\r\\n  [is-visit]=\\\"true\\\"\\r\\n></aw-dialog-search-task>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { AWPropertiesConstants } from '../../../../../shared/constants/aw-properties-constants';\r\nimport { BireMeasureReferenceConstants } from '../../../../../shared/constants/bire-measure-reference-constants';\r\nimport { GenericPropertyConstants } from '../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { InputValidationService } from '../../../../../shared/services/input-validation.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { PlanTaskCounterTableDTO } from '../../../../../shared/types/api-output-types/task-management/plan-task-counter-table-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { BireTaskDTO } from '../../../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { SettingsUtils } from '../../../../../shared/utils/settings-utils';\r\nimport { MaintenanceProgramFormService } from '../../maintenance-program-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-task-visit-popup-form',\r\n  templateUrl: './task-visit-popup-form.component.html',\r\n  styleUrls: ['../popup-form.component.scss']\r\n})\r\nexport class TaskVisitPopupFormComponent extends DialogComponent implements OnInit {\r\n  public static readonly PERCENTAGE_CONST = 100;\r\n  public static readonly ONE_DECIMAL_ROUND = 10;\r\n\r\n  @Input()\r\n  public get display() {\r\n    return this.displayValue;\r\n  }\r\n\r\n  public set display(displayValue) {\r\n    this.displayValue = displayValue;\r\n    this.displayChange.emit(this.displayValue);\r\n  }\r\n\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n  @Input()\r\n  public isCreateMode: boolean;\r\n  @Input()\r\n  public popUpType: string;\r\n  @Output()\r\n  public displayChange: EventEmitter<boolean>;\r\n  @Output()\r\n  public onAssociated: EventEmitter<PlanTaskCounterTableDTO[]>;\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<PlanTaskCounterTableDTO>;\r\n\r\n  public saveThreshold: number | undefined;\r\n  public fhThreshold: number | undefined;\r\n  public isUnitFh: boolean;\r\n  public displayValue: boolean;\r\n  public isEditable: boolean;\r\n  public planTaskCounterTableDTO: PlanTaskCounterTableDTO;\r\n  public taskTypes: LabelValue<string>[];\r\n  public periodicityTypes: LabelValue<string>[];\r\n  public taskGroups: LabelValue<string>[];\r\n  public references: LabelValue<string>[];\r\n  public unitCodeList: BireMeasureReferenceDTO[];\r\n  // For itemTaskSearch section\r\n  public currentItemTaskSearch: BireTaskDTO;\r\n  public showItemTaskSearchPopup: boolean;\r\n  public dialogTaskSearchTableData: DialogTableData<BireTaskDTO>;\r\n  public taskKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  // For itemTaskSearch section\r\n  public showItemVisitSearchPopup: boolean;\r\n  public dialogVisitSearchTableData: DialogTableData<BireTaskDTO>;\r\n  public visitKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  public showPeriodicity: boolean;\r\n  public unitCode: string | undefined;\r\n  public labelUnitCode: string | undefined;\r\n  public customComments: string;\r\n\r\n  public constructor(\r\n    public inputValidationService: InputValidationService,\r\n    public sessionService: SessionService,\r\n    private readonly messageService: MessageService,\r\n    public propertiesService: PropertiesService,\r\n    public maintenanceProgramFormService: MaintenanceProgramFormService\r\n  ) {\r\n    super(ComponentOpenMode.Read, 'TaskVisitPopupFormComponent');\r\n\r\n    this.displayChange = new EventEmitter<boolean>();\r\n    this.onAssociated = new EventEmitter<PlanTaskCounterTableDTO[]>();\r\n    this.planTaskCounterTableDTO = {\r\n      bireTaskDTO: {},\r\n      birePlanTaskCounterDTO: {}\r\n    };\r\n    this.taskKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.references = [];\r\n    this.taskGroups = [];\r\n    this.taskTypes = [];\r\n    this.periodicityTypes = [];\r\n    this.unitCodeList = [];\r\n    this.showPeriodicity = true;\r\n    this.customComments = '';\r\n    this.initMeasureUnit();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (!this.popUpType) {\r\n      this.popUpType = '';\r\n    }\r\n    const observables: Observable<LabelValue<string>[]>[] = [\r\n      this.propertiesService.getValue(GenericPropertyConstants.TASK_TYPE_MAP),\r\n      this.propertiesService.getValue(GenericPropertyConstants.PERIODICITY_TYPE_MAP),\r\n      this.maintenanceProgramFormService.findAllBireTaskGroups()\r\n    ];\r\n\r\n    forkJoin(observables).subscribe(([taskTypes, periodicityTypes, taskGroups]) => {\r\n      this.maintenanceProgramFormService.findAllBireMeasureReferencesMaintenanceProgram().subscribe((results) => {\r\n        this.taskTypes = taskTypes;\r\n        this.periodicityTypes = periodicityTypes;\r\n        this.taskGroups = taskGroups;\r\n        this.unitCodeList = results;\r\n        results.forEach((element) => {\r\n          if (!!element.counterRemarks && !!element.counterCode) {\r\n            const temp: LabelValue<string> = {\r\n              label: `${element.counterRemarks} (${element.counterCode})`,\r\n              value: element.counterCode\r\n            };\r\n            this.references.push(temp);\r\n          }\r\n        });\r\n\r\n        if (this.componentData && this.componentData.componentId && !!this.componentData.object) {\r\n          this.planTaskCounterTableDTO = this.componentData.object;\r\n\r\n          if (this.isUnitFh && !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold) {\r\n            this.saveThreshold = this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold;\r\n            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = this.calculateFhValueFromPercentage(\r\n              this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold,\r\n              this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst,\r\n              this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity\r\n            );\r\n          }\r\n\r\n          // Set defaults to zero\r\n          this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance =\r\n            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance || 0;\r\n          this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst =\r\n            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst || 0;\r\n          this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity =\r\n            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity || 0;\r\n          this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold =\r\n            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold || 0;\r\n          this.customComments = this.getDisplayComments(\r\n            this.planTaskCounterTableDTO.birePlanTaskCounterDTO.comments || ''\r\n          );\r\n\r\n          this.setUnitCode();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  public getTypeName(): string {\r\n    return 'TaskVisitPopupFormComponent';\r\n  }\r\n\r\n  public associate(): void {\r\n    this.fhThreshold = this.getPercentageValueOfThreshold(\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst,\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity,\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold\r\n    );\r\n    // Set these to undefined, dont pass zero\r\n    this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity =\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity || undefined;\r\n    this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst =\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst || undefined;\r\n    this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance =\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance || undefined;\r\n    if (this.isUnitFh) {\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = this.fhThreshold || undefined;\r\n    } else {\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold =\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold || undefined;\r\n    }\r\n    if (\r\n      !!this.planTaskCounterTableDTO.visitCode &&\r\n      !!this.planTaskCounterTableDTO.visitVersion &&\r\n      !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&\r\n      !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode\r\n    ) {\r\n      const bireTaskDTO: BireTaskDTO = {\r\n        taskCode: this.planTaskCounterTableDTO.visitCode,\r\n        taskVersion: this.planTaskCounterTableDTO.visitVersion,\r\n        taskDesignation: this.planTaskCounterTableDTO.visitDesignation\r\n      };\r\n      this.maintenanceProgramFormService.findBireTaskTasksByVisit(bireTaskDTO).subscribe((results) => {\r\n        const planTaskCounter: PlanTaskCounterTableDTO[] = [];\r\n        if (results.length > 0) {\r\n          results.forEach((task) => {\r\n            const planTaskCounterObj: PlanTaskCounterTableDTO = {\r\n              birePlanTaskCounterDTO: this.planTaskCounterTableDTO.birePlanTaskCounterDTO,\r\n              bireTaskDTO: task,\r\n              complianceDetail: this.planTaskCounterTableDTO.complianceDetail,\r\n              complianceLight: this.planTaskCounterTableDTO.complianceLight,\r\n              visitCode: this.planTaskCounterTableDTO.visitCode,\r\n              visitVersion: this.planTaskCounterTableDTO.visitVersion,\r\n              visitDesignation: this.planTaskCounterTableDTO.visitDesignation\r\n            };\r\n            planTaskCounter.push(planTaskCounterObj);\r\n          });\r\n        } else {\r\n          planTaskCounter.push(this.planTaskCounterTableDTO);\r\n        }\r\n        this.onAssociated.emit(planTaskCounter);\r\n        this.display = false;\r\n      });\r\n    } else if (\r\n      !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&\r\n      !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode &&\r\n      !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion &&\r\n      !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode\r\n    ) {\r\n      this.onAssociated.emit([this.planTaskCounterTableDTO]);\r\n      this.display = false;\r\n    } else {\r\n      this.messageService.showErrorMessage('global.missingFields');\r\n    }\r\n  }\r\n\r\n  public cancel(): void {\r\n    if (this.isUnitFh) {\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = this.getPercentageValueOfThreshold(\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst,\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity,\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold\r\n      );\r\n    }\r\n    this.display = false;\r\n  }\r\n\r\n  public taskSearch(): void {\r\n    this.showItemTaskSearchPopup = true;\r\n  }\r\n  public visitSearch(): void {\r\n    this.showItemVisitSearchPopup = true;\r\n  }\r\n\r\n  public setSelectedTaskSearchCode(selectedObject: BireTaskDTO) {\r\n    if (selectedObject) {\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO = this.planTaskCounterTableDTO.birePlanTaskCounterDTO || {};\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode = selectedObject.taskCode;\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion = selectedObject.taskVersion;\r\n\r\n      this.planTaskCounterTableDTO.bireTaskDTO = this.planTaskCounterTableDTO.bireTaskDTO || {};\r\n      this.planTaskCounterTableDTO.bireTaskDTO.taskCode = selectedObject.taskCode;\r\n      this.planTaskCounterTableDTO.bireTaskDTO.taskVersion = selectedObject.taskVersion;\r\n      this.planTaskCounterTableDTO.bireTaskDTO.taskDesignation = selectedObject.taskDesignation;\r\n      this.planTaskCounterTableDTO.bireTaskDTO.groupCode = selectedObject.groupCode;\r\n      this.planTaskCounterTableDTO.bireTaskDTO.taskTypeCode = selectedObject.taskTypeCode;\r\n    }\r\n    this.showItemTaskSearchPopup = false;\r\n  }\r\n\r\n  public setSelectedVisitSearchCode(selectedObject: BireTaskDTO) {\r\n    if (selectedObject) {\r\n      this.planTaskCounterTableDTO.visitCode = selectedObject.taskCode;\r\n      this.planTaskCounterTableDTO.visitVersion = selectedObject.taskVersion;\r\n      this.planTaskCounterTableDTO.visitDesignation = selectedObject.taskDesignation;\r\n\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO = this.planTaskCounterTableDTO.birePlanTaskCounterDTO || {};\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskCode = selectedObject.taskCode;\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.taskVersion = selectedObject.taskVersion;\r\n\r\n      this.planTaskCounterTableDTO.bireTaskDTO = this.planTaskCounterTableDTO.bireTaskDTO || {};\r\n      this.planTaskCounterTableDTO.bireTaskDTO.taskCode = selectedObject.taskCode;\r\n      this.planTaskCounterTableDTO.bireTaskDTO.taskVersion = selectedObject.taskVersion;\r\n      this.planTaskCounterTableDTO.bireTaskDTO.taskDesignation = selectedObject.taskDesignation;\r\n    }\r\n    this.showItemVisitSearchPopup = false;\r\n  }\r\n\r\n  public onSelectVisitReference(): void {\r\n    if (\r\n      !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&\r\n      this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode\r\n    ) {\r\n      this.setUnitCode();\r\n\r\n      if (\r\n        BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_PRE_FLIGHT ===\r\n          this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||\r\n        BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_POST_FLIGHT ===\r\n          this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode ||\r\n        BireMeasureReferenceConstants.BIRE_MEASURE_REFERENCE_COUNTER_CODE_DAILY ===\r\n          this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode\r\n      ) {\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityFirst = 0;\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicity = 0;\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.periodicityType = undefined;\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.tolerance = 0;\r\n        this.planTaskCounterTableDTO.birePlanTaskCounterDTO.threshold = 0;\r\n\r\n        this.showPeriodicity = false;\r\n      } else {\r\n        this.showPeriodicity = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private setUnitCode() {\r\n    const unitCodeObj = this.unitCodeList.filter((element) => {\r\n      return (\r\n        !!this.planTaskCounterTableDTO.birePlanTaskCounterDTO &&\r\n        element.counterCode === this.planTaskCounterTableDTO.birePlanTaskCounterDTO.counterCode\r\n      );\r\n    })[0];\r\n    this.unitCode = unitCodeObj && unitCodeObj.unitCode;\r\n    if (!!this.unitCode && this.isUnitFh) {\r\n      this.labelUnitCode = '(' + this.unitCode + ')';\r\n    }\r\n  }\r\n\r\n  public getDisplayComments(comment: string): string {\r\n    try {\r\n      if (comment) {\r\n        const commentObj = JSON.parse(comment);\r\n        if (commentObj && commentObj.length === 1) {\r\n          return commentObj[0].comment;\r\n        } else if (commentObj && commentObj.length > 1) {\r\n          return !!commentObj[0].comment ? commentObj[0].comment : comment;\r\n        }\r\n      }\r\n\r\n      return '';\r\n    } catch (e) {\r\n      return comment;\r\n    }\r\n  }\r\n\r\n  public initMeasureUnit(): void {\r\n    this.isUnitFh = true;\r\n    this.propertiesService\r\n      .getValue(GenericPropertyConstants.AEROWEBB_CONFIGURATION_MAP)\r\n      .subscribe((awConfiguration) => {\r\n        if (\r\n          SettingsUtils.isPropertyEnabled(\r\n            awConfiguration,\r\n            AWPropertiesConstants.REFERENTIAL_ALERT_THRESHOLD_IS_PERCENTAGE\r\n          )\r\n        ) {\r\n          this.isUnitFh = false;\r\n          this.labelUnitCode = '(%)';\r\n        }\r\n      });\r\n  }\r\n\r\n  private getPercentageValueOfThreshold(\r\n    periodicityFirst: number | undefined,\r\n    periodicity: number | undefined,\r\n    threshold: number | undefined\r\n  ): number | undefined {\r\n    if (!!periodicity) {\r\n      // If there is a value in Periodicity field, we use it\r\n      return this.calculateFhPercentage(periodicity, threshold);\r\n    }\r\n    if (!!periodicityFirst) {\r\n      // If there are values in FirstPeriodicity AND Periodicity fields, we use the Periodicity field\r\n      return this.calculateFhPercentage(periodicityFirst, threshold);\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  private calculateFhPercentage(periodicity: number, threshold: number | undefined): number | undefined {\r\n    if (!!threshold) {\r\n      return (\r\n        Math.round(\r\n          (threshold / periodicity) *\r\n            TaskVisitPopupFormComponent.PERCENTAGE_CONST *\r\n            TaskVisitPopupFormComponent.ONE_DECIMAL_ROUND\r\n        ) / TaskVisitPopupFormComponent.ONE_DECIMAL_ROUND\r\n      );\r\n    }\r\n  }\r\n\r\n  private calculateFhValueFromPercentage(\r\n    percent: number,\r\n    periodicityFirst: number | undefined,\r\n    periodicity: number | undefined\r\n  ): number {\r\n    if (!!periodicity) {\r\n      return (\r\n        Math.round(\r\n          ((percent * periodicity) / TaskVisitPopupFormComponent.PERCENTAGE_CONST) *\r\n            TaskVisitPopupFormComponent.ONE_DECIMAL_ROUND\r\n        ) / TaskVisitPopupFormComponent.ONE_DECIMAL_ROUND\r\n      );\r\n    }\r\n\r\n    if (!!periodicityFirst) {\r\n      return (\r\n        Math.round(\r\n          ((percent * periodicityFirst) / TaskVisitPopupFormComponent.PERCENTAGE_CONST) *\r\n            TaskVisitPopupFormComponent.ONE_DECIMAL_ROUND\r\n        ) / TaskVisitPopupFormComponent.ONE_DECIMAL_ROUND\r\n      );\r\n    }\r\n\r\n    return 0;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n  <a-content>\\r\\n    <div class=\\\"form-control\\\">\\r\\n      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"_changedVersion\\\" />\\r\\n    </div>\\r\\n  </a-content>\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"add()\\\" [disabled]=\\\"false\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { InputValidationService } from '../../../../../shared/services/input-validation.service';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\n\r\n@Component({\r\n  selector: 'aw-upgrade-popup-form',\r\n  templateUrl: './upgrade-popup-form.component.html',\r\n  styleUrls: ['../popup-form.component.scss']\r\n})\r\nexport class UpgradePopupFormComponent extends DialogComponent {\r\n  @Input()\r\n  public version: string;\r\n\r\n  @Output()\r\n  public changedVersion: EventEmitter<String>;\r\n\r\n  public _changedVersion: string;\r\n\r\n  public constructor(public inputValidationService: InputValidationService) {\r\n    super(ComponentOpenMode.Write, 'UpgradePopupFormComponent');\r\n    this.changedVersion = new EventEmitter<string>();\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public add() {\r\n    if (this._changedVersion !== this.version) {\r\n      this.changedVersion.emit(this._changedVersion);\r\n    }\r\n  }\r\n\r\n  public getTypeName(): string {\r\n    return 'UpgradePopupFormComponent';\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header-container\\\">\\r\\n  <div class=\\\"page-context\\\">\\r\\n    <div class=\\\"page-title-container\\\">\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-secondary-actions\\\">\\r\\n        <i\\r\\n          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n          [ngClass]=\\\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          (click)=\\\"updateFavoriteState()\\\"\\r\\n          pTooltip=\\\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-subtitle-container\\\">\\r\\n      <div class=\\\"page-subtitle\\\">{{ componentData.componentId + \\\".wbmRevNum\\\" | translate }} : {{ planCode }}</div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <a-table [dataSource]=\\\"changeRecordTableDataSource\\\">\\r\\n              <ng-template columnDef=\\\"taskReference\\\" let-rowData=\\\"rowData\\\">\\r\\n                <a (click)=\\\"openTaskForm(rowData)\\\">{{ rowData.taskReference }}</a>\\r\\n              </ng-template>\\r\\n              <ng-template columnDef=\\\"updatedTask\\\" let-rowData=\\\"rowData\\\">\\r\\n                <p-checkbox\\r\\n                  class=\\\"aw-checkbox custom-checkbox\\\"\\r\\n                  binary=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"rowData.updatedTask\\\"\\r\\n                  disabled\\r\\n                ></p-checkbox>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template columnDef=\\\"nilTask\\\" let-rowData=\\\"rowData\\\">\\r\\n                <p-checkbox\\r\\n                  class=\\\"aw-checkbox custom-checkbox\\\"\\r\\n                  binary=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"rowData.nilTask\\\"\\r\\n                  disabled\\r\\n                ></p-checkbox>\\r\\n              </ng-template>\\r\\n            </a-table>\\r\\n            <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n            <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n              <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n              <div class=\\\"lds-hourglass\\\"></div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { TableDataSource } from '../../../../shared/components/table/table-data-source';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { BireTaskDTO } from '../../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { ChangeRecordMaintenancePlanCodeDTO } from '../../../../shared/types/api-types/change-record-maintenance-plancode-dto.interface';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\n\r\nimport { ChangeRecordFormService } from './change-record-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-change-record-form',\r\n  templateUrl: './change-record-form.component.html'\r\n})\r\nexport class ChangeRecordFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public changeRecordTableDataSource: TableDataSource<ChangeRecordMaintenancePlanCodeDTO>;\r\n  public planCode: string;\r\n  public isLoading: boolean;\r\n  public task: BireTaskDTO;\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly changeRecordFormService: ChangeRecordFormService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n    this.initChangeRecordTableDataSource();\r\n    this.isLoading = true;\r\n    this.task = {};\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_CHANGE_RECORD_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.init();\r\n  }\r\n\r\n  private init() {\r\n    if (!!this.componentData.objectId) {\r\n      this.planCode = this.serializationService.deserialize(this.componentData.objectId);\r\n      this.loadChangeRecordTable();\r\n    }\r\n  }\r\n\r\n  private loadChangeRecordTable() {\r\n    const updatedTask: ChangeRecordMaintenancePlanCodeDTO[] = [];\r\n    this.changeRecordFormService.changeRecordByPlanCode(this.planCode).subscribe((result) => {\r\n      if (!!result) {\r\n        result.forEach((element) => {\r\n          const changeRecordRow: ChangeRecordMaintenancePlanCodeDTO = {\r\n            taskDesignation: element.taskDesignation,\r\n            changedReason: element.changedReason,\r\n            taskReference: element.taskReference,\r\n            updatedTask: element.updatedTask,\r\n            nilTask: element.nilTask\r\n          };\r\n          updatedTask.push(changeRecordRow);\r\n        });\r\n        this.changeRecordTableDataSource.setData(updatedTask);\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private initChangeRecordTableDataSource(): void {\r\n    this.changeRecordTableDataSource = new TableDataSource({\r\n      enableSelection: false,\r\n      columns: [\r\n        {\r\n          field: 'taskDesignation',\r\n          translateKey: this.getTranslateKey('taskDesignation'),\r\n          width: '35%'\r\n        },\r\n        {\r\n          field: 'changedReason',\r\n          translateKey: this.getTranslateKey('reasons'),\r\n          width: '35%'\r\n        },\r\n        {\r\n          field: 'taskReference',\r\n          translateKey: this.getTranslateKey('taskReference'),\r\n          width: '20%'\r\n        },\r\n        {\r\n          field: 'updatedTask',\r\n          translateKey: this.getTranslateKey('update'),\r\n          width: '5%'\r\n        },\r\n        {\r\n          field: 'nilTask',\r\n          translateKey: this.getTranslateKey('nil'),\r\n          width: '5%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public openTaskForm(object: ChangeRecordMaintenancePlanCodeDTO, openMode: ComponentOpenMode): void {\r\n    if (!!object.taskReference) {\r\n      const taskId = object.taskReference.split(':');\r\n      if (!!taskId) {\r\n        this.task = {\r\n          taskCode: taskId[0],\r\n          taskVersion: taskId[1]\r\n        };\r\n      }\r\n    }\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_TASK_FORM,\r\n      objectId: this.serializationService.serialize(this.task),\r\n      openMode\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { MhiaelImportApi } from '../../../../shared/api/mhiael/import.api';\r\nimport { AbstractAwMhiaelHttpService } from '../../../../shared/http/abstract-aw-mhiael-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { ChangeRecordMaintenancePlanCodeDTO } from '../../../../shared/types/api-types/change-record-maintenance-plancode-dto.interface';\r\n\r\n@Injectable()\r\nexport class ChangeRecordFormService extends AbstractAwMhiaelHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly mhiaelImportApi: MhiaelImportApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public changeRecordByPlanCode(input: string): Observable<ChangeRecordMaintenancePlanCodeDTO[]> {\r\n    return super.post<string, ChangeRecordMaintenancePlanCodeDTO[]>(this.mhiaelImportApi.changeRecordByPlanCode, input);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <textarea class=\\\"aw-textarea\\\" [rows]=\\\"20\\\" [cols]=\\\"150\\\" pInputTextarea [(ngModel)]=\\\"reportContent.text\\\"></textarea>\\r\\n    </div>\\r\\n  </a-content>\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.close\\\" | translate }}</button>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"exportToTxt()\\\">\\r\\n      {{ getComponentName() + \\\".exportTxt\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, Input, OnInit } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { MaintenanceProgramReports } from '../../../../shared/types/api-output-types/task-business/maintenance-program-reports.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\nimport { FileUtils } from '../../../../shared/utils/file-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-compare-maintenance-programs',\r\n  templateUrl: './dialog-compare-maintenance-programs.component.html'\r\n})\r\nexport class DialogCompareMaintenanceProgramsComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public reportContent: MaintenanceProgramReports;\r\n\r\n  public constructor() {\r\n    super(ComponentOpenMode.Read, 'DialogCompareMaintenanceProgramsComponent');\r\n    this.reportContent = {};\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    return;\r\n  }\r\n\r\n  public exportToTxt(): void {\r\n    FileUtils.downloadFile(\r\n      this.reportContent.bytes,\r\n      `Report_${new Date().toDateString()}_${new Date().getHours()}h${new Date().getSeconds()}.txt`\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"openNewMaintenanceProgram()\\\"\\r\\n      *ngIf=\\\"hasUpdateRights && hasUpdateAccessRight\\\"\\r\\n    >\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"familyVariants\\\"\\r\\n                        [(ngModel)]=\\\"selectedFamilyVariant\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".code\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".name\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planName\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\"></div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".revisionDate\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planRevisionDate\\\"\\r\\n                      ></p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".approvalDate\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planApprovalDate\\\"\\r\\n                      ></p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".validityEndDate\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-calendar\\r\\n                        showButtonBar=\\\"true\\\"\\r\\n                        [monthNavigator]=\\\"true\\\"\\r\\n                        [yearNavigator]=\\\"true\\\"\\r\\n                        [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                        class=\\\"aw-calendar\\\"\\r\\n                        [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                        [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planValidityEndDate\\\"\\r\\n                      ></p-calendar>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\"></div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"advanced-criteria\\\" [ngClass]=\\\"{ 'display--none': !showAdvancedCriteria }\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".revisionNumber\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planRevisionNumber\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".approvalNumber\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planApprovalNumber\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".description\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <textarea\\r\\n                          class=\\\"aw-textarea\\\"\\r\\n                          [rows]=\\\"3\\\"\\r\\n                          pInputTextarea\\r\\n                          [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planDescription\\\"\\r\\n                        ></textarea>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\"></div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <button mat-button (click)=\\\"showAdvancedCriteria = !showAdvancedCriteria\\\">\\r\\n                    <ng-container *ngIf=\\\"showAdvancedCriteria\\\">\\r\\n                      <mat-icon>remove</mat-icon>\\r\\n                      {{ \\\"global.collapseCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"!showAdvancedCriteria\\\">\\r\\n                      <mat-icon>add</mat-icon>\\r\\n                      {{ \\\"global.expandCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                  </button>\\r\\n\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <!-- Maintenance programs table -->\\r\\n\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{\\r\\n                    maintenanceProgramTableDataSource ? maintenanceProgramTableDataSource.dataCount : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <a-table\\r\\n              [dataSource]=\\\"maintenanceProgramTableDataSource\\\"\\r\\n              (onRowSelect)=\\\"validateMaintenanceProgramOptions()\\\"\\r\\n              (onRowUnselect)=\\\"validateMaintenanceProgramOptions()\\\"\\r\\n              (onHeaderCheckboxToggle)=\\\"validateMaintenanceProgramOptions()\\\"\\r\\n            >\\r\\n              <ng-template tableActionsDef>\\r\\n                <button\\r\\n                  *ngIf=\\\"enableComapreRMP\\\"\\r\\n                  class=\\\"btn-with-spinner\\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"compareRmp()\\\"\\r\\n                  [disabled]=\\\"isReportLoading\\\"\\r\\n                >\\r\\n                  <span *ngIf=\\\"isReportLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                  {{ componentData.componentId + \\\".compareRMPS\\\" | translate }}\\r\\n                </button>\\r\\n\\r\\n                <button\\r\\n                  *ngIf=\\\"enableComapreAMP\\\"\\r\\n                  class=\\\"btn-with-spinner\\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"compareAmp()\\\"\\r\\n                >\\r\\n                  <span *ngIf=\\\"isReportLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                  {{ componentData.componentId + \\\".compareAMPS\\\" | translate }}\\r\\n                </button>\\r\\n\\r\\n                <button\\r\\n                  *ngIf=\\\"enableComapreAMPagainstRMP\\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  class=\\\"btn-with-spinner\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"compareRmpWithAmp()\\\"\\r\\n                >\\r\\n                  <span *ngIf=\\\"isReportLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                  {{ componentData.componentId + \\\".compareRMPWithAMP\\\" | translate }}\\r\\n                </button>\\r\\n\\r\\n                <button\\r\\n                  *ngIf=\\\"\\r\\n                    maintenanceProgramTableDataSource &&\\r\\n                    maintenanceProgramTableDataSource.hasData &&\\r\\n                    !maintenanceProgramTableDataSource.hasDataSelection\\r\\n                  \\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"exportTable()\\\"\\r\\n                >\\r\\n                  {{ \\\"global.export\\\" | translate }}\\r\\n                </button>\\r\\n\\r\\n                <button\\r\\n                  *ngIf=\\\"\\r\\n                    hasManageAccessRight &&\\r\\n                    !isDeleteButtonDisabled &&\\r\\n                    hasDisplayRights &&\\r\\n                    maintenanceProgramTableDataSource.hasDataSelection\\r\\n                  \\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  color=\\\"warn\\\"\\r\\n                  (click)=\\\"deleteMaintenancePrograms()\\\"\\r\\n                >\\r\\n                  {{ \\\"global.delete\\\" | translate }}\\r\\n                </button>\\r\\n                <button\\r\\n                  *ngIf=\\\"maintenanceProgramTableDataSource.dataSelectionCount === 1 && sessionService.isSpecificMHIAEL\\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"changeRecord()\\\"\\r\\n                >\\r\\n                  {{ componentData.componentId + \\\".changeRecord\\\" | translate }}\\r\\n                </button>\\r\\n                <button\\r\\n                  *ngIf=\\\"maintenanceProgramTableDataSource.dataSelectionCount === 1\\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"openSelectedUpdatesList()\\\"\\r\\n                >\\r\\n                  {{ componentData.componentId + \\\".updatesList\\\" | translate }}\\r\\n                </button>\\r\\n\\r\\n                <button\\r\\n                  *ngIf=\\\"hasDisplayRights && maintenanceProgramTableDataSource.hasDataSelection\\\"\\r\\n                  type=\\\"button\\\"\\r\\n                  mat-raised-button\\r\\n                  (click)=\\\"openSelectedMaintenancePrograms()\\\"\\r\\n                >\\r\\n                  {{ \\\"global.open\\\" | translate }}\\r\\n                </button>\\r\\n              </ng-template>\\r\\n              <ng-template columnDef=\\\"code\\\" let-rowData=\\\"rowData\\\">\\r\\n                <a (click)=\\\"openMaintenanceProgramLink(rowData)\\\">{{ rowData.code }}</a>\\r\\n              </ng-template>\\r\\n              <ng-template columnDef=\\\"ampStatus\\\" let-rowData=\\\"rowData\\\">\\r\\n                <span\\r\\n                  *ngIf=\\\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'green'\\\"\\r\\n                  class=\\\"alert alert--ok\\\"\\r\\n                >\\r\\n                  {{ \\\"global.alertOk\\\" | translate }}\\r\\n                </span>\\r\\n\\r\\n                <span\\r\\n                  *ngIf=\\\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'red'\\\"\\r\\n                  class=\\\"alert alert--nok\\\"\\r\\n                >\\r\\n                  {{ \\\"global.alertNok\\\" | translate }}\\r\\n                </span>\\r\\n\\r\\n                <span\\r\\n                  *ngIf=\\\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'yellow'\\\"\\r\\n                  class=\\\"alert alert--warning\\\"\\r\\n                >\\r\\n                  {{ \\\"global.alertWarning\\\" | translate }}\\r\\n                </span>\\r\\n              </ng-template>\\r\\n            </a-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <aw-dialog-compare-maintenance-programs\\r\\n      *ngIf=\\\"showCompareReportPopup\\\"\\r\\n      [reportContent]=\\\"reportText\\\"\\r\\n      [(display)]=\\\"showCompareReportPopup\\\"\\r\\n    ></aw-dialog-compare-maintenance-programs>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .amp-status-icon {\\n  font-size: 1.125rem; }\\n  :host .amp-status-icon.red {\\n    color: #f6685e; }\\n  :host .amp-status-icon.green {\\n    color: #4caf50; }\\n  :host .amp-status-icon.yellow {\\n    color: #ffc107; }\\n  .alert {\\n  display: inline-block;\\n  max-width: 7rem;\\n  text-transform: uppercase;\\n  width: 100%; }\\n  .alert.alert--nok {\\n    background-color: #f6685e; }\\n  .alert.alert--ok {\\n    background-color: #4caf50; }\\n  .alert.alert--warning {\\n    background-color: #ffc107; }\\n  .red {\\n  color: #f6685e; }\\n  .green {\\n  color: #4caf50; }\\n  .yellow {\\n  color: #ffc107; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tc2VhcmNoL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxtYWludGVuYW5jZS1wcm9ncmFtLXNlYXJjaFxcbWFpbnRlbmFuY2UtcHJvZ3JhbS1zZWFyY2guY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9tYWludGVuYW5jZS1wcm9ncmFtLXNlYXJjaC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXHN0eWxlc1xcX2NvbnN0YW50cy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUksbUJBQW1CLEVBQUE7RUFGdkI7SUFLTSxjQ2lCYyxFQUFBO0VEdEJwQjtJQVNNLGNDVWdCLEVBQUE7RURuQnRCO0lBYU0sY0NPVSxFQUFBO0VERmhCO0VBQ0UscUJBQXFCO0VBQ3JCLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsV0FBVyxFQUFBO0VBSmI7SUFPSSx5QkNIZ0IsRUFBQTtFREpwQjtJQVdJLHlCQ1ZrQixFQUFBO0VERHRCO0lBZUkseUJDYlksRUFBQTtFRGlCaEI7RUFDRSxjQ2hCa0IsRUFBQTtFRG1CcEI7RUFDRSxjQ3ZCb0IsRUFBQTtFRDBCdEI7RUFDRSxjQzFCYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21haW50ZW5hbmNlLXByb2dyYW0tc2VhcmNoL21haW50ZW5hbmNlLXByb2dyYW0tc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5hbXAtc3RhdHVzLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAxLjEyNXJlbTtcclxuXHJcbiAgICAmLnJlZCB7XHJcbiAgICAgIGNvbG9yOiAkcmVkLWxpZ2h0MTtcclxuICAgIH1cclxuXHJcbiAgICAmLmdyZWVuIHtcclxuICAgICAgY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi55ZWxsb3cge1xyXG4gICAgICBjb2xvcjogJG9yYW5nZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi5hbGVydCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIG1heC13aWR0aDogN3JlbTtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG5cclxuICAmLmFsZXJ0LS1ub2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgfVxyXG5cclxuICAmLmFsZXJ0LS1vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgJi5hbGVydC0td2FybmluZyB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkb3JhbmdlO1xyXG4gIH1cclxufVxyXG5cclxuLnJlZCB7XHJcbiAgY29sb3I6ICRyZWQtbGlnaHQxO1xyXG59XHJcblxyXG4uZ3JlZW4ge1xyXG4gIGNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG59XHJcblxyXG4ueWVsbG93IHtcclxuICBjb2xvcjogJG9yYW5nZTtcclxufVxyXG4iLCIkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4kc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiRwcmltYXJ5LXRleHQtY29sb3I6ICMwMDA7XHJcbiRzZWNvbmRhcnktdGV4dC1jb2xvcjogIzU5NTk1OTtcclxuJGFjY2VudC1jb2xvcjogIzAxNTc5YjtcclxuXHJcbiRib2R5LWJhY2tncm91bmQtY29sb3I6ICNlOGViZWQ7XHJcbiR0b3BiYXItY29sb3I6ICNmYWZhZmE7XHJcblxyXG4vLyAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xyXG4vLyAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XHJcbi8vICRwcmltYXJ5LXRleHQtY29sb3I6ICNlOGU4ZTg7XHJcbi8vICRzZWNvbmRhcnktdGV4dC1jb2xvcjogI2ZmZjtcclxuLy8gJGFjY2VudC1jb2xvcjogIzljZGNmZTtcclxuXHJcbiRib3JkZXItY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ6IHRyYW5zcGFyZW50O1xyXG4kYm9yZGVyLWNvbG9yLS1mb2N1czogJGFjY2VudC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0taG92ZXI6ICMxYTFhMWE7XHJcblxyXG4kZ3JlZW4tZGFyazE6ICMyNzYzMmE7XHJcbiRncmVlbi1saWdodDE6ICM0Y2FmNTA7XHJcbiRvcmFuZ2U6ICNmZmMxMDc7XHJcbiRyZWQtZGFyazE6ICNhODI1MjU7XHJcbiRyZWQtbGlnaHQxOiAjZjY2ODVlO1xyXG4kYmx1ZS1saWdodDE6ICNiOGQwZTg7XHJcbiRibHVlLWRhcmsxOiAjMDA2ZWE5O1xyXG4kZ3JleTE6ICNjOGQ0ZDY7XHJcbiR5ZWxsb3cxOiAjZGRkZjAwO1xyXG5cclxuJGNyaXRpY2FsLXZhbHVlLWRhcms6ICNmYmE2NDM7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY3JpdGljYWwtdmFsdWUtbGlnaHQ6ICNmZWNjOGU7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY2FsZW5kYXIteWVsbG93OiAjZWZlZmIwOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGJhZC12YWx1ZS1kYXJrOiAjZmY2NzU4OyAvLyBUT0RPOiByZW1vdmUgaXRcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRib3JkZXItcmFkaXVzOiA0cHg7XHJcbiRib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiRmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJcIjtcclxuJGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiRmb250LXdlaWdodDogNDAwO1xyXG4kbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDI5O1xyXG4kbWFyZ2luLXZhbHVlOiA4cHg7XHJcbiRwYWdlLW1heC13aWR0aDogMTM2NnB4O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtNDogNDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTM6IDM7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0yOiAyO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGxlZnQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiR0b3BiYXItaGVpZ2h0OiA0MHB4O1xyXG4kbWFpbmJhci1ib3JkZXItY29sb3I6IGRhcmtlbigkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IsIDUlKTtcclxuJG1haW5iYXItYm9yZGVyLXdpZHRoOiAycHg7XHJcbiRwYWdlLWhlYWRlci1oZWlnaHQ6IDUuNXJlbTtcclxuJGZvcm0tY29udHJvbC1oZWlnaHQ6IDIuNXJlbTtcclxuJGNoZWNrYm94LWhlaWdodDogMS4yNXJlbTtcclxuJHJhZGlvYnV0dG9uLWhlaWdodDogMS4yNXJlbTtcclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\n\r\nimport { ColumnAlignment, TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { BireMaintenancePlanConstants } from '../../../shared/constants/bire-maintenance-plan-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { CompareMaintenancePlansInput } from '../../../shared/types/api-input-types/task-business/compare-maintenance-plans-input.interface';\r\nimport { FindBireMaintenancePlansByCriteriaInput } from '../../../shared/types/api-input-types/task-management/find-bire-maintenance-plans-by-criteria-input.interface';\r\nimport { GetVariantOutputDTO } from '../../../shared/types/api-output-types/engineering-data-exchange/get-variant-output-dto.interface';\r\nimport { MaintenanceProgramReports } from '../../../shared/types/api-output-types/task-business/maintenance-program-reports.interface';\r\nimport { MaintenanaceProgramTableDTO } from '../../../shared/types/api-output-types/task-management/maintenanace-program-table-dto.interface';\r\nimport { BireMaintenancePlanDTOId } from '../../../shared/types/api-types/bire-maintenance-plan-dto-id.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\n\r\nimport { MaintenanceProgramSearchService } from './maintenance-program-search.service';\r\n\r\ninterface MaintenanceProgramRow {\r\n  code: string;\r\n  name: string;\r\n  revisionNumber?: string;\r\n  type?: string;\r\n  revisionDate?: string;\r\n  status?: string;\r\n  approvalDate?: string;\r\n  validityEndDate?: string;\r\n  ampStatus?: string;\r\n  isRMPHaveRelatedOMP?: boolean;\r\n  isAMPHaveRelatedOMP?: boolean;\r\n  applicableMaintenancePlanCode?: string;\r\n  recommendedMaintenancePlanCode?: string;\r\n}\r\n\r\ninterface MaintenanceProgramExport {\r\n  code: string;\r\n  name: string;\r\n  revisionNumber?: string;\r\n  type?: string;\r\n  revisionDate?: string;\r\n  status?: string;\r\n  approvalDate?: string;\r\n  validityEndDate?: string;\r\n  ampStatus?: string;\r\n}\r\n\r\nconst MIN_SELECTION_FOR_COMPARISON = 2;\r\n\r\n@Component({\r\n  selector: 'aw-maintenance-program-search',\r\n  styleUrls: ['./maintenance-program-search.component.scss'],\r\n  templateUrl: './maintenance-program-search.component.html'\r\n})\r\nexport class MaintenanceProgramSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  private static readonly MAINTENANCE_TABLE_EXPORT_NAME: string = 'maintenance-program-list';\r\n\r\n  public MAINTENANCE_PLAN = { ...BireMaintenancePlanConstants };\r\n\r\n  public familyVariants: LabelValue<GetVariantOutputDTO>[];\r\n  public maintenanceProgramTableDataSource: TableDataSource<MaintenanceProgramRow>;\r\n  public searchObject: FindBireMaintenancePlansByCriteriaInput;\r\n  public showAdvancedCriteria: boolean;\r\n  public showCompareReportPopup: boolean;\r\n  public reportText: MaintenanceProgramReports;\r\n  public selectedFamilyVariant: GetVariantOutputDTO | undefined;\r\n  public isDeleteButtonDisabled: boolean;\r\n  public isEditButtonDisabled: boolean;\r\n  public enableComapreAMP: boolean;\r\n  public enableComapreRMP: boolean;\r\n  public enableComapreAMPagainstRMP: boolean;\r\n  public statusMap: Map<string, string>;\r\n  public hasManageRights: boolean;\r\n  public hasDisplayRights: boolean;\r\n  public hasUpdateRights: boolean;\r\n  public isLoading: boolean;\r\n  public isReportLoading: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    public translateService: TranslateService,\r\n    private readonly maintenanceProgramSearchService: MaintenanceProgramSearchService,\r\n    private readonly exportService: ExportService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly propertiesService: PropertiesService,\r\n    public dateService: DateService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.familyVariants = [];\r\n    this.showAdvancedCriteria = false;\r\n    this.showCompareReportPopup = false;\r\n    this.isDeleteButtonDisabled = true;\r\n    this.isEditButtonDisabled = true;\r\n    this.enableComapreAMP = false;\r\n    this.enableComapreAMPagainstRMP = false;\r\n    this.enableComapreRMP = false;\r\n    this.reportText = {};\r\n    this.statusMap = new Map<string, string>();\r\n\r\n    this.loadRights();\r\n    this.loadStatus();\r\n    this.loadFamilyVariants();\r\n    this.resetSearchCriteria();\r\n    this.initMaintenanceProgramTableDataSource();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_MAINTENANCE_PROGRAM_SEARCH;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.selectedFamilyVariant = undefined;\r\n    this.searchObject = {\r\n      bireMaintenancePlanDTO: {},\r\n      bireVariantVersionDTO: {}\r\n    };\r\n  }\r\n\r\n  public exportTable(): void {\r\n    if (!!this.componentData) {\r\n      const list: MaintenanceProgramExport[] = this.maintenanceProgramTableDataSource.sanitizedData.map((obj) => {\r\n        const exportObj: MaintenanceProgramExport = {\r\n          code: obj.code,\r\n          name: obj.name,\r\n          revisionNumber: obj.revisionNumber,\r\n          type: obj.type,\r\n          revisionDate: obj.revisionDate,\r\n          status: obj.status,\r\n          approvalDate: obj.approvalDate,\r\n          validityEndDate: obj.validityEndDate,\r\n          ampStatus: this.getAmpStatus(obj.ampStatus)\r\n        };\r\n\r\n        return exportObj;\r\n      });\r\n\r\n      this.exportService.toExcel(\r\n        list,\r\n        MaintenanceProgramSearchComponent.MAINTENANCE_TABLE_EXPORT_NAME,\r\n        this.componentData.componentId\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('exportTable', 'this.componentData');\r\n    }\r\n  }\r\n\r\n  private getAmpStatus(status?: string): string {\r\n    if (status === 'green') {\r\n      return 'OK';\r\n    } else if (status === 'red') {\r\n      return 'NOK';\r\n    } else if (status === 'yellow') {\r\n      return 'WARNING';\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  private initMaintenanceProgramTableDataSource(): void {\r\n    this.maintenanceProgramTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'code',\r\n          translateKey: this.getTranslateKey('code'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'name',\r\n          translateKey: this.getTranslateKey('name'),\r\n          width: '23%'\r\n        },\r\n        {\r\n          field: 'revisionNumber',\r\n          translateKey: this.getTranslateKey('revisionNumber'),\r\n          width: '5%'\r\n        },\r\n        {\r\n          field: 'type',\r\n          translateKey: this.getTranslateKey('type'),\r\n          width: '5%'\r\n        },\r\n        {\r\n          field: 'revisionDate',\r\n          translateKey: this.getTranslateKey('revisionDate'),\r\n          width: '10%'\r\n        },\r\n        {\r\n          field: 'status',\r\n          translateKey: this.getTranslateKey('status'),\r\n          width: '10%'\r\n        },\r\n        {\r\n          field: 'approvalDate',\r\n          translateKey: this.getTranslateKey('approvalDate'),\r\n          width: '10%'\r\n        },\r\n        {\r\n          field: 'validityEndDate',\r\n          translateKey: this.getTranslateKey('validityEndDate'),\r\n          width: '12%'\r\n        },\r\n        {\r\n          field: 'ampStatus',\r\n          translateKey: this.getTranslateKey('ampStatus'),\r\n          alignment: ColumnAlignment.CENTER,\r\n          width: '10%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private loadStatus(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FUNC_OBJECT_STATUS_MAP).subscribe((results) => {\r\n      results.forEach((element) => {\r\n        this.statusMap.set(element.value, element.label);\r\n      });\r\n    });\r\n  }\r\n\r\n  private loadFamilyVariants(): void {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_TASK,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n    this.maintenanceProgramSearchService\r\n      .findBireFamilyVariantDropdownForMaintenanceProgram(familyVariantInput)\r\n      .subscribe((results) => {\r\n        results.forEach((element) => {\r\n          let label = element.familyName ? element.familyName : element.familyCode;\r\n          label = `${label}-${element.structureType}`;\r\n          label = `${label}-${element.variantName ? element.variantName : element.variantCode}`;\r\n          const variantLabelValue: LabelValue<GetVariantOutputDTO> = {\r\n            label,\r\n            value: element\r\n          };\r\n          this.familyVariants.push(variantLabelValue);\r\n        });\r\n      });\r\n  }\r\n\r\n  public deleteMaintenancePrograms(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.confirmSelectedDataDelete',\r\n      accept: () => {\r\n        const tempMaintenanceId: BireMaintenancePlanDTO[] = [];\r\n        this.maintenanceProgramTableDataSource.dataSelection.forEach((maintenanceProgram) => {\r\n          if (!!maintenanceProgram && !!maintenanceProgram.code) {\r\n            const maintenanceProgramId: BireMaintenancePlanDTO = {\r\n              planCode: maintenanceProgram.code,\r\n              ampplanCode: maintenanceProgram.applicableMaintenancePlanCode\r\n            };\r\n\r\n            if (!!maintenanceProgramId) {\r\n              tempMaintenanceId.push(maintenanceProgramId);\r\n            }\r\n          }\r\n        });\r\n\r\n        this.maintenanceProgramSearchService.removeBireMaintenancePlan(tempMaintenanceId).subscribe(() => {\r\n          this.search();\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteMaintenanceProgram'));\r\n        });\r\n\r\n        this.maintenanceProgramTableDataSource.dataSelection = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public validateMaintenanceProgramOptions(): void {\r\n    this.enableComapreAMP = false;\r\n    this.enableComapreRMP = false;\r\n    this.enableComapreAMPagainstRMP = false;\r\n\r\n    this.maintenanceProgramTableDataSource.dataSelection.forEach((tableRow) => {\r\n      // this.isEditButtonDisabled = false;\r\n      this.isDeleteButtonDisabled = false;\r\n      // Disable Update for Approved RMPs with approved AMPs\r\n      // if (tableRow.type === 'RMP' && tableRow.status === 'Approved' && tableRow.ampStatus === 'green') {\r\n      //   this.isEditButtonDisabled = true;\r\n      // }\r\n      // Disable delete for RMP with AMP assigned to Assets\r\n      if (\r\n        tableRow.type === BireMaintenancePlanConstants.PLAN_TYPE_RMP &&\r\n        !!tableRow.applicableMaintenancePlanCode &&\r\n        tableRow.isAMPHaveRelatedOMP\r\n      ) {\r\n        this.isDeleteButtonDisabled = true;\r\n      }\r\n      // Disable delete for RMP assigned to Assets\r\n      if (\r\n        tableRow.type === BireMaintenancePlanConstants.PLAN_TYPE_RMP &&\r\n        !!!tableRow.applicableMaintenancePlanCode &&\r\n        tableRow.isRMPHaveRelatedOMP\r\n      ) {\r\n        this.isDeleteButtonDisabled = true;\r\n      }\r\n      // Disable delete for AMP assigned to Assets\r\n      if (tableRow.type === BireMaintenancePlanConstants.PLAN_TYPE_AMP && tableRow.isAMPHaveRelatedOMP) {\r\n        this.isDeleteButtonDisabled = true;\r\n      }\r\n    });\r\n    // enable table navigation menus\r\n    if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {\r\n      let noOfAmps = 0;\r\n      let noOfRmps = 0;\r\n      let selectedAMPCodeForRMP: string | undefined;\r\n      let selectedAMPCode: string | undefined;\r\n      this.maintenanceProgramTableDataSource.dataSelection.forEach((maintenanceProgram) => {\r\n        if (maintenanceProgram.type === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n          noOfAmps += 1;\r\n          selectedAMPCode = maintenanceProgram.code;\r\n        }\r\n        if (maintenanceProgram.type === BireMaintenancePlanConstants.PLAN_TYPE_RMP) {\r\n          noOfRmps += 1;\r\n          selectedAMPCodeForRMP = maintenanceProgram.applicableMaintenancePlanCode;\r\n        }\r\n      });\r\n      if (noOfAmps > 1) {\r\n        this.enableComapreAMP = true;\r\n      } else if (noOfRmps > 1) {\r\n        this.enableComapreRMP = true;\r\n      } else if (noOfRmps === 1 && noOfAmps === 1 && selectedAMPCodeForRMP === selectedAMPCode) {\r\n        this.enableComapreAMPagainstRMP = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  public openNewMaintenanceProgram(): void {\r\n    this.openMaintenanceProgram(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  private openMaintenanceProgram(objectId: MaintenanceProgramRow | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_MAINTENANCE_PROGRAM_FORM,\r\n      openMode\r\n    };\r\n\r\n    if (!!objectId) {\r\n      const birePlanDTOId: BireMaintenancePlanDTOId = {\r\n        planCode: objectId.code\r\n      };\r\n      data.objectId = this.serializationService.serialize(birePlanDTOId);\r\n    }\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openSelectedMaintenancePrograms(): void {\r\n    this.maintenanceProgramTableDataSource.dataSelection.forEach((program) => {\r\n      if (!!program) {\r\n        this.openMaintenanceProgram(program, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  public openSelectedUpdatesList(): void {\r\n    this.maintenanceProgramTableDataSource.dataSelection.forEach((program) => {\r\n      if (!!program) {\r\n        this.openUpdatesList(program, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  private openUpdatesList(objectId: MaintenanceProgramRow | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_MAINTENANCE_PROGRAM_UPDATES_LIST,\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      const birePlanDTO: BireMaintenancePlanDTO = {\r\n        planCode: objectId.code,\r\n        planName: objectId.name,\r\n        statusState: objectId.status\r\n      };\r\n      data.objectId = this.serializationService.serialize(birePlanDTO);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openMaintenanceProgramLink(maintenanceProgramRow: MaintenanceProgramRow): void {\r\n    this.openMaintenanceProgram(maintenanceProgramRow, ComponentOpenMode.Read);\r\n  }\r\n\r\n  public search(): void {\r\n    this.maintenanceProgramTableDataSource.setData([]);\r\n    if (this.selectedFamilyVariant) {\r\n      this.searchObject.bireVariantVersionDTO = {\r\n        familyCode: this.selectedFamilyVariant.familyCode,\r\n        structureType: this.selectedFamilyVariant.structureType,\r\n        variantCode: this.selectedFamilyVariant.variantCode,\r\n        variantName: this.selectedFamilyVariant.variantName\r\n      };\r\n    } else {\r\n      this.searchObject.bireVariantVersionDTO = {};\r\n    }\r\n    this.isLoading = true;\r\n    this.maintenanceProgramSearchService.findBireMaintenancePlansByCriteria(this.searchObject).subscribe((result) => {\r\n      this.setMaintenanceProgramTable(result);\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  private setMaintenanceProgramTable(result: SearchResultsDTO<MaintenanaceProgramTableDTO>): void {\r\n    if (!!result) {\r\n      const mpList: MaintenanceProgramRow[] = [];\r\n      let status;\r\n      result.list.forEach((maintenanaceProgram) => {\r\n        if (\r\n          !!maintenanaceProgram &&\r\n          !!maintenanaceProgram.bireMaintenancePlanDTO &&\r\n          !!maintenanaceProgram.bireMaintenancePlanDTO.planCode &&\r\n          !!maintenanaceProgram.bireMaintenancePlanDTO.planName\r\n        ) {\r\n          status = !!maintenanaceProgram.bireMaintenancePlanDTO.statusState\r\n            ? this.statusMap.get(maintenanaceProgram.bireMaintenancePlanDTO.statusState)\r\n            : '';\r\n\r\n          const maintenanceRow: MaintenanceProgramRow = {\r\n            code: maintenanaceProgram.bireMaintenancePlanDTO.planCode,\r\n            name: maintenanaceProgram.bireMaintenancePlanDTO.planName,\r\n            revisionNumber: maintenanaceProgram.bireMaintenancePlanDTO.planRevisionNumber,\r\n            type: maintenanaceProgram.planType,\r\n            revisionDate:\r\n              maintenanaceProgram.bireMaintenancePlanDTO.planRevisionDate &&\r\n              this.dateService.dateToString(maintenanaceProgram.bireMaintenancePlanDTO.planRevisionDate),\r\n            status,\r\n            // approvalNumber: maintenanaceProgram.bireMaintenancePlanDTO.planApprovalNumber,\r\n            approvalDate:\r\n              maintenanaceProgram.bireMaintenancePlanDTO.planApprovalDate &&\r\n              this.dateService.dateToString(maintenanaceProgram.bireMaintenancePlanDTO.planApprovalDate),\r\n            validityEndDate:\r\n              maintenanaceProgram.bireMaintenancePlanDTO.planValidityEndDate &&\r\n              this.dateService.dateToString(maintenanaceProgram.bireMaintenancePlanDTO.planValidityEndDate),\r\n            ampStatus: maintenanaceProgram.ampstatus,\r\n            applicableMaintenancePlanCode: maintenanaceProgram.applicableMaintenancePlanCode,\r\n            isRMPHaveRelatedOMP: maintenanaceProgram.isRMPHaveRelatedOMP,\r\n            isAMPHaveRelatedOMP: maintenanaceProgram.isAMPHaveRelatedOMP,\r\n            recommendedMaintenancePlanCode: maintenanaceProgram.recommendedMaintenancePlanCode\r\n          };\r\n\r\n          if (!maintenanaceProgram.bireMaintenancePlanDTO.ampplanCode) {\r\n            maintenanceRow.ampStatus = undefined;\r\n          }\r\n\r\n          mpList.push(maintenanceRow);\r\n        }\r\n      });\r\n      this.maintenanceProgramTableDataSource.setData(mpList);\r\n    }\r\n    this.maintenanceProgramTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  public compareRmp(): void {\r\n    if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {\r\n      const getRmps = this.maintenanceProgramTableDataSource.dataSelection.filter((maintenanceProgram) => {\r\n        return maintenanceProgram.type === BireMaintenancePlanConstants.PLAN_TYPE_RMP;\r\n      });\r\n\r\n      if (getRmps.length === MIN_SELECTION_FOR_COMPARISON) {\r\n        const plan: CompareMaintenancePlansInput = {\r\n          planCode: this.maintenanceProgramTableDataSource.dataSelection[0].code,\r\n          applicableMaintenancePlanCode: this.maintenanceProgramTableDataSource.dataSelection[1].code,\r\n          isRmpAndAmp: false\r\n        };\r\n\r\n        this.isReportLoading = true;\r\n        const observables: Observable<MaintenanceProgramReports>[] = [];\r\n        if (this.sessionService.isSpecificMHIAEL) {\r\n          observables.push(this.maintenanceProgramSearchService.compareMaintenancePlansByDeltaTasks(plan));\r\n        } else {\r\n          observables.push(this.maintenanceProgramSearchService.compareMaintenancePlans(plan));\r\n        }\r\n        forkJoin(observables).subscribe((result) => {\r\n          this.reportText = result[0];\r\n          this.showCompareReportPopup = true;\r\n          this.isReportLoading = false;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  public compareAmp(): void {\r\n    if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {\r\n      const getAmps = this.maintenanceProgramTableDataSource.dataSelection.filter((maintenanceProgram) => {\r\n        return maintenanceProgram.type === BireMaintenancePlanConstants.PLAN_TYPE_AMP;\r\n      });\r\n\r\n      if (getAmps.length === MIN_SELECTION_FOR_COMPARISON) {\r\n        const plan: CompareMaintenancePlansInput = {\r\n          planCode: this.maintenanceProgramTableDataSource.dataSelection[0].code,\r\n          applicableMaintenancePlanCode: this.maintenanceProgramTableDataSource.dataSelection[1].code,\r\n          isRmpAndAmp: false\r\n        };\r\n        this.isReportLoading = true;\r\n        this.maintenanceProgramSearchService.compareMaintenancePlans(plan).subscribe((result) => {\r\n          this.reportText = result;\r\n          this.showCompareReportPopup = true;\r\n          this.isReportLoading = false;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  public compareRmpWithAmp(): void {\r\n    if (this.maintenanceProgramTableDataSource.dataSelectionCount === MIN_SELECTION_FOR_COMPARISON) {\r\n      let isAMP = false;\r\n      let isRMP = false;\r\n      const plan: CompareMaintenancePlansInput = {\r\n        isRmpAndAmp: true\r\n      };\r\n      let selectedAMP: string | undefined;\r\n      this.maintenanceProgramTableDataSource.dataSelection.forEach((maintenanceProgram) => {\r\n        if (maintenanceProgram.type === BireMaintenancePlanConstants.PLAN_TYPE_AMP) {\r\n          isAMP = true;\r\n          plan.applicableMaintenancePlanCode = maintenanceProgram.code;\r\n        } else if (maintenanceProgram.type === BireMaintenancePlanConstants.PLAN_TYPE_RMP) {\r\n          isRMP = true;\r\n          plan.planCode = maintenanceProgram.code;\r\n          selectedAMP = maintenanceProgram.applicableMaintenancePlanCode;\r\n        }\r\n      });\r\n\r\n      if (isAMP && isRMP && plan.applicableMaintenancePlanCode === selectedAMP) {\r\n        this.isReportLoading = true;\r\n        this.maintenanceProgramSearchService.compareMaintenancePlans(plan).subscribe((result) => {\r\n          this.reportText = result;\r\n          this.showCompareReportPopup = true;\r\n          this.isReportLoading = false;\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private loadRights(): void {\r\n    this.maintenanceProgramSearchService.hasManageRights().subscribe((results) => {\r\n      this.hasManageRights = results;\r\n    });\r\n    this.maintenanceProgramSearchService.hasDisplayRights().subscribe((results) => {\r\n      this.hasDisplayRights = results;\r\n    });\r\n    this.maintenanceProgramSearchService.hasUpdateRights().subscribe((results) => {\r\n      this.hasUpdateRights = results;\r\n    });\r\n  }\r\n  private openChangeRecord(objectId: string, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_CHANGE_RECORD_FORM,\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      data.objectId = this.serializationService.serialize(objectId);\r\n    }\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public changeRecord(): void {\r\n    this.maintenanceProgramTableDataSource.dataSelection.forEach((program) => {\r\n      if (!!program && !!program.code) {\r\n        this.openChangeRecord(program.code, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { TaskBusinessApi } from '../../../shared/api/task-business.api';\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { UserProfileBusinessApi } from '../../../shared/api/user-profile-business.api';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { CompareMaintenancePlansInput } from '../../../shared/types/api-input-types/task-business/compare-maintenance-plans-input.interface';\r\nimport { FindBireMaintenancePlansByCriteriaInput } from '../../../shared/types/api-input-types/task-management/find-bire-maintenance-plans-by-criteria-input.interface';\r\nimport { GetVariantOutputDTO } from '../../../shared/types/api-output-types/engineering-data-exchange/get-variant-output-dto.interface';\r\nimport { MaintenanceProgramReports } from '../../../shared/types/api-output-types/task-business/maintenance-program-reports.interface';\r\nimport { MaintenanaceProgramTableDTO } from '../../../shared/types/api-output-types/task-management/maintenanace-program-table-dto.interface';\r\nimport { AccessRightQueryDTO } from '../../../shared/types/api-types/access-right-query-dto.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-types/find-family-variant-input.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class MaintenanceProgramSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly taskBusinessApi: TaskBusinessApi,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly userProfileBusinessApi: UserProfileBusinessApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireFamilyVariantDropdownForMaintenanceProgram(\r\n    familyVariantInput: FindFamilyVariantInput\r\n  ): Observable<GetVariantOutputDTO[]> {\r\n    return super.post<FindFamilyVariantInput, GetVariantOutputDTO[]>(\r\n      this.productStructureManagementApi.findBireFamilyVariantDropdownForMaintenanceProgram,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public findBireMaintenancePlansByCriteria(\r\n    criteria: FindBireMaintenancePlansByCriteriaInput\r\n  ): Observable<SearchResultsDTO<MaintenanaceProgramTableDTO>> {\r\n    return super.post<FindBireMaintenancePlansByCriteriaInput, SearchResultsDTO<MaintenanaceProgramTableDTO>>(\r\n      this.taskManagementApi.findBireMaintenancePlansByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public removeBireMaintenancePlan(bireMaintenancePlanDTOIds: BireMaintenancePlanDTO[]): Observable<boolean> {\r\n    return super.post<BireMaintenancePlanDTO[], boolean>(\r\n      this.taskManagementApi.removeBireMaintenancePlan,\r\n      bireMaintenancePlanDTOIds\r\n    );\r\n  }\r\n\r\n  public compareMaintenancePlansByDeltaTasks(\r\n    compareMaintenancePlansInput: CompareMaintenancePlansInput\r\n  ): Observable<MaintenanceProgramReports> {\r\n    return super.post<CompareMaintenancePlansInput, MaintenanceProgramReports>(\r\n      this.taskBusinessApi.compareMaintenancePlansByDeltaTasks,\r\n      compareMaintenancePlansInput\r\n    );\r\n  }\r\n\r\n  public compareMaintenancePlans(\r\n    compareMaintenancePlansInput: CompareMaintenancePlansInput\r\n  ): Observable<MaintenanceProgramReports> {\r\n    return super.post<CompareMaintenancePlansInput, MaintenanceProgramReports>(\r\n      this.taskBusinessApi.compareMaintenancePlans,\r\n      compareMaintenancePlansInput\r\n    );\r\n  }\r\n\r\n  public hasUpdateRights(): Observable<boolean> {\r\n    const accessRightQueryDTO: AccessRightQueryDTO = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_MCH_TASK,\r\n      functionCode: undefined\r\n    };\r\n\r\n    return super.post<AccessRightQueryDTO, boolean>(this.userProfileBusinessApi.hasUpdateRights, accessRightQueryDTO);\r\n  }\r\n\r\n  public hasDisplayRights(): Observable<boolean> {\r\n    const accessRightQueryDTO: AccessRightQueryDTO = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_MCH_TASK,\r\n      functionCode: undefined\r\n    };\r\n\r\n    return super.post<AccessRightQueryDTO, boolean>(this.userProfileBusinessApi.hasDisplayRights, accessRightQueryDTO);\r\n  }\r\n\r\n  public hasManageRights(): Observable<boolean> {\r\n    const accessRightQueryDTO: AccessRightQueryDTO = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_MCH_TASK,\r\n      functionCode: undefined\r\n    };\r\n\r\n    return super.post<AccessRightQueryDTO, boolean>(this.userProfileBusinessApi.hasManageRights, accessRightQueryDTO);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          {{ displayName }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"object-status\\\">\\r\\n      {{ planDTO.statusState }}\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <!-- Update Tasks table -->\\r\\n\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ getComponentName() + \\\".updatedTasks\\\" | translate }} ({{\\r\\n                    updatedTasksTableDataSource ? updatedTasksTableDataSource.dataCount : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <a-table [dataSource]=\\\"updatedTasksTableDataSource\\\"> </a-table>\\r\\n            <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n            <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n              <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n              <div class=\\\"lds-hourglass\\\"></div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { BidoAttributeConstants } from '../../../shared/constants/bido-attribute-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { BireMeasurementCustomDTO } from '../../../shared/types/api-output-types/task-management/bire-measurement-custom-dto.interface';\r\nimport { MaintenanceProgramUpdatedOutputDTO } from '../../../shared/types/api-output-types/task-management/maintenance-program-updated-output-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireDocumentCustomDTO } from '../../../shared/types/api-types/bire-document-custom-dto.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { BireOperationCustomDTO } from '../../../shared/types/api-types/bire-operation-custom-dto.interface';\r\nimport { BireQualificationDTO } from '../../../shared/types/api-types/bire-qualification-dto.interface';\r\nimport { BireSmTaskDTO } from '../../../shared/types/api-types/bire-sm-task-dto.interface';\r\nimport { BireTaskAttributeCustomDTO } from '../../../shared/types/api-types/bire-task-attribute-custom-dto.interface';\r\nimport { BireTaskDTOId } from '../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskDTO } from '../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { BireTaskEvolutionMaintenanceDTO } from '../../../shared/types/api-types/bire-task-evolution-maintenance-dto.interface';\r\nimport { BireTaskItemWithItemCustomDTO } from '../../../shared/types/api-types/bire-task-item-with-item-custom-dto.interface';\r\nimport { BireTilDTO } from '../../../shared/types/api-types/bire-til-dto.interface';\r\nimport { GetMaintainanceProgramWithTaskDTO } from '../../../shared/types/api-types/get-maintainance-program-with-task-dto.interface';\r\nimport { LinkedTaskCustomDTO } from '../../../shared/types/api-types/linked-task-custom-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\n\r\nimport { MaintenanceProgramUpdatesListService } from './maintenance-program-updates-list.service';\r\n\r\ninterface UpdatedTasksRow {\r\n  taskCode?: string;\r\n  taskVersion?: string;\r\n  tabName?: string;\r\n  panelName?: string;\r\n  fieldName?: string;\r\n  currentValue?: string;\r\n  previousValue?: string;\r\n  previousTaskVersion?: string;\r\n  previousRmpVersion?: string;\r\n}\r\n\r\ninterface OperationRow {\r\n  opeSequenceNumber?: number;\r\n  opeCode?: string;\r\n  opeVersion?: string;\r\n  opeDesignation?: string;\r\n  opeDurationTime?: number;\r\n  opeManHour?: number;\r\n  opeQualification?: string;\r\n  opeCost: number;\r\n}\r\n\r\ninterface TechnicalLevelRow {\r\n  tilName?: string;\r\n  tilDescription?: string;\r\n}\r\n\r\ninterface EvolutionRow {\r\n  evolutionNumber?: string;\r\n  evolutionRevisionNumber?: string;\r\n  taskEvolutionTypeCode?: string;\r\n  evolutionSummary?: string;\r\n}\r\n\r\ninterface MaintenanceProgramRow {\r\n  programName?: string;\r\n  reference?: string;\r\n  periodicity?: number;\r\n  programCode?: string;\r\n  programDesignation?: string;\r\n  programRevisionNumber?: string;\r\n}\r\n\r\ninterface ItemRow {\r\n  familyVariant?: string;\r\n  item?: string;\r\n  versionNumber?: string;\r\n  taskItemTypeCode?: string;\r\n  name?: string;\r\n}\r\n\r\ninterface TaskRow {\r\n  taskDesignation?: string;\r\n  taskDescription?: string;\r\n  taskStatus?: string;\r\n  taskApplicabilityDate?: string;\r\n  taskApplicabilityCode?: string;\r\n  repairCenterCode?: string;\r\n  groupCode?: string;\r\n  taskTypeCode?: string;\r\n  overhaul?: boolean;\r\n  inspectionPerEsm?: string;\r\n  taskZone?: string;\r\n  taskChapter?: string;\r\n  taskSection?: string;\r\n  taskSubject?: string;\r\n  taskTask?: string;\r\n  taskSubTask?: string;\r\n}\r\n\r\ninterface ShopManualsRow {\r\n  smCode?: string;\r\n  smVersionStart?: string;\r\n  smVersionEnd?: string;\r\n}\r\n\r\ninterface QualificationRow {\r\n  qualificationCode?: string;\r\n  qualificationName?: string;\r\n  qualificationDescription?: string;\r\n  averageHourRate?: string;\r\n}\r\n\r\ninterface MeasurementPointRow {\r\n  counterCode?: string;\r\n  counterRemarks?: string;\r\n  description?: string;\r\n  unitCode?: string;\r\n  toolPartNumber?: string;\r\n  formula?: string;\r\n  sequenceNumber?: number;\r\n  groupCode?: string;\r\n}\r\n\r\ninterface DocumentRow {\r\n  docType?: string;\r\n  docName?: string;\r\n  docCategory?: string;\r\n  docPublicationDate?: string;\r\n  docSource?: string;\r\n}\r\n\r\ninterface AdequateTaskRow {\r\n  sequenceNumber?: number;\r\n  linkType?: string;\r\n  taskDesignation?: string;\r\n  taskCode?: string;\r\n  taskVersion?: string;\r\n  groupCode?: string;\r\n  taskTypeCode?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-maintenance-program-updates-list',\r\n  templateUrl: './maintenance-program-updates-list.component.html'\r\n})\r\nexport class MaintenanceProgramUpdatesListComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public static readonly HOME: string = 'home';\r\n  public static readonly TASK_CARD = 'taskCard';\r\n  public static readonly IMPACTS = 'impacts';\r\n  public static readonly PREREQUISITES = 'prerequisites';\r\n  public static readonly ATTRIBUTES = 'attributes';\r\n  public static readonly DOCUMENTS = 'documents';\r\n  public static readonly MEASUREMENT_POINT = 'measurementPoint';\r\n  public static readonly MAINTENANCE_PROGRAMS = 'maintenancePrograms';\r\n  public static readonly SHOP_MANUALS = 'shopManuals';\r\n  public static readonly OPERATIONS = 'operations';\r\n  public static readonly EVOLUTIONS = 'evolutions';\r\n  public static readonly ITEMS = 'items';\r\n  public static readonly TECHNICAL_LEVEL = 'technicalLevel';\r\n  public static readonly ASSOCIATED_QUALIFICATIONS = 'associatedQualifications';\r\n  public static readonly TOP_DOWN_STRUCTURE = 'topDownStructure';\r\n  public static readonly SUPERIOR_TASKS = 'superiorTasks';\r\n  public static readonly ANTERIOR_TASKS = 'anteriorInSequence';\r\n  public static readonly POSTERIOR_TASKS = 'posteriorInSequence';\r\n  public static readonly LINKED_TASK = 'linkedTasks';\r\n  public static readonly MAIN_INFORMATION = 'mainInformation';\r\n  public static readonly ADDITIONAL_INFORMATION = 'additionalInformation';\r\n  public static readonly REFERENCE_MANUAL = 'referenceManual';\r\n  public static readonly TOTAL_COST = 'totalCost';\r\n  public static readonly ENG = 'en';\r\n\r\n  public updatedTasksTableDataSource: TableDataSource<UpdatedTasksRow>;\r\n  public previousTaskVersion: BireTaskDTO[];\r\n  public planDTO: BireMaintenancePlanDTO;\r\n  public displayName: string;\r\n  public taskGroups: LabelValue<string>[];\r\n  public taskApplicabilityCode: LabelValue<string>[];\r\n  public mroCenters: LabelValue<string>[];\r\n  public taskTypes: LabelValue<string>[];\r\n  public status: LabelValue<string>[];\r\n  public evolutionLinkTypes: LabelValue<string>[];\r\n  public itemLinkTypes: LabelValue<string>[];\r\n  public associatedLinkTypes: LabelValue<string>[];\r\n  public documentCategories: LabelValue<string>[];\r\n  public structureType: LabelValue<string>[];\r\n  public attributeList: BireAttributeDTO[];\r\n  public isLoading: boolean;\r\n  public currency: string;\r\n  public pTotalCost: number;\r\n  public cTotalCost: number;\r\n  public isAttribute: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public sessionService: SessionService,\r\n    private readonly maintenanceProgramUpdatesListService: MaintenanceProgramUpdatesListService,\r\n    private readonly propertiesService: PropertiesService,\r\n    public translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n    this.initMaintenanceProgramTableDataSource();\r\n    this.isLoading = true;\r\n    this.isAttribute = false;\r\n    this.currency = '';\r\n    this.pTotalCost = 0;\r\n    this.cTotalCost = 0;\r\n    this.loadTaskGroup();\r\n    this.loadApplicability();\r\n    this.loadMROCenter();\r\n    this.loadTaskType();\r\n    this.loadStatus();\r\n    this.loadLinkTypes();\r\n    this.loadAssociatedTaskLinkTypes();\r\n    this.loadDocumentTaskCategories();\r\n    this.loadCurrency();\r\n    this.loadStructureTypes();\r\n    this.loadAttributeList();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_MAINTENANCE_PROGRAM_UPDATES_LIST;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.loadUpdatesList();\r\n  }\r\n  /**\r\n   * loadUpdatesList - This function is used to display the heading of the component (Code and Name).\r\n   */\r\n  private loadUpdatesList(): void {\r\n    if (!!this.componentData.objectId) {\r\n      this.planDTO = this.serializationService.deserialize(this.componentData.objectId);\r\n    }\r\n    this.displayName = `${this.planDTO.planCode}-${this.planDTO.planName}`;\r\n    this.displayComponentContext(this.displayName, this.isCreateOpenMode);\r\n    if (!!this.planDTO.planCode) {\r\n      this.getTaskRows(this.planDTO.planCode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * initMaintenanceProgramTableDataSource - This function is used to diplay the table columns.\r\n   */\r\n  private initMaintenanceProgramTableDataSource(): void {\r\n    this.updatedTasksTableDataSource = new TableDataSource({\r\n      enableSelection: false,\r\n      columns: [\r\n        {\r\n          field: 'taskCode',\r\n          translateKey: this.getTranslateKey('taskCode'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'taskVersion',\r\n          translateKey: this.getTranslateKey('taskVersion'),\r\n          width: '6%'\r\n        },\r\n        {\r\n          field: 'tabName',\r\n          translateKey: this.getTranslateKey('tabName'),\r\n          width: '11%'\r\n        },\r\n        {\r\n          field: 'panelName',\r\n          translateKey: this.getTranslateKey('panelName'),\r\n          width: '12%'\r\n        },\r\n        {\r\n          field: 'fieldName',\r\n          translateKey: this.getTranslateKey('fieldName'),\r\n          width: '11%'\r\n        },\r\n        {\r\n          field: 'currentValue',\r\n          translateKey: this.getTranslateKey('currentValue'),\r\n          width: '12%'\r\n        },\r\n        {\r\n          field: 'previousValue',\r\n          translateKey: this.getTranslateKey('previousValue'),\r\n          width: '12%'\r\n        },\r\n        {\r\n          field: 'previousTaskVersion',\r\n          translateKey: this.getTranslateKey('previousTaskVersion'),\r\n          width: '10%'\r\n        },\r\n        {\r\n          field: 'previousRmpVersion',\r\n          translateKey: this.getTranslateKey('previousRmpVersion'),\r\n          width: '11%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private getTaskRows(planCode: string) {\r\n    let panelName: string;\r\n    this.maintenanceProgramUpdatesListService.getMainteanceProgramUpdatedList(planCode).subscribe((result) => {\r\n      if (!!result) {\r\n        this.isLoading = false;\r\n        result.forEach((element: MaintenanceProgramUpdatedOutputDTO) => {\r\n          const currentTask: BireTaskDTOId = {\r\n            taskCode: element.cVersionBireTaskDTO.taskCode as string,\r\n            taskVersion: element.cVersionBireTaskDTO.taskVersion as string\r\n          };\r\n          const previousTask: BireTaskDTOId = {\r\n            taskCode: element.pVersionBireTaskDTO.taskCode as string,\r\n            taskVersion: element.pVersionBireTaskDTO.taskVersion as string\r\n          };\r\n          const previousRmpVersion = !!element.pVersionGetMaintainanceProgramWithTaskDTO\r\n            ? (element.pVersionGetMaintainanceProgramWithTaskDTO.programCode as string)\r\n            : '';\r\n          this.loadTaskData(\r\n            currentTask,\r\n            previousTask,\r\n            element.cVersionBireTaskDTO,\r\n            element.pVersionBireTaskDTO,\r\n            previousRmpVersion\r\n          );\r\n\r\n          if (!!currentTask && !!previousTask) {\r\n            if (!!element.cVersionBireOperationDTO || !!element.pVersionBireOperationDTO) {\r\n              this.loadOperationData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireOperationDTO,\r\n                element.pVersionBireOperationDTO,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireSmTaskList || !!element.pVersionBireSmTaskList) {\r\n              this.loadShopManualsData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireSmTaskList,\r\n                element.pVersionBireSmTaskList,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireTaskEvolutionDTO || !!element.pVersionBireTaskEvolutionDTO) {\r\n              this.loadEvolutionData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireTaskEvolutionDTO,\r\n                element.pVersionBireTaskEvolutionDTO,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireTilList || !!element.pVersionBireTilList) {\r\n              this.loadTechnicalLevelData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireTilList,\r\n                element.pVersionBireTilList,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionMaintainanceWithTask || !!element.pVersionMaintainanceWithTask) {\r\n              this.loadMaintenanceProgramData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionMaintainanceWithTask,\r\n                element.pVersionMaintainanceWithTask,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireQualificationList || !!element.pVersionBireQualificationList) {\r\n              this.loadQualificationData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireQualificationList,\r\n                element.pVersionBireQualificationList,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireTaskMeasureList || !!element.pVersionBireTaskMeasureList) {\r\n              this.loadMeasurementPointData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireTaskMeasureList,\r\n                element.pVersionBireTaskMeasureList,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireDocumentDTO || !!element.pVersionBireDocumentDTO) {\r\n              this.loadDocumentsData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireDocumentDTO,\r\n                element.pVersionBireDocumentDTO,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireTaskItemList || !!element.pVersionBireTaskItemList) {\r\n              this.loadItemsData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireTaskItemList,\r\n                element.pVersionBireTaskItemList,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cVersionBireTaskAttribute || !!element.pVersionBireTaskAttribute) {\r\n              this.loadAttributeData(\r\n                currentTask,\r\n                previousTask,\r\n                element.cVersionBireTaskAttribute,\r\n                element.pVersionBireTaskAttribute,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n            if (!!element.cGetTaskLinkInAdequateTableDTO || !!element.pGetTaskLinkInAdequateTableDTO) {\r\n              if (\r\n                !!element.cGetTaskLinkInAdequateTableDTO.anteriorInSequence ||\r\n                !!element.pGetTaskLinkInAdequateTableDTO.anteriorInSequence\r\n              ) {\r\n                panelName = MaintenanceProgramUpdatesListComponent.ANTERIOR_TASKS;\r\n                this.loadsuperiorAnteriorPosteriorLinkedTopDownData(\r\n                  currentTask,\r\n                  previousTask,\r\n                  panelName,\r\n                  previousRmpVersion,\r\n                  element.cGetTaskLinkInAdequateTableDTO.anteriorInSequence,\r\n                  element.pGetTaskLinkInAdequateTableDTO.anteriorInSequence\r\n                );\r\n              }\r\n              if (\r\n                !!element.cGetTaskLinkInAdequateTableDTO.posteriorInSequence ||\r\n                !!element.pGetTaskLinkInAdequateTableDTO.posteriorInSequence\r\n              ) {\r\n                panelName = MaintenanceProgramUpdatesListComponent.POSTERIOR_TASKS;\r\n                this.loadsuperiorAnteriorPosteriorLinkedTopDownData(\r\n                  currentTask,\r\n                  previousTask,\r\n                  panelName,\r\n                  previousRmpVersion,\r\n                  element.cGetTaskLinkInAdequateTableDTO.posteriorInSequence,\r\n                  element.pGetTaskLinkInAdequateTableDTO.posteriorInSequence\r\n                );\r\n              }\r\n              if (\r\n                !!element.cGetTaskLinkInAdequateTableDTO.linkedTasks ||\r\n                !!element.pGetTaskLinkInAdequateTableDTO.linkedTasks\r\n              ) {\r\n                panelName = MaintenanceProgramUpdatesListComponent.LINKED_TASK;\r\n                this.loadsuperiorAnteriorPosteriorLinkedTopDownData(\r\n                  currentTask,\r\n                  previousTask,\r\n                  panelName,\r\n                  previousRmpVersion,\r\n                  element.cGetTaskLinkInAdequateTableDTO.linkedTasks,\r\n                  element.pGetTaskLinkInAdequateTableDTO.linkedTasks\r\n                );\r\n              }\r\n              if (\r\n                !!element.cGetTaskLinkInAdequateTableDTO.superiorTasks ||\r\n                !!element.pGetTaskLinkInAdequateTableDTO.superiorTasks\r\n              ) {\r\n                panelName = MaintenanceProgramUpdatesListComponent.SUPERIOR_TASKS;\r\n                this.loadsuperiorAnteriorPosteriorLinkedTopDownData(\r\n                  currentTask,\r\n                  previousTask,\r\n                  panelName,\r\n                  previousRmpVersion,\r\n                  element.cGetTaskLinkInAdequateTableDTO.superiorTasks,\r\n                  element.pGetTaskLinkInAdequateTableDTO.superiorTasks\r\n                );\r\n              }\r\n              if (\r\n                !!element.cGetTaskLinkInAdequateTableDTO.taskTreeCustomNode &&\r\n                !!element.pGetTaskLinkInAdequateTableDTO.taskTreeCustomNode &&\r\n                (element.cGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children ||\r\n                  element.pGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children)\r\n              ) {\r\n                panelName = MaintenanceProgramUpdatesListComponent.TOP_DOWN_STRUCTURE;\r\n                this.loadsuperiorAnteriorPosteriorLinkedTopDownData(\r\n                  currentTask,\r\n                  previousTask,\r\n                  panelName,\r\n                  previousRmpVersion,\r\n                  element.cGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children,\r\n                  element.pGetTaskLinkInAdequateTableDTO.taskTreeCustomNode.children\r\n                );\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  private getObjectDiff<T>(obj1: T, obj2: T) {\r\n    const result = {};\r\n    if (Object.is(obj1, obj2)) {\r\n      return undefined;\r\n    }\r\n    if (!obj2 || typeof obj2 !== 'object') {\r\n      return obj2;\r\n    }\r\n\r\n    Object.keys(obj1 || {})\r\n      .concat(Object.keys(obj2 || {}))\r\n      .forEach((key) => {\r\n        if (obj2[key] !== obj1[key] && !Object.is(obj1[key], obj2[key])) {\r\n          result[key] = obj2[key] || '';\r\n        }\r\n        if (typeof obj2[key] === 'object' && typeof obj1[key] === 'object') {\r\n          const value = this.getObjectDiff(obj1[key], obj2[key]);\r\n          if (value !== undefined) {\r\n            result[key] = value;\r\n          }\r\n        }\r\n      });\r\n\r\n    return result;\r\n  }\r\n\r\n  private loadTaskData(\r\n    cTaskDTOId: BireTaskDTOId,\r\n    pTaskDTOId: BireTaskDTOId,\r\n    currentTask: BireTaskDTO,\r\n    previousTask: BireTaskDTO,\r\n    previousRmpVersion: string\r\n  ) {\r\n    const tabName = MaintenanceProgramUpdatesListComponent.HOME;\r\n    const cBireTaskRow = this.createTaskRow(currentTask);\r\n    const pBireTaskRow = this.createTaskRow(previousTask);\r\n    let panelName: string;\r\n    const diff = this.getObjectDiff(cBireTaskRow, pBireTaskRow);\r\n    if (!!diff) {\r\n      for (const fieldName in diff) {\r\n        if (pBireTaskRow.hasOwnProperty(fieldName)) {\r\n          if (\r\n            fieldName === 'taskTypeCode' ||\r\n            fieldName === 'taskApplicabilityDate' ||\r\n            fieldName === 'groupCode' ||\r\n            fieldName === 'taskApplicabilityCode' ||\r\n            fieldName === 'taskDesignation'\r\n          ) {\r\n            panelName = MaintenanceProgramUpdatesListComponent.MAIN_INFORMATION;\r\n          } else if (\r\n            fieldName === 'taskChapter' ||\r\n            fieldName === 'taskSubject' ||\r\n            fieldName === 'taskSection' ||\r\n            fieldName === 'taskSubTask' ||\r\n            fieldName === 'taskTask'\r\n          ) {\r\n            panelName = MaintenanceProgramUpdatesListComponent.REFERENCE_MANUAL;\r\n          } else {\r\n            panelName = MaintenanceProgramUpdatesListComponent.ADDITIONAL_INFORMATION;\r\n          }\r\n          this.createMaintenanceProgramTaskUpdatedRow(\r\n            cTaskDTOId,\r\n            pTaskDTOId,\r\n            cBireTaskRow[fieldName],\r\n            pBireTaskRow[fieldName],\r\n            fieldName,\r\n            tabName,\r\n            panelName,\r\n            previousRmpVersion\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private createTaskRow(bireTaskDTO: BireTaskDTO): TaskRow {\r\n    const taskRow: TaskRow = {\r\n      taskDesignation: bireTaskDTO.taskDesignation,\r\n      taskDescription: bireTaskDTO.taskDescription,\r\n      taskStatus: !!bireTaskDTO.taskStatus\r\n        ? this.status.filter((type) => type.value === bireTaskDTO.taskStatus)[0].label\r\n        : '',\r\n      taskApplicabilityDate: !!bireTaskDTO.taskApplicabilityDate ? bireTaskDTO.taskApplicabilityDate.toString() : '',\r\n      taskApplicabilityCode: !!bireTaskDTO.taskApplicabilityCode\r\n        ? this.taskApplicabilityCode.filter((type) => type.value === bireTaskDTO.taskApplicabilityCode)[0].label\r\n        : '',\r\n      repairCenterCode: !!bireTaskDTO.repairCenterCode\r\n        ? this.mroCenters.filter((type) => type.value === bireTaskDTO.repairCenterCode)[0].label\r\n        : '',\r\n      groupCode: !!bireTaskDTO.groupCode\r\n        ? this.taskGroups.filter((type) => type.value === bireTaskDTO.groupCode)[0].label\r\n        : '',\r\n      taskTypeCode: !!bireTaskDTO.taskTypeCode\r\n        ? this.taskTypes.filter((type) => type.value === bireTaskDTO.taskTypeCode)[0].label\r\n        : '',\r\n      overhaul: bireTaskDTO.overhaul,\r\n      inspectionPerEsm: bireTaskDTO.inspectionPerEsm,\r\n      taskZone: bireTaskDTO.taskZone,\r\n      taskChapter: bireTaskDTO.taskChapter,\r\n      taskSubject: bireTaskDTO.taskSubject,\r\n      taskSection: bireTaskDTO.taskSection,\r\n      taskSubTask: bireTaskDTO.taskSubTask,\r\n      taskTask: bireTaskDTO.taskTask\r\n    };\r\n\r\n    return taskRow;\r\n  }\r\n\r\n  private loadOperationData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireOperationCustomDTO[],\r\n    pVersion: BireOperationCustomDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireOperationCustomDTO | undefined = {};\r\n    let pCost = 0;\r\n    let cCost = 0;\r\n    let panelName = MaintenanceProgramUpdatesListComponent.OPERATIONS;\r\n    let tabName = MaintenanceProgramUpdatesListComponent.TASK_CARD;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cBireOperationRow = cVersion.map((row) => this.createOperationRow(row));\r\n    const pBireOperationRow = pVersion.map((row) => this.createOperationRow(row));\r\n\r\n    if (pBireOperationRow.length >= cBireOperationRow.length) {\r\n      pBireOperationRow.forEach((row, index) => {\r\n        if (!!cBireOperationRow[index]) {\r\n          diff = this.getObjectDiff(row, cBireOperationRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pBireOperationRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cBireOperationRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pBireOperationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n        pCost = !!row.opeCost ? Number.parseInt(row.opeCost.toString(), 0) : 0;\r\n        cCost =\r\n          !!cBireOperationRow[index] && !!cBireOperationRow[index].opeCost\r\n            ? Number.parseInt(cBireOperationRow[index].opeCost.toString(), 0)\r\n            : 0;\r\n\r\n        this.pTotalCost = this.pTotalCost + pCost;\r\n        this.cTotalCost = this.cTotalCost + cCost;\r\n      });\r\n    } else {\r\n      cBireOperationRow.forEach((row, index) => {\r\n        if (!!pBireOperationRow[index]) {\r\n          diff = this.getObjectDiff(row, pBireOperationRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cBireOperationRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pBireOperationRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cBireOperationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n        cCost = !!row.opeCost ? Number.parseInt(row.opeCost.toString(), 0) : 0;\r\n        pCost =\r\n          !!pBireOperationRow[index] && !!pBireOperationRow[index].opeCost\r\n            ? Number.parseInt(pBireOperationRow[index].opeCost.toString(), 0)\r\n            : 0;\r\n\r\n        this.pTotalCost = this.pTotalCost + pCost;\r\n        this.cTotalCost = this.cTotalCost + cCost;\r\n      });\r\n    }\r\n    if (this.pTotalCost !== this.cTotalCost) {\r\n      fieldName = MaintenanceProgramUpdatesListComponent.TOTAL_COST;\r\n      panelName = MaintenanceProgramUpdatesListComponent.ADDITIONAL_INFORMATION;\r\n      tabName = MaintenanceProgramUpdatesListComponent.HOME;\r\n      this.createMaintenanceProgramTaskUpdatedRow(\r\n        currentTask,\r\n        previousTask,\r\n        this.cTotalCost.toString(),\r\n        this.pTotalCost.toString(),\r\n        fieldName,\r\n        tabName,\r\n        panelName,\r\n        previousRmpVersion\r\n      );\r\n    }\r\n  }\r\n\r\n  private createOperationRow(bireOperationDTO: BireOperationCustomDTO): OperationRow {\r\n    const operationRow: OperationRow = {\r\n      opeCode: `${bireOperationDTO.opeCode}-${bireOperationDTO.opeVersion}`,\r\n      opeDesignation: bireOperationDTO.opeDesignation,\r\n      opeSequenceNumber: bireOperationDTO.opeSequenceNumber,\r\n      opeVersion: bireOperationDTO.opeVersion,\r\n      opeDurationTime: bireOperationDTO.opeDurationTime,\r\n      opeQualification: bireOperationDTO.opeQualification,\r\n      opeManHour: bireOperationDTO.opeManHour,\r\n      opeCost: !!bireOperationDTO.opeCost ? bireOperationDTO.opeCost : 0\r\n    };\r\n\r\n    return operationRow;\r\n  }\r\n\r\n  private loadEvolutionData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireTaskEvolutionMaintenanceDTO[],\r\n    pVersion: BireTaskEvolutionMaintenanceDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireTaskEvolutionMaintenanceDTO | undefined = {};\r\n    const panelName = MaintenanceProgramUpdatesListComponent.EVOLUTIONS;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.IMPACTS;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cBireEvolutionRow = cVersion.map((row) => this.createEvolutionRow(row));\r\n    const pBireEvolutionRow = pVersion.map((row) => this.createEvolutionRow(row));\r\n\r\n    if (pBireEvolutionRow.length >= cBireEvolutionRow.length) {\r\n      pBireEvolutionRow.forEach((row, index) => {\r\n        if (!!cBireEvolutionRow[index]) {\r\n          diff = this.getObjectDiff(row, cBireEvolutionRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pBireEvolutionRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cBireEvolutionRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pBireEvolutionRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cBireEvolutionRow.forEach((row, index) => {\r\n        if (!!pBireEvolutionRow[index]) {\r\n          diff = this.getObjectDiff(row, pBireEvolutionRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cBireEvolutionRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pBireEvolutionRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cBireEvolutionRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createEvolutionRow(bireEvolutionDTO: BireTaskEvolutionMaintenanceDTO): EvolutionRow {\r\n    const evolutionRow: EvolutionRow = {\r\n      evolutionNumber: bireEvolutionDTO.evolutionNumber,\r\n      evolutionRevisionNumber: bireEvolutionDTO.evolutionRevisionNumber,\r\n      taskEvolutionTypeCode: !!bireEvolutionDTO.taskEvolutionTypeCode\r\n        ? this.evolutionLinkTypes.filter((type) => type.value === bireEvolutionDTO.taskEvolutionTypeCode)[0].label\r\n        : '',\r\n      evolutionSummary: bireEvolutionDTO.evolutionSummary\r\n    };\r\n\r\n    return evolutionRow;\r\n  }\r\n\r\n  private loadItemsData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireTaskItemWithItemCustomDTO[],\r\n    pVersion: BireTaskItemWithItemCustomDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireTaskItemWithItemCustomDTO | undefined = {};\r\n    const panelName = MaintenanceProgramUpdatesListComponent.ITEMS;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.IMPACTS;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cBireItemRow = cVersion.map((row) => this.createItemsRow(row));\r\n    const pBireItemRow = pVersion.map((row) => this.createItemsRow(row));\r\n\r\n    if (pBireItemRow.length >= cBireItemRow.length) {\r\n      pBireItemRow.forEach((row, index) => {\r\n        if (!!cBireItemRow[index]) {\r\n          diff = this.getObjectDiff(row, cBireItemRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pBireItemRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cBireItemRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pBireItemRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cBireItemRow.forEach((row, index) => {\r\n        if (!!pBireItemRow[index]) {\r\n          diff = this.getObjectDiff(row, pBireItemRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cBireItemRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pBireItemRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cBireItemRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createItemsRow(bireItemDTO: BireTaskItemWithItemCustomDTO): ItemRow {\r\n    const structureType = !!bireItemDTO.structureType\r\n      ? this.structureType.filter((type) => type.value === bireItemDTO.structureType)[0].label\r\n      : '';\r\n    const itemRow: ItemRow = {\r\n      familyVariant: `${bireItemDTO.familyCode}-${structureType}-${bireItemDTO.variantCode}`,\r\n      item: `${bireItemDTO.chapter}-${bireItemDTO.subject}-${bireItemDTO.section}-\r\n             ${bireItemDTO.sheet}-${bireItemDTO.marks}`,\r\n      versionNumber: bireItemDTO.versionNumber,\r\n      taskItemTypeCode: !!bireItemDTO.taskItemTypeCode\r\n        ? this.itemLinkTypes.filter((type) => type.value === bireItemDTO.taskItemTypeCode)[0].label\r\n        : '',\r\n      name: bireItemDTO.name\r\n    };\r\n\r\n    return itemRow;\r\n  }\r\n\r\n  private loadTechnicalLevelData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireTilDTO[],\r\n    pVersion: BireTilDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireTilDTO | undefined = {};\r\n    const panelName = MaintenanceProgramUpdatesListComponent.TECHNICAL_LEVEL;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.PREREQUISITES;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cBireTilRow = cVersion.map((row) => this.createTechnicalLevelRow(row));\r\n    const pBireTilRow = pVersion.map((row) => this.createTechnicalLevelRow(row));\r\n\r\n    if (pBireTilRow.length >= cBireTilRow.length) {\r\n      pBireTilRow.forEach((row, index) => {\r\n        if (!!cBireTilRow[index]) {\r\n          diff = this.getObjectDiff(row, cBireTilRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pBireTilRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cBireTilRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pBireTilRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cBireTilRow.forEach((row, index) => {\r\n        if (!!pBireTilRow[index]) {\r\n          diff = this.getObjectDiff(row, pBireTilRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cBireTilRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pBireTilRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cBireTilRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createTechnicalLevelRow(bireTilDTO: BireTilDTO): TechnicalLevelRow {\r\n    const tilRow: TechnicalLevelRow = {\r\n      tilName: bireTilDTO.tilName,\r\n      tilDescription: bireTilDTO.tilDescription\r\n    };\r\n\r\n    return tilRow;\r\n  }\r\n\r\n  private loadQualificationData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireQualificationDTO[],\r\n    pVersion: BireQualificationDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireQualificationDTO | undefined = {};\r\n    const panelName = MaintenanceProgramUpdatesListComponent.ASSOCIATED_QUALIFICATIONS;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.PREREQUISITES;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cBireQualificationRow = cVersion.map((row) => this.createQualificationRow(row));\r\n    const pBireQualificationRow = pVersion.map((row) => this.createQualificationRow(row));\r\n\r\n    if (pBireQualificationRow.length >= cBireQualificationRow.length) {\r\n      pBireQualificationRow.forEach((row, index) => {\r\n        if (!!cBireQualificationRow[index]) {\r\n          diff = this.getObjectDiff(row, cBireQualificationRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pBireQualificationRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cBireQualificationRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pBireQualificationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cBireQualificationRow.forEach((row, index) => {\r\n        if (!!pBireQualificationRow[index]) {\r\n          diff = this.getObjectDiff(row, pBireQualificationRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cBireQualificationRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pBireQualificationRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cBireQualificationRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createQualificationRow(bireQualificationDTO: BireQualificationDTO): QualificationRow {\r\n    const qualificationDTO: QualificationRow = {\r\n      qualificationCode: bireQualificationDTO.qualificationCode,\r\n      qualificationName: bireQualificationDTO.qualificationName,\r\n      qualificationDescription: bireQualificationDTO.qualificationDescription,\r\n      averageHourRate: !!bireQualificationDTO.averageHourRate\r\n        ? `${bireQualificationDTO.averageHourRate} ${this.currency}`\r\n        : ''\r\n    };\r\n\r\n    return qualificationDTO;\r\n  }\r\n\r\n  private loadMaintenanceProgramData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: GetMaintainanceProgramWithTaskDTO[],\r\n    pVersion: GetMaintainanceProgramWithTaskDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    const panelName = MaintenanceProgramUpdatesListComponent.MAINTENANCE_PROGRAMS;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.HOME;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cBireMaintenanceProgramRow = cVersion.map((row) => this.createMaintenanceProgramRow(row));\r\n    const pBireMaintenanceProgramRow = pVersion.map((row) => this.createMaintenanceProgramRow(row));\r\n\r\n    if (pBireMaintenanceProgramRow.length >= cBireMaintenanceProgramRow.length) {\r\n      pBireMaintenanceProgramRow.forEach((row, index) => {\r\n        if (!!cBireMaintenanceProgramRow[index]) {\r\n          const diff = this.getObjectDiff(row, cBireMaintenanceProgramRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pBireMaintenanceProgramRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cBireMaintenanceProgramRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pBireMaintenanceProgramRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cBireMaintenanceProgramRow.forEach((row, index) => {\r\n        if (!!pBireMaintenanceProgramRow[index]) {\r\n          const diff = this.getObjectDiff(row, pBireMaintenanceProgramRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cBireMaintenanceProgramRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pBireMaintenanceProgramRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cBireMaintenanceProgramRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createMaintenanceProgramRow(\r\n    bireMaintenanceProgramDTO: GetMaintainanceProgramWithTaskDTO\r\n  ): MaintenanceProgramRow {\r\n    const maintenanceProgramRow: MaintenanceProgramRow = {\r\n      programCode: bireMaintenanceProgramDTO.programCode,\r\n      programName: bireMaintenanceProgramDTO.programName,\r\n      programDesignation: bireMaintenanceProgramDTO.programDesignation,\r\n      programRevisionNumber: bireMaintenanceProgramDTO.programRevisionNumber,\r\n      reference: bireMaintenanceProgramDTO.reference,\r\n      periodicity: bireMaintenanceProgramDTO.periodicity\r\n    };\r\n\r\n    return maintenanceProgramRow;\r\n  }\r\n\r\n  private loadShopManualsData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireSmTaskDTO[],\r\n    pVersion: BireSmTaskDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireSmTaskDTO | undefined = {};\r\n    const panelName = MaintenanceProgramUpdatesListComponent.SHOP_MANUALS;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.HOME;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cBireShopManualRow = cVersion.map((row) => this.createShopManualsRow(row));\r\n    const pBireShopManualRow = pVersion.map((row) => this.createShopManualsRow(row));\r\n\r\n    if (pBireShopManualRow.length >= cBireShopManualRow.length) {\r\n      pBireShopManualRow.forEach((row, index) => {\r\n        if (!!cBireShopManualRow[index]) {\r\n          diff = this.getObjectDiff(row, cBireShopManualRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pBireShopManualRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cBireShopManualRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pBireShopManualRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cBireShopManualRow.forEach((row, index) => {\r\n        if (!!pBireShopManualRow[index]) {\r\n          diff = this.getObjectDiff(row, pBireShopManualRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cBireShopManualRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pBireShopManualRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cBireShopManualRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createShopManualsRow(bireShopManualsDTO: BireSmTaskDTO): ShopManualsRow {\r\n    const shopManualsRow: ShopManualsRow = {\r\n      smCode: bireShopManualsDTO.smCode,\r\n      smVersionStart: bireShopManualsDTO.smVersionStart,\r\n      smVersionEnd: bireShopManualsDTO.smVersionEnd\r\n    };\r\n\r\n    return shopManualsRow;\r\n  }\r\n\r\n  private loadMeasurementPointData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireMeasurementCustomDTO[],\r\n    pVersion: BireMeasurementCustomDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireMeasurementCustomDTO | undefined = {};\r\n    const panelName = MaintenanceProgramUpdatesListComponent.MEASUREMENT_POINT;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.MEASUREMENT_POINT;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cMeasurementPointRow = cVersion.map((row) => this.createMeasurementPointRow(row));\r\n    const pMeasurementPointRow = pVersion.map((row) => this.createMeasurementPointRow(row));\r\n\r\n    if (pMeasurementPointRow.length >= cMeasurementPointRow.length) {\r\n      pMeasurementPointRow.forEach((row, index) => {\r\n        if (!!cMeasurementPointRow[index]) {\r\n          diff = this.getObjectDiff(row, cMeasurementPointRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pMeasurementPointRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cMeasurementPointRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pMeasurementPointRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cMeasurementPointRow.forEach((row, index) => {\r\n        if (!!pMeasurementPointRow[index]) {\r\n          diff = this.getObjectDiff(row, pMeasurementPointRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cMeasurementPointRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pMeasurementPointRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cMeasurementPointRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createMeasurementPointRow(bireMeasurementPointDTO: BireMeasurementCustomDTO): MeasurementPointRow {\r\n    const measurementPointRow: MeasurementPointRow = {\r\n      counterCode: bireMeasurementPointDTO.counterCode,\r\n      counterRemarks: bireMeasurementPointDTO.counterRemarks,\r\n      description: bireMeasurementPointDTO.description,\r\n      unitCode: bireMeasurementPointDTO.unitCode,\r\n      toolPartNumber: bireMeasurementPointDTO.toolPartNumber,\r\n      formula: bireMeasurementPointDTO.formula,\r\n      sequenceNumber: bireMeasurementPointDTO.sequenceNumber,\r\n      groupCode: bireMeasurementPointDTO.groupCode\r\n    };\r\n\r\n    return measurementPointRow;\r\n  }\r\n\r\n  private loadsuperiorAnteriorPosteriorLinkedTopDownData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    panelName: string,\r\n    previousRmpVersion: string,\r\n    cVersion?: LinkedTaskCustomDTO[],\r\n    pVersion?: LinkedTaskCustomDTO[]\r\n  ) {\r\n    const tabName = MaintenanceProgramUpdatesListComponent.TASK_CARD;\r\n    let fieldName: string;\r\n    const value = '';\r\n\r\n    const cAdequateTaskRow =\r\n      !!cVersion && cVersion.map((row) => this.createSuperiorAnteriorPosteriorLinkedTopDownRow(row));\r\n    const pAdequateTaskRow =\r\n      !!pVersion && pVersion.map((row) => this.createSuperiorAnteriorPosteriorLinkedTopDownRow(row));\r\n    if (\r\n      (!!pAdequateTaskRow && !!cAdequateTaskRow && pAdequateTaskRow.length >= cAdequateTaskRow.length) ||\r\n      (!!pAdequateTaskRow && cAdequateTaskRow === undefined)\r\n    ) {\r\n      pAdequateTaskRow.forEach((row, index) => {\r\n        if (!!cAdequateTaskRow[index]) {\r\n          const diff = this.getObjectDiff(row, cAdequateTaskRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pAdequateTaskRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cAdequateTaskRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pAdequateTaskRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else if (\r\n      (!!pAdequateTaskRow && !!cAdequateTaskRow && pAdequateTaskRow.length <= cAdequateTaskRow.length) ||\r\n      (!!cAdequateTaskRow && pAdequateTaskRow === undefined)\r\n    ) {\r\n      cAdequateTaskRow.forEach((row, index) => {\r\n        if (!!pAdequateTaskRow[index]) {\r\n          const diff = this.getObjectDiff(row, pAdequateTaskRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cAdequateTaskRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pAdequateTaskRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cAdequateTaskRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createSuperiorAnteriorPosteriorLinkedTopDownRow(bireAdequateTaskDTO: LinkedTaskCustomDTO): AdequateTaskRow {\r\n    const adequateTaskRow: AdequateTaskRow = {\r\n      sequenceNumber: bireAdequateTaskDTO.sequenceNumber,\r\n      linkType: !!bireAdequateTaskDTO.linkType\r\n        ? this.associatedLinkTypes.filter((type) => type.value === bireAdequateTaskDTO.linkType)[0].label\r\n        : '',\r\n      taskDesignation: bireAdequateTaskDTO.bireTaskDTO.taskDesignation,\r\n      taskCode: bireAdequateTaskDTO.bireTaskDTO.taskCode,\r\n      taskVersion: bireAdequateTaskDTO.bireTaskDTO.taskVersion,\r\n      groupCode: !!bireAdequateTaskDTO.bireTaskDTO.groupCode\r\n        ? this.taskGroups.filter((type) => type.value === bireAdequateTaskDTO.bireTaskDTO.groupCode)[0].label\r\n        : '',\r\n      taskTypeCode: !!bireAdequateTaskDTO.bireTaskDTO.taskTypeCode\r\n        ? this.taskTypes.filter((type) => type.value === bireAdequateTaskDTO.bireTaskDTO.taskTypeCode)[0].label\r\n        : ''\r\n    };\r\n\r\n    return adequateTaskRow;\r\n  }\r\n\r\n  private loadDocumentsData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cVersion: BireDocumentCustomDTO[],\r\n    pVersion: BireDocumentCustomDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let diff: BireDocumentCustomDTO | undefined = {};\r\n    const panelName = MaintenanceProgramUpdatesListComponent.DOCUMENTS;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.DOCUMENTS;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const cDocumentRow = cVersion.map((row) => this.createDocumentRow(row));\r\n    const pDocumentRow = pVersion.map((row) => this.createDocumentRow(row));\r\n    if (pDocumentRow.length >= cDocumentRow.length) {\r\n      pDocumentRow.forEach((row, index) => {\r\n        if (!!cDocumentRow[index]) {\r\n          diff = this.getObjectDiff(row, cDocumentRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (pDocumentRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  cDocumentRow[index][fieldName],\r\n                  row[fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (pDocumentRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                value,\r\n                row[fieldName],\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      cDocumentRow.forEach((row, index) => {\r\n        if (!!pDocumentRow[index]) {\r\n          diff = this.getObjectDiff(row, pDocumentRow[index]);\r\n          if (!!diff) {\r\n            for (fieldName in diff) {\r\n              if (cDocumentRow[index].hasOwnProperty(fieldName)) {\r\n                this.createMaintenanceProgramTaskUpdatedRow(\r\n                  currentTask,\r\n                  previousTask,\r\n                  row[fieldName],\r\n                  pDocumentRow[index][fieldName],\r\n                  fieldName,\r\n                  tabName,\r\n                  panelName,\r\n                  previousRmpVersion\r\n                );\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (fieldName in row) {\r\n            if (cDocumentRow[index].hasOwnProperty(fieldName) && !!row[fieldName]) {\r\n              this.createMaintenanceProgramTaskUpdatedRow(\r\n                currentTask,\r\n                previousTask,\r\n                row[fieldName],\r\n                value,\r\n                fieldName,\r\n                tabName,\r\n                panelName,\r\n                previousRmpVersion\r\n              );\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private createDocumentRow(bireDocumentDTO: BireDocumentCustomDTO): DocumentRow {\r\n    const documentRow: DocumentRow = {\r\n      docType: bireDocumentDTO.docType,\r\n      docName: bireDocumentDTO.docName,\r\n      docCategory: !!bireDocumentDTO.docCategory\r\n        ? this.documentCategories.filter((type) => type.value === bireDocumentDTO.docCategory)[0].label\r\n        : '',\r\n      docPublicationDate: !!bireDocumentDTO.docPublicationDate ? bireDocumentDTO.docPublicationDate.toString() : '',\r\n      docSource: bireDocumentDTO.docSource\r\n    };\r\n\r\n    return documentRow;\r\n  }\r\n\r\n  private createMaintenanceProgramTaskUpdatedRow(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    cValue: string,\r\n    pValue: string,\r\n    fieldName: string,\r\n    tabName: string,\r\n    panelName: string,\r\n    pRmpVersion: string\r\n  ) {\r\n    const updatedTasksRows: UpdatedTasksRow = {\r\n      taskCode: currentTask.taskCode,\r\n      taskVersion: currentTask.taskVersion,\r\n      previousTaskVersion: previousTask.taskVersion,\r\n      fieldName: this.isAttribute ? fieldName : this.getTranslatedValue(fieldName),\r\n      currentValue: cValue,\r\n      previousValue: pValue,\r\n      panelName: this.getTranslatedValue(panelName),\r\n      tabName: this.getTranslatedValue(tabName),\r\n      previousRmpVersion: pRmpVersion\r\n    };\r\n    this.isAttribute = false;\r\n    this.updatedTasksTableDataSource.addData([updatedTasksRows]);\r\n  }\r\n\r\n  private loadAttributeData(\r\n    currentTask: BireTaskDTOId,\r\n    previousTask: BireTaskDTOId,\r\n    current: BireTaskAttributeCustomDTO[],\r\n    previous: BireTaskAttributeCustomDTO[],\r\n    previousRmpVersion: string\r\n  ) {\r\n    let previousValue: string;\r\n    let currentValue: string;\r\n    let fieldName: string;\r\n    const value = '';\r\n    const panelName = MaintenanceProgramUpdatesListComponent.ATTRIBUTES;\r\n    const tabName = MaintenanceProgramUpdatesListComponent.ATTRIBUTES;\r\n    this.attributeList.forEach((element) => {\r\n      this.isAttribute = true;\r\n      const previousAttribute =\r\n        !!previous &&\r\n        !!previous.find((data) => data.attributeId === element.attributeId && data.attributeValue !== value)\r\n          ? previous.filter((data) => data.attributeId === element.attributeId)[0].attributeValue\r\n          : element.attributeType === BidoAttributeConstants.ATTRIBUTE_TYPE_BOOLEAN\r\n          ? 'false'\r\n          : value;\r\n      const currentAttribute =\r\n        !!current && !!current.find((data) => data.attributeId === element.attributeId && data.attributeValue !== value)\r\n          ? current.filter((data) => data.attributeId === element.attributeId)[0].attributeValue\r\n          : element.attributeType === BidoAttributeConstants.ATTRIBUTE_TYPE_BOOLEAN\r\n          ? 'false'\r\n          : value;\r\n      if (currentAttribute === previousAttribute) {\r\n        this.isAttribute = false;\r\n\r\n        return;\r\n      } else {\r\n        currentValue = !!currentAttribute ? currentAttribute : value;\r\n        previousValue = !!previousAttribute ? previousAttribute : value;\r\n        fieldName = this.fetchAttributeLabel(element);\r\n      }\r\n\r\n      this.createMaintenanceProgramTaskUpdatedRow(\r\n        currentTask,\r\n        previousTask,\r\n        currentValue,\r\n        previousValue,\r\n        fieldName,\r\n        tabName,\r\n        panelName,\r\n        previousRmpVersion\r\n      );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * fetchAttributeLabel() - This function is used to fill the field name in the Attribute Panel.\r\n   * @param attribute - Attribute DTO\r\n   */\r\n  private fetchAttributeLabel(attribute: BireTaskAttributeCustomDTO) {\r\n    let value = '';\r\n    const label = this.attributeList.filter((type) => type.attributeId === attribute.attributeId)[0];\r\n    if (!!this.attributeList) {\r\n      if (this.translateService.currentLang === MaintenanceProgramUpdatesListComponent.ENG) {\r\n        value = label && label.attributeNameEn ? label.attributeNameEn : '';\r\n      } else {\r\n        value = label && label.attributeNameFr ? label.attributeNameFr : '';\r\n      }\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  private loadApplicability(): void {\r\n    this.maintenanceProgramUpdatesListService.getApplicability().subscribe(\r\n      (results) => {\r\n        this.taskApplicabilityCode = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetApplicabilities'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadTaskGroup(): void {\r\n    this.maintenanceProgramUpdatesListService.getTaskGroups().subscribe(\r\n      (results) => {\r\n        this.taskGroups = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetTaskGroups'));\r\n      }\r\n    );\r\n  }\r\n  private loadMROCenter(): void {\r\n    this.maintenanceProgramUpdatesListService.findMROCenter().subscribe(\r\n      (results) => {\r\n        this.mroCenters = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorONGetMROCenter'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadTaskType(): void {\r\n    this.maintenanceProgramUpdatesListService.getTaskType().subscribe(\r\n      (results) => {\r\n        this.taskTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetTaskTypes'));\r\n      }\r\n    );\r\n  }\r\n  private loadStatus(): void {\r\n    this.maintenanceProgramUpdatesListService.getFuncObjectStatusMap().subscribe(\r\n      (results) => {\r\n        this.status = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetObjectStatus'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadAssociatedTaskLinkTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.TASK_LINK_MAP).subscribe(\r\n      (results) => {\r\n        this.associatedLinkTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetEvolutionLinkTypes'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadLinkTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.TASK_EVOLUTION_TYPE_MAP).subscribe(\r\n      (results) => {\r\n        this.evolutionLinkTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetEvolutionLinkTypes'));\r\n      }\r\n    );\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.TASK_ITEM_TYPE_MAP).subscribe(\r\n      (results) => {\r\n        this.itemLinkTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetEvolutionLinkTypes'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadDocumentTaskCategories(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.DOC_TASK_CATEGORY_MAP).subscribe(\r\n      (results) => {\r\n        this.documentCategories = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetDocumentTaskCategories'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadStructureTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.STRUCTURE_TYPE_MAP).subscribe(\r\n      (results) => {\r\n        this.structureType = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnLoadStructureType'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private getTranslatedValue(key): string {\r\n    return this.translateService.instant(this.getTranslateKey(key));\r\n  }\r\n\r\n  private loadCurrency(): void {\r\n    this.maintenanceProgramUpdatesListService.getLocalCurrency().subscribe((result) => {\r\n      const currencyRegexp = /^[a-zA-Z]+ \\(([A-Z]+)\\)$/;\r\n      const mo = result.match(currencyRegexp);\r\n      this.currency = mo ? mo[1] : result;\r\n    });\r\n  }\r\n  private loadAttributeList(): void {\r\n    this.maintenanceProgramUpdatesListService\r\n      .findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_TASK_KEY)\r\n      .subscribe((results) => {\r\n        this.attributeList = results || [];\r\n      });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { MaintenanceProgramUpdatedOutputDTO } from '../../../shared/types/api-output-types/task-management/maintenance-program-updated-output-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class MaintenanceProgramUpdatesListService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public getMainteanceProgramUpdatedList(planCode: string): Observable<MaintenanceProgramUpdatedOutputDTO[]> {\r\n    return super.post<string, MaintenanceProgramUpdatedOutputDTO[]>(\r\n      this.taskManagementApi.getMainteanceProgramUpdatedList,\r\n      planCode\r\n    );\r\n  }\r\n\r\n  public getTaskGroups(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.taskManagementApi.findAllBireTaskGroups);\r\n  }\r\n\r\n  public getApplicability(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.TASK_APPLICABILITY_CODE_MAP);\r\n  }\r\n\r\n  public findMROCenter(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireSiteForTask);\r\n  }\r\n\r\n  public getTaskType(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.TASK_TYPE_MAP);\r\n  }\r\n\r\n  public getFuncObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.FUNC_OBJECT_STATUS_MAP);\r\n  }\r\n\r\n  public getTaskEvolutionTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.TASK_EVOLUTION_TYPE_MAP);\r\n  }\r\n  public getLocalCurrency(): Observable<string> {\r\n    return super.post<void, string>(this.taskManagementApi.getLocalCurrency);\r\n  }\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\" *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\">\\r\\n        - {{ subTitle }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"editModification()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      color=\\\"warn\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"cancel()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"save()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button\\r\\n        mat-menu-item\\r\\n        id=\\\"upgrade\\\"\\r\\n        *ngIf=\\\"!isReadOpenMode && selectedModification.modificationRevisionNumber != null\\\"\\r\\n        type=\\\"button\\\"\\r\\n        (click)=\\\"upgradeModification()\\\"\\r\\n      >\\r\\n        {{ \\\"global.upgrade\\\" | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item id=\\\"status\\\" (click)=\\\"openStatusUpdatesPopup()\\\">{{ \\\"updates\\\" | translate }}</button>\\r\\n      <button\\r\\n        mat-menu-item\\r\\n        id=\\\"refresh\\\"\\r\\n        *ngIf=\\\"isReadOpenMode && componentData && componentData.objectId\\\"\\r\\n        type=\\\"button\\\"\\r\\n        (click)=\\\"refresh()\\\"\\r\\n      >\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n      <button mat-menu-item id=\\\"favorite\\\" (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--equally\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div class=\\\"grid-row\\\">\\r\\n                      <div class=\\\"form-group flex--2 required\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".number\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"selectedModification.modificationNumber\\\"\\r\\n                            maxlength=\\\"50\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group flex--2 required\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".revisionNumber\\\" | translate\\r\\n                        }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"selectedModification.modificationRevisionNumber\\\"\\r\\n                            maxlength=\\\"10\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"grid-row\\\">\\r\\n                      <div class=\\\"form-group flex--2\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".familyCode\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: !isCreateOpenMode }\\\">\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"openFamilyPopup()\\\">\\r\\n                            {{ selectedModification.familyCode }}\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"selectedModification.familyCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"resetFamilyCode()\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"openFamilyPopup()\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"form-group flex--2\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".structureType\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"selectedModification.structureType\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"grid-row\\\">\\r\\n                      <div class=\\\"form-group flex--2 required\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".type\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"selectedModification.modificationType\\\"\\r\\n                            maxlength=\\\"10\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"form-group flex--2\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".documentUrl\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            style=\\\"width: 100%\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            [(ngModel)]=\\\"selectedModification.modificationDocumentUrl\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"grid-row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".designation\\\" | translate }}</label>\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            style=\\\"width: 100%\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            maxlength=\\\"300\\\"\\r\\n                            pInputTextarea\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            [(ngModel)]=\\\"selectedModification.modificationTitle\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-cell--equally\\\">\\r\\n              <div #assetTableAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".assetsAssociated\\\" | translate }} ({{\\r\\n                        assetTableDataSource ? assetTableDataSource.dataSelectionCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"assetTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && assetTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"deleteSelectedConcernedAssets()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && !assetTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createAsset()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && assetTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editAsset()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"assetTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openAsset()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"attributes\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div #dynamicAttributeListAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.attributes\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <div class=\\\"aw-btn-group\\\">\\r\\n                    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" (click)=\\\"openHistoricAttributes()\\\" mat-raised-button>\\r\\n                      <span>{{ \\\"global.historic\\\" | translate }}</span>\\r\\n                    </button>\\r\\n\\r\\n                    <aw-dynamic-attributes\\r\\n                      [attributes]=\\\"dynamicAttributesModification\\\"\\r\\n                      [isReadOpenMode]=\\\"isReadOpenMode\\\"\\r\\n                    ></aw-dynamic-attributes>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Popup Zone -->\\r\\n<aw-modification-assets-popup-form\\r\\n  *ngIf=\\\"showAssetPopup\\\"\\r\\n  [(display)]=\\\"showAssetPopup\\\"\\r\\n  [component-data]=\\\"dataAssets\\\"\\r\\n  (onCreate)=\\\"onSaveAssets($event)\\\"\\r\\n></aw-modification-assets-popup-form>\\r\\n\\r\\n<!-- Dialog ZONE -->\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showFamilyCodeDialog\\\"\\r\\n  [(display)]=\\\"showFamilyCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataFamilyList\\\"\\r\\n  (onSelected)=\\\"setSelectedObject($event)\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-status-update-history\\r\\n  *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n  [object]=\\\"selectedModification\\\"\\r\\n  [data]=\\\"tableStatusUpdatesData\\\"\\r\\n  [deleteApi]=\\\"deleteApi\\\"\\r\\n  [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n  [keyMap]=\\\"updatesKeyMap\\\"\\r\\n  [isStatusEditable]=\\\"!isReadOpenMode\\\"\\r\\n  (onUpdated)=\\\"updateObjectStatusFromStatusUpdatesHistory($event)\\\"\\r\\n></aw-status-update-history>\\r\\n<aw-dynamic-attributes-history\\r\\n  *ngIf=\\\"showDynamicAttributesHistoric\\\"\\r\\n  [attributes]=\\\"dynamicAttributesModification\\\"\\r\\n  [history]=\\\"dynamicAttributesHistoric\\\"\\r\\n  showDelete=\\\"true\\\"\\r\\n  [deleteApi]=\\\"productStructureHistoryApi.removeHBireModificationAttribute\\\"\\r\\n  [(display)]=\\\"showDynamicAttributesHistoric\\\"\\r\\n></aw-dynamic-attributes-history>\\r\\n\"","module.exports = \":host #modification-form-component .main-data .form-group {\\n  width: 15rem; }\\n\\n:host #modification-form-component .attributes-tab {\\n  display: flex;\\n  flex-direction: column; }\\n\\n:host #modification-form-component .general-tab {\\n  display: flex;\\n  flex-direction: column; }\\n\\n:host #modification-form-component .general-tab .general-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n\\n:host #modification-form-component .general-tab .general-fields .general-field {\\n      width: 15rem; }\\n\\n:host #modification-form-component .general-tab .general-fields .text-area {\\n      width: 20rem; }\\n\\n:host #modification-form-component .general-tab .general-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n\\n:host #modification-form-component .general-tab .general-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n\\n:host #modification-form-component .general-tab .general-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n\\n:host #modification-form-component .general-tab .general-tables .row .table-wrapper {\\n        width: 50%; }\\n\\n:host #modification-form-component .general-tab .general-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n\\n:host #modification-form-component .general-tab .general-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21vZGlmaWNhdGlvbi1mb3JtL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxtb2RpZmljYXRpb24tZm9ybVxcbW9kaWZpY2F0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHTSxZQUFZLEVBQUE7O0FBSGxCO0VBTU0sYUFBYTtFQUNiLHNCQUFzQixFQUFBOztBQVA1QjtFQVdNLGFBQWE7RUFDYixzQkFBc0IsRUFBQTs7QUFaNUI7SUFlUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTs7QUFqQm5CO01Bb0JVLFlBQVksRUFBQTs7QUFwQnRCO01BdUJVLFlBQVksRUFBQTs7QUF2QnRCO0lBNEJRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7O0FBOUJ6QjtNQWlDVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTs7QUFuQ3pCO1FBc0NZLG1CQUFtQixFQUFBOztBQXRDL0I7UUEwQ1ksVUFBVSxFQUFBOztBQTFDdEI7VUE2Q2MsbUJBQW1CLEVBQUE7O0FBN0NqQztVQWlEYyxrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9tb2RpZmljYXRpb24tZm9ybS9tb2RpZmljYXRpb24tZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAjbW9kaWZpY2F0aW9uLWZvcm0tY29tcG9uZW50IHtcclxuICAgIC5tYWluLWRhdGEgLmZvcm0tZ3JvdXAge1xyXG4gICAgICB3aWR0aDogMTVyZW07XHJcbiAgICB9XHJcbiAgICAuYXR0cmlidXRlcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgIC5nZW5lcmFsLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuZ2VuZXJhbC1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmdlbmVyYWwtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDE1cmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAudGV4dC1hcmVhIHtcclxuICAgICAgICAgIHdpZHRoOiAyMHJlbTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5nZW5lcmFsLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\n\r\nimport { ProductStructureHistoryApi } from '../../../shared/api/product-structure-history.api';\r\nimport { UpdateHistoricApi } from '../../../shared/api/update-historic.api';\r\nimport { DialogTableData } from '../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { DynamicAttributesService } from '../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { DynamicAttributes } from '../../../shared/components/dynamic-attributes/types/dynamic-attributes.interface';\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../shared/enums/table-selection-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { UpdateHistoricService } from '../../../shared/services/update-historic.service';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireConcernedAssetDTO } from '../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { BireFamilyDTO } from '../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireModificationAttributeDTOId } from '../../../shared/types/api-types/bire-modification-attribute-dto-id.interface';\r\nimport { BireModificationAttributeDTO } from '../../../shared/types/api-types/bire-modification-attribute-dto.interface';\r\nimport { BireModificationDTOId } from '../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { HBireModificationAttributeDTO } from '../../../shared/types/api-types/h-bire-modification-attribute-dto.interface';\r\nimport { HBireModificationDTO } from '../../../shared/types/api-types/h-bire-modification-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { ModificationAssetsPopupFormService } from '../modification-form/popups/modification-assets-popup-form.service';\r\n\r\nimport { ModificationFormService } from './modification-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-modification-form',\r\n  styleUrls: ['./modification-form.component.scss'],\r\n  templateUrl: './modification-form.component.html'\r\n})\r\nexport class ModificationFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public readonly tabGeneralId: string;\r\n  public readonly tabAssetsId: string;\r\n  public readonly tabAttributesId: string;\r\n  public filteredRowsNb: number;\r\n  public isLoading: boolean = false;\r\n\r\n  // For object status/updates popup\r\n  public showStatusUpdatesPopup: boolean;\r\n  public tableStatusUpdatesData: DialogTableData<HBireModificationDTO>;\r\n  public deleteApi: string;\r\n  public updatesKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  public isStatusEditable: boolean;\r\n\r\n  // For dynamic attributes historic\r\n  public showDynamicAttributesHistoric: boolean;\r\n  public dynamicAttributesHistoric: Observable<HBireModificationAttributeDTO[]>;\r\n\r\n  // Show popup boolean\r\n  public showAssetPopup: boolean;\r\n\r\n  public selectedModification: BireModificationDTO;\r\n\r\n  public assetActionTypeList: LabelValue<string>[];\r\n  public subTitle: string;\r\n\r\n  public currentTabId: string;\r\n\r\n  public showFamilyCodeDialog: boolean;\r\n\r\n  // Test DynamicAttributes Algo\r\n  public bireAttributes: BireAttributeDTO[];\r\n  public bireModificationAttribute: BireModificationAttributeDTO[];\r\n  public dynamicAttributesModification: DynamicAttributes[];\r\n  public dialogTableDataFamilyList: DialogTableData<BireFamilyDTO>;\r\n\r\n  /* Assets tab */\r\n  public dataAssets: PopupEntry<BireConcernedAssetDTO>;\r\n  public isReadOnlyAssetDialog: boolean;\r\n  public currentAsset: BireConcernedAssetDTO | undefined;\r\n  public currentAssetIndex: number | undefined;\r\n  public isNewAsset: boolean;\r\n\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  private isUpgradeValid: boolean;\r\n  public showSaveSpinner: boolean;\r\n\r\n  public assetTableDataSource: TableDataSource<BireConcernedAssetDTO>;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public modificationAssetsPopupFormService: ModificationAssetsPopupFormService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly dynamicAttributesService: DynamicAttributesService,\r\n    private readonly modificationFormService: ModificationFormService,\r\n    private readonly updateHistoricService: UpdateHistoricService,\r\n    private readonly updateHistoricApi: UpdateHistoricApi,\r\n    private readonly confirmationService: ConfirmationService,\r\n    public productStructureHistoryApi: ProductStructureHistoryApi\r\n  ) {\r\n    super(ComponentOpenMode.Read, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    // For status/updates popup\r\n    this.showStatusUpdatesPopup = false;\r\n    this.deleteApi = this.updateHistoricApi.removeBireModificationHistory;\r\n    this.updatesKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n\r\n    // For dynamic attributes historic\r\n    this.showDynamicAttributesHistoric = false;\r\n\r\n    this.showAssetPopup = false;\r\n\r\n    this.tabAttributesId = 'attributes';\r\n    this.tabAssetsId = 'assets';\r\n    this.tabGeneralId = 'general';\r\n\r\n    this.currentTabId = this.tabGeneralId;\r\n    this.selectedModification = {};\r\n\r\n    this.currentAsset = undefined;\r\n    this.currentAssetIndex = undefined;\r\n    this.subTitle = '';\r\n    this.bireAttributes = [];\r\n    this.bireModificationAttribute = [];\r\n    this.dynamicAttributesModification = [];\r\n\r\n    this.loadDropdonwList();\r\n    this.showFamilyCodeDialog = false;\r\n    this.getFamilyList();\r\n\r\n    this.keyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.keyMap.set('structureType', this.propertiesService.getValue('getStructureTypeMap'));\r\n    this.keyMap.set('familyFunction', this.propertiesService.getValue('getFamilyFunctionMap'));\r\n    this.isUpgradeValid = false;\r\n\r\n    this.initAssetTableDataSource();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_MODIFICATION_FORM;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    this.updateOpenMode(this.componentData.openMode);\r\n    if (this.componentData.objectId && this.componentData.objectId.length > 0) {\r\n      this.isUpgradeValid = true;\r\n      this.getModification();\r\n      this.onInit();\r\n      this.setSubTitle();\r\n    }\r\n    const context = !!this.componentData.objectId\r\n      ? `${this.serializationService.deserialize(this.componentData.objectId).modificationType}-${\r\n          this.serializationService.deserialize(this.componentData.objectId).modificationNumber\r\n        }-${this.serializationService.deserialize(this.componentData.objectId).modificationRevisionNumber}`\r\n      : 'tab.createMode';\r\n    this.displayComponentContext(context, this.isCreateOpenMode);\r\n    this.getBireAttributesForModification();\r\n  }\r\n\r\n  private onInit(): void {\r\n    this.getSelectedModification();\r\n    this.findBireConcernedAssetsByModification();\r\n  }\r\n\r\n  private getFamilyList() {\r\n    const tableColumns: TableColumn[] = [\r\n      { field: 'familyCode', width: '25%', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyName', width: '25%', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'structureType', width: '25%', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyFunction', width: '25%', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.dialogTableDataFamilyList = {\r\n      componentId: ComponentConstants.ENG_MODIFICATION_FORM,\r\n      tableCols: tableColumns,\r\n      tableRows: this.modificationFormService.findAllBireFamilys(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  private getModification(): void {\r\n    if (this.componentData) {\r\n      if (this.componentData.objectId && this.componentData.objectId.length > 0) {\r\n        this.selectedModification = this.serializationService.deserialize(this.componentData.objectId);\r\n      }\r\n    }\r\n  }\r\n\r\n  private setSubTitle(): void {\r\n    let subTitle = `${this.selectedModification.modificationType}`;\r\n    subTitle += `-${this.selectedModification.modificationNumber}`;\r\n    subTitle += `-${this.selectedModification.modificationRevisionNumber}`;\r\n    this.subTitle = subTitle;\r\n    this.displayComponentContext(this.subTitle, this.isCreateOpenMode);\r\n  }\r\n\r\n  private getSelectedModification(): void {\r\n    const bireModificationDTOId: BireModificationDTOId = {\r\n      modificationType: this.selectedModification.modificationType,\r\n      modificationNumber: this.selectedModification.modificationNumber,\r\n      modificationRevisionNumber: this.selectedModification.modificationRevisionNumber,\r\n      familyCode: this.selectedModification.familyCode,\r\n      structureType: this.selectedModification.structureType\r\n    };\r\n    this.modificationFormService.findBireModification(bireModificationDTOId).subscribe(\r\n      (data) => {\r\n        this.selectedModification = data;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetModification'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadDropdonwList(): void {\r\n    this.propertiesService.getValue('getAssetActionTypeMap').subscribe(\r\n      (results) => {\r\n        this.assetActionTypeList = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage('global.errorOnGet');\r\n      }\r\n    );\r\n  }\r\n\r\n  public setSelectedObject(selectedObject: BireFamilyDTO) {\r\n    if (selectedObject) {\r\n      this.selectedModification.familyCode = selectedObject.familyCode;\r\n      this.selectedModification.structureType = selectedObject.structureType;\r\n    }\r\n    this.showFamilyCodeDialog = false;\r\n  }\r\n\r\n  private findBireConcernedAssetsByModification(): void {\r\n    this.isLoading = true;\r\n    this.modificationFormService.findBireConcernedAssetsByModification(this.selectedModification).subscribe(\r\n      (results) => {\r\n        this.isLoading = false;\r\n        results.forEach((element) => {\r\n          if (element.assetActionType) {\r\n            element.assetActionType = this.assetActionTypeList.filter(\r\n              (actionType) => actionType.value === element.assetActionType\r\n            )[0].label;\r\n          }\r\n        });\r\n        this.assetTableDataSource.setData(results);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireConcernedAsseetsByModification'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public createAsset(): void {\r\n    this.currentAsset = {};\r\n    this.showAssetPopup = true;\r\n    this.dataAssets = {\r\n      componentId: ComponentConstants.ENG_MODIFICATION_FORM,\r\n      selectedRow: undefined,\r\n      object: this.currentAsset,\r\n      openMode: ComponentOpenMode.Create\r\n    };\r\n  }\r\n\r\n  public editAsset(): void {\r\n    if (this.assetTableDataSource && this.assetTableDataSource.hasDataSelection) {\r\n      // Copy all the selectedAssets[0] field into currentAsset one by one\r\n      this.currentAsset = { ...this.assetTableDataSource.dataSelection[0] };\r\n      if (this.currentAsset.assetActionType != undefined) {\r\n        this.currentAsset.assetActionType = this.assetActionTypeList.filter(\r\n          (actionType) => !!this.currentAsset && actionType.label === this.currentAsset.assetActionType\r\n        )[0].value;\r\n      }\r\n      this.currentAssetIndex = this.assetTableDataSource.data.indexOf(this.assetTableDataSource.dataSelection[0]);\r\n      this.showAssetPopup = true;\r\n      this.dataAssets = {\r\n        componentId: ComponentConstants.ENG_MODIFICATION_FORM,\r\n        selectedRow: undefined,\r\n        object: this.currentAsset,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n  }\r\n\r\n  public deleteSelectedConcernedAssets() {\r\n    const partialMessageKey = 'confirmDeleteSelectedConcernedAssets';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.assetTableDataSource.deleteData(this.assetTableDataSource.dataSelection);\r\n        this.assetTableDataSource.dataSelection = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public openAsset(): void {\r\n    if (this.assetTableDataSource && this.assetTableDataSource.hasDataSelection) {\r\n      // Copy all the selectedAssets[0] field into currentAsset one by one\r\n      this.currentAsset = { ...this.assetTableDataSource.dataSelection[0] };\r\n      if (this.currentAsset.assetActionType != undefined) {\r\n        this.currentAsset.assetActionType = this.assetActionTypeList.filter(\r\n          (actionType) => !!this.currentAsset && actionType.label === this.currentAsset.assetActionType\r\n        )[0].value;\r\n      }\r\n      this.currentAssetIndex = this.assetTableDataSource.data.indexOf(this.assetTableDataSource.dataSelection[0]);\r\n      this.showAssetPopup = true;\r\n      this.dataAssets = {\r\n        componentId: ComponentConstants.ENG_MODIFICATION_FORM,\r\n        selectedRow: undefined,\r\n        object: this.currentAsset,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  public onSaveAssets(assetModification: BireConcernedAssetDTO): void {\r\n    if (assetModification) {\r\n      if (assetModification.assetActionType != undefined) {\r\n        assetModification.assetActionType = this.assetActionTypeList.filter(\r\n          (actionType) => actionType.value === assetModification.assetActionType\r\n        )[0].label;\r\n      }\r\n      if (this.currentAssetIndex != undefined) {\r\n        this.assetTableDataSource.replaceData(\r\n          this.assetTableDataSource.data[this.currentAssetIndex],\r\n          assetModification\r\n        );\r\n      } else {\r\n        this.assetTableDataSource.addData([assetModification]);\r\n      }\r\n    }\r\n\r\n    this.currentAssetIndex = undefined;\r\n    this.assetTableDataSource.dataSelection = [];\r\n    this.showAssetPopup = false;\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.onInit();\r\n  }\r\n\r\n  public upgradeModification(): void {\r\n    if (this.isUpgradeValid) {\r\n      let nextRivisionNumber;\r\n      if (!!this.selectedModification && !!this.selectedModification.modificationRevisionNumber) {\r\n        if (!isNaN(Number(this.selectedModification.modificationRevisionNumber))) {\r\n          this.modificationFormService\r\n            .checkAndReturnNewRevisionNumberByModification(this.selectedModification)\r\n            .subscribe((revisionNumber) => {\r\n              if (revisionNumber) {\r\n                nextRivisionNumber = (\r\n                  parseInt(this.selectedModification.modificationRevisionNumber as string, 10) + 1\r\n                ).toString();\r\n                const partialMessageKey = 'confirmUpgradeModification';\r\n                this.confirmationService.confirm({\r\n                  interpolateParams: { 0: this.selectedModification.modificationNumber, 1: nextRivisionNumber },\r\n                  messageKey: this.getTranslateKey(partialMessageKey),\r\n                  accept: () => {\r\n                    this.modificationFormService\r\n                      .validateDocumentUrl(this.selectedModification.modificationDocumentUrl)\r\n                      .subscribe((isValidUrl) => {\r\n                        if (isValidUrl) {\r\n                          this.modificationFormService\r\n                            .upgradeBireModification(this.selectedModification, nextRivisionNumber)\r\n                            .subscribe((result) => {\r\n                              this.selectedModification = result;\r\n                              this.setSubTitle();\r\n                              this.onInit();\r\n                              this.messageService.showSuccessMessage(\r\n                                this.getTranslateKey('successOnUpgradeModification')\r\n                              );\r\n                            });\r\n                        } else {\r\n                          this.messageService.showErrorMessage(this.getTranslateKey('invalidDocumentUrl'));\r\n                        }\r\n                      });\r\n                  }\r\n                });\r\n              } else {\r\n                this.messageService.showErrorMessage(this.getTranslateKey('modificationNotLastVersion'));\r\n              }\r\n            });\r\n        } else {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('revisionNumberNotNumeric'));\r\n        }\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('msgUpgradNotPossibe'));\r\n      }\r\n    }\r\n  }\r\n\r\n  public editModification(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public save(): void {\r\n    if (this.isValidPage()) {\r\n      this.saveModificationFormData();\r\n    } else {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    }\r\n  }\r\n\r\n  private saveModificationFormData(): void {\r\n    const assetsData = [...this.assetTableDataSource.data];\r\n    assetsData.forEach((element) => {\r\n      if (element.assetActionType) {\r\n        element.assetActionType = this.assetActionTypeList.filter(\r\n          (actionType) => actionType.label === element.assetActionType\r\n        )[0].value;\r\n      }\r\n    });\r\n    this.bireModificationAttribute = this.dynamicAttributesService.toBireModificationAttribute(\r\n      this.selectedModification,\r\n      this.dynamicAttributesModification\r\n    );\r\n\r\n    this.modificationFormService\r\n      .validateDocumentUrl(this.selectedModification.modificationDocumentUrl)\r\n      .subscribe((isValidUrl) => {\r\n        if (isValidUrl) {\r\n          this.showSaveSpinner = true;\r\n          this.modificationFormService\r\n            .saveModification(\r\n              this.selectedModification,\r\n              assetsData,\r\n              this.bireModificationAttribute,\r\n              this.isCreateOpenMode\r\n            )\r\n            .subscribe(\r\n              (result) => {\r\n                this.isUpgradeValid = true;\r\n                this.onInit();\r\n                if (this.isCreateOpenMode) {\r\n                  const bireModificationDTOId: BireModificationDTOId = {\r\n                    familyCode: this.selectedModification.familyCode,\r\n                    structureType: this.selectedModification.structureType,\r\n                    modificationType: this.selectedModification.modificationType,\r\n                    modificationNumber: this.selectedModification.modificationNumber,\r\n                    modificationRevisionNumber: this.selectedModification.modificationRevisionNumber\r\n                  };\r\n                  this.componentData.objectId = this.serializationService.serialize(bireModificationDTOId);\r\n                  this.updateOpenMode(ComponentOpenMode.Write);\r\n                  this.setSubTitle();\r\n                  this.messageService.showSuccessMessage(this.getTranslateKey('successOnSaveModification'));\r\n                } else {\r\n                  this.messageService.showSuccessMessage(this.getTranslateKey('successOnUpdateModification'));\r\n                }\r\n                this.showSaveSpinner = false;\r\n              },\r\n              () => {\r\n                this.messageService.showErrorMessage(this.getTranslateKey('errorOnSaveModification'));\r\n                this.showSaveSpinner = false;\r\n              }\r\n            );\r\n        } else {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('invalidDocumentUrl'));\r\n          this.showSaveSpinner = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  private isValidPage(): boolean {\r\n    return (\r\n      this.selectedModification.familyCode != undefined &&\r\n      this.selectedModification.structureType != undefined &&\r\n      this.selectedModification.modificationNumber != undefined &&\r\n      this.selectedModification.modificationNumber.trim().length > 0 &&\r\n      this.selectedModification.modificationRevisionNumber != undefined &&\r\n      this.selectedModification.modificationRevisionNumber.trim().length > 0 &&\r\n      this.selectedModification.modificationType != undefined &&\r\n      this.selectedModification.modificationType.trim().length > 0\r\n    );\r\n  }\r\n\r\n  // Get differents attributes list for this object\r\n  public getBireAttributesForModification(): void {\r\n    this.bireAttributes = [];\r\n    forkJoin({\r\n      allCategoryList: this.modificationFormService.findBireAttributesByCategory(\r\n        AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY\r\n      ),\r\n      modificationCategoryList: this.modificationFormService.findBireAttributesByCategory(\r\n        AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_MODIFICATION_KEY\r\n      )\r\n    }).subscribe(\r\n      (result) => {\r\n        this.bireAttributes.push(...result.allCategoryList);\r\n        this.bireAttributes.push(...result.modificationCategoryList);\r\n        setTimeout(() => {\r\n          this.dynamicAttributesModification = this.dynamicAttributesService.from(this.bireAttributes);\r\n          this.getBireModificationAttributes();\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private getBireModificationAttributes(): void {\r\n    this.modificationFormService.findBireModificationAttributesByItem(this.selectedModification).subscribe(\r\n      (results) => {\r\n        this.bireModificationAttribute = results;\r\n        this.dynamicAttributesService.setValues(this.dynamicAttributesModification, this.bireModificationAttribute);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesForModification'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public resetFamilyCode(): void {\r\n    this.selectedModification.familyCode = undefined;\r\n    this.selectedModification.structureType = undefined;\r\n  }\r\n\r\n  public cancel(): void {\r\n    if (this.isCreateOpenMode) {\r\n      this.selectedModification = {};\r\n      this.initAttributeValue();\r\n    } else {\r\n      this.refresh();\r\n      this.getBireAttributesForModification();\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  private initAttributeValue(): void {\r\n    const leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesModification);\r\n\r\n    leafs.forEach((attribute) => {\r\n      attribute.value = undefined;\r\n    });\r\n  }\r\n\r\n  public openAssetsTab(): void {\r\n    this.currentTabId = this.tabAssetsId;\r\n  }\r\n\r\n  public openFamilyPopup(): void {\r\n    this.showFamilyCodeDialog = this.isCreateOpenMode ? true : false;\r\n  }\r\n\r\n  public openGeneralTab(): void {\r\n    this.currentTabId = this.tabGeneralId;\r\n  }\r\n\r\n  public openAttributesTab(): void {\r\n    this.currentTabId = this.tabAttributesId;\r\n  }\r\n\r\n  public openHistoricAttributes(): void {\r\n    this.showDynamicAttributesHistoric = true;\r\n    let attributeIds: BireModificationAttributeDTOId[];\r\n    if (\r\n      !!this.selectedModification &&\r\n      !!this.selectedModification.modificationNumber &&\r\n      !!this.selectedModification.modificationRevisionNumber &&\r\n      !!this.selectedModification.modificationType &&\r\n      !!this.selectedModification.familyCode &&\r\n      !!this.selectedModification.structureType &&\r\n      !!this.dynamicAttributesModification\r\n    ) {\r\n      attributeIds = this.dynamicAttributesService.toBireModificationAttributeId(\r\n        this.selectedModification.modificationNumber,\r\n        this.selectedModification.modificationRevisionNumber,\r\n        this.selectedModification.modificationType,\r\n        this.selectedModification.familyCode,\r\n        this.selectedModification.structureType,\r\n        this.dynamicAttributesModification\r\n      );\r\n      this.getHistoricAttributes(attributeIds);\r\n    } else {\r\n      attributeIds = [];\r\n      this.getHistoricAttributes(attributeIds);\r\n    }\r\n  }\r\n\r\n  private getHistoricAttributes(attributeIds: BireModificationAttributeDTOId[]) {\r\n    this.dynamicAttributesHistoric = this.modificationFormService.findHBireModificationAttributesByAttributeId(\r\n      attributeIds\r\n    );\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    this.showStatusUpdatesPopup = true;\r\n    this.isStatusEditable = true;\r\n    const modificationId: BireModificationDTOId = this.selectedModification;\r\n    const columns: TableColumn[] = [\r\n      { field: 'timestamp', width: '200px', filterMode: TableColumnFilterMode.Input, isDate: true },\r\n      { field: 'statusUser', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'action', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'statusState', width: '250px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyCode', alignment: 'left', width: '6.25rem' },\r\n      { field: 'structureType', alignment: 'left', width: '6.25rem' },\r\n      { field: 'modificationType', alignment: 'left', width: '6.25rem' },\r\n      { field: 'modificationNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'modificationRevisionNumber', alignment: 'left', width: '6.25rem' },\r\n      { field: 'modificationDocumentUrl', alignment: 'left', width: '6.25rem' },\r\n      { field: 'modificationTitle', alignment: 'left', width: '6.25rem' }\r\n    ];\r\n    this.updatesKeyMap.set('statusState', this.propertiesService.getValue('getFuncObjectStatusMap'));\r\n    this.tableStatusUpdatesData = {\r\n      componentId: 'ModificationFormComponent.historicPopup',\r\n      tableCols: columns,\r\n      tableRows: this.updateHistoricService.findBireModificationHistoric(modificationId),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Multiple,\r\n      globalFilter: false\r\n    };\r\n  }\r\n\r\n  private initAssetTableDataSource(): void {\r\n    this.assetTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'assetPn', translateKey: this.getTranslateKey('assetPn') },\r\n        { field: 'assetSn', translateKey: this.getTranslateKey('assetSn') },\r\n        { field: 'assetActionType', translateKey: this.getTranslateKey('assetActionType') }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { ProductStructureHistoryApi } from '../../../shared/api/product-structure-history.api';\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { SaveModificationInput } from '../../../shared/types/api-input-types/product-structure-management/save-modification-input.interface';\r\nimport { UpgradeBireModificationInput } from '../../../shared/types/api-input-types/product-structure-management/upgrad-bire-modification-input.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireConcernedAssetDTO } from '../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { BireFamilyDTO } from '../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireModificationAttributeDTOId } from '../../../shared/types/api-types/bire-modification-attribute-dto-id.interface';\r\nimport { BireModificationAttributeDTO } from '../../../shared/types/api-types/bire-modification-attribute-dto.interface';\r\nimport { BireModificationDTOId } from '../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { HBireModificationAttributeDTO } from '../../../shared/types/api-types/h-bire-modification-attribute-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class ModificationFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly productStructureHistoryApi: ProductStructureHistoryApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findAllBireFamilys(): Observable<SearchResultsDTO<BireFamilyDTO>> {\r\n    return super.post<void, SearchResultsDTO<BireFamilyDTO>>(this.productStructureManagementApi.findAllBireFamilys);\r\n  }\r\n\r\n  // Assets\r\n  public findBireConcernedAssetsByModification(\r\n    bireModificationDTO: BireModificationDTO\r\n  ): Observable<BireConcernedAssetDTO[]> {\r\n    const bireModificationDTOId: BireModificationDTOId = {\r\n      modificationType: bireModificationDTO.modificationType,\r\n      modificationNumber: bireModificationDTO.modificationNumber,\r\n      modificationRevisionNumber: bireModificationDTO.modificationRevisionNumber,\r\n      familyCode: bireModificationDTO.familyCode,\r\n      structureType: bireModificationDTO.structureType\r\n    };\r\n\r\n    return super.post<BireModificationDTOId, BireConcernedAssetDTO[]>(\r\n      this.productStructureManagementApi.findBireConcernedAssetsByModification,\r\n      bireModificationDTOId\r\n    );\r\n  }\r\n\r\n  public findBireModification(bireModificationDTOId: BireModificationDTOId): Observable<BireModificationDTO> {\r\n    return super.post<BireModificationDTOId, BireModificationDTO>(\r\n      this.productStructureManagementApi.findBireModification,\r\n      bireModificationDTOId\r\n    );\r\n  }\r\n\r\n  public saveModification(\r\n    bireModificationDTO: BireModificationDTO,\r\n    bireConcernedAssetDTOList: BireConcernedAssetDTO[],\r\n    bireModificationAttributeDTO: BireModificationAttributeDTO[],\r\n    isForupdate: boolean\r\n  ): Observable<boolean> {\r\n    const saveModificationInput: SaveModificationInput = {\r\n      bireModificationDTO,\r\n      bireConcernedAssetDTOList,\r\n      bireModificationAttributeDTO,\r\n      isForUpdate: !isForupdate\r\n    };\r\n\r\n    return super.post<SaveModificationInput, boolean>(\r\n      this.productStructureManagementApi.saveModification,\r\n      saveModificationInput\r\n    );\r\n  }\r\n\r\n  public checkAndReturnNewRevisionNumberByModification(bireModificationDTO: BireModificationDTO): Observable<string> {\r\n    return super.post<BireModificationDTO, string>(\r\n      this.productStructureManagementApi.checkAndReturnNewRevisionNumberByModification,\r\n      bireModificationDTO\r\n    );\r\n  }\r\n\r\n  public upgradeBireModification(\r\n    bireModificationDTO: BireModificationDTO,\r\n    targetRevisionNumber: string\r\n  ): Observable<BireModificationDTO> {\r\n    const upgradeBireModificationInput: UpgradeBireModificationInput = {\r\n      bireModificationDTO,\r\n      targetRevisionNumber\r\n    };\r\n\r\n    return super.post<UpgradeBireModificationInput, BireModificationDTO>(\r\n      this.productStructureManagementApi.upgradeBireModification,\r\n      upgradeBireModificationInput\r\n    );\r\n  }\r\n\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n\r\n  public findBireModificationAttributesByItem(\r\n    bireModificationDTO: BireModificationDTO\r\n  ): Observable<BireModificationAttributeDTO[]> {\r\n    const bireModificationDTOId: BireModificationDTOId = {\r\n      modificationType: bireModificationDTO.modificationType,\r\n      modificationNumber: bireModificationDTO.modificationNumber,\r\n      modificationRevisionNumber: bireModificationDTO.modificationRevisionNumber,\r\n      familyCode: bireModificationDTO.familyCode,\r\n      structureType: bireModificationDTO.structureType\r\n    };\r\n\r\n    return super.post<BireModificationDTOId, BireModificationAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireModificationAttributesByItem,\r\n      bireModificationDTOId\r\n    );\r\n  }\r\n\r\n  public findHBireModificationAttributesByAttributeId(\r\n    ids: BireModificationAttributeDTOId[]\r\n  ): Observable<HBireModificationAttributeDTO[]> {\r\n    return super.post<BireModificationAttributeDTOId[], HBireModificationAttributeDTO[]>(\r\n      this.productStructureHistoryApi.findHBireModificationAttributesByAttributeId,\r\n      ids\r\n    );\r\n  }\r\n\r\n  public validateDocumentUrl(documentUrl?: string): Observable<boolean> {\r\n    if (!documentUrl || (!!documentUrl && documentUrl.trim().length === 0)) {\r\n      return of<boolean>(true);\r\n    }\r\n\r\n    return super.post<string, boolean>(this.productStructureManagementApi.validateDocumentUrl, documentUrl);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".assetsManagement\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".assetPn\\\" | translate }}</label>\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newAsset.assetPn\\\" [disabled]=\\\"isReadOpenMode\\\" maxlength=\\\"50\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".assetSn\\\" | translate }}</label>\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"newAsset.assetSn\\\" [disabled]=\\\"isReadOpenMode\\\" maxlength=\\\"50\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".assetActionType\\\" | translate }}</label>\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-dropdown\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          [showClear]=\\\"true\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n          [options]=\\\"instruction\\\"\\r\\n          [(ngModel)]=\\\"newAsset.assetActionType\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onSave()\\\">\\r\\n      <span>{{ \\\"global.validate\\\" | translate }}</span>\\r\\n    </button>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { BireConcernedAssetDTO } from '../../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../shared/types/popup-entry.interface';\r\n\r\nimport { ModificationAssetsPopupFormService } from './modification-assets-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-modification-assets-popup-form',\r\n  templateUrl: './modification-assets-popup-form.component.html'\r\n})\r\nexport class ModificationAssetsPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BireConcernedAssetDTO> | null;\r\n  @Output()\r\n  public onCreate: EventEmitter<BireConcernedAssetDTO>;\r\n\r\n  public newAsset: BireConcernedAssetDTO;\r\n  public assetObject: BireConcernedAssetDTO;\r\n  public contentTable: BireConcernedAssetDTO[];\r\n  public selectedAssets: BireConcernedAssetDTO[];\r\n  public showAdvancedCriteria: boolean;\r\n  public instruction: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    public modificationAssetsPopupFormService: ModificationAssetsPopupFormService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ModificationFormComponent');\r\n\r\n    this.onCreate = new EventEmitter<BireConcernedAssetDTO>();\r\n\r\n    this.contentTable = [];\r\n    this.selectedAssets = [];\r\n    this.newAsset = {};\r\n    this.loadActionType();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.object) {\r\n      this.newAsset = this.componentData.object;\r\n      this.updateOpenMode(this.componentData.openMode);\r\n    }\r\n  }\r\n\r\n  public onCancel() {\r\n    this.closeDialog();\r\n  }\r\n\r\n  public onSave(): void {\r\n    if (!this.isReadOpenMode && this.isValidFields()) {\r\n      this.onCreate.emit(this.newAsset);\r\n      this.closeDialog();\r\n    }\r\n  }\r\n\r\n  private loadActionType(): void {\r\n    this.modificationAssetsPopupFormService.getAssetActionType().subscribe(\r\n      (results) => {\r\n        this.instruction = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInstructions'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private isValidFields(): boolean {\r\n    return (\r\n      this.newAsset != undefined &&\r\n      !(\r\n        this.newAsset.assetPn == undefined &&\r\n        this.newAsset.assetSn == undefined &&\r\n        this.newAsset.assetActionType == undefined\r\n      )\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ModificationAssetsPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  // Retrieve the instruction dropdownlist in the Asset dropdown list\r\n  public getAssetActionType(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getAssetActionTypeMap');\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewModification()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group flex--3\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"familyCodeList\\\"\\r\\n                        [(ngModel)]=\\\"selectedFamily\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        (onChange)=\\\"onChange($event.value)\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".modificationTypeLabel\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationType\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".modificationNumberLabel\\\" | translate }}\\r\\n                    </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationNumber\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".modificationRevisionNumberLabel\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationRevisionNumber\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\">\\r\\n                      {{ componentData.componentId + \\\".modificationTitle\\\" | translate }}\\r\\n                    </label>\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationTitle\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ resultsTableSource ? resultsTableSource.dataCount : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"resultsTableSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"resultsTableSource && resultsTableSource.hasData && !resultsTableSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && resultsTableSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteSelectedModification()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"resultsTableSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedModification()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n                <ng-template columnDef=\\\"modificationNumber\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <a (click)=\\\"openModification(rowData)\\\"> {{ rowData.modificationNumber }} </a>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .criteria-checkboxes,\\n:host .form-group {\\n  margin-right: 20px;\\n  max-width: 15rem;\\n  min-width: 10rem;\\n  width: 20%; }\\n  :host .criteria-checkboxes:last-of-type,\\n  :host .form-group:last-of-type {\\n    margin-right: 0; }\\n  :host .panel-search-footer .page-search-button {\\n  display: flex;\\n  flex-direction: column; }\\n  :host .panel-search-footer .page-search-button button {\\n    margin-right: 0px; }\\n  :host .search-criteria-primary {\\n  justify-content: flex-start; }\\n  :host .search-criteria-primary .criteria-checkboxes {\\n    display: flex;\\n    flex-direction: column; }\\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:first-of-type {\\n      margin-top: 30px; }\\n  :host .search-criteria-primary .criteria-checkboxes p-checkbox:nth-of-type(2) {\\n      margin-top: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21vZGlmaWNhdGlvbi1zZWFyY2gvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXG1vZGlmaWNhdGlvbi1zZWFyY2hcXG1vZGlmaWNhdGlvbi1zZWFyY2guY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBR0ksa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBTmQ7O0lBUU0sZUFBZSxFQUFBO0VBUnJCO0VBYU0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBZDVCO0lBZ0JRLGlCQUFpQixFQUFBO0VBaEJ6QjtFQXFCSSwyQkFBMkIsRUFBQTtFQXJCL0I7SUF1Qk0sYUFBYTtJQUNiLHNCQUFzQixFQUFBO0VBeEI1QjtNQTBCUSxnQkFBZ0IsRUFBQTtFQTFCeEI7TUE2QlEsZUFBZSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L21vZGlmaWNhdGlvbi1zZWFyY2gvbW9kaWZpY2F0aW9uLXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAuY3JpdGVyaWEtY2hlY2tib3hlcyxcclxuICAuZm9ybS1ncm91cCB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDE1cmVtO1xyXG4gICAgbWluLXdpZHRoOiAxMHJlbTtcclxuICAgIHdpZHRoOiAyMCU7XHJcbiAgICAmOmxhc3Qtb2YtdHlwZSB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMDtcclxuICAgIH1cclxuICB9XHJcbiAgLnBhbmVsLXNlYXJjaC1mb290ZXIge1xyXG4gICAgLnBhZ2Utc2VhcmNoLWJ1dHRvbiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLnNlYXJjaC1jcml0ZXJpYS1wcmltYXJ5IHtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuICAgIC5jcml0ZXJpYS1jaGVja2JveGVzIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgcC1jaGVja2JveDpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgICB9XHJcbiAgICAgIHAtY2hlY2tib3g6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { Table } from 'primeng/table';\r\n\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { BireModificationDTOId } from '../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\n\r\nimport { ModificationSearchService } from './modification-search.service';\r\n\r\ninterface ModificationRow {\r\n  familyCode: string;\r\n  structureType: string;\r\n  modificationType: string;\r\n  modificationNumber: string;\r\n  modRevisionNumber: string;\r\n  modificationDocumentUrl?: string;\r\n  modificationTitle?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-modification-search',\r\n  templateUrl: './modification-search.component.html',\r\n  styleUrls: ['./modification-search.component.scss']\r\n})\r\nexport class ModificationSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public filteredRowsNb: number;\r\n  public resultsTableSource: TableDataSource<BireModificationDTO>;\r\n  public searchObject: BireModificationDTO;\r\n  public familyCodeList: LabelValue<string>[];\r\n  public selectedFamily: string | undefined;\r\n  private readonly resultsTableExportName: string;\r\n  public isLoading: boolean;\r\n\r\n  @ViewChild('resultsContainerAnchor')\r\n  public resultsContainerAnchor: ElementRef;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public modificationSearchService: ModificationSearchService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly exportService: ExportService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.resultsTableExportName = 'modification-search-list';\r\n    this.filteredRowsNb = 0;\r\n    this.searchObject = {};\r\n    this.searchObject = { familyCode: undefined };\r\n    this.isLoading = false;\r\n\r\n    this.initResultsTableDataSource();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_MODIFICATION_SEARCH;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n\r\n    this.loadDropDownList();\r\n  }\r\n\r\n  private loadDropDownList(): void {\r\n    this.modificationSearchService.findBireFamily().subscribe(\r\n      (results) => {\r\n        this.selectedFamily = undefined;\r\n        this.familyCodeList = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetBireFamily'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {};\r\n    this.selectedFamily = undefined;\r\n  }\r\n\r\n  public openNewModification(): void {\r\n    this.openModificationForm(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public openModification(modification: BireModificationDTO): void {\r\n    if (modification && modification.familyCode) {\r\n      const selectedObjectId: BireModificationDTO = {\r\n        familyCode: modification.familyCode,\r\n        structureType: modification.structureType,\r\n        modificationType: modification.modificationType,\r\n        modificationNumber: modification.modificationNumber,\r\n        modificationRevisionNumber: modification.modificationRevisionNumber\r\n      };\r\n      this.openModificationForm(selectedObjectId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  /* Open modification form for selected rows */\r\n  public openSelectedModification(): void {\r\n    this.resultsTableSource.dataSelection.forEach((modification) => {\r\n      if (modification && modification.familyCode) {\r\n        const selectedObjectId: BireModificationDTO = {\r\n          familyCode: modification.familyCode,\r\n          structureType: modification.structureType,\r\n          modificationType: modification.modificationType,\r\n          modificationNumber: modification.modificationNumber,\r\n          modificationRevisionNumber: modification.modificationRevisionNumber\r\n        };\r\n        this.openModificationForm(selectedObjectId, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Delete selected modification */\r\n  public deleteSelectedModification(): void {\r\n    if (this.resultsTableSource.hasDataSelection) {\r\n      const partialMessageKey =\r\n        this.resultsTableSource.dataSelectionCount === 1\r\n          ? 'confirmDeleteSelectedModification'\r\n          : 'confirmDeleteSelectedModifications';\r\n      this.confirmationService.confirmDelete({\r\n        messageKey: this.getTranslateKey(partialMessageKey),\r\n        accept: () => {\r\n          const selectedBireModificationDTOId: BireModificationDTOId[] = this.resultsTableSource.dataSelection\r\n            .filter((modification) => modification && modification.familyCode)\r\n            .map((modification) => {\r\n              return {\r\n                modificationType: modification.modificationType,\r\n                modificationNumber: modification.modificationNumber,\r\n                modificationRevisionNumber: modification.modificationRevisionNumber,\r\n                familyCode: modification.familyCode,\r\n                structureType: modification.structureType\r\n              };\r\n            });\r\n\r\n          this.modificationSearchService.removeBireModification(selectedBireModificationDTOId).subscribe(\r\n            (result) => {\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteModification'));\r\n            },\r\n            () => {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteEvolution'));\r\n            }\r\n          );\r\n\r\n          this.refreshTable();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /* Refresh table */\r\n  private refreshTable(): void {\r\n    this.resultsTableSource.deleteData(this.resultsTableSource.dataSelection);\r\n    this.resultsTableSource.dataSelection = [];\r\n    this.filteredRowsNb = this.resultsTableSource.dataCount;\r\n  }\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  /* Search modification */\r\n  public search(): void {\r\n    this.resultsTableSource.setData([]);\r\n    this.loadModifications();\r\n  }\r\n\r\n  private loadModifications(): void {\r\n    this.isLoading = true;\r\n    this.modificationSearchService.searchModificationList(this.searchObject).subscribe(\r\n      (results) => {\r\n        this.isLoading = false;\r\n        if (results) {\r\n          this.resultsTableSource.setData(results.list);\r\n          this.filteredRowsNb = this.resultsTableSource.dataCount;\r\n        }\r\n      },\r\n      () => {\r\n        this.isLoading = false;\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetModificationResults'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public onChange(event: string): void {\r\n    if (!!event) {\r\n      const familys: string[] = event.split('-');\r\n      this.searchObject.familyCode = familys[0];\r\n      this.searchObject.structureType = familys[1];\r\n    } else {\r\n      this.searchObject.familyCode = undefined;\r\n      this.searchObject.structureType = undefined;\r\n    }\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onFilter(event: any): void {\r\n    this.filteredRowsNb = event.filteredValue.length;\r\n  }\r\n\r\n  private openModificationForm(objectId: BireModificationDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.ModificationFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_MODIFICATION_FORM,\r\n      objectId: objectId ? this.serializationService.serialize(objectId) : undefined,\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public exportTable(): void {\r\n    if (!!this.componentData) {\r\n      const tableList: ModificationRow[] = this.resultsTableSource.dataSrc.map((modRow) => {\r\n        const row: ModificationRow = {\r\n          familyCode: modRow.familyCode as string,\r\n          structureType: modRow.structureType as string,\r\n          modificationType: modRow.modificationType as string,\r\n          modificationNumber: modRow.modificationNumber as string,\r\n          modRevisionNumber: modRow.modificationRevisionNumber as string,\r\n          modificationDocumentUrl: modRow.modificationDocumentUrl,\r\n          modificationTitle: modRow.modificationTitle\r\n        };\r\n\r\n        return row;\r\n      });\r\n      this.exportService.toExcel(tableList, this.resultsTableExportName, this.componentData.componentId);\r\n    } else {\r\n      super.throwUnboundLocalError('exportTable', 'this.componentData');\r\n    }\r\n  }\r\n\r\n  private initResultsTableDataSource(): void {\r\n    this.resultsTableSource = new TableDataSource<BireModificationDTO>({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'familyCode', translateKey: this.getTranslateKey('familyCode'), width: '15%' },\r\n        { field: 'structureType', translateKey: this.getTranslateKey('structureType'), width: '10%' },\r\n        { field: 'modificationType', translateKey: this.getTranslateKey('modificationType'), width: '15%' },\r\n        { field: 'modificationNumber', translateKey: this.getTranslateKey('modificationNumber'), width: '15%' },\r\n        {\r\n          field: 'modificationRevisionNumber',\r\n          translateKey: this.getTranslateKey('modificationRevisionNumber'),\r\n          width: '13%'\r\n        },\r\n        {\r\n          field: 'modificationDocumentUrl',\r\n          translateKey: this.getTranslateKey('modificationDocumentUrl'),\r\n          width: '18%'\r\n        },\r\n        { field: 'modificationTitle', translateKey: this.getTranslateKey('modificationTitle'), width: '15%' }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { FindBireModificationsByModificationPKAndDesignationInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-modifications-by-modification-pk-and-designation-input.interface';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireModificationDTOId } from '../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ModificationSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireFamily(): Observable<LabelValue<string>[]> {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n\r\n    return super.post<FindFamilyVariantInput, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireFamily,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public removeBireModification(bireModificationDTOId: BireModificationDTOId[]): Observable<boolean> {\r\n    return super.post<BireModificationDTOId[], boolean>(\r\n      this.productStructureManagementApi.removeBireModification,\r\n      bireModificationDTOId\r\n    );\r\n  }\r\n\r\n  public searchModificationList(\r\n    bireModificationDTO: BireModificationDTO\r\n  ): Observable<SearchResultsDTO<BireModificationDTO>> {\r\n    let findBireModificationsByModificationPKAndDesignationInput = {};\r\n    findBireModificationsByModificationPKAndDesignationInput = {\r\n      bireModificationDTO,\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n\r\n    return super.post<FindBireModificationsByModificationPKAndDesignationInput, SearchResultsDTO<BireModificationDTO>>(\r\n      this.productStructureManagementApi.findBireModificationsByModificationPKAndDesignation,\r\n      findBireModificationsByModificationPKAndDesignationInput\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div #page *ngIf=\\\"loadedWorkflow\\\">\\r\\n  <div class=\\\"page-header\\\">\\r\\n    <div class=\\\"page-info\\\">\\r\\n      <div>\\r\\n        <h2 class=\\\"page-title\\\">\\r\\n          {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n        </h2>\\r\\n\\r\\n        <div class=\\\"page-subtitle\\\">\\r\\n          <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n            - {{ subtitle }}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div>\\r\\n        <div class=\\\"object-status\\\" *ngIf=\\\"pn.statusState\\\" (click)=\\\"showStatus()\\\">\\r\\n          {{ pn.statusState | formatSelectOption: workflowStatus }}\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"object-is-incomplete\\\" *ngIf=\\\"pn.incompletePartForSupply && !isCreateOpenMode\\\">\\r\\n          {{ componentData.componentId + \\\".pnIsIncomplete\\\" | translate }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-actions\\\">\\r\\n      <button mat-raised-button (click)=\\\"edit()\\\" *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\">\\r\\n        {{ \\\"global.edit\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n        type=\\\"button\\\"\\r\\n        color=\\\"warn\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"cancel()\\\"\\r\\n      >\\r\\n        {{ \\\"global.cancel\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button mat-raised-button color=\\\"primary\\\" class=\\\"btn-with-spinner\\\" (click)=\\\"savePnData()\\\" *ngIf=\\\"!isReadOpenMode\\\">\\r\\n        <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n        {{ \\\"global.save\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        class=\\\"mat-elevation-z1\\\"\\r\\n        matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n        matTooltipPosition=\\\"above\\\"\\r\\n        aria-label=\\\"Show all actions\\\"\\r\\n        [matMenuTriggerFor]=\\\"actions\\\"\\r\\n      >\\r\\n        <mat-icon>more_horiz</mat-icon>\\r\\n      </button>\\r\\n      <mat-menu #actions=\\\"matMenu\\\">\\r\\n        <button mat-menu-item (click)=\\\"showCreateProcurementDialog()\\\" *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\">\\r\\n          {{ \\\"createProcurementRequest\\\" | translate }}\\r\\n        </button>\\r\\n        <button mat-menu-item [matMenuTriggerFor]=\\\"navigations\\\">{{ \\\"goTo\\\" | translate }}</button>\\r\\n        <button mat-menu-item (click)=\\\"openStatusUpdatesPopup()\\\">{{ \\\"updates\\\" | translate }}</button>\\r\\n        <button mat-menu-item (click)=\\\"refresh()\\\">{{ \\\"global.refresh\\\" | translate }}</button>\\r\\n        <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n          {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n      <mat-menu #navigations=\\\"matMenu\\\">\\r\\n        <button mat-menu-item (click)=\\\"openLogisticView()\\\">\\r\\n          {{ getComponentName() + \\\".logisticView\\\" | translate }}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-wrapper\\\">\\r\\n    <div class=\\\"page-container\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"mainPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ \\\"page.mainData\\\" | translate }}\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div id=\\\"pnCode\\\" class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".pn\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"pn.pnCode\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"pnType\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".type\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"pnTypes\\\"\\r\\n                            [(ngModel)]=\\\"pn.pnType\\\"\\r\\n                            [showClear]=\\\"false\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"otanPnReference\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".otanPnReference\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"pn.otanPnReference\\\"\\r\\n                            maxlength=\\\"20\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"manufacturerOtanCode\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".manufacturerOtanCode\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"pn.manufacturerOtanCode\\\"\\r\\n                            maxlength=\\\"5\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div id=\\\"quantityUnit\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".quantityUnit\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"quantityUnit\\\"\\r\\n                            [(ngModel)]=\\\"pn.quantityUnit\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"traceability\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".traceability\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertyTraceability\\\"\\r\\n                            [(ngModel)]=\\\"pn.traceability\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"isPma\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".isPMA\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-checkbox\\r\\n                            class=\\\"aw-checkbox\\\"\\r\\n                            binary=\\\"true\\\"\\r\\n                            [(ngModel)]=\\\"pn.isPma\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-checkbox>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"fromReparationSolution\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".repairSolution\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-checkbox\\r\\n                            class=\\\"aw-checkbox\\\"\\r\\n                            binary=\\\"true\\\"\\r\\n                            [(ngModel)]=\\\"pn.fromReparationSolution\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-checkbox>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div id=\\\"articleDesignation\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ \\\"designation\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            [(ngModel)]=\\\"pn.articleDesignation\\\"\\r\\n                            pInputTextarea\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"additionalText\\\" class=\\\"form-group \\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".additionalText\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            [(ngModel)]=\\\"pn.additionalText\\\"\\r\\n                            pInputTextarea\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".sparePartClass\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [(ngModel)]=\\\"pn.sparePartClassCode\\\"\\r\\n                            [options]=\\\"sparePartClassOptions\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"generalPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".furtherInformation\\\" | translate }}\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div id=\\\"mtbf\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".mtbf\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input inputs-with-unit\\\"\\r\\n                          [(ngModel)]=\\\"pn.mtbf\\\"\\r\\n                          maxlength=\\\"15\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                        <span class=\\\"units\\\">{{ mtbfAndMtburUnit }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div id=\\\"mtbur\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".mtbur\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input inputs-with-unit\\\"\\r\\n                          [(ngModel)]=\\\"pn.mtbur\\\"\\r\\n                          maxlength=\\\"15\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                        <span class=\\\"units\\\">{{ mtbfAndMtburUnit }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div id=\\\"unpackedHeight\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".unpackedHeight\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input inputs-with-unit\\\"\\r\\n                          [(ngModel)]=\\\"pn.unpackedHeight\\\"\\r\\n                          maxlength=\\\"15\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                        <span class=\\\"units\\\">{{ measurementsUnit }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div id=\\\"unpackedLength\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".unpackedLength\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input inputs-with-unit\\\"\\r\\n                          [(ngModel)]=\\\"pn.unpackedLength\\\"\\r\\n                          maxlength=\\\"15\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                        <span class=\\\"units\\\">{{ measurementsUnit }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div id=\\\"unpackedWidth\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".unpackedWidth\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input inputs-with-unit\\\"\\r\\n                          [(ngModel)]=\\\"pn.unpackedWidth\\\"\\r\\n                          maxlength=\\\"15\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                        <span class=\\\"units\\\">{{ measurementsUnit }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div id=\\\"netWeight\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".netWeight\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input inputs-with-unit\\\"\\r\\n                          [(ngModel)]=\\\"pn.netWeight\\\"\\r\\n                          maxlength=\\\"15\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                        <span class=\\\"units\\\">{{ weightUnit }}</span>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"rmpPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".maintenanceProgramsAssociated\\\" | translate }}\\r\\n                      ({{ bireProgramsDisplayed ? bireProgramsDisplayed.length : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <ul>\\r\\n                    <li *ngFor=\\\"let bireProgram of bireProgramsDisplayed\\\">\\r\\n                      {{ bireProgram.programName }}\\r\\n                    </li>\\r\\n                  </ul>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".tabNatoCodes\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"natoPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".panelNatoCodes\\\" | translate }}\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div id=\\\"pnCode1\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".pn1\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.pnCode1\\\"\\r\\n                          maxlength=\\\"20\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"pnCode2\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".pn2\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.pnCode2\\\"\\r\\n                          maxlength=\\\"20\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"pnCode3\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".pn3\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.pnCode3\\\"\\r\\n                          maxlength=\\\"20\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"pnCode4\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".pn4\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.pnCode4\\\"\\r\\n                          maxlength=\\\"20\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"pnCode5\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".pn5\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.pnCode5\\\"\\r\\n                          maxlength=\\\"20\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"pnCode6\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".pn6\\\" | translate }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.pnCode6\\\"\\r\\n                          maxlength=\\\"20\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div id=\\\"manufacturerOtanCode1\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".manufacturerOtanCode1\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.manufacturerOtanCode1\\\"\\r\\n                          maxlength=\\\"5\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"manufacturerOtanCode2\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".manufacturerOtanCode2\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.manufacturerOtanCode2\\\"\\r\\n                          maxlength=\\\"5\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"manufacturerOtanCode3\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".manufacturerOtanCode3\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.manufacturerOtanCode3\\\"\\r\\n                          maxlength=\\\"5\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"manufacturerOtanCode4\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".manufacturerOtanCode4\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.manufacturerOtanCode4\\\"\\r\\n                          maxlength=\\\"5\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"manufacturerOtanCode5\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".manufacturerOtanCode5\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.manufacturerOtanCode5\\\"\\r\\n                          maxlength=\\\"5\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"manufacturerOtanCode6\\\" class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">{{\\r\\n                        componentData.componentId + \\\".manufacturerOtanCode6\\\" | translate\\r\\n                      }}</label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"pn.manufacturerOtanCode6\\\"\\r\\n                          maxlength=\\\"5\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"referenceMeasurements\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"referencePanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div #referenceAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 id=\\\"bireRefMeasurementsTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".tabReferenceMeasurements\\\" | translate }}\\r\\n                      ({{ referenceMeasurementsTableDataSource ? referenceMeasurementsTableDataSource.dataCount : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table id=\\\"bireRefMeasurementsTable\\\" [dataSource]=\\\"referenceMeasurementsTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        id=\\\"deleteReferenceMeasurements\\\"\\r\\n                        *ngIf=\\\"\\r\\n                          !isReadOpenMode &&\\r\\n                          referenceMeasurementsTableDataSource &&\\r\\n                          referenceMeasurementsTableDataSource.hasDataSelection\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"confirmDeleteReferenceMeasurements()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        id=\\\"editReferenceMeasurements\\\"\\r\\n                        *ngIf=\\\"\\r\\n                          !isReadOpenMode &&\\r\\n                          referenceMeasurementsTableDataSource &&\\r\\n                          referenceMeasurementsTableDataSource.dataSelectionCount === 1\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editReferenceMeasurements()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        id=\\\"openReferenceMeasurements\\\"\\r\\n                        *ngIf=\\\"referenceMeasurementsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openReferenceMeasurements()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        id=\\\"createReferenceMeasurements\\\"\\r\\n                        *ngIf=\\\"\\r\\n                          !isReadOpenMode &&\\r\\n                          referenceMeasurementsTableDataSource &&\\r\\n                          !referenceMeasurementsTableDataSource.hasDataSelection\\r\\n                        \\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createReferenceMeasurements()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template columnDef=\\\"pnPotentialLimitDate\\\" let-rowData=\\\"rowData\\\">\\r\\n                      {{ rowData.pnPotentialLimitDate | date: \\\"shortDate\\\":\\\"\\\":translateService.currentLang }}\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template columnDef=\\\"limitIsUpdatable\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <i\\r\\n                        *ngIf=\\\"rowData.limitIsUpdatable !== null && rowData.limitIsUpdatable\\\"\\r\\n                        class=\\\"fa fa-fw fa-check\\\"\\r\\n                        aria-hidden=\\\"true\\\"\\r\\n                      ></i>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template columnDef=\\\"valueResettable\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <i\\r\\n                        *ngIf=\\\"rowData.valueResettable !== null && rowData.valueResettable\\\"\\r\\n                        class=\\\"fa fa-fw fa-check\\\"\\r\\n                        aria-hidden=\\\"true\\\"\\r\\n                      ></i>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"items\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"itemsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div #itemsAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 id=\\\"itemsTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".tabItems\\\" | translate }}\\r\\n                      ({{ itemsTableDataSource ? itemsTableDataSource.dataCount : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table id=\\\"itemsTable\\\" [dataSource]=\\\"itemsTableDataSource\\\">\\r\\n                    <ng-template columnDef=\\\"ataCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"openPartNumberScreen(rowData)\\\">\\r\\n                        {{\\r\\n                          rowData[\\\"chapter\\\"] +\\r\\n                            \\\"-\\\" +\\r\\n                            rowData[\\\"section\\\"] +\\r\\n                            \\\"-\\\" +\\r\\n                            rowData[\\\"subject\\\"] +\\r\\n                            \\\"-\\\" +\\r\\n                            rowData[\\\"sheet\\\"] +\\r\\n                            \\\"-\\\" +\\r\\n                            rowData[\\\"marks\\\"]\\r\\n                        }}\\r\\n                      </a>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"ippeNodeType\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <span pTooltip=\\\"{{ rowData.ippeNodeType }}\\\" tooltipPosition=\\\"bottom\\\">\\r\\n                        {{ rowData.ippeNodeType }}</span\\r\\n                      >\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"name\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <span pTooltip=\\\"{{ rowData.name }}\\\" tooltipPosition=\\\"bottom\\\"> {{ rowData.name }}</span>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"evolution\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"evolutionsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div #evolutionsAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".evolutionAssociated\\\" | translate }}\\r\\n                      ({{ evolutionsTableDataSource ? evolutionsTableDataSource.dataCount : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <div id=\\\"evolutionAssociated\\\" class=\\\"section\\\">\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <a-table id=\\\"evolutionAssociatedTable\\\" [dataSource]=\\\"evolutionsTableDataSource\\\">\\r\\n                        <ng-template columnDef=\\\"evolutionNumber\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <a (click)=\\\"openEvolution(rowData)\\\">\\r\\n                            {{ rowData[\\\"evolutionNumber\\\"] }}\\r\\n                          </a>\\r\\n                        </ng-template>\\r\\n                        <ng-template columnDef=\\\"item\\\" let-rowData=\\\"rowData\\\">\\r\\n                          <a (click)=\\\"openPartNumberScreen(rowData)\\\">\\r\\n                            {{\\r\\n                              rowData[\\\"chapter\\\"] +\\r\\n                                \\\"-\\\" +\\r\\n                                rowData[\\\"section\\\"] +\\r\\n                                \\\"-\\\" +\\r\\n                                rowData[\\\"subject\\\"] +\\r\\n                                \\\"-\\\" +\\r\\n                                rowData[\\\"sheet\\\"] +\\r\\n                                \\\"-\\\" +\\r\\n                                rowData[\\\"marks\\\"]\\r\\n                            }}\\r\\n                          </a>\\r\\n                        </ng-template>\\r\\n                      </a-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"evolutionsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div #evolutionsAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".evolutionImpact\\\" | translate }}\\r\\n                        ({{ evolutionImpactsTableDataSource ? evolutionImpactsTableDataSource.dataCount : 0 }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <a-table id=\\\"evolutionAssociatedTable\\\" [dataSource]=\\\"evolutionImpactsTableDataSource\\\">\\r\\n                      <ng-template columnDef=\\\"evolutionNumber\\\" let-rowData=\\\"rowData\\\">\\r\\n                        <a (click)=\\\"openEvolution(rowData)\\\">\\r\\n                          {{ rowData[\\\"evolutionNumber\\\"] }}\\r\\n                        </a>\\r\\n                      </ng-template>\\r\\n                      <ng-template columnDef=\\\"item\\\" let-rowData=\\\"rowData\\\">\\r\\n                        <a (click)=\\\"openPartNumberScreen(rowData)\\\">\\r\\n                          {{\\r\\n                            rowData[\\\"chapter\\\"] +\\r\\n                              \\\"-\\\" +\\r\\n                              rowData[\\\"section\\\"] +\\r\\n                              \\\"-\\\" +\\r\\n                              rowData[\\\"subject\\\"] +\\r\\n                              \\\"-\\\" +\\r\\n                              rowData[\\\"sheet\\\"] +\\r\\n                              \\\"-\\\" +\\r\\n                              rowData[\\\"marks\\\"]\\r\\n                          }}\\r\\n                        </a>\\r\\n                      </ng-template>\\r\\n                    </a-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"documents\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"documentsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div #documentsAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ getComponentName() + \\\".documents\\\" | translate }} ({{\\r\\n                        documentsTableDataSource.hasData ? documentsTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"documentsTableDataSource\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && documentsTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        color=\\\"warn\\\"\\r\\n                        (click)=\\\"deleteDocuments()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && documentsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editDocument()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"documentsTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openDocument()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && !documentsTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"addDocument()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"docName\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"downloadFile(rowData)\\\">{{ rowData.docName }}</a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab *ngIf=\\\"dynamicAttributes && dynamicAttributes.length > 0\\\">\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"attributes\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"attributesPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div #attributesAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".tabAttributes\\\" | translate }}\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <aw-dynamic-attributes\\r\\n                    id=\\\"dynamicAttributes\\\"\\r\\n                    [attributes]=\\\"dynamicAttributes\\\"\\r\\n                    [workflowControls]=\\\"userWorkflow ? userWorkflow.listControlByIdentifier : []\\\"\\r\\n                    [isReadOpenMode]=\\\"isReadOpenMode\\\"\\r\\n                  ></aw-dynamic-attributes>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <!-- DEA/DIA -->\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"DEA/DIA\\\" }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"dEADIAPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ getComponentName() + \\\".guideline\\\" | translate }} ({{\\r\\n                        guidelineTableDataSource.hasData ? guidelineTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"guidelineTableDataSource\\\" (onRowSelect)=\\\"loadEnableDeleteButton()\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && enableAddButton && isCreatorAndIsFirstAdd\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"addGuidelines()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && enableDeleteButton && guidelineTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"deleteGuideline()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n                    <ng-template columnDef=\\\"reference\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"editGuidelines(rowData)\\\">{{ rowData.reference }}</a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n\\r\\n      <aw-ref-measurements-popup-form\\r\\n        *ngIf=\\\"showMeasurementPopup\\\"\\r\\n        [(display)]=\\\"showMeasurementPopup\\\"\\r\\n        [component-data]=\\\"dataRefMeasurements\\\"\\r\\n        [openMode]=\\\"refMeasurementDialogOpenMode\\\"\\r\\n        (onCreate)=\\\"addNewReferenceMeasurements($event)\\\"\\r\\n        (onUpdate)=\\\"updateReferenceMeasurements($event)\\\"\\r\\n        [isNewRef]=\\\"isNewRef\\\"\\r\\n      ></aw-ref-measurements-popup-form>\\r\\n      <aw-status-update-history\\r\\n        *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n        [object]=\\\"pnStatus\\\"\\r\\n        [data]=\\\"tableStatusUpdatesData\\\"\\r\\n        [deleteApi]=\\\"deleteApi\\\"\\r\\n        [isStatusEditable]=\\\"false\\\"\\r\\n        [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n        [keyMap]=\\\"updatesKeyMap\\\"\\r\\n        (onUpdated)=\\\"updateObjectStatusFromStatusUpdatesHistory($event)\\\"\\r\\n      ></aw-status-update-history>\\r\\n      <aw-dialog-bire-document\\r\\n        *ngIf=\\\"showAddDocumentDialog\\\"\\r\\n        [document]=\\\"\\r\\n          documentsTableDataSource.dataSelectionCount === 1 ? documentsTableDataSource.dataSelection[0]._obj : undefined\\r\\n        \\\"\\r\\n        [(display)]=\\\"showAddDocumentDialog\\\"\\r\\n        [isReadOnlyForm]=\\\"isReadOnlyDocumentDialog\\\"\\r\\n        (onValidated)=\\\"onAddDocument($event)\\\"\\r\\n      ></aw-dialog-bire-document>\\r\\n\\r\\n      <aw-procurement-request-popup\\r\\n        *ngIf=\\\"createProcurementDialogVisible\\\"\\r\\n        [(display)]=\\\"createProcurementDialogVisible\\\"\\r\\n        [pn]=\\\"pn\\\"\\r\\n        (onValidate)=\\\"onCreateProcurementRequest($event)\\\"\\r\\n      >\\r\\n      </aw-procurement-request-popup>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .section-margin {\\n  margin-top: 30px; }\\n\\n:host .object-is-incomplete {\\n  border: 1px solid transparent;\\n  font-style: italic;\\n  justify-content: center;\\n  font-size: 1.125rem;\\n  background-color: gold;\\n  color: black;\\n  border-radius: 16px;\\n  padding: 4px 32px;\\n  margin-top: 8px;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  font-weight: 600;\\n  display: inline-block;\\n  margin-left: 10px; }\\n\\n:host .object-is-incomplete.disabled {\\n    cursor: auto; }\\n\\n:host .inputs-with-unit {\\n  width: 85% !important; }\\n\\n:host .units {\\n  width: 15%;\\n  padding-top: 1em;\\n  float: right; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3BhcnQtbnVtYmVyLWZvcm0vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXHBhcnQtbnVtYmVyLWZvcm1cXHBhcnQtbnVtYmVyLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFFSSxnQkFBZ0IsRUFBQTs7QUFGcEI7RUFNSSw2QkFBNkI7RUFDN0Isa0JBQWtCO0VBQ2xCLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZiwwQkFBa0I7RUFBbEIsdUJBQWtCO0VBQWxCLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLGlCQUFpQixFQUFBOztBQWxCckI7SUFxQk0sWUFBWSxFQUFBOztBQXJCbEI7RUEwQkkscUJBQXFCLEVBQUE7O0FBMUJ6QjtFQThCSSxVQUFVO0VBQ1YsZ0JBQWdCO0VBQ2hCLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9wYXJ0LW51bWJlci1mb3JtL3BhcnQtbnVtYmVyLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiY29uc3RhbnRzXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgLnNlY3Rpb24tbWFyZ2luIHtcclxuICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgfVxyXG5cclxuICAub2JqZWN0LWlzLWluY29tcGxldGUge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMS4xMjVyZW07XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBnb2xkO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTZweDtcclxuICAgIHBhZGRpbmc6IDRweCAzMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogOHB4O1xyXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG5cclxuICAgICYuZGlzYWJsZWQge1xyXG4gICAgICBjdXJzb3I6IGF1dG87XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuaW5wdXRzLXdpdGgtdW5pdCB7XHJcbiAgICB3aWR0aDogODUlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAudW5pdHMge1xyXG4gICAgd2lkdGg6IDE1JTtcclxuICAgIHBhZGRpbmctdG9wOiAxZW07XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport * as moment from 'moment';\r\nimport { MenuItem } from 'primeng/api';\r\nimport { Table } from 'primeng/table';\r\nimport { Observable, forkJoin, of } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { TableDataSourceWithHistory } from '../../../modules/purchase-contract/utils/table-data-source-with-history';\r\nimport { UpdateHistoricApi } from '../../../shared/api/update-historic.api';\r\nimport { PageTocService } from '../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { DialogTableData } from '../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { DynamicAttributesService } from '../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { DynamicAttributes } from '../../../shared/components/dynamic-attributes/types/dynamic-attributes.interface';\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../shared/enums/table-selection-mode.enum';\r\nimport { FormatSelectOptionPipe } from '../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { UpdateHistoricService } from '../../../shared/services/update-historic.service';\r\nimport { SavePartNumberInput } from '../../../shared/types/api-input-types/product-structure-management/save-part-number-input.interface';\r\nimport { BireMaintenanceProgramPnTableDTO } from '../../../shared/types/api-input-types/task-management/bire-maintenance-program-pn-table.inteface';\r\nimport { BirePartUpdateGuidelineDTOId } from '../../../shared/types/api-output-types/product-structure-management/bire-part-update-guideline-dto-id.interface';\r\nimport { BirePartUpdateGuidelineDTO } from '../../../shared/types/api-output-types/product-structure-management/bire-part-update-guideline-dto.interface';\r\nimport { BidoUserDTO } from '../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BidtProcurementRequestDTO } from '../../../shared/types/api-types/bidt-procurement-request-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireEvolutionDTOId } from '../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireEvolutionDTO } from '../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireFamilyDTO } from '../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireItemDTO } from '../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { BirePnAttributeDTO } from '../../../shared/types/api-types/bire-pn-attribute-dto.interface';\r\nimport { BirePnDTOId } from '../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BirePnMeasureDTOId } from '../../../shared/types/api-types/bire-pn-measure-dto-id.interface';\r\nimport { BirePnMeasureDTO } from '../../../shared/types/api-types/bire-pn-measure-dto.interface';\r\nimport { BirePnMeasureTmpDTO } from '../../../shared/types/api-types/bire-pn-measure-tmp-dto.interface';\r\nimport { BireUnitMeasureDTO } from '../../../shared/types/api-types/bire-unit-measure-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { FindBireEvolutionPnsByPnCodeDTO } from '../../../shared/types/api-types/find-bire-evolution-pns-by-pn-code-dto.interface';\r\nimport { FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO } from '../../../shared/types/api-types/find-bire-item-pn-evolutions-by-pn-code-or-pn-pn-code-dto.interface';\r\nimport { HistoricObjectPnDTO } from '../../../shared/types/api-types/historic-object-pn-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { FileUtils } from '../../../shared/utils/file-utils';\r\nimport { StringUtils } from '../../../shared/utils/string-utils';\r\nimport { WorkflowUtils } from '../../../shared/utils/workflow-utils';\r\nimport { ObjectStatusComponent } from '../../object-status/object-status.component';\r\nimport { OverlayService } from '../../overlay/overlay.service';\r\n\r\nimport { PartNumberFormService } from './part-number-form.service';\r\nimport { ReferenceMeasurementsPopupFormService } from './popups/ref-measurements-popup-form.service';\r\n\r\ninterface DocumentRow {\r\n  docName?: string;\r\n  docSource?: string;\r\n  docExtension?: string;\r\n  docSize?: string;\r\n  docPublicationDate?: string;\r\n  docDescription?: string;\r\n  _obj?: BireDocumentDTO;\r\n}\r\n\r\ninterface BirePartUpdateGuidelineRow {\r\n  _obj: BirePartUpdateGuidelineDTO;\r\n  reference?: string;\r\n  requestType?: string;\r\n  status?: string;\r\n  creationDate?: string;\r\n  controlTransmissionDate?: string;\r\n  centralTransmissionDate?: string;\r\n  closureDate?: string;\r\n  isCreator?: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-part-number-form',\r\n  templateUrl: './part-number-form.component.html',\r\n  styleUrls: ['./part-number-form.component.scss']\r\n})\r\nexport class PartNumberFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public static readonly MAIN_ANCHOR_ID: string = 'mainAnchor';\r\n  public static readonly GENERAL_ANCHOR_ID: string = 'generalAnchor';\r\n  public static readonly NATO_ANCHOR_ID: string = 'natoAnchor';\r\n  public static readonly ATTRIBUTES_ANCHOR_ID: string = 'attributesAnchor';\r\n  public static readonly REFERENCE_ANCHOR_ID: string = 'referenceAnchor';\r\n  public static readonly ITEMS_ANCHOR_ID: string = 'itemsAnchor';\r\n  public static readonly EVOLUTIONS_ANCHOR_ID: string = 'evolutionsAnchor';\r\n  public static readonly DOCUMENTS_ANCHOR_ID: string = 'documentsAnchor';\r\n\r\n  public readonly component: typeof PartNumberFormComponent;\r\n\r\n  public refMeasurementDialogOpenMode: ComponentOpenMode;\r\n  public showMeasurementPopup: boolean;\r\n\r\n  public pn: BirePnDTO;\r\n  public pnStatus: BirePnDTO;\r\n  public pnId: BirePnDTOId;\r\n  public subtitle: string;\r\n  public displayStatusPopup: boolean;\r\n  public actionTypeA: LabelValue<string>[];\r\n  public actionTypeB: LabelValue<string>[];\r\n  public isCreatorAndIsFirstAdd: boolean;\r\n\r\n  public dynamicAttributes: DynamicAttributes[];\r\n\r\n  public interventionOption: string;\r\n  public valueResettable: boolean;\r\n\r\n  public itemsTableDataSource: TableDataSource<BireItemDTO>;\r\n  public evolutionsTableDataSource: TableDataSource<FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO>;\r\n  public evolutionImpactsTableDataSource: TableDataSource<FindBireEvolutionPnsByPnCodeDTO>;\r\n  public referenceMeasurementsTableDataSource: TableDataSource<BirePnMeasureTmpDTO>;\r\n  public guidelineTableDataSource: TableDataSource<BirePartUpdateGuidelineRow>;\r\n\r\n  public isForUpdate: boolean;\r\n  public sparePartClassOptions: LabelValue<string>[];\r\n  public mtbfAndMtburUnit: string;\r\n  public measurementsUnit: string;\r\n  public weightUnit: string;\r\n\r\n  /*DYNAMIC Attributes*/\r\n  public attributeIdValueMap: Map<string, string>;\r\n  public bireAttributesForPn: BireAttributeDTO[];\r\n  public birePnAttributes: BirePnAttributeDTO[];\r\n\r\n  /* Tab Management */\r\n  public currentTabId: string;\r\n  public tabReferenceMeasurementsId: string;\r\n  public tabItemsId: string;\r\n  public tabGeneralId: string;\r\n  public tabEvolutionId: string;\r\n  public tabAttributesId: string;\r\n  public tabDEADIAId: string;\r\n\r\n  public selectedTraceability: string;\r\n  public selectedUnit: string;\r\n  public familyVariant: BireFamilyDTO;\r\n\r\n  /* DropDown Lists */\r\n  public propertyVariant: LabelValue<string>[];\r\n  public partNumberStatus: LabelValue<string>[];\r\n  public workflowStatus: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public propertyObjectStatus: LabelValue<string>[];\r\n  public propertyActionType: LabelValue<string>[];\r\n  public propertyMeasure: LabelValue<string>[];\r\n  public propertyUnit: BireUnitMeasureDTO[];\r\n\r\n  public familyVariantMap: Map<LabelValue<string>, FamilyVariantDTO>;\r\n  public propertyTraceability: LabelValue<string>[];\r\n  public propertyStructureType: LabelValue<string>[];\r\n  public pnTypes: LabelValue<string>[];\r\n\r\n  public quantityUnit: LabelValue<string>[];\r\n\r\n  /** Popup Reference Measurements */\r\n  public newRefMeasurements: BirePnMeasureDTO;\r\n  public selectedMaintenancePrograms: BireMaintenancePlanDTO[];\r\n  public refMeasurementsTableFilteredRowsNb: number;\r\n  public dataRefMeasurements: PopupEntry<BirePnMeasureDTO>;\r\n  private bireRefMeasurementsAddedList: BirePnMeasureDTO[];\r\n  private bireRefMeasurementsUpdatedList: BirePnMeasureDTO[];\r\n  private bireRefMeasurementsDeletedList: BirePnMeasureDTOId[];\r\n  public currentRefMeasurements: BirePnMeasureDTO;\r\n  public isNewRef: boolean;\r\n  public bireRefMeasurements: BirePnMeasureDTO;\r\n  public bireRefMeasurementsId: string;\r\n  public displayStatusPopupRefMeasurements: boolean;\r\n  public familyCode: string;\r\n  public structureType: string;\r\n\r\n  public bireProgramsDisplayed: BireMaintenanceProgramPnTableDTO[];\r\n\r\n  // For object status/updates popup\r\n  public showStatusUpdatesPopup: boolean;\r\n  public tableStatusUpdatesData: DialogTableData<HistoricObjectPnDTO>;\r\n  public updatesKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  public deleteApi: string;\r\n\r\n  public navigationLinkList: MenuItem[];\r\n  public showSaveSpinner: boolean;\r\n\r\n  public flocTypeMap: LabelValue<string>[];\r\n\r\n  // Documents variables\r\n  public documentsTableDataSource: TableDataSourceWithHistory<DocumentRow>;\r\n  public showAddDocumentDialog: boolean;\r\n  public isReadOnlyDocumentDialog: boolean;\r\n  // Table of content\r\n\r\n  @ViewChild(PartNumberFormComponent.MAIN_ANCHOR_ID)\r\n  public mainEltRef: ElementRef;\r\n\r\n  @ViewChild(PartNumberFormComponent.GENERAL_ANCHOR_ID)\r\n  public generalEltRef: ElementRef;\r\n\r\n  @ViewChild(PartNumberFormComponent.NATO_ANCHOR_ID)\r\n  public natoEltRef: ElementRef;\r\n\r\n  @ViewChild(PartNumberFormComponent.ATTRIBUTES_ANCHOR_ID)\r\n  public attributesEltRef: ElementRef;\r\n\r\n  @ViewChild(PartNumberFormComponent.REFERENCE_ANCHOR_ID)\r\n  public referenceEltRef: ElementRef;\r\n\r\n  @ViewChild(PartNumberFormComponent.ITEMS_ANCHOR_ID)\r\n  public itemsEltRef: ElementRef;\r\n\r\n  @ViewChild(PartNumberFormComponent.EVOLUTIONS_ANCHOR_ID)\r\n  public evolutionsEltRef: ElementRef;\r\n\r\n  @ViewChild(PartNumberFormComponent.DOCUMENTS_ANCHOR_ID)\r\n  public documentsEltRef: ElementRef;\r\n\r\n  public toc: PageTocEntry[];\r\n  public workflowToc: PageTocEntry[];\r\n  private partGuidelineTypes: LabelValue<string>[];\r\n  private partGuidelineStatus: LabelValue<string>[];\r\n  private user: BidoUserDTO;\r\n  public isController: boolean;\r\n  public enableAddButton: boolean;\r\n\r\n  public createProcurementDialogVisible: boolean;\r\n  public birePartUpdateGuidelineDTO: BirePartUpdateGuidelineDTO[];\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    pageTocService: PageTocService,\r\n    private readonly pnFormService: PartNumberFormService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    public translateService: TranslateService,\r\n    public dynamicAttributesService: DynamicAttributesService,\r\n    private readonly propertiesService: PropertiesService,\r\n    public popupServiceRefMeasurements: ReferenceMeasurementsPopupFormService,\r\n    private readonly updateHistoricService: UpdateHistoricService,\r\n    private readonly updateHistoricApi: UpdateHistoricApi,\r\n    private readonly dateService: DateService,\r\n    private readonly _overlayService: OverlayService,\r\n    private readonly _formatSelectOption: FormatSelectOptionPipe,\r\n    private readonly sessionService: SessionService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n\r\n    this.component = PartNumberFormComponent;\r\n\r\n    this.refMeasurementDialogOpenMode = ComponentOpenMode.Create;\r\n    this.showMeasurementPopup = false;\r\n\r\n    this.tabReferenceMeasurementsId = 'referenceMeasurements';\r\n    this.tabItemsId = 'items';\r\n    this.tabAttributesId = 'attributes';\r\n    this.tabEvolutionId = 'evolution';\r\n    this.tabDEADIAId = 'DEA/DIA';\r\n    this.familyCode = '';\r\n    this.structureType = '';\r\n    this.isForUpdate = true;\r\n    this.isCreatorAndIsFirstAdd = true;\r\n\r\n    this.mtbfAndMtburUnit = '(H)';\r\n    this.measurementsUnit = '(Cm)';\r\n    this.weightUnit = '(Kg)';\r\n\r\n    this.attributeIdValueMap = new Map<string, string>();\r\n    this.bireAttributesForPn = [];\r\n    this.birePnAttributes = [];\r\n    this.actionTypeA = [];\r\n    this.actionTypeB = [];\r\n\r\n    // this.getBireAttributesForEvolution();\r\n\r\n    this.bireRefMeasurementsAddedList = [];\r\n    this.bireRefMeasurementsDeletedList = [];\r\n    this.bireRefMeasurementsUpdatedList = [];\r\n    this.bireProgramsDisplayed = [];\r\n    this.selectedMaintenancePrograms = [];\r\n    this.pn = {};\r\n    this.pn.pnType = AWPropertiesConstants.PN_TYPE_PART_KEY;\r\n    this.currentTabId = this.tabGeneralId;\r\n    this.familyVariantMap = new Map<LabelValue<string>, FamilyVariantDTO>();\r\n    this.setNavigationLinkList();\r\n    this.initLists();\r\n\r\n    this.registerPageTocEntryObservable();\r\n\r\n    this.propertyActionType = [];\r\n    this.propertyStructureType = [];\r\n\r\n    // For status/updates popup\r\n    this.showStatusUpdatesPopup = false;\r\n    this.updatesKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.deleteApi = this.updateHistoricApi.removeBireSbHistory;\r\n    this.loadTablesHeader();\r\n    this.fillDropDown();\r\n\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      // Change the DropDownList content regarding the langage\r\n      this.fillDropDown();\r\n    });\r\n\r\n    this.userWorkflowSubject.subscribe((userWorkflow) => {\r\n      this.updateWorkflowStatusList();\r\n      this.updateWorkflowToc();\r\n    });\r\n\r\n    // Documents\r\n    this.initDocumentsTableDataSource();\r\n\r\n    this.loadPartGuidelineTypes();\r\n    this.loadPartGuidelineStatus();\r\n    this.loadUser();\r\n    this.loadIsController();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'PartNumberFormComponent';\r\n  }\r\n\r\n  public initLists() {\r\n    this.bireRefMeasurementsAddedList = [];\r\n    this.bireRefMeasurementsDeletedList = [];\r\n    this.bireRefMeasurementsUpdatedList = [];\r\n\r\n    this.sparePartClassOptions = [];\r\n\r\n    this.propertiesService.getValue('getFlocTypeMap').subscribe((result) => {\r\n      this.flocTypeMap = result;\r\n    });\r\n\r\n    this.loadSparePartClassDropdown();\r\n    // Lang change events\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      // Reset the right attribute name regarding the langage\r\n      this.dynamicAttributes = this.dynamicAttributesService.from(this.bireAttributesForPn);\r\n    });\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n    if (!!this.componentData) {\r\n      this.setTableOfContent();\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      if (this.componentData.objectId && this.componentData.objectId.length > 0) {\r\n        this.isForUpdate = true;\r\n        this.displayComponentContext(this.componentData.objectId, this.isCreateOpenMode);\r\n        this.subtitle = this.componentData.objectId;\r\n      } else {\r\n        const context = !!this.componentData.objectId\r\n          ? this.serializationService.deserialize(this.componentData.objectId)\r\n          : 'tab.createMode';\r\n        this.displayComponentContext(context, this.isCreateOpenMode);\r\n      }\r\n    }\r\n    if (this.isCreateOpenMode) {\r\n      this.pn.statusState = AWPropertiesConstants.FUNC_OBJECT_STATUS_ONGOING;\r\n    }\r\n\r\n    this.loadPN();\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.clearErrors();\r\n    if (this.isCreateOpenMode) {\r\n      this.initOnCreate();\r\n    } else {\r\n      this.reloadPN();\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  private initAttributeValue(): void {\r\n    const leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributes);\r\n\r\n    leafs.forEach((attribute) => {\r\n      attribute.value = undefined;\r\n    });\r\n  }\r\n\r\n  public initOnCreate(): void {\r\n    this.pn = {};\r\n    this.actionTypeA = [];\r\n    this.actionTypeB = [];\r\n\r\n    // this.getBireAttributesForEvolution();\r\n    this.bireRefMeasurementsAddedList = [];\r\n    this.bireRefMeasurementsDeletedList = [];\r\n    this.bireRefMeasurementsUpdatedList = [];\r\n    this.bireProgramsDisplayed = [];\r\n    this.selectedMaintenancePrograms = [];\r\n\r\n    this.initAttributeValue();\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.ngOnInit();\r\n    this.loadSparePartClassDropdown();\r\n    this.fillDropDown();\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public reloadPN(): void {\r\n    this.init();\r\n    this.loadPN();\r\n  }\r\n\r\n  private init(): void {\r\n    this.pn = {};\r\n\r\n    this.loadTablesHeader();\r\n    this.fillDropDown();\r\n  }\r\n\r\n  public loadPN(): void {\r\n    // Load dynamic attributes\r\n    const observables: Observable<BireAttributeDTO[]>[] = [\r\n      this.getDynamicAttributesObservable(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY),\r\n      this.getDynamicAttributesObservable(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_PART_KEY)\r\n    ];\r\n\r\n    forkJoin(observables).subscribe(\r\n      (results: BireAttributeDTO[][]) => {\r\n        if (results) {\r\n          const flattenResults: BireAttributeDTO[] = results.reduce((acc, val) => acc.concat(val), []);\r\n          this.dynamicAttributes = this.dynamicAttributesService.from(flattenResults);\r\n\r\n          this.bireAttributesForPn = flattenResults;\r\n\r\n          if (this.isCreateOpenMode) {\r\n            this.loadUserWorkflow(undefined);\r\n          } else {\r\n            // Load pn object\r\n            if (!!this.componentData && !!this.componentData.objectId) {\r\n              const pnId: BirePnDTOId = {\r\n                pnCode: this.componentData.objectId\r\n              };\r\n\r\n              this.pnFormService.findBirePn(pnId).subscribe((result) => {\r\n                if (result) {\r\n                  this.pn = result;\r\n                  if (this.pn && this.pn.pnCode) {\r\n                    this.loadTablesAssociated();\r\n                    let status = this.pn.statusState;\r\n                    if (\r\n                      !!status &&\r\n                      this.propertyStatus.length > 0 &&\r\n                      !this.getLabelValueByValue(this.propertyStatus, status)\r\n                    ) {\r\n                      // Non functional status ignored\r\n                      status = undefined;\r\n                    }\r\n                    this.loadUserWorkflow(status);\r\n\r\n                    this.pnFormService.findBireVersionPnsByPnCode(this.pn.pnCode).subscribe(\r\n                      (pnResults) => {\r\n                        if (pnResults.length > 0) {\r\n                          const famCode = pnResults[0].familyCode;\r\n                          if (!!famCode) {\r\n                            this.familyCode = famCode;\r\n                          }\r\n                          const strType = pnResults[0].structureType;\r\n                          if (!!strType) {\r\n                            this.structureType = strType;\r\n                          }\r\n                        }\r\n                      },\r\n                      () => {\r\n                        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyCode'));\r\n                      }\r\n                    );\r\n                  }\r\n                }\r\n              });\r\n\r\n              if (!!this.componentData.objectId) {\r\n                this.pnFormService\r\n                  .findBirePnAttributesByPn(this.componentData.objectId)\r\n                  .subscribe((attributesResults) => {\r\n                    this.dynamicAttributes.forEach((element) => {\r\n                      element.attributes.forEach((attribute) => {\r\n                        const attributeInResults = attributesResults.filter((res) => res.attributeId === attribute.id);\r\n                        if (attributeInResults.length === 1) {\r\n                          attribute.value = attributeInResults[0].attributeValue;\r\n                        }\r\n                      });\r\n                    });\r\n                  });\r\n              }\r\n\r\n              this.loadPnDocuments(pnId);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetPn'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private getDynamicAttributesObservable(attributeCategory: string): Observable<BireAttributeDTO[]> {\r\n    return this.pnFormService.findBireAttributesByCategory(attributeCategory);\r\n  }\r\n\r\n  /*********************\r\n   * TABS MANAGEMENT\r\n   *********************/\r\n\r\n  public openAttributesTab(): void {\r\n    this.currentTabId = this.tabAttributesId;\r\n  }\r\n\r\n  public openGeneralTab(): void {\r\n    this.currentTabId = this.tabGeneralId;\r\n  }\r\n\r\n  public openEvolutionTab(): void {\r\n    this.currentTabId = this.tabEvolutionId;\r\n  }\r\n\r\n  public openDEADIATab(): void {\r\n    this.currentTabId = this.tabDEADIAId;\r\n  }\r\n\r\n  public openItemsTab(): void {\r\n    this.currentTabId = this.tabItemsId;\r\n  }\r\n\r\n  public openRefMeasurementsTab(): void {\r\n    this.currentTabId = this.tabReferenceMeasurementsId;\r\n  }\r\n\r\n  /***********************\r\n   * TABLES MANAGEMENT\r\n   ***********************/\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  public resetForm(): void {\r\n    this.pn = {};\r\n  }\r\n\r\n  /*********************************\r\n   * LOADING TABLES AND DROPDOWN\r\n   *********************************/\r\n\r\n  public loadTablesHeader(): void {\r\n    this.initReferenceMeasurementsTableDataSource();\r\n    this.initItemsTableDataSource();\r\n    this.initEvolutionsTableDataSource();\r\n    this.initEvolutionImpactsTableDataSource();\r\n    this.initGuidelineTableDataSource();\r\n  }\r\n\r\n  private initReferenceMeasurementsTableDataSource(): void {\r\n    this.referenceMeasurementsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'counterCode', width: '10%', translateKey: this.getTranslateKey('counterCode') },\r\n        { field: 'familyCode', width: '10%', translateKey: this.getTranslateKey('familyCode') },\r\n        { field: 'ratingCode', width: '7%', translateKey: this.getTranslateKey('ratingCode') },\r\n        { field: 'tolerance', width: '7%', translateKey: this.getTranslateKey('tolerance') },\r\n        {\r\n          field: 'pnPotentialReferenceValue',\r\n          width: '6%',\r\n          translateKey: this.getTranslateKey('pnPotentialReferenceValue')\r\n        },\r\n        { field: 'pnPotentialLimitDate', width: '8%', translateKey: this.getTranslateKey('pnPotentialLimitDate') },\r\n        { field: 'limitIsUpdatable', width: '12%', translateKey: this.getTranslateKey('limitIsUpdatable') },\r\n        { field: 'limitDescription', width: '10%', translateKey: this.getTranslateKey('limitDescription') },\r\n        { field: 'interventionOptions', width: '10%', translateKey: this.getTranslateKey('interventionOptions') },\r\n        { field: 'valueResettable', width: '10%', translateKey: this.getTranslateKey('valueResettable') },\r\n        { field: 'sb', width: '10%', translateKey: this.getTranslateKey('serviceBulletin') }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initItemsTableDataSource(): void {\r\n    this.itemsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'familyCode', translateKey: this.getTranslateKey('familyCode') },\r\n        { field: 'ataCode', translateKey: this.getTranslateKey('ataCode') },\r\n        { field: 'unmStructureType', translateKey: this.getTranslateKey('unmStructureType') },\r\n        { field: 'variantCode', translateKey: this.getTranslateKey('variantCode') },\r\n        { field: 'name', translateKey: this.getTranslateKey('name') },\r\n        { field: 'itemNumber', translateKey: this.getTranslateKey('itemNumber') },\r\n        { field: 'functionCode', translateKey: this.getTranslateKey('functionCode') },\r\n        { field: 'ippeNodeType', translateKey: this.getTranslateKey('ippeNodeType') }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initEvolutionsTableDataSource(): void {\r\n    this.evolutionsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'evolutionNumber', translateKey: this.getTranslateKey('evolutionNumber') },\r\n        { field: 'item', translateKey: this.getTranslateKey('item') },\r\n        { field: 'mod', translateKey: this.getTranslateKey('mod') },\r\n        { field: 'sb', translateKey: this.getTranslateKey('sb') },\r\n        { field: 'ad', translateKey: this.getTranslateKey('ad') },\r\n        { field: 'pnCode', translateKey: this.getTranslateKey('pnCode') },\r\n        { field: 'pnPnCode', translateKey: this.getTranslateKey('pnPnCode') },\r\n        { field: 'actionTypeCode', translateKey: this.getTranslateKey('actionTypeCode') },\r\n        { field: 'quantityBefore', translateKey: this.getTranslateKey('quantityBefore') },\r\n        { field: 'quantityAfter', translateKey: this.getTranslateKey('quantityAfter') }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initGuidelineTableDataSource(): void {\r\n    this.guidelineTableDataSource = new TableDataSource({\r\n      enableSelection: true,\r\n      columns: [\r\n        { field: 'reference', width: '8%', translateKey: this.getTranslateKey('reference') },\r\n        { field: 'requestType', width: '14%', translateKey: this.getTranslateKey('requestType') },\r\n        { field: 'status', width: '12%', translateKey: this.getTranslateKey('status') },\r\n        { field: 'creationDate', width: '12%', translateKey: this.getTranslateKey('creationDate') },\r\n        {\r\n          field: 'controlTransmissionDate',\r\n          width: '21%',\r\n          translateKey: this.getTranslateKey('controlTransmissionDate')\r\n        },\r\n        {\r\n          field: 'centralTransmissionDate',\r\n          width: '21%',\r\n          translateKey: this.getTranslateKey('centralTransmissionDate')\r\n        },\r\n        { field: 'closureDate', width: '12%', translateKey: this.getTranslateKey('closureDate') }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initEvolutionImpactsTableDataSource(): void {\r\n    this.evolutionImpactsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'evolutionNumber', translateKey: this.getTranslateKey('evolutionNumber') },\r\n        { field: 'item', translateKey: this.getTranslateKey('item') },\r\n        { field: 'mod', translateKey: this.getTranslateKey('mod') },\r\n        { field: 'sb', translateKey: this.getTranslateKey('sb') },\r\n        { field: 'ad', translateKey: this.getTranslateKey('ad') },\r\n        { field: 'actionTypeCode', translateKey: this.getTranslateKey('actionTypeCode') },\r\n        { field: 'pnCode', translateKey: this.getTranslateKey('pnCode') }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public loadTablesAssociated(): void {\r\n    this.referenceMeasurementsTableDataSource.setData([]);\r\n    if (!!this.pn.pnCode) {\r\n      this.pnFormService.findBireItemsBySearchCriteria(this.pn.pnCode).subscribe(\r\n        (results) => {\r\n          results.forEach((element) => {\r\n            if (\r\n              element.structureType &&\r\n              this.propertyStructureType.filter((type) => type.value === element.structureType)\r\n            ) {\r\n              element.unmStructureType = this.propertyStructureType.filter(\r\n                (type) => type.value === element.structureType\r\n              )[0].label;\r\n            }\r\n\r\n            if (!!element.ippeNodeType) {\r\n              element.ippeNodeType = this.getFlocTypeLabelVal(element.ippeNodeType, 0);\r\n            }\r\n          });\r\n\r\n          this.itemsTableDataSource.setData(results);\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetItemList'));\r\n        }\r\n      );\r\n\r\n      this.pnId = {\r\n        pnCode: this.pn.pnCode\r\n      };\r\n      this.pnFormService.findBirePnMeasuresByPnCode(this.pnId).subscribe(\r\n        (results) => {\r\n          const referenceMeasurements = results.map((element) => {\r\n            const options = !!element.interventionOptions ? element.interventionOptions.split(';') : undefined;\r\n            const newTab: BirePnMeasureTmpDTO = {\r\n              counterCode: element.counterCode,\r\n              familyCode: element.familyCode,\r\n              pnPotentialLimitDate: element.pnPotentialLimitDate,\r\n              pnCode: element.pnCode,\r\n              tolerance: element.tolerance,\r\n              sb: element.sb,\r\n              ratingCode: element.ratingCode,\r\n              pnPotentialReferenceValue: element.pnPotentialReferenceValue,\r\n              limitDescription: element.limitDescription,\r\n              valueResettable:\r\n                options !== undefined && options.length > 1 ? (options[1] === 'true' ? true : false) : false,\r\n              interventionOptions: options !== undefined && options.length > 0 ? options[0] : '',\r\n              limitIsUpdatable: element.limitIsUpdatable,\r\n              structureType: element.structureType\r\n            };\r\n\r\n            return newTab;\r\n          });\r\n          this.referenceMeasurementsTableDataSource.setData(referenceMeasurements);\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetRefMeasurements'));\r\n        }\r\n      );\r\n      this.pnFormService.findBireEvolutionPnsByPnCode(this.pnId).subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            results.forEach((element) => {\r\n              if (element.actionTypeCode) {\r\n                element.actionTypeCode = this.actionTypeA.filter(\r\n                  (actionType) => actionType.value === element.actionTypeCode\r\n                )[0].label;\r\n              }\r\n            });\r\n            this.evolutionImpactsTableDataSource.setData(results);\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetImpactsOnPnEvolutionResults'));\r\n        }\r\n      );\r\n      this.pnFormService.findBireItemPnEvolutionsByPnCodeOrPnPnCode(this.pnId).subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            results.forEach((element) => {\r\n              if (element.actionTypeCode) {\r\n                element.actionTypeCode = this.actionTypeB.filter(\r\n                  (actionType) => actionType.value === element.actionTypeCode\r\n                )[0].label;\r\n              }\r\n            });\r\n            this.evolutionsTableDataSource.setData(results);\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetEvolutionResults'));\r\n        }\r\n      );\r\n      this.pnFormService.findBireMaintenancePlansByPn(this.pnId).subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            this.bireProgramsDisplayed = results;\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetProgramsResults'));\r\n        }\r\n      );\r\n      this.pnFormService.findBirePartUpdateGuideline(this.pnId).subscribe(\r\n        (results: BirePartUpdateGuidelineDTO[]) => {\r\n          if (results) {\r\n            this.birePartUpdateGuidelineDTO = results;\r\n            const rows: BirePartUpdateGuidelineRow[] = results.map((el) => this.createBirePartUpdateGuidelineRow(el));\r\n            this.guidelineTableDataSource.setData(rows);\r\n            this.loadEnableAddButton();\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetGuidelinesResults'));\r\n        }\r\n      );\r\n\r\n      // Adding object status if necessary\r\n      if (!!this.pn.statusState && !this.getLabelValueByValue(this.propertyStatus, this.pn.statusState)) {\r\n        const currentState = this.getLabelValueByValue(this.propertyObjectStatus, this.pn.statusState);\r\n        if (currentState) {\r\n          this.partNumberStatus.unshift(currentState);\r\n          this.updateWorkflowStatusList();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private createBirePartUpdateGuidelineRow(guideline: BirePartUpdateGuidelineDTO): BirePartUpdateGuidelineRow {\r\n    const type = !!guideline.pugType\r\n      ? this.getLabelValueByValue(this.partGuidelineTypes, guideline.pugType)\r\n      : undefined;\r\n    const status = !!guideline.pugStatus\r\n      ? this.getLabelValueByValue(this.partGuidelineStatus, guideline.pugStatus)\r\n      : undefined;\r\n    const birePartUpdateGuidelineRow: BirePartUpdateGuidelineRow = {\r\n      reference: guideline.pugCode,\r\n      requestType: !!type ? type.label : '',\r\n      status: !!status ? status.label : '',\r\n      creationDate: !!guideline.creationDate\r\n        ? moment(guideline.creationDate).format(this._sessionService.dateTimeFormatMomentJS)\r\n        : '',\r\n      controlTransmissionDate: !!guideline.controlTransmissionDate\r\n        ? moment(guideline.controlTransmissionDate).format(this._sessionService.dateTimeFormatMomentJS)\r\n        : '',\r\n      centralTransmissionDate: guideline.centralTransmissionDate\r\n        ? moment(guideline.centralTransmissionDate).format(this._sessionService.dateTimeFormatMomentJS)\r\n        : '',\r\n      closureDate: !!guideline.closureDate\r\n        ? moment(guideline.closureDate).format(this._sessionService.dateTimeFormatMomentJS)\r\n        : '',\r\n      isCreator: this.isCreator(guideline),\r\n      _obj: guideline\r\n    };\r\n\r\n    return birePartUpdateGuidelineRow;\r\n  }\r\n\r\n  private getLabelValueByValue<T>(references: LabelValue<T>[], value: T): LabelValue<T> | undefined {\r\n    if (!!references) {\r\n      return references.find((lv) => lv.value === value);\r\n    }\r\n  }\r\n\r\n  private updateWorkflowStatusList() {\r\n    this.workflowStatus = WorkflowUtils.filterWorkflowStatusList(\r\n      this.userWorkflow,\r\n      this.partNumberStatus,\r\n      this.pn.statusState\r\n    );\r\n  }\r\n\r\n  public fillDropDown() {\r\n    this.pnFormService.getFuncObjectStatusMap().subscribe(\r\n      (results) => {\r\n        this.propertyStatus = results;\r\n        this.partNumberStatus = [...results];\r\n        this.updateWorkflowStatusList();\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetObjectStatus'));\r\n      }\r\n    );\r\n    this.pnFormService.getObjectStatusMap().subscribe(\r\n      (results) => {\r\n        this.propertyObjectStatus = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetObjectStatus'));\r\n      }\r\n    );\r\n    this.pnFormService.findBireActionTypesByActionTypeCodeA().subscribe(\r\n      (results) => {\r\n        this.actionTypeA = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInstructions'));\r\n      }\r\n    );\r\n    this.pnFormService.findBireActionTypesByActionTypeCodeB().subscribe(\r\n      (results) => {\r\n        this.actionTypeB = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetInstructions'));\r\n      }\r\n    );\r\n    this.pnFormService.getStructureTypeMap().subscribe(\r\n      (results) => {\r\n        this.propertyStructureType = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStructureType'));\r\n      }\r\n    );\r\n    this.pnFormService.findQuantityUnitMap().subscribe((res) => {\r\n      this.quantityUnit = res;\r\n    });\r\n    this.pnFormService.getPnTraceabilityMap().subscribe(\r\n      (results) => {\r\n        this.propertyTraceability = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetTraceability'));\r\n      }\r\n    );\r\n    this.pnFormService.getRefMeasureCategoryMap().subscribe(\r\n      (results) => {\r\n        this.propertyMeasure = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetRefMeasureCategory'));\r\n      }\r\n    );\r\n    this.pnFormService.findAllBireVariantVersions().subscribe(\r\n      (results) => {\r\n        const list = new Array<LabelValue<string>>();\r\n        results.forEach((element) => {\r\n          if (!!element.labelValueDTO) {\r\n            list.push(element.labelValueDTO);\r\n            this.familyVariantMap.set(element.labelValueDTO, element);\r\n          }\r\n        });\r\n        this.propertyVariant = list;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n    this.pnFormService.findAllBireUnitMeasures().subscribe(\r\n      (results) => {\r\n        this.propertyUnit = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n    this.propertiesService.getValue(GenericPropertyConstants.ENGINEERING_PN_TYPES_MAP).subscribe(\r\n      (results) => {\r\n        this.pnTypes = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public confirmDeleteReferenceMeasurements(): void {\r\n    const partialMessageKey = 'deleteConfirmationReferenceMeasurements';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.deleteSelectedReferenceMeasurements();\r\n      }\r\n    });\r\n  }\r\n\r\n  public createReferenceMeasurements(): void {\r\n    this.showMeasurementPopup = true;\r\n    this.isNewRef = true;\r\n    if (this.pn.pnCode) {\r\n      this.pnFormService.findBireVersionPnsByPnCode(this.pn.pnCode).subscribe(\r\n        (results) => {\r\n          const famCode = results[0] && results[0].familyCode;\r\n          const strType = results[0] && results[0].structureType;\r\n          if (!!famCode) {\r\n            this.familyCode = famCode;\r\n          }\r\n          if (!!strType) {\r\n            this.structureType = strType;\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyCode'));\r\n        }\r\n      );\r\n    }\r\n    this.currentRefMeasurements = {\r\n      pnCode: this.pn.pnCode,\r\n      familyCode: this.familyCode,\r\n      structureType: this.structureType\r\n    };\r\n    this.dataRefMeasurements = {\r\n      componentId: 'ReferenceMeasurementsPopupDialog',\r\n      selectedRow: [],\r\n      object: this.currentRefMeasurements,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    this.refMeasurementDialogOpenMode = ComponentOpenMode.Create;\r\n  }\r\n\r\n  public editReferenceMeasurements(): void {\r\n    this.isNewRef = false;\r\n    if (this.referenceMeasurementsTableDataSource.dataSelectionCount === 1) {\r\n      this.currentRefMeasurements = { ...this.referenceMeasurementsTableDataSource.dataSelection[0] };\r\n      this.currentRefMeasurements.pnCode = this.pn.pnCode;\r\n\r\n      this.showMeasurementPopup = true;\r\n      this.dataRefMeasurements = {\r\n        componentId: 'ReferenceMeasurementsPopupDialog',\r\n        selectedRow: this.referenceMeasurementsTableDataSource.dataSelection,\r\n        object: this.currentRefMeasurements,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n    this.refMeasurementDialogOpenMode = ComponentOpenMode.Write;\r\n  }\r\n\r\n  public openReferenceMeasurements(): void {\r\n    if (this.referenceMeasurementsTableDataSource.dataSelectionCount === 1) {\r\n      this.currentRefMeasurements = { ...this.referenceMeasurementsTableDataSource.dataSelection[0] };\r\n      this.currentRefMeasurements.pnCode = this.pn.pnCode;\r\n\r\n      this.showMeasurementPopup = true;\r\n      this.dataRefMeasurements = {\r\n        componentId: 'ReferenceMeasurementsPopupDialog',\r\n        selectedRow: this.referenceMeasurementsTableDataSource.dataSelection,\r\n        object: this.currentRefMeasurements,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n    this.refMeasurementDialogOpenMode = ComponentOpenMode.Read;\r\n  }\r\n\r\n  public addNewReferenceMeasurements(newRefMeasurements: BirePnMeasureDTO) {\r\n    if (!!newRefMeasurements && newRefMeasurements.interventionOptions) {\r\n      const options = newRefMeasurements.interventionOptions.split(';');\r\n      if (options.length > 0) {\r\n        this.interventionOption = options[0] === null ? '' : options[0];\r\n        this.valueResettable = options[1] === 'true';\r\n      }\r\n    }\r\n    const newTab: BirePnMeasureTmpDTO = {\r\n      counterCode: newRefMeasurements.counterCode,\r\n      familyCode: newRefMeasurements.familyCode,\r\n      pnPotentialLimitDate: newRefMeasurements.pnPotentialLimitDate,\r\n      pnCode: newRefMeasurements.pnCode,\r\n      ratingCode: newRefMeasurements.ratingCode,\r\n      pnPotentialReferenceValue: newRefMeasurements.pnPotentialReferenceValue,\r\n      limitDescription: newRefMeasurements.limitDescription,\r\n      valueResettable: this.valueResettable,\r\n      interventionOptions: this.interventionOption,\r\n      limitIsUpdatable: newRefMeasurements.limitIsUpdatable,\r\n      structureType: newRefMeasurements.structureType,\r\n      tolerance: newRefMeasurements.tolerance,\r\n      sb: newRefMeasurements.sb\r\n    };\r\n    const searchInDisplayedList = this.referenceMeasurementsTableDataSource.dataSrc.find(\r\n      (value) =>\r\n        !!newRefMeasurements &&\r\n        value.pnCode === newRefMeasurements.pnCode &&\r\n        value.familyCode === newRefMeasurements.familyCode &&\r\n        value.counterCode === newRefMeasurements.counterCode &&\r\n        value.ratingCode === newRefMeasurements.ratingCode &&\r\n        value.structureType === newRefMeasurements.structureType\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireRefMeasurementsAddedList.push(newRefMeasurements);\r\n      this.referenceMeasurementsTableDataSource.addData([newTab]);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('RefMeasurementsAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private deleteSelectedReferenceMeasurements() {\r\n    this.referenceMeasurementsTableDataSource.dataSelection.forEach((element) => {\r\n      const searchInAddedList = this.bireRefMeasurementsAddedList.find(\r\n        (value) =>\r\n          value.pnCode === element.pnCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.ratingCode === element.ratingCode &&\r\n          value.counterCode === element.counterCode\r\n      );\r\n      const searchInUpdatedList = this.bireRefMeasurementsAddedList.find(\r\n        (value) =>\r\n          value.pnCode === element.pnCode &&\r\n          value.ratingCode === element.ratingCode &&\r\n          value.familyCode === element.familyCode &&\r\n          value.structureType === element.structureType &&\r\n          value.counterCode === element.counterCode\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireRefMeasurementsAddedList.indexOf(searchInAddedList);\r\n        this.bireRefMeasurementsAddedList.splice(indexInAddedList, 1);\r\n      } else {\r\n        if (\r\n          !!element.pnCode &&\r\n          !!element.counterCode &&\r\n          !!element.familyCode &&\r\n          !!element.structureType &&\r\n          !!element.ratingCode\r\n        ) {\r\n          const interdepId: BirePnMeasureDTOId = {\r\n            pnCode: element.pnCode,\r\n            counterCode: element.counterCode,\r\n            familyCode: element.familyCode,\r\n            structureType: element.structureType,\r\n            ratingCode: element.ratingCode\r\n          };\r\n          if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireRefMeasurementsUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireRefMeasurementsUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireRefMeasurementsDeletedList.push(interdepId);\r\n          } else {\r\n            this.bireRefMeasurementsDeletedList.push(interdepId);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    this.referenceMeasurementsTableDataSource.deleteDataSelection();\r\n    this.referenceMeasurementsTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  public updateReferenceMeasurements(udpatedRefMeasurements: BirePnMeasureDTO) {\r\n    if (udpatedRefMeasurements.interventionOptions) {\r\n      const options = udpatedRefMeasurements.interventionOptions.split(';');\r\n      if (options.length > 0) {\r\n        this.interventionOption = options[0] === null ? '' : options[0];\r\n        this.valueResettable = options[1] === 'true';\r\n      }\r\n    }\r\n    const updateTab: BirePnMeasureTmpDTO = {\r\n      counterCode: udpatedRefMeasurements.counterCode,\r\n      familyCode: udpatedRefMeasurements.familyCode,\r\n      tolerance: udpatedRefMeasurements.tolerance,\r\n      sb: udpatedRefMeasurements.sb,\r\n      pnPotentialLimitDate: udpatedRefMeasurements.pnPotentialLimitDate,\r\n      pnCode: udpatedRefMeasurements.pnCode,\r\n      ratingCode: udpatedRefMeasurements.ratingCode,\r\n      pnPotentialReferenceValue: udpatedRefMeasurements.pnPotentialReferenceValue,\r\n      limitDescription: udpatedRefMeasurements.limitDescription,\r\n      valueResettable: this.valueResettable,\r\n      interventionOptions: this.interventionOption,\r\n      limitIsUpdatable: udpatedRefMeasurements.limitIsUpdatable,\r\n      structureType: udpatedRefMeasurements.structureType\r\n    };\r\n\r\n    if (!this.hasDuplicateRow(udpatedRefMeasurements)) {\r\n      this.bireRefMeasurementsUpdatedList.push(udpatedRefMeasurements);\r\n      this.referenceMeasurementsTableDataSource.replaceData(\r\n        this.referenceMeasurementsTableDataSource.dataSelection[0],\r\n        updateTab\r\n      );\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('RefMeasurementsAlreadyExists'));\r\n    }\r\n    this.referenceMeasurementsTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  private hasDuplicateRow(rowData: BirePnMeasureDTO): boolean {\r\n    let refMeasurementList = [...this.referenceMeasurementsTableDataSource.dataSrc];\r\n    if (this.referenceMeasurementsTableDataSource.hasDataSelection) {\r\n      const selectedRow = this.referenceMeasurementsTableDataSource.dataSelection[0];\r\n\r\n      // Return all the rows except selected rows\r\n      refMeasurementList = this.referenceMeasurementsTableDataSource.dataSrc.filter((mprow) => {\r\n        return (\r\n          selectedRow.pnCode !== mprow.pnCode ||\r\n          selectedRow.ratingCode !== mprow.ratingCode ||\r\n          selectedRow.familyCode !== mprow.familyCode ||\r\n          selectedRow.structureType !== mprow.structureType ||\r\n          selectedRow.counterCode !== mprow.counterCode\r\n        );\r\n      });\r\n    }\r\n\r\n    // check whether any other rows have same values of row data or not\r\n    const hasAnyDuplicateRow = refMeasurementList.some((row) => {\r\n      return (\r\n        row.pnCode === rowData.pnCode &&\r\n        row.ratingCode === rowData.ratingCode &&\r\n        row.familyCode === rowData.familyCode &&\r\n        row.structureType === rowData.structureType &&\r\n        row.counterCode === rowData.counterCode\r\n      );\r\n    });\r\n\r\n    return hasAnyDuplicateRow;\r\n  }\r\n\r\n  private updateListsAttributes() {\r\n    this.bireRefMeasurementsAddedList.forEach((element) => {\r\n      element.pnCode = this.pn.pnCode;\r\n    });\r\n    this.bireRefMeasurementsUpdatedList.forEach((element) => {\r\n      element.pnCode = this.pn.pnCode;\r\n    });\r\n    this.bireRefMeasurementsDeletedList.forEach((element) => {\r\n      if (!!this.pn.pnCode) {\r\n        element.pnCode = this.pn.pnCode;\r\n      }\r\n    });\r\n    this.birePnAttributes.forEach((element) => {\r\n      element.pnCode = this.pn.pnCode;\r\n    });\r\n  }\r\n\r\n  public savePnData(): boolean {\r\n    let saved = false;\r\n    const missingFields = this.checkMandatoryFields({\r\n      ...this.pn,\r\n      bireRefMeasurementsTableTitle: this.referenceMeasurementsTableDataSource.dataSrc,\r\n      itemsTableTitle: this.itemsTableDataSource.dataSrc,\r\n      evolutionAssociatedTableTitle: this.evolutionsTableDataSource.dataSrc,\r\n      evolutionImpactTableTitle: this.evolutionImpactsTableDataSource.dataSrc,\r\n      dynamicAttributes: this.dynamicAttributes\r\n    });\r\n    if (this.pn.pnCode && missingFields.length === 0) {\r\n      this.updateListsAttributes();\r\n      this.birePnAttributes = this.dynamicAttributesService.toBirePnAttribute(this.pn.pnCode, this.dynamicAttributes);\r\n      const savePartNumberInput: SavePartNumberInput = {\r\n        birePnDTO: this.pn,\r\n        birePnMeasureDTOAddedList: this.bireRefMeasurementsAddedList,\r\n        birePnMeasureDTOUpdatedList: this.bireRefMeasurementsUpdatedList,\r\n        birePnMeasureDTOIdRemovedList: this.bireRefMeasurementsDeletedList,\r\n        birePnAttributeDTOAddedList: [],\r\n        birePnAttributeDTOUpdatedList: this.birePnAttributes,\r\n        birePnAttributeDTOIdRemovedList: [],\r\n        isForUpdate: !this.isCreateOpenMode,\r\n        bireDocumentAddedList: this.documentsTableDataSource.getAddedList().map(this.toDocumentDto),\r\n        bireDocumentUpdatedList: this.documentsTableDataSource.getUpdatedList().map(this.toDocumentDto),\r\n        bireDocumentRemovedList: this.documentsTableDataSource.getDeletedList().map(this.toDocumentDto)\r\n      };\r\n\r\n      this.showSaveSpinner = true;\r\n      this.pnFormService\r\n        .savePnData(savePartNumberInput)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.showSaveSpinner = false;\r\n          })\r\n        )\r\n        .subscribe((result) => {\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnSavedPn'));\r\n          this.initLists();\r\n          this.updateOpenMode(ComponentOpenMode.Read);\r\n          if (!this.componentData.objectId) {\r\n            this.pn.pnCode = result.split(':')[0];\r\n            this.componentData.objectId = result.split(':')[0];\r\n            this.componentData.openMode = ComponentOpenMode.Read;\r\n            this.displayComponentContext(this.componentData.objectId, this.isCreateOpenMode);\r\n            this.subtitle = this.componentData.objectId;\r\n          }\r\n          this.documentsTableDataSource.clearHistory();\r\n          this.refresh();\r\n        });\r\n      saved = true;\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n\r\n    return saved;\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    // Test of the popup (not the real history)\r\n    this.pnStatus = { ...this.pn };\r\n\r\n    this.showStatusUpdatesPopup = true;\r\n    const columns: TableColumn[] = [\r\n      { field: 'date', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'author', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'action', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'status', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'manufacturerNatoCode', alignment: 'center', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'otanPnReference', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'fromReparationSolution', alignment: 'center', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'traceability', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'isPma', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'quantityUnit', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'articleDesignation', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'pnCode1', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'pnCode2', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'pnCode3', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'pnCode4', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'pnCode5', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'pnCode6', alignment: 'center', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'manufacturerOtanCode1', alignment: 'center', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'manufacturerOtanCode2', alignment: 'center', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'manufacturerOtanCode3', alignment: 'center', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'manufacturerOtanCode4', alignment: 'center', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'manufacturerOtanCode5', alignment: 'center', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'manufacturerOtanCode6', alignment: 'center', width: '200px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'sparePartClass', alignment: 'center', width: '200px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.updatesKeyMap.set('status', of(this.partNumberStatus));\r\n    if (!!this.pn.sparePartClassCode) {\r\n      this.updatesKeyMap.set('sparePartClass', of(this.sparePartClassOptions));\r\n    }\r\n    this.tableStatusUpdatesData = {\r\n      componentId: 'PartNumberFormComponent.historicPopup',\r\n      tableCols: columns,\r\n      tableRows: this.updateHistoricService.findBirePnHistoric(this.pnId),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Multiple,\r\n      globalFilter: false\r\n    };\r\n  }\r\n\r\n  // TODO when update functionality is implemented in StatusUpdatesHistoryComponent\r\n  // public updateObjectStatusFromStatusUpdatesHistory(event: HistoricObjectPnDTO): void {\r\n\r\n  // }\r\n\r\n  public openLogisticView(openMode: ComponentOpenMode = ComponentOpenMode.Read): void {\r\n    const labelKey = 'transaction.MaterialFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'MaterialFormComponent',\r\n      openMode\r\n    };\r\n    const materialFormId: BirePnDTOId = {\r\n      pnCode: this.pn.pnCode ? this.pn.pnCode : ''\r\n    };\r\n    data.objectId = this.serializationService.serialize(materialFormId);\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openPartNumberScreen(objectId: BireItemDTO): void {\r\n    if (StringUtils.isNullOrEmpty(objectId.familyCode)) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingCode'));\r\n    } else {\r\n      this.openItemForm(objectId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  public openEvolution(objectId: BireEvolutionDTO): void {\r\n    if (objectId && objectId.evolutionNumber && objectId.evolutionRevisionNumber) {\r\n      const bireEvolutionId: BireEvolutionDTOId = {\r\n        evolutionNumber: objectId.evolutionNumber,\r\n        evolutionRevisionNumber: objectId.evolutionRevisionNumber\r\n      };\r\n      this.openEvolutionForm(bireEvolutionId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  private openItemForm(objectId: BireItemDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_ITEM_FORM,\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      const itemFormId: BireItemDTO = {\r\n        familyCode: objectId.familyCode,\r\n        chapter: objectId.chapter,\r\n        section: objectId.section,\r\n        sheet: objectId.sheet,\r\n        marks: objectId.marks,\r\n        subject: objectId.subject,\r\n        structureType: objectId.structureType,\r\n        variantCode: objectId.variantCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(itemFormId);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openEvolutionForm(objectId: BireEvolutionDTOId | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_EVOLUTION_FORM,\r\n      openMode\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    data.objectId = this.serializationService.serialize(objectId);\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private setNavigationLinkList(): void {\r\n    const logisticLabelKey = this.getTranslateKey('logisticView');\r\n\r\n    this.translateService.get([logisticLabelKey]).subscribe((results: string[]) => {\r\n      const calibrationLabel = results ? results[logisticLabelKey] : 'Logistic View';\r\n\r\n      this.navigationLinkList = [\r\n        {\r\n          label: calibrationLabel,\r\n          command: () => {\r\n            this.openLogisticView(ComponentOpenMode.Read);\r\n          }\r\n        }\r\n      ];\r\n    });\r\n  }\r\n\r\n  private setTableOfContent(): void {\r\n    const mainKey = this.getTranslateKey('main');\r\n    const generalKey = this.getTranslateKey('tabGeneral');\r\n    const natoKey = this.getTranslateKey('tabNatoCodes');\r\n    const attributesKey = this.getTranslateKey('tabAttributes');\r\n    const referenceKey = this.getTranslateKey('tabReferenceMeasurements');\r\n    const itemsKey = this.getTranslateKey('tabItems');\r\n    const evolutionsKey = this.getTranslateKey('tabEvolution');\r\n    const documentsKey = this.getTranslateKey('tabDocuments');\r\n\r\n    this.translateService\r\n      .get([mainKey, generalKey, natoKey, attributesKey, referenceKey, itemsKey, evolutionsKey, documentsKey])\r\n      .subscribe((results) => {\r\n        const mainLabel = !!results ? results[mainKey] : 'Main Information';\r\n        const generalLabel = !!results ? results[generalKey] : 'General';\r\n        const natoLabel = !!results ? results[natoKey] : 'NATO Codes';\r\n        const attributesLabel = !!results ? results[attributesKey] : 'Attributes';\r\n        const referenceLabel = !!results ? results[referenceKey] : 'Reference Measurements';\r\n        const itemLabel = !!results ? results[itemsKey] : 'Items';\r\n        const evolutionsLabel = !!results ? results[evolutionsKey] : 'Upcoming Events';\r\n        const documentsLabel = !!results ? results[documentsKey] : 'Documents';\r\n\r\n        this.toc = [\r\n          {\r\n            id: 'mainAnchor',\r\n            anchor: this.mainEltRef,\r\n            label: mainLabel\r\n          },\r\n          {\r\n            id: 'generalAnchor',\r\n            anchor: this.generalEltRef,\r\n            label: generalLabel\r\n          },\r\n          {\r\n            id: 'natoAnchor',\r\n            anchor: this.natoEltRef,\r\n            label: natoLabel\r\n          },\r\n          {\r\n            id: 'attributesAnchor',\r\n            anchor: this.attributesEltRef,\r\n            label: attributesLabel\r\n          },\r\n          {\r\n            id: 'referenceAnchor',\r\n            anchor: this.referenceEltRef,\r\n            label: referenceLabel\r\n          },\r\n          {\r\n            id: 'itemsAnchor',\r\n            anchor: this.itemsEltRef,\r\n            label: itemLabel\r\n          },\r\n          {\r\n            id: 'evolutionsAnchor',\r\n            anchor: this.evolutionsEltRef,\r\n            label: evolutionsLabel\r\n          },\r\n          {\r\n            id: 'documentsAnchor',\r\n            anchor: this.documentsEltRef,\r\n            label: documentsLabel\r\n          }\r\n        ];\r\n\r\n        super.selectPageTocEntry(this.component.MAIN_ANCHOR_ID);\r\n\r\n        this.updateWorkflowToc();\r\n      });\r\n  }\r\n\r\n  private updateWorkflowToc() {\r\n    this.workflowToc = this.applyWorkflowOnPageToc(this.toc);\r\n  }\r\n\r\n  private getFlocTypeLabelVal(key: string, ope: number) {\r\n    let str;\r\n    if (ope === 0) {\r\n      str = this.flocTypeMap.filter((res) => res.value === key)[0].label;\r\n    } else if (ope === 1) {\r\n      str = this.flocTypeMap.filter((res) => res.label === key)[0].value;\r\n    }\r\n\r\n    return !!str ? str : key;\r\n  }\r\n\r\n  private loadPnDocuments(birePnDtoId: BirePnDTOId): void {\r\n    this.pnFormService\r\n      .findBirePnDocs(birePnDtoId)\r\n      .subscribe((bireDocumentDtoArray) =>\r\n        this.documentsTableDataSource.setData(\r\n          bireDocumentDtoArray.map((bireDocumentDto) => this.toDocumentRow(bireDocumentDto))\r\n        )\r\n      );\r\n  }\r\n\r\n  private initDocumentsTableDataSource(): void {\r\n    this.documentsTableDataSource = new TableDataSourceWithHistory({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'docName',\r\n          translateKey: this.getTranslateKey('docName')\r\n        },\r\n        {\r\n          field: 'docSource',\r\n          translateKey: this.getTranslateKey('docExternal')\r\n        },\r\n        {\r\n          field: 'docExtension',\r\n          translateKey: this.getTranslateKey('docExtension')\r\n        },\r\n        {\r\n          field: 'docSize',\r\n          translateKey: this.getTranslateKey('docSize')\r\n        },\r\n        {\r\n          field: 'docPublicationDate',\r\n          translateKey: this.getTranslateKey('docPublicationDate')\r\n        },\r\n        {\r\n          field: 'docDescription',\r\n          translateKey: this.getTranslateKey('docDescription')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n    this.isReadOnlyDocumentDialog = true;\r\n    this.showAddDocumentDialog = false;\r\n  }\r\n\r\n  public deleteDocuments(): void {\r\n    const partialMessageKey =\r\n      this.documentsTableDataSource.dataSelectionCount > 1\r\n        ? 'confirmDeleteSelectedDocuments'\r\n        : 'confirmDeleteSelectedDocument';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.documentsTableDataSource.deleteDataSelection();\r\n      }\r\n    });\r\n  }\r\n\r\n  public addDocument(): void {\r\n    this.isReadOnlyDocumentDialog = false;\r\n    this.showAddDocumentDialog = true;\r\n  }\r\n\r\n  public onAddDocument(documentDTO: BireDocumentDTO): void {\r\n    const editedOrAddedDocumentRow = this.toDocumentRow(documentDTO);\r\n    // We are editing an existing document\r\n    if (this.documentsTableDataSource.dataSelectionCount === 1) {\r\n      this.documentsTableDataSource.replaceData(\r\n        this.documentsTableDataSource.dataSelection[0],\r\n        editedOrAddedDocumentRow\r\n      );\r\n    } else {\r\n      // We have just uploaded a new document\r\n      this.documentsTableDataSource.addData([editedOrAddedDocumentRow]);\r\n    }\r\n  }\r\n\r\n  public editDocument(): void {\r\n    this.isReadOnlyDocumentDialog = false;\r\n    this.showAddDocumentDialog = true;\r\n  }\r\n\r\n  public openDocument(): void {\r\n    this.isReadOnlyDocumentDialog = true;\r\n    this.showAddDocumentDialog = true;\r\n  }\r\n\r\n  private toDocumentRow(documentDTO: BireDocumentDTO): DocumentRow {\r\n    return {\r\n      docName: documentDTO.docName,\r\n      docSource: documentDTO.docSource,\r\n      docExtension: FileUtils.getExtension(documentDTO.docName).toUpperCase(),\r\n      docSize: !!documentDTO.docFile ? FileUtils.getFormattedSize(documentDTO.docFile.length) : '',\r\n      docPublicationDate: this.dateService.dateToString(documentDTO.docPublicationDate),\r\n      docDescription: documentDTO.docDescription,\r\n      _obj: documentDTO\r\n    };\r\n  }\r\n\r\n  private toDocumentDto(documentRow: DocumentRow): BireDocumentDTO {\r\n    return (!!documentRow._obj && documentRow._obj) || {};\r\n  }\r\n\r\n  public downloadFile(document: DocumentRow): void {\r\n    if (!!document._obj) {\r\n      FileUtils.downloadFile(document._obj.docFile, document.docName);\r\n    }\r\n  }\r\n\r\n  public showStatus(): void {\r\n    if (!this.isCreateOpenMode) {\r\n      const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n        content: ObjectStatusComponent,\r\n        data: {\r\n          currentAuthor: this.pn.statusUser,\r\n          currentDate: this.pn.statusDate,\r\n          currentStatus: {\r\n            label: this._formatSelectOption.transform(this.pn.statusState, this.workflowStatus),\r\n            value: this.pn.statusState\r\n          },\r\n          nextStatuses: this.workflowStatus\r\n        }\r\n      });\r\n\r\n      overlayRef.afterClosed$.subscribe({\r\n        next: (event) => {\r\n          if (event.data) {\r\n            const currentState = this.pn.statusState;\r\n            this.pn.statusState = event.data;\r\n            const saved = this.savePnData();\r\n            if (!saved) {\r\n              // Revert status change if save not launched\r\n              this.pn.statusState = currentState;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public showCreateProcurementDialog(): void {\r\n    this.createProcurementDialogVisible = true;\r\n  }\r\n\r\n  public onCreateProcurementRequest(procurementRequest: BidtProcurementRequestDTO): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_PROCUREMENT_REQUEST_FORM,\r\n      objectId: this.serializationService.serialize({ id: procurementRequest.id }),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openGuidelines(rowData: BirePartUpdateGuidelineRow, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.DeaDiaFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_DEA_DIA_FORM,\r\n      objectId: !!rowData ? this.serializationService.serialize(rowData._obj) : undefined,\r\n      openMode\r\n    };\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public addGuidelines() {\r\n    this.isCreatorAndIsFirstAdd = false;\r\n    const birePartUpdateGuidelineRow: BirePartUpdateGuidelineRow = {\r\n      _obj: {\r\n        pnCode: this.pn.pnCode,\r\n        pugStatus: AWPropertiesConstants.DEA_DIA_STATUS_DRAFT\r\n      }\r\n    };\r\n    this.openGuidelines(birePartUpdateGuidelineRow, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public deleteGuideline() {\r\n    const partialMessageKey = 'confirmDeleteSelectedGuideline';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.guidelineTableDataSource.dataSelection.forEach((guideline) => {\r\n          if (!!guideline._obj) {\r\n            const guidelineToDelete: BirePartUpdateGuidelineDTOId = {\r\n              mandant: guideline._obj.mandant,\r\n              pugId: guideline._obj.pugId\r\n            };\r\n            this.pnFormService.removeBirePartUpdateGuideline(guidelineToDelete).subscribe(() => {\r\n              this.messageService.showSuccessMessage('global.deleteSuccessMsg');\r\n              this.guidelineTableDataSource.deleteDataSelection();\r\n              this.loadTablesAssociated();\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public editGuidelines(rowData: BirePartUpdateGuidelineRow): void {\r\n    this.openGuidelines(rowData, ComponentOpenMode.Read);\r\n  }\r\n\r\n  public isCreator(guideline: BirePartUpdateGuidelineDTO): boolean {\r\n    let isCreator = false;\r\n    if (!!this.user && !!guideline) {\r\n      if (this.user.userId === guideline.requesterId) {\r\n        isCreator = true;\r\n      }\r\n    }\r\n\r\n    return isCreator;\r\n  }\r\n\r\n  public loadEnableAddButton(): void {\r\n    this.enableAddButton = true;\r\n    if (!!this.birePartUpdateGuidelineDTO) {\r\n      const guidelineWrongStatusToEnableAdd = this.birePartUpdateGuidelineDTO.filter(\r\n        (elt) =>\r\n          (elt.pugStatus as string) !== AWPropertiesConstants.DEA_DIA_STATUS_CLOSED &&\r\n          (elt.pugStatus as string) !== AWPropertiesConstants.DEA_DIA_STATUS_REFUSED\r\n      );\r\n      if (!!guidelineWrongStatusToEnableAdd && guidelineWrongStatusToEnableAdd.length !== 0) {\r\n        this.enableAddButton = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  public get enableDeleteButton(): boolean {\r\n    let enableDeleteButton = false;\r\n    if (this.guidelineTableDataSource.dataSelectionCount === 1) {\r\n      if (\r\n        (this.guidelineTableDataSource.dataSelection[0]._obj.pugStatus as string) ===\r\n        AWPropertiesConstants.DEA_DIA_STATUS_DRAFT\r\n      ) {\r\n        enableDeleteButton = true;\r\n      }\r\n    } else {\r\n      enableDeleteButton = false;\r\n    }\r\n\r\n    return enableDeleteButton;\r\n  }\r\n\r\n  private loadPartGuidelineTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PART_GUIDELINE_TYPE_MAP).subscribe((results) => {\r\n      this.partGuidelineTypes = results;\r\n    });\r\n  }\r\n\r\n  private loadPartGuidelineStatus(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.GUIDELINE_STATUS_MAP).subscribe((results) => {\r\n      this.partGuidelineStatus = results;\r\n    });\r\n  }\r\n\r\n  private loadUser(): void {\r\n    if (!!this.sessionService.loggedUser) {\r\n      const login = this.sessionService.loggedUser.login;\r\n      this.pnFormService.findBidoUserByLogin(login).subscribe((user) => {\r\n        this.user = user;\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadIsController(): void {\r\n    this.isController = this.sessionService.hasUserRightByUseCase(\r\n      BidoFunctionTypeConstants.UC_DEA_DIA_CONTROLLER,\r\n      BidoFunctionTypeConstants.DEGREE_UPDATE\r\n    );\r\n  }\r\n\r\n  private loadSparePartClassDropdown(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.SPARE_PART_CLASS_CODE).subscribe((results) => {\r\n      this.sparePartClassOptions = results;\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { UserProfileManagementApi } from '../../../shared/api/user-profile-management.api';\r\nimport { BireActionTypeConstants } from '../../../shared/constants/bire-action-type-constants';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { SaveBirePartUpdateGuidelineInput } from '../../../shared/types/api-input-types/product-structure-management/save-bire-part-update-guideline-input.interface';\r\nimport { SavePartNumberInput } from '../../../shared/types/api-input-types/product-structure-management/save-part-number-input.interface';\r\nimport { BireMaintenanceProgramPnTableDTO } from '../../../shared/types/api-input-types/task-management/bire-maintenance-program-pn-table.inteface';\r\nimport { BirePartUpdateGuidelineDTOId } from '../../../shared/types/api-output-types/product-structure-management/bire-part-update-guideline-dto-id.interface';\r\nimport { BirePartUpdateGuidelineDTO } from '../../../shared/types/api-output-types/product-structure-management/bire-part-update-guideline-dto.interface';\r\nimport { BidoUserDTO } from '../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BireAttributeDTOId } from '../../../shared/types/api-types/bire-attribute-dto-id.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireItemDTO } from '../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BirePnAttributeDTO } from '../../../shared/types/api-types/bire-pn-attribute-dto.interface';\r\nimport { BirePnDTOId } from '../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BirePnMeasureDTO } from '../../../shared/types/api-types/bire-pn-measure-dto.interface';\r\nimport { BireUnitMeasureDTO } from '../../../shared/types/api-types/bire-unit-measure-dto.interface';\r\nimport { BireVersionPnDTO } from '../../../shared/types/api-types/bire-version-pn-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { FindBireEvolutionPnsByPnCodeDTO } from '../../../shared/types/api-types/find-bire-evolution-pns-by-pn-code-dto.interface';\r\nimport { FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO } from '../../../shared/types/api-types/find-bire-item-pn-evolutions-by-pn-code-or-pn-pn-code-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class PartNumberFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly userProfileManagementApi: UserProfileManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBirePn(pn: BirePnDTOId): Observable<BirePnDTO> {\r\n    return super.post<BirePnDTOId, BirePnDTO>(this.productStructureManagementApi.findBirePn, pn);\r\n  }\r\n\r\n  public findBirePnDocs(pn: BirePnDTOId): Observable<BireDocumentDTO[]> {\r\n    return super.post<BirePnDTOId, BireDocumentDTO[]>(this.productStructureManagementApi.findBirePnDocs, pn);\r\n  }\r\n\r\n  public findAllBireVariantVersions(): Observable<FamilyVariantDTO[]> {\r\n    return super.post<void, FamilyVariantDTO[]>(this.productStructureManagementApi.findAllBireVariantVersions);\r\n  }\r\n\r\n  public findAllBireUnitMeasures(): Observable<BireUnitMeasureDTO[]> {\r\n    return super.post<void, BireUnitMeasureDTO[]>(this.productStructureManagementApi.findAllBireUnitMeasures);\r\n  }\r\n\r\n  public savePnData(savePartNumberInput: SavePartNumberInput): Observable<string> {\r\n    return super.post<SavePartNumberInput, string>(\r\n      this.productStructureManagementApi.savePartNumber,\r\n      savePartNumberInput\r\n    );\r\n  }\r\n\r\n  // public upgradeBireEvolution(bireEvolutionDTO: BireEvolutionDTO, targetRevisionNumber: string): Observable<BireEvolutionDTO> {\r\n  //     const upgradeBireEvolutionInput: UpgradeBireEvolutionInput = {\r\n  //         bireEvolutionDTO: bireEvolutionDTO,\r\n  //         targetRevisionNumber : targetRevisionNumber\r\n  //     };\r\n  //     return super.post<UpgradeBireEvolutionInput, BireEvolutionDTO>\r\n  //         (this.productStructureManagementApi.upgradeBireEvolution, upgradeBireEvolutionInput);\r\n  // }\r\n\r\n  public findBireAttribute(attributeId: BireAttributeDTOId): Observable<BireAttributeDTO> {\r\n    return super.post<BireAttributeDTOId, BireAttributeDTO>(\r\n      this.productStructureManagementApi.findBireAttribute,\r\n      attributeId\r\n    );\r\n  }\r\n\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n\r\n  public findBireEvolutionPnsByPnCode(birePn: BirePnDTOId): Observable<FindBireEvolutionPnsByPnCodeDTO[]> {\r\n    return super.post<BirePnDTOId, FindBireEvolutionPnsByPnCodeDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionPnsByPnCode,\r\n      birePn\r\n    );\r\n  }\r\n\r\n  public findBireItemPnEvolutionsByPnCodeOrPnPnCode(\r\n    birePn: BirePnDTOId\r\n  ): Observable<FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO[]> {\r\n    return super.post<BirePnDTOId, FindBireItemPnEvolutionsByPnCodeOrPnPnCodeDTO[]>(\r\n      this.productStructureManagementApi.findBireItemPnEvolutionsByPnCodeOrPnPnCode,\r\n      birePn\r\n    );\r\n  }\r\n\r\n  public findBirePnMeasuresByPnCode(birePn: BirePnDTOId): Observable<BirePnMeasureDTO[]> {\r\n    return super.post<BirePnDTOId, BirePnMeasureDTO[]>(\r\n      this.productStructureManagementApi.findBirePnMeasuresByPnCode,\r\n      birePn\r\n    );\r\n  }\r\n\r\n  public findBirePnAttributesByPn(pnCode: string): Observable<BirePnAttributeDTO[]> {\r\n    const birePnId: BirePnDTOId = {\r\n      pnCode\r\n    };\r\n\r\n    return super.post<BirePnDTOId, BirePnAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBirePnAttributesByPn,\r\n      birePnId\r\n    );\r\n  }\r\n\r\n  public getFuncObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFuncObjectStatusMap');\r\n  }\r\n\r\n  public getObjectStatusMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getObjectStatusMap');\r\n  }\r\n\r\n  public getPnTraceabilityMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getPnTraceabilityMap');\r\n  }\r\n\r\n  public getRefMeasureCategoryMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getRefMeasureCategoryMap');\r\n  }\r\n\r\n  // Bind Items Table\r\n  public findBireItemsBySearchCriteria(pnCode: string): Observable<BireItemDTO[]> {\r\n    return super.post<string, BireItemDTO[]>(\r\n      this.productStructureManagementApi.findAllBireItemByPnCodeAndFamilyVariantAndItemNumberAndFunctionCode,\r\n      pnCode\r\n    );\r\n  }\r\n\r\n  public findBireItemsBySearchCriteriaPartNumber(\r\n    attribute: MapConstructor,\r\n    bireItemDTOCriteria: BireItemDTO,\r\n    pnCode: string\r\n  ): Observable<BireItemDTO[]> {\r\n    const criteria: FindBireItemsBySearchCriteriaInput = {\r\n      attribute,\r\n      bireItemDTOCriteria,\r\n      pnCode\r\n    };\r\n\r\n    return super.post<FindBireItemsBySearchCriteriaInput, BireItemDTO[]>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteriaPartNumber,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public getStructureTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getStructureTypeMap');\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCodeA(): Observable<LabelValue<string>[]> {\r\n    const item: string = BireActionTypeConstants.ACTION_TYPE_A;\r\n\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findBireActionTypesByActionTypeCodeB(): Observable<LabelValue<string>[]> {\r\n    const item: string = BireActionTypeConstants.ACTION_TYPE_B;\r\n\r\n    return super.post<string, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireActionTypesByActionTypeCode,\r\n      item\r\n    );\r\n  }\r\n\r\n  public findBireVersionPnsByPnCode(pnCode: string): Observable<BireVersionPnDTO[]> {\r\n    return super.post<string, BireVersionPnDTO[]>(\r\n      this.productStructureManagementApi.findBireVersionPnsByPnCode,\r\n      pnCode\r\n    );\r\n  }\r\n\r\n  public findBireMaintenancePlansByPn(pnCode: BirePnDTOId): Observable<BireMaintenanceProgramPnTableDTO[]> {\r\n    return super.post<BirePnDTOId, BireMaintenanceProgramPnTableDTO[]>(\r\n      this.taskManagementApi.findBireMaintenanceProgramByPn,\r\n      pnCode\r\n    );\r\n  }\r\n\r\n  public findQuantityUnitMap(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findQuantityUnitMap);\r\n  }\r\n\r\n  public saveBirePartUpdateGuideline(\r\n    saveInput: SaveBirePartUpdateGuidelineInput\r\n  ): Observable<BirePartUpdateGuidelineDTOId[]> {\r\n    return super.post<SaveBirePartUpdateGuidelineInput, BirePartUpdateGuidelineDTOId[]>(\r\n      this.productStructureManagementApi.saveBirePartUpdateGuideline,\r\n      saveInput\r\n    );\r\n  }\r\n\r\n  public findBirePartUpdateGuideline(birePnDTOId: BirePnDTOId): Observable<BirePartUpdateGuidelineDTO[]> {\r\n    return super.post<BirePnDTOId, BirePartUpdateGuidelineDTO[]>(\r\n      this.productStructureManagementApi.findBirePartUpdateGuideline,\r\n      birePnDTOId\r\n    );\r\n  }\r\n\r\n  public removeBirePartUpdateGuideline(input: BirePartUpdateGuidelineDTOId): Observable<void> {\r\n    return super.post<BirePartUpdateGuidelineDTOId, void>(\r\n      this.productStructureManagementApi.removeBirePartUpdateGuideline,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBidoUserByLogin(login: string): Observable<BidoUserDTO> {\r\n    return super.post<string, BidoUserDTO>(this.userProfileManagementApi.findUserByLogin, login);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"70\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".titlePopup\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".refMeasurementsManagement\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".counterCode\\\" | translate }}</label>\\r\\n\\r\\n              <div\\r\\n                class=\\\"form-control form-control-with-modal\\\"\\r\\n                [ngClass]=\\\"{ disabled: isReadOpenMode || isWriteOpenMode }\\\"\\r\\n              >\\r\\n                <div class=\\\"form-control-data\\\" (click)=\\\"showCounterCode()\\\">{{ currentRef.counterCode }}</div>\\r\\n\\r\\n                <div *ngIf=\\\"currentRef.counterCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                  <i\\r\\n                    class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    (click)=\\\"currentRef.counterCode = undefined\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n                <div class=\\\"btn-search-wrapper\\\">\\r\\n                  <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showCounterCode()\\\"></i>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyCode\\\" | translate }}</label>\\r\\n\\r\\n              <div\\r\\n                class=\\\"form-control form-control-with-modal\\\"\\r\\n                [ngClass]=\\\"{ disabled: isReadOpenMode || isWriteOpenMode }\\\"\\r\\n              >\\r\\n                <div class=\\\"form-control-data\\\" (click)=\\\"showFamilyCode()\\\">{{ familyCode }}</div>\\r\\n\\r\\n                <div *ngIf=\\\"familyCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                  <i\\r\\n                    class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    (click)=\\\"familyCode = undefined\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n                <div class=\\\"btn-search-wrapper\\\">\\r\\n                  <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showFamilyCode()\\\"></i>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".ratingCode\\\" | translate }}</label>\\r\\n\\r\\n              <div\\r\\n                class=\\\"form-control form-control-with-modal\\\"\\r\\n                [ngClass]=\\\"{ disabled: isReadOpenMode || isWriteOpenMode }\\\"\\r\\n              >\\r\\n                <div class=\\\"form-control-data\\\" (click)=\\\"searchRatingsCode()\\\">\\r\\n                  {{ currentRef.ratingCode }} <span *ngIf=\\\"ratingName\\\">- {{ ratingName }}</span>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"currentRef.ratingCode && !isWriteOpenMode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                  <i\\r\\n                    class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    (click)=\\\"currentRef.ratingCode = undefined; ratingName = undefined\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n                <div class=\\\"btn-search-wrapper\\\">\\r\\n                  <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"searchRatingsCode()\\\"></i>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".interventionOption\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"interventionOption\\\" [disabled]=\\\"isReadOpenMode\\\" />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".isUpdatable\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <p-checkbox\\r\\n                  class=\\\"aw-checkbox\\\"\\r\\n                  value=\\\"val1\\\"\\r\\n                  binary=\\\"true\\\"\\r\\n                  [(ngModel)]=\\\"isUpdatable\\\"\\r\\n                  [disabled]=\\\"isReadOpenMode\\\"\\r\\n                ></p-checkbox>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".tolerance\\\" | translate }}</label>\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input\\r\\n                  #tolerance=\\\"ngModel\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"aw-input\\\"\\r\\n                  [(ngModel)]=\\\"currentRef.tolerance\\\"\\r\\n                  [disabled]=\\\"isReadOpenMode\\\"\\r\\n                  [pKeyFilter]=\\\"inputValidationService.validatorOfNumber()\\\"\\r\\n                  [pValidateOnly]=\\\"true\\\"\\r\\n                />\\r\\n                <p-message\\r\\n                  *ngIf=\\\"tolerance.invalid && (tolerance.dirty || tolerance.touched)\\\"\\r\\n                  severity=\\\"error\\\"\\r\\n                  [text]=\\\"inputValidationService.formatOfNumber()\\\"\\r\\n                ></p-message>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group flex--1\\\"></div>\\r\\n\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sbNumber\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n                <div class=\\\"form-control-data\\\" (click)=\\\"showSbNumber()\\\">{{ currentRef.sb }}</div>\\r\\n\\r\\n                <div *ngIf=\\\"currentRef.sb\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                  <i\\r\\n                    class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    (click)=\\\"currentRef.sb = undefined\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n                <div class=\\\"btn-search-wrapper\\\">\\r\\n                  <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showSbNumber()\\\"></i>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group flex--1\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".limitDefinition\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">{{ getComponentName() + \\\".pnPotentialReferenceValue\\\" | translate }}</label>\\r\\n\\r\\n                <div class=\\\"form-control form-control-with-radiobutton\\\">\\r\\n                  <p-radioButton\\r\\n                    class=\\\"aw-radiobutton\\\"\\r\\n                    (onClick)=\\\"changeLimitValue()\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                    value=\\\"limitValue\\\"\\r\\n                    [(ngModel)]=\\\"optionLimit\\\"\\r\\n                    inputId=\\\"limitValue\\\"\\r\\n                  ></p-radioButton>\\r\\n\\r\\n                  <input\\r\\n                    type=\\\"text\\\"\\r\\n                    class=\\\"aw-input\\\"\\r\\n                    [(ngModel)]=\\\"currentRef.pnPotentialReferenceValue\\\"\\r\\n                    [disabled]=\\\"optionLimit !== 'limitValue' || isReadOpenMode\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">{{ getComponentName() + \\\".pnPotentialLimitDate\\\" | translate }}</label>\\r\\n\\r\\n                <div class=\\\"form-control form-control-with-radiobutton\\\">\\r\\n                  <p-radioButton\\r\\n                    class=\\\"aw-radiobutton\\\"\\r\\n                    (onClick)=\\\"changeLimitDate()\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode || currentRef.limitIsUpdatable\\\"\\r\\n                    value=\\\"limitDate\\\"\\r\\n                    [(ngModel)]=\\\"optionLimit\\\"\\r\\n                    inputId=\\\"limitDate\\\"\\r\\n                  ></p-radioButton>\\r\\n\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                    [disabled]=\\\"optionLimit === 'limitValue' || currentRef.limitIsUpdatable || isReadOpenMode\\\"\\r\\n                    [(ngModel)]=\\\"currentRef.pnPotentialLimitDate\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--3\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">{{ getComponentName() + \\\".limitIsUpdatable\\\" | translate }}</label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-checkbox\\r\\n                    class=\\\"aw-checkbox\\\"\\r\\n                    (onChange)=\\\"checkLimitUpdatable()\\\"\\r\\n                    value=\\\"val1\\\"\\r\\n                    binary=\\\"true\\\"\\r\\n                    [(ngModel)]=\\\"currentRef.limitIsUpdatable\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                  ></p-checkbox>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--2\\\" [ngClass]=\\\"{ required: !isReadOpenMode && currentRef.limitIsUpdatable }\\\">\\r\\n                <label class=\\\"form-label\\\">{{ getComponentName() + \\\".limitDescription\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input\\r\\n                    type=\\\"text\\\"\\r\\n                    class=\\\"aw-input\\\"\\r\\n                    [(ngModel)]=\\\"currentRef.limitDescription\\\"\\r\\n                    [disabled]=\\\"isReadOpenMode\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group flex--2\\\"></div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onHide()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      [disabled]=\\\"\\r\\n        currentRef.counterCode === null ||\\r\\n        currentRef.counterCode === undefined ||\\r\\n        currentRef.counterCode.trim() === '' ||\\r\\n        familyCode === null ||\\r\\n        familyCode === undefined ||\\r\\n        familyCode.trim() === ''\\r\\n      \\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showFamilyCodeDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showFamilyCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataFamilyCode\\\"\\r\\n  (onSelected)=\\\"setSelectedFamilyCode($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showCounterCodeDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showCounterCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataCounterCode\\\"\\r\\n  (onSelected)=\\\"setSelectedCounterCode($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showRatingsCodeDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showRatingsCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataRatingsCode\\\"\\r\\n  (onSelected)=\\\"setSelectedRatingsCode($event)\\\"\\r\\n></aw-dialog-table>\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showServiceBulletinDialog\\\"\\r\\n  [keyMap]=\\\"keyMap\\\"\\r\\n  [(display)]=\\\"showServiceBulletinDialog\\\"\\r\\n  [data]=\\\"dialogTableDataServiceBulletin\\\"\\r\\n  (onSelected)=\\\"setSelectedServiceBulletin($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { DialogTableData } from '../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { BidoFunctionTypeConstants } from '../../../../shared/constants/bido-function-type-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../shared/enums/table-selection-mode.enum';\r\nimport { InputValidationService } from '../../../../shared/services/input-validation.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { FindBireRatingsBySearchCriteriaInput } from '../../../../shared/types/api-input-types/product-structure-management/find-bire-ratings-by-search-criteria-input.interface';\r\nimport { BireFamilyDTO } from '../../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { BirePnMeasureDTO } from '../../../../shared/types/api-types/bire-pn-measure-dto.interface';\r\nimport { BireRatingDTO } from '../../../../shared/types/api-types/bire-rating-dto.interface';\r\nimport { BireSbDTOId } from '../../../../shared/types/api-types/bire-sb-dto-id.interface';\r\nimport { BireSbDTO } from '../../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { BireVariantDTO } from '../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\n\r\nimport { ReferenceMeasurementsPopupFormService } from './ref-measurements-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-ref-measurements-popup-form',\r\n  templateUrl: './ref-measurements-popup-form.component.html'\r\n})\r\nexport class ReferenceMeasurementsPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data')\r\n  public componentData: PopupEntry<BirePnMeasureDTO> | null;\r\n\r\n  @Input()\r\n  public isNewRef: boolean;\r\n\r\n  @Input()\r\n  public openMode: ComponentOpenMode;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BirePnMeasureDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BirePnMeasureDTO>;\r\n\r\n  public displayDialog: boolean;\r\n  public newRef: boolean;\r\n  public isEditable: boolean;\r\n  public contentTable: BirePnMeasureDTO[];\r\n  public currentRef: BirePnMeasureDTO;\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  public familyCode: string;\r\n  public pnFamilyCode?: string;\r\n  public optionLimit: string;\r\n  public ratingName: string | undefined;\r\n  public interventionOption: string;\r\n  public isUpdatable: boolean;\r\n  public isRatingRequired: boolean;\r\n\r\n  public dialogTableDataFamilyCode: DialogTableData<BireFamilyDTO>;\r\n  public showFamilyCodeDialog: boolean;\r\n\r\n  public dialogTableDataCounterCode: DialogTableData<BireMeasureReferenceDTO>;\r\n  public showCounterCodeDialog: boolean;\r\n\r\n  public dialogTableDataRatingsCode: DialogTableData<BireRatingDTO>;\r\n  public showRatingsCodeDialog: boolean;\r\n\r\n  public dialogTableDataServiceBulletin: DialogTableData<BireSbDTO>;\r\n  public showServiceBulletinDialog: boolean;\r\n\r\n  public findBireRatingsBySearchCriteriaInput: FindBireRatingsBySearchCriteriaInput;\r\n\r\n  public constructor(\r\n    public refMeasurementsPopupFormService: ReferenceMeasurementsPopupFormService,\r\n    public sessionService: SessionService,\r\n    private readonly messageService: MessageService,\r\n    public inputValidationService: InputValidationService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ReferenceMeasurementsPopupDialog');\r\n\r\n    this.onCreate = new EventEmitter<BirePnMeasureDTO>();\r\n    this.onUpdate = new EventEmitter<BirePnMeasureDTO>();\r\n\r\n    this.displayDialog = false;\r\n    this.showFamilyCodeDialog = false;\r\n    this.showCounterCodeDialog = false;\r\n    this.showRatingsCodeDialog = false;\r\n    this.showServiceBulletinDialog = false;\r\n    this.isRatingRequired = false;\r\n    this.newRef = false;\r\n    this.familyCode = '';\r\n    this.pnFamilyCode = undefined;\r\n    this.optionLimit = 'limitValue';\r\n    this.ratingName = '';\r\n    this.interventionOption = '';\r\n    this.isUpdatable = false;\r\n\r\n    this.contentTable = [];\r\n    this.currentRef = {};\r\n    this.keyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.keyMap.set('familyFunction', this.refMeasurementsPopupFormService.getFamilyFunctionMap());\r\n    this.keyMap.set('evolutionType', this.refMeasurementsPopupFormService.getEvolutionTypeMap());\r\n    this.keyMap.set('evolutionCompliance', this.refMeasurementsPopupFormService.getComplianceMap());\r\n    this.keyMap.set('evolutionLevel', this.refMeasurementsPopupFormService.getEvolutionLevelMap());\r\n    this.keyMap.set('structureType', this.refMeasurementsPopupFormService.getStructureTypeMap());\r\n    this.keyMap.set('mrCategory', this.refMeasurementsPopupFormService.getRefMeasureCategoryMap());\r\n\r\n    this.searchFamilyCode();\r\n    this.searchCounterCode();\r\n    this.searchRatingsCode();\r\n    this.searchServiceBulletin();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {\r\n      this.currentRef = this.componentData.object as BirePnMeasureDTO;\r\n      if (!!this.componentData.object) {\r\n        this.pnFamilyCode = this.componentData.object.familyCode;\r\n      }\r\n      const selRow = this.componentData.selectedRow;\r\n      if (!!selRow && !!selRow[0]) {\r\n        const interventionOption = selRow[0].interventionOptions;\r\n        const isUpdatable = selRow[0].valueResettable;\r\n        if (!!interventionOption) {\r\n          this.interventionOption = interventionOption;\r\n        }\r\n        if (!!isUpdatable) {\r\n          this.isUpdatable = isUpdatable;\r\n        }\r\n      }\r\n      if (!!this.componentData.selectedRow && this.componentData.selectedRow.length === 0) {\r\n        this.isEditable = true;\r\n      } else {\r\n        this.isEditable = false;\r\n        this.loadPopup();\r\n      }\r\n\r\n      this.setFindBireRatingsBySearchCriteriaInput();\r\n    }\r\n  }\r\n\r\n  public loadPopup() {\r\n    this.familyCode = `${this.currentRef.familyCode}-${this.currentRef.structureType}`;\r\n    if (this.currentRef.pnPotentialLimitDate) {\r\n      this.optionLimit = 'limitDate';\r\n      this.currentRef.pnPotentialLimitDate = new Date(this.currentRef.pnPotentialLimitDate);\r\n    } else {\r\n      this.optionLimit = 'limitValue';\r\n    }\r\n\r\n    const bireRatingDTO: BireRatingDTO = {\r\n      familyCode: this.pnFamilyCode,\r\n      ratingCode: this.currentRef && this.currentRef.ratingCode,\r\n      ratingName: undefined,\r\n      structureType: this.currentRef && this.currentRef.structureType\r\n    };\r\n    const findBireRatingsBySearchCriteriaInput: FindBireRatingsBySearchCriteriaInput = {\r\n      pnCode: this.currentRef.pnCode,\r\n      variantCode: undefined,\r\n      useCaseCode: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      bireRatingDTOCriteria: bireRatingDTO\r\n    };\r\n    this.refMeasurementsPopupFormService\r\n      .findBireRatingsBySearchCriteria(findBireRatingsBySearchCriteriaInput)\r\n      .subscribe(\r\n        (result) => {\r\n          if (result.list.length > 0) {\r\n            this.ratingName = result.list[0].ratingName;\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetRatings'));\r\n        }\r\n      );\r\n  }\r\n\r\n  public onShow() {\r\n    this.displayDialog = true;\r\n  }\r\n\r\n  public onHide(): void {\r\n    this.newRef = false;\r\n    this.currentRef = {};\r\n    this.display = false;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    this.currentRef.interventionOptions =\r\n      (this.interventionOption != undefined ? this.interventionOption : '') + ';' + String(this.isUpdatable);\r\n    if (\r\n      !!this.currentRef &&\r\n      this.currentRef.familyCode &&\r\n      this.currentRef.structureType &&\r\n      this.currentRef.counterCode\r\n    ) {\r\n      if ((this.currentRef.limitIsUpdatable && this.currentRef.limitDescription) || !this.currentRef.limitIsUpdatable) {\r\n        this.currentRef.ratingCode = this.currentRef.ratingCode ? this.currentRef.ratingCode : '_';\r\n        if (this.isNewRef) {\r\n          this.onCreate.emit(this.currentRef);\r\n          this.display = false;\r\n        } else {\r\n          this.onUpdate.emit(this.currentRef);\r\n          this.display = false;\r\n        }\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('descriptionLimitMissing'));\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('missingFields'));\r\n    }\r\n  }\r\n\r\n  public searchFamilyCode() {\r\n    const test: TableColumn[] = [\r\n      { field: 'familyCode', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyName', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'structureType', width: '180px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyFunction', width: '180px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.dialogTableDataFamilyCode = {\r\n      componentId: 'FamilyCodePopup',\r\n      tableCols: test,\r\n      tableRows: this.refMeasurementsPopupFormService.findAllBireFamilys(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  public searchCounterCode() {\r\n    const counterTable: TableColumn[] = [\r\n      { field: 'counterCode', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'unitCode', width: '100px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'mrCategory', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'counterRemarks', width: '250px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'minRemainPercent', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'isCounter', width: '70px', filterMode: TableColumnFilterMode.Tricheckbox, alignment: 'center' },\r\n      { field: 'propagationAllowed', width: '70px', filterMode: TableColumnFilterMode.Tricheckbox, alignment: 'center' }\r\n    ];\r\n    const bireMeasureReferenceDTO: BireMeasureReferenceDTO = {};\r\n    this.dialogTableDataCounterCode = {\r\n      componentId: 'CounterCodePopup',\r\n      tableCols: counterTable,\r\n      tableRows: this.refMeasurementsPopupFormService\r\n        .findBireMeasureReferencesBySearchCriteria(bireMeasureReferenceDTO)\r\n        .pipe(\r\n          map((results) => ({\r\n            list: results,\r\n            moreResults: false\r\n          }))\r\n        ),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  public searchRatingsCode() {\r\n    if (this.isCreateOpenMode) {\r\n      this.showRatingsCodeDialog = true;\r\n    } else {\r\n      this.showRatingsCodeDialog = false;\r\n    }\r\n    const ratingTable: TableColumn[] = [\r\n      { field: 'ratingCode', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'ratingName', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'familyCode', width: '150px', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'structureType', width: '150px', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n    this.setFindBireRatingsBySearchCriteriaInput();\r\n    this.dialogTableDataRatingsCode = {\r\n      componentId: 'RatingCodePopup',\r\n      tableCols: ratingTable,\r\n      tableRows: this.refMeasurementsPopupFormService.findBireRatingsBySearchCriteria(\r\n        this.findBireRatingsBySearchCriteriaInput\r\n      ),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  public searchServiceBulletin() {\r\n    const sbTable: TableColumn[] = [\r\n      { field: 'sbNumber', width: '10%', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbRevisionNumber', width: '8%', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbTitle', width: '20%', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'statusState', width: '10%', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbType', width: '10%', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbCompliance', width: '10%', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbPublicationDate', width: '16%', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbEffectiveDate', width: '16%', filterMode: TableColumnFilterMode.Input, alignment: 'left' }\r\n    ];\r\n    this.dialogTableDataServiceBulletin = {\r\n      componentId: 'ServiceBulletinPopup',\r\n      tableCols: sbTable,\r\n      tableRows: this.refMeasurementsPopupFormService.findBireSbsBySbCriteria(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  private setFindBireRatingsBySearchCriteriaInput() {\r\n    const bireRatingDTO: BireRatingDTO = {\r\n      familyCode: this.currentRef && this.currentRef.familyCode,\r\n      ratingCode: undefined,\r\n      ratingName: undefined,\r\n      structureType: this.currentRef && this.currentRef.structureType\r\n    };\r\n    this.findBireRatingsBySearchCriteriaInput = {\r\n      pnCode: this.currentRef.pnCode,\r\n      variantCode: undefined,\r\n      useCaseCode: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      bireRatingDTOCriteria: bireRatingDTO\r\n    };\r\n    this.refMeasurementsPopupFormService\r\n      .findBireRatingsBySearchCriteria(this.findBireRatingsBySearchCriteriaInput)\r\n      .subscribe((result) => {\r\n        this.isRatingRequired = result && result.list.length > 0;\r\n      });\r\n  }\r\n\r\n  public showFamilyCode() {\r\n    if (this.isCreateOpenMode) {\r\n      this.showFamilyCodeDialog = true;\r\n    } else {\r\n      this.showFamilyCodeDialog = false;\r\n    }\r\n  }\r\n\r\n  public showSbNumber() {\r\n    if (this.isReadOpenMode) {\r\n      this.showServiceBulletinDialog = false;\r\n    } else {\r\n      this.showServiceBulletinDialog = true;\r\n    }\r\n  }\r\n\r\n  public showCounterCode() {\r\n    if (this.isCreateOpenMode) {\r\n      this.showCounterCodeDialog = true;\r\n    } else {\r\n      this.showCounterCodeDialog = false;\r\n    }\r\n  }\r\n\r\n  public setSelectedFamilyCode(selectedObject: BireVariantDTO) {\r\n    if (!!selectedObject) {\r\n      this.currentRef.familyCode = selectedObject.familyCode;\r\n      this.currentRef.structureType = selectedObject.structureType;\r\n      this.familyCode = `${selectedObject.familyCode}-${selectedObject.structureType}`;\r\n    }\r\n    this.setFindBireRatingsBySearchCriteriaInput();\r\n    this.showFamilyCodeDialog = false;\r\n    this.ratingName = '';\r\n    this.currentRef.ratingCode = '';\r\n  }\r\n\r\n  public setSelectedCounterCode(selectedObject: BireMeasureReferenceDTO) {\r\n    if (selectedObject) {\r\n      this.currentRef.counterCode = selectedObject.counterCode;\r\n    }\r\n    this.showCounterCodeDialog = false;\r\n  }\r\n\r\n  public setSelectedRatingsCode(selectedObject: BireRatingDTO) {\r\n    if (selectedObject) {\r\n      this.currentRef.ratingCode = selectedObject.ratingCode;\r\n      if (!!selectedObject.ratingName) {\r\n        this.ratingName = selectedObject.ratingName;\r\n      }\r\n    }\r\n    this.showCounterCodeDialog = false;\r\n  }\r\n\r\n  public setSelectedServiceBulletin(selectedObject: BireSbDTOId) {\r\n    if (selectedObject) {\r\n      this.currentRef.sb = `${selectedObject.sbNumber}:${selectedObject.sbRevisionNumber}`;\r\n    }\r\n    this.showServiceBulletinDialog = false;\r\n  }\r\n\r\n  public changeLimitDate() {\r\n    this.currentRef.pnPotentialReferenceValue = '';\r\n  }\r\n\r\n  public changeLimitValue() {\r\n    this.currentRef.pnPotentialLimitDate = undefined;\r\n  }\r\n\r\n  public checkLimitUpdatable() {\r\n    this.optionLimit = 'limitValue';\r\n    this.currentRef.pnPotentialReferenceValue = '0';\r\n    this.currentRef.pnPotentialLimitDate = undefined;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { FindBireRatingsBySearchCriteriaInput } from '../../../../shared/types/api-input-types/product-structure-management/find-bire-ratings-by-search-criteria-input.interface';\r\nimport { FindBireSbsBySbCriteriaInput } from '../../../../shared/types/api-input-types/product-structure-management/find-bire-sbs-by-sb-criteria-input.interface';\r\nimport { BireEvolutionSbDTOId } from '../../../../shared/types/api-types/bire-evolution-sb-dto-id.interface';\r\nimport { BireFamilyDTO } from '../../../../shared/types/api-types/bire-family-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { BireRatingDTO } from '../../../../shared/types/api-types/bire-rating-dto.interface';\r\nimport { BireSbDTO } from '../../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ReferenceMeasurementsPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findAllBireFamilys(): Observable<SearchResultsDTO<BireFamilyDTO>> {\r\n    return super.post<void, SearchResultsDTO<BireFamilyDTO>>(this.productStructureManagementApi.findAllBireFamilys);\r\n  }\r\n\r\n  public findBireMeasureReferencesBySearchCriteria(\r\n    bireMeasureReferenceDTO: BireMeasureReferenceDTO\r\n  ): Observable<BireMeasureReferenceDTO[]> {\r\n    return super.post<BireMeasureReferenceDTO, BireMeasureReferenceDTO[]>(\r\n      this.productStructureManagementApi.findBireMeasureReferencesBySearchCriteria,\r\n      bireMeasureReferenceDTO\r\n    );\r\n  }\r\n\r\n  public findBireRatingsBySearchCriteria(\r\n    findBireRatingsBySearchCriteriaInput: FindBireRatingsBySearchCriteriaInput\r\n  ): Observable<SearchResultsDTO<BireRatingDTO>> {\r\n    return super.post<FindBireRatingsBySearchCriteriaInput, SearchResultsDTO<BireRatingDTO>>(\r\n      this.productStructureManagementApi.findBireRatingsBySearchCriteria,\r\n      findBireRatingsBySearchCriteriaInput\r\n    );\r\n  }\r\n  public findBireSbsBySbCriteria(): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    const bireSbDTO: BireSbDTO = {\r\n      sbNumber: undefined\r\n    };\r\n    const criteria: FindBireSbsBySbCriteriaInput = {\r\n      bireSbDTO,\r\n      familyCode: undefined,\r\n      structureType: undefined,\r\n      variantCode: undefined,\r\n      publicationDateFrom: undefined,\r\n      publicationDateTo: undefined,\r\n      effectiveDateFrom: undefined,\r\n      effectiveDateTo: undefined\r\n    };\r\n\r\n    return super.post<FindBireSbsBySbCriteriaInput, SearchResultsDTO<BireEvolutionSbDTOId>>(\r\n      this.productStructureManagementApi.findBireSbsBySbCriteria,\r\n      criteria\r\n    );\r\n  }\r\n  public findAllBireInterdependences(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireInterdependences);\r\n  }\r\n\r\n  // public findBireMeasureReferencesBySearchCriteria(familyCode: string, structureType: string,\r\n  //     variantCode: string): Observable<BireMeasureReferenceDTO[]> {\r\n  //     const bireEvolutionDTO: BireEvolutionDTO = {};\r\n  //     const params: FindBireEvolutionsByEvolutionCriteriaInput = {\r\n  //         bireEvolutionDTO: bireEvolutionDTO,\r\n  //         familyCode: familyCode,\r\n  //         structureType: structureType,\r\n  //         variantCode: variantCode\r\n  //     };\r\n  //     const test: Observable<BireEvolutionDTO[]> = super.post<FindBireEvolutionsByEvolutionCriteriaInput,\r\n  //         BireMeasureReferenceDTO[]>(this.productStructureManagementApi.findBireEvolutionsByEvolutionCriteria, params);\r\n  //     return test;\r\n  // }\r\n\r\n  public getFamilyFunctionMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getFamilyFunctionMap');\r\n  }\r\n\r\n  public getEvolutionTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionTypeMap');\r\n  }\r\n\r\n  public getComplianceMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getComplianceMap');\r\n  }\r\n\r\n  public getEvolutionLevelMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getEvolutionLevelMap');\r\n  }\r\n\r\n  public getStructureTypeMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getStructureTypeMap');\r\n  }\r\n\r\n  public getRefMeasureCategoryMap(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue('getRefMeasureCategoryMap');\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewPN()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertyVariant\\\"\\r\\n                        [(ngModel)]=\\\"familyVariant\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".pnCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.pnCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".designation\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.articleDesignation\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".type\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"pnTypes\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.pnType\\\"\\r\\n                        [showClear]=\\\"false\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".statusState\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"propertyStatus\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.statusState\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        (keyup.enter)=\\\"search()\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\"></div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"advanced-criteria\\\" [ngClass]=\\\"{ 'display--none': !showAdvancedCriteria }\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\">\\r\\n                        {{ componentData.componentId + \\\".itemFamilyCode\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <p-dropdown\\r\\n                          class=\\\"aw-dropdown fixed-width\\\"\\r\\n                          [showClear]=\\\"true\\\"\\r\\n                          placeholder=\\\"&nbsp;\\\"\\r\\n                          [(ngModel)]=\\\"itemFamilyCode\\\"\\r\\n                          [options]=\\\"itemFamilyCodeList\\\"\\r\\n                          (keyup.enter)=\\\"search()\\\"\\r\\n                        ></p-dropdown>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"display--flex-row flex--2\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".chapter\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" maxlength=\\\"2\\\" [(ngModel)]=\\\"chapter\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".section\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" maxlength=\\\"2\\\" [(ngModel)]=\\\"section\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".subject\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" maxlength=\\\"2\\\" [(ngModel)]=\\\"subject\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".sheet\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" maxlength=\\\"5\\\" [(ngModel)]=\\\"sheet\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".marks\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input class=\\\"aw-input\\\" type=\\\"text\\\" maxlength=\\\"5\\\" [(ngModel)]=\\\"mark\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"display--flex-row flex--2\\\">\\r\\n                      <div class=\\\"display--flex-row flex--2\\\" *ngIf=\\\"sessionService.isSpecificMHIAEL\\\">\\r\\n                        <div class=\\\"form-group\\\"></div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ componentData.componentId + \\\".serializedPart\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-checkbox binary=\\\"true\\\" class=\\\"aw-checkbox\\\" [(ngModel)]=\\\"isSerialized\\\"></p-checkbox>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".followed\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-checkbox binary=\\\"true\\\" class=\\\"aw-checkbox\\\" [(ngModel)]=\\\"followed\\\"></p-checkbox>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".testable\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-checkbox binary=\\\"true\\\" class=\\\"aw-checkbox\\\" [(ngModel)]=\\\"testable\\\"></p-checkbox>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".slave\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-checkbox binary=\\\"true\\\" class=\\\"aw-checkbox\\\" [(ngModel)]=\\\"slave\\\"></p-checkbox>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".minor\\\" | translate }} </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-checkbox binary=\\\"true\\\" class=\\\"aw-checkbox\\\" [(ngModel)]=\\\"minor\\\"></p-checkbox>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\"></div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"row\\\"></div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <button mat-button (click)=\\\"showAdvancedCriteria = !showAdvancedCriteria\\\">\\r\\n                    <ng-container *ngIf=\\\"showAdvancedCriteria\\\">\\r\\n                      <mat-icon>remove</mat-icon>\\r\\n                      {{ \\\"global.collapseCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"!showAdvancedCriteria\\\">\\r\\n                      <mat-icon>add</mat-icon>\\r\\n                      {{ \\\"global.expandCriteria\\\" | translate }}\\r\\n                    </ng-container>\\r\\n                  </button>\\r\\n\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{\\r\\n                    partNumberTableDataSource ? partNumberTableDataSource.dataCount : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"partNumberTableDataSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"\\r\\n                      partNumberTableDataSource &&\\r\\n                      partNumberTableDataSource.hasData &&\\r\\n                      !partNumberTableDataSource.hasDataSelection\\r\\n                    \\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && partNumberTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"deleteSelectedPN()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"partNumberTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedPN()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template columnDef=\\\"pnCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <a (click)=\\\"openPartNumberScreen(rowData['pnCode'])\\\"> {{ rowData[\\\"pnCode\\\"] }}</a>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template columnDef=\\\"statusState\\\" let-rowData=\\\"rowData\\\">\\r\\n                  {{ statusDictionary[rowData.statusState] }}\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { MenuItem } from 'primeng/api';\r\nimport { Table } from 'primeng/table';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BirePnDTOId } from '../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { LabelValueUtils } from '../../../shared/utils/label-value-utils';\r\n\r\nimport { PartNumberSearchService } from './part-number-search.service';\r\n\r\ninterface SearchResultsExport {\r\n  pnCode?: string;\r\n  articleDesignation?: string;\r\n  manufacturerOtanCode?: string;\r\n  otanPnReference?: string;\r\n  quantityUnit?: string;\r\n  statusState?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-part-number-search',\r\n  templateUrl: './part-number-search.component.html'\r\n})\r\nexport class PartNumberSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  private static readonly TESTABLE: number = 14;\r\n  private static readonly MINOR: number = 15;\r\n  private static readonly SLAVE: number = 16;\r\n  private static readonly FOLLOWED: number = 17;\r\n\r\n  public exportMethods: MenuItem[];\r\n  public selectedParts: BirePnDTO[];\r\n\r\n  public partNumberTableDataSource: TableDataSource<BirePnDTO>;\r\n  public searchObject: BirePnDTO;\r\n  public familyVariantMap: Map<LabelValue<string>, FamilyVariantDTO>;\r\n  public pnTypes: LabelValue<string>[];\r\n  public itemFamilyCodeList: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public statusDictionary: { [value: string]: string };\r\n  public testable: boolean;\r\n  public minor: boolean;\r\n  public slave: boolean;\r\n  public followed: boolean;\r\n\r\n  public familyVariant: string | undefined;\r\n  public pnType: string;\r\n  public chapter: string | undefined;\r\n  public section: string | undefined;\r\n  public subject: string | undefined;\r\n  public sheet: string | undefined;\r\n  public mark: string | undefined;\r\n  public itemFamilyCode: string | undefined;\r\n  public isSerialized: boolean;\r\n  public attributeMap: Object;\r\n  public attributesMap: Map<number, boolean>;\r\n  public statusState: string;\r\n  public propertyVariant: LabelValue<string>[];\r\n  private readonly resultsTableExportName: string;\r\n  public isLoading: boolean;\r\n  public showAdvancedCriteria: boolean;\r\n\r\n  public component: typeof PartNumberSearchComponent;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly partNumberSearchService: PartNumberSearchService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly exportService: ExportService,\r\n    private readonly propertiesService: PropertiesService,\r\n    public sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.searchObject = {};\r\n    this.exportMethods = [];\r\n    this.resultsTableExportName = 'part-number-list';\r\n\r\n    this.component = PartNumberSearchComponent;\r\n    this.familyVariantMap = new Map<LabelValue<string>, FamilyVariantDTO>();\r\n    this.propertyVariant = [];\r\n    this.familyVariant = undefined;\r\n    this.searchObject.pnType = AWPropertiesConstants.PN_TYPE_PART_KEY;\r\n    this.isLoading = false;\r\n    this.showAdvancedCriteria = false;\r\n    this.initMhiaelData();\r\n    this.initPartNumberTableDataSource();\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      this.loadDropDownLists();\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'PartNumberSearchComponent';\r\n  }\r\n\r\n  private setAttributeDTO() {\r\n    this.attributesMap = new Map<number, boolean>();\r\n    if (this.testable) {\r\n      this.attributesMap.set(PartNumberSearchComponent.TESTABLE, this.testable);\r\n    }\r\n    if (this.minor) {\r\n      this.attributesMap.set(PartNumberSearchComponent.MINOR, this.minor);\r\n    }\r\n    if (this.slave) {\r\n      this.attributesMap.set(PartNumberSearchComponent.SLAVE, this.slave);\r\n    }\r\n    if (this.followed) {\r\n      this.attributesMap.set(PartNumberSearchComponent.FOLLOWED, this.followed);\r\n    }\r\n\r\n    const attributesConvMap = {};\r\n\r\n    if (this.attributesMap.size !== 0) {\r\n      this.attributesMap.forEach((value: boolean, key: number) => {\r\n        attributesConvMap[key] = value;\r\n      });\r\n      if (Object.keys(attributesConvMap).length > 0) {\r\n        this.attributeMap = { ...attributesConvMap };\r\n      }\r\n    }\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n\r\n    this.loadDropDownLists();\r\n  }\r\n\r\n  public initPartNumberTableDataSource(): void {\r\n    this.partNumberTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        { field: 'pnCode', translateKey: this.getTranslateKey('pnCode') },\r\n        { field: 'articleDesignation', translateKey: this.getTranslateKey('articleDesignation') },\r\n        { field: 'manufacturerOtanCode', translateKey: this.getTranslateKey('manufacturerOtanCode') },\r\n        { field: 'otanPnReference', translateKey: this.getTranslateKey('otanPnReference') },\r\n        { field: 'pnType', translateKey: this.getTranslateKey('type') },\r\n        { field: 'quantityUnit', translateKey: this.getTranslateKey('quantityUnit') },\r\n        { field: 'statusState', translateKey: this.getTranslateKey('statusState') }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public deleteSelectedPN(): void {\r\n    const partialMessageKey =\r\n      this.partNumberTableDataSource.dataSelection.length > 1 ? 'confirmDeleteSelectedPNs' : 'confirmDeleteSelectedPN';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        const partsId: BirePnDTOId[] = [];\r\n        this.partNumberTableDataSource.dataSelection.forEach((part) => {\r\n          if (part && part.pnCode) {\r\n            const partId: BirePnDTOId = {\r\n              pnCode: part.pnCode\r\n            };\r\n            partsId.push(partId);\r\n          }\r\n        });\r\n        this.partNumberSearchService.removeBirePn(partsId).subscribe(\r\n          (result) => {\r\n            if (result) {\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeletePN'));\r\n              this.partNumberTableDataSource.deleteDataSelection();\r\n            } else {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeletePN'));\r\n            }\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeletePN'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public openNewPN(): void {\r\n    this.openPN(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public openPartNumberScreen(pnCode: string): void {\r\n    this.openPN(pnCode, ComponentOpenMode.Read);\r\n  }\r\n\r\n  public openSelectedPN(): void {\r\n    this.partNumberTableDataSource.dataSelection.forEach((pn) => {\r\n      if (pn && pn.pnCode) {\r\n        this.openPN(pn.pnCode, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {};\r\n    this.searchObject.pnType = AWPropertiesConstants.PN_TYPE_PART_KEY;\r\n    this.familyVariant = undefined;\r\n    this.chapter = undefined;\r\n    this.subject = undefined;\r\n    this.sheet = undefined;\r\n    this.mark = undefined;\r\n    this.section = undefined;\r\n    this.itemFamilyCode = undefined;\r\n    this.initMhiaelData();\r\n  }\r\n\r\n  public search(): void {\r\n    if (this.sessionService.isSpecificMHIAEL) {\r\n      this.setAttributeDTO();\r\n    }\r\n    let familyCode;\r\n    let structureType;\r\n    let variantCode;\r\n    this.isLoading = true;\r\n    if (this.familyVariant) {\r\n      let familyVariantDTO: FamilyVariantDTO = {};\r\n      this.familyVariantMap.forEach((variantElement) => {\r\n        if (!!variantElement.labelValueDTO && variantElement.labelValueDTO.value === this.familyVariant) {\r\n          familyVariantDTO = variantElement;\r\n        }\r\n      });\r\n      familyCode = familyVariantDTO.familyCode;\r\n      structureType = familyVariantDTO.structureType;\r\n      variantCode = familyVariantDTO.variantCode;\r\n    }\r\n    this.partNumberSearchService\r\n      .findBirePnsBySearchCriteria(\r\n        this.searchObject,\r\n        familyCode,\r\n        structureType,\r\n        variantCode,\r\n        this.chapter,\r\n        this.section,\r\n        this.subject,\r\n        this.sheet,\r\n        this.mark,\r\n        this.pnType,\r\n        this.itemFamilyCode,\r\n        this.isSerialized,\r\n        this.attributeMap\r\n      )\r\n      .pipe(\r\n        finalize(() => {\r\n          this.isLoading = false;\r\n        })\r\n      )\r\n      .subscribe(\r\n        (results) => {\r\n          if (results && results.list) {\r\n            results.list.forEach((birePn) => {\r\n              LabelValueUtils.stringValueToLabel(birePn, 'pnType', this.pnTypes);\r\n            });\r\n            this.partNumberTableDataSource.setData(results.list);\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetResults'));\r\n        }\r\n      );\r\n  }\r\n\r\n  private loadDropDownLists(): void {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n    this.statusDictionary = {};\r\n    this.partNumberSearchService.getFamilyVariant(familyVariantInput).subscribe(\r\n      (results) => {\r\n        const list = new Array<LabelValue<string>>();\r\n        results.forEach((variantElement) => {\r\n          if (!!variantElement.labelValueDTO) {\r\n            list.push(variantElement.labelValueDTO);\r\n            this.familyVariantMap.set(variantElement.labelValueDTO, variantElement);\r\n          }\r\n        });\r\n        this.propertyVariant = list;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.ITEM_FAMILY_CODE_MAP).subscribe(\r\n      (results) => {\r\n        this.itemFamilyCodeList = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.ENGINEERING_PN_TYPES_MAP).subscribe(\r\n      (results) => {\r\n        this.pnTypes = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.FUNC_OBJECT_STATUS_MAP).subscribe(\r\n      (results) => {\r\n        this.propertyStatus = results;\r\n        this.fillStatusDictionary(results);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.OBJECT_STATUS_MAP).subscribe(\r\n      (results) => {\r\n        this.fillStatusDictionary(results);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private fillStatusDictionary(references: LabelValue<string>[]) {\r\n    references.forEach((lv) => (this.statusDictionary[lv.value] = lv.label));\r\n  }\r\n\r\n  private openPN(objectId: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.PartNumberFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'PartNumberFormComponent',\r\n      objectId,\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    this.partNumberTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  public save() {\r\n    // TODO\r\n  }\r\n\r\n  public exportTable(): void {\r\n    if (!!this.componentData) {\r\n      const exportList: SearchResultsExport[] = this.partNumberTableDataSource.dataSrc.map((row) => ({\r\n        pnCode: row.pnCode,\r\n        articleDesignation: row.articleDesignation,\r\n        manufacturerOtanCode: row.manufacturerOtanCode,\r\n        otanPnReference: row.otanPnReference,\r\n        quantityUnit: row.quantityUnit,\r\n        statusState: row.statusState ? this.statusDictionary[row.statusState] : ''\r\n      }));\r\n      this.exportService.toExcel(exportList, this.resultsTableExportName, this.componentData.componentId);\r\n    }\r\n  }\r\n\r\n  private initMhiaelData() {\r\n    this.attributeMap = {};\r\n    this.testable = false;\r\n    this.minor = false;\r\n    this.slave = false;\r\n    this.followed = false;\r\n    this.isSerialized = false;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { FindBirePnsBySearchCriteriaPSMInput } from '../../../shared/types/api-input-types/product-structure-management/find-bire-pns-by-search-criteria-input.interface';\r\nimport { BirePnDTOId } from '../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { FamilyVariantDTO } from '../../../shared/types/api-types/family-variant-dto.interface';\r\nimport { FindFamilyVariantInput } from '../../../shared/types/api-types/find-family-variant-input.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class PartNumberSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBirePnsBySearchCriteria(\r\n    criteria: BirePnDTO,\r\n    familyCode: string,\r\n    structureType: string,\r\n    variantCode: string,\r\n    chapter: string | undefined,\r\n    section: string | undefined,\r\n    subject: string | undefined,\r\n    sheet: string | undefined,\r\n    mark: string | undefined,\r\n    pnType: string,\r\n    itemFamilyCode: string | undefined,\r\n    isSerialized: boolean | false,\r\n    attributesMap: Object\r\n  ): Observable<SearchResultsDTO<BirePnDTO>> {\r\n    const params: FindBirePnsBySearchCriteriaPSMInput = {\r\n      birePnDTOCriteria: criteria,\r\n      familyCode,\r\n      structureType,\r\n      variantCode,\r\n      itemFamilyCode,\r\n      chapter,\r\n      section,\r\n      subject,\r\n      sheet,\r\n      mark,\r\n      isSerialized,\r\n      attributesMap,\r\n      pnType\r\n    };\r\n\r\n    return super.post<FindBirePnsBySearchCriteriaPSMInput, SearchResultsDTO<BirePnDTO>>(\r\n      this.productStructureManagementApi.findBirePnsBySearchCriteria,\r\n      params\r\n    );\r\n  }\r\n\r\n  public removeBirePn(pnId: BirePnDTOId[]): Observable<boolean> {\r\n    return super.post<BirePnDTOId[], boolean>(this.productStructureManagementApi.removeBirePn, pnId);\r\n  }\r\n\r\n  public getFamilyVariant(familyVariantInput: FindFamilyVariantInput): Observable<FamilyVariantDTO[]> {\r\n    return super.post<FindFamilyVariantInput, FamilyVariantDTO[]>(\r\n      this.productStructureManagementApi.findFamilyVariant,\r\n      familyVariantInput\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"85\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ \\\"transaction.\\\" + getComponentName() | translate }}</div>\\r\\n\\r\\n    <i class=\\\"material-icons aw-icon aw-icon-with-border\\\" (click)=\\\"cancel()\\\">close</i>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section search-criteria-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"familyVariants\\\"\\r\\n                    [(ngModel)]=\\\"selectedFamilyVariant\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".code\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".name\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planName\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".revisionDate\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planRevisionDate\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".approvalDate\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planApprovalDate\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".validityEndDate\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.bireMaintenancePlanDTO.planValidityEndDate\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\"></div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"row search-criteria-footer\\\">\\r\\n            <div class=\\\"search-actions\\\">\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                mat-raised-button\\r\\n                (click)=\\\"search()\\\"\\r\\n                color=\\\"primary\\\"\\r\\n                appKeyPress\\r\\n                [keyCode]=\\\"'Enter'\\\"\\r\\n                (keyPress)=\\\"search()\\\"\\r\\n              >\\r\\n                {{ \\\"global.toSearch\\\" | translate }}\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <!-- Maintenance programs table -->\\r\\n          <div class=\\\"section results-section\\\">\\r\\n            <h4 class=\\\"section-title\\\">\\r\\n              {{ \\\"global.results\\\" | translate }} ({{\\r\\n                maintenanceProgramTableDataSource ? maintenanceProgramTableDataSource.dataCount : 0\\r\\n              }})\\r\\n            </h4>\\r\\n\\r\\n            <div class=\\\"section-content\\\">\\r\\n              <a-table [dataSource]=\\\"maintenanceProgramTableDataSource\\\">\\r\\n                <ng-template columnDef=\\\"ampStatus\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <span\\r\\n                    *ngIf=\\\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'green'\\\"\\r\\n                    class=\\\"alert alert--ok\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.alertOk\\\" | translate }}\\r\\n                  </span>\\r\\n\\r\\n                  <span\\r\\n                    *ngIf=\\\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'red'\\\"\\r\\n                    class=\\\"alert alert--nok\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.alertNok\\\" | translate }}\\r\\n                  </span>\\r\\n\\r\\n                  <span\\r\\n                    *ngIf=\\\"rowData.type === MAINTENANCE_PLAN.PLAN_TYPE_RMP && rowData.ampStatus === 'yellow'\\\"\\r\\n                    class=\\\"alert alert--warning\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.alertWarning\\\" | translate }}\\r\\n                  </span>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      [disabled]=\\\"!maintenanceProgramTableDataSource.hasDataSelection\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"validate()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Output } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { ColumnAlignment, TableDataSource } from '../../../../../shared/components/table/table-data-source';\nimport { BidoFunctionTypeConstants } from '../../../../../shared/constants/bido-function-type-constants';\nimport { BireMaintenancePlanConstants } from '../../../../../shared/constants/bire-maintenance-plan-constants';\nimport { ComponentConstants } from '../../../../../shared/constants/component-constants';\nimport { GenericPropertyConstants } from '../../../../../shared/constants/generic-property-constants';\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\nimport { DateService } from '../../../../../shared/services/date.service';\nimport { FavoriteService } from '../../../../../shared/services/favorite.service';\nimport { LoaderService } from '../../../../../shared/services/loader.service';\nimport { MessageService } from '../../../../../shared/services/message.service';\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\nimport { SerializationService } from '../../../../../shared/services/serialization.service';\nimport { SessionService } from '../../../../../shared/services/session.service';\nimport { TabService } from '../../../../../shared/services/tab.service';\nimport { FindFamilyVariantInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\nimport { FindBireMaintenancePlansByCriteriaInput } from '../../../../../shared/types/api-input-types/task-management/find-bire-maintenance-plans-by-criteria-input.interface';\nimport { GetVariantOutputDTO } from '../../../../../shared/types/api-output-types/engineering-data-exchange/get-variant-output-dto.interface';\nimport { MaintenanceProgramReports } from '../../../../../shared/types/api-output-types/task-business/maintenance-program-reports.interface';\nimport { MaintenanaceProgramTableDTO } from '../../../../../shared/types/api-output-types/task-management/maintenanace-program-table-dto.interface';\nimport { BireMaintenancePlanDTO } from '../../../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\n\nimport { MaintenanceProgramSearchService } from './../../../maintenance-program-search/maintenance-program-search.service';\n\ninterface MaintenanceProgramRow {\n  code: string;\n  name: string;\n  revisionNumber?: string;\n  type?: string;\n  revisionDate?: string;\n  status?: string;\n  approvalDate?: string;\n  validityEndDate?: string;\n  ampStatus?: string;\n  isRMPHaveRelatedOMP?: boolean;\n  isAMPHaveRelatedOMP?: boolean;\n  applicableMaintenancePlanCode?: string;\n  recommendedMaintenancePlanCode?: string;\n  maintenanceProgram?: BireMaintenancePlanDTO;\n}\n\n@Component({\n  selector: 'aw-dialog-search-maintenance-program-popup',\n  templateUrl: './dialog-search-maintenance-program.component.html'\n})\nexport class DialogSearchMaintenanceProgramComponent extends DialogComponent {\n  public MAINTENANCE_PLAN = { ...BireMaintenancePlanConstants };\n\n  @Output()\n  public onSelected: EventEmitter<BireMaintenancePlanDTO>;\n\n  public familyVariants: LabelValue<GetVariantOutputDTO>[];\n  public maintenanceProgramTableDataSource: TableDataSource<MaintenanceProgramRow>;\n  public searchObject: FindBireMaintenancePlansByCriteriaInput;\n  public showCompareReportPopup: boolean;\n  public reportText: MaintenanceProgramReports;\n  public selectedFamilyVariant: GetVariantOutputDTO | undefined;\n  public isDeleteButtonDisabled: boolean;\n  public isEditButtonDisabled: boolean;\n  public enableComapreAMP: boolean;\n  public enableComapreRMP: boolean;\n  public enableComapreAMPagainstRMP: boolean;\n  public statusMap: Map<string, string>;\n  public hasManageRights: boolean;\n  public hasDisplayRights: boolean;\n  public hasUpdateRights: boolean;\n  public isLoading: boolean;\n  public isReportLoading: boolean;\n  public tabService: TabService;\n  public serializationService: SerializationService;\n  public tableSelection: BireMaintenancePlanDTO;\n  public favoriteService: FavoriteService;\n  public loaderService: LoaderService;\n  public messageService: MessageService;\n\n  public constructor(\n    public sessionService: SessionService,\n    public translateService: TranslateService,\n    private readonly maintenanceProgramSearchService: MaintenanceProgramSearchService,\n    private readonly propertiesService: PropertiesService,\n    public dateService: DateService\n  ) {\n    super(ComponentOpenMode.Write, ComponentConstants.ENG_MAINTENANCE_PROGRAM_SEARCH);\n    this.onSelected = new EventEmitter<BireMaintenancePlanDTO>();\n    this.familyVariants = [];\n    this.showCompareReportPopup = false;\n    this.isDeleteButtonDisabled = true;\n    this.isEditButtonDisabled = true;\n    this.enableComapreAMP = false;\n    this.enableComapreAMPagainstRMP = false;\n    this.enableComapreRMP = false;\n    this.reportText = {};\n    this.statusMap = new Map<string, string>();\n\n    this.loadRights();\n    this.loadStatus();\n    this.loadFamilyVariants();\n    this.resetSearchCriteria();\n    this.initMaintenanceProgramTableDataSource();\n  }\n\n  public getComponentName(): string {\n    return ComponentConstants.ENG_MAINTENANCE_PROGRAM_SEARCH;\n  }\n\n  public onShow() {\n    this.display = true;\n  }\n\n  public resetSearchCriteria(): void {\n    this.selectedFamilyVariant = undefined;\n    this.searchObject = {\n      bireMaintenancePlanDTO: {},\n      bireVariantVersionDTO: {}\n    };\n  }\n\n  private initMaintenanceProgramTableDataSource(): void {\n    this.maintenanceProgramTableDataSource = new TableDataSource({\n      allowMultiSelect: false,\n      columns: [\n        {\n          field: 'code',\n          translateKey: this.getTranslateKey('code'),\n          width: '15%'\n        },\n        {\n          field: 'name',\n          translateKey: this.getTranslateKey('name'),\n          width: '23%'\n        },\n        {\n          field: 'revisionNumber',\n          translateKey: this.getTranslateKey('revisionNumber'),\n          width: '5%'\n        },\n        {\n          field: 'type',\n          translateKey: this.getTranslateKey('type'),\n          width: '5%'\n        },\n        {\n          field: 'revisionDate',\n          translateKey: this.getTranslateKey('revisionDate'),\n          width: '10%'\n        },\n        {\n          field: 'status',\n          translateKey: this.getTranslateKey('status'),\n          width: '10%'\n        },\n        {\n          field: 'approvalDate',\n          translateKey: this.getTranslateKey('approvalDate'),\n          width: '10%'\n        },\n        {\n          field: 'validityEndDate',\n          translateKey: this.getTranslateKey('validityEndDate'),\n          width: '12%'\n        },\n        {\n          field: 'ampStatus',\n          translateKey: this.getTranslateKey('ampStatus'),\n          alignment: ColumnAlignment.CENTER,\n          width: '10%'\n        }\n      ],\n      data: []\n    });\n  }\n\n  private loadStatus(): void {\n    this.propertiesService.getValue(GenericPropertyConstants.FUNC_OBJECT_STATUS_MAP).subscribe((results) => {\n      results.forEach((element) => {\n        this.statusMap.set(element.value, element.label);\n      });\n    });\n  }\n\n  private loadFamilyVariants(): void {\n    const familyVariantInput: FindFamilyVariantInput = {\n      useCase: BidoFunctionTypeConstants.UC_MCH_TASK,\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\n    };\n    this.maintenanceProgramSearchService\n      .findBireFamilyVariantDropdownForMaintenanceProgram(familyVariantInput)\n      .subscribe((results) => {\n        results.forEach((element) => {\n          let label = element.familyName ? element.familyName : element.familyCode;\n          label = `${label}-${element.structureType}`;\n          label = `${label}-${element.variantName ? element.variantName : element.variantCode}`;\n          const variantLabelValue: LabelValue<GetVariantOutputDTO> = {\n            label,\n            value: element\n          };\n          this.familyVariants.push(variantLabelValue);\n        });\n      });\n  }\n\n  public search(): void {\n    this.maintenanceProgramTableDataSource.setData([]);\n    if (this.selectedFamilyVariant) {\n      this.searchObject.bireVariantVersionDTO = {\n        familyCode: this.selectedFamilyVariant.familyCode,\n        structureType: this.selectedFamilyVariant.structureType,\n        variantCode: this.selectedFamilyVariant.variantCode,\n        variantName: this.selectedFamilyVariant.variantName\n      };\n    } else {\n      this.searchObject.bireVariantVersionDTO = {};\n    }\n    this.isLoading = true;\n    this.maintenanceProgramSearchService.findBireMaintenancePlansByCriteria(this.searchObject).subscribe((result) => {\n      this.setMaintenanceProgramTable(result);\n      this.isLoading = false;\n    });\n  }\n\n  public cancel(): void {\n    this.display = false;\n    super.closeDialog();\n  }\n\n  public validate(): void {\n    this.onSelected.emit(this.maintenanceProgramTableDataSource.dataSelection[0].maintenanceProgram);\n    super.closeDialog();\n  }\n\n  private setMaintenanceProgramTable(result: SearchResultsDTO<MaintenanaceProgramTableDTO>): void {\n    if (!!result) {\n      const mpList: MaintenanceProgramRow[] = [];\n      let status;\n      result.list.forEach((maintenanceProgram) => {\n        if (\n          !!maintenanceProgram &&\n          !!maintenanceProgram.bireMaintenancePlanDTO &&\n          !!maintenanceProgram.bireMaintenancePlanDTO.planCode &&\n          !!maintenanceProgram.bireMaintenancePlanDTO.planName\n        ) {\n          status = !!maintenanceProgram.bireMaintenancePlanDTO.statusState\n            ? this.statusMap.get(maintenanceProgram.bireMaintenancePlanDTO.statusState)\n            : '';\n\n          const maintenanceRow: MaintenanceProgramRow = {\n            maintenanceProgram: maintenanceProgram.bireMaintenancePlanDTO,\n            code: maintenanceProgram.bireMaintenancePlanDTO.planCode,\n            name: maintenanceProgram.bireMaintenancePlanDTO.planName,\n            revisionNumber: maintenanceProgram.bireMaintenancePlanDTO.planRevisionNumber,\n            type: maintenanceProgram.planType,\n            revisionDate:\n              maintenanceProgram.bireMaintenancePlanDTO.planRevisionDate &&\n              this.dateService.dateToString(maintenanceProgram.bireMaintenancePlanDTO.planRevisionDate),\n            status,\n            approvalDate:\n              maintenanceProgram.bireMaintenancePlanDTO.planApprovalDate &&\n              this.dateService.dateToString(maintenanceProgram.bireMaintenancePlanDTO.planApprovalDate),\n            validityEndDate:\n              maintenanceProgram.bireMaintenancePlanDTO.planValidityEndDate &&\n              this.dateService.dateToString(maintenanceProgram.bireMaintenancePlanDTO.planValidityEndDate),\n            ampStatus: maintenanceProgram.ampstatus,\n            applicableMaintenancePlanCode: maintenanceProgram.applicableMaintenancePlanCode,\n            isRMPHaveRelatedOMP: maintenanceProgram.isRMPHaveRelatedOMP,\n            isAMPHaveRelatedOMP: maintenanceProgram.isAMPHaveRelatedOMP,\n            recommendedMaintenancePlanCode: maintenanceProgram.recommendedMaintenancePlanCode\n          };\n\n          if (!maintenanceProgram.bireMaintenancePlanDTO.ampplanCode) {\n            maintenanceRow.ampStatus = undefined;\n          }\n\n          mpList.push(maintenanceRow);\n        }\n      });\n      this.maintenanceProgramTableDataSource.setData(mpList);\n    }\n    this.maintenanceProgramTableDataSource.dataSelection = [];\n  }\n\n  private loadRights(): void {\n    this.maintenanceProgramSearchService.hasManageRights().subscribe((results) => {\n      this.hasManageRights = results;\n    });\n    this.maintenanceProgramSearchService.hasDisplayRights().subscribe((results) => {\n      this.hasDisplayRights = results;\n    });\n    this.maintenanceProgramSearchService.hasUpdateRights().subscribe((results) => {\n      this.hasUpdateRights = results;\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../../../shared/app-common-shared.module';\r\nimport { DialogSearchPnAlternativesModule } from '../../../../../shared/components/dialog-search-pn-alternatives/dialog-search-pn-alternatives.module';\r\nimport { ModalModule } from '../../../../../shared/components/modal/modal.module';\r\nimport { TableModule } from '../../../../../shared/components/table/table.module';\r\n\r\nimport { MaintenanceProgramSearchService } from './../../../maintenance-program-search/maintenance-program-search.service';\r\nimport { DialogSearchMaintenanceProgramComponent } from './dialog-search-maintenance-program.component';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [PrimeNgTableModule, DropdownModule];\r\n\r\nconst INTERNAL_MODULES = [DialogSearchPnAlternativesModule, ModalModule, TableModule];\r\n\r\nconst PRIMENG_MODULES = [CalendarModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchMaintenanceProgramComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [MaintenanceProgramSearchService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES,\r\n    ...PRIMENG_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchMaintenanceProgramModule {}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".applicabilitiesPopupTitle\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".familyCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"showFamilyCode()\\\">{{ sbVariantObject.familyCode }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"sbVariantObject.familyCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"sbVariantObject.familyCode = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showFamilyCode()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"sbVariantObject.structureType\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".structureType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"sbVariantObject.structureType\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"sbVariantObject.variantCode\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".variantCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"sbVariantObject.variantCode\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbApplicabilityDate\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-calendar\\r\\n              showButtonBar=\\\"true\\\"\\r\\n              [monthNavigator]=\\\"true\\\"\\r\\n              [yearNavigator]=\\\"true\\\"\\r\\n              [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n              class=\\\"aw-calendar\\\"\\r\\n              [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n              [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n              [(ngModel)]=\\\"sbVariantObject.sbApplicabilityDate\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-calendar>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.close\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"sbVariantObject.familyCode === undefined || sbVariantObject.familyCode === null\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showFamilyCodeDialog\\\"\\r\\n  [keyMap]=\\\"tableKeyMap\\\"\\r\\n  [(display)]=\\\"showFamilyCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataFamilyCode\\\"\\r\\n  (onSelected)=\\\"setSelectedFamilyCode($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BireSbVariantDTO } from '../../../../../shared/types/api-types/bire-sb-variant-dto.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { BireVariantVersionDTO } from '../../../../../shared/types/api-types/bire-variant-version-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\n\r\nimport { SbadApplicabilitiesPopupFormService } from './sb-ad-applicabilities-popup.service';\r\n\r\n@Component({\r\n  selector: 'aw-sb-ad-applicabilities-popup',\r\n  templateUrl: './sb-ad-applicabilities-popup.component.html'\r\n})\r\nexport class SbadApplicabilitiesPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data') public componentData: PopupEntry<BireSbVariantDTO>;\r\n\r\n  @Input() public isNewVariant: boolean;\r\n\r\n  @Output() public onCreate: EventEmitter<BireSbVariantDTO> = new EventEmitter<BireSbVariantDTO>();\r\n\r\n  @Output() public onUpdate: EventEmitter<BireSbVariantDTO> = new EventEmitter<BireSbVariantDTO>();\r\n\r\n  public sbVariantObject: BireSbVariantDTO;\r\n\r\n  public dialogTableDataFamilyCode: DialogTableData<BireVariantDTO>;\r\n\r\n  public showFamilyCodeDialog: boolean;\r\n\r\n  // POPUP\r\n  public dialogTableData: DialogTableData<BireVariantVersionDTO>;\r\n  public tableKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public constructor(\r\n    public applicabilitiesPopupFormService: SbadApplicabilitiesPopupFormService,\r\n    private readonly messageService: MessageService,\r\n    public sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'SbadFormComponent');\r\n\r\n    this.showFamilyCodeDialog = false;\r\n\r\n    this.tableKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n\r\n    this.searchFamilyCode();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {\r\n      this.sbVariantObject = this.componentData.object as BireSbVariantDTO;\r\n      this.updateOpenMode(this.componentData.openMode);\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (this.isRequiredFiledFill()) {\r\n      if (this.isNewVariant) {\r\n        this.onCreate.emit(this.sbVariantObject);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.sbVariantObject);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage('global.missingFields');\r\n    }\r\n  }\r\n\r\n  public searchFamilyCode() {\r\n    const test: TableColumn[] = [\r\n      { field: 'familyCode', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'familyName', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'familyFunction', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'structureType', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'variantCode', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'variantName', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' }\r\n    ];\r\n\r\n    this.tableKeyMap.set('familyFunction', this.applicabilitiesPopupFormService.getEquipmentFunctionList());\r\n    this.dialogTableDataFamilyCode = {\r\n      componentId: 'SbadFormComponent.familyCodePopup',\r\n      tableCols: test,\r\n      tableRows: this.applicabilitiesPopupFormService.findFamilyVariantVersion(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  private isRequiredFiledFill(): boolean {\r\n    return !!this.sbVariantObject.familyCode;\r\n  }\r\n\r\n  public setSelectedFamilyCode(selectedObject: BireVariantDTO) {\r\n    if (selectedObject) {\r\n      this.sbVariantObject.familyCode = selectedObject.familyCode;\r\n      this.sbVariantObject.structureType = selectedObject.structureType;\r\n      this.sbVariantObject.variantCode = selectedObject.variantCode;\r\n    }\r\n    this.showFamilyCodeDialog = false;\r\n  }\r\n\r\n  public showFamilyCode() {\r\n    this.showFamilyCodeDialog = true;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../../../shared/api/fleet-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { BidoFunctionTypeConstants } from '../../../../../shared/constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { FindFamilyVariantInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class SbadApplicabilitiesPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findFamilyVariantVersion(): Observable<SearchResultsDTO<BireVariantDTO>> {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n\r\n    return super.post<FindFamilyVariantInput, SearchResultsDTO<BireVariantDTO>>(\r\n      this.productStructureManagementApi.findFamilyVariantVersion,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public getEquipmentFunctionList(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.fleetManagementApi.getAllEquipmentFunctionList);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".assetPopupTitle\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sbadAssetsDialogLine1\\\" | translate }}</label>\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sbadAssetsDialogLine2\\\" | translate }}</label>\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sbadAssetsDialogLine3\\\" | translate }}</label>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\" *ngIf=\\\"sbAssets\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\" style=\\\"white-space: pre-wrap\\\">\\r\\n            {{ getComponentName() + \\\".sbAssets\\\" | translate }}\\r\\n            ({{ getComponentName() + \\\".indicationTextSbAsset\\\" | translate }})\\r\\n          </label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <textarea\\r\\n              class=\\\"aw-textarea\\\"\\r\\n              [rows]=\\\"3\\\"\\r\\n              [(ngModel)]=\\\"sbAssets\\\"\\r\\n              pInputTextarea\\r\\n              [disabled]=\\\"true\\\"\\r\\n              maxlength=\\\"4000\\\"\\r\\n            ></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".assetPn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"assetObject.assetPn\\\" [disabled]=\\\"isReadOpenMode\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".assetSn\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"assetObject.assetSn\\\" [disabled]=\\\"isReadOpenMode\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".assetActionType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [options]=\\\"propertyActionType\\\"\\r\\n              [(ngModel)]=\\\"assetObject.assetActionType\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.close\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onValidate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { BireConcernedAssetDTO } from '../../../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\n\r\n@Component({\r\n  selector: 'aw-sb-ad-assets-popup-form',\r\n  templateUrl: './sb-ad-assets-popup-form.component.html'\r\n})\r\nexport class SbAdAssetsPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data') public componentData: PopupEntry<BireConcernedAssetDTO> | null;\r\n\r\n  @Input() public isNewAsset: boolean;\r\n\r\n  @Input() public sbAssets: string;\r\n\r\n  @Output() public onCreate: EventEmitter<BireConcernedAssetDTO> = new EventEmitter<BireConcernedAssetDTO>();\r\n\r\n  @Output() public onUpdate: EventEmitter<BireConcernedAssetDTO> = new EventEmitter<BireConcernedAssetDTO>();\r\n\r\n  public assetObject: BireConcernedAssetDTO;\r\n\r\n  public propertyActionType: SelectItem[];\r\n\r\n  public constructor(\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'SbadFormComponent');\r\n\r\n    this.loadActionTypes();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {\r\n      this.assetObject = this.componentData.object as BireConcernedAssetDTO;\r\n      this.updateOpenMode(this.componentData.openMode);\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (this.isRequiredFiledFill()) {\r\n      if (this.isNewAsset) {\r\n        this.onCreate.emit(this.assetObject);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.assetObject);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getComponentName() + '.assetPnOrSnMandatory');\r\n    }\r\n  }\r\n\r\n  private loadActionTypes(): void {\r\n    this.propertiesService.getValue('getAssetActionTypeMap').subscribe(\r\n      (results) => {\r\n        this.propertyActionType = results;\r\n      },\r\n      () => {\r\n        if (this.componentData !== null) {\r\n          this.messageService.showErrorMessage(this.componentData.componentId + '.errorOnActionTypeList');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  private isRequiredFiledFill(): boolean {\r\n    return !!this.assetObject.assetSn || !!this.assetObject.assetPn;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".docManagement\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docName\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control form-control-with-btn\\\">\\r\\n          <input\\r\\n            class=\\\"aw-input\\\"\\r\\n            type=\\\"text\\\"\\r\\n            [(ngModel)]=\\\"document.docName\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            style=\\\"width:79%\\\"\\r\\n          />\\r\\n          <p-fileUpload\\r\\n            #fileUploader\\r\\n            *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n            name=\\\"document[]\\\"\\r\\n            customUpload=\\\"true\\\"\\r\\n            mode=\\\"basic\\\"\\r\\n            auto=\\\"true\\\"\\r\\n            chooseLabel=\\\"{{ 'global.upload' | translate }}\\\"\\r\\n            (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n          ></p-fileUpload>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docSource\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"document.docSource\\\" [disabled]=\\\"isReadOnlyForm\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docPublicationDate\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [(ngModel)]=\\\"document.docPublicationDate\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docDescription\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <textarea\\r\\n            class=\\\"aw-textarea\\\"\\r\\n            [rows]=\\\"3\\\"\\r\\n            pInputTextarea\\r\\n            autoResize=\\\"autoResize\\\"\\r\\n            [(ngModel)]=\\\"document.docDescription\\\"\\r\\n            [disabled]=\\\"isReadOnlyForm\\\"\\r\\n          ></textarea>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"validate()\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      [disabled]=\\\"!isValidateEnabled()\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { GenericPropertyConstants } from '../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BidoDocumentationDTO } from '../../../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { FileUtils } from '../../../../../shared/utils/file-utils';\r\n\r\n@Component({\r\n  selector: 'aw-sb-ad-import-popup',\r\n  templateUrl: './sb-ad-import-popup.component.html'\r\n})\r\nexport class SbadImportPopupComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public get display() {\r\n    return this.displayValue;\r\n  }\r\n  public set display(displayValue) {\r\n    this.displayValue = displayValue;\r\n    this.displayChange.emit(this.displayValue);\r\n  }\r\n\r\n  @Output() public displayChange: EventEmitter<boolean>;\r\n  @Input() public document: BidoDocumentationDTO;\r\n  @Input() public isReadOnlyForm: boolean;\r\n  @Output() public onValidated: EventEmitter<BidoDocumentationDTO>;\r\n\r\n  public readonly componentId: string;\r\n  public displayValue: boolean;\r\n  public types: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    public readonly sessionService: SessionService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'SbadFormComponent');\r\n\r\n    this.displayChange = new EventEmitter<boolean>();\r\n    this.onValidated = new EventEmitter<BidoDocumentationDTO>();\r\n\r\n    this.loadTypes();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    if (!this.document) {\r\n      this.document = {};\r\n    }\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.document);\r\n    this.display = false;\r\n  }\r\n\r\n  private loadTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.DOC_PARTNER_CATEGORY_MAP).subscribe(\r\n      (results) => {\r\n        this.types = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.componentId + '.errorOnGetTypes');\r\n      }\r\n    );\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (event.files) {\r\n      const file: File = event.files[0];\r\n      FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n        if (fileContent) {\r\n          this.document.docFile = fileContent;\r\n          this.document.docName = file.name;\r\n          this.document.docPublicationDate = new Date();\r\n        }\r\n      });\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public isValidateEnabled() {\r\n    return this.document.docName;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".limitAndPeriodicityPopupTitle\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".counterCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [options]=\\\"counterCodeList\\\"\\r\\n              [(ngModel)]=\\\"assetObject.counterCode\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".limitValue\\\" | translate }}</label>\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              [(ngModel)]=\\\"assetObject.limitValue\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n              #assetLimitValue=\\\"ngModel\\\"\\r\\n              type=\\\"number\\\"\\r\\n              [pKeyFilter]=\\\"inputValidationService.validatorOfNumber()\\\"\\r\\n              [pValidateOnly]=\\\"true\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".limitType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [options]=\\\"limitType\\\"\\r\\n              [(ngModel)]=\\\"assetObject.limitType\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".limitReferenceDate\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [options]=\\\"limitRefernceType\\\"\\r\\n              [(ngModel)]=\\\"assetObject.limitReferenceDate\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".periodicity\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input\\r\\n              [(ngModel)]=\\\"assetObject.periodicity\\\"\\r\\n              [disabled]=\\\"isReadOpenMode\\\"\\r\\n              #assetPeriodicityValue=\\\"ngModel\\\"\\r\\n              type=\\\"number\\\"\\r\\n              [pKeyFilter]=\\\"inputValidationService.validatorOfNumber()\\\"\\r\\n              [pValidateOnly]=\\\"true\\\"\\r\\n              class=\\\"aw-input\\\"\\r\\n            />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".comments\\\" | translate }}</label>\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <textarea\\r\\n              class=\\\"aw-textarea\\\"\\r\\n              [rows]=\\\"3\\\"\\r\\n              pInputTextarea\\r\\n              autoResize=\\\"autoResize\\\"\\r\\n              [(ngModel)]=\\\"assetObject.comments\\\"\\r\\n            ></textarea>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.close\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onValidate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { forkJoin } from 'rxjs';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { InputValidationService } from '../../../../../shared/services/input-validation.service';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { BireSbCounterDTO } from '../../../../../shared/types/api-types/bire-sb-counter-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\n\r\nimport { SbAdLimitsPeriodicitiesPopupFormService } from './sb-ad-limits-periodicities-popup-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-sb-ad-limits-periodicities-popup-form',\r\n  templateUrl: './sb-ad-limits-periodicities-popup-form.component.html'\r\n})\r\nexport class SbAdLimitsPeriodicitiesPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data') public componentData: PopupEntry<BireSbCounterDTO>;\r\n\r\n  @Input() public isNewLimitAndPeriodicity: boolean;\r\n\r\n  @Input() public sbCounterLimitRefDateMap: string;\r\n\r\n  @Input() public parentComponentName: string;\r\n\r\n  @Output() public onCreate: EventEmitter<BireSbCounterDTO> = new EventEmitter<BireSbCounterDTO>();\r\n\r\n  @Output() public onUpdate: EventEmitter<BireSbCounterDTO> = new EventEmitter<BireSbCounterDTO>();\r\n\r\n  public assetObject: BireSbCounterDTO;\r\n  public counterCodeList: LabelValue<string>[];\r\n  public limitType: LabelValue<string>[];\r\n  public limitRefernceType: LabelValue<string>[];\r\n  public displayComment: string;\r\n\r\n  public constructor(\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly sbAdLimitsPeriodicitiesPopupFormService: SbAdLimitsPeriodicitiesPopupFormService,\r\n    public inputValidationService: InputValidationService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'SbadFormComponent');\r\n    this.assetObject = {};\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      this.loadDropdownList();\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (this.checkLimitsAndPeriodicities()) {\r\n      if (this.isNewLimitAndPeriodicity) {\r\n        this.onCreate.emit(this.assetObject);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.assetObject);\r\n        this.display = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  protected loadDropdownList(): void {\r\n    const counterCode$ = this.sbAdLimitsPeriodicitiesPopupFormService.findAllColunterCode();\r\n    const limitType$ = this.propertiesService.getValue('getSbCounterLimitTypeMap');\r\n    const limitRefernceDate$ = this.propertiesService.getValue(this.sbCounterLimitRefDateMap);\r\n\r\n    forkJoin([counterCode$, limitType$, limitRefernceDate$]).subscribe(([counterCode, types, refernceType]) => {\r\n      this.counterCodeList = counterCode;\r\n      this.limitType = types;\r\n      this.limitRefernceType = refernceType;\r\n      this.assetObject = this.componentData.object as BireSbCounterDTO;\r\n      this.displayComment = this.getDisplayComments(this.assetObject.comments || '');\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return this.parentComponentName || super.getComponentName();\r\n  }\r\n\r\n  private checkLimitsAndPeriodicities(): boolean {\r\n    if (!this.assetObject.counterCode) {\r\n      this.messageService.showErrorMessage(this.getComponentName() + '.limitsAndPeriodicitiesMandatoryFields');\r\n\r\n      return false;\r\n    } else if (\r\n      (this.assetObject.limitValue || this.assetObject.limitType || this.assetObject.limitReferenceDate) &&\r\n      (this.assetObject.limitValue === undefined ||\r\n        !this.assetObject.limitType === undefined ||\r\n        !this.assetObject.limitReferenceDate === undefined)\r\n    ) {\r\n      this.messageService.showErrorMessage(this.getComponentName() + '.limitAndPeriodicitiesAllFieldsOrNone');\r\n\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public getDisplayComments(comment: string): string {\r\n    try {\r\n      if (comment) {\r\n        const commentObj = JSON.parse(comment);\r\n        if (commentObj && commentObj.length === 1) {\r\n          return commentObj[0].comment;\r\n        } else if (commentObj && commentObj.length > 1) {\r\n          return !!commentObj[0].comment ? commentObj[0].comment : comment;\r\n        }\r\n      }\r\n\r\n      return '';\r\n    } catch (e) {\r\n      return comment;\r\n    }\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class SbAdLimitsPeriodicitiesPopupFormService extends AbstractAwHttpService {\r\n  public displayDialog: boolean;\r\n\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public displayPopup(display: boolean) {\r\n    this.displayDialog = display;\r\n  }\r\n\r\n  public findAllColunterCode(): Observable<LabelValue<string>[]> {\r\n    return super.post<undefined, LabelValue<string>[]>(this.productStructureManagementApi.findAllCounterCode);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { MassUpdatesApi } from '../../../shared/api/mhiael/mass-updates.api';\r\nimport { AbstractAwMhiaelHttpService } from '../../../shared/http/abstract-aw-mhiael-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { BireSbDTO } from '../../../shared/types/api-types/bire-sb-dto.interface';\r\n\r\n@Injectable()\r\nexport class SbadFormMhiaelService extends AbstractAwMhiaelHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly massUpdatesApi: MassUpdatesApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public updateSBADCsv(bireVariantVersion: BireSbDTO): Observable<void> {\r\n    return super.post<BireSbDTO, void>(this.massUpdatesApi.updateSBADCsv, bireVariantVersion);\r\n  }\r\n}\r\n","module.exports = \"<div #page *ngIf=\\\"loadedWorkflow\\\">\\r\\n  <div class=\\\"page-header\\\">\\r\\n    <div class=\\\"page-info\\\">\\r\\n      <div>\\r\\n        <h2 class=\\\"page-title\\\">\\r\\n          {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n        </h2>\\r\\n\\r\\n        <div class=\\\"page-subtitle\\\">\\r\\n          <div class=\\\"page-subtitle\\\" *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\">\\r\\n            - {{ subTitle }}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"object-status\\\" *ngIf=\\\"bireSbDisplayed.statusState\\\" (click)=\\\"showStatus()\\\">\\r\\n        {{ bireSbDisplayed.statusState | formatSelectOption: workflowStatus }}\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-actions\\\">\\r\\n      <button mat-raised-button id=\\\"edit\\\" *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" (click)=\\\"edit()\\\">\\r\\n        {{ \\\"global.edit\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        mat-raised-button\\r\\n        color=\\\"warn\\\"\\r\\n        id=\\\"cancel\\\"\\r\\n        *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n        (click)=\\\"cancel()\\\"\\r\\n      >\\r\\n        {{ \\\"global.cancel\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        mat-raised-button\\r\\n        class=\\\"btn-with-spinner\\\"\\r\\n        color=\\\"primary\\\"\\r\\n        id=\\\"save\\\"\\r\\n        *ngIf=\\\"!isReadOpenMode\\\"\\r\\n        (click)=\\\"saveSbAdData()\\\"\\r\\n      >\\r\\n        <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n        {{ \\\"global.save\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"actions\\\"\\r\\n        mat-icon-button\\r\\n        class=\\\"mat-elevation-z1\\\"\\r\\n        matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n        matTooltipPosition=\\\"above\\\"\\r\\n        aria-label=\\\"Show all actions\\\"\\r\\n        [matMenuTriggerFor]=\\\"actions\\\"\\r\\n      >\\r\\n        <mat-icon>more_horiz</mat-icon>\\r\\n      </button>\\r\\n      <mat-menu #actions=\\\"matMenu\\\">\\r\\n        <button\\r\\n          mat-menu-item\\r\\n          id=\\\"upgrade\\\"\\r\\n          *ngIf=\\\"!isReadOpenMode && bireSbDisplayed.sbRevisionNumber != null && showUpgrade()\\\"\\r\\n          (click)=\\\"upgradeSb()\\\"\\r\\n        >\\r\\n          {{ \\\"global.upgrade\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"updates\\\" mat-menu-item (click)=\\\"openStatusUpdatesPopup()\\\">{{ \\\"updates\\\" | translate }}</button>\\r\\n\\r\\n        <button mat-menu-item id=\\\"refresh\\\" *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" (click)=\\\"refresh()\\\">\\r\\n          {{ \\\"global.refresh\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n          {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-wrapper\\\">\\r\\n    <div class=\\\"page-container search-page-container\\\">\\r\\n      <div class=\\\"page-content\\\">\\r\\n        <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n          <mat-tab id=\\\"homeTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ \\\"home\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"mainDataPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"grid-row grid-cell--12\\\">\\r\\n                      <div id=\\\"sbNumber\\\" class=\\\"form-group flex--1\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".sbNumber\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbNumber\\\"\\r\\n                            [disabled]=\\\"!isCreateOpenMode || isReadOpenMode\\\"\\r\\n                            maxlength=\\\"50\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"sbRevisionNumber\\\" class=\\\"form-group flex--1\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".sbRevisionNumber\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            #sbRevisionNumber=\\\"ngModel\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbRevisionNumber\\\"\\r\\n                            [disabled]=\\\"!isCreateOpenMode || isReadOpenMode\\\"\\r\\n                            maxlength=\\\"10\\\"\\r\\n                            [pKeyFilter]=\\\"inputValidationService.validatorOfPositiveInteger()\\\"\\r\\n                            [pValidateOnly]=\\\"true\\\"\\r\\n                          />\\r\\n                          <p-message\\r\\n                            *ngIf=\\\"sbRevisionNumber.invalid && (sbRevisionNumber.dirty || sbRevisionNumber.touched)\\\"\\r\\n                            severity=\\\"error\\\"\\r\\n                            [text]=\\\"inputValidationService.formatOfPositiveInteger()\\\"\\r\\n                          ></p-message>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-row grid-cell--12\\\">\\r\\n                      <div id=\\\"sbCompliance\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbCompliance\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertyCompliance\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbCompliance\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"sbType\\\" *ngIf=\\\"!isAD\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbType\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertyType\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbType\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"sbSubType\\\" *ngIf=\\\"showSubType()\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbSubType\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertySubType\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbSubType\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-row grid-cell--12\\\">\\r\\n                      <div id=\\\"sbTitle\\\" class=\\\"form-group flex--2\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbTitle\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbTitle\\\"\\r\\n                            pInputTextarea\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            maxlength=\\\"300\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-row grid-cell--12\\\">\\r\\n                      <div id=\\\"sbPublicationDate\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".sbPublicationDate\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbPublicationDate\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"sbClass\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbClass\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"propertyClass\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbClass\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"sbEffectiveDate\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".sbEffectiveDate\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbEffectiveDate\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            appendTo=\\\"body\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"grid-row grid-cell--12\\\">\\r\\n                      <div id=\\\"sbDocumentUrl\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".sbDocumentUrl\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control form-control-with-btn\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbDocumentUrl\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                          />\\r\\n                          <i\\r\\n                            *ngIf=\\\"bireSbDisplayed.sbDocumentUrl && !isCreateOpenMode\\\"\\r\\n                            class=\\\"fa fa-fw fa-external-link aw-icon aw-icon-with-border\\\"\\r\\n                            aria-hidden=\\\"true\\\"\\r\\n                            pTooltip=\\\"{{ 'global.open' | translate }}\\\"\\r\\n                            tooltipPosition=\\\"top\\\"\\r\\n                            (click)=\\\"openUrl()\\\"\\r\\n                          ></i>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"sbComplianceInformation\\\" class=\\\"form-group flex--1\\\">\\r\\n                        <label class=\\\"form-label\\\">{{\\r\\n                          componentData.componentId + \\\".sbComplianceInformation\\\" | translate\\r\\n                        }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"3\\\"\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbComplianceInformation\\\"\\r\\n                            pInputTextarea\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            maxlength=\\\"300\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"planCode\\\" class=\\\"form-group\\\" *ngIf=\\\"showGuideline()\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".planCode\\\" | translate }}</label>\\r\\n\\r\\n                        <div\\r\\n                          class=\\\"form-control form-control-with-modal\\\"\\r\\n                          [ngClass]=\\\"{ disabled: isReadOpenMode && !isCreateOpenMode }\\\"\\r\\n                        >\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"!isReadOpenMode && showMaintenanceProgram($event)\\\">\\r\\n                            {{ bireMaintenancePlanDTO.planCode }}\\r\\n                          </div>\\r\\n\\r\\n                          <div *ngIf=\\\"bireMaintenancePlanDTO.planCode && !isReadOpenMode\\\" class=\\\"btn-clear-wrapper \\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"bireMaintenancePlanDTO.planCode = undefined\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\" *ngIf=\\\"!isReadOpenMode\\\">\\r\\n                            <i\\r\\n                              class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"showMaintenanceProgram($event)\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div id=\\\"evolutionsPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 id=\\\"bireEvolutionSbsDisplayedTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".evolutions\\\" | translate }} ({{\\r\\n                          bireEvolutionSbsDisplayed ? bireEvolutionSbsDisplayed.length : 0\\r\\n                        }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      id=\\\"bireEvolutionSbsDisplayed\\\"\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableEvolution\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"evolutionsTableCols\\\"\\r\\n                      [value]=\\\"bireEvolutionSbsDisplayed\\\"\\r\\n                      [(selection)]=\\\"selectedEvolutions\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingEvolutionTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingEvolutionTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedEvolutions.length > 0 }\\\">\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableEvolutionGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableEvolution.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              id=\\\"displayStatusBireEvolutionSbsDisplayed\\\"\\r\\n                              *ngIf=\\\"selectedEvolutions.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"displayStatusForEvolution()\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".displayStatus\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th\\r\\n                            pResizableColumn\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                          >\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                          >\\r\\n                            <a *ngSwitchCase=\\\"'evolutionNumber'\\\" (click)=\\\"openEvolution(rowData)\\\">\\r\\n                              {{ rowData[col.field] }}</a\\r\\n                            >\\r\\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"applicabilitiesTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ \\\"SbadFormComponent.applicabilities\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"concernedFamiliesPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 id=\\\"bireSbVariantsDisplayedTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".concernedFamilies\\\" | translate }} ({{\\r\\n                          bireSbVariantsDisplayed ? bireSbVariantsDisplayed.length : 0\\r\\n                        }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      id=\\\"bireSbVariantsDisplayed\\\"\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableApplicabilities\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"applicabilitiesTableCols\\\"\\r\\n                      [value]=\\\"bireSbVariantsDisplayed\\\"\\r\\n                      [(selection)]=\\\"selectedApplicabilities\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingApplicabilityTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingApplicabilityTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div\\r\\n                          class=\\\"aw-table-header\\\"\\r\\n                          [ngClass]=\\\"{ 'rows-selected': selectedApplicabilities.length > 0 }\\\"\\r\\n                        >\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableApplicabilitiesGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableApplicabilities.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              id=\\\"deleteBireSbVariantsDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedApplicabilities.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"deleteSelectedSbVariants()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"editBireSbVariantsDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedApplicabilities.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"editApplicabilities()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.edit\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"openBireSbVariantsDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedApplicabilities.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openApplicabilities()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.open\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"addBireSbVariantsDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedApplicabilities.length === 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"createApplicabilities()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.add\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          >\\r\\n                            <i\\r\\n                              *ngSwitchCase=\\\"'statusInfo'\\\"\\r\\n                              class=\\\"fa fa-fw fa-info-circle aw-icon\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"openStatus(rowData)\\\"\\r\\n                            ></i>\\r\\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div id=\\\"concernedAssetsPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 id=\\\"bireConcernedAssetDisplayedTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".concernedAssets\\\" | translate }} ({{\\r\\n                          bireConcernedAssetDisplayed ? bireConcernedAssetDisplayed.length : 0\\r\\n                        }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div style=\\\"width: 70%\\\">\\r\\n                      <p-table\\r\\n                        id=\\\"bireConcernedAssetDisplayed\\\"\\r\\n                        [resizableColumns]=\\\"true\\\"\\r\\n                        #ptableAssets\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [columns]=\\\"assetsTableCols\\\"\\r\\n                        [value]=\\\"bireConcernedAssetDisplayed\\\"\\r\\n                        [(selection)]=\\\"selectedAssets\\\"\\r\\n                        dataKey=\\\"assetPn\\\"\\r\\n                        [scrollable]=\\\"true\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                          <span *ngIf=\\\"!isLoadingAssetTable\\\"> &nbsp;</span>\\r\\n\\r\\n                          <div *ngIf=\\\"isLoadingAssetTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                            <div class=\\\"lds-hourglass\\\"></div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"caption\\\">\\r\\n                          <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedAssets.length > 0 }\\\">\\r\\n                            <div class=\\\"aw-table-global-filter\\\">\\r\\n                              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </label>\\r\\n\\r\\n                              <input\\r\\n                                #ptableAssetsGlobalFilter\\r\\n                                class=\\\"aw-table-global-filter-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                                (input)=\\\"ptableAssets.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"aw-table-actions\\\">\\r\\n                              <button\\r\\n                                id=\\\"deleteBireConcernedAssetDisplayed\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedAssets.length > 0\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"deleteSelectedConcernedAssets()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.delete\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                id=\\\"editBireConcernedAssetDisplayed\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedAssets.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"editAsset()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.edit\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                id=\\\"openBireConcernedAssetDisplayed\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedAssets.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"openAsset()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.open\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                id=\\\"addBireConcernedAssetDisplayed\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedAssets.length === 0\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"createAsset()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.add\\\" | translate }}\\r\\n                              </button>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                          <colgroup>\\r\\n                            <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                          </colgroup>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                          <tr>\\r\\n                            <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                            </th>\\r\\n\\r\\n                            <th\\r\\n                              pResizableColumn\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                            </th>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                            </td>\\r\\n\\r\\n                            <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                              {{ rowData[col.field] }}\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n\\r\\n                    <div id=\\\"sbAssets\\\" class=\\\"form-group\\\" style=\\\"width: 30%\\\">\\r\\n                      <label class=\\\"form-label\\\" style=\\\"white-space: pre-wrap\\\">\\r\\n                        {{ componentData.componentId + \\\".sbadAssetsDialogLine1\\\" | translate }}\\r\\n                        {{ componentData.componentId + \\\".sbadAssetsDialogLine2\\\" | translate }}\\r\\n                        {{ componentData.componentId + \\\".sbadAssetsDialogLine3\\\" | translate }}\\r\\n                      </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <textarea\\r\\n                          class=\\\"aw-textarea resize-disabled\\\"\\r\\n                          [rows]=\\\"3\\\"\\r\\n                          [(ngModel)]=\\\"bireSbDisplayed.sbAssets\\\"\\r\\n                          pInputTextarea\\r\\n                          [disabled]=\\\"true\\\"\\r\\n                          maxlength=\\\"4000\\\"\\r\\n                        ></textarea>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div id=\\\"limitsAndPeriodicities\\\" class=\\\"grid-row\\\">\\r\\n              <div id=\\\"limitsAndPeriodicitiesPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 id=\\\"limitsAndApplicabilitiesDisplayedTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".limitsAndPeriodicities\\\" | translate }} ({{\\r\\n                          limitsAndApplicabilitiesDisplayed ? limitsAndApplicabilitiesDisplayed.length : 0\\r\\n                        }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      id=\\\"limitsAndApplicabilitiesDisplayed\\\"\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableLimitAndPeriodicity\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"limitsPeriodicitiesTableCols\\\"\\r\\n                      [value]=\\\"limitsAndApplicabilitiesDisplayed\\\"\\r\\n                      [(selection)]=\\\"selectedLimitsAndPeriodicities\\\"\\r\\n                      dataKey=\\\"counterCode\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingLimitsTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingLimitsTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div\\r\\n                          class=\\\"aw-table-header\\\"\\r\\n                          [ngClass]=\\\"{ 'rows-selected': selectedLimitsAndPeriodicities.length > 0 }\\\"\\r\\n                        >\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableLimitAndPeriodicityGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"\\r\\n                                ptableLimitAndPeriodicityGlobalFilter.filterGlobal($event.target.value, 'contains')\\r\\n                              \\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              id=\\\"deleteLimitsAndApplicabilitiesDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedLimitsAndPeriodicities.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"deleteSelectedConcernedLimitAndPeriodicity()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"generateCommentLimitsAndApplicabilitiesDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"generateTaskComment()\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".generateComment\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"editLimitsAndApplicabilitiesDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"editLimitAndPeriodicity()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.edit\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"openLimitsAndApplicabilitiesDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openLimitAndPeriodicity()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.open\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"addLimitsAndApplicabilitiesDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedLimitsAndPeriodicities.length === 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"createLimitAndPeriodicity()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.add\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"documentsTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              <ng-container *ngIf=\\\"dynamicAttributesForSb && dynamicAttributesForSb.length > 0\\\">\\r\\n                {{ \\\"attributes\\\" | translate }} &amp;\\r\\n              </ng-container>\\r\\n              {{ \\\"documents\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <div id=\\\"attributes\\\" *ngIf=\\\"dynamicAttributesForSb && dynamicAttributesForSb.length > 0\\\" class=\\\"grid-row\\\">\\r\\n              <div id=\\\"attributesPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                    <aw-dynamic-attributes\\r\\n                      [workflowControls]=\\\"userWorkflow ? userWorkflow.listControlByIdentifier : []\\\"\\r\\n                      id=\\\"dynamicAttributes\\\"\\r\\n                      [attributes]=\\\"dynamicAttributesForSb\\\"\\r\\n                      [workflowControls]=\\\"userWorkflow ? userWorkflow.listControlByIdentifier : []\\\"\\r\\n                      [isReadOpenMode]=\\\"isReadOpenMode\\\"\\r\\n                    ></aw-dynamic-attributes>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div id=\\\"documents\\\" class=\\\"grid-row\\\">\\r\\n              <div id=\\\"documentsPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 id=\\\"bireDocumentDisplayedTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                        {{ \\\"global.documents\\\" | translate }} ({{\\r\\n                          bireDocumentDisplayed ? bireDocumentDisplayed.length : 0\\r\\n                        }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      id=\\\"bireDocumentDisplayed\\\"\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableDocuments\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"documentsTableCols\\\"\\r\\n                      [value]=\\\"bireDocumentDisplayed\\\"\\r\\n                      [(selection)]=\\\"selectedDocuments\\\"\\r\\n                      dataKey=\\\"docName\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingDocumentTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingDocumentTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedDocuments.length > 0 }\\\">\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableDocumentsGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableDocuments.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              id=\\\"downloadBireDocumentDisplayed\\\"\\r\\n                              *ngIf=\\\"selectedDocuments.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"downloadFiles()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.download\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"deleteBireDocumentDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedDocuments.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              color=\\\"warn\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"deleteSelectedDocuments()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"editBireDocumentDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedDocuments.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"editDocument()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.edit\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"openBireDocumentDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedDocuments.length === 1\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openDocument()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.open\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"addBireDocumentDisplayed\\\"\\r\\n                              *ngIf=\\\"!isReadOpenMode && selectedDocuments.length == 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"addDocuments()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.add\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            <span> {{ rowData[col.field] }} </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"contextTab\\\" *ngIf=\\\"showContext()\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ componentData.componentId + \\\".context\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"contextPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".context\\\" | translate }}</h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"grid-row grid-cell--12\\\">\\r\\n                      <div id=\\\"sbContext\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".context\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"10\\\"\\r\\n                            pInputTextarea\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbContext\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            maxlength=\\\"2000\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"guidelineTab\\\" *ngIf=\\\"showGuideline()\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ componentData.componentId + \\\".guideline\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"guidelinePanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".guideline\\\" | translate }}</h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"grid-row grid-cell--12\\\">\\r\\n                      <div id=\\\"sbComments\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".guideline\\\" | translate }}</label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <textarea\\r\\n                            class=\\\"aw-textarea\\\"\\r\\n                            [rows]=\\\"10\\\"\\r\\n                            pInputTextarea\\r\\n                            [(ngModel)]=\\\"bireSbDisplayed.sbComments\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            maxlength=\\\"2000\\\"\\r\\n                          ></textarea>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n        </mat-tab-group>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<p-overlayPanel #op1 [showCloseIcon]=\\\"false\\\" [dismissable]=\\\"true\\\" appendTo=\\\"body\\\">\\r\\n  <ul class=\\\"export-methods\\\">\\r\\n    <li class=\\\"export-method-wrapper\\\">\\r\\n      <i class=\\\"fa fa-file-excel-o\\\" aria-hidden=\\\"true\\\"></i> <span class=\\\"export-method\\\">Excel</span>\\r\\n    </li>\\r\\n\\r\\n    <li class=\\\"export-method-wrapper\\\">\\r\\n      <i class=\\\"fa fa-file-pdf-o\\\" aria-hidden=\\\"true\\\"></i> <span class=\\\"export-method\\\">PDF</span>\\r\\n    </li>\\r\\n  </ul>\\r\\n</p-overlayPanel>\\r\\n\\r\\n<aw-sb-ad-assets-popup-form\\r\\n  *ngIf=\\\"showAssetDialog\\\"\\r\\n  [(display)]=\\\"showAssetDialog\\\"\\r\\n  [component-data]=\\\"dataAssets\\\"\\r\\n  [sbAssets]=\\\"bireSbDisplayed.sbAssets\\\"\\r\\n  (onCreate)=\\\"addNewConcernedAsset($event)\\\"\\r\\n  (onUpdate)=\\\"updateConcernedAsset($event)\\\"\\r\\n  [isNewAsset]=\\\"isNewAsset\\\"\\r\\n></aw-sb-ad-assets-popup-form>\\r\\n\\r\\n<aw-sb-ad-applicabilities-popup\\r\\n  *ngIf=\\\"showApplicabilitiesDialog\\\"\\r\\n  [(display)]=\\\"showApplicabilitiesDialog\\\"\\r\\n  [component-data]=\\\"dataApplicabilities\\\"\\r\\n  (onCreate)=\\\"addNewSbVariant($event)\\\"\\r\\n  (onUpdate)=\\\"updateSbVariant($event)\\\"\\r\\n  [isNewVariant]=\\\"isNewApplicabilities\\\"\\r\\n></aw-sb-ad-applicabilities-popup>\\r\\n\\r\\n<aw-dialog-search-maintenance-program-popup\\r\\n  *ngIf=\\\"showMaintenanceProgramDialog\\\"\\r\\n  [(display)]=\\\"showMaintenanceProgramDialog\\\"\\r\\n  (onSelected)=\\\"setSelectedMaintenanceProgram($event)\\\"\\r\\n></aw-dialog-search-maintenance-program-popup>\\r\\n\\r\\n<aw-dialog-status\\r\\n  *ngIf=\\\"displayStatusPopup\\\"\\r\\n  [item]=\\\"currentEvolution\\\"\\r\\n  [isObjectTypeOfBireEvolutionDTO]=\\\"true\\\"\\r\\n  [itemId]=\\\"currentEvolutionId\\\"\\r\\n  [(display)]=\\\"displayStatusPopup\\\"\\r\\n></aw-dialog-status>\\r\\n\\r\\n<aw-status-update-history\\r\\n  *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n  [isObjectTypeOfBireSbDTO]=\\\"true\\\"\\r\\n  [object]=\\\"bireSb\\\"\\r\\n  [data]=\\\"tableStatusUpdatesData\\\"\\r\\n  [deleteApi]=\\\"deleteApi\\\"\\r\\n  [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n  [keyMap]=\\\"updatesKeyMap\\\"\\r\\n  [isStatusEditable]=\\\"!isReadOpenMode\\\"\\r\\n  (onUpdated)=\\\"updateObjectStatusFromStatusUpdatesHistory($event)\\\"\\r\\n></aw-status-update-history>\\r\\n\\r\\n<aw-sb-ad-import-popup\\r\\n  *ngIf=\\\"showDocumentDialog\\\"\\r\\n  [document]=\\\"currentDocument\\\"\\r\\n  [(display)]=\\\"showDocumentDialog\\\"\\r\\n  [isReadOnlyForm]=\\\"isReadOnlyDocumentDialog\\\"\\r\\n  (onValidated)=\\\"updateDocument($event)\\\"\\r\\n></aw-sb-ad-import-popup>\\r\\n\\r\\n<aw-sb-ad-limits-periodicities-popup-form\\r\\n  *ngIf=\\\"showLimitAndPeriodicityDialog\\\"\\r\\n  [(display)]=\\\"showLimitAndPeriodicityDialog\\\"\\r\\n  [component-data]=\\\"dataLimitAndPeriodicity\\\"\\r\\n  (onCreate)=\\\"addNewConcernedLimitAndPeriodicity($event)\\\"\\r\\n  (onUpdate)=\\\"updateLimitAndPeriodicity($event)\\\"\\r\\n  [isNewLimitAndPeriodicity]=\\\"isNewLimitAndPeriodicity\\\"\\r\\n  [sbCounterLimitRefDateMap]=\\\"getLimitRefernceDateEndpointRef()\\\"\\r\\n></aw-sb-ad-limits-periodicities-popup-form>\\r\\n\\r\\n<aw-dialog-generate-comment\\r\\n  *ngIf=\\\"showGenerateCommentPopup\\\"\\r\\n  [(display)]=\\\"showGenerateCommentPopup\\\"\\r\\n  [componentData]=\\\"comment\\\"\\r\\n  (onValidate)=\\\"saveComments($event)\\\"\\r\\n></aw-dialog-generate-comment>\\r\\n\"","module.exports = \".alert-icon-yellow {\\n  background-color: transparent;\\n  color: #ff9800;\\n  padding: 2px;\\n  text-align: center; }\\n  .alert-icon-yellow:hover {\\n    background-color: #ff9800;\\n    color: #fff;\\n    border-radius: 5px; }\\n  .resize-disabled {\\n  resize: none !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3NiYWQtZm9ybS9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcc2JhZC1mb3JtXFxzYmFkLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw2QkFBNkI7RUFDN0IsY0FBYztFQUNkLFlBQVk7RUFDWixrQkFBa0IsRUFBQTtFQUpwQjtJQU9JLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsa0JBQWtCLEVBQUE7RUFJdEI7RUFDRSx1QkFBdUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9zYmFkLWZvcm0vc2JhZC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmFsZXJ0LWljb24teWVsbG93IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBjb2xvcjogI2ZmOTgwMDtcclxuICBwYWRkaW5nOiAycHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjk4MDA7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICB9XHJcbn1cclxuXHJcbi5yZXNpemUtZGlzYWJsZWQge1xyXG4gIHJlc2l6ZTogbm9uZSAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { UpdateHistoricApi } from '../../../shared/api/update-historic.api';\r\nimport { PageTocService } from '../../../shared/components/component-sidebar/page-toc.service';\r\nimport { DialogTableData } from '../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { DynamicAttributesService } from '../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { DynamicAttributes } from '../../../shared/components/dynamic-attributes/types/dynamic-attributes.interface';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../shared/enums/table-selection-mode.enum';\r\nimport { FormatSelectOptionPipe } from '../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { InputValidationService } from '../../../shared/services/input-validation.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { UpdateHistoricService } from '../../../shared/services/update-historic.service';\r\nimport { BidoDocumentationDTO } from '../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireConcernedAssetDTO } from '../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { BireDocSbDTOId } from '../../../shared/types/api-types/bire-doc-sb-dto-id.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireEvolutionDTOId } from '../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireEvolutionSbDTO } from '../../../shared/types/api-types/bire-evolution-sb-dto.interface';\r\nimport { BireMaintenancePlanDTOId } from '../../../shared/types/api-types/bire-maintenance-plan-dto-id.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { BireSbAttributeDTO } from '../../../shared/types/api-types/bire-sb-attribute-dto.interface';\r\nimport { BireSbCounterDTO } from '../../../shared/types/api-types/bire-sb-counter-dto.interface';\r\nimport { BireSbDTOId } from '../../../shared/types/api-types/bire-sb-dto-id.interface';\r\nimport { BireSbDTO } from '../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { BireSbVariantDTOId } from '../../../shared/types/api-types/bire-sb-variant-dto-id.interface';\r\nimport { BireSbVariantDTO } from '../../../shared/types/api-types/bire-sb-variant-dto.interface';\r\nimport { HBireSbDTO } from '../../../shared/types/api-types/h-bire-sb-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { DomUtils } from '../../../shared/utils/dom-utils';\r\nimport { FileUtils } from '../../../shared/utils/file-utils';\r\nimport { TabObjectIdUtils } from '../../../shared/utils/tab-object-id-utils';\r\nimport { UrlUtils } from '../../../shared/utils/url-utils';\r\nimport { WorkflowUtils } from '../../../shared/utils/workflow-utils';\r\nimport { ObjectStatusComponent } from '../../object-status/object-status.component';\r\nimport { OverlayService } from '../../overlay/overlay.service';\r\n\r\nimport { SbadFormMhiaelService } from './sbad-form-mhiael.service';\r\nimport { SbadFormService } from './sbad-form.service';\r\n\r\ninterface DocumentRow {\r\n  docCode?: string;\r\n  docExtension?: string;\r\n  docName?: string;\r\n  docPublicationDate?: string;\r\n  docSize?: string;\r\n  docSource?: string;\r\n  _obj: BireDocumentDTO;\r\n}\r\n\r\ninterface ApplicabilityRow {\r\n  sbNumber?: string;\r\n  sbRevisionNumber?: string;\r\n  familyCode?: string;\r\n  structureType?: string;\r\n  variantCode?: string;\r\n  sbApplicabilityDate: string;\r\n  _obj: BireSbVariantDTO;\r\n}\r\n\r\ninterface LimitAndPeriodicityRow {\r\n  sbNumber?: string;\r\n  sbRevisionNumber?: string;\r\n  counterCode?: string;\r\n  limitValue?: number;\r\n  limitType?: string;\r\n  limitReferenceDate?: string;\r\n  periodicity?: string;\r\n  comments?: string;\r\n  _obj: BireSbCounterDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-sbad-form',\r\n  templateUrl: './sbad-form.component.html',\r\n  styleUrls: ['./sbad-form.component.scss']\r\n})\r\nexport class SbadFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public documentsTableFilteredRowsNb: number;\r\n  public showStatusNotMatchedWarning: boolean;\r\n  public statusNotMatchedWarning: string;\r\n\r\n  // Table column fields, align and width\r\n  public evolutionsTableCols: TableColumn[];\r\n  public opeAttributesTableCols: TableColumn[];\r\n  public documentsTableCols: TableColumn[];\r\n  public applicabilitiesTableCols: TableColumn[];\r\n  public assetsTableCols: TableColumn[];\r\n  public limitsPeriodicitiesTableCols: TableColumn[];\r\n\r\n  // Selected objects in table\r\n  public selectedEvolutions: BireEvolutionSbDTO[];\r\n  public selectedApplicabilities: ApplicabilityRow[];\r\n  public selectedDocuments: DocumentRow[];\r\n  public selectedAssets: BireConcernedAssetDTO[];\r\n  public selectedLimitsAndPeriodicities: LimitAndPeriodicityRow[];\r\n\r\n  public delRow: number;\r\n\r\n  // For maintenance program\r\n  public bireMaintenancePlanDTO: BireMaintenancePlanDTO; // TODO\r\n  public showMaintenanceProgramDialog: boolean;\r\n\r\n  // For evolution tab\r\n  public currentEvolution: BireEvolutionSbDTO;\r\n  public displayStatusPopup: boolean;\r\n  public currentEvolutionId: string;\r\n\r\n  // For document tab\r\n  public showDocumentDialog: boolean;\r\n  public isReadOnlyDocumentDialog: boolean;\r\n  public currentDocument: BireDocumentDTO;\r\n  public currentDocumentIndex: number;\r\n\r\n  // For asset tab\r\n  public dataAssets: PopupEntry<BireConcernedAssetDTO>;\r\n  public currentAsset: BireConcernedAssetDTO;\r\n  public currentAssetIndex: number;\r\n  public isNewAsset: boolean;\r\n\r\n  // For applicabilities tab\r\n  public dataApplicabilities: PopupEntry<BireSbVariantDTO>;\r\n  public currentApplicabilities: BireSbVariantDTO;\r\n  public currentApplicabilitiesIndex: number;\r\n  public isNewApplicabilities: boolean;\r\n\r\n  // For attributes tab\r\n  public attributeIdValueMap: Map<string, string>;\r\n  public bireAttributesForSb: BireAttributeDTO[];\r\n  public bireSbAttributes: BireSbAttributeDTO[];\r\n  public dynamicAttributesForSb: DynamicAttributes[];\r\n\r\n  // For Limits and Periodicities tab\r\n  public counterCodeList: LabelValue<string>[];\r\n  public limitType: LabelValue<string>[];\r\n  public limitRefernceType: LabelValue<string>[];\r\n  public currentLimitAndPeriodicity: BireSbCounterDTO;\r\n  public showLimitAndPeriodicityDialog: boolean;\r\n  public isNewLimitAndPeriodicity: boolean;\r\n  public currentLimitAndPeriodicityIndex: number;\r\n  public dataLimitAndPeriodicity: PopupEntry<BireSbCounterDTO>;\r\n\r\n  // DTO objects from database\r\n  public bireSb: BireSbDTO;\r\n  public bireEvolutionSbs: BireEvolutionSbDTO[];\r\n  public bireDocument: BireDocumentDTO[];\r\n  public bireConcernedAsset: BireConcernedAssetDTO[];\r\n  public bireSbVariants: BireSbVariantDTO[];\r\n\r\n  // DTO objects for display\r\n  public bireSbDisplayed: BireSbDTO;\r\n  public bireEvolutionSbsDisplayed: BireEvolutionSbDTO[];\r\n  public bireDocumentDisplayed: DocumentRow[];\r\n  public bireConcernedAssetDisplayed: BireConcernedAssetDTO[];\r\n  public bireSbVariantsDisplayed: ApplicabilityRow[];\r\n  public newAttributeDisplayed: string;\r\n  public limitsAndApplicabilitiesDisplayed: LimitAndPeriodicityRow[];\r\n\r\n  // DTO objects for database\r\n  public bireSbId: BireSbDTOId;\r\n  private bireSbVariantAddedList: BireSbVariantDTO[];\r\n  private bireSbVariantUpdatedList: BireSbVariantDTO[];\r\n  private bireSbVariantDeletedList: BireSbVariantDTOId[];\r\n  private bireDocumentAddedList: BireDocumentDTO[];\r\n  private bireDocumentUpdatedList: BireDocumentDTO[];\r\n  private bireDocDeletedList: BireDocSbDTOId[];\r\n  private bireConcernedAssetAddedList: BireConcernedAssetDTO[];\r\n  private readonly familyCode: string;\r\n  private readonly structureType: string;\r\n  private readonly variantCode: string;\r\n\r\n  // DropDown list of label\r\n  public propertyType: LabelValue<string>[];\r\n  public propertySubType: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public workflowStatus: LabelValue<string>[];\r\n  public propertyClass: LabelValue<string>[];\r\n  public propertyCompliance: LabelValue<string>[];\r\n  public propertyActionType: LabelValue<string>[];\r\n\r\n  // For tab context\r\n  public subTitle: string;\r\n\r\n  // For object status/updates popup\r\n  public showStatusUpdatesPopup: boolean;\r\n  public tableStatusUpdatesData: DialogTableData<HBireSbDTO>;\r\n  public deleteApi: string;\r\n  public updatesKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public showApplicabilitiesDialog: boolean;\r\n  public showAssetDialog: boolean;\r\n  public isAD: boolean;\r\n  public showGenerateCommentPopup: boolean;\r\n  public comment: PopupEntry<string>;\r\n  public showSaveSpinner: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public inputValidationService: InputValidationService,\r\n    public readonly sbadFormService: SbadFormService,\r\n    private readonly sbadFormMhiaelService: SbadFormMhiaelService,\r\n    public readonly propertiesService: PropertiesService,\r\n    public translateService: TranslateService,\r\n    public dynamicAttributesService: DynamicAttributesService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    public sessionService: SessionService,\r\n    public dateService: DateService,\r\n    private readonly updateHistoricService: UpdateHistoricService,\r\n    private readonly updateHistoricApi: UpdateHistoricApi,\r\n    pageTocService: PageTocService,\r\n    private readonly _overlayService: OverlayService,\r\n    private readonly _formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n    this.isAD = false;\r\n    this.showApplicabilitiesDialog = false;\r\n    this.showAssetDialog = false;\r\n\r\n    this.showMaintenanceProgramDialog = false;\r\n    this.bireMaintenancePlanDTO = {};\r\n    this.displayStatusPopup = false;\r\n\r\n    // Init DTO objects\r\n    this.bireSb = {};\r\n    this.initSbDisplayed();\r\n\r\n    // Init differents tables\r\n    this.selectedEvolutions = [];\r\n    this.selectedApplicabilities = [];\r\n    this.selectedAssets = [];\r\n    this.selectedLimitsAndPeriodicities = [];\r\n    this.selectedDocuments = [];\r\n\r\n    this.bireSbVariantAddedList = [];\r\n    this.bireSbVariantUpdatedList = [];\r\n    this.bireSbVariantDeletedList = [];\r\n\r\n    this.bireDocumentAddedList = [];\r\n    this.bireDocumentUpdatedList = [];\r\n    this.bireDocDeletedList = [];\r\n\r\n    this.bireConcernedAssetAddedList = [];\r\n    this.bireConcernedAssetDisplayed = [];\r\n    this.limitsAndApplicabilitiesDisplayed = [];\r\n\r\n    this.bireDocumentDisplayed = [];\r\n    this.bireEvolutionSbsDisplayed = [];\r\n    this.bireSbVariantsDisplayed = [];\r\n\r\n    // Attributes init\r\n    this.attributeIdValueMap = new Map<string, string>();\r\n    this.bireAttributesForSb = [];\r\n    this.dynamicAttributesForSb = [];\r\n    this.bireSbAttributes = [];\r\n    this.getBireAttributesForSb();\r\n    // Fill table column information\r\n    this.initTableColumnField();\r\n\r\n    this.documentsTableFilteredRowsNb = 0;\r\n    this.delRow = 0;\r\n\r\n    // Loading all DropDown list\r\n    this.propertyStatus = [];\r\n    this.loadStatus(AWPropertiesConstants.OBJECT_STATUS_LOADED_KEY);\r\n    this.loadClassifications();\r\n    this.loadTypes();\r\n    this.loadSubTypes();\r\n    this.loadCompliances();\r\n    this.loadActionTypes();\r\n\r\n    // Loading all needed DTO objects\r\n    this.bireDocument = [];\r\n\r\n    // For status/updates popup\r\n    this.showStatusUpdatesPopup = false;\r\n    this.deleteApi = this.updateHistoricApi.removeBireSbHistory;\r\n    this.updatesKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n\r\n    // Lang change events\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      // Reset the right attribute name regarding the langage\r\n      this.dynamicAttributesForSb = this.dynamicAttributesService.from(this.bireAttributesForSb);\r\n      this.getBireSbAttributes();\r\n    });\r\n\r\n    this.userWorkflowSubject.pipe(takeUntil(this.unsubscribe)).subscribe((_userWorkflow) => {\r\n      this.updateWorkflowStatusList();\r\n    });\r\n  }\r\n\r\n  public showSubType(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public showContext(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public showGuideline(): boolean {\r\n    return false;\r\n  }\r\n\r\n  private initSbDisplayed() {\r\n    this.bireSbDisplayed = {\r\n      statusState: AWPropertiesConstants.FUNC_OBJECT_STATUS_ONGOING\r\n    };\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_SBAD_FORM;\r\n  }\r\n\r\n  private init(): void {\r\n    // Init DTO objects\r\n    this.bireSb = {};\r\n    this.bireSbDisplayed = {};\r\n\r\n    // Init differents tables\r\n    this.selectedEvolutions = [];\r\n    this.selectedApplicabilities = [];\r\n    this.selectedAssets = [];\r\n    this.selectedLimitsAndPeriodicities = [];\r\n    this.selectedDocuments = [];\r\n\r\n    this.bireSbVariantAddedList = [];\r\n    this.bireSbVariantUpdatedList = [];\r\n    this.bireSbVariantDeletedList = [];\r\n\r\n    this.bireDocumentAddedList = [];\r\n    this.bireDocumentUpdatedList = [];\r\n    this.bireDocDeletedList = [];\r\n\r\n    this.bireConcernedAssetAddedList = [];\r\n    this.bireConcernedAssetDisplayed = [];\r\n    this.limitsAndApplicabilitiesDisplayed = [];\r\n\r\n    this.bireDocumentDisplayed = [];\r\n    this.bireEvolutionSbsDisplayed = [];\r\n    this.bireSbVariantsDisplayed = [];\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.bireSbDisplayed.sbType = undefined;\r\n    if (this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      let context = '';\r\n      if (this.componentData.objectId) {\r\n        const tempContext = TabObjectIdUtils.bireSbDTOIdToString(\r\n          this.serializationService.deserialize(this.componentData.objectId)\r\n        ).split('|');\r\n        tempContext.forEach((element) => {\r\n          context += element + TabObjectIdUtils.CONTEXT_SEPARATOR;\r\n        });\r\n        context = context.substring(0, context.length - 1);\r\n        this.subTitle = context;\r\n        this.findBireSb();\r\n      } else {\r\n        this.loadUserWorkflow(this.bireSbDisplayed.statusState);\r\n        context = 'tab.createMode';\r\n        this.getLimitAndPeriodicityLists(undefined);\r\n      }\r\n      this.displayComponentContext(context, this.isCreateOpenMode);\r\n    } else {\r\n      // TODO\r\n    }\r\n  }\r\n\r\n  private initTableColumnField() {\r\n    this.evolutionsTableCols = [\r\n      { field: 'evolutionNumber', alignment: 'left', width: '20%' },\r\n      { field: 'evolutionRevisionNumber', alignment: 'left', width: '20%' },\r\n      // { field: 'statusState', alignment: 'left' },\r\n      { field: 'sbTitle', alignment: 'left', width: '50%' }\r\n    ];\r\n\r\n    this.opeAttributesTableCols = [\r\n      { field: 'dateAndHour', alignment: 'left', width: '5rem' },\r\n      { field: 'author', alignment: 'left', width: '5rem' },\r\n      { field: 'state', alignment: 'left', width: '5rem' },\r\n      { field: 'value', alignment: 'left', width: '5rem' },\r\n      { field: 'downloadDate', alignment: 'left', width: '5rem' }\r\n    ];\r\n\r\n    this.documentsTableCols = [\r\n      { field: 'docName', alignment: 'left' },\r\n      { field: 'docSource', alignment: 'left' },\r\n      { field: 'docExtension', alignment: 'left' },\r\n      { field: 'docSize', alignment: 'left' },\r\n      { field: 'docPublicationDate', alignment: 'left' }\r\n    ];\r\n\r\n    this.applicabilitiesTableCols = [\r\n      { field: 'familyCode', alignment: 'left' },\r\n      { field: 'structureType', alignment: 'left' },\r\n      { field: 'variantCode', alignment: 'left' },\r\n      { field: 'sbApplicabilityDate', alignment: 'left' }\r\n    ];\r\n\r\n    this.assetsTableCols = [\r\n      { field: 'assetPn', alignment: 'left' },\r\n      { field: 'assetSn', alignment: 'left' },\r\n      { field: 'assetActionType', alignment: 'left' }\r\n    ];\r\n\r\n    this.limitsPeriodicitiesTableCols = [\r\n      { field: 'counterCode', alignment: 'left', width: '20%' },\r\n      { field: 'limitValue', alignment: 'left', width: '15%' },\r\n      { field: 'limitType', alignment: 'left', width: '15%' },\r\n      { field: 'limitReferenceDate', alignment: 'left', width: '15%' },\r\n      { field: 'periodicity', alignment: 'left', width: '15%' },\r\n      { field: 'comments', alignment: 'left', width: '20%' }\r\n    ];\r\n  }\r\n\r\n  public showMaintenanceProgram(event: MouseEvent): void {\r\n    if (!DomUtils.isTargetDisabled(event.target)) {\r\n      this.showMaintenanceProgramDialog = true;\r\n    }\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onFilterDocumentsTable(event: any): void {\r\n    this.documentsTableFilteredRowsNb = event.filteredValue.length;\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.clearErrors();\r\n    if (this.isCreateOpenMode) {\r\n      this.init();\r\n      this.initAttributeValue();\r\n    } else {\r\n      this.ngOnInit();\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  private initAttributeValue(): void {\r\n    const leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesForSb);\r\n\r\n    leafs.forEach((attribute) => {\r\n      attribute.value = undefined;\r\n    });\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public refresh(): void {\r\n    if (this.componentData.objectId) {\r\n      this.findBireSb();\r\n    } else {\r\n      this.initSbDisplayed();\r\n    }\r\n  }\r\n\r\n  public upgradeSb(): void {\r\n    // Call backend to upgrade an SB/AD\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('sbConfirmUpgrade'),\r\n      accept: () => {\r\n        this.sbadFormService.checkSbAdRevisionNumber(this.bireSb).subscribe(\r\n          (sbRevisionNumber) => {\r\n            if (sbRevisionNumber !== null && sbRevisionNumber !== undefined) {\r\n              this.sbadFormService.upgradeSbAd(this.bireSb, sbRevisionNumber).subscribe(\r\n                (bireSb) => {\r\n                  this.bireSb = { ...bireSb };\r\n                  this.bireSbDisplayed = { ...bireSb };\r\n                  setTimeout(() => {\r\n                    const bireSbId: BireSbDTOId = {\r\n                      sbNumber: this.bireSb.sbNumber || '',\r\n                      sbRevisionNumber: this.bireSb.sbRevisionNumber || ''\r\n                    };\r\n\r\n                    this.componentData.objectId = this.serializationService.serialize(bireSbId);\r\n                    this.refresh();\r\n                  });\r\n                  this.messageService.showSuccessMessage(this.getTranslateKey('sbUpgraded'));\r\n                },\r\n                () => {\r\n                  this.messageService.showErrorMessage(this.getTranslateKey('errorOnUpgraded'));\r\n                }\r\n              );\r\n            } else {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('sbRevisionNumberNotCorrect'));\r\n            }\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnCheck'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    this.showStatusUpdatesPopup = true;\r\n    const columns: TableColumn[] = [\r\n      { field: 'timestamp', width: '14rem', filterMode: TableColumnFilterMode.Input, isDate: true, alignment: 'left' },\r\n      { field: 'statusUser', width: '13rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'action', width: '6rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'statusState', width: '6rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbTitle', width: '32rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbType', width: '6rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      {\r\n        field: 'sbPublicationDate',\r\n        width: '13rem',\r\n        filterMode: TableColumnFilterMode.Input,\r\n        isDate: true,\r\n        alignment: 'left'\r\n      },\r\n      {\r\n        field: 'sbEffectiveDate',\r\n        width: '13rem',\r\n        filterMode: TableColumnFilterMode.Input,\r\n        isDate: true,\r\n        alignment: 'left'\r\n      },\r\n      { field: 'sbCompliance', width: '16rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbComplianceStatus', width: '16rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbComplianceInformation', width: '13rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbClass', width: '13rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'sbDocumentUrl', width: '24rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'hoursLimit', width: '6rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'cyclesLimit', width: '6rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      {\r\n        field: 'limitComplianceDate',\r\n        width: '13rem',\r\n        filterMode: TableColumnFilterMode.Input,\r\n        isDate: true,\r\n        alignment: 'left'\r\n      },\r\n      { field: 'sbAssets', width: '16rem', filterMode: TableColumnFilterMode.Input, alignment: 'left' }\r\n    ];\r\n    this.updatesKeyMap.set('sbType', this.propertiesService.getValue('getSbTypeMap'));\r\n    this.updatesKeyMap.set('sbCompliance', this.propertiesService.getValue('getComplianceMap'));\r\n    this.updatesKeyMap.set('sbClass', this.propertiesService.getValue('getSbClassificationMap'));\r\n    this.tableStatusUpdatesData = {\r\n      componentId: 'SbadFormComponent.historicPopup',\r\n      tableCols: columns,\r\n      tableRows: this.updateHistoricService.findBireSbHistoric(this.bireSbId),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Multiple,\r\n      globalFilter: false\r\n    };\r\n  }\r\n\r\n  public setSelectedMaintenanceProgram(event: BireMaintenancePlanDTO): void {\r\n    this.bireMaintenancePlanDTO = event;\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Evolutions Tab\r\n   ***********************************************************************************/\r\n\r\n  public displayStatusForEvolution(): void {\r\n    if (!!this.selectedEvolutions && this.selectedEvolutions.length === 1) {\r\n      this.currentEvolution = { ...this.selectedEvolutions[0] };\r\n\r\n      const statusObj = this.propertyStatus.filter(\r\n        (status) => status.label === this.selectedEvolutions[0].statusState\r\n      )[0];\r\n      this.currentEvolution.statusState = statusObj && statusObj.value;\r\n\r\n      this.currentEvolutionId =\r\n        `Evolution ${this.currentEvolution.evolutionNumber}` + ` - ${this.currentEvolution.evolutionRevisionNumber}`;\r\n      this.displayStatusPopup = true;\r\n    }\r\n  }\r\n\r\n  public openStatusPopup(bireEvolutionSb: BireEvolutionSbDTO): void {\r\n    this.currentEvolution = { ...bireEvolutionSb };\r\n\r\n    const statusObj = this.propertyStatus.filter((status) => status.label === bireEvolutionSb.statusState)[0];\r\n    this.currentEvolution.statusState = statusObj && statusObj.value;\r\n\r\n    this.currentEvolutionId =\r\n      `Evolution ${this.currentEvolution.evolutionNumber}` + ` - ${this.currentEvolution.evolutionRevisionNumber}`;\r\n    this.displayStatusPopup = true;\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Applicabilities Tab\r\n   ***********************************************************************************/\r\n\r\n  private getCustomApplicabilityRow(obj: BireSbVariantDTO): ApplicabilityRow {\r\n    return {\r\n      _obj: obj,\r\n      sbNumber: obj.sbNumber,\r\n      sbRevisionNumber: obj.sbRevisionNumber,\r\n      familyCode: obj.familyCode,\r\n      structureType: obj.structureType,\r\n      variantCode: obj.variantCode,\r\n      sbApplicabilityDate: this.dateService.dateToString(obj.sbApplicabilityDate)\r\n    };\r\n  }\r\n\r\n  public createApplicabilities(): void {\r\n    this.currentApplicabilities = {};\r\n    this.showApplicabilitiesDialog = true;\r\n    this.isNewApplicabilities = true;\r\n    this.dataApplicabilities = {\r\n      componentId: this.getComponentName(),\r\n      selectedRow: undefined,\r\n      object: this.currentApplicabilities,\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n  }\r\n  public editApplicabilities(): void {\r\n    this.isNewApplicabilities = false;\r\n    if (this.selectedApplicabilities.length === 1) {\r\n      // Copy all the selectedApplicabilities[0] field into currentApplicabilities one by one\r\n      this.currentApplicabilities = { ...this.selectedApplicabilities[0]._obj };\r\n\r\n      this.currentApplicabilitiesIndex = this.bireSbVariantsDisplayed.indexOf(this.selectedApplicabilities[0]);\r\n      this.showApplicabilitiesDialog = true;\r\n      this.dataApplicabilities = {\r\n        componentId: this.getComponentName(),\r\n        selectedRow: [this.selectedApplicabilities[0]._obj],\r\n        object: this.currentApplicabilities,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n  }\r\n  public openApplicabilities(): void {\r\n    if (this.selectedApplicabilities.length === 1) {\r\n      this.currentApplicabilities = { ...this.selectedApplicabilities[0]._obj };\r\n\r\n      this.currentAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedApplicabilities[0]);\r\n      this.showApplicabilitiesDialog = true;\r\n      this.dataApplicabilities = {\r\n        componentId: this.getComponentName(),\r\n        selectedRow: [this.selectedApplicabilities[0]._obj],\r\n        object: this.currentApplicabilities,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  /*\r\n        Sb variant handler functions\r\n    */\r\n  public addNewSbVariant(newSbVariant: BireSbVariantDTO) {\r\n    const searchInDisplayedList = this.bireSbVariantsDisplayed.find(\r\n      (value) =>\r\n        value.sbNumber === newSbVariant.sbNumber &&\r\n        value.sbRevisionNumber === newSbVariant.sbRevisionNumber &&\r\n        value.variantCode === newSbVariant.variantCode &&\r\n        value.familyCode === newSbVariant.familyCode &&\r\n        value.familyCode === newSbVariant.familyCode\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireSbVariantAddedList.push(newSbVariant);\r\n      this.bireSbVariantsDisplayed.push(this.getCustomApplicabilityRow(newSbVariant));\r\n    } else {\r\n      // TODO case: There is already a sbVariant with this value...\r\n    }\r\n  }\r\n  public deleteSelectedSbVariants() {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedSbVariants'),\r\n      accept: () => {\r\n        this.selectedApplicabilities.forEach((element) => {\r\n          const sbVariantId: BireSbVariantDTOId = {\r\n            sbNumber: element.sbNumber || '',\r\n            sbRevisionNumber: element.sbRevisionNumber || '',\r\n            variantCode: element.variantCode || '',\r\n            familyCode: element.familyCode || '',\r\n            structureType: element.structureType || ''\r\n          };\r\n          const searchInAddedList = this.bireSbVariantAddedList.find(\r\n            (value) =>\r\n              value.sbNumber === element.sbNumber &&\r\n              value.sbRevisionNumber === element.sbRevisionNumber &&\r\n              value.variantCode === element.variantCode &&\r\n              value.familyCode === element.familyCode &&\r\n              value.familyCode === element.familyCode\r\n          );\r\n          const searchInUpdatedList = this.bireSbVariantUpdatedList.find(\r\n            (value) =>\r\n              value.sbNumber === element.sbNumber &&\r\n              value.sbRevisionNumber === element.sbRevisionNumber &&\r\n              value.variantCode === element.variantCode &&\r\n              value.familyCode === element.familyCode &&\r\n              value.familyCode === element.familyCode\r\n          );\r\n          if (searchInAddedList) {\r\n            const indexInAddedList = this.bireSbVariantAddedList.indexOf(searchInAddedList);\r\n            this.bireSbVariantAddedList.splice(indexInAddedList, 1);\r\n          } else if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireSbVariantUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireSbVariantUpdatedList.splice(indexInUpdatedList, 1);\r\n            this.bireSbVariantDeletedList.push(sbVariantId);\r\n          } else {\r\n            this.bireSbVariantDeletedList.push(sbVariantId);\r\n          }\r\n          const indexInDisplayedList = this.bireSbVariantsDisplayed.indexOf(element);\r\n          this.bireSbVariantsDisplayed.splice(indexInDisplayedList, 1);\r\n        });\r\n        this.bireSbVariantDeletedList = [...this.bireSbVariantDeletedList];\r\n        this.selectedApplicabilities = [];\r\n      }\r\n    });\r\n  }\r\n  public updateSbVariant(udpatedSbVariant: BireSbVariantDTO) {\r\n    const previousSbVariantObject = this.bireSbVariantsDisplayed[this.currentApplicabilitiesIndex];\r\n    const searchInAddedList = this.bireSbVariantAddedList.find(\r\n      (value) =>\r\n        value.sbNumber === previousSbVariantObject.sbNumber &&\r\n        value.sbRevisionNumber === previousSbVariantObject.sbRevisionNumber &&\r\n        value.variantCode === previousSbVariantObject.variantCode &&\r\n        value.familyCode === previousSbVariantObject.familyCode &&\r\n        value.familyCode === previousSbVariantObject.familyCode\r\n    );\r\n    const searchInUpdatedList = this.bireSbVariantUpdatedList.find(\r\n      (value) =>\r\n        value.sbNumber === previousSbVariantObject.sbNumber &&\r\n        value.sbRevisionNumber === previousSbVariantObject.sbRevisionNumber &&\r\n        value.variantCode === previousSbVariantObject.variantCode &&\r\n        value.familyCode === previousSbVariantObject.familyCode &&\r\n        value.familyCode === previousSbVariantObject.familyCode\r\n    );\r\n    if (searchInAddedList) {\r\n      const indexInAddedList = this.bireSbVariantAddedList.indexOf(searchInAddedList);\r\n      this.bireSbVariantAddedList[indexInAddedList] = udpatedSbVariant;\r\n    } else if (searchInUpdatedList) {\r\n      const indexInUpdatedList = this.bireSbVariantUpdatedList.indexOf(searchInUpdatedList);\r\n      this.bireSbVariantUpdatedList[indexInUpdatedList] = udpatedSbVariant;\r\n    } else {\r\n      this.bireSbVariantUpdatedList.push(udpatedSbVariant);\r\n    }\r\n    this.selectedApplicabilities = [];\r\n    this.bireSbVariantsDisplayed[this.currentApplicabilitiesIndex] = this.getCustomApplicabilityRow(udpatedSbVariant);\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Assets Tab\r\n   ***********************************************************************************/\r\n  public createAsset(): void {\r\n    this.currentAsset = {};\r\n    this.showAssetDialog = true;\r\n    this.isNewAsset = true;\r\n    this.dataAssets = {\r\n      componentId: this.getComponentName(),\r\n      selectedRow: undefined,\r\n      object: this.currentAsset,\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n  }\r\n  public editAsset(): void {\r\n    this.isNewAsset = false;\r\n    if (this.selectedAssets.length === 1) {\r\n      // Copy all the selectedAssets[0] field into currentAsset one by one\r\n      this.currentAsset = { ...this.selectedAssets[0] };\r\n\r\n      const filteredAction = this.propertyActionType.filter(\r\n        (actionType) => actionType.label === this.currentAsset.assetActionType\r\n      );\r\n\r\n      if (filteredAction && filteredAction.length > 0 && filteredAction[0]) {\r\n        this.currentAsset.assetActionType = filteredAction[0].value;\r\n      }\r\n\r\n      this.currentAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);\r\n      this.showAssetDialog = true;\r\n      this.dataAssets = {\r\n        componentId: this.getComponentName(),\r\n        selectedRow: this.selectedAssets,\r\n        object: this.currentAsset,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n  }\r\n  public openAsset(): void {\r\n    if (this.selectedAssets.length === 1) {\r\n      this.currentAsset = { ...this.selectedAssets[0] };\r\n      const filteredAction = this.propertyActionType.filter(\r\n        (actionType) => actionType.label === this.currentAsset.assetActionType\r\n      );\r\n\r\n      if (filteredAction && filteredAction.length > 0 && filteredAction[0]) {\r\n        this.currentAsset.assetActionType = filteredAction[0].value;\r\n      }\r\n      this.currentAssetIndex = this.bireConcernedAssetDisplayed.indexOf(this.selectedAssets[0]);\r\n      this.showAssetDialog = true;\r\n      this.dataAssets = {\r\n        componentId: this.getComponentName(),\r\n        selectedRow: this.selectedAssets,\r\n        object: this.currentAsset,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  /*\r\n        Concerned asset handler functions\r\n    */\r\n  public deleteSelectedConcernedAssets() {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedConcernedAssets'),\r\n      accept: () => {\r\n        this.selectedAssets.forEach((element) => {\r\n          const indexInDisplayedList = this.bireConcernedAssetDisplayed.indexOf(element);\r\n          this.bireConcernedAssetDisplayed.splice(indexInDisplayedList, 1);\r\n        });\r\n        this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;\r\n        this.selectedAssets = [];\r\n      }\r\n    });\r\n  }\r\n  public addNewConcernedAsset(concernedAsset: BireConcernedAssetDTO) {\r\n    if (concernedAsset.assetActionType) {\r\n      concernedAsset.assetActionType = this.propertyActionType.filter(\r\n        (actionType) => actionType.value === concernedAsset.assetActionType\r\n      )[0].label;\r\n    }\r\n    const searchInDisplayedList = this.bireConcernedAssetDisplayed.find((value) =>\r\n      this.isConcernedAssetTheSame(value, concernedAsset)\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      this.bireConcernedAssetDisplayed.push(concernedAsset);\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorAlreadyConcernedAssetExist'));\r\n    }\r\n    this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;\r\n  }\r\n\r\n  public updateConcernedAsset(concernedAsset: BireConcernedAssetDTO) {\r\n    if (concernedAsset.assetActionType) {\r\n      concernedAsset.assetActionType = this.propertyActionType.filter(\r\n        (actionType) => actionType.value === concernedAsset.assetActionType\r\n      )[0].label;\r\n    }\r\n\r\n    this.bireConcernedAssetDisplayed[this.currentAssetIndex] = concernedAsset;\r\n    this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;\r\n    this.selectedAssets = [];\r\n  }\r\n  private isConcernedAssetTheSame(\r\n    concernedAsset1: BireConcernedAssetDTO,\r\n    concernedAsset2: BireConcernedAssetDTO\r\n  ): boolean {\r\n    if (\r\n      concernedAsset1.assetPn === concernedAsset2.assetPn &&\r\n      concernedAsset1.assetSn === concernedAsset2.assetSn &&\r\n      concernedAsset1.assetActionType === concernedAsset2.assetActionType\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Documents Tab\r\n   ***********************************************************************************/\r\n  /*\r\n        Documents handler functions\r\n    */\r\n\r\n  private getCustomDocumentRow(newDocument: BireDocumentDTO): DocumentRow {\r\n    return {\r\n      _obj: newDocument,\r\n      docCode: newDocument.docCode,\r\n      docExtension: this.showDocExtension(newDocument),\r\n      docName: newDocument.docName,\r\n      docPublicationDate: this.dateService.dateToString(newDocument.docPublicationDate),\r\n      docSize: this.showDocSize(newDocument),\r\n      docSource: newDocument.docSource\r\n    };\r\n  }\r\n\r\n  private addNewDocument(newDocument: BireDocumentDTO) {\r\n    const searchInDisplayedList = this.bireDocumentDisplayed.find((value) => value.docName === newDocument.docName);\r\n    if (!searchInDisplayedList) {\r\n      this.bireDocumentAddedList.push(newDocument);\r\n      this.bireDocumentDisplayed.push(this.getCustomDocumentRow(newDocument));\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorFileAlreadyExist'));\r\n    }\r\n  }\r\n  public deleteSelectedDocuments() {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedDocuments'),\r\n      accept: () => {\r\n        this.selectedDocuments.forEach((element) => {\r\n          const searchInAddedList = this.bireDocumentAddedList.find((value) => value.docName === element.docName);\r\n          const searchInUpdatedList = this.bireDocumentUpdatedList.find((value) => value.docName === element.docName);\r\n          if (searchInAddedList) {\r\n            const indexInAddedList = this.bireDocumentAddedList.indexOf(searchInAddedList);\r\n            this.bireDocumentAddedList.splice(indexInAddedList, 1);\r\n          } else if (searchInUpdatedList) {\r\n            const indexInUpdatedList = this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);\r\n            this.bireDocumentUpdatedList.splice(indexInUpdatedList, 1);\r\n            const bireDocSbId: BireDocSbDTOId = {\r\n              sbNumber: this.bireSbId.sbNumber,\r\n              sbRevisionNumber: this.bireSbId.sbRevisionNumber,\r\n              docCode: element.docCode || ''\r\n            };\r\n            this.bireDocDeletedList.push(bireDocSbId);\r\n          } else {\r\n            const bireDocSbId: BireDocSbDTOId = {\r\n              sbNumber: this.bireSbId.sbNumber,\r\n              sbRevisionNumber: this.bireSbId.sbRevisionNumber,\r\n              docCode: element.docCode || ''\r\n            };\r\n            this.bireDocDeletedList.push(bireDocSbId);\r\n          }\r\n          const indexInDisplayedList = this.bireDocumentDisplayed.indexOf(element);\r\n          this.bireDocumentDisplayed.splice(indexInDisplayedList, 1);\r\n        });\r\n        this.bireDocDeletedList = [...this.bireDocDeletedList];\r\n        this.selectedDocuments = [];\r\n      }\r\n    });\r\n  }\r\n  public updateDocument(updatedDocument: BireDocumentDTO) {\r\n    if (this.currentDocumentIndex === undefined || this.currentDocumentIndex < 0) {\r\n      this.addNewDocument(updatedDocument);\r\n    } else {\r\n      const previousDocumentObject = this.bireDocumentDisplayed[this.currentDocumentIndex];\r\n      const searchInAddedList = this.bireDocumentAddedList.find(\r\n        (value) => value.docName === previousDocumentObject.docName\r\n      );\r\n      const searchInUpdatedList = this.bireDocumentUpdatedList.find(\r\n        (value) => value.docCode === previousDocumentObject.docCode\r\n      );\r\n      if (searchInAddedList) {\r\n        const indexInAddedList = this.bireDocumentAddedList.indexOf(searchInAddedList);\r\n        this.bireDocumentAddedList[indexInAddedList] = updatedDocument;\r\n      } else if (searchInUpdatedList) {\r\n        const indexInUpdatedList = this.bireDocumentUpdatedList.indexOf(searchInUpdatedList);\r\n        this.bireDocumentUpdatedList[indexInUpdatedList] = updatedDocument;\r\n      } else {\r\n        this.bireDocumentUpdatedList.push(updatedDocument);\r\n      }\r\n      this.bireDocumentDisplayed[this.currentDocumentIndex] = this.getCustomDocumentRow(updatedDocument);\r\n      this.selectedDocuments = [];\r\n    }\r\n  }\r\n\r\n  // File handler utilities\r\n  public showDocExtension(document: BidoDocumentationDTO): string {\r\n    return FileUtils.getExtension(document.docName).toUpperCase();\r\n  }\r\n\r\n  public showDocSize(document: BidoDocumentationDTO): string {\r\n    return document.docFile ? FileUtils.getFormattedSize(document.docFile.length) : '';\r\n  }\r\n\r\n  public editDocument(): void {\r\n    if (this.selectedDocuments.length === 1) {\r\n      this.currentDocumentIndex = this.bireDocumentDisplayed.findIndex((document) => {\r\n        return document === this.selectedDocuments[0];\r\n      });\r\n\r\n      this.currentDocument = { ...this.selectedDocuments[0]._obj };\r\n      this.isReadOnlyDocumentDialog = false;\r\n      this.showDocumentDialog = true;\r\n    }\r\n  }\r\n\r\n  public openDocument(): void {\r\n    if (this.selectedDocuments.length === 1) {\r\n      this.currentDocument = this.selectedDocuments[0]._obj;\r\n      this.isReadOnlyDocumentDialog = true;\r\n      this.showDocumentDialog = true;\r\n    }\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Attributes Tab\r\n   ***********************************************************************************/\r\n  // Get differents attributes list for this object\r\n  public getBireAttributesForSb(): void {\r\n    const param: string[] = [\r\n      AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY,\r\n      AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_SB_KEY\r\n    ];\r\n    this.sbadFormService.findBireAttributesByCategoryList(param).subscribe(\r\n      (results) => {\r\n        this.bireAttributesForSb.push(...results);\r\n        setTimeout(() => {\r\n          this.dynamicAttributesForSb = this.dynamicAttributesService.from(this.bireAttributesForSb);\r\n          this.getBireSbAttributes();\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n      }\r\n    );\r\n    /*this.sbadFormService.findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY).subscribe(\r\n      (results) => {\r\n        this.bireAttributesForSb.push(...results);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n      }\r\n    );\r\n    this.sbadFormService.findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_SB_KEY).subscribe(\r\n      (results) => {\r\n        this.bireAttributesForSb.push(...results);\r\n        setTimeout(() => {\r\n          this.dynamicAttributesForSb = this.dynamicAttributesService.from(this.bireAttributesForSb);\r\n          this.getBireSbAttributes();\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n      }\r\n    );*/\r\n  }\r\n\r\n  public getBireSbAttributes(): void {\r\n    this.sbadFormService.findBireSbAttributesBySb(this.bireSb).subscribe(\r\n      (results) => {\r\n        this.bireSbAttributes = results;\r\n        this.dynamicAttributesService.setValues(this.dynamicAttributesForSb, this.bireSbAttributes);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesBySb'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public initAttributeIdValueMap() {\r\n    // Real code\r\n    this.bireSbAttributes.forEach((element) => {\r\n      if (!!element.attributeId) {\r\n        this.attributeIdValueMap.set(element.attributeId, element.attributeValue || '');\r\n      }\r\n    });\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * BackEnd functions\r\n   ***********************************************************************************/\r\n  private loadStatus(statusState: string): void {\r\n    this.propertiesService.getObjectStatusList(true, false, false, statusState, false).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          results.forEach((element) => {\r\n            if (this.propertyStatus.filter((status) => status.value === element.value).length === 0) {\r\n              this.propertyStatus.push(element);\r\n            }\r\n          });\r\n          this.propertyStatus = [...this.propertyStatus];\r\n          this.updateWorkflowStatusList();\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStatusList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private updateWorkflowStatusList() {\r\n    this.workflowStatus = WorkflowUtils.filterWorkflowStatusList(\r\n      this.userWorkflow,\r\n      this.propertyStatus,\r\n      this.bireSbDisplayed.statusState\r\n    );\r\n  }\r\n\r\n  public loadTypes(): void {\r\n    this.propertiesService.getValue('getSbTypeMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyType = results.filter(\r\n            (type) =>\r\n              type.value !== AWPropertiesConstants.SB_TYPE_AD_KEY &&\r\n              type.value !== AWPropertiesConstants.SB_TYPE_AMG_KEY\r\n          );\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSbTypeList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public loadSubTypes(): void {\r\n    this.propertiesService.getValue('getAdditionalGuidelineSubTypeMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertySubType = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSbTypeList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadCompliances(): void {\r\n    this.propertiesService.getValue('getComplianceMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyCompliance = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnComplianceList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadClassifications(): void {\r\n    this.propertiesService.getValue('getSbClassificationMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertyClass = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnClassificationList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadActionTypes(): void {\r\n    this.propertiesService.getValue('getAssetActionTypeMap').subscribe(\r\n      (results) => {\r\n        this.propertyActionType = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnActionTypeList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private findBireSb(): void {\r\n    // ObjectId[0] -> sbNumber & ObjectId[1] -> sbRevisionNumber\r\n    if (!!this.componentData.objectId) {\r\n      this.bireSbId = this.serializationService.deserialize(this.componentData.objectId);\r\n    }\r\n\r\n    this.sbadFormService.findBireSb(this.bireSbId).subscribe(\r\n      (result) => {\r\n        this.bireSb = result;\r\n        this.loadUserWorkflow(this.bireSb.statusState);\r\n        if (this.bireSb.sbPublicationDate) {\r\n          this.bireSb.sbPublicationDate = new Date(this.bireSb.sbPublicationDate.toString());\r\n        }\r\n        if (this.bireSb.statusDate) {\r\n          this.bireSb.statusDate = new Date(this.bireSb.statusDate.toString());\r\n        }\r\n        if (this.bireSb.sbEffectiveDate) {\r\n          this.bireSb.sbEffectiveDate = new Date(this.bireSb.sbEffectiveDate.toString());\r\n        }\r\n        if (this.bireSb.limitComplianceDate) {\r\n          this.bireSb.limitComplianceDate = new Date(this.bireSb.limitComplianceDate.toString());\r\n        }\r\n        if (this.propertyStatus.filter((status) => status.value === this.bireSb.statusState).length === 0) {\r\n          if (this.bireSb.statusState) {\r\n            this.loadStatus(this.bireSb.statusState);\r\n          }\r\n        }\r\n\r\n        this.bireSbDisplayed = { ...this.bireSb };\r\n        if (this.bireSb) {\r\n          this.findBireEvolutionsSbsBySb();\r\n          this.findBireDocumentsBySb();\r\n          this.findBireConcernedAssetsBySb();\r\n          this.findBireSbVariantsBySbNumbers();\r\n          this.getBireSbAttributes();\r\n          this.findBireSbCountersBySb();\r\n          this.findBireSbMaintenancePlan();\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireSb'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private findBireSbMaintenancePlan() {\r\n    if (this.bireSb) {\r\n      const bireSbDTOId: BireSbDTOId = {\r\n        sbNumber: this.bireSb.sbNumber || '',\r\n        sbRevisionNumber: this.bireSb.sbRevisionNumber || ''\r\n      };\r\n\r\n      this.sbadFormService.findBireSbMaintenancePlanBySb(bireSbDTOId).subscribe((result) => {\r\n        this.bireMaintenancePlanDTO = result || {};\r\n      });\r\n    }\r\n  }\r\n\r\n  private findBireEvolutionsSbsBySb(): void {\r\n    this.showStatusNotMatchedWarning = false;\r\n    this.statusNotMatchedWarning = '';\r\n    this.sbadFormService.findBireEvolutionSbsBySb(this.bireSb).subscribe(\r\n      (results) => {\r\n        this.bireEvolutionSbs = results;\r\n        this.bireEvolutionSbs.forEach((element) => {\r\n          if (element.statusDate) {\r\n            element.statusDate = new Date(element.statusDate.toString());\r\n          }\r\n        });\r\n        this.bireEvolutionSbsDisplayed = [...this.bireEvolutionSbs];\r\n        this.bireEvolutionSbsDisplayed.forEach((element) => {\r\n          if (this.bireSb.statusState !== element.statusState) {\r\n            this.showStatusNotMatchedWarning = true;\r\n            const statusKey = this.getTranslateKey('statusNotMatchedMessage');\r\n            this.translateService.get(statusKey).subscribe((result: string) => {\r\n              this.statusNotMatchedWarning = result;\r\n            });\r\n          }\r\n          const statusObj = this.propertyStatus.filter((status) => status.value === element.statusState)[0];\r\n          element.statusState = statusObj && statusObj.label;\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireEvolutionSbsBySb'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private findBireDocumentsBySb(): void {\r\n    this.sbadFormService.findBireDocumentsBySb(this.bireSb).subscribe(\r\n      (results) => {\r\n        this.bireDocument = results;\r\n        this.bireDocument.forEach((element) => {\r\n          if (element && element.docPublicationDate) {\r\n            element.docPublicationDate = new Date(element.docPublicationDate.toString());\r\n          } else {\r\n            // TODO: Investigation: I don't know why the last element of result table is undefined...\r\n            this.bireDocument.pop();\r\n          }\r\n        });\r\n\r\n        this.bireDocumentDisplayed = [];\r\n        this.bireDocument.forEach((doc) => {\r\n          this.bireDocumentDisplayed.push(this.getCustomDocumentRow(doc));\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireDocSbsBySb'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private findBireConcernedAssetsBySb(): void {\r\n    this.sbadFormService.findBireConcernedAssetsBySb(this.bireSb).subscribe(\r\n      (results) => {\r\n        this.bireConcernedAsset = results;\r\n        results.forEach((element) => {\r\n          if (element.assetActionType) {\r\n            const actionObj = this.propertyActionType.filter(\r\n              (actionType) => actionType.value === element.assetActionType\r\n            )[0];\r\n            element.assetActionType = actionObj && actionObj.label;\r\n          }\r\n        });\r\n        this.bireConcernedAssetDisplayed = [...results];\r\n        this.bireConcernedAssetAddedList = this.bireConcernedAssetDisplayed;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireConcernedAssetsBySb'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private findBireSbVariantsBySbNumbers(): void {\r\n    this.sbadFormService.findBireSbVariantsBySbNumbers(this.bireSb).subscribe(\r\n      (results) => {\r\n        this.bireSbVariants = results;\r\n        this.bireSbVariants.forEach((element) => {\r\n          if (element.sbApplicabilityDate) {\r\n            element.sbApplicabilityDate = new Date(element.sbApplicabilityDate.toString());\r\n          }\r\n          if (element.statusDate) {\r\n            element.statusDate = new Date(element.statusDate.toString());\r\n          }\r\n        });\r\n\r\n        this.bireSbVariantsDisplayed = [];\r\n        this.bireSbVariants.forEach((doc) => {\r\n          this.bireSbVariantsDisplayed.push(this.getCustomApplicabilityRow(doc));\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBireSbVariantsBySbNumber'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private isOneRequiredFieldNull() {\r\n    return !this.bireSbDisplayed.sbNumber || !this.bireSbDisplayed.sbRevisionNumber;\r\n  }\r\n\r\n  public openUrl(): void {\r\n    UrlUtils.openUrl(this.bireSbDisplayed.sbDocumentUrl);\r\n  }\r\n\r\n  public saveSbAdData(): boolean {\r\n    let saved = false;\r\n    const missingFields = this.checkMandatoryFields({\r\n      ...this.bireSbDisplayed,\r\n      planCode: this.bireMaintenancePlanDTO.planCode,\r\n      bireEvolutionSbsDisplayedTitle: this.bireEvolutionSbsDisplayed,\r\n      bireSbVariantsDisplayedTitle: this.bireSbVariantsDisplayed,\r\n      limitsAndApplicabilitiesDisplayedTitle: this.limitsAndApplicabilitiesDisplayed,\r\n      bireConcernedAssetDisplayedTitle: this.bireConcernedAssetDisplayed,\r\n      bireDocumentDisplayedTitle: this.bireDocumentDisplayed,\r\n      dynamicAttributes: this.dynamicAttributesForSb\r\n    });\r\n    if ((this.isCreateOpenMode && this.isOneRequiredFieldNull()) || missingFields.length > 0) {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('errorOnRequiredField'));\r\n    } else {\r\n      if (!!this.bireSbDisplayed.sbDocumentUrl && !UrlUtils.validateUrl(this.bireSbDisplayed.sbDocumentUrl)) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnInvalidUrl'));\r\n\r\n        return saved;\r\n      }\r\n      this.bireSbId = {\r\n        sbNumber: this.bireSbDisplayed.sbNumber || '',\r\n        sbRevisionNumber: this.bireSbDisplayed.sbRevisionNumber || ''\r\n      };\r\n      // Add the link between the sbad and the bireConcernedAsset added elements\r\n      this.bireConcernedAssetAddedList.forEach((element) => {\r\n        element.sbNumber = this.bireSbDisplayed.sbNumber;\r\n        element.sbRevisionNumber = this.bireSbDisplayed.sbRevisionNumber;\r\n        if (element.assetActionType) {\r\n          element.assetActionType = this.propertyActionType.filter(\r\n            (action) => action.label === element.assetActionType\r\n          )[0].value;\r\n        }\r\n      });\r\n\r\n      // Add the link between the sbad and the sbVariant added elements\r\n      this.bireSbVariantAddedList.forEach((element) => {\r\n        element.sbNumber = this.bireSbDisplayed.sbNumber;\r\n        element.sbRevisionNumber = this.bireSbDisplayed.sbRevisionNumber;\r\n      });\r\n\r\n      // Test attribute\r\n      this.bireSbAttributes = this.dynamicAttributesService.toBireSbAttribute(\r\n        this.bireSbDisplayed.sbNumber || '',\r\n        this.bireSbDisplayed.sbRevisionNumber || '',\r\n        this.dynamicAttributesForSb\r\n      );\r\n\r\n      let bireMaintenancePlanDTOId: BireMaintenancePlanDTOId | undefined;\r\n      if (this.bireMaintenancePlanDTO && this.bireMaintenancePlanDTO.planCode) {\r\n        bireMaintenancePlanDTOId = { planCode: this.bireMaintenancePlanDTO.planCode };\r\n      }\r\n\r\n      this.showSaveSpinner = true;\r\n      this.sbadFormService\r\n        .saveSbAdData(\r\n          this.bireSbDisplayed,\r\n          this.bireSbId,\r\n          this.bireSbVariantAddedList,\r\n          this.bireSbVariantUpdatedList,\r\n          this.bireSbVariantDeletedList,\r\n          this.bireDocumentAddedList,\r\n          this.bireDocumentUpdatedList,\r\n          this.bireDocDeletedList,\r\n          this.bireConcernedAssetAddedList,\r\n          this.familyCode,\r\n          this.structureType,\r\n          this.variantCode,\r\n          this.bireSbAttributes,\r\n          this.getAllSbLimitsAndPriodicities(),\r\n          bireMaintenancePlanDTOId,\r\n          !this.isCreateOpenMode\r\n        )\r\n        .subscribe(\r\n          (result) => {\r\n            // SUCCEED CASE\r\n            this.initializeObjectsAfterSave();\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('onSuccessSave'));\r\n            this.showSaveSpinner = false;\r\n            this.updateOpenMode(ComponentOpenMode.Read);\r\n          },\r\n          (error) => {\r\n            if (error && error.error && error.error.errorDesc) {\r\n              this.messageService.showErrorMessage(error.error.errorDesc);\r\n            } else {\r\n              this.messageService.showErrorMessage(this.getTranslateKey('errorOnSaveSbAdData'));\r\n            }\r\n            this.showSaveSpinner = false;\r\n          }\r\n        );\r\n      saved = true;\r\n\r\n      if (\r\n        this.bireSbDisplayed.statusState === AWPropertiesConstants.FUNC_OBJECT_STATUS_APPROVED_KEY &&\r\n        this.sessionService.isSpecificMHIAEL\r\n      ) {\r\n        this.sbadFormMhiaelService.updateSBADCsv(this.bireSb).subscribe();\r\n      }\r\n\r\n      // Reset label instead of value\r\n      this.bireConcernedAssetAddedList.forEach((element) => {\r\n        element.assetActionType = this.propertyActionType.filter(\r\n          (action) => action.value === element.assetActionType\r\n        )[0].label;\r\n      });\r\n    }\r\n\r\n    return saved;\r\n  }\r\n\r\n  private getAllSbLimitsAndPriodicities(): BireSbCounterDTO[] {\r\n    const bireSbCounterDTO: BireSbCounterDTO[] = [];\r\n    if (!!this.limitsAndApplicabilitiesDisplayed) {\r\n      this.limitsAndApplicabilitiesDisplayed.forEach((element) => {\r\n        element._obj.sbNumber = this.bireSbDisplayed.sbNumber;\r\n        element._obj.sbRevisionNumber = this.bireSbDisplayed.sbRevisionNumber;\r\n        bireSbCounterDTO.push(element._obj);\r\n      });\r\n    }\r\n\r\n    return bireSbCounterDTO;\r\n  }\r\n\r\n  private initializeObjectsAfterSave() {\r\n    // Clean the added lists\r\n    this.bireDocumentAddedList = [];\r\n    this.bireSbVariantAddedList = [];\r\n\r\n    // Clean the udated lists\r\n    this.bireDocumentUpdatedList = [];\r\n    this.bireSbVariantUpdatedList = [];\r\n\r\n    // Reset database object with displayed object\r\n    this.bireSb = { ...this.bireSbDisplayed };\r\n\r\n    this.bireSbId = {\r\n      sbNumber: this.bireSbDisplayed.sbNumber || '',\r\n      sbRevisionNumber: this.bireSbDisplayed.sbRevisionNumber || ''\r\n    };\r\n    this.bireDocument = [];\r\n    this.bireDocumentDisplayed.forEach((obj) => {\r\n      this.bireDocument.push({ ...obj._obj });\r\n    });\r\n\r\n    this.bireConcernedAsset = [...this.bireConcernedAssetDisplayed];\r\n    const objBireSbVariants = [...this.bireSbVariantsDisplayed];\r\n    this.bireSbVariants = [];\r\n    objBireSbVariants.forEach((obj) => {\r\n      this.bireSbVariants.push({ ...obj._obj });\r\n    });\r\n\r\n    // Set tabcontext and objectId\r\n    this.componentData.objectId = this.serializationService.serialize(this.bireSbId);\r\n    this.componentData.openMode = ComponentOpenMode.Write;\r\n    this.ngOnInit();\r\n  }\r\n\r\n  public addDocuments(): void {\r\n    this.currentDocument = {};\r\n    this.selectedDocuments = [];\r\n    this.currentDocumentIndex = -1;\r\n    this.isReadOnlyDocumentDialog = false;\r\n    this.showDocumentDialog = true;\r\n  }\r\n\r\n  public downloadFiles(): void {\r\n    this.selectedDocuments.forEach((documentRow) => {\r\n      FileUtils.downloadFile(documentRow._obj.docFile, documentRow._obj.docName);\r\n    });\r\n  }\r\n\r\n  public openEvolution(row: BireEvolutionSbDTO) {\r\n    const bireEvolutionDTOId: BireEvolutionDTOId = {\r\n      evolutionNumber: row.evolutionNumber,\r\n      evolutionRevisionNumber: row.evolutionRevisionNumber\r\n    };\r\n\r\n    const openMode: ComponentOpenMode = ComponentOpenMode.Read;\r\n\r\n    const labelKey = 'transaction.EvolutionFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EvolutionFormComponent',\r\n      objectId: this.serializationService.serialize(bireEvolutionDTOId),\r\n      openMode\r\n    };\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public getLimitRefernceDateEndpointRef(): string {\r\n    return GenericPropertyConstants.SB_EFFECTIVE_DATE;\r\n  }\r\n\r\n  public findBireSbCountersBySb(): void {\r\n    this.getLimitAndPeriodicityLists(() => {\r\n      this.sbadFormService.findBireSbCountersBySb(this.bireSbId).subscribe((results) => {\r\n        this.limitsAndApplicabilitiesDisplayed = results.map((obj) => {\r\n          return this.transformLimitRow(obj);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  public getLimitAndPeriodicityLists(callback: (() => void) | undefined): void {\r\n    const counterCode$ = this.sbadFormService.findAllColunterCode();\r\n    const limitType$ = this.propertiesService.getValue('getSbCounterLimitTypeMap');\r\n    const limitRefernceDate$ = this.propertiesService.getValue(this.getLimitRefernceDateEndpointRef());\r\n\r\n    forkJoin([counterCode$, limitType$, limitRefernceDate$]).subscribe(([counterCode, types, refernceType]) => {\r\n      this.counterCodeList = counterCode;\r\n      this.limitType = types;\r\n      this.limitRefernceType = refernceType;\r\n      if (callback) {\r\n        callback();\r\n      }\r\n    });\r\n  }\r\n\r\n  protected transformLimitRow(obj: BireSbCounterDTO): LimitAndPeriodicityRow {\r\n    const mapObj: LimitAndPeriodicityRow = {\r\n      _obj: obj,\r\n      sbNumber: obj.sbNumber,\r\n      sbRevisionNumber: obj.sbRevisionNumber,\r\n      comments: this.getDisplayComments(obj.comments || ''),\r\n      counterCode: this.convertValueToLabel(obj, 'counterCode', this.counterCodeList),\r\n      limitReferenceDate: this.convertValueToLabel(obj, 'limitReferenceDate', this.limitRefernceType),\r\n      limitType: this.convertValueToLabel(obj, 'limitType', this.limitType),\r\n      limitValue: obj.limitValue,\r\n      periodicity: obj.periodicity\r\n    };\r\n\r\n    return mapObj;\r\n  }\r\n\r\n  private convertValueToLabel<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): string {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.value === object[propertyName]);\r\n      if (!!labelValue) {\r\n        return labelValue.label;\r\n      }\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  /***********************************************************************************\r\n   * Limits And Periodicities Tab\r\n   ***********************************************************************************/\r\n  public createLimitAndPeriodicity(): void {\r\n    this.currentLimitAndPeriodicity = {};\r\n    this.showLimitAndPeriodicityDialog = true;\r\n    this.isNewLimitAndPeriodicity = true;\r\n    this.dataLimitAndPeriodicity = {\r\n      componentId: this.getComponentName(),\r\n      selectedRow: undefined,\r\n      object: this.currentLimitAndPeriodicity,\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n  }\r\n  public editLimitAndPeriodicity(): void {\r\n    this.isNewLimitAndPeriodicity = false;\r\n    if (this.selectedLimitsAndPeriodicities.length === 1) {\r\n      this.currentLimitAndPeriodicity = { ...this.selectedLimitsAndPeriodicities[0]._obj };\r\n\r\n      this.currentLimitAndPeriodicityIndex = this.limitsAndApplicabilitiesDisplayed.indexOf(\r\n        this.selectedLimitsAndPeriodicities[0]\r\n      );\r\n      this.showLimitAndPeriodicityDialog = true;\r\n      this.dataLimitAndPeriodicity = {\r\n        componentId: this.getComponentName(),\r\n        selectedRow: this.selectedLimitsAndPeriodicities,\r\n        object: this.currentLimitAndPeriodicity,\r\n        openMode: ComponentOpenMode.Write\r\n      };\r\n    }\r\n  }\r\n  public openLimitAndPeriodicity(): void {\r\n    if (this.selectedLimitsAndPeriodicities.length === 1) {\r\n      this.currentLimitAndPeriodicity = { ...this.selectedLimitsAndPeriodicities[0]._obj };\r\n\r\n      this.currentLimitAndPeriodicityIndex = this.limitsAndApplicabilitiesDisplayed.indexOf(\r\n        this.selectedLimitsAndPeriodicities[0]\r\n      );\r\n      this.showLimitAndPeriodicityDialog = true;\r\n      this.dataLimitAndPeriodicity = {\r\n        componentId: this.getComponentName(),\r\n        selectedRow: this.selectedLimitsAndPeriodicities,\r\n        object: this.currentLimitAndPeriodicity,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  /*\r\n    Concerned limit and periodicity handler functions\r\n  */\r\n  public deleteSelectedConcernedLimitAndPeriodicity() {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.confirmSelectedDataDelete',\r\n      accept: () => {\r\n        this.selectedLimitsAndPeriodicities.forEach((element) => {\r\n          const indexInDisplayedList = this.limitsAndApplicabilitiesDisplayed.indexOf(element);\r\n          this.limitsAndApplicabilitiesDisplayed.splice(indexInDisplayedList, 1);\r\n        });\r\n\r\n        this.selectedLimitsAndPeriodicities = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  public addNewConcernedLimitAndPeriodicity(obj: BireSbCounterDTO) {\r\n    const searchInDisplayedList = this.limitsAndApplicabilitiesDisplayed.find((value) =>\r\n      this.isLimitAndPeriodicityTheSame(value, obj)\r\n    );\r\n    if (!searchInDisplayedList) {\r\n      obj.sbNumber = this.bireSbDisplayed.sbNumber;\r\n      obj.sbRevisionNumber = this.bireSbDisplayed.sbRevisionNumber;\r\n      this.limitsAndApplicabilitiesDisplayed.push(this.transformLimitRow(obj));\r\n    }\r\n  }\r\n\r\n  public updateLimitAndPeriodicity(obj: BireSbCounterDTO) {\r\n    this.limitsAndApplicabilitiesDisplayed[this.currentLimitAndPeriodicityIndex] = this.transformLimitRow(obj);\r\n    this.selectedLimitsAndPeriodicities = [];\r\n  }\r\n\r\n  private isLimitAndPeriodicityTheSame(\r\n    concernedLimitAndPeriodicity1: BireSbCounterDTO,\r\n    concernedLimitAndPeriodicity2: BireSbCounterDTO\r\n  ): boolean {\r\n    if (concernedLimitAndPeriodicity1.counterCode === concernedLimitAndPeriodicity2.counterCode) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public generateTaskComment(): void {\r\n    const taskRow: LimitAndPeriodicityRow = { ...this.selectedLimitsAndPeriodicities[0] };\r\n    this.showGenerateCommentPopup = true;\r\n    this.comment = {\r\n      componentId: 'DialogGenerateCommentComponent',\r\n      selectedRow: undefined,\r\n      object: (taskRow._obj && taskRow._obj.comments) || '',\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n  }\r\n\r\n  public saveComments(comment: string) {\r\n    const row: LimitAndPeriodicityRow = this.selectedLimitsAndPeriodicities[0];\r\n    row.comments = this.getDisplayComments(comment);\r\n    row._obj.comments = comment;\r\n  }\r\n\r\n  public getDisplayComments(comment: string): string {\r\n    try {\r\n      if (comment) {\r\n        const commentObj = JSON.parse(comment);\r\n        if (commentObj && commentObj.length === 1) {\r\n          return commentObj[0].comment;\r\n        } else if (commentObj && commentObj.length > 1) {\r\n          return !!commentObj[0].comment ? commentObj[0].comment : comment;\r\n        }\r\n      }\r\n\r\n      return '';\r\n    } catch (e) {\r\n      return comment;\r\n    }\r\n  }\r\n\r\n  public showStatus(): void {\r\n    const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n      content: ObjectStatusComponent,\r\n      data: {\r\n        currentAuthor: this.bireSbDisplayed.statusUser,\r\n        currentDate: this.bireSbDisplayed.statusDate,\r\n        currentStatus: {\r\n          label: this._formatSelectOption.transform(this.bireSbDisplayed.statusState, this.workflowStatus),\r\n          value: this.bireSbDisplayed.statusState\r\n        },\r\n        nextStatuses: this.workflowStatus\r\n      }\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          const currentState = this.bireSbDisplayed.statusState;\r\n          this.bireSbDisplayed.statusState = event.data;\r\n          const saved = this.saveSbAdData();\r\n          if (!saved) {\r\n            // Revert status change if save not launched\r\n            this.bireSbDisplayed.statusState = currentState;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public showUpgrade(): boolean {\r\n    return true;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { SaveSbadDataInput } from '../../../shared/types/api-input-types/product-structure-management/save-sbad-data-input.interface';\r\nimport { UpgradeBireSbInput } from '../../../shared/types/api-input-types/product-structure-management/upgrade-bire-sbad-input.interface';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireConcernedAssetDTO } from '../../../shared/types/api-types/bire-concerned-asset-dto.interface';\r\nimport { BireDocSbDTOId } from '../../../shared/types/api-types/bire-doc-sb-dto-id.interface';\r\nimport { BireDocumentDTO } from '../../../shared/types/api-types/bire-document-dto.interface';\r\nimport { BireEvolutionSbDTO } from '../../../shared/types/api-types/bire-evolution-sb-dto.interface';\r\nimport { BireMaintenancePlanDTOId } from '../../../shared/types/api-types/bire-maintenance-plan-dto-id.interface';\r\nimport { BireSbAttributeDTO } from '../../../shared/types/api-types/bire-sb-attribute-dto.interface';\r\nimport { BireSbCounterDTO } from '../../../shared/types/api-types/bire-sb-counter-dto.interface';\r\nimport { BireSbDTOId } from '../../../shared/types/api-types/bire-sb-dto-id.interface';\r\nimport { BireSbDTO } from '../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { BireSbVariantDTOId } from '../../../shared/types/api-types/bire-sb-variant-dto-id.interface';\r\nimport { BireSbVariantDTO } from '../../../shared/types/api-types/bire-sb-variant-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class SbadFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Product structure management api\r\n   *************************************************************************/\r\n\r\n  public findBireEvolutionSbsBySb(bireSbDTO: BireSbDTO): Observable<BireEvolutionSbDTO[]> {\r\n    return super.post<BireSbDTO, BireEvolutionSbDTO[]>(\r\n      this.productStructureManagementApi.findBireEvolutionSbsBySb,\r\n      bireSbDTO\r\n    );\r\n  }\r\n\r\n  public findBireSbVariantsBySbNumbers(bireSbDto: BireSbDTO): Observable<BireSbVariantDTO[]> {\r\n    const bireSbDtoId: BireSbDTOId = {\r\n      sbNumber: bireSbDto.sbNumber || '',\r\n      sbRevisionNumber: bireSbDto.sbRevisionNumber || ''\r\n    };\r\n\r\n    return super.post<BireSbDTOId, BireSbVariantDTO[]>(\r\n      this.productStructureManagementApi.findBireSbVariantsBySbNumbers,\r\n      bireSbDtoId\r\n    );\r\n  }\r\n\r\n  public findBireConcernedAssetsBySb(bireSbDto: BireSbDTO): Observable<BireConcernedAssetDTO[]> {\r\n    const bireSbDtoId: BireSbDTOId = {\r\n      sbNumber: bireSbDto.sbNumber || '',\r\n      sbRevisionNumber: bireSbDto.sbRevisionNumber || ''\r\n    };\r\n\r\n    return super.post<BireSbDTOId, BireConcernedAssetDTO[]>(\r\n      this.productStructureManagementApi.findBireConcernedAssetsBySb,\r\n      bireSbDtoId\r\n    );\r\n  }\r\n\r\n  public findBireDocumentsBySb(bireSbDto: BireSbDTO): Observable<BireDocumentDTO[]> {\r\n    const bireSbDtoId: BireSbDTOId = {\r\n      sbNumber: bireSbDto.sbNumber || '',\r\n      sbRevisionNumber: bireSbDto.sbRevisionNumber || ''\r\n    };\r\n\r\n    return super.post<BireSbDTOId, BireDocumentDTO[]>(\r\n      this.productStructureManagementApi.findBireDocumentBySb,\r\n      bireSbDtoId\r\n    );\r\n  }\r\n\r\n  public saveSbAdData(\r\n    bireSb: BireSbDTO,\r\n    bireSbId: BireSbDTOId,\r\n    bireSbVariantAddedList: BireSbVariantDTO[],\r\n    bireSbVariantUpdatedList: BireSbVariantDTO[],\r\n    bireSbVariantDeletedList: BireSbVariantDTOId[],\r\n    bireDocumentAddedList: BireDocumentDTO[],\r\n    bireDocumentUpdatedList: BireDocumentDTO[],\r\n    bireDocDeletedList: BireDocSbDTOId[],\r\n    bireConcernedAssetAddedList: BireConcernedAssetDTO[],\r\n    familyCode: string,\r\n    structureType: string,\r\n    variantCode: string,\r\n    bireSbAttributes: BireSbAttributeDTO[],\r\n    bireSbCounterDTO: BireSbCounterDTO[],\r\n    bireMaintenancePlanDTOId: BireMaintenancePlanDTOId | undefined,\r\n    isUpdate: boolean\r\n  ): Observable<void> {\r\n    const params: SaveSbadDataInput = {\r\n      bireSb,\r\n      bireSbId,\r\n      bireSbVariantAddedList,\r\n      bireSbVariantUpdatedList,\r\n      bireSbVariantDeletedList,\r\n      bireDocumentAddedList,\r\n      bireDocumentUpdatedList,\r\n      bireDocDeletedList,\r\n      bireConcernedAssetAddedList,\r\n      familyCode,\r\n      structureType,\r\n      variantCode,\r\n      bireSbAttributes,\r\n      bireSbCounterDTO,\r\n      bireMaintenancePlanDTOId,\r\n      isUpdate\r\n    };\r\n\r\n    return super.post<SaveSbadDataInput, void>(this.productStructureManagementApi.saveSbAdData, params);\r\n  }\r\n\r\n  public findBireSb(bireSbId: BireSbDTOId): Observable<BireSbDTO> {\r\n    return super.post<BireSbDTOId, BireSbDTO>(this.productStructureManagementApi.findBireSb, bireSbId);\r\n  }\r\n\r\n  public findBireSbMaintenancePlanBySb(bireSbId: BireSbDTOId): Observable<BireSbDTO> {\r\n    return super.post<BireSbDTOId, BireSbDTO>(\r\n      this.productStructureManagementApi.findBireSbMaintenancePlanBySb,\r\n      bireSbId\r\n    );\r\n  }\r\n\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n\r\n  public findBireAttributesByCategoryList(category: string[]): Observable<BireAttributeDTO[]> {\r\n    return super.post<string[], BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategoryList,\r\n      category\r\n    );\r\n  }\r\n\r\n  public findBireSbAttributesBySb(bireSb: BireSbDTO): Observable<BireSbAttributeDTO[]> {\r\n    const bireSbId: BireSbDTOId = { sbNumber: bireSb.sbNumber || '', sbRevisionNumber: bireSb.sbRevisionNumber || '' };\r\n\r\n    return super.post<BireSbDTOId, BireSbAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireSbAttributesBySb,\r\n      bireSbId\r\n    );\r\n  }\r\n\r\n  public upgradeSbAd(bireSb: BireSbDTO, targetRevisionNumber: string): Observable<BireSbDTO> {\r\n    const params: UpgradeBireSbInput = {\r\n      bireSb,\r\n      targetRevisionNumber\r\n    };\r\n\r\n    return super.post<UpgradeBireSbInput, BireSbDTO>(this.productStructureManagementApi.upgradeBireSB, params);\r\n  }\r\n\r\n  public checkSbAdRevisionNumber(bireSb: BireSbDTO): Observable<string> {\r\n    return super.post<BireSbDTO, string>(\r\n      this.productStructureManagementApi.checkAndReturnNewRevisionNumberBySB,\r\n      bireSb\r\n    );\r\n  }\r\n\r\n  public findBireSbCountersBySb(bireSbId: BireSbDTOId): Observable<BireSbCounterDTO[]> {\r\n    return super.post<BireSbDTOId, BireSbCounterDTO[]>(\r\n      this.productStructureManagementApi.findBireSbCountersBySb,\r\n      bireSbId\r\n    );\r\n  }\r\n\r\n  public findAllColunterCode(): Observable<LabelValue<string>[]> {\r\n    return super.post<undefined, LabelValue<string>[]>(this.productStructureManagementApi.findAllCounterCode);\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AppConstants } from '../../../shared/constants/app-constants';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../shared/services/date.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { BireSbDTO } from '../../../shared/types/api-types/bire-sb-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { AirworthinessDocumentSearchComponent } from '../airworthiness-document-search/airworthiness-document-search.component';\r\nimport { AirworthinessDocumentSearchService } from '../airworthiness-document-search/airworthiness-document-search.service';\r\n\r\n@Component({\r\n  selector: 'aw-sbad-search',\r\n  templateUrl: '../airworthiness-document-search/airworthiness-document-search.component.html'\r\n})\r\nexport class SbadSearchComponent extends AirworthinessDocumentSearchComponent {\r\n  private static readonly TABLE_EXPORT_NAME: string = 'Service bulletin list';\r\n\r\n  public propertySubType: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    sessionService: SessionService,\r\n    confirmationService: ConfirmationService,\r\n    exportService: ExportService,\r\n    propertiesService: PropertiesService,\r\n    translateService: TranslateService,\r\n    dateService: DateService,\r\n    airworthinessDocumentSearchService: AirworthinessDocumentSearchService\r\n  ) {\r\n    super(\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      sessionService,\r\n      confirmationService,\r\n      exportService,\r\n      propertiesService,\r\n      translateService,\r\n      dateService,\r\n      airworthinessDocumentSearchService\r\n    );\r\n\r\n    this.SEARCH_CRITERIA_ID = AppConstants.SERVICE_BULLETIN_SEARCH_CRITERIA_ID;\r\n    this.loadSubTypes();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_SBAD_SEARCH;\r\n  }\r\n\r\n  protected getTableExportName(): string {\r\n    return SbadSearchComponent.TABLE_EXPORT_NAME;\r\n  }\r\n\r\n  public isAD(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public showSubType(): boolean {\r\n    return false;\r\n  }\r\n\r\n  public getFormComponentName(): string {\r\n    return ComponentConstants.ENG_SBAD_FORM;\r\n  }\r\n\r\n  protected findAirworthinessDocumentByCriteria(\r\n    familyCode: string | undefined,\r\n    structureType: string | undefined,\r\n    variantCode: string | undefined\r\n  ): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    return this.airworthinessDocumentSearchService.findBireSbsBySbCriteriaAd(\r\n      this.searchObject,\r\n      familyCode || '',\r\n      structureType || '',\r\n      variantCode || '',\r\n      this.sbPublicationDateFrom,\r\n      this.sbPublicationDateTo,\r\n      this.sbEffectiveDateFrom,\r\n      this.sbEffectiveDateTo\r\n    );\r\n  }\r\n\r\n  protected loadTypes(): void {\r\n    this.propertiesService.getValue('getSbTypeMap').subscribe(\r\n      (results) => {\r\n        this.propertyType = results.filter((obj) => {\r\n          return (\r\n            obj.value !== AWPropertiesConstants.SB_TYPE_AD_KEY && obj.value !== AWPropertiesConstants.SB_TYPE_AMG_KEY\r\n          );\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSbTypeList'));\r\n      }\r\n    );\r\n  }\r\n  public loadSubTypes(): void {\r\n    this.propertiesService.getValue('getAdditionalGuidelineSubTypeMap').subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.propertySubType = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSbTypeList'));\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".applicabilitiesPopupTitle\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".familyCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control form-control-with-modal\\\" [ngClass]=\\\"{ disabled: isReadOpenMode }\\\">\\r\\n            <div class=\\\"form-control-data\\\" (click)=\\\"showFamilyCode()\\\">{{ cmVariantObject.familyCode }}</div>\\r\\n\\r\\n            <div *ngIf=\\\"cmVariantObject.familyCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n              <i\\r\\n                class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                (click)=\\\"cmVariantObject.familyCode = undefined\\\"\\r\\n              ></i>\\r\\n            </div>\\r\\n            <div class=\\\"btn-search-wrapper\\\">\\r\\n              <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showFamilyCode()\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"cmVariantObject.structureType\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".structureType\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"cmVariantObject.structureType\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"cmVariantObject.variantCode\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label class=\\\"form-label\\\">{{ getComponentName() + \\\".variantCode\\\" | translate }}</label>\\r\\n\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"cmVariantObject.variantCode\\\" [disabled]=\\\"true\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.close\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"onValidate()\\\"\\r\\n      [disabled]=\\\"cmVariantObject.familyCode === undefined || cmVariantObject.familyCode === null\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-table\\r\\n  *ngIf=\\\"showFamilyCodeDialog\\\"\\r\\n  [keyMap]=\\\"tableKeyMap\\\"\\r\\n  [(display)]=\\\"showFamilyCodeDialog\\\"\\r\\n  [data]=\\\"dialogTableDataFamilyCode\\\"\\r\\n  (onSelected)=\\\"setSelectedFamilyCode($event)\\\"\\r\\n></aw-dialog-table>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BireCmVariantDTO } from '../../../../../shared/types/api-output-types/unit-conversion-matrix/bire-unit-conversion-matrix-variant-dto.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { BireVariantVersionDTO } from '../../../../../shared/types/api-types/bire-variant-version-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { PopupEntry } from '../../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../../shared/types/table-column.interface';\r\n\r\nimport { ConversionMatrixApplicabilitiesPopupFormService } from './cm-applicabilities-popup.service';\r\n\r\n@Component({\r\n  selector: 'aw-cm-applicabilities-popup',\r\n  templateUrl: './cm-applicabilities-popup.component.html'\r\n})\r\nexport class ConversionMatrixApplicabilitiesPopupFormComponent extends DialogComponent implements OnInit {\r\n  @Input('component-data') public componentData: PopupEntry<BireCmVariantDTO>;\r\n\r\n  @Input() public isNewVariant: boolean;\r\n\r\n  @Output() public onCreate: EventEmitter<BireCmVariantDTO> = new EventEmitter<BireCmVariantDTO>();\r\n\r\n  @Output() public onUpdate: EventEmitter<BireCmVariantDTO> = new EventEmitter<BireCmVariantDTO>();\r\n\r\n  public cmVariantObject: BireCmVariantDTO;\r\n\r\n  public dialogTableDataFamilyCode: DialogTableData<BireVariantDTO>;\r\n\r\n  public showFamilyCodeDialog: boolean;\r\n\r\n  // POPUP\r\n  public dialogTableData: DialogTableData<BireVariantVersionDTO>;\r\n  public tableKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public constructor(\r\n    public applicabilitiesPopupFormService: ConversionMatrixApplicabilitiesPopupFormService,\r\n    private readonly messageService: MessageService,\r\n    public sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'ConversionMatrixApplicabilitiesPopupFormComponent');\r\n\r\n    this.showFamilyCodeDialog = false;\r\n\r\n    this.tableKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n\r\n    this.searchFamilyCode();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'ConversionMatrixApplicabilitiesPopupFormComponent';\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.componentData && this.componentData.componentId && this.componentData.componentId.length > 0) {\r\n      this.cmVariantObject = this.componentData.object as BireCmVariantDTO;\r\n      this.updateOpenMode(this.componentData.openMode);\r\n    }\r\n  }\r\n\r\n  public onShow() {\r\n    this.display = true;\r\n  }\r\n\r\n  public onValidate(): void {\r\n    if (this.isRequiredFieldsFilled()) {\r\n      if (this.isNewVariant) {\r\n        this.onCreate.emit(this.cmVariantObject);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.cmVariantObject);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage('global.missingFields');\r\n    }\r\n  }\r\n\r\n  public searchFamilyCode() {\r\n    const test: TableColumn[] = [\r\n      { field: 'familyCode', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'familyName', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'familyFunction', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'structureType', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'variantCode', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'left' },\r\n      { field: 'variantName', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'left' }\r\n    ];\r\n\r\n    this.tableKeyMap.set('familyFunction', this.applicabilitiesPopupFormService.getEquipmentFunctionList());\r\n    this.dialogTableDataFamilyCode = {\r\n      componentId: 'ConversionMatrixApplicabilitiesPopupFormComponent.familyCodePopup',\r\n      tableCols: test,\r\n      tableRows: this.applicabilitiesPopupFormService.findFamilyVariantVersion(),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  private isRequiredFieldsFilled(): boolean {\r\n    return !!this.cmVariantObject.familyCode;\r\n  }\r\n\r\n  public setSelectedFamilyCode(selectedObject: BireVariantDTO) {\r\n    if (selectedObject) {\r\n      this.cmVariantObject.familyCode = selectedObject.familyCode;\r\n      this.cmVariantObject.structureType = selectedObject.structureType;\r\n      this.cmVariantObject.variantCode = selectedObject.variantCode;\r\n    }\r\n    this.showFamilyCodeDialog = false;\r\n  }\r\n\r\n  public showFamilyCode() {\r\n    this.showFamilyCodeDialog = true;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../../../shared/api/fleet-management.api';\r\nimport { ProductStructureManagementApi } from '../../../../../shared/api/product-structure-management.api';\r\nimport { BidoFunctionTypeConstants } from '../../../../../shared/constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../shared/services/app-config.service';\r\nimport { FindFamilyVariantInput } from '../../../../../shared/types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireVariantDTO } from '../../../../../shared/types/api-types/bire-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class ConversionMatrixApplicabilitiesPopupFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findFamilyVariantVersion(): Observable<SearchResultsDTO<BireVariantDTO>> {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n\r\n    return super.post<FindFamilyVariantInput, SearchResultsDTO<BireVariantDTO>>(\r\n      this.productStructureManagementApi.findFamilyVariantVersion,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public getEquipmentFunctionList(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.fleetManagementApi.getAllEquipmentFunctionList);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".unit\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-dropdown\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          [options]=\\\"unitCodes\\\"\\r\\n          [(ngModel)]=\\\"measure.unitCode\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n          [showClear]=\\\"true\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".fhEquivalent\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\"><input type=\\\"number\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"measure.fhEquivalent\\\" /></div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [ngClass]=\\\"{ inactive: !enableValidate() }\\\"\\r\\n      [disabled]=\\\"!enableValidate()\\\"\\r\\n    >\\r\\n      <span>{{ \\\"global.validate\\\" | translate }}</span>\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { BireConversionMatrixValueDTO } from '../../../../../shared/types/api-output-types/unit-conversion-matrix/bire-unit-conversion-matrix-value-dto.interface';\r\nimport { BireMeasureReferenceDTO } from '../../../../../shared/types/api-types/bire-measure-reference-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { UnitConversionMatrixService } from '../../unit-conversion-matrix.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-unit-conversion-matrix',\r\n  templateUrl: './dialog-unit-conversion-matrix.component.html'\r\n})\r\nexport class DialogUnitConversionMatrixComponent extends DialogComponent implements OnInit {\r\n  @Output()\r\n  public displayChange: EventEmitter<boolean>;\r\n\r\n  @Input()\r\n  public ucm: BireConversionMatrixValueDTO;\r\n\r\n  @Input()\r\n  public newUcm: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<BireConversionMatrixValueDTO>;\r\n\r\n  @Output()\r\n  public onUpdate: EventEmitter<BireConversionMatrixValueDTO>;\r\n\r\n  public readonly componentId: string;\r\n\r\n  public displayValue: boolean;\r\n\r\n  public unitCodes: LabelValue<string>[];\r\n\r\n  public measure: BireConversionMatrixValueDTO;\r\n\r\n  public constructor(public unitConversionMatrixService: UnitConversionMatrixService) {\r\n    super(ComponentOpenMode.Write, 'DialogUnitConversionMatrixComponent');\r\n\r\n    this.onCreate = new EventEmitter<BireConversionMatrixValueDTO>();\r\n    this.onUpdate = new EventEmitter<BireConversionMatrixValueDTO>();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'DialogUnitConversionMatrixComponent';\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.measure = {};\r\n    this.unitCodes = [];\r\n    this.loadDropdown();\r\n  }\r\n\r\n  private loadDropdown() {\r\n    this.unitConversionMatrixService.findAllBireMeasureReferences().subscribe((results) => {\r\n      const list: BireMeasureReferenceDTO[] = results;\r\n\r\n      list.sort((a, b) => {\r\n        if (a.counterCode && b.counterCode) {\r\n          const counterCodeA = a.counterCode.toLowerCase();\r\n          const counterCodeB = b.counterCode.toLowerCase();\r\n          if (counterCodeA < counterCodeB) {\r\n            return -1;\r\n          }\r\n          if (counterCodeA > counterCodeB) {\r\n            return 1;\r\n          }\r\n        }\r\n\r\n        return 0;\r\n      });\r\n\r\n      list.forEach((element) => {\r\n        const labelValue: LabelValue<string> = {\r\n          label: !!element.counterCode ? element.counterCode : '',\r\n          value: !!element.counterCode ? element.counterCode : ''\r\n        };\r\n        this.unitCodes.push(labelValue);\r\n      });\r\n\r\n      if (!!this.ucm) {\r\n        this.measure = this.ucm;\r\n      }\r\n    });\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public validate(): void {\r\n    if (!!this.measure) {\r\n      if (this.newUcm) {\r\n        this.onCreate.emit(this.measure);\r\n        this.display = false;\r\n      } else {\r\n        this.onUpdate.emit(this.measure);\r\n        this.display = false;\r\n      }\r\n    } else {\r\n      super.throwUnboundLocalError('validate', 'this.measure');\r\n    }\r\n  }\r\n\r\n  public enableValidate(): boolean {\r\n    if (!!this.measure && !!this.measure.unitCode && this.measure.unitCode !== '' && !!this.measure.fhEquivalent) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          - {{ baseInformation.cmCode }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button *ngIf=\\\"isReadOpenMode\\\" (click)=\\\"editUnitConversionMatrix()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      (click)=\\\"saveBireConversionMatrix()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      *ngIf=\\\"!isCreateOpenMode\\\"\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"Show all actions\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"reloadMatrix()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ \\\"page.\\\" + (isFavoriteEntry ? \\\"removeFromFavorites\\\" : \\\"addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--6\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ \\\"page.mainData\\\" | translate }}\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\" [class.required]=\\\"!isReadOpenMode\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".cmCode\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            [(ngModel)]=\\\"baseInformation.cmCode\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\" [class.required]=\\\"!isReadOpenMode\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".cmName\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input\\r\\n                            type=\\\"text\\\"\\r\\n                            class=\\\"aw-input\\\"\\r\\n                            [disabled]=\\\"isReadOpenMode\\\"\\r\\n                            [(ngModel)]=\\\"baseInformation.cmName\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell--6\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".concernedFamilies\\\" | translate }} ({{\\r\\n                        bireCMVariantAddedList ? bireCMVariantAddedList.length : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <div class=\\\"section\\\">\\r\\n                    <div class=\\\"section-content\\\">\\r\\n                      <p-table\\r\\n                        id=\\\"cmVariantsDisplayed\\\"\\r\\n                        [resizableColumns]=\\\"true\\\"\\r\\n                        #ptableConcernedFamilies\\r\\n                        class=\\\"aw-table2\\\"\\r\\n                        [columns]=\\\"concernedFamiliesTableCols\\\"\\r\\n                        [value]=\\\"bireCMVariantAddedList\\\"\\r\\n                        [(selection)]=\\\"selectedBireCMVariant\\\"\\r\\n                        [scrollable]=\\\"true\\\"\\r\\n                      >\\r\\n                        <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                          <span *ngIf=\\\"!isLoadingApplicabilityTable\\\"> &nbsp;</span>\\r\\n\\r\\n                          <div *ngIf=\\\"isLoadingApplicabilityTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                            <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                            <div class=\\\"lds-hourglass\\\"></div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"caption\\\">\\r\\n                          <div\\r\\n                            class=\\\"aw-table-header\\\"\\r\\n                            [ngClass]=\\\"{ 'rows-selected': selectedBireCMVariant.length > 0 }\\\"\\r\\n                          >\\r\\n                            <div class=\\\"aw-table-global-filter\\\">\\r\\n                              <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                                <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </label>\\r\\n\\r\\n                              <input\\r\\n                                #ptableConcernedFamiliesGlobalFilter\\r\\n                                class=\\\"aw-table-global-filter-input\\\"\\r\\n                                type=\\\"text\\\"\\r\\n                                placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                                (input)=\\\"ptableConcernedFamilies.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                              />\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"aw-table-actions\\\">\\r\\n                              <button\\r\\n                                id=\\\"deleteBireSbVariantsDisplayed\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedBireCMVariant.length > 0\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"deleteApplicabilities()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.delete\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                id=\\\"openBireSbVariantsDisplayed\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedBireCMVariant.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"openApplicabilities()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.open\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedBireCMVariant.length === 1\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"setAsDefaultFamilyVariant()\\\"\\r\\n                              >\\r\\n                                {{ componentData.componentId + \\\".setasDefault\\\" | translate }}\\r\\n                              </button>\\r\\n\\r\\n                              <button\\r\\n                                *ngIf=\\\"!isReadOpenMode && selectedBireCMVariant.length === 0\\\"\\r\\n                                type=\\\"button\\\"\\r\\n                                mat-raised-button\\r\\n                                (click)=\\\"createApplicabilities()\\\"\\r\\n                              >\\r\\n                                {{ \\\"global.add\\\" | translate }}\\r\\n                              </button>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                          <colgroup>\\r\\n                            <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                          </colgroup>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                          <tr>\\r\\n                            <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                            </th>\\r\\n\\r\\n                            <th\\r\\n                              pResizableColumn\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                            </th>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n\\r\\n                        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                            <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                              <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                            </td>\\r\\n\\r\\n                            <td\\r\\n                              *ngFor=\\\"let col of columns\\\"\\r\\n                              [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                              [ngSwitch]=\\\"col.field\\\"\\r\\n                            >\\r\\n                              <span *ngSwitchCase=\\\"'cmApplicabilityDate'\\\">\\r\\n                                {{ rowData[col.field] | date: \\\"shortDate\\\":\\\"\\\":currentLang }}\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngSwitchCase=\\\"'isDefault'\\\">\\r\\n                                <i *ngIf=\\\"rowData[col.field]\\\" class=\\\"pi pi-check\\\"></i>\\r\\n                              </span>\\r\\n\\r\\n                              <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                            </td>\\r\\n                          </tr>\\r\\n                        </ng-template>\\r\\n                      </p-table>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".ucmTab\\\" | translate }} ({{ ucmTable ? ucmTable.length : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #ucTable\\r\\n                    [columns]=\\\"ucmTableCols\\\"\\r\\n                    [value]=\\\"ucmTable\\\"\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [style]=\\\"{ margin: '0 auto', width: '100%' }\\\"\\r\\n                    [(selection)]=\\\"selectedUcmRows\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                    scrollHeight=\\\"400px\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedUcmRows.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableResultsGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ucTable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            type=\\\"button\\\"\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedUcmRows.length === 0\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"createUcmRecord()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedUcmRows.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editUcmRecord()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedUcmRows.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"deleteUcmRecord()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                        >\\r\\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-dialog-unit-conversion-matrix\\r\\n  *ngIf=\\\"showDialogUnitConversionMatrix\\\"\\r\\n  [ucm]=\\\"currentUcm\\\"\\r\\n  [(display)]=\\\"showDialogUnitConversionMatrix\\\"\\r\\n  [newUcm]=\\\"isNewUcm\\\"\\r\\n  (onCreate)=\\\"addNewUcm($event)\\\"\\r\\n  (onUpdate)=\\\"updateUcm($event)\\\"\\r\\n></aw-dialog-unit-conversion-matrix>\\r\\n\\r\\n<aw-cm-applicabilities-popup\\r\\n  *ngIf=\\\"showApplicabilitiesDialog\\\"\\r\\n  [(display)]=\\\"showApplicabilitiesDialog\\\"\\r\\n  [component-data]=\\\"dataApplicabilities\\\"\\r\\n  (onCreate)=\\\"addNewCMVariant($event)\\\"\\r\\n  [isNewVariant]=\\\"isNewApplicabilities\\\"\\r\\n></aw-cm-applicabilities-popup>\\r\\n\"","module.exports = \":host #unit-component .main-data .form-group {\\n  width: 15rem; }\\n  :host #unit-component .main-data .form-group .star {\\n    color: red; }\\n  :host #unit-component .attributes-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .plus-field {\\n  margin-right: 20px;\\n  max-width: 35rem;\\n  min-width: 25rem;\\n  width: 20%; }\\n  :host #unit-component .ucm-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .ucm-tab .ucm-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .ucm-tab .ucm-tables .align-right {\\n      margin-left: 93%; }\\n  :host #unit-component .ucm-tab .ucm-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .ucm-tab .ucm-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .fields-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .fields-tab .fields-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #unit-component .fields-tab .fields-fields .fields-field {\\n      width: 15rem; }\\n  :host #unit-component .fields-tab .fields-fields .cost-field {\\n      width: 6rem; }\\n  :host #unit-component .fields-tab .fields-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #unit-component .fields-tab .fields-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #unit-component .fields-tab .fields-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #unit-component .fields-tab .fields-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .fields-tab .fields-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .import-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .import-tab .import-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #unit-component .import-tab .import-fields .import-field {\\n      width: 10rem; }\\n  :host #unit-component .import-tab .import-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #unit-component .import-tab .import-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #unit-component .import-tab .import-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #unit-component .import-tab .tasks-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .import-tab .tasks-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .evolution-form-popup {\\n  display: flex;\\n  flex-direction: row;\\n  transition: width 0.3s;\\n  width: 20vw; }\\n  :host #unit-component .evolution-form-popup > div:nth-of-type(2) {\\n    flex: 1; }\\n  :host #unit-component .evolution-form-popup.active-right-panel {\\n    width: 70vw; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\\n      background-color: #e5e5e5; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .form-group {\\n      padding: 20px; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .right-panel {\\n      border-left: 1px solid #bdbdbd;\\n      padding: 20px 0 20px 20px; }\\n  :host #unit-component .evolution-number-panel {\\n  margin-bottom: 1rem;\\n  height: 409px;\\n  transition: height 0.5s ease-in-out; }\\n  :host #unit-component .evolution-number-panel .form-group {\\n    margin-bottom: 5px;\\n    margin-left: 0;\\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\\n  :host #unit-component .evolution-number-panel .table-container {\\n    -webkit-animation: fade 1s;\\n            animation: fade 1s;\\n    opacity: 1; }\\n  :host #unit-component .evolution-number-panel.collapsed {\\n    box-shadow: none;\\n    height: 56px; }\\n  :host #unit-component .evolution-number-panel.collapsed .panel-content {\\n      padding-bottom: 0; }\\n  :host #unit-component .evolution-number-panel.collapsed .form-group {\\n      margin-bottom: 0;\\n      margin-left: -24px;\\n      margin-top: -24px; }\\n  :host #unit-component .evolution-number-panel.collapsed .table-container {\\n      -webkit-animation: fade-out 1s;\\n              animation: fade-out 1s; }\\n  ::ng-deep .export-methods {\\n  list-style-type: none;\\n  margin: 0;\\n  min-width: 100px;\\n  padding: 0; }\\n  ::ng-deep .export-methods .export-method-wrapper {\\n    cursor: pointer;\\n    font-size: 0.8rem;\\n    padding: 5px 0; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method {\\n      padding-left: 5px; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method:hover {\\n        text-decoration: underline; }\\n  ::ng-deep #visit-form-component .aw-dialog .ui-dialog {\\n  max-width: 90%; }\\n  @-webkit-keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @-webkit-keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n  @keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvZm9ybS9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcdW5pdC1jb252ZXJzaW9uLW1hdHJpeFxcZm9ybVxcdW5pdC1jb252ZXJzaW9uLW1hdHJpeC1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00sWUFBWSxFQUFBO0VBSGxCO0lBTVEsVUFBVSxFQUFBO0VBTmxCO0VBV00sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBWjVCO0VBZ0JNLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLFVBQVUsRUFBQTtFQW5CaEI7RUF1Qk0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBeEI1QjtJQTJCUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBN0J6QjtNQWdDVSxnQkFBZ0IsRUFBQTtFQWhDMUI7TUFvQ1UsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUF0Q3pCO1FBeUNZLG1CQUFtQixFQUFBO0VBekMvQjtRQTZDWSxVQUFVLEVBQUE7RUE3Q3RCO1VBZ0RjLG1CQUFtQixFQUFBO0VBaERqQztVQW9EYyxrQkFBa0IsRUFBQTtFQXBEaEM7RUE0RE0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBN0Q1QjtJQWdFUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQWxFbkI7TUFxRVUsWUFBWSxFQUFBO0VBckV0QjtNQXlFVSxXQUFXLEVBQUE7RUF6RXJCO01BNkVVLGFBQWE7TUFDYixzQkFBc0I7TUFDdEIsVUFBVSxFQUFBO0VBL0VwQjtRQWtGWSxtQkFBbUIsRUFBQTtFQWxGL0I7UUFzRlksa0JBQWtCLEVBQUE7RUF0RjlCO0lBNEZRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUE5RnpCO01BaUdVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBO0VBbkd6QjtRQXNHWSxtQkFBbUIsRUFBQTtFQXRHL0I7UUEwR1ksVUFBVSxFQUFBO0VBMUd0QjtVQTZHYyxtQkFBbUIsRUFBQTtFQTdHakM7VUFpSGMsa0JBQWtCLEVBQUE7RUFqSGhDO0VBeUhNLGFBQWE7RUFDYixzQkFBc0IsRUFBQTtFQTFINUI7SUE2SFEsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixXQUFXLEVBQUE7RUEvSG5CO01Ba0lVLFlBQVksRUFBQTtFQWxJdEI7TUFzSVUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7RUF4SXBCO1FBMklZLG1CQUFtQixFQUFBO0VBM0kvQjtRQStJWSxrQkFBa0IsRUFBQTtFQS9JOUI7SUFxSlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTtFQXZKekI7TUEwSlUsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUE1SnpCO1FBK0pZLG1CQUFtQixFQUFBO0VBL0ovQjtRQW1LWSxVQUFVLEVBQUE7RUFuS3RCO1VBc0tjLG1CQUFtQixFQUFBO0VBdEtqQztVQTBLYyxrQkFBa0IsRUFBQTtFQTFLaEM7RUFrTE0sYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixzQkFBc0I7RUFDdEIsV0FBVyxFQUFBO0VBckxqQjtJQXdMUSxPQUFPLEVBQUE7RUF4TGY7SUE0TFEsV0FBVyxFQUFBO0VBNUxuQjtNQWdNWSx5QkFBeUIsRUFBQTtFQWhNckM7TUFvTVksYUFBYSxFQUFBO0VBcE16QjtNQXlNVSw4QkFBOEI7TUFDOUIseUJBQXlCLEVBQUE7RUExTW5DO0VBZ05NLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsbUNBQW1DLEVBQUE7RUFsTnpDO0lBcU5RLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2Qsc0VBQXNFLEVBQUE7RUF2TjlFO0lBMk5RLDBCQUFrQjtZQUFsQixrQkFBa0I7SUFDbEIsVUFBVSxFQUFBO0VBNU5sQjtJQWdPUSxnQkFBZ0I7SUFDaEIsWUFBWSxFQUFBO0VBak9wQjtNQW9PVSxpQkFBaUIsRUFBQTtFQXBPM0I7TUF3T1UsZ0JBQWdCO01BQ2hCLGtCQUFrQjtNQUNsQixpQkFBaUIsRUFBQTtFQTFPM0I7TUE4T1UsOEJBQXNCO2NBQXRCLHNCQUFzQixFQUFBO0VBT2hDO0VBQ0UscUJBQXFCO0VBQ3JCLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBSlo7SUFPSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGNBQWMsRUFBQTtFQVRsQjtNQVlNLGlCQUFpQixFQUFBO0VBWnZCO1FBZVEsMEJBQTBCLEVBQUE7RUFNbEM7RUFDRSxjQUFjLEVBQUE7RUFHaEI7RUFDRTtJQUNFLGFBQWE7SUFDYixVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBO0VBUGQ7RUFDRTtJQUNFLGFBQWE7SUFDYixVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBO0VBSWQ7RUFDRTtJQUNFLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFOZDtFQUNFO0lBQ0UsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC91bml0LWNvbnZlcnNpb24tbWF0cml4L2Zvcm0vdW5pdC1jb252ZXJzaW9uLW1hdHJpeC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICN1bml0LWNvbXBvbmVudCB7XHJcbiAgICAubWFpbi1kYXRhIC5mb3JtLWdyb3VwIHtcclxuICAgICAgd2lkdGg6IDE1cmVtO1xyXG5cclxuICAgICAgLnN0YXIge1xyXG4gICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXR0cmlidXRlcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgIC5wbHVzLWZpZWxkIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICBtYXgtd2lkdGg6IDM1cmVtO1xyXG4gICAgICBtaW4td2lkdGg6IDI1cmVtO1xyXG4gICAgICB3aWR0aDogMjAlO1xyXG4gICAgfVxyXG5cclxuICAgIC51Y20tdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC51Y20tdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5hbGlnbi1yaWdodCB7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogOTMlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmZpZWxkcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmZpZWxkcy1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmZpZWxkcy1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTVyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuY29zdC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogNnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5maWVsZHMtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5pbXBvcnQtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5pbXBvcnQtZmllbGRzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgIC5pbXBvcnQtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhc2tzLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZXZvbHV0aW9uLWZvcm0tcG9wdXAge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xyXG4gICAgICB3aWR0aDogMjB2dztcclxuXHJcbiAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgIGZsZXg6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYWN0aXZlLXJpZ2h0LXBhbmVsIHtcclxuICAgICAgICB3aWR0aDogNzB2dztcclxuXHJcbiAgICAgICAgLmxlZnQtcGFuZWwge1xyXG4gICAgICAgICAgLmV2b2x1dGlvbi1udW1iZXIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5yaWdodC1wYW5lbCB7XHJcbiAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNiZGJkYmQ7XHJcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4IDAgMjBweCAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5ldm9sdXRpb24tbnVtYmVyLXBhbmVsIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgICAgaGVpZ2h0OiA0MDlweDtcclxuICAgICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG1hcmdpbi1sZWZ0IDAuNXMgZWFzZS1pbi1vdXQsIG1hcmdpbi10b3AgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogZmFkZSAxcztcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmNvbGxhcHNlZCB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICBoZWlnaHQ6IDU2cHg7XHJcblxyXG4gICAgICAgIC5wYW5lbC1jb250ZW50IHtcclxuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtMjRweDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IC0yNHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBhbmltYXRpb246IGZhZGUtb3V0IDFzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOjpuZy1kZWVwIC5leHBvcnQtbWV0aG9kcyB7XHJcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gIG1hcmdpbjogMDtcclxuICBtaW4td2lkdGg6IDEwMHB4O1xyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC5leHBvcnQtbWV0aG9kLXdyYXBwZXIge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgICBwYWRkaW5nOiA1cHggMDtcclxuXHJcbiAgICAuZXhwb3J0LW1ldGhvZCB7XHJcbiAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAjdmlzaXQtZm9ybS1jb21wb25lbnQgLmF3LWRpYWxvZyAudWktZGlhbG9nIHtcclxuICBtYXgtd2lkdGg6IDkwJTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlIHtcclxuICAwJSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZS1vdXQge1xyXG4gIDAlIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG5cclxuICAxMDAlIHtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { SaveBireConversionMatrixInputDTO } from '../../../../shared/types/api-input-types/unit-conversion-matrix/bire-unit-conversion-matrix-create-dto.interface';\r\nimport { BireConversionMatrixDTO } from '../../../../shared/types/api-output-types/unit-conversion-matrix/bire-unit-conversion-matrix-dto.interface';\r\nimport { BireConversionMatrixValueDTO } from '../../../../shared/types/api-output-types/unit-conversion-matrix/bire-unit-conversion-matrix-value-dto.interface';\r\nimport { BireCmVariantDTO } from '../../../../shared/types/api-output-types/unit-conversion-matrix/bire-unit-conversion-matrix-variant-dto.interface';\r\nimport { PageComponent } from '../../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { PopupEntry } from '../../../../shared/types/popup-entry.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { UnitConversionMatrixService } from '../unit-conversion-matrix.service';\r\n\r\n@Component({\r\n  selector: 'aw-unit-conversion-matrix-form',\r\n  templateUrl: './unit-conversion-matrix-form.component.html',\r\n  styleUrls: ['./unit-conversion-matrix-form.component.scss']\r\n})\r\nexport class UnitConversionMatrixFormComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public cmId: number = 0;\r\n\r\n  // Creation of Unit Conversion\r\n  public ucmObject: SaveBireConversionMatrixInputDTO;\r\n  public baseInformation: BireConversionMatrixDTO;\r\n\r\n  // Concerned Families\r\n  public concernedFamiliesTableCols: TableColumn[];\r\n  public dataApplicabilities: PopupEntry<BireCmVariantDTO>;\r\n  public currentApplicabilities: BireCmVariantDTO;\r\n  public currentApplicabilitiesIndex: number;\r\n  public isNewApplicabilities: boolean;\r\n  public showApplicabilitiesDialog: boolean;\r\n  public bireCMVariantAddedList: BireCmVariantDTO[] | undefined;\r\n  public selectedBireCMVariant: BireCmVariantDTO[];\r\n\r\n  //  Unit Conversion matrix table\r\n  public isNewUcm: boolean;\r\n  public ucmTable: BireConversionMatrixValueDTO[] | undefined;\r\n  public ucmTableCols: TableColumn[];\r\n  public selectedUcmRows: BireConversionMatrixValueDTO[];\r\n  public currentUcm: BireConversionMatrixValueDTO | undefined;\r\n  public currentUcmIndex: number;\r\n  private unitConversionMatrixRowAddedList: BireConversionMatrixValueDTO[];\r\n  public showDialogUnitConversionMatrix: boolean;\r\n\r\n  public isLoading: boolean;\r\n\r\n  public showSaveSpinner: boolean;\r\n  public currentLang: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public dateService: DateService,\r\n    public translateService: TranslateService,\r\n    public unitConversionMatrixService: UnitConversionMatrixService,\r\n    public confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Read, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.ucmObject = {};\r\n    this.baseInformation = {};\r\n\r\n    this.concernedFamiliesTableCols = [\r\n      { field: 'familyCode', alignment: 'left' },\r\n      { field: 'structureType', alignment: 'left' },\r\n      { field: 'variantCode', alignment: 'left' },\r\n      { field: 'isDefault', alignment: 'left' }\r\n    ];\r\n\r\n    this.selectedBireCMVariant = [];\r\n    this.bireCMVariantAddedList = [];\r\n\r\n    this.currentUcm = undefined;\r\n    this.ucmTable = [];\r\n    this.ucmTableCols = [\r\n      { field: 'unitCode', alignment: 'center' },\r\n      { field: 'fhEquivalent', alignment: 'center' }\r\n    ];\r\n    this.selectedUcmRows = [];\r\n    this.unitConversionMatrixRowAddedList = [];\r\n\r\n    this.showApplicabilitiesDialog = false;\r\n    this.showDialogUnitConversionMatrix = false;\r\n\r\n    this.isLoading = false;\r\n\r\n    this.currentLang = this.translateService.currentLang;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.updateOpenMode(this.componentData.openMode);\r\n\r\n    if (this.componentData.objectId) {\r\n      const objectId = this.serializationService.deserialize(this.componentData.objectId);\r\n      this.cmId = objectId.cmId;\r\n      this.getUnitConversionMatrix(this.cmId);\r\n    } else {\r\n      this.ucmObject = {};\r\n      this.baseInformation = {};\r\n    }\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'UnitConversionMatrixFormComponent';\r\n  }\r\n\r\n  /**\r\n   * This function get the Unit Conversion matrix based on cm Id\r\n   */\r\n  public getUnitConversionMatrix(cmId: number): void {\r\n    this.unitConversionMatrixService.getUnitConversionMatrix(cmId).subscribe((results) => {\r\n      if (!!results) {\r\n        this.baseInformation = results;\r\n        this.bireCMVariantAddedList = !!results.variants ? results.variants : [];\r\n        this.ucmTable = !!results.values ? results.values : [];\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function save the full object for ConversionMatrix\r\n   */\r\n  public saveBireConversionMatrix(): void {\r\n    if (this.checkUnitConversionMatrixFields()) {\r\n      this.ucmObject = {\r\n        bireConversionMatrixDTO: this.baseInformation,\r\n        bireConversionMatrixValueDTOs: this.ucmTable,\r\n        bireCmVariantDTOs: this.bireCMVariantAddedList\r\n      };\r\n\r\n      this.showSaveSpinner = true;\r\n      this.unitConversionMatrixService\r\n        .saveConversionMatrix(this.ucmObject)\r\n        .subscribe((result) => {\r\n          if (!!result) {\r\n            this.baseInformation = result;\r\n            this.ucmTable = result.values;\r\n            this.bireCMVariantAddedList = result.variants;\r\n            this.updateOpenMode(ComponentOpenMode.Read);\r\n          }\r\n        })\r\n        .add(() => {\r\n          this.showSaveSpinner = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This function edit the Unit Conversion Matrix\r\n   */\r\n  public editUnitConversionMatrix() {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  /************************************\r\n   * Unit Conversion Matrix Tab Actions\r\n   ************************************/\r\n\r\n  public createUcmRecord(): void {\r\n    this.currentUcm = undefined;\r\n    this.isNewUcm = true;\r\n    this.showDialogUnitConversionMatrix = true;\r\n  }\r\n\r\n  public editUcmRecord(): void {\r\n    if (!!this.ucmTable && this.selectedUcmRows.length === 1) {\r\n      this.currentUcm = { ...this.selectedUcmRows[0] };\r\n      this.isNewUcm = false;\r\n      this.currentUcmIndex = this.ucmTable.indexOf(this.selectedUcmRows[0]);\r\n      this.showDialogUnitConversionMatrix = true;\r\n    }\r\n  }\r\n\r\n  public deleteUcmRecord(): void {\r\n    const partialMessageKey =\r\n      this.selectedUcmRows.length > 1 ? 'confirmDeleteSelectedRows' : 'confirmDeleteSelectedRow';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        const idArr: number[] = [];\r\n        this.unitConversionMatrixService.removeBidoPreferenceUser(idArr).subscribe(() => {\r\n          if (!!this.ucmTable) {\r\n            const messageKey = this.selectedUcmRows.length > 1 ? 'successOnDeleteRows' : 'successOnDeleteRow';\r\n            this.messageService.showSuccessMessage(this.getTranslateKey(messageKey));\r\n            this.ucmTable = this.ucmTable.filter((ucmRow) => {\r\n              return !this.selectedUcmRows.includes(ucmRow);\r\n            });\r\n            this.selectedUcmRows = [];\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public addNewUcm(ucm: BireConversionMatrixValueDTO): void {\r\n    if (!!ucm && !!this.ucmTable) {\r\n      const foundIndex = this.unitConversionMatrixRowAddedList.findIndex((value) => value.unitCode === ucm.unitCode);\r\n\r\n      if (foundIndex === -1) {\r\n        this.unitConversionMatrixRowAddedList.push(ucm);\r\n        this.ucmTable = [...this.ucmTable, ucm];\r\n      } else {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('warningonsameunit'));\r\n      }\r\n    }\r\n  }\r\n\r\n  public updateUcm(ucm: BireConversionMatrixValueDTO): void {\r\n    if (!!ucm && !!this.ucmTable) {\r\n      const foundIndexInTable = this.ucmTable.findIndex(\r\n        (value) => value.unitCode === ucm.unitCode && value.fhEquivalent === ucm.fhEquivalent\r\n      );\r\n\r\n      if (foundIndexInTable === -1) {\r\n        const foundIndex = this.unitConversionMatrixRowAddedList.findIndex(\r\n          (value) => value.unitCode === ucm.unitCode && value.fhEquivalent === ucm.fhEquivalent\r\n        );\r\n\r\n        if (foundIndex !== -1) {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('warningonsameunit'));\r\n        } else {\r\n          this.unitConversionMatrixRowAddedList[foundIndex] = ucm;\r\n          this.ucmTable[this.currentUcmIndex] = ucm;\r\n          this.selectedUcmRows = [];\r\n        }\r\n      } else {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('warningonsameunit'));\r\n      }\r\n    }\r\n  }\r\n\r\n  public reloadMatrix() {\r\n    this.unitConversionMatrixRowAddedList = [];\r\n  }\r\n\r\n  /*******************************************\r\n   * Ends : Unit Conversion Matrix Tab Actions\r\n   ******************************************/\r\n\r\n  /**\r\n   * This functions checks the mandatory fields\r\n   */\r\n  private checkUnitConversionMatrixFields(): boolean {\r\n    if (StringUtils.isNullOrEmpty(this.baseInformation.cmCode)) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('noMandatoryData'));\r\n\r\n      return false;\r\n    } else if (StringUtils.isNullOrEmpty(this.baseInformation.cmName)) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('noMandatoryData'));\r\n\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Concerned Families  Tab\r\n   */\r\n\r\n  public createApplicabilities(): void {\r\n    this.currentApplicabilities = {};\r\n    this.showApplicabilitiesDialog = true;\r\n    this.isNewApplicabilities = true;\r\n    this.dataApplicabilities = {\r\n      componentId: this.getComponentName(),\r\n      selectedRow: undefined,\r\n      object: this.currentApplicabilities,\r\n      openMode: ComponentOpenMode.Write\r\n    };\r\n  }\r\n\r\n  /**\r\n   * This function opens the selected applicability.\r\n   */\r\n  public openApplicabilities(): void {\r\n    if (this.selectedBireCMVariant.length === 1) {\r\n      this.currentApplicabilities = { ...this.selectedBireCMVariant[0] };\r\n      this.showApplicabilitiesDialog = true;\r\n      this.dataApplicabilities = {\r\n        componentId: this.getComponentName(),\r\n        selectedRow: [this.selectedBireCMVariant[0]],\r\n        object: this.currentApplicabilities,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This method deletes the selected applicability(s)\r\n   */\r\n  public deleteApplicabilities(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedRows'),\r\n      accept: () => {\r\n        this.selectedBireCMVariant.forEach((selectedCmVariant) => {\r\n          if (!!this.bireCMVariantAddedList) {\r\n            const indexInDisplayedList = this.bireCMVariantAddedList.indexOf(selectedCmVariant);\r\n            if (indexInDisplayedList > -1) {\r\n              this.bireCMVariantAddedList.splice(indexInDisplayedList, 1);\r\n            }\r\n          }\r\n        });\r\n        this.selectedBireCMVariant = [];\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   *  Conversion Matrix variant handler functions\r\n   */\r\n  public addNewCMVariant(newCMVariant: BireCmVariantDTO) {\r\n    if (!!this.bireCMVariantAddedList) {\r\n      const searchInDisplayedList = this.bireCMVariantAddedList.find(\r\n        (value) => value.variantCode === newCMVariant.variantCode && value.familyCode === newCMVariant.familyCode\r\n      );\r\n      if (!searchInDisplayedList) {\r\n        this.bireCMVariantAddedList.push(newCMVariant);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * This method sets the default Family variant for UCM.\r\n   */\r\n  public setAsDefaultFamilyVariant(): void {\r\n    if (this.bireCMVariantAddedList) {\r\n      this.bireCMVariantAddedList.forEach((cmVariant) => {\r\n        cmVariant.isDefault = false;\r\n      });\r\n\r\n      if (!!this.selectedBireCMVariant) {\r\n        this.selectedBireCMVariant[0].isDefault = true;\r\n      }\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"displayValue\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ componentId + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\"></label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" style=\\\"height: auto\\\">\\r\\n        <textarea\\r\\n          pInputTextArea\\r\\n          [cols]=\\\"60\\\"\\r\\n          [rows]=\\\"15\\\"\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"aw-textarea\\\"\\r\\n          [(ngModel)]=\\\"importReportMessage\\\"\\r\\n          disabled\\r\\n        ></textarea>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"close()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \".textbox {\\n  background-color: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvaW1wb3J0LXJlcG9ydC1wb3B1cC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXGFwcFxcbWFpblxcZW5naW5lZXJpbmctbWFuYWdlbWVudFxcdW5pdC1jb252ZXJzaW9uLW1hdHJpeFxcaW1wb3J0LXJlcG9ydC1wb3B1cFxcaW1wb3J0LXJlcG9ydC1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHVCQUF1QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvaW1wb3J0LXJlcG9ydC1wb3B1cC9pbXBvcnQtcmVwb3J0LXBvcHVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRleHRib3gge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG59XHJcbiJdfQ== */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'aw-import-report-popup',\r\n  templateUrl: './import-report-popup.component.html',\r\n  styleUrls: ['./import-report-popup.component.scss']\r\n})\r\nexport class ImportReportPopupComponent implements OnInit {\r\n  @Input()\r\n  public get display() {\r\n    return this.displayValue;\r\n  }\r\n\r\n  public set display(displayValue) {\r\n    this.displayValue = displayValue;\r\n    this.displayChange.emit(this.displayValue);\r\n  }\r\n\r\n  @Output() public displayChange: EventEmitter<boolean>;\r\n\r\n  @Input() public importReportMessage: string | null;\r\n\r\n  public readonly componentId: string;\r\n  public displayValue: boolean;\r\n\r\n  public constructor() {\r\n    this.componentId = 'ImportReportPopupComponent';\r\n    this.displayChange = new EventEmitter<boolean>();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    if (this.importReportMessage === '') {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  public close(): void {\r\n    this.display = false;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"createUnitConversionMatrix()\\\">\\r\\n      {{ componentData.componentId + \\\".create\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      *ngIf=\\\"!isCreateOpenMode\\\"\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"Show all actions\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button type=\\\"button\\\" mat-menu-item (click)=\\\"openTemplate()\\\">\\r\\n        {{ \\\"global.export\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"reloadMatrix()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ \\\"page.\\\" + (isFavoriteEntry ? \\\"removeFromFavorites\\\" : \\\"addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"column\\\">\\r\\n                    <div class=\\\"row search-criteria-header\\\">\\r\\n                      <i\\r\\n                        class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                        aria-hidden=\\\"true\\\"\\r\\n                        pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                        tooltipPosition=\\\"top\\\"\\r\\n                        (click)=\\\"resetSearchCriteria()\\\"\\r\\n                      ></i>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".familyVariant\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"familyVariant\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            [(ngModel)]=\\\"searchObject.familyVariant\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".cmCode\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.cmCode\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ componentData.componentId + \\\".cmName\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.cmName\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group flex--1\\\"></div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row search-criteria-footer\\\">\\r\\n                      <div class=\\\"search-actions\\\">\\r\\n                        <button\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          appKeyPress\\r\\n                          color=\\\"primary\\\"\\r\\n                          [keyCode]=\\\"'Enter'\\\"\\r\\n                          (click)=\\\"searchUnitConversionMatrix()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.toSearch\\\" | translate }}\\r\\n                        </button>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".results\\\" | translate }}\\r\\n                      ({{ ucmSearchResultsTable ? ucmSearchResultsTable.length : 0 }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #ptableResults\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [columns]=\\\"ucmSearchResultsTableCols\\\"\\r\\n                    [value]=\\\"ucmSearchResultsTable\\\"\\r\\n                    [(selection)]=\\\"selectedUcmSearchResults\\\"\\r\\n                    [style]=\\\"{ margin: '0 auto', width: '100%' }\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                    scrollHeight=\\\"400px\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingImport\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingImport\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedUcmSearchResults.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableResultsGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptableResults.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedUcmSearchResults.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"deleteUCM()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"selectedUcmSearchResults.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openSelectedUCM()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.open\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".importTab\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <!-- Import -->\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">{{ componentData.componentId + \\\".importTab\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"grid-cell--12\\\">\\r\\n                    <div class=\\\"grid-cell-content\\\">\\r\\n                      <div class=\\\"column\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\">\\r\\n                              {{ componentData.componentId + \\\".fileToImport\\\" | translate }}\\r\\n                            </label>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"fileName\\\" disabled />\\r\\n                            </div>\\r\\n                          </div>\\r\\n                          <div class=\\\"form-group\\\">\\r\\n                            <label class=\\\"form-label\\\"> </label>\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <label class=\\\"form-label\\\"> </label>\\r\\n                              <div class=\\\"grid-cell--2\\\">\\r\\n                                <p-fileUpload\\r\\n                                  #fileUploader\\r\\n                                  class=\\\"aw-fileupload\\\"\\r\\n                                  chooseLabel=\\\"{{ 'global.upload' | translate }}\\\"\\r\\n                                  name=\\\"document[]\\\"\\r\\n                                  customUpload=\\\"true\\\"\\r\\n                                  mode=\\\"basic\\\"\\r\\n                                  auto=\\\"true\\\"\\r\\n                                  (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n                                ></p-fileUpload>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"row search-criteria-footer\\\">\\r\\n                          <div class=\\\"search-actions\\\">\\r\\n                            <button\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"import()\\\"\\r\\n                              [ngClass]=\\\"{ inactive: fileName === '' }\\\"\\r\\n                            >\\r\\n                              <i class=\\\"fa fa-fw fa-plus\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              <span>{{ componentData.componentId + \\\".importFile\\\" | translate }}</span>\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!-- Archived Report -->\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".archivedImportTab\\\" | translate }} ({{\\r\\n                        archivedImportReportTable ? archivedImportReportTable.length : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <p-table\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                    #table\\r\\n                    class=\\\"aw-table2\\\"\\r\\n                    [columns]=\\\"archivedImportReportTableCols\\\"\\r\\n                    [value]=\\\"archivedImportReportTable\\\"\\r\\n                    [style]=\\\"{ margin: '0 auto', width: '100%' }\\\"\\r\\n                    [(selection)]=\\\"selectedArchivedImportReports\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                    scrollHeight=\\\"400px\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingImport\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingImport\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div\\r\\n                        class=\\\"aw-table-header\\\"\\r\\n                        [ngClass]=\\\"{ 'rows-selected': selectedArchivedImportReports.length > 0 }\\\"\\r\\n                      >\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptableResultsGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"table.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            pTooltip=\\\"{{ 'global.delete' | translate }}\\\"\\r\\n                            tooltipPosition=\\\"top\\\"\\r\\n                            (click)=\\\"deleteArchivedImportReports()\\\"\\r\\n                            *ngIf=\\\"selectedArchivedImportReports.length !== 0\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.delete\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                      <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td\\r\\n                          *ngFor=\\\"let col of columns\\\"\\r\\n                          [ngSwitch]=\\\"col.field\\\"\\r\\n                          [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                        >\\r\\n                          <div *ngSwitchCase=\\\"'reportName'\\\">\\r\\n                            <span\\r\\n                              (click)=\\\"openReportDetail(rowData)\\\"\\r\\n                              style=\\\"cursor: pointer; text-decoration: underline; color: blue\\\"\\r\\n                            >\\r\\n                              {{ rowData[col.field] }}\\r\\n                            </span>\\r\\n                          </div>\\r\\n                          <div *ngSwitchCase=\\\"'statusDate'\\\">\\r\\n                            <span> {{ rowData[col.field] | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang }} </span>\\r\\n                          </div>\\r\\n                          <div *ngSwitchDefault>{{ rowData[col.field] }}</div>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<aw-import-report-popup\\r\\n  *ngIf=\\\"showImportReportMessage\\\"\\r\\n  [importReportMessage]=\\\"importReportMessage\\\"\\r\\n  [(display)]=\\\"showImportReportMessage\\\"\\r\\n></aw-import-report-popup>\\r\\n\"","module.exports = \":host #unit-component .main-data .form-group {\\n  width: 15rem; }\\n  :host #unit-component .main-data .form-group .star {\\n    color: red; }\\n  :host #unit-component .attributes-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .plus-field {\\n  margin-right: 20px;\\n  max-width: 35rem;\\n  min-width: 25rem;\\n  width: 20%; }\\n  :host #unit-component .ucm-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .ucm-tab .ucm-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .ucm-tab .ucm-tables .align-right {\\n      margin-left: 93%; }\\n  :host #unit-component .ucm-tab .ucm-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .ucm-tab .ucm-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .ucm-tab .ucm-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .fields-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .fields-tab .fields-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #unit-component .fields-tab .fields-fields .fields-field {\\n      width: 15rem; }\\n  :host #unit-component .fields-tab .fields-fields .cost-field {\\n      width: 6rem; }\\n  :host #unit-component .fields-tab .fields-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #unit-component .fields-tab .fields-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #unit-component .fields-tab .fields-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #unit-component .fields-tab .fields-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .fields-tab .fields-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .fields-tab .fields-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .import-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #unit-component .import-tab .import-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #unit-component .import-tab .import-fields .import-field {\\n      width: 10rem; }\\n  :host #unit-component .import-tab .import-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #unit-component .import-tab .import-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #unit-component .import-tab .import-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #unit-component .import-tab .tasks-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #unit-component .import-tab .tasks-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #unit-component .import-tab .tasks-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #unit-component .evolution-form-popup {\\n  display: flex;\\n  flex-direction: row;\\n  transition: width 0.3s;\\n  width: 20vw; }\\n  :host #unit-component .evolution-form-popup > div:nth-of-type(2) {\\n    flex: 1; }\\n  :host #unit-component .evolution-form-popup.active-right-panel {\\n    width: 70vw; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\\n      background-color: #e5e5e5; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .left-panel .form-group {\\n      padding: 20px; }\\n  :host #unit-component .evolution-form-popup.active-right-panel .right-panel {\\n      border-left: 1px solid #bdbdbd;\\n      padding: 20px 0 20px 20px; }\\n  :host #unit-component .evolution-number-panel {\\n  margin-bottom: 1rem;\\n  height: 409px;\\n  transition: height 0.5s ease-in-out; }\\n  :host #unit-component .evolution-number-panel .form-group {\\n    margin-bottom: 5px;\\n    margin-left: 0;\\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\\n  :host #unit-component .evolution-number-panel .table-container {\\n    -webkit-animation: fade 1s;\\n            animation: fade 1s;\\n    opacity: 1; }\\n  :host #unit-component .evolution-number-panel.collapsed {\\n    box-shadow: none;\\n    height: 56px; }\\n  :host #unit-component .evolution-number-panel.collapsed .panel-content {\\n      padding-bottom: 0; }\\n  :host #unit-component .evolution-number-panel.collapsed .form-group {\\n      margin-bottom: 0;\\n      margin-left: -24px;\\n      margin-top: -24px; }\\n  :host #unit-component .evolution-number-panel.collapsed .table-container {\\n      -webkit-animation: fade-out 1s;\\n              animation: fade-out 1s; }\\n  ::ng-deep .export-methods {\\n  list-style-type: none;\\n  margin: 0;\\n  min-width: 100px;\\n  padding: 0; }\\n  ::ng-deep .export-methods .export-method-wrapper {\\n    cursor: pointer;\\n    font-size: 0.8rem;\\n    padding: 5px 0; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method {\\n      padding-left: 5px; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method:hover {\\n        text-decoration: underline; }\\n  ::ng-deep #visit-form-component .aw-dialog .ui-dialog {\\n  max-width: 90%; }\\n  @-webkit-keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @-webkit-keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n  @keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3VuaXQtY29udmVyc2lvbi1tYXRyaXgvc2VhcmNoL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFx1bml0LWNvbnZlcnNpb24tbWF0cml4XFxzZWFyY2hcXHVuaXQtY29udmVyc2lvbi1tYXRyaXgtc2VhcmNoLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00sWUFBWSxFQUFBO0VBSGxCO0lBTVEsVUFBVSxFQUFBO0VBTmxCO0VBV00sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBWjVCO0VBZ0JNLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLFVBQVUsRUFBQTtFQW5CaEI7RUF1Qk0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBeEI1QjtJQTJCUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBN0J6QjtNQWdDVSxnQkFBZ0IsRUFBQTtFQWhDMUI7TUFvQ1UsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUF0Q3pCO1FBeUNZLG1CQUFtQixFQUFBO0VBekMvQjtRQTZDWSxVQUFVLEVBQUE7RUE3Q3RCO1VBZ0RjLG1CQUFtQixFQUFBO0VBaERqQztVQW9EYyxrQkFBa0IsRUFBQTtFQXBEaEM7RUE0RE0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBN0Q1QjtJQWdFUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQWxFbkI7TUFxRVUsWUFBWSxFQUFBO0VBckV0QjtNQXlFVSxXQUFXLEVBQUE7RUF6RXJCO01BNkVVLGFBQWE7TUFDYixzQkFBc0I7TUFDdEIsVUFBVSxFQUFBO0VBL0VwQjtRQWtGWSxtQkFBbUIsRUFBQTtFQWxGL0I7UUFzRlksa0JBQWtCLEVBQUE7RUF0RjlCO0lBNEZRLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsaUJBQWlCLEVBQUE7RUE5RnpCO01BaUdVLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsZUFBZSxFQUFBO0VBbkd6QjtRQXNHWSxtQkFBbUIsRUFBQTtFQXRHL0I7UUEwR1ksVUFBVSxFQUFBO0VBMUd0QjtVQTZHYyxtQkFBbUIsRUFBQTtFQTdHakM7VUFpSGMsa0JBQWtCLEVBQUE7RUFqSGhDO0VBeUhNLGFBQWE7RUFDYixzQkFBc0IsRUFBQTtFQTFINUI7SUE2SFEsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixXQUFXLEVBQUE7RUEvSG5CO01Ba0lVLFlBQVksRUFBQTtFQWxJdEI7TUFzSVUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7RUF4SXBCO1FBMklZLG1CQUFtQixFQUFBO0VBM0kvQjtRQStJWSxrQkFBa0IsRUFBQTtFQS9JOUI7SUFxSlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTtFQXZKekI7TUEwSlUsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUE1SnpCO1FBK0pZLG1CQUFtQixFQUFBO0VBL0ovQjtRQW1LWSxVQUFVLEVBQUE7RUFuS3RCO1VBc0tjLG1CQUFtQixFQUFBO0VBdEtqQztVQTBLYyxrQkFBa0IsRUFBQTtFQTFLaEM7RUFrTE0sYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixzQkFBc0I7RUFDdEIsV0FBVyxFQUFBO0VBckxqQjtJQXdMUSxPQUFPLEVBQUE7RUF4TGY7SUE0TFEsV0FBVyxFQUFBO0VBNUxuQjtNQWdNWSx5QkFBeUIsRUFBQTtFQWhNckM7TUFvTVksYUFBYSxFQUFBO0VBcE16QjtNQXlNVSw4QkFBOEI7TUFDOUIseUJBQXlCLEVBQUE7RUExTW5DO0VBZ05NLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsbUNBQW1DLEVBQUE7RUFsTnpDO0lBcU5RLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2Qsc0VBQXNFLEVBQUE7RUF2TjlFO0lBMk5RLDBCQUFrQjtZQUFsQixrQkFBa0I7SUFDbEIsVUFBVSxFQUFBO0VBNU5sQjtJQWdPUSxnQkFBZ0I7SUFDaEIsWUFBWSxFQUFBO0VBak9wQjtNQW9PVSxpQkFBaUIsRUFBQTtFQXBPM0I7TUF3T1UsZ0JBQWdCO01BQ2hCLGtCQUFrQjtNQUNsQixpQkFBaUIsRUFBQTtFQTFPM0I7TUE4T1UsOEJBQXNCO2NBQXRCLHNCQUFzQixFQUFBO0VBT2hDO0VBQ0UscUJBQXFCO0VBQ3JCLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsVUFBVSxFQUFBO0VBSlo7SUFPSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGNBQWMsRUFBQTtFQVRsQjtNQVlNLGlCQUFpQixFQUFBO0VBWnZCO1FBZVEsMEJBQTBCLEVBQUE7RUFNbEM7RUFDRSxjQUFjLEVBQUE7RUFHaEI7RUFDRTtJQUNFLGFBQWE7SUFDYixVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBO0VBUGQ7RUFDRTtJQUNFLGFBQWE7SUFDYixVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBO0VBSWQ7RUFDRTtJQUNFLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFOZDtFQUNFO0lBQ0UsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC91bml0LWNvbnZlcnNpb24tbWF0cml4L3NlYXJjaC91bml0LWNvbnZlcnNpb24tbWF0cml4LXNlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAjdW5pdC1jb21wb25lbnQge1xyXG4gICAgLm1haW4tZGF0YSAuZm9ybS1ncm91cCB7XHJcbiAgICAgIHdpZHRoOiAxNXJlbTtcclxuXHJcbiAgICAgIC5zdGFyIHtcclxuICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmF0dHJpYnV0ZXMtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIH1cclxuXHJcbiAgICAucGx1cy1maWVsZCB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgICAgbWF4LXdpZHRoOiAzNXJlbTtcclxuICAgICAgbWluLXdpZHRoOiAyNXJlbTtcclxuICAgICAgd2lkdGg6IDIwJTtcclxuICAgIH1cclxuXHJcbiAgICAudWNtLXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAudWNtLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAuYWxpZ24tcmlnaHQge1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDkzJTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5maWVsZHMtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5maWVsZHMtZmllbGRzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgIC5maWVsZHMtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDE1cmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmNvc3QtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDZyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmID4gZGl2IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuZmllbGRzLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuaW1wb3J0LXRhYiB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblxyXG4gICAgICAuaW1wb3J0LWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAuaW1wb3J0LWZpZWxkIHtcclxuICAgICAgICAgIHdpZHRoOiAxMHJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YXNrcy10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmV2b2x1dGlvbi1mb3JtLXBvcHVwIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgdHJhbnNpdGlvbjogd2lkdGggMC4zcztcclxuICAgICAgd2lkdGg6IDIwdnc7XHJcblxyXG4gICAgICAmID4gZGl2Om50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICBmbGV4OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmFjdGl2ZS1yaWdodC1wYW5lbCB7XHJcbiAgICAgICAgd2lkdGg6IDcwdnc7XHJcblxyXG4gICAgICAgIC5sZWZ0LXBhbmVsIHtcclxuICAgICAgICAgIC5ldm9sdXRpb24tbnVtYmVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U1ZTVlNTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucmlnaHQtcGFuZWwge1xyXG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjYmRiZGJkO1xyXG4gICAgICAgICAgcGFkZGluZzogMjBweCAwIDIwcHggMjBweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZXZvbHV0aW9uLW51bWJlci1wYW5lbCB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgICAgIGhlaWdodDogNDA5cHg7XHJcbiAgICAgIHRyYW5zaXRpb246IGhlaWdodCAwLjVzIGVhc2UtaW4tb3V0O1xyXG5cclxuICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBtYXJnaW4tbGVmdCAwLjVzIGVhc2UtaW4tb3V0LCBtYXJnaW4tdG9wIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudGFibGUtY29udGFpbmVyIHtcclxuICAgICAgICBhbmltYXRpb246IGZhZGUgMXM7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5jb2xsYXBzZWQge1xyXG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgICAgaGVpZ2h0OiA1NnB4O1xyXG5cclxuICAgICAgICAucGFuZWwtY29udGVudCB7XHJcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogLTI0cHg7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAtMjRweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgICAgICAgYW5pbWF0aW9uOiBmYWRlLW91dCAxcztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAuZXhwb3J0LW1ldGhvZHMge1xyXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICBtYXJnaW46IDA7XHJcbiAgbWluLXdpZHRoOiAxMDBweDtcclxuICBwYWRkaW5nOiAwO1xyXG5cclxuICAuZXhwb3J0LW1ldGhvZC13cmFwcGVyIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMC44cmVtO1xyXG4gICAgcGFkZGluZzogNXB4IDA7XHJcblxyXG4gICAgLmV4cG9ydC1tZXRob2Qge1xyXG4gICAgICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG46Om5nLWRlZXAgI3Zpc2l0LWZvcm0tY29tcG9uZW50IC5hdy1kaWFsb2cgLnVpLWRpYWxvZyB7XHJcbiAgbWF4LXdpZHRoOiA5MCU7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZSB7XHJcbiAgMCUge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG5cclxuICAxMDAlIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGUtb3V0IHtcclxuICAwJSB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxuXHJcbiAgMTAwJSB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { SaveExcelDataInput } from '../../../../shared/types/api-input-types/fleet-data-exchange/save-excel-data-input.interface';\r\nimport { SearchBireConversionMatrixInput } from '../../../../shared/types/api-input-types/unit-conversion-matrix/bire-unit-conversion-matrix-dto.interface';\r\nimport { BireConversionMatrixDTO } from '../../../../shared/types/api-output-types/unit-conversion-matrix/bire-unit-conversion-matrix-dto.interface';\r\nimport { BidoDocumentationDTO } from '../../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { BireReportDTOId } from '../../../../shared/types/api-types/bire-report-dto-id.interface';\r\nimport { BireReportDTO } from '../../../../shared/types/api-types/bire-report-dto.interface';\r\nimport { FileContent } from '../../../../shared/types/api-types/file-content.interface';\r\nimport { FindBireVariantVersionsByFamilyFunctionAlternativeDTO } from '../../../../shared/types/api-types/find-bire-variant-versions-by-family-function-alternative-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { FileUtils } from '../../../../shared/utils/file-utils';\r\nimport { ItemSearchService } from '../../../engineering-management/item/search/item-search.service';\r\nimport { UnitConversionMatrixService } from '../unit-conversion-matrix.service';\r\n\r\n@Component({\r\n  selector: 'aw-unit-conversion-matrix-search',\r\n  templateUrl: './unit-conversion-matrix-search.component.html',\r\n  styleUrls: ['./unit-conversion-matrix-search.component.scss']\r\n})\r\nexport class UnitConversionMatrixSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public readonly tabUnitConversionMatrixId: string;\r\n  public readonly tabImportId: string;\r\n  public readonly tabArchivedImportReportsId: string;\r\n\r\n  public currentTabId: string;\r\n\r\n  public templateFile: FileContent;\r\n\r\n  public showDialogUnitConversionMatrix: boolean;\r\n\r\n  public file: BidoDocumentationDTO | undefined;\r\n  public fileName: string | undefined;\r\n\r\n  public familyVariant: LabelValue<string>[];\r\n  public familyVariantValue: FindBireVariantVersionsByFamilyFunctionAlternativeDTO[];\r\n\r\n  public searchObject: SearchBireConversionMatrixInput;\r\n  public ucmSearchResultsTable: BireConversionMatrixDTO[] | undefined;\r\n  public ucmSearchResultsTableCols: TableColumn[];\r\n  public selectedUcmSearchResults: BireConversionMatrixDTO[];\r\n\r\n  public archivedImportReportTable: BireReportDTO[] | undefined;\r\n  public archivedImportReportTableCols: TableColumn[];\r\n  public selectedArchivedImportReports: BireReportDTO[];\r\n\r\n  public importReportMessage: string;\r\n  public showImportReportMessage: boolean;\r\n\r\n  public isLoading: boolean;\r\n  public isLoadingImport: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public translateService: TranslateService,\r\n    private readonly itemSearchService: ItemSearchService,\r\n    private readonly unitConversionMatrixService: UnitConversionMatrixService,\r\n    public confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Read, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.tabImportId = 'import';\r\n    this.tabArchivedImportReportsId = 'archImportReport';\r\n\r\n    this.showDialogUnitConversionMatrix = false;\r\n\r\n    this.currentTabId = this.tabUnitConversionMatrixId;\r\n\r\n    this.templateFile = {};\r\n\r\n    this.file = undefined;\r\n    this.fileName = undefined;\r\n\r\n    this.familyVariant = [];\r\n    this.familyVariantValue = [];\r\n\r\n    this.loadFamilyVariant();\r\n\r\n    this.resetSearchCriteria();\r\n\r\n    this.ucmSearchResultsTable = undefined;\r\n    this.ucmSearchResultsTableCols = [\r\n      { field: 'cmCode', alignment: 'left', width: '20%' },\r\n      { field: 'cmName', alignment: 'left', width: '80%' }\r\n    ];\r\n\r\n    this.selectedUcmSearchResults = [];\r\n\r\n    this.archivedImportReportTable = undefined;\r\n    this.archivedImportReportTableCols = [\r\n      { field: 'reportCode', alignment: 'center' },\r\n      { field: 'reportName', alignment: 'center' },\r\n      { field: 'statusUser', alignment: 'center' },\r\n      { field: 'statusDate', alignment: 'center' }\r\n    ];\r\n\r\n    this.selectedArchivedImportReports = [];\r\n\r\n    this.loadArchivedImportReports();\r\n\r\n    this.isLoadingImport = false;\r\n    this.isLoading = false;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'UnitConversionMatrixSearchComponent';\r\n  }\r\n\r\n  /**\r\n   * This function loads the family variants for search criteria\r\n   */\r\n  public loadFamilyVariant(): void {\r\n    this.itemSearchService.findBireVariantVersionsByFamilyFunctionItemAlternative().subscribe((results) => {\r\n      const list: LabelValue<string>[] = [];\r\n      results.forEach((element) => {\r\n        list.push(element.labelValue);\r\n      });\r\n      this.familyVariant = list || [];\r\n      this.familyVariantValue = results;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function search unit conversion matrix and populate the results in a table.\r\n   */\r\n  public searchUnitConversionMatrix(): void {\r\n    this.selectedUcmSearchResults = [];\r\n    this.unitConversionMatrixService.searchUnitMatrixConversion(this.searchObject).subscribe((result) => {\r\n      this.ucmSearchResultsTable = result;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function opens the selected UCM\r\n   */\r\n  public openSelectedUCM(): void {\r\n    this.selectedUcmSearchResults.forEach((ucmRecord) => {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'UnitConversionMatrixFormComponent',\r\n        openMode: ComponentOpenMode.Read,\r\n        objectId: this.serializationService.serialize({ cmId: ucmRecord.cmId })\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This funtion deletes the UCM\r\n   */\r\n\r\n  public deleteUCM(): void {\r\n    const partialMessageKey =\r\n      this.selectedUcmSearchResults.length > 1 ? 'confirmDeleteSelectedRows' : 'confirmDeleteSelectedRow';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        const ids: number[] = [];\r\n        this.selectedUcmSearchResults.forEach((ucmRecord) => {\r\n          ids.push(!!ucmRecord && !!ucmRecord.cmId ? ucmRecord.cmId : 0);\r\n        });\r\n\r\n        this.unitConversionMatrixService.deleteUnitConversionMatrix(ids).subscribe(() => {\r\n          if (!!this.ucmSearchResultsTable) {\r\n            const messageKey = this.selectedUcmSearchResults.length > 1 ? 'successOnDeleteRows' : 'successOnDeleteRow';\r\n            this.messageService.showSuccessMessage(this.getTranslateKey(messageKey));\r\n            this.ucmSearchResultsTable = this.ucmSearchResultsTable.filter((ucmRow) => {\r\n              return !this.selectedUcmSearchResults.includes(ucmRow);\r\n            });\r\n            this.selectedUcmSearchResults = [];\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function resets the search criteria\r\n   */\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {};\r\n  }\r\n\r\n  /**\r\n   * Create Unit Conversion Matrix\r\n   */\r\n  public createUnitConversionMatrix(): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_MAI_UNIT_CONVERSION_MATRIX_FORM,\r\n      openMode: ComponentOpenMode.Create,\r\n      objectId: undefined\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  // Downloads excel template\r\n  public openTemplate(): void {\r\n    this.unitConversionMatrixService.getExcelTemplate().subscribe(\r\n      (result) => {\r\n        this.templateFile = result;\r\n        if (!!this.templateFile.fileContent && !!this.templateFile.fileName) {\r\n          this.downLoadFiles(this.templateFile.fileContent, this.templateFile.fileName);\r\n        } else {\r\n          super.throwUnboundLocalError('openTemplate', 'this.template');\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetTemplate'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public downLoadFiles(docFile: Uint8Array, docName: string): void {\r\n    FileUtils.downloadFile(docFile, docName);\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (event.files) {\r\n      const file: File = event.files[0];\r\n      {\r\n        FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n          if (fileContent) {\r\n            this.file = {\r\n              docFile: fileContent,\r\n              docName: file.name,\r\n              docPublicationDate: new Date()\r\n            };\r\n            this.fileName = this.file.docName;\r\n          }\r\n        });\r\n      }\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public import(): void {\r\n    if (!!this.file) {\r\n      const input: SaveExcelDataInput = {\r\n        fileName: this.fileName,\r\n        excelSource: this.file.docFile\r\n      };\r\n\r\n      this.unitConversionMatrixService.importUnitConversionMatrixFromExcel(input).subscribe((result) => {\r\n        this.fileName = '';\r\n        this.file = undefined;\r\n        this.importReportMessage = result;\r\n        this.showImportReportMessage = true;\r\n\r\n        this.loadArchivedImportReports();\r\n      });\r\n    }\r\n  }\r\n\r\n  public loadArchivedImportReports(): void {\r\n    this.isLoadingImport = true;\r\n    this.unitConversionMatrixService.loadArchivedImportReports().subscribe(\r\n      (results) => {\r\n        this.archivedImportReportTable = results || [];\r\n        this.isLoadingImport = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetArchivedImportReports'));\r\n        this.isLoadingImport = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  public deleteArchivedImportReports(): void {\r\n    if (this.selectedArchivedImportReports !== []) {\r\n      const partialMessageKey =\r\n        this.selectedArchivedImportReports.length > 1 ? 'confirmDeleteSelectedReports' : 'confirmDeleteSelectedReport';\r\n\r\n      const reports = new Array<BireReportDTOId>();\r\n\r\n      this.selectedArchivedImportReports.forEach((report) => {\r\n        if (report && report.reportId) {\r\n          const reportId: BireReportDTOId = {\r\n            reportId: report.reportId\r\n          };\r\n          reports.push(reportId);\r\n        }\r\n      });\r\n\r\n      this.confirmationService.confirmDelete({\r\n        messageKey: this.getTranslateKey(partialMessageKey),\r\n        accept: () => {\r\n          this.unitConversionMatrixService.deleteReportEntry(reports).subscribe(\r\n            (results) => {\r\n              const messageKey =\r\n                partialMessageKey === 'confirmDeleteSelectedReports'\r\n                  ? this.getTranslateKey('successOnDeleteReports')\r\n                  : this.getTranslateKey('successOnDeleteReport');\r\n\r\n              this.messageService.showSuccessMessage(messageKey);\r\n\r\n              this.selectedArchivedImportReports = [];\r\n              this.loadArchivedImportReports();\r\n            },\r\n            () => {\r\n              const messageKey =\r\n                partialMessageKey === 'confirmDeleteSelectedReports'\r\n                  ? this.getTranslateKey('errorOnDeleteReports')\r\n                  : this.getTranslateKey('errorOnDeleteReport');\r\n\r\n              this.messageService.showSuccessMessage(messageKey);\r\n            }\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public openReportDetail(object: BireReportDTO): void {\r\n    const partialMessageKey = this.getTranslateKey('openReport');\r\n    this.confirmationService.confirm({\r\n      interpolateParams: { 'openReport.reportName': object.reportName },\r\n      contextKeys: [this.getTranslateKey('openReport.line1')],\r\n      messageKey: partialMessageKey,\r\n      accept: () => {\r\n        if (!!object.reportId) {\r\n          const bireReportDTOId: BireReportDTOId = {\r\n            reportId: object.reportId\r\n          };\r\n          this.unitConversionMatrixService.openImportReportContent(bireReportDTOId).subscribe((result) => {\r\n            if (!!object.reportName) {\r\n              this.downLoadFiles(result, object.reportName);\r\n            } else {\r\n              super.throwUnboundLocalError('openReportDetail', 'object.reportName');\r\n            }\r\n          });\r\n        } else {\r\n          super.throwUnboundLocalError('openReportDetail', 'object.reportId');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /***********\r\n   * Open tabs\r\n   ***********/\r\n\r\n  public openImportTab(): void {\r\n    this.currentTabId = this.tabImportId;\r\n  }\r\n\r\n  public openArchImportReportTab(): void {\r\n    this.currentTabId = this.tabArchivedImportReportsId;\r\n  }\r\n\r\n  public reloadMatrix() {\r\n    this.searchUnitConversionMatrix();\r\n    this.loadArchivedImportReports();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".taskCode\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control form-control-with-btn\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"decomposition.taskCode\\\" disabled />\\r\\n        <i\\r\\n          *ngIf=\\\"newDecomposition\\\"\\r\\n          class=\\\"fa fa-fw fa-search aw-icon\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          pTooltip=\\\"{{ 'global.search' | translate }}\\\"\\r\\n          tooltipPosition=\\\"top\\\"\\r\\n          (click)=\\\"openTaskTableDialog()\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".taskVersion\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"decomposition.taskVersion\\\" disabled />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".taskDesignation\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"decomposition.taskDesignation\\\" disabled />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".taskGroup\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <p-dropdown\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          [options]=\\\"taskGroups\\\"\\r\\n          [(ngModel)]=\\\"decomposition.taskGroup\\\"\\r\\n          disabled\\r\\n          [showClear]=\\\"true\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".taskType\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <p-dropdown\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          [options]=\\\"taskTypes\\\"\\r\\n          [(ngModel)]=\\\"decomposition.taskType\\\"\\r\\n          disabled\\r\\n          [showClear]=\\\"true\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".groupCode\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"decomposition.groupCode\\\" [disabled]=\\\"isReadOnlyForm\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".periodicityType\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <p-dropdown\\r\\n          class=\\\"aw-dropdown fixed-width\\\"\\r\\n          [options]=\\\"periodicityTypes\\\"\\r\\n          [(ngModel)]=\\\"decomposition.periodicityType\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n          [showClear]=\\\"true\\\"\\r\\n          placeholder=\\\"&nbsp;\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n        ></p-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".sequenceNo\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          pKeyFilter=\\\"int\\\"\\r\\n          class=\\\"aw-input\\\"\\r\\n          [(ngModel)]=\\\"decomposition.sequenceNumber\\\"\\r\\n          [disabled]=\\\"isReadOnlyForm\\\"\\r\\n        />\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button *ngIf=\\\"isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n    <button *ngIf=\\\"!isReadOnlyForm\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOnlyForm\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"associate()\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      [disabled]=\\\"!decomposition.taskCode || !decomposition.taskVersion\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-task\\r\\n  *ngIf=\\\"showTaskTableDialog\\\"\\r\\n  [(display)]=\\\"showTaskTableDialog\\\"\\r\\n  (onSelected)=\\\"onSelectedTask($event)\\\"\\r\\n  [is-visit]=\\\"false\\\"\\r\\n></aw-dialog-search-task>\\r\\n\"","module.exports = \".star {\\n  color: red; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3Zpc2l0LWZvcm0vZGlhbG9nLWFzc29jaWF0ZWQtdGFza3MtbWFpbnRlbmFuY2UvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXHZpc2l0LWZvcm1cXGRpYWxvZy1hc3NvY2lhdGVkLXRhc2tzLW1haW50ZW5hbmNlXFxkaWFsb2ctYXNzb2NpYXRlZC10YXNrcy1tYWludGVuYW5jZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQVUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC92aXNpdC1mb3JtL2RpYWxvZy1hc3NvY2lhdGVkLXRhc2tzLW1haW50ZW5hbmNlL2RpYWxvZy1hc3NvY2lhdGVkLXRhc2tzLW1haW50ZW5hbmNlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN0YXIge1xyXG4gIGNvbG9yOiByZWQ7XHJcbn1cclxuIl19 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DialogTableData } from '../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../shared/enums/table-selection-mode.enum';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { BireTaskDTO } from '../../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { TaskDecompositionTableAttributeDTO } from '../../../../shared/types/api-types/task-decomposition-table-attribute-dto.interface';\r\nimport { DialogComponent } from '../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { VisitFormService } from '../visit-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-associated-tasks-maintenance',\r\n  templateUrl: './dialog-associated-tasks-maintenance.component.html',\r\n  styleUrls: ['./dialog-associated-tasks-maintenance.component.scss']\r\n})\r\nexport class DialogAssociatedTasksMaintenanceComponent extends DialogComponent implements OnInit {\r\n  @Output()\r\n  public displayChange: EventEmitter<boolean>;\r\n\r\n  @Input()\r\n  public decomposition: TaskDecompositionTableAttributeDTO;\r\n  @Input()\r\n  public isReadOnlyForm: boolean;\r\n  @Input()\r\n  public newDecomposition: boolean;\r\n\r\n  @Output()\r\n  public onCreate: EventEmitter<TaskDecompositionTableAttributeDTO>;\r\n  @Output()\r\n  public onUpdate: EventEmitter<TaskDecompositionTableAttributeDTO>;\r\n\r\n  public readonly componentId: string;\r\n\r\n  public taskGroups: LabelValue<string>[];\r\n  public taskTypes: LabelValue<string>[];\r\n  public periodicityTypes: LabelValue<string>[];\r\n  public displayValue: boolean;\r\n\r\n  public taskTableData: DialogTableData<BireTaskDTO>;\r\n  public showTaskTableDialog: boolean;\r\n  public resultsTable: BireTaskDTO[];\r\n\r\n  public keyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  public constructor(\r\n    private readonly visitFormService: VisitFormService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogAssociatedTasksMaintenanceComponent');\r\n\r\n    this.onCreate = new EventEmitter<TaskDecompositionTableAttributeDTO>();\r\n    this.onUpdate = new EventEmitter<TaskDecompositionTableAttributeDTO>();\r\n\r\n    this.showTaskTableDialog = false;\r\n    this.initTaskTableData();\r\n    this.taskGroups = [];\r\n    this.resultsTable = [];\r\n    this.loadTaskGroups();\r\n    this.loadTaskTypes();\r\n    this.loadPeriodicityTypes();\r\n\r\n    this.keyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.keyMap.set(\r\n      'taskApplicabilityCode',\r\n      this.propertiesService.getValue(GenericPropertyConstants.TASK_APPLICABILITY_CODE_MAP)\r\n    );\r\n    this.keyMap.set('taskTypeCode', this.propertiesService.getValue(GenericPropertyConstants.TASK_TYPE_MAP));\r\n    this.keyMap.set('taskStatus', this.propertiesService.getValue('getFuncObjectStatusMap'));\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    if (!this.decomposition) {\r\n      this.decomposition = {};\r\n    }\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  public openTaskTableDialog(): void {\r\n    this.showTaskTableDialog = true;\r\n  }\r\n\r\n  public associate(): void {\r\n    if (this.decomposition !== null) {\r\n      if (\r\n        StringUtils.isNullOrEmpty(this.decomposition.taskCode) ||\r\n        StringUtils.isNullOrEmpty(this.decomposition.taskVersion)\r\n      ) {\r\n        this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n      } else {\r\n        if (this.newDecomposition) {\r\n          this.onCreate.emit(this.decomposition);\r\n          this.display = false;\r\n        } else {\r\n          this.onUpdate.emit(this.decomposition);\r\n          this.display = false;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public initTaskTableData(): void {\r\n    const taskTableCols: TableColumn[] = [\r\n      { field: 'taskCode', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskVersion', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskDesignation', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskChapter', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskSection', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskSubject', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskTask', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskSubTask', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskStatus', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskApplicabilityDate', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskApplicabilityCode', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'repairCenterCode', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'groupCode', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'taskTypeCode', alignment: 'center', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'overhaul', alignment: 'center', filterMode: TableColumnFilterMode.Input }\r\n    ];\r\n\r\n    const criteria = {\r\n      bireTaskDTO: {\r\n        taskCode: '',\r\n        taskVersion: ''\r\n      },\r\n      familyCode: '',\r\n      structureType: '',\r\n      variantCode: '',\r\n      taskTypeCodeExcluded: ''\r\n    };\r\n\r\n    this.taskTableData = {\r\n      componentId: 'DialogTask',\r\n      tableCols: taskTableCols,\r\n      tableRows: this.visitFormService.findBireTasksByCriteria(criteria),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Single,\r\n      globalFilter: true\r\n    };\r\n  }\r\n\r\n  private loadTaskGroups(): void {\r\n    this.visitFormService.getTaskGroups().subscribe(\r\n      (results) => {\r\n        this.taskGroups = results.filter((taskGroup) => taskGroup.value != undefined) || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.componentId + 'errorOnGetTaskGroups');\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadTaskTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.TASK_TYPE_MAP).subscribe(\r\n      (results) => {\r\n        this.taskTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.componentId + '.errorOnGetTaskTypes');\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadPeriodicityTypes(): void {\r\n    this.propertiesService.getValue('getPeriodicityTypeMap').subscribe(\r\n      (results) => {\r\n        this.periodicityTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.componentId + '.errorOnGetPeriodicityTypes');\r\n      }\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Task Dialog\r\n   *************************************************************************/\r\n\r\n  public onSelectedTask(task: BireTaskDTO): void {\r\n    if (this.decomposition !== null) {\r\n      if (!!task) {\r\n        this.decomposition.taskCode = task.taskCode;\r\n        this.decomposition.taskVersion = task.taskVersion;\r\n        this.decomposition.taskDesignation = task.taskDesignation;\r\n        this.decomposition.taskGroup = task.groupCode;\r\n        this.decomposition.taskType = task.taskTypeCode;\r\n      }\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <h2 class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </h2>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\" *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\">\\r\\n          - {{ subTitle }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div\\r\\n      class=\\\"object-status\\\"\\r\\n      [ngClass]=\\\"{ disabled: isCreateOpenMode }\\\"\\r\\n      *ngIf=\\\"visit.statusState\\\"\\r\\n      (click)=\\\"showStatus()\\\"\\r\\n    >\\r\\n      {{ visit.statusState | formatSelectOption: statusList }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button mat-raised-button id=\\\"edit\\\" *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" (click)=\\\"editVisit()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-raised-button\\r\\n      color=\\\"warn\\\"\\r\\n      id=\\\"cancel\\\"\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      (click)=\\\"cancelVisit()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-raised-button\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      id=\\\"save\\\"\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      [ngClass]=\\\"{ inactive: !visit.taskCode || visit.taskCode.length === 0 }\\\"\\r\\n      (click)=\\\"saveVisit()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"saving\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button mat-menu-item (click)=\\\"openStatusUpdatesPopup()\\\">{{ \\\"updates\\\" | translate }}</button>\\r\\n\\r\\n      <button mat-menu-item id=\\\"refresh\\\" *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" (click)=\\\"reloadVisit()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"mainInformation\\\" class=\\\"grid-cell--grow2\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 id=\\\"mainInformationTitle\\\" class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <div class=\\\"grid-row grid-cell--12 grid-cell--no-padding\\\">\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".visitCode\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"visit.taskCode\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".visitVersion\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <input\\r\\n                          type=\\\"text\\\"\\r\\n                          class=\\\"aw-input\\\"\\r\\n                          [(ngModel)]=\\\"visit.taskVersion\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode || !isCreateOpenMode\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-row grid-cell--12 grid-cell--no-padding\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".designation\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <textarea\\r\\n                          class=\\\"aw-textarea\\\"\\r\\n                          [rows]=\\\"3\\\"\\r\\n                          pInputTextarea\\r\\n                          [(ngModel)]=\\\"visit.taskDesignation\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        ></textarea>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-row grid-cell--12 grid-cell--no-padding\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".description\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <textarea\\r\\n                          class=\\\"aw-textarea\\\"\\r\\n                          [rows]=\\\"3\\\"\\r\\n                          pInputTextarea\\r\\n                          [(ngModel)]=\\\"visit.taskDescription\\\"\\r\\n                          [disabled]=\\\"isReadOpenMode\\\"\\r\\n                        ></textarea>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div *ngIf=\\\"isCostSettingEnabled\\\" class=\\\"grid-row grid-cell--12 grid-cell--no-padding\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".cost\\\" | translate }} </label>\\r\\n\\r\\n                      <div class=\\\"form-control\\\">\\r\\n                        <div class=\\\"aw-input-group\\\">\\r\\n                          <br />\\r\\n                          {{ isCreateOpenMode ? 0 : totalCost }} &nbsp;&nbsp; <span>{{ currency }}</span>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div id=\\\"maintenancePrograms\\\" class=\\\"grid-cell--grow3\\\">\\r\\n              <!-- Maintenance programs table -->\\r\\n\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 id=\\\"maintenanceProgramsTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                      {{ \\\"global.maintenance\\\" | translate }} ({{\\r\\n                        maintenanceTableDataSource ? maintenanceTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"maintenanceTableDataSource\\\">\\r\\n                    <ng-template columnDef=\\\"planCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"goToMaintenanceProgram(rowData)\\\">\\r\\n                        {{ rowData.planCode }}\\r\\n                      </a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div id=\\\"taskDecomposition\\\" class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <!-- Tasks decomposition table -->\\r\\n\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container\\\">\\r\\n                    <h3 id=\\\"taskDecompositionTableTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".decomposition\\\" | translate }} ({{\\r\\n                        decompositionTableDataSource ? decompositionTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"decompositionTableDataSource\\\" class=\\\"aw-table2\\\">\\r\\n                    <ng-template tableActionsDef>\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && decompositionTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"deleteDecomposition()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.delete\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && !decompositionTableDataSource.hasDataSelection\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"createDecomposition()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.add\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"!isReadOpenMode && decompositionTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"editDecomposition()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.edit\\\" | translate }}\\r\\n                      </button>\\r\\n\\r\\n                      <button\\r\\n                        *ngIf=\\\"decompositionTableDataSource.dataSelectionCount === 1\\\"\\r\\n                        type=\\\"button\\\"\\r\\n                        mat-raised-button\\r\\n                        (click)=\\\"openDecomposition()\\\"\\r\\n                      >\\r\\n                        {{ \\\"global.open\\\" | translate }}\\r\\n                      </button>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template columnDef=\\\"taskCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                      <a (click)=\\\"goToTask(rowData)\\\">\\r\\n                        {{ rowData.taskCode }}\\r\\n                      </a>\\r\\n                    </ng-template>\\r\\n                  </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n\\r\\n        <mat-tab *ngIf=\\\"dynamicAttributesForVisit && dynamicAttributesForVisit.length > 0\\\">\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"global.attributes\\\" | translate }}\\r\\n          </ng-template>\\r\\n\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div id=\\\"attributesPanel\\\" class=\\\"grid-cell--12\\\">\\r\\n              <div #attributesAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                  <aw-dynamic-attributes\\r\\n                    [attributes]=\\\"dynamicAttributesForVisit\\\"\\r\\n                    [history]=\\\"dynamicAttributesHistoric\\\"\\r\\n                    [showHistory]=\\\"true\\\"\\r\\n                    [isReadOpenMode]=\\\"isReadOpenMode\\\"\\r\\n                  ></aw-dynamic-attributes>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- POPUP ZONE -->\\r\\n<aw-dialog-associated-tasks-maintenance\\r\\n  *ngIf=\\\"showDecompositionDialog\\\"\\r\\n  [decomposition]=\\\"currentDecomposition\\\"\\r\\n  [(display)]=\\\"showDecompositionDialog\\\"\\r\\n  [isReadOnlyForm]=\\\"isReadOnlyDecompositionDialog\\\"\\r\\n  [newDecomposition]=\\\"isNewDecomposition\\\"\\r\\n  (onCreate)=\\\"addNewDecomposition($event)\\\"\\r\\n  (onUpdate)=\\\"updateDecomposition($event)\\\"\\r\\n></aw-dialog-associated-tasks-maintenance>\\r\\n\\r\\n<aw-status-update-history\\r\\n  *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n  [object]=\\\"visit\\\"\\r\\n  [data]=\\\"tableStatusUpdatesData\\\"\\r\\n  [deleteApi]=\\\"deleteApi\\\"\\r\\n  [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n  [keyMap]=\\\"updatesKeyMap\\\"\\r\\n  [isStatusEditable]=\\\"!isReadOpenMode\\\"\\r\\n  (onUpdated)=\\\"updateObjectStatusFromStatusUpdatesHistory($event)\\\"\\r\\n></aw-status-update-history>\\r\\n\\r\\n<aw-dynamic-attributes-history\\r\\n  *ngIf=\\\"showDynamicAttributesHistoric\\\"\\r\\n  [attributes]=\\\"dynamicAttributesForTask\\\"\\r\\n  [history]=\\\"dynamicAttributesHistoric\\\"\\r\\n  showDelete=\\\"true\\\"\\r\\n  [deleteApi]=\\\"taskHistoryApi.removeHBireTaskAttribute\\\"\\r\\n  [(display)]=\\\"showDynamicAttributesHistoric\\\"\\r\\n></aw-dynamic-attributes-history>\\r\\n\"","module.exports = \":host #visit-form-component .main-data .form-group {\\n  width: 15rem; }\\n  :host #visit-form-component .main-data .form-group .star {\\n    color: red; }\\n  :host #visit-form-component .attributes-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #visit-form-component .maintenance-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #visit-form-component .maintenance-tab .maintenance-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #visit-form-component .maintenance-tab .maintenance-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #visit-form-component .fields-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #visit-form-component .fields-tab .fields-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #visit-form-component .fields-tab .fields-fields .fields-field {\\n      width: 15rem; }\\n  :host #visit-form-component .fields-tab .fields-fields .cost-field {\\n      width: 6rem; }\\n  :host #visit-form-component .fields-tab .fields-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #visit-form-component .fields-tab .fields-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #visit-form-component .fields-tab .fields-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #visit-form-component .fields-tab .fields-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #visit-form-component .fields-tab .fields-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #visit-form-component .fields-tab .fields-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #visit-form-component .fields-tab .fields-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #visit-form-component .fields-tab .fields-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #visit-form-component .fields-tab .fields-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #visit-form-component .tasks-tab {\\n  display: flex;\\n  flex-direction: column; }\\n  :host #visit-form-component .tasks-tab .tasks-fields {\\n    display: flex;\\n    flex-direction: row;\\n    width: 100%; }\\n  :host #visit-form-component .tasks-tab .tasks-fields .tasks-field {\\n      width: 10rem; }\\n  :host #visit-form-component .tasks-tab .tasks-fields > div {\\n      display: flex;\\n      flex-direction: column;\\n      width: 50%; }\\n  :host #visit-form-component .tasks-tab .tasks-fields > div:first-of-type {\\n        padding-right: 24px; }\\n  :host #visit-form-component .tasks-tab .tasks-fields > div:nth-of-type(2) {\\n        padding-left: 24px; }\\n  :host #visit-form-component .tasks-tab .tasks-tables {\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 24px; }\\n  :host #visit-form-component .tasks-tab .tasks-tables .row {\\n      display: flex;\\n      flex-direction: row;\\n      flex-wrap: wrap; }\\n  :host #visit-form-component .tasks-tab .tasks-tables .row:first-of-type {\\n        margin-bottom: 24px; }\\n  :host #visit-form-component .tasks-tab .tasks-tables .row .table-wrapper {\\n        width: 50%; }\\n  :host #visit-form-component .tasks-tab .tasks-tables .row .table-wrapper:first-of-type {\\n          padding-right: 24px; }\\n  :host #visit-form-component .tasks-tab .tasks-tables .row .table-wrapper:nth-of-type(2) {\\n          padding-left: 24px; }\\n  :host #visit-form-component .evolution-form-popup {\\n  display: flex;\\n  flex-direction: row;\\n  transition: width 0.3s;\\n  width: 20vw; }\\n  :host #visit-form-component .evolution-form-popup > div:nth-of-type(2) {\\n    flex: 1; }\\n  :host #visit-form-component .evolution-form-popup.active-right-panel {\\n    width: 70vw; }\\n  :host #visit-form-component .evolution-form-popup.active-right-panel .left-panel .evolution-number {\\n      background-color: #e5e5e5; }\\n  :host #visit-form-component .evolution-form-popup.active-right-panel .left-panel .form-group {\\n      padding: 20px; }\\n  :host #visit-form-component .evolution-form-popup.active-right-panel .right-panel {\\n      border-left: 1px solid #bdbdbd;\\n      padding: 20px 0 20px 20px; }\\n  :host #visit-form-component .evolution-number-panel {\\n  margin-bottom: 1rem;\\n  height: 409px;\\n  transition: height 0.5s ease-in-out; }\\n  :host #visit-form-component .evolution-number-panel .form-group {\\n    margin-bottom: 5px;\\n    margin-left: 0;\\n    transition: margin-left 0.5s ease-in-out, margin-top 0.25s ease-in-out; }\\n  :host #visit-form-component .evolution-number-panel .table-container {\\n    -webkit-animation: fade 1s;\\n            animation: fade 1s;\\n    opacity: 1; }\\n  :host #visit-form-component .evolution-number-panel.collapsed {\\n    box-shadow: none;\\n    height: 56px; }\\n  :host #visit-form-component .evolution-number-panel.collapsed .panel-content {\\n      padding-bottom: 0; }\\n  :host #visit-form-component .evolution-number-panel.collapsed .form-group {\\n      margin-bottom: 0;\\n      margin-left: -24px;\\n      margin-top: -24px; }\\n  :host #visit-form-component .evolution-number-panel.collapsed .table-container {\\n      -webkit-animation: fade-out 1s;\\n              animation: fade-out 1s; }\\n  ::ng-deep .export-methods {\\n  list-style-type: none;\\n  margin: 0;\\n  min-width: 100px;\\n  padding: 0; }\\n  ::ng-deep .export-methods .export-method-wrapper {\\n    cursor: pointer;\\n    font-size: 0.8rem;\\n    padding: 5px 0; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method {\\n      padding-left: 5px; }\\n  ::ng-deep .export-methods .export-method-wrapper .export-method:hover {\\n        text-decoration: underline; }\\n  ::ng-deep #visit-form-component .aw-dialog .ui-dialog {\\n  max-width: 90%; }\\n  @-webkit-keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @keyframes fade {\\n  0% {\\n    display: none;\\n    opacity: 0; }\\n  100% {\\n    opacity: 1; } }\\n  @-webkit-keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n  @keyframes fade-out {\\n  0% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 0; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3Zpc2l0LWZvcm0vZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXG1haW5cXGVuZ2luZWVyaW5nLW1hbmFnZW1lbnRcXHZpc2l0LWZvcm1cXHZpc2l0LWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFHTSxZQUFZLEVBQUE7RUFIbEI7SUFNUSxVQUFVLEVBQUE7RUFObEI7RUFXTSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFaNUI7RUFnQk0sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBakI1QjtJQW9CUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBdEJ6QjtNQXlCVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQTNCekI7UUE4QlksbUJBQW1CLEVBQUE7RUE5Qi9CO1FBa0NZLFVBQVUsRUFBQTtFQWxDdEI7VUFxQ2MsbUJBQW1CLEVBQUE7RUFyQ2pDO1VBeUNjLGtCQUFrQixFQUFBO0VBekNoQztFQWlETSxhQUFhO0VBQ2Isc0JBQXNCLEVBQUE7RUFsRDVCO0lBcURRLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVyxFQUFBO0VBdkRuQjtNQTBEVSxZQUFZLEVBQUE7RUExRHRCO01BOERVLFdBQVcsRUFBQTtFQTlEckI7TUFrRVUsYUFBYTtNQUNiLHNCQUFzQjtNQUN0QixVQUFVLEVBQUE7RUFwRXBCO1FBdUVZLG1CQUFtQixFQUFBO0VBdkUvQjtRQTJFWSxrQkFBa0IsRUFBQTtFQTNFOUI7SUFpRlEsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixpQkFBaUIsRUFBQTtFQW5GekI7TUFzRlUsYUFBYTtNQUNiLG1CQUFtQjtNQUNuQixlQUFlLEVBQUE7RUF4RnpCO1FBMkZZLG1CQUFtQixFQUFBO0VBM0YvQjtRQStGWSxVQUFVLEVBQUE7RUEvRnRCO1VBa0djLG1CQUFtQixFQUFBO0VBbEdqQztVQXNHYyxrQkFBa0IsRUFBQTtFQXRHaEM7RUE4R00sYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBL0c1QjtJQWtIUSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVcsRUFBQTtFQXBIbkI7TUF1SFUsWUFBWSxFQUFBO0VBdkh0QjtNQTJIVSxhQUFhO01BQ2Isc0JBQXNCO01BQ3RCLFVBQVUsRUFBQTtFQTdIcEI7UUFnSVksbUJBQW1CLEVBQUE7RUFoSS9CO1FBb0lZLGtCQUFrQixFQUFBO0VBcEk5QjtJQTBJUSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGlCQUFpQixFQUFBO0VBNUl6QjtNQStJVSxhQUFhO01BQ2IsbUJBQW1CO01BQ25CLGVBQWUsRUFBQTtFQWpKekI7UUFvSlksbUJBQW1CLEVBQUE7RUFwSi9CO1FBd0pZLFVBQVUsRUFBQTtFQXhKdEI7VUEySmMsbUJBQW1CLEVBQUE7RUEzSmpDO1VBK0pjLGtCQUFrQixFQUFBO0VBL0poQztFQXVLTSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHNCQUFzQjtFQUN0QixXQUFXLEVBQUE7RUExS2pCO0lBNktRLE9BQU8sRUFBQTtFQTdLZjtJQWlMUSxXQUFXLEVBQUE7RUFqTG5CO01BcUxZLHlCQUF5QixFQUFBO0VBckxyQztNQXlMWSxhQUFhLEVBQUE7RUF6THpCO01BOExVLDhCQUE4QjtNQUM5Qix5QkFBeUIsRUFBQTtFQS9MbkM7RUFxTU0sbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixtQ0FBbUMsRUFBQTtFQXZNekM7SUEwTVEsa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxzRUFBc0UsRUFBQTtFQTVNOUU7SUFnTlEsMEJBQWtCO1lBQWxCLGtCQUFrQjtJQUNsQixVQUFVLEVBQUE7RUFqTmxCO0lBcU5RLGdCQUFnQjtJQUNoQixZQUFZLEVBQUE7RUF0TnBCO01BeU5VLGlCQUFpQixFQUFBO0VBek4zQjtNQTZOVSxnQkFBZ0I7TUFDaEIsa0JBQWtCO01BQ2xCLGlCQUFpQixFQUFBO0VBL04zQjtNQW1PVSw4QkFBc0I7Y0FBdEIsc0JBQXNCLEVBQUE7RUFPaEM7RUFDRSxxQkFBcUI7RUFDckIsU0FBUztFQUNULGdCQUFnQjtFQUNoQixVQUFVLEVBQUE7RUFKWjtJQU9JLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsY0FBYyxFQUFBO0VBVGxCO01BWU0saUJBQWlCLEVBQUE7RUFadkI7UUFlUSwwQkFBMEIsRUFBQTtFQU1sQztFQUNFLGNBQWMsRUFBQTtFQUdoQjtFQUNFO0lBQ0UsYUFBYTtJQUNiLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFQZDtFQUNFO0lBQ0UsYUFBYTtJQUNiLFVBQVUsRUFBQTtFQUdaO0lBQ0UsVUFBVSxFQUFBLEVBQUE7RUFJZDtFQUNFO0lBQ0UsVUFBVSxFQUFBO0VBR1o7SUFDRSxVQUFVLEVBQUEsRUFBQTtFQU5kO0VBQ0U7SUFDRSxVQUFVLEVBQUE7RUFHWjtJQUNFLFVBQVUsRUFBQSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L3Zpc2l0LWZvcm0vdmlzaXQtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAjdmlzaXQtZm9ybS1jb21wb25lbnQge1xyXG4gICAgLm1haW4tZGF0YSAuZm9ybS1ncm91cCB7XHJcbiAgICAgIHdpZHRoOiAxNXJlbTtcclxuXHJcbiAgICAgIC5zdGFyIHtcclxuICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmF0dHJpYnV0ZXMtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIH1cclxuXHJcbiAgICAubWFpbnRlbmFuY2UtdGFiIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgICAgIC5tYWludGVuYW5jZS10YWJsZXMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMjRweDtcclxuXHJcbiAgICAgICAgLnJvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuXHJcbiAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC50YWJsZS13cmFwcGVyIHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuXHJcbiAgICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmZpZWxkcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLmZpZWxkcy1maWVsZHMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgLmZpZWxkcy1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogMTVyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuY29zdC1maWVsZCB7XHJcbiAgICAgICAgICB3aWR0aDogNnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYgPiBkaXYge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJjpudGgtb2YtdHlwZSgyKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5maWVsZHMtdGFibGVzIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDI0cHg7XHJcblxyXG4gICAgICAgIC5yb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudGFibGUtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC50YXNrcy10YWIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICAgLnRhc2tzLWZpZWxkcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgICAudGFza3MtZmllbGQge1xyXG4gICAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJiA+IGRpdiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIHdpZHRoOiA1MCU7XHJcblxyXG4gICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMjRweDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLnRhc2tzLXRhYmxlcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAyNHB4O1xyXG5cclxuICAgICAgICAucm93IHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG5cclxuICAgICAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnRhYmxlLXdyYXBwZXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNTAlO1xyXG5cclxuICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmOm50aC1vZi10eXBlKDIpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZXZvbHV0aW9uLWZvcm0tcG9wdXAge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzO1xyXG4gICAgICB3aWR0aDogMjB2dztcclxuXHJcbiAgICAgICYgPiBkaXY6bnRoLW9mLXR5cGUoMikge1xyXG4gICAgICAgIGZsZXg6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICYuYWN0aXZlLXJpZ2h0LXBhbmVsIHtcclxuICAgICAgICB3aWR0aDogNzB2dztcclxuXHJcbiAgICAgICAgLmxlZnQtcGFuZWwge1xyXG4gICAgICAgICAgLmV2b2x1dGlvbi1udW1iZXIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC5mb3JtLWdyb3VwIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5yaWdodC1wYW5lbCB7XHJcbiAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNiZGJkYmQ7XHJcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4IDAgMjBweCAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5ldm9sdXRpb24tbnVtYmVyLXBhbmVsIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgICAgaGVpZ2h0OiA0MDlweDtcclxuICAgICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAuZm9ybS1ncm91cCB7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG1hcmdpbi1sZWZ0IDAuNXMgZWFzZS1pbi1vdXQsIG1hcmdpbi10b3AgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogZmFkZSAxcztcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmNvbGxhcHNlZCB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICBoZWlnaHQ6IDU2cHg7XHJcblxyXG4gICAgICAgIC5wYW5lbC1jb250ZW50IHtcclxuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmZvcm0tZ3JvdXAge1xyXG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtMjRweDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IC0yNHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBhbmltYXRpb246IGZhZGUtb3V0IDFzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuOjpuZy1kZWVwIC5leHBvcnQtbWV0aG9kcyB7XHJcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG4gIG1hcmdpbjogMDtcclxuICBtaW4td2lkdGg6IDEwMHB4O1xyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC5leHBvcnQtbWV0aG9kLXdyYXBwZXIge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgICBwYWRkaW5nOiA1cHggMDtcclxuXHJcbiAgICAuZXhwb3J0LW1ldGhvZCB7XHJcbiAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbjo6bmctZGVlcCAjdmlzaXQtZm9ybS1jb21wb25lbnQgLmF3LWRpYWxvZyAudWktZGlhbG9nIHtcclxuICBtYXgtd2lkdGg6IDkwJTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlIHtcclxuICAwJSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcblxyXG4gIDEwMCUge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZS1vdXQge1xyXG4gIDAlIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG5cclxuICAxMDAlIHtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { TaskHistoryApi } from '../../../shared/api/task-history.api';\r\nimport { PageTocService } from '../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { DialogTableData } from '../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { DynamicAttributesService } from '../../../shared/components/dynamic-attributes/dynamic-attributes.service';\r\nimport { DynamicAttributes } from '../../../shared/components/dynamic-attributes/types/dynamic-attributes.interface';\r\nimport { ColumnAlignment, TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../shared/enums/table-selection-mode.enum';\r\nimport { FormatSelectOptionPipe } from '../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { UpdateHistoricService } from '../../../shared/services/update-historic.service';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireMaintenancePlanDTOId } from '../../../shared/types/api-types/bire-maintenance-plan-dto-id.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { BireTaskAttributeDTOId } from '../../../shared/types/api-types/bire-task-attribute-dto-id.interface';\r\nimport { BireTaskAttributeDTO } from '../../../shared/types/api-types/bire-task-attribute-dto.interface';\r\nimport { BireTaskDTOId } from '../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskDTO } from '../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { HBireTaskAttributeDTO } from '../../../shared/types/api-types/h-bire-task-attribute-dto.interface';\r\nimport { HBireTaskDTO } from '../../../shared/types/api-types/h-bire-task-dto.interface';\r\nimport { SaveBireTaskInput } from '../../../shared/types/api-types/save-bire-task-input.interface';\r\nimport { TaskDecompositionTableAttributeDTO } from '../../../shared/types/api-types/task-decomposition-table-attribute-dto.interface';\r\nimport { FormPageComponent } from '../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { SettingsUtils } from '../../../shared/utils/settings-utils';\r\nimport { StringUtils } from '../../../shared/utils/string-utils';\r\nimport { ObjectStatusComponent } from '../../object-status/object-status.component';\r\nimport { OverlayService } from '../../overlay/overlay.service';\r\nimport { VisitSearchService } from '../visit-search/visit-search.service';\r\n\r\nimport { VisitFormService } from './visit-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-visit-form',\r\n  templateUrl: './visit-form.component.html',\r\n  styleUrls: ['./visit-form.component.scss']\r\n})\r\nexport class VisitFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public static readonly MAIN_INFORMATION_ANCHOR_ID: string = 'mainInformationAnchor';\r\n  public static readonly TASK_DECOMPOSITION_ANCHOR_ID: string = 'taskDecompositionAnchor';\r\n  public static readonly MAINTENANCE_PROGRAMS_ANCHOR_ID: string = 'maintenanceProgramsAnchor';\r\n  public static readonly ATTRIBUTES_ANCHOR_ID: string = 'attributesAnchor';\r\n\r\n  public readonly form: typeof VisitFormComponent;\r\n\r\n  public readonly tabFieldsId: string;\r\n  public readonly tabTasksId: string;\r\n  public readonly tabMaintenanceId: string;\r\n  public readonly tabAttributesId: string;\r\n\r\n  public visit: BireTaskDTO;\r\n\r\n  public saving: boolean;\r\n  public statusList: LabelValue<string>[];\r\n\r\n  //  Table of content\r\n  @ViewChild(VisitFormComponent.MAIN_INFORMATION_ANCHOR_ID)\r\n  public mainInformationElRef: ElementRef;\r\n\r\n  @ViewChild(VisitFormComponent.TASK_DECOMPOSITION_ANCHOR_ID)\r\n  public taskDecompositionElRef: ElementRef;\r\n\r\n  @ViewChild(VisitFormComponent.MAINTENANCE_PROGRAMS_ANCHOR_ID)\r\n  public maintenanceProgramsElRef: ElementRef;\r\n\r\n  @ViewChild(VisitFormComponent.ATTRIBUTES_ANCHOR_ID)\r\n  public attributesElRef: ElementRef;\r\n  public toc: PageTocEntry[];\r\n\r\n  // For object status/updates popup\r\n  public showStatusUpdatesPopup: boolean;\r\n  public tableStatusUpdatesData: DialogTableData<HBireTaskDTO>;\r\n  public deleteApi: string;\r\n  public updatesKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  // Dynamic historic\r\n  public showDynamicAttributesHistoric: boolean;\r\n  public dynamicAttributesHistoric: Observable<HBireTaskAttributeDTO[]>;\r\n\r\n  // Tasks tab\r\n  public decompositionInput: TaskDecompositionTableAttributeDTO;\r\n  public decompositionTableDataSource: TableDataSource<TaskDecompositionTableAttributeDTO>;\r\n  public decompositionTableRemovedList: TaskDecompositionTableAttributeDTO[];\r\n  public taskGroups: LabelValue<string>[];\r\n  public taskTypes: LabelValue<string>[];\r\n  public periodicityTypes: LabelValue<string>[];\r\n\r\n  // Maintenance programs tab\r\n  public maintenanceTableDataSource: TableDataSource<BireMaintenancePlanDTO>;\r\n\r\n  // Attributes tab\r\n  public attributeIdValueMap: Map<string, string>;\r\n  public bireAttributesForVisit: BireAttributeDTO[];\r\n  public bireVisitAttributes: BireTaskAttributeDTO[];\r\n  public dynamicAttributesForVisit: DynamicAttributes[];\r\n  public newAttributeDisplayed: string;\r\n\r\n  public currentTabId: string;\r\n\r\n  public currentDecomposition: TaskDecompositionTableAttributeDTO | undefined;\r\n  public currentDecompositionIndex: number;\r\n  public isNewDecomposition: boolean;\r\n  public isReadOnlyDecompositionDialog: boolean;\r\n  public showDecompositionDialog: boolean;\r\n\r\n  public currency: string;\r\n\r\n  public isCostSettingEnabled: boolean;\r\n  public totalCost: number | undefined;\r\n\r\n  public isDecompositionLoading: boolean;\r\n  public isMaintenanceLoading: boolean;\r\n\r\n  // For tab context\r\n  public subTitle: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    pageTocService: PageTocService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public dynamicAttributesService: DynamicAttributesService,\r\n    private readonly visitFormService: VisitFormService,\r\n    private readonly visitSearchService: VisitSearchService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService,\r\n    private readonly updateHistoricService: UpdateHistoricService,\r\n    private readonly taskHistoryApi: TaskHistoryApi,\r\n    private readonly _overlayService: OverlayService,\r\n    private readonly _formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n    this.form = VisitFormComponent;\r\n\r\n    // Historic popup\r\n    this.showStatusUpdatesPopup = false;\r\n    this.updatesKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.deleteApi = this.taskHistoryApi.removeBireTaskHistory;\r\n\r\n    // Dynamic historic\r\n    this.showDynamicAttributesHistoric = false;\r\n\r\n    this.tabFieldsId = 'fields';\r\n    this.tabTasksId = 'tasks';\r\n    this.tabMaintenanceId = 'maintenance';\r\n    this.tabAttributesId = 'attributes';\r\n\r\n    super.registerPageTocEntryObservable();\r\n\r\n    this.loadCurrency();\r\n\r\n    this.currentTabId = this.tabFieldsId;\r\n\r\n    this.currentDecomposition = undefined;\r\n    this.isReadOnlyDecompositionDialog = true;\r\n    this.showDecompositionDialog = false;\r\n\r\n    this.isDecompositionLoading = false;\r\n    this.isMaintenanceLoading = false;\r\n\r\n    this.totalCost = undefined;\r\n\r\n    this.initCostSettingDisplay();\r\n    this.initMaintenanceTableDataSource();\r\n    this.initDecompositionTableDataSource();\r\n\r\n    this.loadTaskGroups();\r\n    this.loadTaskTypes();\r\n    this.loadPeriodicityTypes();\r\n    this.loadVisitStatus();\r\n    this.init();\r\n\r\n    // Lang change events\r\n    this.translateService.onLangChange.subscribe((_: LangChangeEvent) => {\r\n      // Reset the right attribute name regarding the langage\r\n      this.dynamicAttributesForVisit = this.dynamicAttributesService.from(this.bireAttributesForVisit);\r\n      this.getBireAttributesForVisit();\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'VisitFormComponent';\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    if (this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      this.subtitleMethod();\r\n      this.loadVisit();\r\n      this.setTableOfContent();\r\n    }\r\n  }\r\n\r\n  public subtitleMethod() {\r\n    const context = !!this.componentData.objectId\r\n      ? `${this.serializationService.deserialize(this.componentData.objectId).taskCode}-${\r\n          this.serializationService.deserialize(this.componentData.objectId).taskVersion\r\n        }`\r\n      : 'tab.createMode';\r\n    this.displayComponentContext(context, this.isCreateOpenMode);\r\n    this.subTitle = context;\r\n  }\r\n\r\n  private setTableOfContent(): void {\r\n    const mainInformationKey = this.getTranslateKey('mainData');\r\n    const taskDecompositionsKey = this.getTranslateKey('decomposition');\r\n    const maintenanceProgramsKey = this.getTranslateKey('maintenanceProgram');\r\n    const attributesKey = this.getTranslateKey('attributes');\r\n    this.translateService\r\n      .get([mainInformationKey, taskDecompositionsKey, maintenanceProgramsKey, attributesKey])\r\n      .subscribe((results: string[]) => {\r\n        const mainInformationLabel = !!results ? results[mainInformationKey] : 'Main Information';\r\n        const taskDecompositionsLabel = !!results ? results[taskDecompositionsKey] : 'Tasks Decomposition';\r\n        const maintenanceProgramsLabel = !!results ? results[maintenanceProgramsKey] : 'Maintenance Programs';\r\n        const attributesLabel = !!results ? results[attributesKey] : 'Attributes';\r\n\r\n        this.toc = [\r\n          {\r\n            id: 'mainInformationAnchor',\r\n            anchor: this.mainInformationElRef,\r\n            label: mainInformationLabel\r\n          },\r\n          {\r\n            id: 'taskDecompositionAnchor',\r\n            anchor: this.taskDecompositionElRef,\r\n            label: taskDecompositionsLabel\r\n          },\r\n          {\r\n            id: 'maintenanceProgramsAnchor',\r\n            anchor: this.maintenanceProgramsElRef,\r\n            label: maintenanceProgramsLabel\r\n          },\r\n          {\r\n            id: 'attributesAnchor',\r\n            anchor: this.attributesElRef,\r\n            label: attributesLabel\r\n          }\r\n        ];\r\n\r\n        super.selectPageTocEntry('mainInformationAnchor');\r\n      });\r\n  }\r\n\r\n  public cancelVisit(): void {\r\n    if (this.isCreateOpenMode) {\r\n      this.initOnCreate();\r\n    } else {\r\n      this.reloadVisit();\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  private initAttributeValue(): void {\r\n    const leafs = this.dynamicAttributesService.getLeafs(this.dynamicAttributesForVisit);\r\n\r\n    leafs.forEach((attribute) => {\r\n      attribute.value = undefined;\r\n    });\r\n  }\r\n\r\n  public editVisit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public loadVisit(): void {\r\n    if (!!this.componentData.objectId) {\r\n      const visitTemp: BireTaskDTO = {\r\n        taskCode: this.serializationService.deserialize(this.componentData.objectId).taskCode,\r\n        taskVersion: this.serializationService.deserialize(this.componentData.objectId).taskVersion\r\n      };\r\n\r\n      this.visitSearchService.findBireVisitsByCriteria(visitTemp).subscribe(\r\n        (result) => {\r\n          result.list.forEach((res) => {\r\n            if (res.taskCode === visitTemp.taskCode && res.taskVersion === visitTemp.taskVersion) {\r\n              this.visit = res;\r\n            }\r\n          });\r\n\r\n          if (!!this.visit.taskCode && !!this.visit.taskVersion) {\r\n            const visitId: BireTaskDTO = {\r\n              taskCode: this.visit.taskCode,\r\n              taskVersion: this.visit.taskVersion\r\n            };\r\n\r\n            this.loadDecompositionTable(visitId);\r\n            this.loadMaintenanceTable(visitId);\r\n            this.getBireVisitAttributes();\r\n            this.getTotalCost(visitId);\r\n            this.loadVisitStatus();\r\n            this.subtitleMethod();\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnLoadVisit'));\r\n        }\r\n      );\r\n    } else {\r\n      this.visit.statusState = AWPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING;\r\n    }\r\n  }\r\n\r\n  public reloadVisit(): void {\r\n    this.init();\r\n    this.loadVisit();\r\n  }\r\n\r\n  private loadVisitStatus(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.AIRM_OPERATION_STATUS_MAP).subscribe(\r\n      (results) => {\r\n        this.statusList = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFamilyVariant'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public saveVisit(): void {\r\n    if (StringUtils.isNullOrEmpty(this.visit.taskCode) || StringUtils.isNullOrEmpty(this.visit.taskVersion)) {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    } else {\r\n      this.saving = true;\r\n      const visit: BireTaskDTO = {\r\n        taskCode: this.visit.taskCode,\r\n        taskVersion: this.visit.taskVersion\r\n      };\r\n      if (this.componentData.openMode === ComponentOpenMode.Create) {\r\n        this.visitSearchService.findBireVisitsByCriteria(visit).subscribe((results) => {\r\n          let visitExists = false;\r\n          results.list.forEach((res) => {\r\n            if (res.taskCode === this.visit.taskCode && res.taskVersion === this.visit.taskVersion) {\r\n              visitExists = true;\r\n            }\r\n          });\r\n          if (!visitExists) {\r\n            this.save();\r\n          } else {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('visitAlreadyExists'));\r\n            this.saving = false;\r\n          }\r\n        });\r\n      } else {\r\n        this.visitSearchService.findBireVisitsByCriteria(visit).subscribe((results) => {\r\n          let visitExists = false;\r\n          results.list.forEach((res) => {\r\n            if (res.taskCode === this.visit.taskCode && res.taskVersion === this.visit.taskVersion) {\r\n              visitExists = true;\r\n            }\r\n          });\r\n          if (visitExists) {\r\n            this.save();\r\n          } else {\r\n            this.messageService.showErrorMessage('global.internalServerError');\r\n            this.saving = false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private save(): void {\r\n    const decTable = JSON.parse(JSON.stringify(this.decompositionTableDataSource.dataSrc));\r\n    decTable.forEach((decomposition) => {\r\n      if (!!decomposition && !!decomposition.periodicityType) {\r\n        const periodicityType = this.periodicityTypes.filter((type) => type.label === decomposition.periodicityType);\r\n        decomposition.periodicityType =\r\n          periodicityType.length !== 0 ? periodicityType[0].value : decomposition.periodicityType;\r\n      }\r\n      if (!!decomposition && !!decomposition.taskType) {\r\n        const taskType = this.taskTypes.filter((type) => type.label === decomposition.taskType);\r\n        decomposition.taskType = taskType.length !== 0 ? taskType[0].value : decomposition.taskType;\r\n      }\r\n    });\r\n\r\n    if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion) {\r\n      const bireTaskAttributes = this.dynamicAttributesService.toBireTaskAttribute(\r\n        this.visit.taskCode,\r\n        this.visit.taskVersion,\r\n        this.dynamicAttributesForVisit\r\n      );\r\n\r\n      const saveVisitId: SaveBireTaskInput = {\r\n        visitCode: this.visit.taskCode,\r\n        visitVersion: this.visit.taskVersion,\r\n        visitDesignation: this.visit.taskDesignation,\r\n        visitDescription: this.visit.taskDescription,\r\n        taskDecompositionTableAttributeAddedDTO: decTable,\r\n        taskDecompositionTableAttributeRemoveDTO: this.decompositionTableRemovedList,\r\n        statusState: this.visit.statusState,\r\n        bireTaskAttributeUpdatedList: bireTaskAttributes\r\n      };\r\n\r\n      this.visitFormService.saveVisit(saveVisitId).subscribe(\r\n        (result) => {\r\n          this.saving = false;\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnSaveVisit'));\r\n          const context = `${this.visit.taskCode}-${this.visit.taskVersion}`;\r\n          this.displayComponentContext(context, this.isCreateOpenMode);\r\n          this.updateOpenMode(ComponentOpenMode.Read);\r\n          this.componentData.objectId = this.serializationService.serialize(this.visit);\r\n          this.reloadVisit();\r\n        },\r\n        (error) => {\r\n          this.saving = false;\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnSaveVisit'));\r\n        }\r\n      );\r\n    } else {\r\n      this.saving = false;\r\n      super.throwUnboundLocalError('saveVisit', 'this.visit && this.visit.taksCode && this.visit.taskVersion');\r\n    }\r\n  }\r\n\r\n  private init(): void {\r\n    this.visit = {};\r\n    this.decompositionInput = {};\r\n    this.decompositionTableRemovedList = [];\r\n\r\n    this.saving = false;\r\n\r\n    this.attributeIdValueMap = new Map<string, string>();\r\n    this.bireAttributesForVisit = [];\r\n    this.dynamicAttributesForVisit = [];\r\n    this.bireVisitAttributes = [];\r\n    this.getBireAttributesForVisit();\r\n  }\r\n\r\n  private initOnCreate(): void {\r\n    this.visit = {};\r\n    this.decompositionInput = {};\r\n\r\n    this.initAttributeValue();\r\n  }\r\n\r\n  private loadDecompositionTable(bireTaskDTO: BireTaskDTO): void {\r\n    this.isDecompositionLoading = true;\r\n    this.visitFormService.findTasksDecompositionByVisit(bireTaskDTO).subscribe(\r\n      (results) => {\r\n        this.isDecompositionLoading = false;\r\n        this.decompositionTableDataSource.setData(results || []);\r\n        this.decompositionTableDataSource.dataSrc.forEach((decomposition) => {\r\n          const taskGroup: LabelValue<string> = this.taskGroups.filter(\r\n            (element) => element.value === decomposition.taskGroup\r\n          )[0];\r\n\r\n          const taskType: LabelValue<string> = this.taskTypes.filter(\r\n            (element) => element.value === decomposition.taskType\r\n          )[0];\r\n\r\n          const periodicityType: LabelValue<string> = this.periodicityTypes.filter(\r\n            (element) => element.value === decomposition.periodicityType\r\n          )[0];\r\n\r\n          if (decomposition.taskGroup && taskGroup) {\r\n            decomposition.taskGroup = taskGroup.label;\r\n          }\r\n          if (decomposition.taskType && taskType) {\r\n            decomposition.taskType = taskType.label;\r\n          }\r\n          if (decomposition.periodicityType && periodicityType) {\r\n            decomposition.periodicityType = periodicityType.label;\r\n          }\r\n        });\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetTasksDecompositions'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadMaintenanceTable(bireTaskDTO: BireTaskDTO): void {\r\n    this.isMaintenanceLoading = true;\r\n    this.visitFormService.findBireMaintenancePlan(bireTaskDTO).subscribe(\r\n      (results) => {\r\n        this.maintenanceTableDataSource.setData(results || []);\r\n        this.isMaintenanceLoading = false;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetMaintenancePlan'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadTaskGroups(): void {\r\n    this.visitFormService.getTaskGroups().subscribe(\r\n      (results) => {\r\n        this.taskGroups = results.filter((taskGroup) => taskGroup.value != undefined) || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetTaskGroups'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadTaskTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.TASK_TYPE_MAP).subscribe(\r\n      (results) => {\r\n        this.taskTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetTaskTypes'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadPeriodicityTypes(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.PERIODICITY_TYPE_MAP).subscribe(\r\n      (results) => {\r\n        this.periodicityTypes = results || [];\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('.errorOnGetPeriodicityTypes'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private getTotalCost(input: BireTaskDTO): void {\r\n    this.visitFormService.findBireOperationsByTaskTotalCost(input).subscribe((result) => {\r\n      this.totalCost = result;\r\n    });\r\n  }\r\n\r\n  private initDecompositionTableDataSource(): void {\r\n    this.decompositionTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      itemsPerPage: 7,\r\n      columns: [\r\n        {\r\n          field: 'taskCode',\r\n          translateKey: this.getTranslateKey('taskCode'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'taskDesignation',\r\n          translateKey: this.getTranslateKey('taskDesignation'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'taskGroup',\r\n          translateKey: this.getTranslateKey('taskGroup'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'taskType',\r\n          translateKey: this.getTranslateKey('taskType'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'groupCode',\r\n          translateKey: this.getTranslateKey('groupCode'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'periodicityType',\r\n          translateKey: this.getTranslateKey('periodicityType'),\r\n          alignment: ColumnAlignment.CENTER\r\n        },\r\n        {\r\n          field: 'sequenceNumber',\r\n          translateKey: this.getTranslateKey('sequenceNumber'),\r\n          alignment: ColumnAlignment.CENTER\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  private initMaintenanceTableDataSource(): void {\r\n    this.maintenanceTableDataSource = new TableDataSource({\r\n      enableSelection: false,\r\n      itemsPerPage: 10,\r\n      columns: [\r\n        {\r\n          field: 'planCode',\r\n          translateKey: this.getTranslateKey('planCode'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'planName',\r\n          translateKey: this.getTranslateKey('planName'),\r\n          width: '40%'\r\n        },\r\n        {\r\n          field: 'planRevisionNumber',\r\n          translateKey: this.getTranslateKey('planRevisionNumber'),\r\n          alignment: ColumnAlignment.CENTER,\r\n          width: '22.5%'\r\n        },\r\n        {\r\n          field: 'planRevisionDate',\r\n          translateKey: this.getTranslateKey('planRevisionDate'),\r\n          alignment: ColumnAlignment.CENTER,\r\n          width: '22.5%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  /*************************************************************************\r\n   * Fields tab\r\n   *************************************************************************/\r\n\r\n  public openFieldsTab(): void {\r\n    this.currentTabId = this.tabFieldsId;\r\n  }\r\n\r\n  /*************************************************************************\r\n   * Tasks tab\r\n   *************************************************************************/\r\n\r\n  public openTasksTab(): void {\r\n    this.currentTabId = this.tabTasksId;\r\n  }\r\n\r\n  public createDecomposition(): void {\r\n    this.currentDecomposition = undefined;\r\n    this.isNewDecomposition = true;\r\n    this.isReadOnlyDecompositionDialog = false;\r\n    this.showDecompositionDialog = true;\r\n  }\r\n\r\n  public editDecomposition(): void {\r\n    if (this.decompositionTableDataSource.dataSelectionCount === 1) {\r\n      this.currentDecomposition = { ...this.decompositionTableDataSource.dataSelection[0] };\r\n      this.isNewDecomposition = false;\r\n      this.currentDecompositionIndex = this.decompositionTableDataSource.dataSrc.indexOf(\r\n        this.decompositionTableDataSource.dataSelection[0]\r\n      );\r\n\r\n      const taskGroup: LabelValue<string> = this.taskGroups.filter(\r\n        (element) => !!this.currentDecomposition && element.label === this.currentDecomposition.taskGroup\r\n      )[0];\r\n\r\n      const taskType: LabelValue<string> = this.taskTypes.filter(\r\n        (element) => !!this.currentDecomposition && element.label === this.currentDecomposition.taskType\r\n      )[0];\r\n\r\n      const periodicityType: LabelValue<string> = this.periodicityTypes.filter(\r\n        (element) => !!this.currentDecomposition && element.label === this.currentDecomposition.periodicityType\r\n      )[0];\r\n\r\n      if (this.currentDecomposition.taskGroup && taskGroup) {\r\n        this.currentDecomposition.taskGroup = taskGroup.value;\r\n      }\r\n      if (this.currentDecomposition.taskType && taskType) {\r\n        this.currentDecomposition.taskType = taskType.value;\r\n      }\r\n      if (this.currentDecomposition.periodicityType && periodicityType) {\r\n        this.currentDecomposition.periodicityType = periodicityType.value;\r\n      }\r\n\r\n      this.isReadOnlyDecompositionDialog = false;\r\n      this.showDecompositionDialog = true;\r\n    }\r\n  }\r\n\r\n  public openDecomposition(): void {\r\n    if (this.decompositionTableDataSource.dataSelectionCount === 1) {\r\n      this.currentDecomposition = { ...this.decompositionTableDataSource.dataSelection[0] };\r\n\r\n      const taskGroup: LabelValue<string> = this.taskGroups.filter(\r\n        (element) => !!this.currentDecomposition && element.label === this.currentDecomposition.taskGroup\r\n      )[0];\r\n\r\n      const taskType: LabelValue<string> = this.taskTypes.filter(\r\n        (element) => !!this.currentDecomposition && element.label === this.currentDecomposition.taskType\r\n      )[0];\r\n\r\n      const periodicityType: LabelValue<string> = this.periodicityTypes.filter(\r\n        (element) => !!this.currentDecomposition && element.label === this.currentDecomposition.periodicityType\r\n      )[0];\r\n\r\n      if (this.currentDecomposition.taskGroup && taskGroup) {\r\n        this.currentDecomposition.taskGroup = taskGroup.value;\r\n      }\r\n      if (this.currentDecomposition.taskType && taskType) {\r\n        this.currentDecomposition.taskType = taskType.value;\r\n      }\r\n      if (this.currentDecomposition.periodicityType && periodicityType) {\r\n        this.currentDecomposition.periodicityType = periodicityType.value;\r\n      }\r\n\r\n      this.isNewDecomposition = false;\r\n      this.isReadOnlyDecompositionDialog = true;\r\n      this.showDecompositionDialog = true;\r\n    }\r\n  }\r\n\r\n  public deleteDecomposition(): void {\r\n    if (this.decompositionTableDataSource.dataSelectionCount === 1) {\r\n      const partialMessageKey =\r\n        this.decompositionTableDataSource.dataSelectionCount > 1\r\n          ? 'confirmDeleteSelectedDecompositions'\r\n          : 'confirmDeleteSelectedDecomposition';\r\n\r\n      this.confirmationService.confirmDelete({\r\n        messageKey: this.getTranslateKey(partialMessageKey),\r\n        accept: () => {\r\n          const deleteDecomposition: TaskDecompositionTableAttributeDTO = {\r\n            taskCode: this.decompositionTableDataSource.dataSelection[0].taskCode,\r\n            taskVersion: this.decompositionTableDataSource.dataSelection[0].taskVersion\r\n          };\r\n\r\n          this.decompositionTableRemovedList.push(deleteDecomposition);\r\n\r\n          this.decompositionTableDataSource.setData(\r\n            this.decompositionTableDataSource.dataSrc.filter(\r\n              (dec) => dec.taskCode !== this.decompositionTableDataSource.dataSelection[0].taskCode\r\n            )\r\n          );\r\n\r\n          this.decompositionTableDataSource.dataSelection = [];\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public goToTask(event: TaskDecompositionTableAttributeDTO) {\r\n    const object = event.bireTask;\r\n    const labelKey = 'transaction.TaskFormComponent';\r\n    if (!!object && !!object.taskCode && !!object.taskVersion) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'TaskFormComponent',\r\n        objectId: this.serializationService.serialize(object),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else {\r\n      super.throwUnboundLocalError('goToTask', 'event.bireTask');\r\n    }\r\n  }\r\n\r\n  /*************************************************************************\r\n   * Maintenance tab\r\n   *************************************************************************/\r\n  public goToMaintenanceProgram(event: BireMaintenancePlanDTO): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_MAINTENANCE_PROGRAM_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    if (!!event.planCode) {\r\n      const birePlanDTOId: BireMaintenancePlanDTOId = {\r\n        planCode: event.planCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(birePlanDTOId);\r\n\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else {\r\n      super.throwUnboundLocalError('goToMaintenanceProgram', 'event.planCode');\r\n    }\r\n  }\r\n\r\n  /*************************************************************************\r\n   * Attributes tab\r\n   *************************************************************************/\r\n\r\n  public openAttributesTab(): void {\r\n    this.currentTabId = this.tabAttributesId;\r\n  }\r\n\r\n  public getBireAttributesForVisit(): void {\r\n    this.visitFormService.findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_ALL_KEY).subscribe(\r\n      (results) => {\r\n        this.bireAttributesForVisit.push(...results);\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n      }\r\n    );\r\n    this.visitFormService\r\n      .findBireAttributesByCategory(AWPropertiesConstants.MCH_ATTRIBUTE_CATEGORY_VISIT_KEY)\r\n      .subscribe(\r\n        (results) => {\r\n          this.bireAttributesForVisit.push(...results);\r\n          setTimeout(() => {\r\n            this.dynamicAttributesForVisit = this.dynamicAttributesService.from(this.bireAttributesForVisit);\r\n            this.getBireVisitAttributes();\r\n          });\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByCategory'));\r\n        }\r\n      );\r\n  }\r\n\r\n  public getBireVisitAttributes(): void {\r\n    if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion) {\r\n      const visitId: BireTaskDTOId = {\r\n        taskCode: this.visit.taskCode,\r\n        taskVersion: this.visit.taskVersion\r\n      };\r\n      this.visitFormService.findBireTaskAttributeByTask(visitId).subscribe(\r\n        (results) => {\r\n          this.bireVisitAttributes = results;\r\n          this.dynamicAttributesService.setValues(this.dynamicAttributesForVisit, this.bireVisitAttributes);\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAttributesByTask'));\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  /*************************************************************************\r\n   * Associated Tasks Maintenance Dialog\r\n   *************************************************************************/\r\n\r\n  public addNewDecomposition(taskDecomposition: TaskDecompositionTableAttributeDTO): void {\r\n    if (taskDecomposition) {\r\n      const decompositionInExistingTable = this.decompositionTableDataSource.dataSrc.filter(\r\n        (decomposition) => decomposition.taskCode === taskDecomposition.taskCode\r\n      );\r\n      if (decompositionInExistingTable.length === 0) {\r\n        this.decompositionTableDataSource.addData([taskDecomposition]);\r\n        this.decompositionTableDataSource.dataSrc.forEach((decomposition) => {\r\n          const taskGroup: LabelValue<string> = this.taskGroups.filter(\r\n            (element) => element.value === decomposition.taskGroup\r\n          )[0];\r\n\r\n          const taskType: LabelValue<string> = this.taskTypes.filter(\r\n            (element) => element.value === decomposition.taskType\r\n          )[0];\r\n\r\n          const periodicityType: LabelValue<string> = this.periodicityTypes.filter(\r\n            (element) => element.value === decomposition.periodicityType\r\n          )[0];\r\n\r\n          if (decomposition.taskGroup && taskGroup) {\r\n            decomposition.taskGroup = taskGroup.label;\r\n          }\r\n          if (decomposition.taskType && taskType) {\r\n            decomposition.taskType = taskType.label;\r\n          }\r\n          if (decomposition.periodicityType && periodicityType) {\r\n            decomposition.periodicityType = periodicityType.label;\r\n          }\r\n        });\r\n      } else {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('decompositionExists'));\r\n      }\r\n    }\r\n  }\r\n\r\n  public updateDecomposition(taskDecomposition: TaskDecompositionTableAttributeDTO): void {\r\n    if (taskDecomposition) {\r\n      this.decompositionTableDataSource.replaceData(\r\n        this.decompositionTableDataSource.dataSelection[0],\r\n        taskDecomposition\r\n      );\r\n      this.decompositionTableDataSource.dataSelection = [];\r\n\r\n      this.decompositionTableDataSource.dataSrc.forEach((decomposition) => {\r\n        const taskGroup: LabelValue<string> = this.taskGroups.filter(\r\n          (element) => element.value === decomposition.taskGroup\r\n        )[0];\r\n\r\n        const taskType: LabelValue<string> = this.taskTypes.filter(\r\n          (element) => element.value === decomposition.taskType\r\n        )[0];\r\n\r\n        const periodicityType: LabelValue<string> = this.periodicityTypes.filter(\r\n          (element) => element.value === decomposition.periodicityType\r\n        )[0];\r\n\r\n        if (decomposition.taskGroup && taskGroup) {\r\n          decomposition.taskGroup = taskGroup.label;\r\n        }\r\n        if (decomposition.taskType && taskType) {\r\n          decomposition.taskType = taskType.label;\r\n        }\r\n        if (decomposition.periodicityType && periodicityType) {\r\n          decomposition.periodicityType = periodicityType.label;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Currency\r\n  private loadCurrency(): void {\r\n    this.currency = '';\r\n    this.visitFormService.getLocalCurrency().subscribe((result) => {\r\n      this.currency = result;\r\n    });\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion) {\r\n      const taskId: BireTaskDTOId = {\r\n        taskCode: this.visit.taskCode,\r\n        taskVersion: this.visit.taskVersion\r\n      };\r\n      this.showStatusUpdatesPopup = true;\r\n      const columns: TableColumn[] = [\r\n        {\r\n          field: 'timestamp',\r\n          width: '200px',\r\n          filterMode: TableColumnFilterMode.Input,\r\n          isDate: true,\r\n          alignment: 'center'\r\n        },\r\n        { field: 'statusUser', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'action', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'statusState', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskTypeCode', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskDesignation', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskDescription', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'groupCode', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'repairCenterCode', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskChapter', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskSection', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskSubject', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskTask', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskSubTask', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'taskStatus', width: '250px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        {\r\n          field: 'taskApplicabilityDate',\r\n          width: '200px',\r\n          filterMode: TableColumnFilterMode.Input,\r\n          isDate: true,\r\n          alignment: 'center'\r\n        },\r\n        {\r\n          field: 'taskApplicabilityCode',\r\n          width: '200px',\r\n          filterMode: TableColumnFilterMode.Input,\r\n          alignment: 'center'\r\n        },\r\n        { field: 'overhaul', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' },\r\n        { field: 'inspectionPerEsm', width: '200px', filterMode: TableColumnFilterMode.Input, alignment: 'center' }\r\n      ];\r\n      this.updatesKeyMap.set('taskTypeCode', this.propertiesService.getValue('getTaskTypeMap'));\r\n      this.updatesKeyMap.set('taskStatus', this.propertiesService.getValue('getFuncObjectStatusMap'));\r\n      this.updatesKeyMap.set('taskApplicabilityCode', this.propertiesService.getValue('getTaskApplicabilityCodeMap'));\r\n      this.updatesKeyMap.set('repairCenterCode', this.visitFormService.findMROCenter());\r\n      this.updatesKeyMap.set('groupCode', this.visitFormService.getTaskGroups());\r\n      this.tableStatusUpdatesData = {\r\n        componentId: 'VisitFormComponent.historicPopup',\r\n        tableCols: columns,\r\n        tableRows: this.updateHistoricService.findBireTaskHistoric(taskId),\r\n        dataKey: undefined,\r\n        selectionMode: TableSelectionMode.Multiple,\r\n        globalFilter: false\r\n      };\r\n    } else {\r\n      super.throwUnboundLocalError(\r\n        'openStatusUpdatesPopup',\r\n        'this.visit && this.visit.taskCode && this.visit.taskVersion'\r\n      );\r\n    }\r\n  }\r\n\r\n  public openHistoricAttributes(): void {\r\n    if (!!this.visit && !!this.visit.taskCode && !!this.visit.taskVersion && !!this.dynamicAttributesForVisit) {\r\n      this.showDynamicAttributesHistoric = true;\r\n\r\n      const attributeIds: BireTaskAttributeDTOId[] = this.dynamicAttributesService.toBireTaskAttributeId(\r\n        this.visit.taskCode,\r\n        this.visit.taskVersion,\r\n        this.dynamicAttributesForVisit\r\n      );\r\n      this.dynamicAttributesHistoric = this.visitFormService.findHBireTaskAttributesByAttributeId(attributeIds);\r\n    }\r\n  }\r\n\r\n  public initCostSettingDisplay(): void {\r\n    this.propertiesService\r\n      .getValue(GenericPropertyConstants.AEROWEBB_CONFIGURATION_MAP)\r\n      .subscribe((awConfiguration) => {\r\n        this.isCostSettingEnabled = SettingsUtils.isPropertyEnabled(\r\n          awConfiguration,\r\n          AWPropertiesConstants.DISPLAY_COST\r\n        );\r\n      });\r\n  }\r\n\r\n  public showStatus(): void {\r\n    const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n      content: ObjectStatusComponent,\r\n      data: {\r\n        currentAuthor: this.visit.statusUser,\r\n        currentDate: this.visit.statusDate,\r\n        currentStatus: {\r\n          label: this._formatSelectOption.transform(this.visit.statusState, this.statusList),\r\n          value: this.visit.statusState\r\n        },\r\n        nextStatuses: this.statusList\r\n      }\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          this.visit.statusState = event.data;\r\n          this.saveVisit();\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { TaskHistoryApi } from '../../../shared/api/task-history.api';\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { BireAttributeDTO } from '../../../shared/types/api-types/bire-attribute-dto.interface';\r\nimport { BireMaintenancePlanDTO } from '../../../shared/types/api-types/bire-maintenance-plan-dto.interface';\r\nimport { BireTaskAttributeDTOId } from '../../../shared/types/api-types/bire-task-attribute-dto-id.interface';\r\nimport { BireTaskAttributeDTO } from '../../../shared/types/api-types/bire-task-attribute-dto.interface';\r\nimport { BireTaskDTOId } from '../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskDTO } from '../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { FindBireTaskByCriteriaInput } from '../../../shared/types/api-types/find-bire-task-by-criteria-input.interface';\r\nimport { HBireTaskAttributeDTO } from '../../../shared/types/api-types/h-bire-task-attribute-dto.interface';\r\nimport { SaveBireTaskInput } from '../../../shared/types/api-types/save-bire-task-input.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { TaskDecompositionTableAttributeDTO } from '../../../shared/types/api-types/task-decomposition-table-attribute-dto.interface';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class VisitFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly taskHistoryApi: TaskHistoryApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /*************************************************************************\r\n   * Task management api\r\n   *************************************************************************/\r\n\r\n  public getTaskGroups(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.taskManagementApi.findAllBireTaskGroups);\r\n  }\r\n\r\n  public findTasksDecompositionByVisit(bireTaskDTO: BireTaskDTO): Observable<TaskDecompositionTableAttributeDTO[]> {\r\n    return super.post<BireTaskDTO, TaskDecompositionTableAttributeDTO[]>(\r\n      this.taskManagementApi.findBireTasksDecomposition,\r\n      bireTaskDTO\r\n    );\r\n  }\r\n\r\n  public saveVisit(saveBireTaskInput: SaveBireTaskInput): Observable<boolean> {\r\n    return super.post<SaveBireTaskInput, boolean>(this.taskManagementApi.saveVisit, saveBireTaskInput);\r\n  }\r\n\r\n  public findBireMaintenancePlan(bireTaskDTO: BireTaskDTO): Observable<BireMaintenancePlanDTO[]> {\r\n    return super.post<BireTaskDTO, BireMaintenancePlanDTO[]>(\r\n      this.taskManagementApi.findBireMaintenanceProgramsByVisit,\r\n      bireTaskDTO\r\n    );\r\n  }\r\n\r\n  public findBireTasksByCriteria(criteria: FindBireTaskByCriteriaInput): Observable<SearchResultsDTO<BireTaskDTO>> {\r\n    return super.post<FindBireTaskByCriteriaInput, SearchResultsDTO<BireTaskDTO>>(\r\n      this.taskManagementApi.findBireTasksByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public findBireTaskAttributeByTask(taskId: BireTaskDTOId): Observable<BireTaskAttributeDTO[]> {\r\n    // const taskId: BireTaskDTOId = {\r\n    //   taskCode: task.taskCode,\r\n    //   taskVersion: task.taskVersion\r\n    // };\r\n\r\n    return super.post<BireTaskDTOId, BireTaskAttributeDTO[]>(\r\n      this.taskManagementApi.findBireTaskAttributeByTask,\r\n      taskId\r\n    );\r\n  }\r\n\r\n  public findHBireTaskAttributesByAttributeId(ids: BireTaskAttributeDTOId[]): Observable<HBireTaskAttributeDTO[]> {\r\n    return super.post<BireTaskAttributeDTOId[], HBireTaskAttributeDTO[]>(\r\n      this.taskHistoryApi.findHBireTaskAttributesByAttributeId,\r\n      ids\r\n    );\r\n  }\r\n\r\n  public findBireOperationsByTaskTotalCost(input: BireTaskDTO): Observable<number> {\r\n    return super.post<BireTaskDTO, number>(this.taskManagementApi.findBireOperationsByTaskTotalCost, input);\r\n  }\r\n\r\n  /*************************************************************************\r\n   * Product structure management api\r\n   *************************************************************************/\r\n\r\n  public findBireAttributesByCategory(category: string): Observable<BireAttributeDTO[]> {\r\n    return super.post<string, BireAttributeDTO[]>(\r\n      this.productStructureManagementApi.findBireAttributesByCategory,\r\n      category\r\n    );\r\n  }\r\n\r\n  public getLocalCurrency(): Observable<string> {\r\n    return super.post<void, string>(this.taskManagementApi.getLocalCurrency);\r\n  }\r\n\r\n  public findMROCenter(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.productStructureManagementApi.findAllBireSite);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div class=\\\"page-subtitle\\\">- {{ \\\"page.searchPage\\\" | translate }}</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewVisit()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".visitCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.taskCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".visitVersion\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.taskVersion\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".taskDesignation\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.taskDesignation\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      class=\\\"btn-with-spinner\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      color=\\\"primary\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      <span *ngIf=\\\"isLoading\\\" class=\\\"lds-hourglass\\\"></span>\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <!-- Visits table -->\\r\\n\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{ visitTableDataSource ? visitTableDataSource.dataCount : 0 }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"visitTableDataSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"\\r\\n                      visitTableDataSource && visitTableDataSource.hasData && !visitTableDataSource.hasDataSelection\\r\\n                    \\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && visitTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteVisits()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"visitTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedVisits()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template columnDef=\\\"taskCode\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <a (click)=\\\"openVisitLink(rowData)\\\">{{ rowData.taskCode }}</a>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template columnDef=\\\"isOperator\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <i\\r\\n                    *ngIf=\\\"rowData.isOperator !== null && rowData.isOperator\\\"\\r\\n                    class=\\\"fa fa-fw fa-check\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                  ></i>\\r\\n                </ng-template>\\r\\n\\r\\n                <ng-template columnDef=\\\"isOwner\\\" let-rowData=\\\"rowData\\\">\\r\\n                  <i\\r\\n                    *ngIf=\\\"rowData.isOwner !== null && rowData.isOwner\\\"\\r\\n                    class=\\\"fa fa-fw fa-check\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                  ></i>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { Table } from 'primeng/table';\r\n\r\nimport { TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../shared/services/confirmation.service';\r\nimport { ExportService } from '../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../shared/services/message.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { BireTaskDTOId } from '../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskDTO } from '../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { PageComponent } from '../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\n\r\nimport { VisitSearchService } from './visit-search.service';\r\n\r\ninterface VisitDataExport {\r\n  taskCode?: string;\r\n  taskVersion?: string;\r\n  taskDesignation?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-visit-search',\r\n  templateUrl: './visit-search.component.html'\r\n})\r\nexport class VisitSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public filteredRowsNb: number;\r\n  public visitTableDataSource: TableDataSource<BireTaskDTO>;\r\n  public searchObject: BireTaskDTO;\r\n\r\n  public isLoading: boolean = false;\r\n\r\n  private readonly resultsTableExportName: string;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly visitSearchService: VisitSearchService,\r\n    private readonly exportService: ExportService,\r\n    private readonly confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.resultsTableExportName = 'visit-list';\r\n\r\n    this.filteredRowsNb = 0;\r\n    this.searchObject = {};\r\n    this.initVisitTableDataSource();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'VisitSearchComponent';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  private initVisitTableDataSource(): void {\r\n    this.visitTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'taskCode',\r\n          translateKey: this.getTranslateKey('taskCode'),\r\n          width: '30%'\r\n        },\r\n        {\r\n          field: 'taskVersion',\r\n          translateKey: this.getTranslateKey('taskVersion'),\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'taskDesignation',\r\n          translateKey: this.getTranslateKey('taskDesignation'),\r\n          width: '55%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public deleteVisits(): void {\r\n    const partialMessageKey =\r\n      this.visitTableDataSource.dataSelectionCount > 1 ? 'confirmDeleteSelectedVisits' : 'confirmDeleteSelectedVisit';\r\n\r\n    const visits = new Array<BireTaskDTOId>();\r\n    this.visitTableDataSource.dataSelection.forEach((visit) => {\r\n      if (!!visit && !!visit.taskCode && !!visit.taskVersion) {\r\n        const visitId: BireTaskDTOId = {\r\n          taskCode: visit.taskCode,\r\n          taskVersion: visit.taskVersion\r\n        };\r\n        visits.push(visitId);\r\n      } else {\r\n        super.throwUnboundLocalError('deleteVisits', 'visit && visit.taskCode && visit.taskVersion');\r\n      }\r\n    });\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.visitSearchService.removeBireTask(visits).subscribe(\r\n          (result) => {\r\n            this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteVisit'));\r\n            this.visitTableDataSource.dataSelection = [];\r\n            this.search();\r\n          },\r\n          (error) => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnDeleteVisit'));\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public exportTable(): void {\r\n    const dataToExport: VisitDataExport[] = [];\r\n    this.visitTableDataSource.dataSrc.forEach((visit) => {\r\n      const visitDataExport: VisitDataExport = {\r\n        taskCode: visit.taskCode,\r\n        taskVersion: visit.taskVersion,\r\n        taskDesignation: visit.taskDesignation\r\n      };\r\n      dataToExport.push(visitDataExport);\r\n    });\r\n    this.exportService.toExcel(dataToExport, this.resultsTableExportName, this.componentData.componentId);\r\n  }\r\n\r\n  public openNewVisit(): void {\r\n    this.openVisit(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  public openVisitLink(visit: BireTaskDTO): void {\r\n    if (!!visit) {\r\n      if (!!visit.taskCode && visit.taskCode.trim().length > 0) {\r\n        this.openVisit(visit, ComponentOpenMode.Read);\r\n      } else {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingTaskCode'));\r\n        super.throwUnboundLocalError('openSelectedVisits', 'visit.taskCode');\r\n      }\r\n    } else {\r\n      super.throwUnboundLocalError('openSelectedVisits', 'visit');\r\n    }\r\n  }\r\n\r\n  public openSelectedVisits(): void {\r\n    this.visitTableDataSource.dataSelection.forEach((visit) => {\r\n      if (!!visit) {\r\n        if (!!visit.taskCode && visit.taskCode.trim().length > 0) {\r\n          this.openVisit(visit, ComponentOpenMode.Read);\r\n        } else {\r\n          this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingTaskCode'));\r\n          super.throwUnboundLocalError('openSelectedVisits', 'visit.taskCode');\r\n        }\r\n      } else {\r\n        super.throwUnboundLocalError('openSelectedVisits', 'visit');\r\n      }\r\n    });\r\n  }\r\n\r\n  public resetResultsTable(table: Table): void {\r\n    table.reset();\r\n    table.filters = {};\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {};\r\n  }\r\n\r\n  public search(): void {\r\n    if (!!this.searchObject) {\r\n      this.isLoading = true;\r\n      this.visitSearchService.findBireVisitsByCriteria(this.searchObject).subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            this.visitTableDataSource.dataSelection = [];\r\n            this.isLoading = false;\r\n            this.visitTableDataSource.setData(results.list);\r\n            this.visitTableDataSource.update();\r\n            this.filteredRowsNb = this.visitTableDataSource.dataCount;\r\n          }\r\n        },\r\n        () => {\r\n          this.isLoading = false;\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetResults'));\r\n        }\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('search', 'this.searchObject');\r\n    }\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onFilter(event: any): void {\r\n    this.filteredRowsNb = event.filteredValue.length;\r\n  }\r\n\r\n  private openVisit(object: BireTaskDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.VisitFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'VisitFormComponent',\r\n      objectId: this.serializationService.serialize(object),\r\n      openMode\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { TaskManagementApi } from '../../../shared/api/task-management.api';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { BireTaskDTOId } from '../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskDTO } from '../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class VisitSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly taskManagementApi: TaskManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireVisitsByCriteria(criteria: BireTaskDTO): Observable<SearchResultsDTO<BireTaskDTO>> {\r\n    return super.post<BireTaskDTO, SearchResultsDTO<BireTaskDTO>>(\r\n      this.taskManagementApi.findBireVisitsByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public removeBireTask(bireTaskDTOId: BireTaskDTOId[]): Observable<boolean> {\r\n    return super.post<BireTaskDTOId[], boolean>(this.taskManagementApi.removeBireTask, bireTaskDTOId);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"70\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">\\r\\n      {{ getComponentName() + \\\".title\\\" | translate }}\\r\\n    </div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"column\\\">\\r\\n      <div class=\\\"row object-details\\\">\\r\\n        <div class=\\\"column\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".mainComment\\\" | translate }} </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <textarea class=\\\"aw-textarea\\\" [rows]=\\\"3\\\" pInputTextarea [(ngModel)]=\\\"mainComment\\\"></textarea>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\"></div>\\r\\n            <div class=\\\"form-group\\\"></div>\\r\\n          </div>\\r\\n\\r\\n          <ng-template [ngIf]=\\\"showPanel\\\">\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"section\\\">\\r\\n                  <h4 class=\\\"section-title\\\">\\r\\n                    {{ getComponentName() + \\\".ruleSection\\\" | translate }}\\r\\n                  </h4>\\r\\n\\r\\n                  <div class=\\\"section-content\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div class=\\\"form-group required\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".type\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"ruleTypeList\\\"\\r\\n                            [(ngModel)]=\\\"ruleData.type\\\"\\r\\n                            [disabled]=\\\"rulesTableSelectedList.length > 0\\\"\\r\\n                            (onChange)=\\\"changeType()\\\"\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group required\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".applicabilityCode\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control form-control-with-modal\\\" *ngIf=\\\"ruleData.type === 'EVOL'\\\">\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"showEvol()\\\">{{ ruleData.applicabilityCode }}</div>\\r\\n\\r\\n                          <div *ngIf=\\\"ruleData.applicabilityCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"ruleData.applicabilityCode = undefined\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"showEvol()\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-control form-control-with-modal\\\" *ngIf=\\\"ruleData.type === 'SB'\\\">\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"showSb()\\\">{{ ruleData.applicabilityCode }}</div>\\r\\n\\r\\n                          <div *ngIf=\\\"ruleData.applicabilityCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"ruleData.applicabilityCode = undefined\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showSb()\\\"></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-control form-control-with-modal\\\" *ngIf=\\\"ruleData.type === 'AD'\\\">\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"showAd()\\\">{{ ruleData.applicabilityCode }}</div>\\r\\n\\r\\n                          <div *ngIf=\\\"ruleData.applicabilityCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"ruleData.applicabilityCode = undefined\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showAd()\\\"></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-control form-control-with-modal\\\" *ngIf=\\\"ruleData.type === 'MOD'\\\">\\r\\n                          <div class=\\\"form-control-data\\\" (click)=\\\"showMod()\\\">{{ ruleData.applicabilityCode }}</div>\\r\\n\\r\\n                          <div *ngIf=\\\"ruleData.applicabilityCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                            <i\\r\\n                              class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              (click)=\\\"ruleData.applicabilityCode = undefined\\\"\\r\\n                            ></i>\\r\\n                          </div>\\r\\n                          <div class=\\\"btn-search-wrapper\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search aw-icon btn-search\\\" aria-hidden=\\\"true\\\" (click)=\\\"showMod()\\\"></i>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-control\\\" *ngIf=\\\"ruleData.type === 'SN'\\\">\\r\\n                          <div class=\\\"aw-input-group\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"ruleData.applicabilityCode\\\" />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group required\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".periodicity\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"aw-input-group\\\">\\r\\n                            <input\\r\\n                              type=\\\"text\\\"\\r\\n                              #periodicity=\\\"ngModel\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"ruleData.periodicity\\\"\\r\\n                              [pKeyFilter]=\\\"inputValidationService.validatorOfNumber()\\\"\\r\\n                              [pValidateOnly]=\\\"true\\\"\\r\\n                              maxlength=\\\"37\\\"\\r\\n                            />\\r\\n                            <p-message\\r\\n                              *ngIf=\\\"periodicity.invalid && (periodicity.dirty || periodicity.touched)\\\"\\r\\n                              severity=\\\"error\\\"\\r\\n                              [text]=\\\"inputValidationService.formatOfNumber()\\\"\\r\\n                            ></p-message>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".comment\\\" | translate }} </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"aw-input-group\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"ruleData.comment\\\" maxlength=\\\"37\\\" />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row actions-bar\\\">\\r\\n              <button\\r\\n                type=\\\"button\\\"\\r\\n                mat-raised-button\\r\\n                color=\\\"primary\\\"\\r\\n                (click)=\\\"saveCommentAndRules()\\\"\\r\\n                [disabled]=\\\"validateData() || (periodicity.invalid && (periodicity.dirty || periodicity.touched))\\\"\\r\\n              >\\r\\n                {{ \\\"global.validate\\\" | translate }}\\r\\n              </button>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"section\\\">\\r\\n          <h4 class=\\\"section-title\\\">\\r\\n            {{ getComponentName() + \\\".ruleTableTitle\\\" | translate }}\\r\\n            ({{ rulesTable ? rulesTable.length : 0 }})\\r\\n          </h4>\\r\\n\\r\\n          <div class=\\\"section-content\\\">\\r\\n            <p-table\\r\\n              [resizableColumns]=\\\"true\\\"\\r\\n              #ptableRules\\r\\n              class=\\\"aw-table2\\\"\\r\\n              [columns]=\\\"rulesTableColList\\\"\\r\\n              [value]=\\\"rulesTable\\\"\\r\\n              [(selection)]=\\\"rulesTableSelectedList\\\"\\r\\n              [scrollable]=\\\"true\\\"\\r\\n              (onFilter)=\\\"onRulesFilter($event)\\\"\\r\\n              (onRowSelect)=\\\"onRowSelect()\\\"\\r\\n              (onRowUnselect)=\\\"onRowSelect()\\\"\\r\\n              (onHeaderCheckboxToggle)=\\\"onRowSelect()\\\"\\r\\n              dataKey=\\\"rowIndex\\\"\\r\\n            >\\r\\n              <ng-template pTemplate=\\\"caption\\\">\\r\\n                <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': rulesTableSelectedList.length > 0 }\\\">\\r\\n                  <div class=\\\"aw-table-global-filter\\\">\\r\\n                    <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                      <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                    </label>\\r\\n\\r\\n                    <input\\r\\n                      #ptableRulesGlobalFilter\\r\\n                      class=\\\"aw-table-global-filter-input\\\"\\r\\n                      type=\\\"text\\\"\\r\\n                      placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                      (input)=\\\"ptableRules.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                    />\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"aw-table-actions\\\">\\r\\n                    <button\\r\\n                      *ngIf=\\\"!showPanel && rulesTableSelectedList.length > 0\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      color=\\\"warn\\\"\\r\\n                      (click)=\\\"deleteRules()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.delete\\\" | translate }}\\r\\n                    </button>\\r\\n                    <button\\r\\n                      *ngIf=\\\"rulesTableSelectedList.length === 1\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      [ngClass]=\\\"{ active: showPanel }\\\"\\r\\n                      (click)=\\\"toggleOpenMode()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.edit\\\" | translate }}\\r\\n                    </button>\\r\\n                    <button\\r\\n                      *ngIf=\\\"rulesTableSelectedList.length === 0\\\"\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      [ngClass]=\\\"{ active: showPanel }\\\"\\r\\n                      (click)=\\\"toggleOpenMode()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.add\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                <colgroup>\\r\\n                  <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                  <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                </colgroup>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                <tr>\\r\\n                  <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                    <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                  </th>\\r\\n\\r\\n                  <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                  </th>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n\\r\\n              <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                  <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                    <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                  </td>\\r\\n\\r\\n                  <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                    {{ rowData[col.field] }}\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </ng-template>\\r\\n            </p-table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.close\\\" | translate }}</span>\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-evolution\\r\\n  *ngIf=\\\"showEvolutionTableDialog\\\"\\r\\n  [(display)]=\\\"showEvolutionTableDialog\\\"\\r\\n  (onSelected)=\\\"onSelectedEvolution($event)\\\"\\r\\n>\\r\\n</aw-dialog-search-evolution>\\r\\n\\r\\n<aw-dialog-search-sbad\\r\\n  *ngIf=\\\"showSbadDialog\\\"\\r\\n  [(display)]=\\\"showSbadDialog\\\"\\r\\n  (onValidated)=\\\"setSelectedObject($event)\\\"\\r\\n  [revisionNumber]=\\\"\\\"\\r\\n  [dialogType]=\\\"sbadDialogType\\\"\\r\\n>\\r\\n</aw-dialog-search-sbad>\\r\\n\\r\\n<aw-dialog-search-modification\\r\\n  *ngIf=\\\"showModificationTableDialog\\\"\\r\\n  [(display)]=\\\"showModificationTableDialog\\\"\\r\\n  (onSelected)=\\\"setSelectedModification($event)\\\"\\r\\n>\\r\\n</aw-dialog-search-modification>\\r\\n\"","module.exports = \".object-details {\\n  border: 1px solid #01579b;\\n  border-radius: 4px;\\n  padding: 8px;\\n  margin-bottom: calc(8px * 5); }\\n  .object-details .actions-bar {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: flex-end; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZGlhbG9nLWdlbmVyYXRlLWNvbW1lbnQvZDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxnaXRodWJfcGFnZXMvc3JjXFxhcHBcXHNoYXJlZFxcY29tcG9uZW50c1xcZGlhbG9nLWdlbmVyYXRlLWNvbW1lbnRcXGRpYWxvZy1nZW5lcmF0ZS1jb21tZW50LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9kaWFsb2ctZ2VuZXJhdGUtY29tbWVudC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXHN0eWxlc1xcX2NvbnN0YW50cy5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9kaWFsb2ctZ2VuZXJhdGUtY29tbWVudC9kOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGdpdGh1Yl9wYWdlcy9zcmNcXHN0eWxlc1xcX21peGlucy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0UseUJDQW9CO0VEQ3BCLGtCQ2dDaUI7RUQvQmpCLFlDc0NnQjtFRHJDaEIsNEJBQXlDLEVBQUE7RUFKM0M7SUVvQkUsYUFBYTtJQUNiLG1CQUFtQjtJRlpqQix5QkFBeUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2RpYWxvZy1nZW5lcmF0ZS1jb21tZW50L2RpYWxvZy1nZW5lcmF0ZS1jb21tZW50LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcImNvbnN0YW50c1wiO1xyXG5AaW1wb3J0IFwibWl4aW5zXCI7XHJcblxyXG4ub2JqZWN0LWRldGFpbHMge1xyXG4gIGJvcmRlcjogJGJvcmRlci13aWR0aCAkYm9yZGVyLXN0eWxlICRhY2NlbnQtY29sb3I7XHJcbiAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgcGFkZGluZzogJG1hcmdpbi12YWx1ZTtcclxuICBtYXJnaW4tYm90dG9tOiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiA1KTtcclxuXHJcbiAgLmFjdGlvbnMtYmFyIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gVXRpbHMgLy9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuQG1peGluIGJ1dHRvbi1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yOiBudWxsKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgYm9yZGVyLWNvbG9yOiAkY29sb3I7XHJcbiAgY29sb3I6ICRjb2xvcjtcclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlcixcclxuICAmOm5vdCg6ZGlzYWJsZWQpLmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7XHJcbiAgICBib3JkZXItY29sb3I6IGlmKCRib3JkZXItY29sb3IgPT0gbnVsbCwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yKTtcclxuICAgIGNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LWNvbHVtbigpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LXJvdygpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dCgpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG4gIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICBjb2xvcjogaW5oZXJpdDtcclxuICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHBhZGRpbmc6IDJweCAwIDRweCAwO1xyXG5cclxuICB0cmFuc2l0aW9uOiBib3JkZXItYm90dG9tLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtZGlzYWJsZWQoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ7XHJcbiAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuQG1peGluIGlucHV0LWZvY3VzKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtaG92ZXIoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbn1cclxuXHJcbkBtaXhpbiBwbGFjZWhvbGRlciB7XHJcbiAgJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzZWFyY2gtY3JpdGVyaWEtY29udGFpbmVyIHtcclxuICAuYWR2YW5jZWQtY3JpdGVyaWEge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1jcml0ZXJpYS1mb290ZXIge1xyXG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xyXG4gICAgbWFyZ2luLXRvcDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcblxyXG4gICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXIge1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLW1vcmUge1xyXG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1tb3JlIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAvIDIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnNlYXJjaC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAgIC5hdy1idG4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc2VjdGlvbi1jb250YWluZXIge1xyXG4gIG1hcmdpbi10b3A6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDQpO1xyXG5cclxuICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLXRpdGxlIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICBsaW5lLWhlaWdodDogMS43NXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuXHJcbiAgICAmLnJlcXVpcmVkIHtcclxuICAgICAgQGluY2x1ZGUgZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQoKTtcclxuICAgICAgJjo6YWZ0ZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmFsZXJ0IHtcclxuICAgICAgICBjb2xvcjogJHJlZC1kYXJrMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgbGluZS1oZWlnaHQ6IDEuNzVyZW07XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcblxyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tY29udGVudCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LWNvbHVtbigpO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gICAgJiA+IGJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHRleHQtb3ZlcmZsb3ctaGlkZGVuIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gR3JpZCBmb3JtIGNvbnRyb2xzIC8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tY29udHJvbCB7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYk1lZGl1bVwiO1xyXG5cclxuICAmID4gaW5wdXQgKyBwLW1lc3NhZ2UgPiAudWktbWVzc2FnZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAmOmZvY3VzLFxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgICYgPiAuZm9ybS1jb250cm9sLWFjdGlvbnMge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBsZWZ0LCByZ2IoMjU1LCAyNTUsIDI1NSkgNjAlLCB0cmFuc3BhcmVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmZvcm0tY29udHJvbC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIGJvdHRvbTogMDtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMDtcclxuICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgLmF3LWljb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3M7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWJ0bixcclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcblxyXG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAmLmRpc2FibGVkIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYnRuIHtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuXHJcbiAgICAgICYuYXctY2FsZW5kYXIgLnVpLWlucHV0dGV4dCxcclxuICAgICAgJi5hdy1kcm9wZG93biAudWktZHJvcGRvd24sXHJcbiAgICAgICYuYXctaW5wdXQsXHJcbiAgICAgICYuYXctdGV4dGFyZWEge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWNhbGVuZGFyIHtcclxuICAgICAgLy8gRklYTUU6IGZpeCBhbiBVSSBpc3N1ZSBvbiBQcmltZU5HIGNhbGVuZGFyIGNvbXBvbmVudDsgdG8gcmVtb3ZlIHdoZW4gaXNzdWUgd2lsbCBiZSBmaXhlZCB1cHN0cmVhbVxyXG4gICAgICBvdmVyZmxvdzogaW5pdGlhbDtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWljb24ge1xyXG4gICAgICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1heC1oZWlnaHQ6IDMwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAzMHB4O1xyXG5cclxuICAgICYuZGlzYWJsZWQge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG5cclxuICAgICAgLmF3LWljb246bm90KC5yZWFkLW9ubHktbGluaykge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyAvLyBub25lXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1jb250cm9sLWRhdGEge1xyXG4gICAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICAgICAgcGFkZGluZzogMnB4IDAgNHB4IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1uaW1wLFxyXG4gICAgLmJ0bi1leHRlcm5hbC1saW5rLXdyYXBwZXIsXHJcbiAgICAuYnRuLWNsZWFyLXdyYXBwZXIsXHJcbiAgICAuYnRuLWZpbGUtdXBsb2FkLXdyYXBwZXIsXHJcbiAgICAuYnRuLXNlYXJjaC13cmFwcGVyIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1maWxlLXVwbG9hZC13cmFwcGVyIHtcclxuICAgICAgLmF3LWZpbGV1cGxvYWQge1xyXG4gICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG5cclxuICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnVpLWJ1dHRvbiB7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC51aS1idXR0b24taWNvbi1sZWZ0IHtcclxuICAgICAgICAgICAgZGlzcGxheTogY29udGVudHM7XHJcbiAgICAgICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogaW5pdGlhbDtcclxuICAgICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAgICY6OmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgY29udGVudDogXCJcXGU5MzRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1jbGVhciB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1zZWFyY2gge1xyXG4gICAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLXJhZGlvYnV0dG9uIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgJiA+IC5hdy1yYWRpb2J1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogY2FsYygyICogI3skbWFyZ2luLXZhbHVlfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtZ2VuZXJpYyB7XHJcbiAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcblxyXG4gICYgPiBhIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmID4gLmFsZXJ0IHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNXJlbTtcclxuXHJcbiAgICAmLmFsZXJ0LS1ub2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MTtcclxuICAgIH1cclxuXHJcbiAgICAmLmFsZXJ0LS1vayB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0td2FybmluZyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQge1xyXG4gICY6OmFmdGVyIHtcclxuICAgIGNvbG9yOiAkcmVkLWRhcmsxO1xyXG4gICAgY29udGVudDogXCIqXCI7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtNHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtY2FsZW5kYXIge1xyXG4gICYudWktaW5wdXR3cmFwcGVyLWZvY3VzIHtcclxuICAgIC51aS1jYWxlbmRhciAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC51aS1jYWxlbmRhciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgJjpkaXNhYmxlZCB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1sYWJlbCB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1jaGVja2JveCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGhlaWdodDogJGNoZWNrYm94LWhlaWdodDtcclxuICB3aWR0aDogJGNoZWNrYm94LWhlaWdodDtcclxuXHJcbiAgLnVpLWNoa2JveCB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktY2hrYm94LWJveCB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgIGNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgICYudWktc3RhdGUtZGlzYWJsZWQge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWFjdGl2ZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWRyb3Bkb3duIHtcclxuICAudWktZHJvcGRvd24ge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi1sYWJlbCB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtZm9jdXMge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWNsZWFyLWljb24sXHJcbiAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1jbGVhci1pY29uIHtcclxuICAgICAgcmlnaHQ6IDEuNzVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tbGFiZWwge1xyXG4gICAgICBAaW5jbHVkZSB0ZXh0LW92ZXJmbG93LWhpZGRlbigpO1xyXG5cclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIgKiAxLjc1cmVtKTtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZml4ZWQtd2lkdGggLnVpLWRyb3Bkb3duIHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1maWxldXBsb2FkIHtcclxuICBAZXh0ZW5kIC5hdy1idG47XHJcblxyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC51aS1maWxldXBsb2FkLWNob29zZSB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgIHBhZGRpbmc6IDAgJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAudWktYnV0dG9uLWljb24tbGVmdCB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWJ1dHRvbi10ZXh0IHtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1pbnB1dCgpIHtcclxuICBAaW5jbHVkZSBpbnB1dCgpO1xyXG5cclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgJjpkaXNhYmxlZCB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1kaXNhYmxlZCgpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpmb2N1cyB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtdGV4dGFyZWEge1xyXG4gIEBpbmNsdWRlIGdyaWQtaW5wdXQoKTtcclxuXHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWluLWhlaWdodDogJGZvcm0tY29udHJvbC1oZWlnaHQ7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxufVxyXG5cclxuQG1peGluIGdyaWQtcmFkaW9idXR0b24ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBoZWlnaHQ6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcbiAgd2lkdGg6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcblxyXG4gIC51aS1yYWRpb2J1dHRvbiB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktcmFkaW9idXR0b24tYm94IHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICBjb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1hY3RpdmUge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuXHJcbiAgICAgICAgLnVpLXJhZGlvYnV0dG9uLWljb24ge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBjYWxlbmRhci1wYW5lbCB7XHJcbiAgLnVpLWRhdGVwaWNrZXI6bm90KC51aS1kYXRlcGlja2VyLWlubGluZSkge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICAgIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZHJvcGRvd24tcGFuZWwge1xyXG4gIC51aS1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICBib3JkZXI6ICRib3JkZXItd2lkdGggJGJvcmRlci1zdHlsZSAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWl0ZW1zLXdyYXBwZXIgLnVpLWRyb3Bkb3duLWxpc3Qge1xyXG4gICAgICAudWktZHJvcGRvd24taXRlbSB7XHJcbiAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBwYWRkaW5nOiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYudWktc3RhdGUtaGlnaGxpZ2h0IHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../services/confirmation.service';\r\nimport { InputValidationService } from '../../services/input-validation.service';\r\nimport { SessionService } from '../../services/session.service';\r\nimport { BireEvolutionDTO } from '../../types/api-types/bire-evolution-dto.interface';\r\nimport { BireModificationDTO } from '../../types/api-types/bire-modification-dto.interface';\r\nimport { BireSbDTO } from '../../types/api-types/bire-sb-dto.interface';\r\nimport { ConditionTagInput } from '../../types/component-input-types/engineering-management/condition-tag-input.interface';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { PopupEntry } from '../../types/popup-entry.interface';\r\nimport { TableColumn } from '../../types/table-column.interface';\r\n\r\nimport { DialogGenerateCommentService } from './dialog-generate-comment.service';\r\n\r\ninterface RulesRow {\r\n  rowIndex?: number;\r\n  type?: string;\r\n  applicabilityCode?: string;\r\n  periodicity?: string;\r\n  comment?: string;\r\n  _obj?: ConditionTagInput;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-generate-comment',\r\n  styleUrls: ['./dialog-generate-comment.component.scss'],\r\n  templateUrl: './dialog-generate-comment.component.html'\r\n})\r\nexport class DialogGenerateCommentComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public componentData: PopupEntry<string>;\r\n  @Output()\r\n  public onValidate: EventEmitter<string>;\r\n\r\n  public ruleTypeList: LabelValue<string>[];\r\n  public ruleData: RulesRow;\r\n  public rulesTable: RulesRow[];\r\n  public rulesTableColList: TableColumn[];\r\n  public rulesTableSelectedList: RulesRow[];\r\n  public showPanel: boolean;\r\n  public isCounterDisable: boolean;\r\n  public mainComment: string;\r\n  public comments: string;\r\n  public rulesDisplayedRowNb: number;\r\n  public showSbadDialog: boolean;\r\n  public showEvolutionTableDialog: boolean;\r\n  public showModificationTableDialog: boolean;\r\n  public sbadDialogType: string;\r\n\r\n  public constructor(\r\n    public dialogGenerateCommentService: DialogGenerateCommentService,\r\n    public sessionService: SessionService,\r\n    public inputValidationService: InputValidationService,\r\n    private readonly confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Read, 'DialogGenerateCommentComponent');\r\n\r\n    this.onValidate = new EventEmitter<string>();\r\n    this.init();\r\n    this.initRulesTableColList();\r\n    this.loadRuleTypeDropDown();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    if (this.componentData && this.componentData.componentId && !!this.componentData.object) {\r\n      this.comments = this.componentData.object;\r\n      this.load();\r\n    }\r\n  }\r\n\r\n  public loadRuleTypeDropDown() {\r\n    this.dialogGenerateCommentService.getTypeSelectedDropDown().subscribe((results) => {\r\n      this.ruleTypeList = results;\r\n    });\r\n  }\r\n\r\n  private initRulesTableColList(): void {\r\n    this.rulesTableColList = [\r\n      { field: 'type', alignment: 'left', width: '25%' },\r\n      { field: 'applicabilityCode', alignment: 'left', width: '25%' },\r\n      { field: 'periodicity', alignment: 'left', width: '25%' },\r\n      { field: 'comment', alignment: 'left', width: '25%' }\r\n    ];\r\n  }\r\n\r\n  private load(): void {\r\n    this.rulesTable = [];\r\n    if (this.comments) {\r\n      try {\r\n        const inputList: ConditionTagInput[] = JSON.parse(this.comments) as ConditionTagInput[];\r\n        let rowIndex = 0;\r\n        inputList.forEach((element, index) => {\r\n          if (index === 0) {\r\n            this.mainComment = inputList[index].comment || '';\r\n          } else {\r\n            if (element.rule && element.rule.applicabilitiesCode.length > 1) {\r\n              element.rule.applicabilitiesCode.forEach((obj) => {\r\n                if (element.rule) {\r\n                  element.rule.applicabilitiesCode = [obj];\r\n                }\r\n                this.rulesTable.push(this.createRulesRow({ ...element }, rowIndex));\r\n                rowIndex++;\r\n              });\r\n            } else {\r\n              this.rulesTable.push(this.createRulesRow({ ...element }, rowIndex));\r\n              rowIndex++;\r\n            }\r\n          }\r\n        });\r\n      } catch (e) {\r\n        this.mainComment = this.comments;\r\n      }\r\n    }\r\n  }\r\n\r\n  public saveCommentAndRules(): void {\r\n    if (this.ruleData.type && this.ruleData.applicabilityCode && this.ruleData.periodicity) {\r\n      if (this.rulesTableSelectedList.length === 1) {\r\n        const index = this.rulesTableSelectedList[0].rowIndex || 0;\r\n\r\n        const commentData: ConditionTagInput = {\r\n          comment: this.ruleData.comment,\r\n          rule: {\r\n            type: this.ruleData.type,\r\n            applicabilitiesCode: [this.ruleData.applicabilityCode],\r\n            periodicity: this.ruleData.periodicity\r\n          }\r\n        };\r\n\r\n        this.rulesTable[index] = { ...this.createRulesRow(commentData, index) };\r\n      } else {\r\n        const commentData: ConditionTagInput = {\r\n          comment: this.ruleData.comment,\r\n          rule: {\r\n            type: this.ruleData.type,\r\n            applicabilitiesCode: [this.ruleData.applicabilityCode],\r\n            periodicity: this.ruleData.periodicity\r\n          }\r\n        };\r\n\r\n        this.rulesTable.push(this.createRulesRow({ ...commentData }, this.rulesTable.length));\r\n      }\r\n      this.showPanel = false;\r\n      this.rulesTableSelectedList = [];\r\n    }\r\n  }\r\n\r\n  private createRulesRow(element: ConditionTagInput, index: number): RulesRow {\r\n    const row: RulesRow = {\r\n      rowIndex: index,\r\n      comment: element.comment,\r\n      periodicity: element.rule && element.rule.periodicity,\r\n      applicabilityCode: element.rule && element.rule.applicabilitiesCode && element.rule.applicabilitiesCode[0],\r\n      type: element.rule && element.rule.type,\r\n      _obj: element\r\n    };\r\n\r\n    return row;\r\n  }\r\n\r\n  private init(): void {\r\n    this.ruleData = {\r\n      type: 'EVOL'\r\n    };\r\n    this.rulesTable = [];\r\n    this.rulesTableSelectedList = [];\r\n    this.showPanel = false;\r\n  }\r\n\r\n  public toggleOpenMode(): void {\r\n    this.showPanel = !this.showPanel;\r\n    if (this.rulesTableSelectedList.length === 1) {\r\n      this.ruleData = { ...this.rulesTableSelectedList[0] };\r\n    } else {\r\n      this.ruleData = { type: 'EVOL' };\r\n    }\r\n  }\r\n\r\n  public deleteRules(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.confirmSelectedDataDelete',\r\n      accept: () => {\r\n        this.rulesTableSelectedList.forEach((selectedObj) => {\r\n          const index = selectedObj.rowIndex || 0;\r\n          this.rulesTable.splice(index, 1);\r\n        });\r\n        this.rulesTableSelectedList = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onRulesFilter(event: any): void {\r\n    this.rulesDisplayedRowNb = event.filteredValue.length;\r\n  }\r\n\r\n  public closeDialog(): void {\r\n    const comment: ConditionTagInput[] = [];\r\n    // add main comment\r\n    const mainComment: ConditionTagInput = {\r\n      comment: this.mainComment || ''\r\n    };\r\n    comment.push(mainComment);\r\n\r\n    // add rule data\r\n    const mapData: Map<string, ConditionTagInput> = new Map<string, ConditionTagInput>();\r\n    this.rulesTable.forEach((row) => {\r\n      if (row.type && row.periodicity && row.applicabilityCode && row._obj) {\r\n        const id = row.type + row.periodicity + (row.comment || '');\r\n        if (!mapData.get(id)) {\r\n          mapData.set(id, row._obj);\r\n        } else {\r\n          const data: ConditionTagInput | undefined = mapData.get(id);\r\n          if (data && data.rule) {\r\n            const applicability = data.rule.applicabilitiesCode || [];\r\n            applicability.push(row.applicabilityCode);\r\n            data.rule.applicabilitiesCode = applicability;\r\n            mapData.set(id, data);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    mapData.forEach((value) => {\r\n      comment.push(value);\r\n    });\r\n\r\n    this.onValidate.emit(JSON.stringify(comment));\r\n    super.closeDialog();\r\n  }\r\n\r\n  public validateData(): boolean {\r\n    return !this.ruleData.type || !this.ruleData.applicabilityCode || !this.ruleData.periodicity;\r\n  }\r\n\r\n  public onRowSelect(): void {\r\n    this.showPanel = false;\r\n  }\r\n\r\n  public showEvol(): void {\r\n    this.showEvolutionTableDialog = true;\r\n  }\r\n\r\n  public showSb(): void {\r\n    this.showSbadDialog = true;\r\n    this.sbadDialogType = 'SB';\r\n  }\r\n\r\n  public showAd(): void {\r\n    this.showSbadDialog = true;\r\n    this.sbadDialogType = 'AD';\r\n  }\r\n\r\n  public showMod(): void {\r\n    this.showModificationTableDialog = true;\r\n  }\r\n\r\n  public onSelectedEvolution(customerEvolution: BireEvolutionDTO): void {\r\n    if (!!customerEvolution) {\r\n      this.ruleData.applicabilityCode = `${customerEvolution.evolutionNumber}:${\r\n        customerEvolution.evolutionRevisionNumber\r\n      }`;\r\n    }\r\n    this.showEvolutionTableDialog = false;\r\n  }\r\n\r\n  public setSelectedObject(selectedObject: BireSbDTO) {\r\n    if (selectedObject) {\r\n      this.ruleData.applicabilityCode = `${selectedObject.sbNumber}:${selectedObject.sbRevisionNumber}`;\r\n    }\r\n    this.showSbadDialog = false;\r\n  }\r\n\r\n  public setSelectedModification(selectedObject: BireModificationDTO) {\r\n    if (selectedObject) {\r\n      this.ruleData.applicabilityCode = `${selectedObject.modificationNumber}:${\r\n        selectedObject.modificationRevisionNumber\r\n      }`;\r\n    }\r\n    this.showModificationTableDialog = false;\r\n  }\r\n\r\n  public changeType() {\r\n    this.ruleData.applicabilityCode = undefined;\r\n    this.ruleData.comment = undefined;\r\n    this.ruleData.periodicity = undefined;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { KeyFilterModule } from 'primeng/keyfilter';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { DialogSearchEvolutionModule } from '../dialog-search-evolution/dialog-search-evolution.module';\r\nimport { DialogSearchModificationModule } from '../dialog-search-modification/dialog-search-modification.module';\r\nimport { DialogSearchSbAdModule } from '../dialog-search-sbad/dialog-search-sbad.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogGenerateCommentComponent } from './dialog-generate-comment.component';\r\nimport { DialogGenerateCommentService } from './dialog-generate-comment.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  DialogModule,\r\n  DropdownModule,\r\n  TableModule,\r\n  KeyFilterModule,\r\n  MessageModule,\r\n  DialogSearchEvolutionModule,\r\n  DialogSearchSbAdModule,\r\n  DialogSearchModificationModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogGenerateCommentComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogGenerateCommentService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogGenerateCommentModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../shared/api/fleet-management.api';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class DialogGenerateCommentService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public getTypeSelectedDropDown(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.fleetManagementApi.getTypeSelectedDropDown);\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"70\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section search-criteria-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".familyCode\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"familyCodeList\\\"\\r\\n                    [(ngModel)]=\\\"selectedFamily\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    (onChange)=\\\"onChange($event.value)\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".modificationType\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationType\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".modificationNumber\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationNumber\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".modificationRevisionNumber\\\" | translate }}\\r\\n                </label>\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationRevisionNumber\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".modificationTitle\\\" | translate }}\\r\\n                </label>\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.modificationTitle\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\">\\r\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"search()\\\">\\r\\n                  <span>{{ \\\"global.toSearch\\\" | translate }}</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ \\\"global.results\\\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            #ptableResults\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"resultsTableCols\\\"\\r\\n            [value]=\\\"resultsTable.list\\\"\\r\\n            [(selection)]=\\\"selectedModification\\\"\\r\\n            selectionMode=\\\"single\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    #ptableResultsGlobalFilter\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptableResults.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\">\\r\\n                  <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"validate()\\\" [disabled]=\\\"!selectedModification\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { BireModificationDTO } from '../../types/api-types/bire-modification-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { TableColumn } from '../../types/table-column.interface';\r\n\r\nimport { DialogSearchModificationService } from './dialog-search-modification.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-modification',\r\n  templateUrl: 'dialog-search-modification.component.html'\r\n})\r\nexport class DialogSearchModificationComponent extends DialogComponent implements OnInit {\r\n  @Output()\r\n  public onSelected: EventEmitter<BireModificationDTO>;\r\n\r\n  public filteredRowsNb: number;\r\n  public resultsTableCols: TableColumn[];\r\n  public resultsTable: SearchResultsDTO<BireModificationDTO>;\r\n  public searchObject: BireModificationDTO;\r\n  public familyCodeList: LabelValue<string>[];\r\n  public selectedFamily: string | undefined;\r\n  public selectedModification: BireModificationDTO | undefined;\r\n  public isLoading: boolean;\r\n\r\n  public constructor(private readonly dialogSearchModificationService: DialogSearchModificationService) {\r\n    super(ComponentOpenMode.Write, 'DialogSearchModificationComponent');\r\n\r\n    this.onSelected = new EventEmitter<BireModificationDTO>();\r\n    this.filteredRowsNb = 0;\r\n    this.resultsTable = { list: [], moreResults: false };\r\n    this.searchObject = {};\r\n    this.searchObject = { familyCode: undefined };\r\n    this.isLoading = false;\r\n\r\n    this.resultsTableCols = [\r\n      { field: 'familyCode', alignment: 'left', width: '15%' },\r\n      { field: 'structureType', alignment: 'left', width: '10%' },\r\n      { field: 'modificationType', alignment: 'left', width: '15%' },\r\n      { field: 'modificationNumber', alignment: 'left', width: '15%' },\r\n      { field: 'modificationRevisionNumber', alignment: 'left', width: '13%' },\r\n      { field: 'modificationDocumentUrl', alignment: 'left', width: '18%' },\r\n      { field: 'modificationTitle', alignment: 'left', width: '15%' }\r\n    ];\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.searchObject = this.searchObject || {};\r\n    this.loadDropDownList();\r\n  }\r\n\r\n  public cancel(): void {\r\n    super.closeDialog();\r\n  }\r\n\r\n  private loadDropDownList(): void {\r\n    this.dialogSearchModificationService.findBireFamily().subscribe((results) => {\r\n      this.selectedFamily = undefined;\r\n      this.familyCodeList = results;\r\n    });\r\n  }\r\n\r\n  public onChange(event: string): void {\r\n    if (!!event) {\r\n      const familys: string[] = event.split('-');\r\n      this.searchObject.familyCode = familys[0];\r\n      this.searchObject.structureType = familys[1];\r\n    } else {\r\n      this.searchObject.familyCode = undefined;\r\n      this.searchObject.structureType = undefined;\r\n    }\r\n  }\r\n\r\n  public search(): void {\r\n    this.loadModifications();\r\n    this.selectedModification = undefined;\r\n  }\r\n\r\n  private loadModifications(): void {\r\n    this.isLoading = true;\r\n    this.dialogSearchModificationService.searchModificationList(this.searchObject).subscribe(\r\n      (results) => {\r\n        this.isLoading = false;\r\n        if (results) {\r\n          this.resultsTable = results;\r\n          this.filteredRowsNb = this.resultsTable.list.length;\r\n        }\r\n      },\r\n      () => {\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public onFilter(event: any): void {\r\n    this.filteredRowsNb = event.filteredValue.length;\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onSelected.emit(this.selectedModification);\r\n    super.closeDialog();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchModificationComponent } from './dialog-search-modification.component';\r\nimport { DialogSearchModificationService } from './dialog-search-modification.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchModificationComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchModificationService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchModificationModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../../shared/api/product-structure-management.api';\r\nimport { BireModificationDTO } from '../../../shared/types/api-types/bire-modification-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { BidoFunctionTypeConstants } from '../../constants/bido-function-type-constants';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\nimport { FindBireModificationsByModificationPKAndDesignationInput } from '../../types/api-input-types/product-structure-management/find-bire-modifications-by-modification-pk-and-designation-input.interface';\r\nimport { FindFamilyVariantInput } from '../../types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class DialogSearchModificationService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireFamily(): Observable<LabelValue<string>[]> {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n\r\n    return super.post<FindFamilyVariantInput, LabelValue<string>[]>(\r\n      this.productStructureManagementApi.findBireFamily,\r\n      familyVariantInput\r\n    );\r\n  }\r\n\r\n  public searchModificationList(\r\n    bireModificationDTO: BireModificationDTO\r\n  ): Observable<SearchResultsDTO<BireModificationDTO>> {\r\n    let findBireModificationsByModificationPKAndDesignationInput = {};\r\n    findBireModificationsByModificationPKAndDesignationInput = {\r\n      bireModificationDTO,\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n\r\n    return super.post<FindBireModificationsByModificationPKAndDesignationInput, SearchResultsDTO<BireModificationDTO>>(\r\n      this.productStructureManagementApi.findBireModificationsByModificationPKAndDesignation,\r\n      findBireModificationsByModificationPKAndDesignationInput\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"90\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyVariant\\\"\\r\\n                    [(ngModel)]=\\\"familyVariant\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sbNumber\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.sbNumber\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".statusState\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyStatus\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.statusState\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"dialogType !== 'AD'\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sbType\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyType\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.sbType\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\" style=\\\"padding-right: 10px;\\\">\\r\\n                <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"search()\\\">\\r\\n                  {{ \\\"global.toSearch\\\" | translate }}\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"grid-row\\\">\\r\\n          <div class=\\\"grid-cell--12\\\">\\r\\n            <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n              <div class=\\\"grid-cell-header\\\">\\r\\n                <div class=\\\"grid-cell-title-container\\\">\\r\\n                  <h3 class=\\\"grid-cell-title\\\">\\r\\n                    {{ \\\"global.results\\\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\\r\\n                  </h3>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"grid-cell-content\\\">\\r\\n                <p-table\\r\\n                  [resizableColumns]=\\\"true\\\"\\r\\n                  #ptable\\r\\n                  class=\\\"aw-table2\\\"\\r\\n                  [columns]=\\\"tableColList\\\"\\r\\n                  [value]=\\\"resultsTable.list\\\"\\r\\n                  [(selection)]=\\\"selectedRow\\\"\\r\\n                  selectionMode=\\\"single\\\"\\r\\n                  [scrollable]=\\\"true\\\"\\r\\n                  dataKey=\\\"dataKey\\\"\\r\\n                >\\r\\n                  <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                    <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n                    <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                      <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                      <div class=\\\"lds-hourglass\\\"></div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"caption\\\">\\r\\n                    <div class=\\\"aw-table-header\\\">\\r\\n                      <div class=\\\"aw-table-global-filter\\\">\\r\\n                        <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                          <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </label>\\r\\n\\r\\n                        <input\\r\\n                          #ptableGlobalFilter\\r\\n                          class=\\\"aw-table-global-filter-input\\\"\\r\\n                          type=\\\"text\\\"\\r\\n                          placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                          (input)=\\\"ptable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                        />\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                    <colgroup>\\r\\n                      <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\" />\\r\\n                      <col />\\r\\n                    </colgroup>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                    <tr>\\r\\n                      <th\\r\\n                        pResizableColumn\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                      >\\r\\n                        {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                      </th>\\r\\n                      <th [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\"></th>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                    <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                      <td\\r\\n                        *ngFor=\\\"let col of columns\\\"\\r\\n                        [ngSwitch]=\\\"col.field\\\"\\r\\n                        [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                      >\\r\\n                        <span\\r\\n                          *ngSwitchCase=\\\"'sbTitle'\\\"\\r\\n                          pTooltip=\\\"{{\\r\\n                            !!rowData['sbTitle'] && rowData['sbTitle'].length > 35 ? rowData['sbTitle'] : ''\\r\\n                          }}\\\"\\r\\n                        >\\r\\n                          {{ rowData[col.field] }}</span\\r\\n                        >\\r\\n                        <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                      </td>\\r\\n\\r\\n                      <td\\r\\n                        class=\\\"row-expand-wrapper\\\"\\r\\n                        [pRowToggler]=\\\"rowData\\\"\\r\\n                        [ngStyle]=\\\"{ width: '5%', 'text-align': 'left' }\\\"\\r\\n                      >\\r\\n                        <i\\r\\n                          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                          [ngClass]=\\\"rowData.expand ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                          aria-hidden=\\\"true\\\"\\r\\n                          pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                          tooltipPosition=\\\"top\\\"\\r\\n                          (click)=\\\"toggleRowDetailsVisibility(rowData)\\\"\\r\\n                        ></i>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n\\r\\n                  <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n                    <tr class=\\\"row-expanded\\\">\\r\\n                      <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                        <div class=\\\"column forced-backgroung\\\">\\r\\n                          <div class=\\\"row\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ getComponentName() + \\\".\\\" + \\\"sbDocumentUrl\\\" | translate }}\\r\\n                              </label>\\r\\n                              <div class=\\\"form-control\\\">\\r\\n                                <input\\r\\n                                  type=\\\"text\\\"\\r\\n                                  class=\\\"aw-input\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.sbDocumentUrl\\\"\\r\\n                                  [disabled]=\\\"true\\\"\\r\\n                                />\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ getComponentName() + \\\".\\\" + \\\"sbClass\\\" | translate }}\\r\\n                              </label>\\r\\n                              <div class=\\\"form-control\\\">\\r\\n                                <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"rowData.sbClass\\\" [disabled]=\\\"true\\\" />\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </ng-template>\\r\\n                </p-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      {{ \\\"dialog.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"validate()\\\" [disabled]=\\\"!selectedRow\\\">\\r\\n      {{ \\\"dialog.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \":host .grid-cell--12 ::ng-deep .grid-cell--container {\\n  box-shadow: none !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZGlhbG9nLXNlYXJjaC1zYmFkL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxzaGFyZWRcXGNvbXBvbmVudHNcXGRpYWxvZy1zZWFyY2gtc2JhZFxcZGlhbG9nLXNlYXJjaC1zYmFkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBR00sMkJBQTJCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9kaWFsb2ctc2VhcmNoLXNiYWQvZGlhbG9nLXNlYXJjaC1zYmFkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIC5ncmlkLWNlbGwtLTEyIHtcclxuICAgIDo6bmctZGVlcCAuZ3JpZC1jZWxsLS1jb250YWluZXIge1xyXG4gICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { forkJoin } from 'rxjs';\r\n\r\nimport { AWPropertiesConstants } from '../../constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../constants/bido-function-type-constants';\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { DateService } from '../../services/date.service';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { FindBireSbsBySbCriteriaInput } from '../../types/api-input-types/product-structure-management/find-bire-sbs-by-sb-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireSbDTO } from '../../types/api-types/bire-sb-dto.interface';\r\nimport { FamilyVariantDTO } from '../../types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { TableColumn } from '../../types/table-column.interface';\r\nimport { LabelValueUtils } from '../../utils/label-value-utils';\r\n\r\nimport { DialogSearchSbAdService } from './dialog-search-sbad.service';\r\n\r\ninterface ResultTableRow {\r\n  sbNumber: string;\r\n  sbRevisionNumber: string;\r\n  statusState: string | undefined;\r\n  sbType: string | undefined;\r\n  sbCompliance: string | undefined;\r\n  sbClass: string | undefined;\r\n  sbPublicationDate: string | undefined;\r\n  sbEffectiveDate: string | undefined;\r\n  sbDocumentUrl: string | undefined;\r\n  sbTitle: string | undefined;\r\n  _obj: BireSbDTO;\r\n  expand: boolean;\r\n  dataKey: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-sbad',\r\n  templateUrl: 'dialog-search-sbad.component.html',\r\n  styleUrls: ['./dialog-search-sbad.component.scss']\r\n})\r\nexport class DialogSearchSbAdComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public revisionNumber: string | undefined;\r\n  @Input()\r\n  public dialogType: string | undefined;\r\n\r\n  @Output()\r\n  public onValidated = new EventEmitter<BireSbDTO>();\r\n\r\n  public searchObject: BireSbDTO;\r\n  public resultsTable: SearchResultsDTO<ResultTableRow>;\r\n  public tableColList: TableColumn[];\r\n  public isLoading: boolean;\r\n  public selectedRow: ResultTableRow | undefined;\r\n  public familyVariant: string | undefined;\r\n\r\n  public familyVariantDTOList: FamilyVariantDTO[];\r\n  public propertyType: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public propertyVariant: LabelValue<string>[];\r\n  public propertyCompliance: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly dialogSearchSbAdService: DialogSearchSbAdService,\r\n    public dateService: DateService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogSearchSbAdComponent');\r\n    this.propertyVariant = [];\r\n    this.propertyStatus = [];\r\n    this.propertyCompliance = [];\r\n    this.familyVariantDTOList = [];\r\n\r\n    this.resetControls();\r\n    this.setTableColList();\r\n  }\r\n\r\n  private resetControls(): void {\r\n    this.selectedRow = undefined;\r\n    this.searchObject = {};\r\n    this.resultsTable = { list: [], moreResults: false };\r\n    this.familyVariant = undefined;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.loadDropDownList();\r\n    if (!!this.revisionNumber) {\r\n      this.searchObject.sbNumber = this.revisionNumber;\r\n    }\r\n    if (this.dialogType === 'AD') {\r\n      this.searchObject.sbType = AWPropertiesConstants.SB_TYPE_AD_KEY;\r\n    }\r\n  }\r\n\r\n  public search(): void {\r\n    this.isLoading = true;\r\n    let familyCode: string | undefined;\r\n    let structureType: string | undefined;\r\n    let variantCode: string | undefined;\r\n\r\n    if (this.familyVariantDTOList) {\r\n      const familyVariantObject = this.familyVariantDTOList.find(\r\n        (family) => !!family.labelValueDTO && family.labelValueDTO.label === this.familyVariant\r\n      );\r\n      if (familyVariantObject) {\r\n        familyCode = familyVariantObject.familyCode || undefined;\r\n        structureType = familyVariantObject.structureType || undefined;\r\n        variantCode = familyVariantObject.variantCode || undefined;\r\n      } else {\r\n        familyCode = undefined;\r\n        structureType = undefined;\r\n        variantCode = undefined;\r\n      }\r\n    } else {\r\n      familyCode = undefined;\r\n      structureType = undefined;\r\n      variantCode = undefined;\r\n    }\r\n    const findBireSbsBySbCriteriaInput: FindBireSbsBySbCriteriaInput = {\r\n      bireSbDTO: this.searchObject,\r\n      familyCode,\r\n      structureType,\r\n      variantCode\r\n    };\r\n\r\n    this.dialogSearchSbAdService.findBireSbsBySbCriteria(findBireSbsBySbCriteriaInput).subscribe((results) => {\r\n      if (results) {\r\n        this.resultsTable.moreResults = results.moreResults;\r\n        this.resultsTable.list = results.list.map((obj) => {\r\n          const row: ResultTableRow = {\r\n            _obj: obj,\r\n            sbNumber: obj.sbNumber || '',\r\n            sbRevisionNumber: obj.sbRevisionNumber || '',\r\n            statusState: obj.statusState,\r\n            sbType: obj.sbType,\r\n            sbCompliance: obj.sbCompliance,\r\n            sbClass: obj.sbClass,\r\n            sbPublicationDate: this.dateService.dateToString(obj.sbPublicationDate),\r\n            sbEffectiveDate: this.dateService.dateToString(obj.sbEffectiveDate),\r\n            sbDocumentUrl: obj.sbDocumentUrl,\r\n            sbTitle: obj.sbTitle,\r\n            expand: false,\r\n            dataKey: `${obj.sbNumber} ${obj.sbRevisionNumber}`\r\n          };\r\n\r\n          return row;\r\n        });\r\n\r\n        this.resultsTable.list.forEach((element) => {\r\n          LabelValueUtils.stringValueToLabel<ResultTableRow>(element, 'statusState', this.propertyStatus);\r\n          LabelValueUtils.stringValueToLabel<ResultTableRow>(element, 'sbCompliance', this.propertyCompliance);\r\n          LabelValueUtils.stringValueToLabel<ResultTableRow>(element, 'sbType', this.propertyType);\r\n        });\r\n      }\r\n\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  public toggleRowDetailsVisibility(row: ResultTableRow): void {\r\n    row.expand = !row.expand;\r\n  }\r\n\r\n  public cancel(): void {\r\n    super.closeDialog();\r\n  }\r\n\r\n  public validate(): void {\r\n    if (!this.selectedRow) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('warningOnNoSelection'));\r\n    } else {\r\n      this.onValidated.emit(this.selectedRow._obj);\r\n      super.closeDialog();\r\n    }\r\n  }\r\n\r\n  private loadDropDownList(): void {\r\n    const familyVariantInput: FindFamilyVariantInput = {\r\n      useCase: BidoFunctionTypeConstants.UC_MCH_BOM,\r\n      module: BidoFunctionTypeConstants.MODULE_FAMILY\r\n    };\r\n    const familyVariantlist$ = this.dialogSearchSbAdService.getFamilyVariants(familyVariantInput);\r\n    const statusList$ = this.propertiesService.getObjectStatusList(true, false, false, '3-loa', false); // this.propertiesService.getValue('getFuncObjectStatusMap'); //\r\n    const typeList$ = this.propertiesService.getValue('getSbTypeMap');\r\n    const compilanceList$ = this.propertiesService.getValue('getComplianceMap');\r\n\r\n    forkJoin({\r\n      familyVariant: familyVariantlist$,\r\n      statusList: statusList$,\r\n      typeList: typeList$,\r\n      compilanceList: compilanceList$\r\n    }).subscribe(({ familyVariant, statusList, typeList, compilanceList }) => {\r\n      if (familyVariant) {\r\n        const list: LabelValue<string>[] = [];\r\n        familyVariant.forEach((element) => {\r\n          if (!!element.labelValueDTO) {\r\n            list.push(element.labelValueDTO);\r\n          } else {\r\n            super.throwUnboundLocalError('loadFamilyVariants', 'element.labelValueDTO');\r\n          }\r\n        });\r\n        this.propertyVariant = list;\r\n        this.familyVariantDTOList = familyVariant;\r\n      }\r\n\r\n      if (statusList) {\r\n        statusList.forEach((element) => {\r\n          if (this.propertyStatus.filter((status) => status.value === element.value).length === 0) {\r\n            this.propertyStatus.push(element);\r\n          }\r\n        });\r\n        this.propertyStatus = [...this.propertyStatus];\r\n      }\r\n\r\n      if (typeList) {\r\n        if (this.dialogType === 'SB') {\r\n          this.propertyType = typeList.filter((obj) => {\r\n            return obj.value !== AWPropertiesConstants.SB_TYPE_AD_KEY;\r\n          });\r\n        } else {\r\n          this.propertyType = typeList;\r\n        }\r\n      }\r\n\r\n      if (compilanceList) {\r\n        this.propertyCompliance = compilanceList;\r\n      }\r\n    });\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.tableColList = [\r\n      { field: 'sbNumber', alignment: 'left', width: '12%' },\r\n      { field: 'sbRevisionNumber', alignment: 'left', width: '10%' },\r\n      { field: 'sbTitle', alignment: 'left', width: '28%' },\r\n      { field: 'statusState', alignment: 'left', width: '10%' },\r\n      { field: 'sbType', alignment: 'left', width: '10%' },\r\n      { field: 'sbCompliance', alignment: 'left', width: '10%' },\r\n      { field: 'sbPublicationDate', alignment: 'left', width: '10%' },\r\n      { field: 'sbEffectiveDate', alignment: 'left', width: '10%' }\r\n    ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { DialogSearchMaintenanceProgramModule } from '../../../main/engineering-management/sbad-form/popups/dialog-search-maintenance-program/dialog-search-maintenance-program.module';\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchSbAdComponent } from './dialog-search-sbad.component';\r\nimport { DialogSearchSbAdService } from './dialog-search-sbad.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule, TooltipModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchSbAdComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchSbAdService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    DialogSearchMaintenanceProgramModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchSbAdModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../api/product-structure-management.api';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\nimport { FindBireSbsBySbCriteriaInput } from '../../types/api-input-types/product-structure-management/find-bire-sbs-by-sb-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { BireSbDTO } from '../../types/api-types/bire-sb-dto.interface';\r\nimport { FamilyVariantDTO } from '../../types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class DialogSearchSbAdService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireSbsBySbCriteria(criteria: FindBireSbsBySbCriteriaInput): Observable<SearchResultsDTO<BireSbDTO>> {\r\n    return super.post<FindBireSbsBySbCriteriaInput, SearchResultsDTO<BireSbDTO>>(\r\n      this.productStructureManagementApi.findBireSbsBySbCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public getFamilyVariants(familyVariantInput: FindFamilyVariantInput): Observable<FamilyVariantDTO[]> {\r\n    return super.post<FindFamilyVariantInput, FamilyVariantDTO[]>(\r\n      this.productStructureManagementApi.findFamilyVariant,\r\n      familyVariantInput\r\n    );\r\n  }\r\n}\r\n","export class BireAttributeConstants {\r\n  /**************************************************************************\r\n   * Standard Attributes\r\n   *************************************************************************/\r\n\r\n  public static readonly ITEM_DOCUMENT_URL = '2';\r\n\r\n  public static readonly MAINTENANCE_PLAN_RMP_PLAN_CODE = '18';\r\n}\r\n","export class BireMaintenancePlanConstants {\n  public static readonly PLAN_TYPE_RMP = 'RMP';\n  public static readonly PLAN_TYPE_AMP = 'AMP';\n}\n","export class BireMeasureReferenceConstants {\r\n  // Calendar Limit\r\n  public static readonly BIRE_MEASURE_REFERENCE_COUNTER_CODE_CALENDAR_LIMIT: string = 'CAL';\r\n\r\n  // References for Maintenance Program\r\n  public static readonly BIRE_MEASURE_REFERENCE_COUNTER_CODE_PRE_FLIGHT: string = 'BF';\r\n  public static readonly BIRE_MEASURE_REFERENCE_COUNTER_CODE_POST_FLIGHT: string = 'AF';\r\n  public static readonly BIRE_MEASURE_REFERENCE_COUNTER_CODE_DAILY: string = 'DAILY';\r\n  public static readonly BIRE_MEASURE_REFERENCE_COUNTER_CODE_TSN: string = 'TSN';\r\n}\r\n","export class ArrayUtils {\r\n    public static compareValues(key: string, order = 'asc') {\r\n    return (a, b) => {\r\n        if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\r\n            // property doesn't exist on either object\r\n            return 0;\r\n        }\r\n\r\n        const varA = (typeof a[key] === 'string') ? a[key].toUpperCase() : a[key];\r\n        const varB = (typeof b[key] === 'string') ? b[key].toUpperCase() : b[key];\r\n\r\n        let comparison = 0;\r\n        if (varA > varB) {\r\n            comparison = 1;\r\n        } else if (varA < varB) {\r\n            comparison = -1;\r\n        }\r\n\r\n        return (\r\n            (order === 'desc') ? (comparison * -1) : comparison\r\n        );\r\n    };\r\n    }\r\n}\r\n","import { LabelValue } from '../types/label-value.interface';\r\n\r\nimport { StringUtils } from './string-utils';\r\n\r\nexport class SettingsUtils {\r\n  public static isPropertyEnabled(settings: LabelValue<string>[], propertyInput: string): boolean {\r\n    const selectedProperty = settings.find((property) => property.value === propertyInput);\r\n\r\n    return (\r\n      !!selectedProperty &&\r\n      !StringUtils.isNullOrEmpty(selectedProperty.label) &&\r\n      (selectedProperty.label.trim().toUpperCase() === 'X' ||\r\n        selectedProperty.label === '1' ||\r\n        selectedProperty.label.trim().toUpperCase() === 'TRUE')\r\n    );\r\n  }\r\n}\r\n","import { BireEvolutionDTOId } from '../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireFamilyDTOId } from '../../shared/types/api-types/bire-family-dto-id.interface';\r\nimport { BireOperationDTOId } from '../../shared/types/api-types/bire-operation-dto-id.interface';\r\nimport { BireSbDTOId } from '../../shared/types/api-types/bire-sb-dto-id.interface';\r\n\r\nexport class TabObjectIdUtils {\r\n  public static readonly DEFAULT_SEPARATOR = '|';\r\n\r\n  public static readonly CONTEXT_SEPARATOR = '-';\r\n\r\n  public static bireOperationDTOIdToString(operationId: BireOperationDTOId): string {\r\n    return (\r\n      operationId.opeCode +\r\n      TabObjectIdUtils.DEFAULT_SEPARATOR +\r\n      operationId.opeVersion +\r\n      TabObjectIdUtils.DEFAULT_SEPARATOR +\r\n      operationId.rangeCode\r\n    );\r\n  }\r\n\r\n  public static bireFamilyDTOIdToString(bireFamilyiD: BireFamilyDTOId): string {\r\n    return bireFamilyiD.familyCode + TabObjectIdUtils.DEFAULT_SEPARATOR + bireFamilyiD.structureType;\r\n  }\r\n\r\n  public static stringToBireFamilyDTOId(objectId: string): BireFamilyDTOId {\r\n    const temp = objectId.split(this.DEFAULT_SEPARATOR);\r\n    const bireFamilyId: BireFamilyDTOId = { familyCode: temp[0], structureType: temp[1] };\r\n\r\n    return bireFamilyId;\r\n  }\r\n\r\n  public static bireSbDTOIdToString(bireSbId: BireSbDTOId): string {\r\n    return bireSbId.sbNumber + TabObjectIdUtils.DEFAULT_SEPARATOR + bireSbId.sbRevisionNumber;\r\n  }\r\n\r\n  public static stringToBireSbDTOId(objectId: string): BireEvolutionDTOId {\r\n    const temp = objectId.split(this.DEFAULT_SEPARATOR);\r\n    const bireEvolutionId: BireEvolutionDTOId = { evolutionRevisionNumber: temp[1], evolutionNumber: temp[0] };\r\n\r\n    return bireEvolutionId;\r\n  }\r\n\r\n  public static bireEvolutionDTOIdToString(bireEvolutionId: BireEvolutionDTOId): string {\r\n    const evoNum = `${bireEvolutionId.evolutionNumber}`;\r\n    const evoRevNum = `${bireEvolutionId.evolutionRevisionNumber}`;\r\n\r\n    return evoNum.concat(TabObjectIdUtils.DEFAULT_SEPARATOR, evoRevNum);\r\n  }\r\n\r\n  public static stringToBireEvolutionDTOId(objectId: string): BireEvolutionDTOId {\r\n    const temp = objectId.split(this.DEFAULT_SEPARATOR);\r\n    const bireEvolutionId: BireEvolutionDTOId = { evolutionRevisionNumber: temp[1], evolutionNumber: temp[0] };\r\n\r\n    return bireEvolutionId;\r\n  }\r\n}\r\n"],"sourceRoot":""}