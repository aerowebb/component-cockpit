{"version":3,"sources":["webpack:///./node_modules/primeng/splitbutton.js","webpack:///./src/app/main/logistics/transfer-order/search/transfer-order-popup/transfer-order-popup.component.html","webpack:///./src/app/main/logistics/transfer-order/search/transfer-order-popup/transfer-order-popup.component.scss","webpack:///./src/app/main/logistics/transfer-order/search/transfer-order-popup/transfer-order-popup.component.ts","webpack:///./src/app/main/logistics/transfer-order/search/transfer-order-popup/transfer-order-popup.module.ts","webpack:///./src/app/main/logistics/transfer-order/search/transfer-order-search.service.ts"],"names":[],"mappings":"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","file":"default~engineering-management-engineering-management-module~logistics-material-material-module~logi~30c40415.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/splitbutton/splitbutton\"));","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"80\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".createTransferOrder\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"section\\\">\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"form-group required\\\">\\r\\n            <label class=\\\"form-label\\\">{{ \\\"type\\\" | translate }}</label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                appendTo=\\\"body\\\"\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [options]=\\\"typeList\\\"\\r\\n                [(ngModel)]=\\\"selectedTransferOrderType\\\"\\r\\n                [disabled]=\\\"createTransferOrderInput\\\"\\r\\n                (onChange)=\\\"onSelectTranferType()\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group\\\"></div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"!createTransferOrderInput\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n              <p-selectButton [options]=\\\"articleNumberType\\\" [(ngModel)]=\\\"selectedArticleNumber\\\"></p-selectButton>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"selectedArticleNumber === MONO_ARTICLE ? 'required' : ''\\\">\\r\\n            <label class=\\\"form-label\\\">{{ getComponentName() + \\\".articleCode\\\" | translate }}</label>\\r\\n\\r\\n            <div\\r\\n              class=\\\"form-control form-control-with-modal\\\"\\r\\n              *ngIf=\\\"!createTransferOrderInput\\\"\\r\\n              [ngClass]=\\\"{ disabled: hasBeenCalculated }\\\"\\r\\n            >\\r\\n              <div class=\\\"form-control-data\\\" (click)=\\\"onClickSearchMaterial()\\\">\\r\\n                {{ partDTO.pnCode }}\\r\\n              </div>\\r\\n\\r\\n              <div *ngIf=\\\"partDTO.pnCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                <i\\r\\n                  class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                  aria-hidden=\\\"true\\\"\\r\\n                  (click)=\\\"clearPnCodeClass()\\\"\\r\\n                ></i>\\r\\n              </div>\\r\\n              <div class=\\\"btn-search-wrapper\\\">\\r\\n                <i\\r\\n                  class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                  aria-hidden=\\\"true\\\"\\r\\n                  (click)=\\\"onClickSearchMaterial()\\\"\\r\\n                ></i>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div\\r\\n              class=\\\"form-control form-control-with-modal\\\"\\r\\n              *ngIf=\\\"createTransferOrderInput\\\"\\r\\n              [ngClass]=\\\"{ disabled: createTransferOrderInput }\\\"\\r\\n            >\\r\\n              <div class=\\\"form-control-data\\\">\\r\\n                {{ partDTO.pnCode }}\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div\\r\\n              style=\\\"font-style: italic; padding: 8px 0 0 16px;\\\"\\r\\n              *ngIf=\\\"partDTO.pnCode && partDTO.articleDesignation\\\"\\r\\n            >\\r\\n              {{ partDTO.articleDesignation }}\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"display--flex-row flex--1\\\">\\r\\n            <div class=\\\"form-group\\\" [ngClass]=\\\"selectedArticleNumber === MONO_ARTICLE ? 'required' : ''\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                <div style=\\\"display: inline;\\\">\\r\\n                  {{ getComponentName() + \\\".quantity\\\" | translate }}\\r\\n                </div>\\r\\n              </label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <input\\r\\n                  type=\\\"number\\\"\\r\\n                  name=\\\"quantity\\\"\\r\\n                  (blur)=\\\"changeQuantity()\\\"\\r\\n                  class=\\\"aw-input\\\"\\r\\n                  [(ngModel)]=\\\"quantity\\\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div\\r\\n              class=\\\"form-group\\\"\\r\\n              [ngClass]=\\\"{\\r\\n                'visibility--hidden': !(partDTO && partDTO.pnCode && partDTO.quantityPerIssue && partDTO.quantityUnit)\\r\\n              }\\\"\\r\\n            >\\r\\n              <label class=\\\"form-label\\\">{{ \\\"unit\\\" | translate }}</label>\\r\\n\\r\\n              <div class=\\\"form-control\\\">\\r\\n                <div\\r\\n                  class=\\\"form-control-generic\\\"\\r\\n                  *ngIf=\\\"partDTO && partDTO.pnCode && partDTO.quantityPerIssue && partDTO.quantityUnit\\\"\\r\\n                >\\r\\n                  {{ partDTO.quantityUnit }}\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div\\r\\n            class=\\\"form-group\\\"\\r\\n            [ngClass]=\\\"{\\r\\n              required: bidtTransferOrderDTOInput.torStatus != awPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n            }\\\"\\r\\n          >\\r\\n            <label class=\\\"form-label\\\">{{ getComponentName() + \\\".expectedDate\\\" | translate }}</label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-calendar\\r\\n                showButtonBar=\\\"true\\\"\\r\\n                [monthNavigator]=\\\"true\\\"\\r\\n                [yearNavigator]=\\\"true\\\"\\r\\n                [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                class=\\\"aw-calendar\\\"\\r\\n                [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                appendTo=\\\"body\\\"\\r\\n                [(ngModel)]=\\\"bidtTransferOrderDTOInput.receiptExpectedDate\\\"\\r\\n                [disabled]=\\\"createTransferOrderInput\\\"\\r\\n              ></p-calendar>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div\\r\\n            class=\\\"form-group\\\"\\r\\n            style=\\\"height: 47px;\\\"\\r\\n            [ngClass]=\\\"{\\r\\n              required: bidtTransferOrderDTOInput.torStatus != awPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT\\r\\n            }\\\"\\r\\n          >\\r\\n            <label class=\\\"form-label\\\">{{ getComponentName() + \\\".criticity\\\" | translate }}</label>\\r\\n\\r\\n            <div class=\\\"form-control aw-selectbutton-wrapper\\\">\\r\\n              <p-selectButton\\r\\n                [disabled]=\\\"createTransferOrderInput\\\"\\r\\n                [options]=\\\"criticityList\\\"\\r\\n                [(ngModel)]=\\\"bidtTransferOrderDTOInput.criticality\\\"\\r\\n              >\\r\\n              </p-selectButton>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"section\\\" *ngIf=\\\"createTransferOrderInput\\\">\\r\\n      <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".procReq\\\" | translate }}</h4>\\r\\n\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div\\r\\n            class=\\\"form-group\\\"\\r\\n            [ngClass]=\\\"{\\r\\n              'visibility--hidden':\\r\\n                createTransferOrderInput.procReqItem?.birePn?.traceability !=\\r\\n                  awPropertiesConstants.PN_TRACEABILITY_BY_BATCH &&\\r\\n                createTransferOrderInput.procReqItem?.birePn?.traceability !=\\r\\n                  awPropertiesConstants.PN_TRACEABILITY_BY_SN &&\\r\\n                createTransferOrderInput.procReqItem?.birePn?.traceability !=\\r\\n                  awPropertiesConstants.PN_TRACEABILITY_BY_PACKAGING_BATCH_AND_SN\\r\\n            }\\\"\\r\\n          >\\r\\n            <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".expectedSn\\\" | translate }} </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <input\\r\\n                class=\\\"aw-input\\\"\\r\\n                name=\\\"value\\\"\\r\\n                type=\\\"text\\\"\\r\\n                [disabled]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"createTransferOrderInput.procurmentRequest.procComment\\\"\\r\\n              />\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ getComponentName() + \\\".requestedPotential\\\" | translate }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <div class=\\\"form-control-generic\\\">\\r\\n                {{ formattedRequestedPotential }} {{ createTransferOrderInput.procurmentRequest.potentialUnit }}\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ getComponentName() + \\\".expirationDate\\\" | translate }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <div class=\\\"form-control-generic\\\">\\r\\n                {{\\r\\n                  createTransferOrderInput.procurmentRequest.calendarPotential\\r\\n                    | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang\\r\\n                }}\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"section\\\">\\r\\n      <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".supplier\\\" | translate }}</h4>\\r\\n\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"form-group required\\\">\\r\\n            <label class=\\\"form-label\\\">{{ getComponentName() + \\\".site\\\" | translate }}</label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                appendTo=\\\"body\\\"\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [options]=\\\"sitesShipment\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"selectedShipperSite\\\"\\r\\n                (onChange)=\\\"onChangeShipperSite()\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group required custom-width\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ selectedShipperWarehouseCategory | formatSelectOption: warehouseCategories }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control aw-selectbutton-wrapper aw-selectbutton-with-dropdown\\\">\\r\\n              <p-selectButton\\r\\n                [options]=\\\"warehouseCategories\\\"\\r\\n                [(ngModel)]=\\\"selectedShipperWarehouseCategory\\\"\\r\\n                (onChange)=\\\"onChangeShipperWarehouseCategory()\\\"\\r\\n              ></p-selectButton>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\"> &nbsp;</label>\\r\\n\\r\\n            <div class=\\\"form-control\\\" *ngIf=\\\"isMainWarehouse\\\">\\r\\n              <p-dropdown\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [options]=\\\"shipperWarehouses\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"selectedShipperWarehouse\\\"\\r\\n              ></p-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"form-control error-context\\\" *ngIf=\\\"!isMainWarehouse\\\">\\r\\n              {{ getComponentName() + \\\".noMainWarehouse\\\" | translate }}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"section\\\">\\r\\n      <h4 class=\\\"section-title\\\">{{ getComponentName() + \\\".recipient\\\" | translate }}</h4>\\r\\n\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"!showPartnerDialogInput\\\">\\r\\n          <div class=\\\"form-group required\\\">\\r\\n            <label class=\\\"form-label\\\">{{ getComponentName() + \\\".site\\\" | translate }}</label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                appendTo=\\\"body\\\"\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [options]=\\\"sitesRecipient\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"selectedRecipientSite\\\"\\r\\n                (onChange)=\\\"onChangeRecipientSite()\\\"\\r\\n                [disabled]=\\\"\\r\\n                  (selectedTransferOrderType &&\\r\\n                    selectedTransferOrderType.transferType === awPropertiesConstants.MM_TRANSFER_TYPE_INTRA_SITE_KEY) ||\\r\\n                  createTransferOrderInput\\r\\n                \\\"\\r\\n              >\\r\\n              </p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"form-group required custom-width\\\">\\r\\n            <label class=\\\"form-label\\\">\\r\\n              {{ selectedRecipientWarehouseCategory | formatSelectOption: warehouseCategories }}\\r\\n            </label>\\r\\n\\r\\n            <div class=\\\"form-control aw-selectbutton-wrapper aw-selectbutton-with-dropdown\\\">\\r\\n              <p-selectButton\\r\\n                [options]=\\\"warehouseCategories\\\"\\r\\n                [(ngModel)]=\\\"selectedRecipientWarehouseCategory\\\"\\r\\n                (onChange)=\\\"onChangeRecipientWarehouseCategory()\\\"\\r\\n                [disabled]=\\\"\\r\\n                  (selectedTransferOrderType &&\\r\\n                    selectedTransferOrderType.transferType === awPropertiesConstants.MM_TRANSFER_TYPE_INTER_SITE_KEY) ||\\r\\n                  createTransferOrderInput\\r\\n                \\\"\\r\\n              ></p-selectButton>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"form-label\\\"> &nbsp;</label>\\r\\n\\r\\n            <div class=\\\"form-control\\\">\\r\\n              <p-dropdown\\r\\n                appendTo=\\\"body\\\"\\r\\n                class=\\\"aw-dropdown fixed-width\\\"\\r\\n                placeholder=\\\"&nbsp;\\\"\\r\\n                [options]=\\\"recipientWarehouses\\\"\\r\\n                [showClear]=\\\"true\\\"\\r\\n                [(ngModel)]=\\\"selectedRecipientWarehouse\\\"\\r\\n                [disabled]=\\\"createTransferOrderInput\\\"\\r\\n              >\\r\\n              </p-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\" *ngIf=\\\"showPartnerDialogInput\\\">\\r\\n          <div class=\\\"form-group required\\\">\\r\\n            <label class=\\\"form-label\\\">{{ getComponentName() + \\\".partner\\\" | translate }}</label>\\r\\n\\r\\n            <div class=\\\"form-control form-control-with-modal\\\">\\r\\n              <div class=\\\"form-control-data\\\" (click)=\\\"openRecipientCustomerDialog()\\\">\\r\\n                {{ selectedFinalRecipientCustomerCode }}\\r\\n              </div>\\r\\n\\r\\n              <div *ngIf=\\\"selectedFinalRecipientCustomerCode\\\" class=\\\"btn-clear-wrapper\\\">\\r\\n                <i\\r\\n                  class=\\\"ui-dropdown-clear-icon pi pi-times aw-icon btn-clear\\\"\\r\\n                  aria-hidden=\\\"true\\\"\\r\\n                  (click)=\\\"unselectFinalRecipientCustomer()\\\"\\r\\n                ></i>\\r\\n              </div>\\r\\n              <div class=\\\"btn-search-wrapper\\\">\\r\\n                <i\\r\\n                  class=\\\"fa fa-fw fa-search aw-icon btn-search\\\"\\r\\n                  aria-hidden=\\\"true\\\"\\r\\n                  (click)=\\\"openRecipientCustomerDialog()\\\"\\r\\n                ></i>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group ng-star-inserted\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button mat-raised-button type=\\\"button\\\" color=\\\"primary\\\" [disabled]=\\\"!canValidate()\\\" (click)=\\\"validate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-search-pn\\r\\n  *ngIf=\\\"showQuickSearchMaterialPopup\\\"\\r\\n  [(display)]=\\\"showQuickSearchMaterialPopup\\\"\\r\\n  (onSelected)=\\\"setSelectedMaterial($event)\\\"\\r\\n  [showPartTypeSelection]=\\\"true\\\"\\r\\n  [checkContainer]=\\\"true\\\"\\r\\n  [withAllTypes]=\\\"true\\\"\\r\\n></aw-dialog-search-pn>\\r\\n\\r\\n<aw-dialog-search-customer\\r\\n  *ngIf=\\\"recipientCustomerDialogVisible\\\"\\r\\n  [(display)]=\\\"recipientCustomerDialogVisible\\\"\\r\\n  (onSelected)=\\\"onSelectRecipientCustomer($event)\\\"\\r\\n></aw-dialog-search-customer>\\r\\n\"","module.exports = \":host .custom-icon {\\n  font-size: 10em;\\n  cursor: pointer; }\\n\\n:host .custom-align {\\n  text-align: center; }\\n\\n:host .section-with-no-padding {\\n  padding: 0em !important;\\n  margin-top: 2em; }\\n\\n:host .custom-width {\\n  max-width: -webkit-fit-content;\\n  max-width: -moz-fit-content;\\n  max-width: fit-content; }\\n\\n:host .error-context {\\n  color: red; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9sb2dpc3RpY3MvdHJhbnNmZXItb3JkZXIvc2VhcmNoL3RyYW5zZmVyLW9yZGVyLXBvcHVwL2Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZ2l0aHViX3BhZ2VzL3NyY1xcYXBwXFxtYWluXFxsb2dpc3RpY3NcXHRyYW5zZmVyLW9yZGVyXFxzZWFyY2hcXHRyYW5zZmVyLW9yZGVyLXBvcHVwXFx0cmFuc2Zlci1vcmRlci1wb3B1cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLGVBQWU7RUFDZixlQUFlLEVBQUE7O0FBSG5CO0VBT0ksa0JBQWtCLEVBQUE7O0FBUHRCO0VBV0ksdUJBQXVCO0VBQ3ZCLGVBQWUsRUFBQTs7QUFabkI7RUFlSSw4QkFBc0I7RUFBdEIsMkJBQXNCO0VBQXRCLHNCQUFzQixFQUFBOztBQWYxQjtFQW1CSSxVQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL2xvZ2lzdGljcy90cmFuc2Zlci1vcmRlci9zZWFyY2gvdHJhbnNmZXItb3JkZXItcG9wdXAvdHJhbnNmZXItb3JkZXItcG9wdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgLmN1c3RvbS1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMTBlbTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcblxyXG4gIC5jdXN0b20tYWxpZ24ge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24td2l0aC1uby1wYWRkaW5nIHtcclxuICAgIHBhZGRpbmc6IDBlbSAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLXRvcDogMmVtO1xyXG4gIH1cclxuICAuY3VzdG9tLXdpZHRoIHtcclxuICAgIG1heC13aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICAuZXJyb3ItY29udGV4dCB7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as moment from 'moment';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { AWPropertiesConstants } from '../../../../../shared/constants/aw-properties-constants';\r\nimport { GenericPropertyConstants } from '../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../../shared/services/properties.service';\r\nimport { SessionService } from '../../../../../shared/services/session.service';\r\nimport { BidoCustomerDTO } from '../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidtDfTypeDTO } from '../../../../../shared/types/api-types/bidt-df-type-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BidtTransferOrderDTO } from '../../../../../shared/types/api-types/bidt-transfer-order-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BirePnDTO } from '../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { DialogComponent } from '../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../shared/types/label-value.interface';\r\nimport { ListUtils } from '../../../../../shared/utils/list-utils';\r\nimport { LogisticalUtils } from '../../../../../shared/utils/logistic-utils';\r\nimport { NumberUtils } from '../../../../../shared/utils/number-utils';\r\nimport { DeliveryFolderSearchService } from '../../../goods-receipt/delivery-folder-search.service';\r\nimport { LogisticsService } from '../../../logistics.service';\r\nimport { CreateTransferOrderInput } from '../../../material-request-management/form/material-request-management-form.component';\r\nimport { TransferOrderService } from '../../shared/transfer-order-service';\r\n\r\n@Component({\r\n  selector: 'aw-transfer-order-popup',\r\n  templateUrl: './transfer-order-popup.component.html',\r\n  styleUrls: ['./transfer-order-popup.component.scss']\r\n})\r\nexport class TransferOrderPopupComponent extends DialogComponent implements OnInit {\r\n  public static readonly RECIPIENT_INTERNAL: number = 0;\r\n  public static readonly RECIPIENT_EXTERNAL: number = 1;\r\n\r\n  public readonly MONO_ARTICLE: number = 0;\r\n  public readonly MULTI_ARTICLE: number = 1;\r\n\r\n  @Input()\r\n  public createTransferOrderInput: CreateTransferOrderInput;\r\n\r\n  @Input()\r\n  public pn: BirePnDTO | undefined;\r\n\r\n  @Output()\r\n  public readonly onValidate: EventEmitter<BidtTransferOrderDTO>;\r\n\r\n  public readonly awPropertiesConstants: typeof AWPropertiesConstants;\r\n  public readonly component: typeof TransferOrderPopupComponent;\r\n  public bidtTransferOrderDTOInput: BidtTransferOrderDTO;\r\n  public partDTO: BirePnDTO;\r\n  public criticityList: LabelValue<string>[];\r\n  public whType: string;\r\n  public shopList: SelectItem[];\r\n  public warehouseList: LabelValue<number>[];\r\n  public unitList: LabelValue<string>[];\r\n  public hasBeenCalculated: boolean;\r\n  public showQuickSearchMaterialPopup: boolean;\r\n  public logisticsTypeList: SelectItem[];\r\n  public transferOrderFlowList: SelectItem[];\r\n  public unitOfIssueOptions: LabelValue<string>[];\r\n  public maxQuantity: number;\r\n\r\n  public selectedShipperWarehouseCategory: string | undefined;\r\n  public selectedRecipientWarehouseCategory: string | undefined;\r\n  public selectedFinalRecipientCustomerCode: string | undefined;\r\n  public selectedRecipientSite: number | undefined;\r\n\r\n  public articleNumberType: LabelValue<number>[];\r\n  public selectedArticleNumber: number | undefined;\r\n\r\n  public selectedRecipientWarehouse: number | undefined;\r\n  public warehouseCategories: LabelValue<string>[];\r\n  public selectedShipperSite: number | undefined;\r\n  public shipperWarehouses: LabelValue<number>[];\r\n  public selectedShipperWarehouse: number | undefined;\r\n  public selectedTransferOrderType: BidtDfTypeDTO | undefined;\r\n  public typeList: LabelValue<BidtDfTypeDTO>[];\r\n  public showPartnerDialogInput: boolean;\r\n\r\n  public recipientWarehouses: LabelValue<number>[];\r\n\r\n  public recipientCustomerDialogVisible: boolean;\r\n\r\n  public sitesShipment: LabelValue<number>[];\r\n  public sitesRecipient: LabelValue<number>[];\r\n  public quantity: string | undefined;\r\n  public isMainWarehouse: boolean;\r\n  public formattedRequestedPotential: string;\r\n\r\n  public constructor(\r\n    public readonly sessionService: SessionService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly logisticsService: LogisticsService,\r\n    public readonly translateService: TranslateService,\r\n    private readonly transferOrderService: TransferOrderService,\r\n    private readonly dfSearchService: DeliveryFolderSearchService\r\n  ) {\r\n    super(ComponentOpenMode.Read, 'TransferOrderPopupComponent');\r\n\r\n    this.awPropertiesConstants = AWPropertiesConstants;\r\n    this.whType = AWPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE;\r\n\r\n    this.onValidate = new EventEmitter<BidtTransferOrderDTO>();\r\n    this.component = TransferOrderPopupComponent;\r\n\r\n    this.init();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.loadDropdown();\r\n    this.partDTO = this.pn || {};\r\n\r\n    if (this.createTransferOrderInput) {\r\n      this.autoFillFields();\r\n    }\r\n  }\r\n\r\n  private autoFillFields(): void {\r\n    // fill expected date if defined\r\n    if (this.createTransferOrderInput.procurmentRequest.requestedDate) {\r\n      this.bidtTransferOrderDTOInput.receiptExpectedDate = moment(\r\n        this.createTransferOrderInput.procurmentRequest.requestedDate\r\n      )\r\n        .subtract(1, 'days')\r\n        .toDate();\r\n    }\r\n\r\n    if (this.createTransferOrderInput.procurmentRequest.requestedPotential) {\r\n      this.formattedRequestedPotential = NumberUtils.roundNumber(\r\n        NumberUtils.fromString(this.createTransferOrderInput.procurmentRequest.requestedPotential),\r\n        2\r\n      ).toString();\r\n    }\r\n\r\n    // fill criticality\r\n    this.bidtTransferOrderDTOInput.criticality = this.createTransferOrderInput.procurmentRequest.criticality;\r\n\r\n    // fill receipt\r\n    this.selectedRecipientSite = this.createTransferOrderInput.procurmentRequest.bidtSiteReceipt\r\n      ? this.createTransferOrderInput.procurmentRequest.bidtSiteReceipt.siteId\r\n      : undefined;\r\n    this.selectedRecipientWarehouseCategory = this.createTransferOrderInput.procurmentRequest.bidtWarehouseReceipt\r\n      ? this.createTransferOrderInput.procurmentRequest.bidtWarehouseReceipt.whCategory\r\n      : undefined;\r\n    this.selectedRecipientWarehouse = this.createTransferOrderInput.procurmentRequest.bidtWarehouseReceipt\r\n      ? this.createTransferOrderInput.procurmentRequest.bidtWarehouseReceipt.wareHouseId\r\n      : undefined;\r\n\r\n    if (this.selectedRecipientSite) {\r\n      this.loadWareHouses(\r\n        this.selectedRecipientSite,\r\n        this.selectedRecipientWarehouseCategory as string,\r\n        true\r\n      ).subscribe({\r\n        next: (warehouses) => {\r\n          this.recipientWarehouses = warehouses;\r\n\r\n          if (this.recipientWarehouses && this.recipientWarehouses.length > 0) {\r\n            this.selectedRecipientWarehouse = this.recipientWarehouses[0].value;\r\n          } else {\r\n            this.isMainWarehouse = false;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // fill quantity\r\n    this.maxQuantity = Math.floor(this.createTransferOrderInput.notServedQuantity);\r\n    this.quantity = Math.floor(this.createTransferOrderInput.notServedQuantity).toString();\r\n  }\r\n\r\n  public changeQuantity(): void {\r\n    if (Number(this.quantity) > this.maxQuantity) {\r\n      this.quantity = this.maxQuantity.toString();\r\n      this.messageService.showWarningMessage(this.getTranslateKey('warningQuantity'));\r\n    }\r\n  }\r\n\r\n  private init(): void {\r\n    this.bidtTransferOrderDTOInput = {};\r\n    this.partDTO = {};\r\n    this.criticityList = [];\r\n    this.logisticsTypeList = [];\r\n    this.warehouseList = [];\r\n    this.unitList = [];\r\n    this.sitesShipment = [];\r\n    this.sitesRecipient = [];\r\n    this.recipientWarehouses = [];\r\n    this.warehouseCategories = [];\r\n    this.shipperWarehouses = [];\r\n    this.articleNumberType = [];\r\n\r\n    this.recipientCustomerDialogVisible = false;\r\n    this.selectedFinalRecipientCustomerCode = undefined;\r\n    this.selectedShipperSite = undefined;\r\n    this.selectedShipperWarehouse = undefined;\r\n    this.selectedShipperWarehouseCategory = undefined;\r\n    this.selectedRecipientSite = undefined;\r\n    this.selectedRecipientWarehouse = undefined;\r\n    this.selectedRecipientWarehouseCategory = undefined;\r\n    this.selectedArticleNumber = undefined;\r\n    this.showPartnerDialogInput = false;\r\n    this.isMainWarehouse = true;\r\n\r\n    this.loadLogisticType();\r\n    this.loadCriticity();\r\n    this.loadSites();\r\n    this.loadWarehouseCategories();\r\n    this.loadArticleNumberType();\r\n    this.bidtTransferOrderDTOInput.torStatus = AWPropertiesConstants.TRANSFER_ORDER_STATUS_PLANNED;\r\n  }\r\n\r\n  private loadArticleNumberType() {\r\n    this.articleNumberType = [\r\n      {\r\n        label: this.translateService.instant(this.getComponentName() + '.monoArticle') as string,\r\n        value: this.MONO_ARTICLE\r\n      },\r\n      {\r\n        label: this.translateService.instant(this.getComponentName() + '.multiArticle') as string,\r\n        value: this.MULTI_ARTICLE\r\n      }\r\n    ];\r\n    this.selectedArticleNumber = this.articleNumberType[0].value;\r\n  }\r\n\r\n  public clearPnCodeClass(): void {\r\n    this.partDTO.pnCode = undefined;\r\n    this.unitList = [];\r\n  }\r\n\r\n  /***************************************\r\n   * Load Dropdowns\r\n   ***************************************/\r\n  private loadDropdown() {\r\n    this.transferOrderService.fetchTypeObjectList().subscribe((types) => {\r\n      this.typeList = types.sort((a, b) => a.label.localeCompare(b.label));\r\n      // fill type\r\n      if (this.createTransferOrderInput) {\r\n        this.selectedTransferOrderType = this.typeList.filter(\r\n          (type) => type.value.id === Number(AWPropertiesConstants.TRANSFER_ORDER_TYPE_INTER_SITE)\r\n        )[0].value;\r\n      }\r\n    });\r\n  }\r\n\r\n  /************************************\r\n   * Load Warehouse List on change\r\n   ************************************/\r\n  public loadWareHouseList(): void {\r\n    this.warehouseList = [];\r\n    this.shopList = [];\r\n  }\r\n\r\n  public onClickSearchMaterial(): void {\r\n    if (this.hasBeenCalculated) {\r\n      return;\r\n    }\r\n    this.showQuickSearchMaterialPopup = true;\r\n  }\r\n\r\n  public setSelectedMaterial(event: BirePnDTO): void {\r\n    this.showQuickSearchMaterialPopup = false;\r\n    this.partDTO = event;\r\n\r\n    this.onChangePn();\r\n  }\r\n\r\n  public loadLogisticType() {\r\n    this.propertiesService.getValue(GenericPropertyConstants.WAREHOUSE_CATEGORY_MAP).subscribe((res) => {\r\n      if (res && res.length) {\r\n        this.logisticsTypeList = res.sort((s1, s2) => s1.value.localeCompare(s2.value));\r\n        this.whType = this.logisticsTypeList[0].value as string;\r\n      }\r\n    });\r\n  }\r\n\r\n  public loadCriticity() {\r\n    this.propertiesService.getValue(GenericPropertyConstants.LOGISTICAL_CRITICALITY_MAP).subscribe((res) => {\r\n      if (res && res.length) {\r\n        this.criticityList = ListUtils.orEmpty(res);\r\n        this.criticityList = LogisticalUtils.sortCriticities(this.criticityList);\r\n      }\r\n    });\r\n  }\r\n\r\n  public onChangePn(): void {\r\n    if (this.partDTO.pnCode) {\r\n      this.loadUnits(this.partDTO.pnCode);\r\n    }\r\n  }\r\n\r\n  private loadUnits(pnCode: string) {\r\n    if (this.partDTO.pnCode) {\r\n      this.logisticsService.findBidoCounterReferencesByPnCode({ pnCode }).subscribe({\r\n        next: (counterReferences) => {\r\n          this.unitList = counterReferences\r\n            .map((counterReference) => {\r\n              return {\r\n                label: `${counterReference.unitCode} (${counterReference.counterCode})`,\r\n                value: counterReference.counterCode as string\r\n              };\r\n            })\r\n            .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadWarehouseCategories(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.WAREHOUSE_CATEGORY_MAP).subscribe({\r\n      next: (warehouseCategories) => {\r\n        this.warehouseCategories = ListUtils.orEmpty(warehouseCategories).sort((s1, s2) =>\r\n          s1.value.localeCompare(s2.value)\r\n        );\r\n\r\n        const warehouseCategory = this.warehouseCategories.length > 0 ? this.warehouseCategories[0].value : undefined;\r\n        this.selectedRecipientWarehouseCategory = warehouseCategory;\r\n        this.selectedShipperWarehouseCategory = warehouseCategory;\r\n      }\r\n    });\r\n  }\r\n\r\n  public openRecipientCustomerDialog() {\r\n    this.recipientCustomerDialogVisible = true;\r\n  }\r\n\r\n  public onSelectRecipientCustomer(customer: BidoCustomerDTO): void {\r\n    this.selectedFinalRecipientCustomerCode = customer.customerCode;\r\n  }\r\n\r\n  public unselectFinalRecipientCustomer(): void {\r\n    this.selectedFinalRecipientCustomerCode = undefined;\r\n  }\r\n\r\n  public onChangeShipperSite(): void {\r\n    this.onChangeShipperWarehouseCategory();\r\n    if (\r\n      !!this.selectedTransferOrderType &&\r\n      this.selectedTransferOrderType.transferType === AWPropertiesConstants.MM_TRANSFER_TYPE_INTRA_SITE_KEY\r\n    ) {\r\n      this.selectedRecipientSite = this.selectedShipperSite;\r\n      this.onChangeRecipientSite();\r\n    }\r\n    if (\r\n      !!this.selectedTransferOrderType &&\r\n      this.selectedTransferOrderType.transferType === AWPropertiesConstants.MM_TRANSFER_TYPE_INTER_SITE_KEY\r\n    ) {\r\n      if (this.selectedShipperSite === this.selectedRecipientSite) {\r\n        this.selectedRecipientSite = undefined;\r\n        this.onChangeRecipientSite();\r\n      }\r\n      this.sitesRecipient = this.sitesShipment;\r\n      this.sitesRecipient = this.sitesShipment.filter((site) => site.value !== this.selectedShipperSite);\r\n    }\r\n  }\r\n\r\n  public onChangeShipperWarehouseCategory(): void {\r\n    this.unselectShipperWarehouse();\r\n\r\n    if (this.selectedShipperSite) {\r\n      this.loadWareHouses(this.selectedShipperSite, this.selectedShipperWarehouseCategory as string, false).subscribe({\r\n        next: (warehouses) => {\r\n          this.shipperWarehouses = warehouses;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private unselectShipperWarehouse(): void {\r\n    this.shipperWarehouses = [];\r\n    this.selectedShipperWarehouse = undefined;\r\n  }\r\n\r\n  private unselectRecipientWarehouse(): void {\r\n    this.recipientWarehouses = [];\r\n    this.selectedRecipientWarehouse = undefined;\r\n  }\r\n\r\n  public onChangeRecipientSite(): void {\r\n    this.onChangeRecipientWarehouseCategory();\r\n  }\r\n\r\n  public onChangeRecipientWarehouseCategory(): void {\r\n    this.unselectRecipientWarehouse();\r\n\r\n    if (this.selectedRecipientSite) {\r\n      this.loadWareHouses(\r\n        this.selectedRecipientSite,\r\n        this.selectedRecipientWarehouseCategory as string,\r\n        false\r\n      ).subscribe({\r\n        next: (warehouses) => {\r\n          this.recipientWarehouses = warehouses;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadWareHouses(site: number, warehouseCategory: string, onlyMain: boolean): Observable<LabelValue<number>[]> {\r\n    return this.dfSearchService.getWarehousesBySiteId(site).pipe(\r\n      map((warehouses: BidtWarehouseDTO[]) => {\r\n        if (onlyMain) {\r\n          return ListUtils.orEmpty(warehouses)\r\n            .filter(\r\n              (warehouse) =>\r\n                warehouse.whCategory === warehouseCategory &&\r\n                warehouse.whType === AWPropertiesConstants.MM_WAREHOUSE_TYPE_MAIN\r\n            )\r\n            .map((warehouse) => {\r\n              return {\r\n                label: `${warehouse.whCode} - ${warehouse.whName}`,\r\n                value: warehouse.wareHouseId as number\r\n              };\r\n            })\r\n            .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n        } else {\r\n          return ListUtils.orEmpty(warehouses)\r\n            .filter((warehouse) => warehouse.whCategory === warehouseCategory)\r\n            .map((warehouse) => {\r\n              return {\r\n                label: `${warehouse.whCode} - ${warehouse.whName}`,\r\n                value: warehouse.wareHouseId as number\r\n              };\r\n            })\r\n            .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private loadSites(): void {\r\n    this.dfSearchService.findAllBireSite().subscribe({\r\n      next: (sitesShipment: BidtSiteDTO[]) => {\r\n        this.sitesShipment = ListUtils.orEmpty(sitesShipment)\r\n          .map((site) => {\r\n            return {\r\n              label: `${site.siteCode} - ${site.siteName}`,\r\n              value: site.siteId as number\r\n            };\r\n          })\r\n          .sort((s1, s2) => s1.label.localeCompare(s2.label));\r\n        this.sitesRecipient = this.sitesShipment;\r\n        if (\r\n          this.createTransferOrderInput &&\r\n          this.createTransferOrderInput.procurmentRequest.bidtSiteByBidtSiteIssueId\r\n        ) {\r\n          this.sitesShipment = this.sitesShipment.filter(\r\n            (site) => site.value !== this.createTransferOrderInput.procurmentRequest.bidtSiteByBidtSiteIssueId\r\n          );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public canValidate() {\r\n    return (\r\n      this.selectedTransferOrderType &&\r\n      ((this.selectedArticleNumber === this.MONO_ARTICLE && this.partDTO.pnCode && this.quantity) ||\r\n        this.selectedArticleNumber === this.MULTI_ARTICLE) &&\r\n      this.bidtTransferOrderDTOInput.receiptExpectedDate &&\r\n      this.bidtTransferOrderDTOInput.criticality &&\r\n      this.selectedShipperSite &&\r\n      this.selectedShipperWarehouse &&\r\n      ((this.selectedRecipientSite && this.selectedRecipientWarehouse) || this.selectedFinalRecipientCustomerCode)\r\n    );\r\n  }\r\n\r\n  public validate(): void {\r\n    const input: BidtTransferOrderDTO = {\r\n      bidtWarehouseByBidtWarehouseSenderId: this.selectedShipperWarehouse,\r\n      bidoCustomerByFkBidtTraTorReceiBidoCusCustomerCode: this.selectedFinalRecipientCustomerCode,\r\n      bidtSiteByBidtSiteReceiverId: this.selectedRecipientSite,\r\n      bidtWarehouseByBidtWarehouseReceiverId: this.selectedRecipientWarehouse,\r\n      bidtSiteByBidtSiteSenderId: this.selectedShipperSite,\r\n      torType:\r\n        this.selectedTransferOrderType && this.selectedTransferOrderType.id\r\n          ? this.selectedTransferOrderType.id.toString()\r\n          : undefined,\r\n      torStatus: this.bidtTransferOrderDTOInput.torStatus,\r\n      criticality: this.bidtTransferOrderDTOInput.criticality,\r\n      receiptExpectedDate: this.bidtTransferOrderDTOInput.receiptExpectedDate,\r\n      bidtProcReqItemId: this.createTransferOrderInput ? this.createTransferOrderInput.procReqItem.id : undefined,\r\n      bidtProcReqItem: this.createTransferOrderInput ? this.createTransferOrderInput.procReqItem : undefined,\r\n\r\n      bidtTorItems: [\r\n        {\r\n          birePnPnCode: this.partDTO.pnCode,\r\n          quantity: Number(this.quantity)\r\n        }\r\n      ]\r\n    };\r\n\r\n    this.logisticsService.createTransferOrder(input).subscribe((res) => {\r\n      this.onValidate.emit(res);\r\n      this.messageService.showSuccessMessage(this.getTranslateKey('successOnCreate'));\r\n\r\n      this.closeDialog();\r\n    });\r\n  }\r\n\r\n  public onSelectTranferType(): void {\r\n    this.sitesRecipient = this.sitesShipment;\r\n    if (!!this.selectedTransferOrderType) {\r\n      if (this.selectedTransferOrderType.transferType === AWPropertiesConstants.MM_TRANSFER_TYPE_INTRA_SITE_KEY) {\r\n        this.bidtTransferOrderDTOInput.receiptExpectedDate = new Date();\r\n        if (!!this.selectedShipperSite) {\r\n          this.selectedRecipientSite = this.selectedShipperSite;\r\n          this.onChangeRecipientSite();\r\n        }\r\n      }\r\n\r\n      this.showPartnerDialogInput =\r\n        this.selectedTransferOrderType.transferType === AWPropertiesConstants.MM_TRANSFER_TYPE_INTRA_SITE_KEY ||\r\n        this.selectedTransferOrderType.transferType === AWPropertiesConstants.MM_TRANSFER_TYPE_INTER_SITE_KEY\r\n          ? false\r\n          : true;\r\n\r\n      if (this.selectedTransferOrderType.transferType === AWPropertiesConstants.MM_TRANSFER_TYPE_INTER_SITE_KEY) {\r\n        this.selectedRecipientWarehouseCategory = AWPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE;\r\n        if (!!this.selectedShipperSite) {\r\n          if (this.selectedRecipientSite === this.selectedShipperSite) {\r\n            this.selectedRecipientSite = undefined;\r\n            this.onChangeRecipientSite();\r\n          }\r\n          this.sitesRecipient = this.sitesShipment.filter((site) => site.value !== this.selectedShipperSite);\r\n        }\r\n      }\r\n    } else {\r\n      this.showPartnerDialogInput = false;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputSwitchModule } from 'primeng/inputswitch';\r\nimport { ProgressBarModule } from 'primeng/progressbar';\r\nimport { SelectButtonModule } from 'primeng/selectbutton';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { AngularCommonSharedModule } from '../../../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../../../shared/app-common-shared.module';\r\nimport { ComponentSidebarModule } from '../../../../../shared/components/component-sidebar/component-sidebar.mdule';\r\nimport { DialogSearchCustomerModule } from '../../../../../shared/components/dialog-search-customer/dialog-search-customer.module';\r\nimport { DialogSearchPnModule } from '../../../../../shared/components/dialog-search-pn/dialog-search-pn.module';\r\nimport { ManageSearchCriteriaModule } from '../../../../../shared/components/manage-search-criteria/manage-search-criteria.module';\r\nimport { ModalModule } from '../../../../../shared/components/modal/modal.module';\r\nimport { TableModule } from '../../../../../shared/components/table/table.module';\r\nimport { DeliveryFolderSearchService } from '../../../goods-receipt/delivery-folder-search.service';\r\nimport { TransferOrderSearchService } from '../transfer-order-search.service';\r\n\r\nimport { TransferOrderPopupComponent } from './transfer-order-popup.component';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  TooltipModule,\r\n  DropdownModule,\r\n  FileUploadModule,\r\n  InputSwitchModule,\r\n  SelectButtonModule,\r\n  TableModule,\r\n  CheckboxModule,\r\n  ComponentSidebarModule,\r\n  CalendarModule,\r\n  PrimeNgTableModule,\r\n  ProgressBarModule,\r\n  ModalModule,\r\n  DialogSearchCustomerModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [DialogSearchPnModule];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [TransferOrderSearchService, DeliveryFolderSearchService];\r\n\r\n@NgModule({\r\n  exports: [TransferOrderPopupComponent],\r\n  declarations: [TransferOrderPopupComponent],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ManageSearchCriteriaModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class TransferOrderPopupModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\n\r\nimport { BidtDfTypeApi } from '../../../../shared/api/bidt-df-type.api';\r\nimport { BidtSiteApi } from '../../../../shared/api/bidt-site.api';\r\nimport { BidtWarehouseApi } from '../../../../shared/api/bidt-warehouse.api';\r\nimport { ProductStructureManagementApi } from '../../../../shared/api/product-structure-management.api';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { BidtDfTypeDTO } from '../../../../shared/types/api-types/bidt-df-type-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BirePnDTOId } from '../../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class TransferOrderSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly bidtSite: BidtSiteApi,\r\n    private readonly bidtWarehouseApi: BidtWarehouseApi,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly bidtDfTypeApi: BidtDfTypeApi,\r\n    private readonly bidtProductStructureManagementTypeApi: ProductStructureManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public fetchPartnerList(): LabelValue<string>[] {\r\n    return [\r\n      { label: 'Dassault 1', value: '0' },\r\n      { label: 'Dassault 2', value: '1' },\r\n      { label: 'DMAe', value: '2' },\r\n      { label: 'Thales', value: '3' }\r\n    ];\r\n  }\r\n\r\n  public fetchSiteList(): Observable<BidtSiteDTO[]> {\r\n    return super.post<void, BidtSiteDTO[]>(this.bidtSite.findAll);\r\n  }\r\n\r\n  public fetchWarehouseList(): Observable<LabelValue<string>[]> {\r\n    return this.propertiesService.getValue(GenericPropertyConstants.WAREHOUSE_CATEGORY_MAP);\r\n  }\r\n\r\n  public getWarehousesBySiteId(siteId: number): Observable<BidtWarehouseDTO[]> {\r\n    return super.post<number, BidtWarehouseDTO[]>(this.bidtWarehouseApi.findBySiteId, siteId);\r\n  }\r\n\r\n  public fetchDocumentList(): Observable<BidtDfTypeDTO[]> {\r\n    return super.post<number, BidtDfTypeDTO[]>(this.bidtDfTypeApi.findShipmentDfTypes);\r\n  }\r\n\r\n  public getBirePnByPn(birePnPnCode: BirePnDTOId): Observable<BirePnDTO> {\r\n    return super.post<BirePnDTOId, BirePnDTO>(this.bidtProductStructureManagementTypeApi.findBirePn, birePnPnCode);\r\n  }\r\n}\r\n"],"sourceRoot":""}