{"version":3,"sources":["webpack:///./src/app/shared/components/dialog-search-task/dialog-search-task.component.html","webpack:///./src/app/shared/components/dialog-search-task/dialog-search-task.component.ts","webpack:///./src/app/shared/components/dialog-search-task/dialog-search-task.module.ts","webpack:///./src/app/shared/components/dialog-search-task/dialog-search-task.service.ts"],"names":[],"mappings":"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","file":"default~engineering-management-engineering-management-module~engineering-management-item-item-module~ee07c9bd.js","sourcesContent":["module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"70\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ (isTypeVisit ? \\\"taskPopin.visitTitle\\\" : \\\"taskPopin.title\\\") | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section search-criteria-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ (isTypeVisit ? \\\"taskPopin.visitCode\\\" : \\\"taskPopin.taskCode\\\") | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.taskCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"taskPopin.taskVersion\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.taskVersion\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"taskPopin.taskDesignation\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.taskDesignation\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"taskPopin.taskApplicabilityDate\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-calendar\\r\\n                    showButtonBar=\\\"true\\\"\\r\\n                    [monthNavigator]=\\\"true\\\"\\r\\n                    [yearNavigator]=\\\"true\\\"\\r\\n                    [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                    class=\\\"aw-calendar\\\"\\r\\n                    [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                    [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.taskApplicabilityDate\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-calendar>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"!isTypeVisit\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"taskPopin.taskGroup\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.groupCode\\\"\\r\\n                    [options]=\\\"taskGroupList\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"!isTypeVisit\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"taskPopin.taskTypeCode\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.taskTypeCode\\\"\\r\\n                    [options]=\\\"taskTypeList\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"taskPopin.taskStatus\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.taskStatus\\\"\\r\\n                    [options]=\\\"taskStatusList\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\">\\r\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"searchTasks()\\\">\\r\\n                  <span>{{ \\\"global.toSearch\\\" | translate }}</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section results-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ \\\"global.results\\\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            #ptable\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"resultsTableCols\\\"\\r\\n            [value]=\\\"resultsTable.list\\\"\\r\\n            [(selection)]=\\\"selectedObjects\\\"\\r\\n            [selectionMode]=\\\"selectionMode\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!resultsTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"resultsTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    #ptableGlobalFilter\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngIf=\\\"selectionMultiple\\\" class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th *ngIf=\\\"selectionMultiple\\\" class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                  <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                </th>\\r\\n                <th\\r\\n                  pResizableColumn\\r\\n                  *ngFor=\\\"let col of columns\\\"\\r\\n                  [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                >\\r\\n                  {{ \\\"taskPopin.\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td *ngIf=\\\"selectionMultiple\\\" class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                  <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                </td>\\r\\n                <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\">\\r\\n                  <span [title]=\\\"rowData[col.field]\\\">{{ rowData[col.field] }}</span>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"onValidate()\\\" [disabled]=\\\"disableValidate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\n\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../../shared/types/dialog-component';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { AWPropertiesConstants } from '../../constants/aw-properties-constants';\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { DateService } from '../../services/date.service';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { SessionService } from '../../services/session.service';\r\nimport { VisitCriteriaMPInput } from '../../types/api-input-types/task-management/visit-criteria-mp-input.interface';\r\nimport { BireTaskDTO } from '../../types/api-types/bire-task-dto.interface';\r\nimport { FindBireTaskByCriteriaInput } from '../../types/api-types/find-bire-task-by-criteria-input.interface';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { LabelValueUtils } from '../../utils/label-value-utils';\r\n\r\nimport { DialogSearchTaskService } from './dialog-search-task.service';\r\n\r\ninterface TaskTableRow {\r\n  taskCode?: string | undefined;\r\n  taskVersion?: string | undefined;\r\n  taskTypeCode?: string | undefined;\r\n  taskDesignation?: string | undefined;\r\n  taskGroup?: string | undefined;\r\n  taskStatus?: string | undefined;\r\n  taskApplicabilityDate?: string | undefined;\r\n  _obj?: BireTaskDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-task',\r\n  templateUrl: 'dialog-search-task.component.html'\r\n})\r\nexport class DialogSearchTaskComponent extends DialogComponent implements OnInit {\r\n  public resultsTableCols: TableColumn[];\r\n  public resultsTable: SearchResultsDTO<TaskTableRow>;\r\n  public resultsTableLoading: boolean;\r\n  public selectedObjects: TaskTableRow[];\r\n  public searchObject: BireTaskDTO;\r\n\r\n  // DropDown\r\n  public taskTypeList: LabelValue<string>[];\r\n  public taskStatusList: LabelValue<string>[];\r\n  public taskGroupList: LabelValue<string>[];\r\n  public taskKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n  public isTypeVisit: boolean;\r\n\r\n  @Output()\r\n  public onSelected = new EventEmitter<BireTaskDTO | BireTaskDTO[]>();\r\n\r\n  @Input()\r\n  public selectionMultiple: boolean;\r\n\r\n  @Input()\r\n  public familyCode: string;\r\n  @Input()\r\n  public variantCode: string;\r\n\r\n  @Input('is-visit')\r\n  public set isVisit(code: boolean) {\r\n    this.isTypeVisit = code;\r\n  }\r\n\r\n  public selectionMode = 'single';\r\n\r\n  public constructor(\r\n    public dialogSearchTaskService: DialogSearchTaskService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly dateService: DateService,\r\n    public readonly sessionService: SessionService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'taskPopin');\r\n    this.taskKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.loadTypes();\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n\r\n    this.selectionMultiple = false;\r\n    this.resultsTableLoading = false;\r\n    this.searchObject = {};\r\n    this.selectedObjects = [];\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.selectionMode = this.selectionMultiple ? 'multiple' : 'single';\r\n\r\n    this.resultsTableCols = [\r\n      { field: 'taskCode', alignment: 'left', width: '15%' },\r\n      { field: 'taskVersion', alignment: 'left', width: '5%' },\r\n      { field: 'taskDesignation', alignment: 'left', width: '25%' },\r\n      { field: 'taskStatus', alignment: 'left', width: '10%' }\r\n    ];\r\n\r\n    if (!this.isTypeVisit) {\r\n      this.resultsTableCols.push({ field: 'taskTypeCode', alignment: 'left', width: '15%' });\r\n      this.resultsTableCols.push({ field: 'taskGroup', alignment: 'left', width: '15%' });\r\n    }\r\n\r\n    this.resultsTableCols.push();\r\n    this.resultsTableCols.push({ field: 'taskApplicabilityDate', alignment: 'left', width: '15%' });\r\n  }\r\n\r\n  public searchTasks(): void {\r\n    this.resultsTableLoading = true;\r\n\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n    let observableTask;\r\n\r\n    if (this.searchObject && this.isTypeVisit) {\r\n      const visitCriteriaMPInput: VisitCriteriaMPInput = {\r\n        bireTaskDTO: this.searchObject\r\n      };\r\n      observableTask = this.dialogSearchTaskService.findBireVisitsByCriteriaForMP(visitCriteriaMPInput);\r\n    } else {\r\n      const findBireTaskByCriteriaInput: FindBireTaskByCriteriaInput = {\r\n        bireTaskDTO: this.searchObject\r\n      };\r\n      if (!!this.familyCode) {\r\n        findBireTaskByCriteriaInput.familyCode = this.familyCode;\r\n      }\r\n      if (!!this.variantCode) {\r\n        findBireTaskByCriteriaInput.variantCode = this.variantCode;\r\n      }\r\n      observableTask = this.dialogSearchTaskService.findBireTasksByCriteria(findBireTaskByCriteriaInput);\r\n    }\r\n\r\n    observableTask.subscribe((results) => {\r\n      if (results) {\r\n        results.list.forEach((element) => {\r\n          const row: TaskTableRow = {\r\n            _obj: { ...element },\r\n            taskCode: element.taskCode,\r\n            taskVersion: element.taskVersion,\r\n            taskDesignation: element.taskDesignation\r\n          };\r\n          LabelValueUtils.stringValueToLabel(element, 'taskTypeCode', this.taskTypeList);\r\n          LabelValueUtils.stringValueToLabel(element, 'taskStatus', this.taskStatusList);\r\n          LabelValueUtils.stringValueToLabel(element, 'taskGroup', this.taskGroupList);\r\n          row.taskTypeCode = element.taskTypeCode;\r\n          row.taskStatus = element.taskStatus;\r\n          row.taskGroup = element.groupCode;\r\n          row.taskApplicabilityDate = this.dateService.dateToString(element.taskApplicabilityDate);\r\n          this.resultsTable.list.push(row);\r\n        });\r\n        this.resultsTable.moreResults = results.moreResults;\r\n      }\r\n      this.resultsTableLoading = false;\r\n    });\r\n  }\r\n\r\n  /*\r\n    <summary>Emit the selectedObject on validate</summary>\r\n    */\r\n  public onValidate(): void {\r\n    if (this.selectionMultiple) {\r\n      const bireTaskArr: BireTaskDTO[] = [];\r\n      this.selectedObjects.forEach((elt) => {\r\n        if (!!elt) {\r\n          LabelValueUtils.labelToStringValue(elt, 'taskTypeCode', this.taskTypeList);\r\n          LabelValueUtils.labelToStringValue(elt, 'taskStatus', this.taskStatusList);\r\n          LabelValueUtils.labelToStringValue(elt, 'taskGroup', this.taskGroupList);\r\n          bireTaskArr.push(elt._obj as BireTaskDTO);\r\n        }\r\n      });\r\n      this.onSelected.emit(bireTaskArr);\r\n    } else {\r\n      if (!!this.selectedObjects) {\r\n        const tableRow = this.selectedObjects as TaskTableRow;\r\n        LabelValueUtils.labelToStringValue(this.selectedObjects, 'taskTypeCode', this.taskTypeList);\r\n        LabelValueUtils.labelToStringValue(this.selectedObjects, 'taskStatus', this.taskStatusList);\r\n        LabelValueUtils.labelToStringValue(this.selectedObjects, 'taskGroup', this.taskGroupList);\r\n        this.onSelected.emit(tableRow._obj);\r\n      }\r\n      this.display = false;\r\n    }\r\n  }\r\n\r\n  /*\r\n    <summary>Close the pop up on cancel</summary>\r\n    */\r\n  public onCancel(): void {\r\n    super.closeDialog();\r\n  }\r\n\r\n  private loadTypes(): void {\r\n    const getTaskTypeMap = this.propertiesService.getValue('getTaskTypeMap');\r\n    const getFuncObjectStatusMap = this.propertiesService.getValue('getFuncObjectStatusMap');\r\n    const getTaskGroupMap = this.dialogSearchTaskService.getTaskGroups();\r\n\r\n    forkJoin([getTaskTypeMap, getFuncObjectStatusMap, getTaskGroupMap]).subscribe(\r\n      ([getTaskTypeResult, getFuncObjectStatusResult, getTaskGroupResult]) => {\r\n        this.taskTypeList = getTaskTypeResult.filter((obj) => {\r\n          return obj.value !== AWPropertiesConstants.TASK_TYPE_VISIT_KEY;\r\n        });\r\n        this.taskStatusList = getFuncObjectStatusResult;\r\n        this.taskGroupList = getTaskGroupResult;\r\n      }\r\n    );\r\n  }\r\n\r\n  public disableValidate() {\r\n    if (this.selectionMultiple) {\r\n      return this.selectedObjects.length === 0;\r\n    } else {\r\n      return Object.keys(this.selectedObjects).length === 0;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchTaskComponent } from './dialog-search-task.component';\r\nimport { DialogSearchTaskService } from './dialog-search-task.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule, CalendarModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchTaskComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchTaskService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchTaskModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { TaskManagementApi } from '../../api/task-management.api';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\nimport { VisitCriteriaMPInput } from '../../types/api-input-types/task-management/visit-criteria-mp-input.interface';\r\nimport { BireTaskDTO } from '../../types/api-types/bire-task-dto.interface';\r\nimport { FindBireTaskByCriteriaInput } from '../../types/api-types/find-bire-task-by-criteria-input.interface';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class DialogSearchTaskService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly taskManagementApi: TaskManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public getTaskGroups(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.taskManagementApi.findAllBireTaskGroups);\r\n  }\r\n\r\n  public findBireTasksByCriteria(criteria: FindBireTaskByCriteriaInput): Observable<SearchResultsDTO<BireTaskDTO>> {\r\n    return super.post<FindBireTaskByCriteriaInput, SearchResultsDTO<BireTaskDTO>>(\r\n      this.taskManagementApi.findBireTasksByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public findBireVisitsByCriteriaForMP(criteria: VisitCriteriaMPInput): Observable<SearchResultsDTO<BireTaskDTO>> {\r\n    return super.post<VisitCriteriaMPInput, SearchResultsDTO<BireTaskDTO>>(\r\n      this.taskManagementApi.findBireVisitsByCriteriaForMP,\r\n      criteria\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}