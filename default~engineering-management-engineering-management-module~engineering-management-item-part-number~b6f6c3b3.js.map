{"version":3,"sources":["webpack:///./node_modules/primeng/inputtextarea.js","webpack:///./src/app/shared/components/dialog-search-part/dialog-search-part.component.html","webpack:///./src/app/shared/components/dialog-search-part/dialog-search-part.component.ts","webpack:///./src/app/shared/components/dialog-search-part/dialog-search-part.module.ts","webpack:///./src/app/shared/components/dialog-search-part/dialog-search-part.service.ts","webpack:///./src/app/shared/utils/label-value-utils.ts"],"names":[],"mappings":"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","file":"default~engineering-management-engineering-management-module~engineering-management-item-part-number~b6f6c3b3.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/inputtextarea/inputtextarea\"));","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"70\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\" *ngIf=\\\"showPartTypeDropdown\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".partType\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"pnTypeList\\\"\\r\\n                    [(ngModel)]=\\\"selectedPnType\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                    [disabled]=\\\"disablePartTypeDropdown\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".partNumber\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.pn\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\">\\r\\n                  {{ getComponentName() + \\\".partDesignation\\\" | translate }}\\r\\n                </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.name\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\">\\r\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"search()\\\">\\r\\n                  {{ \\\"global.toSearch\\\" | translate }}\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ \\\"global.results\\\" | translate }}\\r\\n          ({{ table.list ? table.list.length : 0 }}{{ table.moreResults ? \\\"+\\\" : \\\"\\\" }})\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            #ptableItem\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"tableColList\\\"\\r\\n            [value]=\\\"table.list\\\"\\r\\n            [(selection)]=\\\"tableSelection\\\"\\r\\n            selectionMode=\\\"single\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!tableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"tableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptableItem.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ rowData[col.field] }}\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"cancel()\\\">\\r\\n      {{ \\\"dialog.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\" [disabled]=\\\"!tableSelection\\\">\\r\\n      {{ \\\"dialog.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { AWPropertiesConstants } from '../../constants/aw-properties-constants';\r\nimport { GenericPropertyConstants } from '../../constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { PropertiesService } from '../../services/properties.service';\r\nimport { PartsSearchInput } from '../../types/api-input-types/task-management/parts-search-input.interface';\r\nimport { PartsAssociatedTableDTO } from '../../types/api-output-types/task-management/parts-associated-table-dto.interface';\r\nimport { BirePnDTO } from '../../types/api-types/bire-pn-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { TableColumn } from '../../types/table-column.interface';\r\nimport { ListUtils } from '../../utils/list-utils';\r\nimport { ObjectUtils } from '../../utils/object-utils';\r\nimport { StringUtils } from '../../utils/string-utils';\r\n\r\nimport { DialogSearchPartService } from './dialog-search-part.service';\r\n\r\ninterface ItemRow {\r\n  partType: string;\r\n  partNumber: string;\r\n  partDesignation: string;\r\n  _obj: PartsAssociatedTableDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-part',\r\n  templateUrl: 'dialog-search-part.component.html'\r\n})\r\nexport class DialogSearchPartComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public searchObject: PartsSearchInput;\r\n\r\n  @Input()\r\n  public disablePartTypeDropdown: boolean;\r\n\r\n  @Input()\r\n  public pnType: string | undefined;\r\n\r\n  @Output()\r\n  public onValidated = new EventEmitter<PartsAssociatedTableDTO>();\r\n\r\n  public table: SearchResultsDTO<ItemRow>;\r\n  public tableColList: TableColumn[];\r\n  public tableLoading: boolean;\r\n  public tableSelection: ItemRow | undefined;\r\n\r\n  public pnTypeList: SelectItem[];\r\n  public selectedPnType: string | undefined;\r\n  public toolSearch: boolean;\r\n  public showPartTypeDropdown: boolean;\r\n  private pnTypeMap: LabelValue<string>[];\r\n\r\n  public constructor(\r\n    private readonly dialogSearchPartService: DialogSearchPartService,\r\n    private readonly messageService: MessageService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogSearchPartComponent');\r\n    this.setTableColList();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.init();\r\n    this.searchObject = this.searchObject || {};\r\n    if (this.searchObject !== {}) {\r\n      this.selectedPnType = this.pnType;\r\n      this.showPartTypeDropdown = !this.searchObject.toolSearch;\r\n    }\r\n  }\r\n\r\n  public search(): void {\r\n    this.tableLoading = true;\r\n    this.clearTableData();\r\n\r\n    this.searchObject.type = ObjectUtils.isDefined(this.selectedPnType) ? this.selectedPnType : undefined;\r\n    // Since ingredient search also includes tools, dont assign type in request\r\n    if (this.disablePartTypeDropdown && this.searchObject.type === AWPropertiesConstants.PN_TYPE_INGREDIENT_KEY) {\r\n      this.searchObject.type = undefined;\r\n    }\r\n    if (this.searchObject.toolSearch) {\r\n      this.searchObject.type = undefined;\r\n    }\r\n    //////////////////////////////////////\r\n\r\n    this.dialogSearchPartService\r\n      .findBirePartNumbersBySearchCriteria(this.searchObject)\r\n      .subscribe((result: SearchResultsDTO<PartsAssociatedTableDTO>) => {\r\n        this.table.moreResults = result.moreResults;\r\n        this.table.list = ListUtils.orEmpty(result.list).map((elt) => this.createItemRow(elt));\r\n        this.tableLoading = false;\r\n      });\r\n  }\r\n\r\n  public cancel(): void {\r\n    super.closeDialog();\r\n  }\r\n\r\n  public validate(): void {\r\n    if (!this.tableSelection) {\r\n      this.messageService.showWarningMessage(this.getTranslateKey('warningOnNoSelection'));\r\n    } else {\r\n      /*const item: PartsAssociatedTableDTO = this.tableSelection._obj;\r\n      const partAssociateTableDTO: PartAssociateTableDTO = {\r\n        birePlanPnDTO: item.birePnDTO,\r\n        pnCode: item.consumableCode,\r\n        pnName: item.consumableName,\r\n        pnType: item.consumableTypeKey,\r\n        planPnTypeText: item.consumableTypeValue\r\n      };*/\r\n      this.onValidated.emit(this.tableSelection._obj);\r\n      super.closeDialog();\r\n    }\r\n  }\r\n\r\n  private clearTableData(): void {\r\n    this.table = { list: [], moreResults: false };\r\n    this.tableSelection = undefined;\r\n  }\r\n\r\n  private createItemRow(obj: PartsAssociatedTableDTO): ItemRow {\r\n    const birePnDTO: BirePnDTO = obj.birePnDTO ? obj.birePnDTO : {};\r\n\r\n    let pnType: string | undefined;\r\n    this.pnTypeMap.forEach((element: LabelValue<string>) => {\r\n      if (birePnDTO.pnType && birePnDTO.pnType === element.value) {\r\n        pnType = element.label;\r\n      }\r\n    });\r\n\r\n    const itemRow: ItemRow = {\r\n      partDesignation: StringUtils.orEmpty(birePnDTO.articleDesignation),\r\n      partNumber: StringUtils.orEmpty(birePnDTO.pnCode),\r\n      partType: StringUtils.orEmpty(pnType),\r\n      _obj: obj\r\n    };\r\n\r\n    return itemRow;\r\n  }\r\n\r\n  private init(): void {\r\n    this.clearTableData();\r\n    this.showPartTypeDropdown = true;\r\n    this.tableLoading = false;\r\n\r\n    this.handlePnType();\r\n  }\r\n\r\n  private handlePnType(): void {\r\n    this.selectedPnType = undefined;\r\n    this.propertiesService.getValue(GenericPropertyConstants.PN_TYPE_MAP).subscribe((results) => {\r\n      this.pnTypeMap = ListUtils.orEmpty(results);\r\n      this.pnTypeList = ListUtils.orEmpty(results).map((elt: LabelValue<string>) => {\r\n        if (this.disablePartTypeDropdown && elt.value === AWPropertiesConstants.PN_TYPE_INGREDIENT_KEY) {\r\n          elt.label = this.translateService.instant(this.getTranslateKey('ingredientTool'));\r\n        }\r\n\r\n        return {\r\n          label: elt.label,\r\n          value: elt.value\r\n        };\r\n      });\r\n    });\r\n  }\r\n\r\n  private setTableColList(): void {\r\n    this.tableColList = [\r\n      { field: 'partType', alignment: 'left', width: '25%' },\r\n      { field: 'partNumber', alignment: 'left', width: '25%' },\r\n      { field: 'partDesignation', alignment: 'left', width: '50%' }\r\n    ];\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchPartComponent } from './dialog-search-part.component';\r\nimport { DialogSearchPartService } from './dialog-search-part.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchPartComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchPartService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchPartModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ProductStructureManagementApi } from '../../api/product-structure-management.api';\r\nimport { TaskManagementApi } from '../../api/task-management.api';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\nimport { FindBireItemsBySearchCriteriaInput } from '../../types/api-input-types/product-structure-management/find-bire-items-by-search-criteria-input.interface';\r\nimport { FindFamilyVariantInput } from '../../types/api-input-types/product-structure-management/find-family-variant-input.interface';\r\nimport { PartsSearchInput } from '../../types/api-input-types/task-management/parts-search-input.interface';\r\nimport { PartsAssociatedTableDTO } from '../../types/api-output-types/task-management/parts-associated-table-dto.interface';\r\nimport { BireItemDTO } from '../../types/api-types/bire-item-dto.interface';\r\nimport { FamilyVariantDTO } from '../../types/api-types/family-variant-dto.interface';\r\nimport { SearchResultsDTO } from '../../types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class DialogSearchPartService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly productStructureManagementApi: ProductStructureManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findBireItemsBySearchCriteria(bireItem: BireItemDTO): Observable<SearchResultsDTO<BireItemDTO>> {\r\n    const params: FindBireItemsBySearchCriteriaInput = {\r\n      bireItemDTOCriteria: bireItem,\r\n      pnCode: undefined,\r\n      attribute: undefined\r\n    };\r\n\r\n    return super.post<FindBireItemsBySearchCriteriaInput, SearchResultsDTO<BireItemDTO>>(\r\n      this.productStructureManagementApi.findBireItemsBySearchCriteria,\r\n      params\r\n    );\r\n  }\r\n\r\n  public findBirePartNumbersBySearchCriteria(\r\n    partsSearchInputCriteria: PartsSearchInput): Observable<SearchResultsDTO<PartsAssociatedTableDTO>> {\r\n    return super.post<PartsSearchInput, SearchResultsDTO<PartsAssociatedTableDTO>>(\r\n      this.taskManagementApi.findBirePartNumbersBySearchCriteria,\r\n      partsSearchInputCriteria\r\n    );\r\n  }\r\n\r\n  public findFamilyVariant(input: FindFamilyVariantInput): Observable<FamilyVariantDTO[]> {\r\n    return super.post<FindFamilyVariantInput, FamilyVariantDTO[]>(\r\n      this.productStructureManagementApi.findFamilyVariant,\r\n      input\r\n    );\r\n  }\r\n}\r\n","import { LabelValue } from '../../shared/types/label-value.interface';\r\n\r\nexport class LabelValueUtils {\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static stringValueToLabel<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.value === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.label;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /*\r\n   * DEPRECATED: do not use; create an interface instead\r\n   */\r\n  public static labelToStringValue<T>(object: T, propertyName: string, propertyList: LabelValue<string>[]): boolean {\r\n    if (!!object[propertyName]) {\r\n      const labelValue = propertyList.find((property) => property.label === object[propertyName]);\r\n      if (!!labelValue) {\r\n        object[propertyName] = labelValue.value;\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n"],"sourceRoot":""}