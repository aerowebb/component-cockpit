(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{EU1y:function(n,t,l){"use strict";l.d(t,"a",function(){return i});var e=l("mrSG"),o=(l("CqHe"),l("3CNd"),l("8lOw"),l("fKCH"),l("rpHu"),l("8i2z"),l("w5Jw"),l("PJ3U"),l("OovH")),i=(l("2XxF"),function(n){function t(t,l,e,o,i,a,u,c,r,s){var d=n.call(this,t,l)||this;return d.aircraftMaintenanceApi=e,d.amProjectManagementApi=o,d.bidtSiteApi=i,d.bidtStockMvtApi=a,d.bidtWarehouseApi=u,d.bidtWarehouseProductApi=c,d.fleetManagementApi=r,d.taskManagementApi=s,d}return Object(e.__extends)(t,n),t.prototype.findBidmWorkOrder=function(t){return n.prototype.post.call(this,this.aircraftMaintenanceApi.findBidmWorkOrder,t)},t.prototype.findBidmProjectById=function(t){return n.prototype.post.call(this,this.amProjectManagementApi.findBidmProject,t)},t.prototype.getSiteById=function(t){return n.prototype.post.call(this,this.bidtSiteApi.getById,t)},t.prototype.findAllSite=function(){return n.prototype.post.call(this,this.bidtSiteApi.getSites)},t.prototype.addOrUpdateStockMvt=function(t){return n.prototype.post.call(this,this.bidtStockMvtApi.addOrUpdateStockMvt,t)},t.prototype.findStockInformationListByCriteria=function(t){return n.prototype.post.call(this,this.bidtStockMvtApi.getStockInformationListByCriteria,t)},t.prototype.findPotentialListByStockMvt=function(t){return n.prototype.post.call(this,this.bidtStockMvtApi.getPotentialList,t)},t.prototype.getStockMvtById=function(t){return n.prototype.post.call(this,this.bidtStockMvtApi.getById,t)},t.prototype.getQuantityInStock=function(t){return n.prototype.post.call(this,this.bidtStockMvtApi.getQuantityInStock,t)},t.prototype.getQuantityInStockBySite=function(t){return n.prototype.post.call(this,this.bidtStockMvtApi.getQuantityInStockBySite,t)},t.prototype.findWarehouseByProduct=function(t){return n.prototype.post.call(this,this.bidtWarehouseApi.findByProduct,t)},t.prototype.findByWarehouseIdAndProductCode=function(t){return n.prototype.post.call(this,this.bidtWarehouseProductApi.findByWarehouseIdAndProductCode,t)},t.prototype.findBidoEquipmentsByPnAndSn=function(t){return n.prototype.post.call(this,this.fleetManagementApi.findBidoEquipmentsByPnAndSnCodes,t)},t.prototype.getMaterialDetails=function(t){return n.prototype.post.call(this,this.taskManagementApi.fetchProductDetails,t)},t}(o.a))},Ie6A:function(n,t,l){"use strict";l.d(t,"a",function(){return e}),l("r5xa"),l("nFCy"),l("EU1y");var e=function(){return function(){}}()},bEuC:function(n,t,l){"use strict";var e=l("CcnG"),o=l("A7o+"),i=l("bujt"),a=l("UodH"),u=l("dWZg"),c=l("lLAP"),r=l("wFw1"),s=l("Ip0R"),d=l("g4HV"),p=l("nFCy"),f=l("nhdH"),b=l("cxgq"),g=l("QLLi"),m=l("UOq0"),h=l("60Vt"),v=l("EU1y"),C=l("o3qZ"),I=l("BIm4");l.d(t,"a",function(){return un});var M=e["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{color:#01579b;font-size:1rem;text-align:center;width:100%}[_nghost-%COMP%]   .materials[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .warehouse[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .snBatch[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .ok[_ngcontent-%COMP%]{background-color:#4caf50!important}[_nghost-%COMP%]   .warning[_ngcontent-%COMP%]{background-color:#ffc107!important}[_nghost-%COMP%]   .nok[_ngcontent-%COMP%]{background-color:#f6685e!important}[_nghost-%COMP%]   .select-box[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]::after{content:"";position:absolute;top:50%;margin-top:-1.5em;border-top:1.5em solid transparent;border-bottom:1.5em solid transparent;border-left:.7em solid #01579b;right:-.45em}[_nghost-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]{padding:0!important}[_nghost-%COMP%]   .breadcrumbs-container[_ngcontent-%COMP%]{background-color:transparent!important;border-color:transparent!important;box-shadow:none!important;padding:8px 8px 0!important}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]{overflow:hidden;display:flex}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;margin:0 10px 0 0}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{float:left;margin:0 25px 0 15px}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]{background-color:#01579b;padding:7px 1em 6px;float:left;text-decoration:none;position:relative;white-space:nowrap;color:#fff;font-size:20px}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:20px}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-weight:initial;font-style:italic;font-size:15px}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]{background:#01579b;color:#fff;font-weight:700;font-size:20px;padding-bottom:6px;padding-top:7px}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:20px}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-weight:initial;font-style:italic;font-size:15px}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]::before{content:"";position:absolute;top:49%;margin-top:-1.5em;border-width:1.5em 0 1.6em 1em;border-style:solid;border-color:#ddd;left:-1em}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]::before{border-color:#01579b}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]::after{content:"";position:absolute;top:50%;margin-top:-1.5em;border-top:1.5em solid transparent;border-bottom:1.5em solid transparent;border-left:1em solid #01579b;right:-1em}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   .breadcrumbs-labels[_ngcontent-%COMP%]::after{border-left-color:#01579b}[_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]::after, [_nghost-%COMP%]   .breadcrumbs-navigation[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]::before{content:normal}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:100%}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .material[_ngcontent-%COMP%]   .material-pn[_ngcontent-%COMP%]{width:34%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .material[_ngcontent-%COMP%]   .interchangeability[_ngcontent-%COMP%]{width:33%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .material[_ngcontent-%COMP%]   .material-quantity[_ngcontent-%COMP%]{width:33%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .warehouse[_ngcontent-%COMP%]   .warehouse-name[_ngcontent-%COMP%]{width:37%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .warehouse[_ngcontent-%COMP%]   .warehouse-site[_ngcontent-%COMP%]{width:38%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .warehouse[_ngcontent-%COMP%]   .warehouse-quantity[_ngcontent-%COMP%]{width:25%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .warehouse[_ngcontent-%COMP%]   .warehouse-quantity.value[_ngcontent-%COMP%]{font-weight:700;margin-top:4px;width:100%}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .snBatch[_ngcontent-%COMP%]   .snBatch-sn[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .snBatch[_ngcontent-%COMP%]   .snBatch-batch[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .snBatch[_ngcontent-%COMP%]   .snBatch-potential[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .snBatch[_ngcontent-%COMP%]   .snBatch-date[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .snBatch[_ngcontent-%COMP%]   .snBatch-qty[_ngcontent-%COMP%]{width:10%;text-align:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:#fff;position:-webkit-sticky;position:sticky;top:40px;z-index:1}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;border-bottom:1px solid #595959;max-height:24px;min-height:24px}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{min-height:calc(8px * 5)}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;border-bottom:1px solid #f0f0f0;cursor:pointer;padding:8px 0;justify-content:center}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row.selected[_ngcontent-%COMP%]{background-color:#b6deff;border-bottom:1px solid #b6deff;border-top:1px solid #b6deff}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row.selected.first[_ngcontent-%COMP%]{border-top-width:1px}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]   .additional-data[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#01579b}[_nghost-%COMP%]   .grid-cell-stock-select[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']],data:{}});function O(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","page-title"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform("transaction."+l.goodMvtOutput.expectedTitle)))})}function P(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","page-title"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform("transaction."+l.componentData.componentId)))})}function _(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,l){var e=!0,o=n.component;return"click"===t&&(e=!1!==o.openAirworthinessStatus(o.snBatchTableSelection.stockInformationRow)&&e),e},i.b,i.a)),e["\u0275did"](1,180224,null,0,a.b,[e.ElementRef,u.a,c.f,[2,r.a]],null,null),(n()(),e["\u0275ted"](2,0,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,0,0,e["\u0275nov"](t,1).disabled||null,"NoopAnimations"===e["\u0275nov"](t,1)._animationMode),n(t,2,0,e["\u0275unv"](t,2,0,e["\u0275nov"](t,3).transform(l.componentData.componentId+".airworthinessStatus")))})}function k(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"span",[["class","lds-hourglass"]],null,null,null,null,null))],null,null)}function S(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"button",[["class","btn-with-spinner"],["color","primary"],["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.save()&&e),e},i.b,i.a)),e["\u0275did"](1,180224,null,0,a.b,[e.ElementRef,u.a,c.f,[2,r.a]],{color:[0,"color"]},null),(n()(),e["\u0275and"](16777216,null,0,1,null,k)),e["\u0275did"](3,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275ted"](4,0,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],function(n,t){var l=t.component;n(t,1,0,"primary"),n(t,3,0,l.isSaving)},function(n,t){var l=t.component;n(t,0,0,e["\u0275nov"](t,1).disabled||null,"NoopAnimations"===e["\u0275nov"](t,1)._animationMode),n(t,4,0,e["\u0275unv"](t,4,0,e["\u0275nov"](t,5).transform(l.componentData.componentId+".save")))})}function w(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"li",[],[[2,"current",null]],null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,4,"div",[["class","breadcrumbs-labels"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),e["\u0275ted"](3,null,["",""])),(n()(),e["\u0275eld"](4,0,null,null,1,"div",[["class","subtitle"]],null,null,null,null,null)),(n()(),e["\u0275ted"](5,null,["",""]))],null,function(n,t){n(t,0,0,t.context.$implicit.tittle===t.component.breadcrumbs.tittle),n(t,3,0,t.context.$implicit.tittle),n(t,5,0,t.context.$implicit.subtittle)})}function y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","row "]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,3,"div",[["class","breadcrumbs flex-row--justify-center"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,2,"ul",[["class","breadcrumbs-navigation"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,w)),e["\u0275did"](4,278528,null,0,s.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,4,0,t.component.breadcrumbsList)},null)}function T(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,9,"div",[["class","table-row"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleMaterialVisibility(n.context.$implicit,!1)&&e),e},null,null)),e["\u0275did"](2,278528,null,0,s.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](3,{first:0,selected:1}),(n()(),e["\u0275eld"](4,0,null,null,2,"div",[["class","table-cell material-pn content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.navigateToMaterial(n.context.$implicit.pnCode)&&e),e},null,null)),(n()(),e["\u0275ted"](6,null,[" "," "])),(n()(),e["\u0275eld"](7,0,null,null,1,"div",[["class","table-cell interchangeability"]],null,null,null,null,null)),(n()(),e["\u0275ted"](8,null,[" "," "])),(n()(),e["\u0275eld"](9,0,null,null,1,"div",[["class","table-cell material-quantity"]],null,null,null,null,null)),(n()(),e["\u0275ted"](10,null,[" "," "]))],function(n,t){var l=n(t,3,0,0==t.context.index,t.context.$implicit._select);n(t,2,0,"table-row",l)},function(n,t){n(t,1,0,e["\u0275inlineInterpolate"](1,"",t.context.index,"")),n(t,6,0,t.context.$implicit.pnCode),n(t,8,0,t.context.$implicit.interchangeability),n(t,10,0,t.context.$implicit.availableQuantity)})}function R(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,10,"div",[["class","table-header warehouse"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,9,"div",[["class","table-row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,2,"div",[["class","table-cell warehouse-site"]],null,null,null,null,null)),(n()(),e["\u0275ted"](3,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](5,0,null,null,2,"div",[["class","table-cell warehouse-name"]],null,null,null,null,null)),(n()(),e["\u0275ted"](6,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](8,0,null,null,2,"div",[["class","table-cell warehouse-quantity"]],null,null,null,null,null)),(n()(),e["\u0275ted"](9,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,3,0,e["\u0275unv"](t,3,0,e["\u0275nov"](t,4).transform(l.componentData.componentId+".warehouseSite"))),n(t,6,0,e["\u0275unv"](t,6,0,e["\u0275nov"](t,7).transform(l.componentData.componentId+".warehouseName"))),n(t,9,0,e["\u0275unv"](t,9,0,e["\u0275nov"](t,10).transform(l.componentData.componentId+".availableQuantity")))})}function D(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","table-cell warehouse-site"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.site.siteName)})}function B(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,12,null,null,null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,11,"div",[["class","table-row"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleWarehouseVisibility(n.context.$implicit)&&e),e},null,null)),e["\u0275did"](2,278528,null,0,s.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](3,{first:0,selected:1}),(n()(),e["\u0275and"](16777216,null,null,1,null,D)),e["\u0275did"](5,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](6,0,null,null,1,"div",[["class","table-cell warehouse-name"]],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,[" "," "])),(n()(),e["\u0275eld"](8,0,null,null,4,"div",[["class","table-cell warehouse-quantity"]],null,null,null,null,null)),e["\u0275did"](9,278528,null,0,s.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](10,{ok:0,warning:1,nok:2}),(n()(),e["\u0275eld"](11,0,null,null,1,"div",[["class","warehouse-quantity value"]],null,null,null,null,null)),(n()(),e["\u0275ted"](12,null,[" "," "]))],function(n,t){var l=t.component,e=n(t,3,0,0==t.context.index,t.context.$implicit._select);n(t,2,0,"table-row",e),n(t,5,0,t.context.$implicit.site);var o=n(t,10,0,l.isConfOk(t.context.$implicit),l.isConfWarning(t.context.$implicit),l.isConfNok(t.context.$implicit));n(t,9,0,"table-cell warehouse-quantity",o)},function(n,t){n(t,1,0,e["\u0275inlineInterpolate"](1,"",t.context.index,"")),n(t,7,0,t.context.$implicit.bidtWarehouseDTO.whName),n(t,12,0,t.context.$implicit.quantity)})}function x(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","table-body warehouse"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,B)),e["\u0275did"](2,278528,null,0,s.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.warehouseTable)},null)}function W(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","message"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".noPnInWarehouse")))})}function N(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","message"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".selectMaterialMessage")))})}function A(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".snTitle")))})}function E(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".batch")))})}function j(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","table-cell snBatch-sn"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".sn")))})}function F(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","table-cell snBatch-batch"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".batch")))})}function L(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","table-cell snBatch-qty"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".quantity")))})}function V(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,13,"div",[["class","table-header snBatch"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,12,"div",[["class","table-row"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,j)),e["\u0275did"](3,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,F)),e["\u0275did"](5,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,L)),e["\u0275did"](7,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](8,0,null,null,2,"div",[["class","table-cell snBatch-potential"]],null,null,null,null,null)),(n()(),e["\u0275ted"](9,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](11,0,null,null,2,"div",[["class","table-cell snBatch-date"]],null,null,null,null,null)),(n()(),e["\u0275ted"](12,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],function(n,t){var l=t.component;n(t,3,0,l.materialTableSelection.isSn),n(t,5,0,!l.materialTableSelection.isSn),n(t,7,0,!l.materialTableSelection.isSn)},function(n,t){var l=t.component;n(t,9,0,e["\u0275unv"](t,9,0,e["\u0275nov"](t,10).transform(l.componentData.componentId+".potential"))),n(t,12,0,e["\u0275unv"](t,12,0,e["\u0275nov"](t,13).transform(l.componentData.componentId+".storageDate")))})}function q(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"i",[["aria-hidden","true"],["class","fa fa-exclamation-triangle"],["tooltipPosition","top"]],null,null,null,null,null)),e["\u0275did"](1,4341760,null,0,d.Tooltip,[e.ElementRef,e.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],function(n,t){var l=t.component;n(t,1,0,"top",e["\u0275inlineInterpolate"](1,"",e["\u0275unv"](t,1,1,e["\u0275nov"](t,2).transform(l.componentData.componentId+".tooltipNoSourceSn")),""))},null)}function $(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"i",[["aria-hidden","true"],["class","fa fa-exclamation-triangle"],["tooltipPosition","top"]],null,null,null,null,null)),e["\u0275did"](1,4341760,null,0,d.Tooltip,[e.ElementRef,e.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],function(n,t){var l=t.component;n(t,1,0,"top",e["\u0275inlineInterpolate"](2,"",e["\u0275unv"](t,1,1,e["\u0275nov"](t,2).transform(l.componentData.componentId+".tooltipSourceSn")),"",t.parent.parent.context.$implicit.stockInformationRow._obj.stockIssueWorkOrderWoCode,""))},null)}function H(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,6,"div",[["class","snBatch-sn"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;return"click"===t&&(e=!1!==o.navigateToEquipment(o.materialTableSelection.pnCode,n.parent.context.$implicit.stockInformationRow.sn)&&e),e},null,null)),(n()(),e["\u0275ted"](2,null,[" "," "])),(n()(),e["\u0275and"](16777216,null,null,1,null,q)),e["\u0275did"](4,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,$)),e["\u0275did"](6,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,4,0,t.parent.context.$implicit.stockInformationRow.isSnAlreadySelected&&!t.parent.context.$implicit.stockInformationRow._obj.stockIssueWorkOrderWoCode),n(t,6,0,t.parent.context.$implicit.stockInformationRow.isSnAlreadySelected&&t.parent.context.$implicit.stockInformationRow._obj.stockIssueWorkOrderWoCode)},function(n,t){n(t,2,0,t.parent.context.$implicit.stockInformationRow.sn)})}function G(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"i",[["aria-hidden","true"],["class","fa fa-exclamation-triangle"],["tooltipPosition","top"]],null,null,null,null,null)),e["\u0275did"](1,4341760,null,0,d.Tooltip,[e.ElementRef,e.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],function(n,t){var l=t.component;n(t,1,0,"top",e["\u0275inlineInterpolate"](1,"",e["\u0275unv"](t,1,1,e["\u0275nov"](t,2).transform(l.componentData.componentId+".tooltipNoSourceBatch")),""))},null)}function Q(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"i",[["aria-hidden","true"],["class","fa fa-exclamation-triangle"],["tooltipPosition","top"]],null,null,null,null,null)),e["\u0275did"](1,4341760,null,0,d.Tooltip,[e.ElementRef,e.NgZone],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],function(n,t){var l=t.component;n(t,1,0,"top",e["\u0275inlineInterpolate"](2,"",e["\u0275unv"](t,1,1,e["\u0275nov"](t,2).transform(l.componentData.componentId+".tooltipSourceBatch")),"",t.parent.parent.context.$implicit.stockInformationRow._obj.stockIssueWorkOrderWoCode,""))},null)}function z(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,6,"div",[["class","snBatch-batch"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"a",[],null,null,null,null,null)),(n()(),e["\u0275ted"](2,null,[" "," "])),(n()(),e["\u0275and"](16777216,null,null,1,null,G)),e["\u0275did"](4,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Q)),e["\u0275did"](6,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,4,0,t.parent.context.$implicit.stockInformationRow.isBatchAlreadySelected&&!t.parent.context.$implicit.stockInformationRow._obj.stockIssueWorkOrderWoCode),n(t,6,0,t.parent.context.$implicit.stockInformationRow.isBatchAlreadySelected&&t.parent.context.$implicit.stockInformationRow._obj.stockIssueWorkOrderWoCode)},function(n,t){n(t,2,0,t.parent.context.$implicit.stockInformationRow.batch)})}function Y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","snBatch-qty"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.stockInformationRow.quantity)})}function K(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","snBatch-date"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.parent.context.$implicit.storageDate)})}function U(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,12,"div",[["class","table-row"]],[[8,"id",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleSnBatchVisibility(n.context.$implicit)&&e),e},null,null)),e["\u0275did"](2,278528,null,0,s.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](3,{first:0,selected:1}),(n()(),e["\u0275and"](16777216,null,null,1,null,H)),e["\u0275did"](5,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,z)),e["\u0275did"](7,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Y)),e["\u0275did"](9,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](10,0,null,null,1,"div",[["class","snBatch-potential"]],null,null,null,null,null)),(n()(),e["\u0275ted"](11,null,[" "," "])),(n()(),e["\u0275and"](16777216,null,null,1,null,K)),e["\u0275did"](13,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component,e=n(t,3,0,0==t.context.index,t.context.$implicit._select);n(t,2,0,"table-row",e),n(t,5,0,l.materialTableSelection.isSn),n(t,7,0,!l.materialTableSelection.isSn),n(t,9,0,!l.materialTableSelection.isSn),n(t,13,0,t.context.$implicit.storageDate)},function(n,t){n(t,1,0,e["\u0275inlineInterpolate"](1,"",t.context.index,"")),n(t,11,0,t.context.$implicit.stockInformationRow.potential)})}function Z(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","table-body snBatch"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,U)),e["\u0275did"](2,278528,null,0,s.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.snBatchTable)},null)}function J(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" ",""," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".selectWarehouseMessage")),e["\u0275unv"](t,1,1,e["\u0275nov"](t,3).transform(l.componentData.componentId+".sn")))})}function X(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" ",""," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".selectWarehouseMessage")),e["\u0275unv"](t,1,1,e["\u0275nov"](t,3).transform(l.componentData.componentId+".batch")))})}function nn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","message"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,J)),e["\u0275did"](2,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,X)),e["\u0275did"](4,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,2,0,l.materialTableSelection.isSn),n(t,4,0,!l.materialTableSelection.isSn)},null)}function tn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".noSnWithPn")))})}function ln(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef])],null,function(n,t){var l=t.component;n(t,1,0,e["\u0275unv"](t,1,0,e["\u0275nov"](t,2).transform(l.componentData.componentId+".noBatchWithPn")))})}function en(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","message"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,tn)),e["\u0275did"](2,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,ln)),e["\u0275did"](4,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,2,0,l.noSnWithPn),n(t,4,0,l.noBatchWithPn)},null)}function on(n){return e["\u0275vid"](0,[e["\u0275qud"](402653184,1,{pageEltRef:0}),e["\u0275qud"](671088640,2,{dropdownList:1}),e["\u0275qud"](671088640,3,{checkboxList:1}),e["\u0275qud"](671088640,4,{checkboxElementRefList:1}),e["\u0275qud"](671088640,5,{calendarList:1}),e["\u0275qud"](671088640,6,{menuItemElementRefList:1}),e["\u0275qud"](671088640,7,{tabList:1}),e["\u0275qud"](671088640,8,{tabElementRefList:1}),e["\u0275qud"](671088640,9,{tabGroupList:1}),(n()(),e["\u0275eld"](9,0,null,null,23,"div",[["class","page-header-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,9,"div",[["class","page-context"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,5,"div",[["class","page-title-container"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,O)),e["\u0275did"](13,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,P)),e["\u0275did"](15,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](16,0,null,null,0,"div",[["class","page-secondary-actions"]],null,null,null,null,null)),(n()(),e["\u0275eld"](17,0,null,null,2,"div",[["class","page-subtitle-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,1,"div",[["class","page-subtitle"]],null,null,null,null,null)),(n()(),e["\u0275ted"](19,null,["",""])),(n()(),e["\u0275eld"](20,0,null,null,12,"div",[["class","page-primary-actions"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,_)),e["\u0275did"](22,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](23,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e},i.b,i.a)),e["\u0275did"](24,180224,null,0,a.b,[e.ElementRef,u.a,c.f,[2,r.a]],null,null),(n()(),e["\u0275ted"](25,0,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275and"](16777216,null,null,1,null,S)),e["\u0275did"](28,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](29,0,null,null,3,"button",[["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.refresh()&&e),e},i.b,i.a)),e["\u0275did"](30,180224,null,0,a.b,[e.ElementRef,u.a,c.f,[2,r.a]],null,null),(n()(),e["\u0275ted"](31,0,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](33,0,null,null,68,"div",[["class","page-wrapper"]],null,null,null,null,null)),(n()(),e["\u0275eld"](34,0,null,null,67,"div",[["class","page-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](35,0,null,null,66,"div",[["class","page-content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](36,0,null,null,5,"div",[["class","grid-row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](37,0,null,null,4,"div",[["class","grid-cell--12 breadcrumbs"]],null,null,null,null,null)),(n()(),e["\u0275eld"](38,0,null,null,3,"div",[["class","grid-cell grid-cell--container breadcrumbs-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](39,0,null,null,2,"div",[["class","grid-cell-content"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,y)),e["\u0275did"](41,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](42,0,null,null,59,"div",[["class","grid-row select-box"]],null,null,null,null,null)),(n()(),e["\u0275eld"](43,0,null,null,22,"div",[["class","grid-cell--4 arrow"]],null,null,null,null,null)),(n()(),e["\u0275eld"](44,0,null,null,21,"div",[["class","grid-cell grid-cell--container grid-cell-stock-select"]],null,null,null,null,null)),(n()(),e["\u0275eld"](45,0,null,null,20,"div",[["class","grid-cell-content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](46,0,null,null,4,"div",[["class","grid-cell-header materials"]],null,null,null,null,null)),(n()(),e["\u0275eld"](47,0,null,null,3,"div",[["class","grid-cell-title-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](48,0,null,null,2,"h3",[["class","grid-cell-title"]],null,null,null,null,null)),(n()(),e["\u0275ted"](49,null,["",""])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](51,0,null,null,14,"div",[["class","table"]],null,null,null,null,null)),(n()(),e["\u0275eld"](52,0,null,null,10,"div",[["class","table-header material"]],null,null,null,null,null)),(n()(),e["\u0275eld"](53,0,null,null,9,"div",[["class","table-row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](54,0,null,null,2,"div",[["class","table-cell material-pn"]],null,null,null,null,null)),(n()(),e["\u0275ted"](55,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](57,0,null,null,2,"div",[["class","table-cell interchangeability"]],null,null,null,null,null)),(n()(),e["\u0275ted"](58,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](60,0,null,null,2,"div",[["class","table-cell material-quantity"]],null,null,null,null,null)),(n()(),e["\u0275ted"](61,null,[" "," "])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](63,0,null,null,2,"div",[["class","table-body material"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,T)),e["\u0275did"](65,278528,null,0,s.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](66,0,null,null,16,"div",[["class","grid-cell--4 arrow"]],null,null,null,null,null)),(n()(),e["\u0275eld"](67,0,null,null,15,"div",[["class","grid-cell grid-cell--container grid-cell-stock-select"]],null,null,null,null,null)),(n()(),e["\u0275eld"](68,0,null,null,14,"div",[["class","grid-cell-content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](69,0,null,null,4,"div",[["class","grid-cell-header warehouse"]],null,null,null,null,null)),(n()(),e["\u0275eld"](70,0,null,null,3,"div",[["class","grid-cell-title-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](71,0,null,null,2,"h3",[["class","grid-cell-title"]],null,null,null,null,null)),(n()(),e["\u0275ted"](72,null,["",""])),e["\u0275pid"](131072,o.i,[o.j,e.ChangeDetectorRef]),(n()(),e["\u0275eld"](74,0,null,null,4,"div",[["class","table"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,R)),e["\u0275did"](76,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,x)),e["\u0275did"](78,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,W)),e["\u0275did"](80,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,N)),e["\u0275did"](82,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](83,0,null,null,18,"div",[["class","grid-cell--4"]],null,null,null,null,null)),(n()(),e["\u0275eld"](84,0,null,null,17,"div",[["class","grid-cell grid-cell--container grid-cell-stock-select"]],null,null,null,null,null)),(n()(),e["\u0275eld"](85,0,null,null,16,"div",[["class","grid-cell-content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](86,0,null,null,6,"div",[["class","grid-cell-header snBatch"]],null,null,null,null,null)),(n()(),e["\u0275eld"](87,0,null,null,5,"div",[["class","grid-cell-title-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](88,0,null,null,4,"h3",[["class","grid-cell-title"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,A)),e["\u0275did"](90,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,E)),e["\u0275did"](92,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](93,0,null,null,4,"div",[["class","table"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,V)),e["\u0275did"](95,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Z)),e["\u0275did"](97,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,nn)),e["\u0275did"](99,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,en)),e["\u0275did"](101,16384,null,0,s.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,13,0,l.goodMvtOutput.expectedTitle),n(t,15,0,!l.goodMvtOutput.expectedTitle),n(t,22,0,l.snBatchTableSelection._select&&l.materialTableSelection.isSn),n(t,28,0,l.materialTableSelection._select),n(t,41,0,!l.isCreateOpenMode),n(t,65,0,l.materialTable),n(t,76,0,!l.noPnInWarehouse&&l.materialTableSelection._select),n(t,78,0,!l.noPnInWarehouse&&l.materialTableSelection._select),n(t,80,0,l.noPnInWarehouse&&l.materialTableSelection._select),n(t,82,0,!l.materialTableSelection._select),n(t,90,0,l.materialTableSelection.isSn),n(t,92,0,!l.materialTableSelection.isSn),n(t,95,0,l.warehouseTableSelection._select&&!l.noSnWithPn&&!l.noBatchWithPn),n(t,97,0,l.warehouseTableSelection._select&&!l.noSnWithPn&&!l.noBatchWithPn),n(t,99,0,!l.warehouseTableSelection._select),n(t,101,0,l.materialTableSelection._select&&l.warehouseTableSelection._select&&(l.noSnWithPn||l.noBatchWithPn))},function(n,t){var l=t.component;n(t,19,0,l.subTitle),n(t,23,0,e["\u0275nov"](t,24).disabled||null,"NoopAnimations"===e["\u0275nov"](t,24)._animationMode),n(t,25,0,e["\u0275unv"](t,25,0,e["\u0275nov"](t,26).transform(l.componentData.componentId+".cancel"))),n(t,29,0,e["\u0275nov"](t,30).disabled||null,"NoopAnimations"===e["\u0275nov"](t,30)._animationMode),n(t,31,0,e["\u0275unv"](t,31,0,e["\u0275nov"](t,32).transform(l.componentData.componentId+".refresh"))),n(t,49,0,e["\u0275unv"](t,49,0,e["\u0275nov"](t,50).transform(l.componentData.componentId+".materail"))),n(t,55,0,e["\u0275unv"](t,55,0,e["\u0275nov"](t,56).transform(l.componentData.componentId+".materialPn"))),n(t,58,0,e["\u0275unv"](t,58,0,e["\u0275nov"](t,59).transform(l.componentData.componentId+".interchangability"))),n(t,61,0,e["\u0275unv"](t,61,0,e["\u0275nov"](t,62).transform(l.componentData.componentId+".availableQuantity"))),n(t,72,0,e["\u0275unv"](t,72,0,e["\u0275nov"](t,73).transform(l.componentData.componentId+".warehouse")))})}function an(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"aw-material-availability-form",[],null,null,null,on,M)),e["\u0275did"](1,8896512,null,0,p.a,[f.a,b.a,g.a,m.a,h.a,o.j,v.a,C.a,I.a],null,null)],function(n,t){n(t,1,0)},null)}var un=e["\u0275ccf"]("aw-material-availability-form",p.a,an,{userWorkflow:"userWorkflow",componentData:"componentData"},{},[])},nFCy:function(n,t,l){"use strict";l.d(t,"a",function(){return m});var e=l("mrSG"),o=l("wd/R"),i=l("VNr4"),a=l("ag2f"),u=l("nOye"),c=l("5aGG"),r=l("qYLG"),s=(l("o3qZ"),l("BIm4"),l("nhdH"),l("cxgq"),l("QLLi"),l("UOq0"),l("60Vt"),l("Vut0")),d=l("LCkZ"),p=l("x3i7"),f=l("tZza"),b=l("8jAZ"),g=(l("EU1y"),function(n,t){var l="function"==typeof Symbol&&n[Symbol.iterator];if(!l)return n;var e,o,i=l.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)a.push(e.value)}catch(u){o={error:u}}finally{try{e&&!e.done&&(l=i.return)&&l.call(i)}finally{if(o)throw o.error}}return a}),m=function(n){function t(t,l,e,o,i,u,c,s,d){var p=n.call(this,r.a.Write,t,l,e,o,i)||this;return p.translateService=u,p.materialAvailabilityFormService=c,p.componentCommunicationService=s,p.dateService=d,p.materialFirstInit=!0,p.warehouseFirstInit=!0,p.snBatchFirstInit=!0,p.isSaving=!1,p.aWPropertiesConstants=a.a,p.init(),p}return Object(e.__extends)(t,n),t.prototype.getComponentName=function(){return u.a.LOG_MATERIAL_AVAILABILITY_FORM},t.prototype.ngOnInit=function(){var t=this;n.prototype.ngOnInit.call(this),this.componentData.objectId&&(this.goodMvtOutput=this.serializationService.deserialize(this.componentData.objectId),this.goodMvtOutput.data.stockMvt.id&&(this.stockRowInputId=this.goodMvtOutput.data.stockMvt.id),this.materialAvailabilityFormService.getStockMvtById(this.stockRowInputId).subscribe(function(n){t.stockRowInput={bidtStockMvtDTO:n},t.stockRowInput.bidtStockMvtDTO.bidmWorkOrderProjectId?t.materialAvailabilityFormService.findBidmProjectById(t.stockRowInput.bidtStockMvtDTO.bidmWorkOrderProjectId).subscribe(function(n){t.workPackage=n,t.materialAvailabilityFormService.findAllSite().subscribe(function(n){n.forEach(function(n){n.siteCode===t.goodMvtOutput.data.repairCenterCode&&n.siteName===t.goodMvtOutput.data.repairCenter&&(t.mroCenter=n)}),t.createBreadcrumbsList(),t.initMaterialTable()}),t.translateService.get(t.getTranslateKey("workPackage")).subscribe(function(n){t.subTitle=(n||"Work Package")+" n\xb0"+t.workPackage.projectNumber,t.displayComponentContext(t.subTitle,!1)})}):(t.createBreadcrumbsList(),t.initMaterialTable())}))},t.prototype.refresh=function(){this.init(),this.createBreadcrumbsList(),this.initMaterialTable()},t.prototype.init=function(){this.breadcrumbs={},this.materialTableSelection={_select:!1},this.warehouseTableSelection={_select:!1},this.snBatchTableSelection={_select:!1},this.materailTableIsLoading=!1,this.warehouseTableIsLoading=!1,this.snBatechTableIsLoading=!1,this.noPnInWarehouse=!1,this.noSnWithPn=!1,this.noBatchWithPn=!1,this.materialFirstInit=!0,this.warehouseFirstInit=!0,this.snBatchFirstInit=!0},t.prototype.cancel=function(){this.closeComponent()},t.prototype.createBreadcrumbsList=function(){var n=this;this.breadcrumbsList=[],Object(i.a)([this.translateService.get(this.getTranslateKey("selectStock"))]).subscribe({next:function(t){var l=g(t,1)[0];n.stockRowInput.bidtStockMvtDTO.bidmWorkOrderProjectId&&n.stockRowInput.bidtStockMvtDTO.bidmWorkOrderWoId&&n.materialAvailabilityFormService.findBidmWorkOrder({projectId:n.stockRowInput.bidtStockMvtDTO.bidmWorkOrderProjectId,woId:n.stockRowInput.bidtStockMvtDTO.bidmWorkOrderWoId}).subscribe(function(t){n.breadcrumbs.subtittle=t.woCode+" - "+n.goodMvtOutput.data.product.articleDesignation,n.breadcrumbsList.push(n.breadcrumbs)}),n.breadcrumbs.tittle=l}})},t.prototype.initMaterialTable=function(){var n=this;this.materialTable=[],this.materialAvailabilityFormService.getMaterialDetails({pnCode:this.stockRowInput.bidtStockMvtDTO.birePnPnCode}).subscribe(function(t){t.birePnDTO.pnCode&&(n.materialTable.push({pnCode:t.birePnDTO.pnCode,interchangeability:void 0,isSn:t.birePnDTO.traceability!==a.a.PN_TRACEABILITY_BY_BATCH,_select:!1}),t.bidtPnAlternativeDTOs.forEach(function(l){if(l.birePnByFkBidtPnBidtPn2BirePnPnCode)if(l.birePnByFkBidtPnBidtPn2BirePnPnCode===t.birePnDTO.pnCode){if(l.birePnByFkBidtPnBidtPn1BirePnPnCode){var e={pnCode:l.birePnByFkBidtPnBidtPn1BirePnPnCode},o={pnCode:l.birePnByFkBidtPnBidtPn1BirePnPnCode,interchangeability:l.nameOfInterchangebilty,_select:!1};n.materialTable.push(o),n.materialAvailabilityFormService.getMaterialDetails(e).subscribe(function(n){o.isSn=n.birePnDTO.traceability!==a.a.PN_TRACEABILITY_BY_BATCH})}}else{var i={pnCode:l.birePnByFkBidtPnBidtPn2BirePnPnCode},u={pnCode:l.birePnByFkBidtPnBidtPn2BirePnPnCode,interchangeability:l.nameOfInterchangebilty,_select:!1};n.materialTable.push(u),n.materialAvailabilityFormService.getMaterialDetails(i).subscribe(function(n){u.isSn=n.birePnDTO.traceability!==a.a.PN_TRACEABILITY_BY_BATCH})}}),n.materialTable.forEach(function(t){if(t.pnCode){n.goodMvtOutput.data.stockMvt.birePnPnCode&&n.goodMvtOutput.data.stockMvt.birePnPnCode===t.pnCode&&n.materialFirstInit&&(n.toggleMaterialVisibility(t,!0),n.materialFirstInit=!1);var l={pnCode:t.pnCode},e=new Date;n.stockRowInput.bidtStockMvtDTO.stockMvtDate&&(e=new Date(n.stockRowInput.bidtStockMvtDTO.stockMvtDate));var i={birePnDTOId:l,site:n.mroCenter,quantity:Number(n.stockRowInput.bidtStockMvtDTO.stockMvtQuantity),date:n.stockRowInput.bidtStockMvtDTO.stockMvtDate,basedOnExecutedMovements:e.getTime()<=o().toDate().getTime()};n.materialAvailabilityFormService.getQuantityInStockBySite(i).subscribe(function(n){t.availableQuantity=n.quantity})}}))})},t.prototype.initWarehousesTable=function(n){var t=this;this.noPnInWarehouse=!1,this.warehouseFirstInit=!0,this.warehouseTableIsLoading||(this.warehouseTableIsLoading=!0,this.warehouseTable=[],this.materialTableSelection&&this.materialTableSelection.pnCode&&this.materialAvailabilityFormService.findWarehouseByProduct(this.materialTableSelection.pnCode).subscribe(function(l){l.length>0&&l.forEach(function(n){n.wareHouseId&&t.materialTableSelection&&t.materialTableSelection.pnCode&&t.mroCenter?n.bidtSiteId&&t.mroCenter.siteId&&n.bidtSiteId===t.mroCenter.siteId&&t.warehouseTable.push({bidtWarehouseDTO:n,site:t.mroCenter,_select:!1}):!t.mroCenter&&n.wareHouseId&&t.warehouseTable.push({bidtWarehouseDTO:n,site:void 0,_select:!1})}),0!==l.length&&0!==t.warehouseTable.length||(t.noPnInWarehouse=!0,t.materialTableSelection&&(t.materialTableSelection._select=!0,t.warehouseTableIsLoading=!1)),t.warehouseTable.forEach(function(l){l.bidtWarehouseDTO&&l.bidtWarehouseDTO.bidtSiteId&&t.materialAvailabilityFormService.getSiteById(l.bidtWarehouseDTO.bidtSiteId).subscribe(function(e){if(l.site=e,l.bidtWarehouseDTO&&l.bidtWarehouseDTO.wareHouseId&&t.stockRowInput.bidtStockMvtDTO.birePnPnCode){if(t.goodMvtOutput.data.stockMvt.bidtWarehouseId&&t.goodMvtOutput.data.stockMvt.bidtWarehouseId===l.bidtWarehouseDTO.wareHouseId&&t.warehouseFirstInit&&(t.toggleWarehouseVisibility(l),t.warehouseFirstInit=!1),t.materialAvailabilityFormService.findByWarehouseIdAndProductCode({warehouseId:l.bidtWarehouseDTO.wareHouseId,pnCode:t.stockRowInput.bidtStockMvtDTO.birePnPnCode}).subscribe(function(n){l.product=n}),t.stockRowInput.bidtStockMvtDTO.birePnPnCode&&l.bidtWarehouseDTO){var i={pnCode:t.stockRowInput.bidtStockMvtDTO.birePnPnCode},a=new Date;t.stockRowInput.bidtStockMvtDTO.stockMvtDate&&(a=new Date(t.stockRowInput.bidtStockMvtDTO.stockMvtDate));var u={birePnDTOId:i,warehouseId:l.bidtWarehouseDTO.wareHouseId,date:t.stockRowInput.bidtStockMvtDTO.stockMvtDate,basedOnExecutedMovements:a.getTime()<=o().toDate().getTime()};t.materialAvailabilityFormService.getQuantityInStock(u).subscribe(function(n){n<Number(t.stockRowInput.bidtStockMvtDTO.stockMvtQuantity)?(l.status=c.a.ICON_RED_LIGHT_CODE,l.quantity=n):l.product&&l.product.whPrLowThreshold&&n<l.product.whPrLowThreshold?(l.status=c.a.ICON_YELLOW_LIGHT_CODE,l.quantity=n):(l.status=c.a.ICON_GREEN_LIGHT_CODE,l.quantity=n)})}t.materialTableSelection&&(t.materialTableSelection._select=!0,t.warehouseTableIsLoading=!1,n&&t.sortMaterialTable())}})})}))},t.prototype.sortMaterialTable=function(){this.materialTable.sort(function(n,t){return void 0!==n.pnCode&&void 0!==t.pnCode?+t._select-+n._select||n.pnCode.localeCompare(t.pnCode):0})},t.prototype.initSnBatch=function(){var n=this;if(this.noSnWithPn=!1,this.noBatchWithPn=!1,this.snBatchFirstInit=!0,!this.snBatechTableIsLoading&&(this.snBatechTableIsLoading=!0,this.snBatchTable=[],this.warehouseTableSelection&&this.warehouseTableSelection.site&&this.warehouseTableSelection.bidtWarehouseDTO)){var t=this.warehouseTableSelection.site.siteId;this.materialAvailabilityFormService.findStockInformationListByCriteria({issuePeriod:void 0,siteId:t,warehouseId:this.warehouseTableSelection.bidtWarehouseDTO.wareHouseId,pn:this.stockRowInput.bidtStockMvtDTO.birePnPnCode,withItsAlternatives:!1}).subscribe({next:function(l){0!==l.length?(n.stockRowInput.stockInformationTable=d.a.orEmpty(l).map(function(t){return n.createStockInformationRow(t,n.stockRowInput.bidtStockMvtDTO)}),n.stockRowInput.stockInformationTable.forEach(function(t){var l={stockInformationRow:t,_select:!1,storageDate:t._obj.stockReceiptDate?n.dateService.dateWithHourMinSecToString(t._obj.stockReceiptDate):void 0};l.stockInformationRow&&(f.a.isDefined(l.stockInformationRow._obj.stockSn)&&f.a.isDefined(l.stockInformationRow._obj.stockIssueQuantity)&&(l.stockInformationRow.isSnAlreadySelected=!0),f.a.isDefined(l.stockInformationRow._obj.stockBatchNumber)&&f.a.isDefined(l.stockInformationRow._obj.stockIssueQuantity)&&(l.stockInformationRow.isBatchAlreadySelected=!0),(n.goodMvtOutput.data.stockMvt.stockMvtSn&&n.goodMvtOutput.data.stockMvt.stockMvtSn===l.stockInformationRow._obj.stockSn||n.goodMvtOutput.data.stockMvt.stockMvtBatchNumber&&n.goodMvtOutput.data.stockMvt.stockMvtBatchNumber===l.stockInformationRow._obj.stockBatchNumber)&&(l.stockInformationRow.isSnAlreadySelected=!1,l.stockInformationRow.isBatchAlreadySelected=!1,n.snBatchFirstInit&&(n.toggleSnBatchVisibility(l),n.snBatchFirstInit=!1))),n.snBatchTable.push(l)}),n.loadPotentialList(n.stockRowInput,t)):n.materialTableSelection.isSn?n.noSnWithPn=!0:n.noBatchWithPn=!0},complete:function(){n.warehouseTableSelection&&(n.warehouseTableSelection._select=!0,n.snBatechTableIsLoading=!1)}})}},t.prototype.loadPotentialList=function(n,t){var l=this;n.bidtStockMvtDTO.birePnPnCode&&this.materialAvailabilityFormService.findPotentialListByStockMvt({birePnDTOId:{pnCode:n.bidtStockMvtDTO.birePnPnCode},mvtDate:n.bidtStockMvtDTO.stockMvtDate,mvtId:n.bidtStockMvtDTO.id,siteId:t,stockStatusCode:n.bidtStockMvtDTO.stockStatus,stockTypeId:n.bidtStockMvtDTO.bidtStockTypeId,stockValuationId:n.bidtStockMvtDTO.bidtValuationGroupId,storageBinId:n.bidtStockMvtDTO.bidtStorageBinId,warehouseId:n.bidtStockMvtDTO.bidtWarehouseId,withPnAlternatives:!1}).subscribe({next:function(n){var t=d.a.orEmpty(n);l.stockRowInput.stockInformationTable&&l.stockRowInput.stockInformationTable.forEach(function(n){var l=t.find(function(t){return f.a.isDefined(t.stockMvtBatchNumber)&&t.stockMvtBatchNumber===n._obj.stockBatchNumber||f.a.isDefined(t.stockMvtSn)&&t.stockMvtSn===n._obj.stockSn});l&&(n.potential=l?b.a.orEmpty(l.potential):"")})}})},t.prototype.createStockInformationRow=function(n,t){var l=b.a.isNullOrEmpty(n.stockReceiptQuantity)?void 0:p.a.fromString(n.stockReceiptQuantity),e=f.a.isDefined(l)&&!isNaN(l)?p.a.roundNumber(l,1).toString():"",o=this.getStockMvtQuantity(t),i=f.a.isDefined(o)&&!isNaN(o)&&o>0;return{batch:b.a.orEmpty(n.stockBatchNumber),potential:"",quantity:e,site:b.a.orEmpty(n.siteText),sn:b.a.orEmpty(n.stockSn),stockType:b.a.orEmpty(n.stockTypeText),storageBin:b.a.orEmpty(n.storageBinText),valuationGroup:b.a.orEmpty(n.valuationGroupText),warehouse:b.a.orEmpty(n.warehouseText),isSnAlreadySelected:!1,isBatchAlreadySelected:!1,_obj:n,_selected:!1,_selectionAvailable:i}},t.prototype.getStockMvtQuantity=function(n){return b.a.isNullOrEmpty(n.stockMvtQuantity)?void 0:p.a.fromString(n.stockMvtQuantity)},t.prototype.toggleWarehouseVisibility=function(n){n._select?this.cleanWarehouseInfo():(this.cleanWarehouseInfo(),this.fillWarehouseInfo(n),this.initSnBatch())},t.prototype.fillWarehouseInfo=function(n){n.bidtWarehouseDTO&&(this.stockRowInput.bidtStockMvtDTO.bidtWarehouseId=n.bidtWarehouseDTO.wareHouseId,this.warehouseTableSelection=n)},t.prototype.cleanWarehouseInfo=function(){this.noPnInWarehouse=!1,this.stockRowInput.bidtStockMvtDTO.bidtWarehouseId=void 0,this.clearSnBatchInfo(),this.warehouseTableSelection&&(this.warehouseTableSelection._select=!1)},t.prototype.toggleMaterialVisibility=function(n,t){n._select?this.clearPnInfo(n):(this.clearPnInfo(n),this.fillPnInfo(n),this.initWarehousesTable(t))},t.prototype.fillPnInfo=function(n){this.stockRowInput.bidtStockMvtDTO.birePnPnCode=n.pnCode,this.materialTableSelection=n},t.prototype.clearPnInfo=function(n){this.cleanWarehouseInfo(),this.clearSnBatchInfo(),this.materialTableSelection!==n&&(this.materialTableSelection._select=!1)},t.prototype.toggleSnBatchVisibility=function(n){n._select?this.clearSnBatchInfo():(this.clearSnBatchInfo(),this.fillSnBatchInfo(n))},t.prototype.fillSnBatchInfo=function(n){n.stockInformationRow&&(f.a.isDefined(n.stockInformationRow._obj.stockSn)?this.stockRowInput.bidtStockMvtDTO.stockMvtSn=n.stockInformationRow._obj.stockSn:f.a.isDefined(n.stockInformationRow._obj.stockBatchNumber)&&(this.stockRowInput.bidtStockMvtDTO.stockMvtBatchNumber=n.stockInformationRow._obj.stockBatchNumber),this.snBatchTableSelection=n,this.snBatchTableSelection._select=!0)},t.prototype.clearSnBatchInfo=function(){this.stockRowInput.bidtStockMvtDTO.stockMvtSn=void 0,this.stockRowInput.bidtStockMvtDTO.stockMvtBatchNumber=void 0,this.noSnWithPn=!1,this.noBatchWithPn=!1,this.snBatchTableSelection&&(this.snBatchTableSelection._select=!1)},t.prototype.save=function(){var n=this;this.isSaving=!0,this.materialAvailabilityFormService.addOrUpdateStockMvt(this.stockRowInput.bidtStockMvtDTO).subscribe(function(t){n.isSaving=!1,n.messageService.showSuccessMessage(n.getTranslateKey("successOnSaveStockSelection")),n.componentCommunicationService.changeStock(t),n.closeComponent()})},t.prototype.openAirworthinessStatus=function(n){var t=this;this.materialAvailabilityFormService.findBidoEquipmentsByPnAndSn({pnCode:n._obj.pn,sn:n.sn}).subscribe({next:function(n){if(f.a.isDefined(n)&&1===n.length&&f.a.isDefined(n[0])){var l=n[0];if(l.equipmentCode){var e={equipmentCodeList:[l.equipmentCode]},o={componentId:u.a.MAI_AIRWORTHINESS_CONTROL_FOR_ASSET_FORM,id:t.tabService.generateId(),openMode:r.a.Write,objectId:t.serializationService.serialize(e)};t.tabService.open(t.tabService.create(o,"transaction."+o.componentId,!0))}}}})},t.prototype.isConfOk=function(n){return n.status===c.a.ICON_GREEN_LIGHT_CODE},t.prototype.isConfWarning=function(n){return n.status===c.a.ICON_YELLOW_LIGHT_CODE},t.prototype.isConfNok=function(n){return n.status===c.a.ICON_RED_LIGHT_CODE},t.prototype.navigateToEquipment=function(n,t){var l=this;n&&t?this.materialAvailabilityFormService.findBidoEquipmentsByPnAndSn({sn:t,pnCode:n}).subscribe({next:function(n){if(f.a.isDefined(n)&&1===n.length&&f.a.isDefined(n[0])){var t=n[0],e={componentId:t.equipmentFunction===a.a.ITEM_FAMILY_CODE_AIRCRAFT_KEY?u.a.FLE_AIRCRAFT_FORM:t.equipmentFunction===a.a.ITEM_FAMILY_CODE_ENGINE_KEY?u.a.FLE_ENGINE_FORM:u.a.FLE_EQUIPMENT_FORM,id:l.tabService.generateId(),objectId:l.serializationService.serialize({equipmentCode:t.equipmentCode}),openMode:r.a.Read};l.tabService.open(l.tabService.create(e,"transaction."+e.componentId,!0))}}}):this.messageService.showErrorMessage(this.getTranslateKey("errorOnOpenEquipment"))},t.prototype.navigateToMaterial=function(n){if(n){var t={id:this.tabService.generateId(),componentId:u.a.LOG_MATERIAL_FORM,objectId:this.serializationService.serialize({pnCode:n}),openMode:r.a.Read};this.tabService.open(this.tabService.create(t,"transaction."+t.componentId,!0))}else this.messageService.showErrorMessage(this.getTranslateKey("errorOnOpenMaterial"))},t}(s.a)},o3qZ:function(n,t,l){"use strict";l.d(t,"a",function(){return i});var e=l("K9Ia"),o=l("CcnG"),i=function(){function n(){this.stockMvtSource=new e.a,this.currentStockMvt$=this.stockMvtSource.asObservable()}return n.prototype.changeStock=function(n){this.stockMvtSource.next(n)},n.ngInjectableDef=o.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()}}]);