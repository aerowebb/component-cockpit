{"version":3,"sources":["webpack:///./src/app/main/engineering-management/operational-configuration/form/operational-configuration-form.component.html","webpack:///./src/app/main/engineering-management/operational-configuration/form/operational-configuration-form.component.scss","webpack:///./src/app/main/engineering-management/operational-configuration/form/operational-configuration-form.component.ts","webpack:///./src/app/main/engineering-management/operational-configuration/form/operational-configuration-form.service.ts","webpack:///./src/app/main/engineering-management/operational-configuration/operational-configuration.module.ts","webpack:///./src/app/main/engineering-management/operational-configuration/search/operational-configuration-search.component.html","webpack:///./src/app/main/engineering-management/operational-configuration/search/operational-configuration-search.component.ts","webpack:///./src/app/main/engineering-management/operational-configuration/search/operational-configuration-search.service.ts","webpack:///./src/app/main/flight-operations/flight/search/search.service.ts","webpack:///./src/app/main/overlay/overlay.service.ts"],"names":[],"mappings":"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","file":"engineering-management-operational-configuration-operational-configuration-module.js","sourcesContent":["module.exports = \"<div class=\\\"page-header\\\">\\r\\n  <div class=\\\"page-info\\\">\\r\\n    <div>\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n          - {{ subTitle }}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"object-status\\\" *ngIf=\\\"selectedFunctionalLocationComponent.statusState\\\" (click)=\\\"showStatus()\\\">\\r\\n      {{ selectedFunctionalLocationComponent.statusState | formatSelectOption: flStatusList }}\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-actions\\\">\\r\\n    <button *ngIf=\\\"isReadOpenMode && hasUpdateAccessRight\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"edit()\\\">\\r\\n      {{ \\\"global.edit\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode && !isCreateOpenMode\\\"\\r\\n      type=\\\"button\\\"\\r\\n      color=\\\"warn\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"cancel()\\\"\\r\\n    >\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      *ngIf=\\\"!isReadOpenMode\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"save()\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n\\r\\n    <button\\r\\n      id=\\\"actions\\\"\\r\\n      mat-icon-button\\r\\n      class=\\\"mat-elevation-z1\\\"\\r\\n      matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n      matTooltipPosition=\\\"above\\\"\\r\\n      aria-label=\\\"Show all actions\\\"\\r\\n      [matMenuTriggerFor]=\\\"actions\\\"\\r\\n    >\\r\\n      <mat-icon>more_horiz</mat-icon>\\r\\n    </button>\\r\\n\\r\\n    <mat-menu #actions=\\\"matMenu\\\">\\r\\n      <button *ngIf=\\\"isReadOpenMode && !isCreateOpenMode\\\" type=\\\"button\\\" mat-menu-item (click)=\\\"refresh()\\\">\\r\\n        {{ \\\"global.refresh\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button id=\\\"updates\\\" mat-menu-item (click)=\\\"openStatusUpdatesPopup()\\\">\\r\\n        {{ \\\"global.updates\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button id=\\\"favorites\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n        {{ (isFavoriteEntry ? \\\"page.removeFromFavorites\\\" : \\\"page.addToFavorites\\\") | translate }}\\r\\n      </button>\\r\\n    </mat-menu>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n        <mat-tab>\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ \\\"home\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--equally no-padding\\\">\\r\\n              <div class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">{{ \\\"page.mainData\\\" | translate }}</h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: isCreateOpenMode }\\\">\\r\\n                          <label class=\\\"form-label\\\">{{ componentData.componentId + \\\".flCode\\\" | translate }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input\\r\\n                              type=\\\"text\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"selectedFunctionalLocationComponent.flCode\\\"\\r\\n                              [disabled]=\\\"!isCreateOpenMode\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                          <label class=\\\"form-label\\\">{{\\r\\n                            componentData.componentId + \\\".familyVariant\\\" | translate\\r\\n                          }}</label>\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"familyVariants\\\"\\r\\n                              [(ngModel)]=\\\"familyVariantCode\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              [disabled]=\\\"!isCreateOpenMode\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                              appendTo=\\\"body\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"form-group\\\" [ngClass]=\\\"{ required: !isReadOpenMode }\\\">\\r\\n                          <label class=\\\"form-label\\\">{{\\r\\n                            componentData.componentId + \\\".flDescriptionMain\\\" | translate\\r\\n                          }}</label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <textarea\\r\\n                              class=\\\"aw-textarea\\\"\\r\\n                              [rows]=\\\"3\\\"\\r\\n                              pInputTextarea\\r\\n                              [disabled]=\\\"isReadOpenMode\\\"\\r\\n                              [(ngModel)]=\\\"selectedFunctionalLocationComponent.flDescription\\\"\\r\\n                              maxlength=\\\"300\\\"\\r\\n                            ></textarea>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"grid-cell--12\\\">\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ componentData.componentId + \\\".illustration\\\" | translate }}\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"!isCreateOpenMode\\\" class=\\\"grid-cell--6\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".structure\\\" | translate }} ({{\\r\\n                        bireStructureDisplayed ? bireStructureDisplayed.length : 0\\r\\n                      }})\\r\\n                      <div *ngIf=\\\"bireStructurePanelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                    </h3>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <p-treeTable\\r\\n                    #ptreetableStructure\\r\\n                    class=\\\"aw-tree-table2\\\"\\r\\n                    [columns]=\\\"structureTableCols\\\"\\r\\n                    [value]=\\\"bireStructureDisplayed\\\"\\r\\n                    [(selection)]=\\\"selectedStructure\\\"\\r\\n                    selectionMode=\\\"checkBox\\\"\\r\\n                    [scrollable]=\\\"true\\\"\\r\\n                    (onNodeSelect)=\\\"onRowSelected($event.node)\\\"\\r\\n                    (onNodeUnselect)=\\\"onRowUnSelected($event.node)\\\"\\r\\n                    [resizableColumns]=\\\"true\\\"\\r\\n                  >\\r\\n                    <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                      <span *ngIf=\\\"!isLoadingStructureTable\\\"> &nbsp;</span>\\r\\n\\r\\n                      <div *ngIf=\\\"isLoadingStructureTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                        <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                        <div class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"caption\\\">\\r\\n                      <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedStructure.length > 0 }\\\">\\r\\n                        <div class=\\\"aw-table-global-filter\\\">\\r\\n                          <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                            <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                          </label>\\r\\n\\r\\n                          <input\\r\\n                            #ptreetableStructureGlobalFilter\\r\\n                            class=\\\"aw-table-global-filter-input\\\"\\r\\n                            type=\\\"text\\\"\\r\\n                            placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                            (input)=\\\"ptreetableStructure.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                          />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"aw-table-actions\\\">\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedStructure.length > 0\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            color=\\\"warn\\\"\\r\\n                            (click)=\\\"detachSelectedStructure()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.detach\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedStructure.length === 1 && !!selectedStructure[0].parent\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"editStructure()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.edit\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button\\r\\n                            *ngIf=\\\"!isReadOpenMode && selectedStructure.length === 1\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openStructure()\\\"\\r\\n                          >\\r\\n                            {{ \\\"global.open\\\" | translate }}\\r\\n                          </button>\\r\\n\\r\\n                          <button *ngIf=\\\"!isReadOpenMode\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"createStructure()\\\">\\r\\n                            {{ \\\"global.add\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                      <colgroup>\\r\\n                        <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                        <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                      </colgroup>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                      <tr>\\r\\n                        <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-treeTableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-treeTableHeaderCheckbox>\\r\\n                        </th>\\r\\n\\r\\n                        <th ttResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                          {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                        </th>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n\\r\\n                    <ng-template pTemplate=\\\"body\\\" let-rowNode let-rowData=\\\"rowData\\\" let-columns=\\\"columns\\\">\\r\\n                      <tr>\\r\\n                        <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                          <p-treeTableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowNode\\\"></p-treeTableCheckbox>\\r\\n                        </td>\\r\\n\\r\\n                        <td *ngFor=\\\"let col of columns; let i = index\\\" [ngSwitch]=\\\"col.field\\\">\\r\\n                          <p-treeTableToggler [rowNode]=\\\"rowNode\\\" *ngIf=\\\"i == 0\\\"></p-treeTableToggler>\\r\\n\\r\\n                          <span *ngSwitchCase=\\\"'flCode'\\\" pTooltip=\\\"{{ rowData[col.field] }}\\\" tooltipPosition=\\\"top\\\">\\r\\n                            {{ rowData[col.field] }}\\r\\n                          </span>\\r\\n                          <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </ng-template>\\r\\n                  </p-treeTable>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n        <mat-tab *ngIf=\\\"!isCreateOpenMode\\\">\\r\\n          <ng-template mat-tab-label>\\r\\n            {{ componentData.componentId + \\\".assets\\\" | translate }}\\r\\n          </ng-template>\\r\\n          <div class=\\\"grid-row\\\">\\r\\n            <div class=\\\"grid-cell--12\\\">\\r\\n              <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n                <div class=\\\"grid-cell-header\\\">\\r\\n                  <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                    <h3 class=\\\"grid-cell-title\\\">\\r\\n                      {{ componentData.componentId + \\\".assets\\\" | translate }} ({{\\r\\n                        assetTableDataSource ? assetTableDataSource.dataCount : 0\\r\\n                      }})\\r\\n                    </h3>\\r\\n                    <div *ngIf=\\\"assetPanelLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"grid-cell-content\\\">\\r\\n                  <a-table [dataSource]=\\\"assetTableDataSource\\\"> </a-table>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </mat-tab>\\r\\n      </mat-tab-group>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"displayStatusPopup\\\"\\r\\n    [item]=\\\"currentAsset\\\"\\r\\n    [itemId]=\\\"currentAssetId\\\"\\r\\n    [(display)]=\\\"displayStatusPopup\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-status\\r\\n    *ngIf=\\\"showStatusUpdatesPopup\\\"\\r\\n    [isStatusEditable]=\\\"false\\\"\\r\\n    [item]=\\\"statusDTO\\\"\\r\\n    [itemId]=\\\"statusTitle\\\"\\r\\n    [(display)]=\\\"showStatusUpdatesPopup\\\"\\r\\n  ></aw-dialog-status>\\r\\n\\r\\n  <aw-dialog-search-functional-location\\r\\n    [title]=\\\"getComponentName() + '.popupFunctionalLocationTitle' | translate\\\"\\r\\n    [familyVariant]=\\\"familyVariantCode ? [familyVariantCode] : undefined\\\"\\r\\n    [authorizedFunctionsId]=\\\"propertyValueId\\\"\\r\\n    [includeUndefinedFunction]=\\\"false\\\"\\r\\n    [(display)]=\\\"showFlCodeTableDialog\\\"\\r\\n    (onSelected)=\\\"addOrUpdateStructure($event)\\\"\\r\\n  ></aw-dialog-search-functional-location>\\r\\n</div>\\r\\n\"","module.exports = \":host .marginRight {\\n  margin-right: 8px; }\\n\\n:host .delay-category {\\n  max-width: 8rem; }\\n\\n:host .documentation-actions {\\n  justify-content: flex-end; }\\n\\n:host .documentation-actions .aw-btn {\\n    margin-left: 8px; }\\n\\n:host .documentation-actions .aw-btn:first-of-type {\\n      margin-left: 0; }\\n\\n:host .no-padding {\\n  padding: 0 !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L29wZXJhdGlvbmFsLWNvbmZpZ3VyYXRpb24vZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcYXBwXFxtYWluXFxlbmdpbmVlcmluZy1tYW5hZ2VtZW50XFxvcGVyYXRpb25hbC1jb25maWd1cmF0aW9uXFxmb3JtXFxvcGVyYXRpb25hbC1jb25maWd1cmF0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21haW4vZW5naW5lZXJpbmctbWFuYWdlbWVudC9vcGVyYXRpb25hbC1jb25maWd1cmF0aW9uL2Zvcm0vRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXHN0eWxlc1xcX2NvbnN0YW50cy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUksaUJBQWlCLEVBQUE7O0FBRnJCO0VBS0ksZUFBZSxFQUFBOztBQUxuQjtFQVNJLHlCQUF5QixFQUFBOztBQVQ3QjtJQVlNLGdCQzhCWSxFQUFBOztBRDFDbEI7TUFlUSxjQUFjLEVBQUE7O0FBZnRCO0VBb0JJLHFCQUFxQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9lbmdpbmVlcmluZy1tYW5hZ2VtZW50L29wZXJhdGlvbmFsLWNvbmZpZ3VyYXRpb24vZm9ybS9vcGVyYXRpb25hbC1jb25maWd1cmF0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiY29uc3RhbnRzXCI7XHJcblxyXG46aG9zdCB7XHJcbiAgLm1hcmdpblJpZ2h0IHtcclxuICAgIG1hcmdpbi1yaWdodDogOHB4O1xyXG4gIH1cclxuICAuZGVsYXktY2F0ZWdvcnkge1xyXG4gICAgbWF4LXdpZHRoOiA4cmVtO1xyXG4gIH1cclxuXHJcbiAgLmRvY3VtZW50YXRpb24tYWN0aW9ucyB7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cclxuICAgIC5hdy1idG4ge1xyXG4gICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLm5vLXBhZGRpbmcge1xyXG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG4iLCIkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4kc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiRwcmltYXJ5LXRleHQtY29sb3I6ICMwMDA7XHJcbiRzZWNvbmRhcnktdGV4dC1jb2xvcjogIzU5NTk1OTtcclxuJGFjY2VudC1jb2xvcjogIzAxNTc5YjtcclxuXHJcbiRib2R5LWJhY2tncm91bmQtY29sb3I6ICNlOGViZWQ7XHJcbiR0b3BiYXItY29sb3I6ICNmYWZhZmE7XHJcblxyXG4vLyAkcHJpbWFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xyXG4vLyAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XHJcbi8vICRwcmltYXJ5LXRleHQtY29sb3I6ICNlOGU4ZTg7XHJcbi8vICRzZWNvbmRhcnktdGV4dC1jb2xvcjogI2ZmZjtcclxuLy8gJGFjY2VudC1jb2xvcjogIzljZGNmZTtcclxuXHJcbiRib3JkZXItY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ6IHRyYW5zcGFyZW50O1xyXG4kYm9yZGVyLWNvbG9yLS1mb2N1czogJGFjY2VudC1jb2xvcjtcclxuJGJvcmRlci1jb2xvci0taG92ZXI6ICMxYTFhMWE7XHJcblxyXG4kZ3JlZW4tZGFyazE6ICMyNzYzMmE7XHJcbiRncmVlbi1saWdodDE6ICM0Y2FmNTA7XHJcbiRvcmFuZ2U6ICNmZmMxMDc7XHJcbiRyZWQtZGFyazE6ICNhODI1MjU7XHJcbiRyZWQtbGlnaHQxOiAjZjY2ODVlO1xyXG4kYmx1ZS1saWdodDE6ICNiOGQwZTg7XHJcbiRibHVlLWRhcmsxOiAjMDA2ZWE5O1xyXG4kZ3JleTE6ICNjOGQ0ZDY7XHJcbiR5ZWxsb3cxOiAjZGRkZjAwO1xyXG5cclxuJGNyaXRpY2FsLXZhbHVlLWRhcms6ICNmYmE2NDM7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY3JpdGljYWwtdmFsdWUtbGlnaHQ6ICNmZWNjOGU7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kY2FsZW5kYXIteWVsbG93OiAjZWZlZmIwOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGJhZC12YWx1ZS1kYXJrOiAjZmY2NzU4OyAvLyBUT0RPOiByZW1vdmUgaXRcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRib3JkZXItcmFkaXVzOiA0cHg7XHJcbiRib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4kYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiRmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJcIjtcclxuJGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiRmb250LXdlaWdodDogNDAwO1xyXG4kbGluZS1oZWlnaHQ6IDEuNDI4NTcxNDI5O1xyXG4kbWFyZ2luLXZhbHVlOiA4cHg7XHJcbiRwYWdlLW1heC13aWR0aDogMTM2NnB4O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtNDogNDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTM6IDM7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0yOiAyO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGxlZnQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRyaWdodC1zaWRlYmFyLXdpZHRoLS1leHBhbmRlZDogMjIwcHg7XHJcbiR0b3BiYXItaGVpZ2h0OiA0MHB4O1xyXG4kbWFpbmJhci1ib3JkZXItY29sb3I6IGRhcmtlbigkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IsIDUlKTtcclxuJG1haW5iYXItYm9yZGVyLXdpZHRoOiAycHg7XHJcbiRwYWdlLWhlYWRlci1oZWlnaHQ6IDUuNXJlbTtcclxuJGZvcm0tY29udHJvbC1oZWlnaHQ6IDIuNXJlbTtcclxuJGNoZWNrYm94LWhlaWdodDogMS4yNXJlbTtcclxuJHJhZGlvYnV0dG9uLWhlaWdodDogMS4yNXJlbTtcclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TreeNode } from 'primeng/api';\r\nimport { forkJoin } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { LabelValueHelper } from '../../../../modules/purchase-contract/utils/label-value-helper';\r\nimport { TableDataSource } from '../../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { FormatSelectOptionPipe } from '../../../../shared/pipes/format-select-option.pipe';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { InputValidationService } from '../../../../shared/services/input-validation.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { FlVariantInput } from '../../../../shared/types/api-input-types/fleet-management/fl-variant-input.interface';\r\nimport { SaveFunctionalLocationInput } from '../../../../shared/types/api-input-types/fleet-management/save-functional-location-input.interface';\r\nimport { FunctionalLocationStructureTreeNodeOutput } from '../../../../shared/types/api-output-types/fleet-management/functional-location-structure-tree-node-output';\r\nimport { BidoFlDTOId } from '../../../../shared/types/api-types/bido-fl-dto-id.interface';\r\nimport { BidoFlDTO } from '../../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { BidoFlEquipmentDTO } from '../../../../shared/types/api-types/bido-fl-equipment-dto.interface';\r\nimport { BidoFlVariantDTOId } from '../../../../shared/types/api-types/bido-fl-variant-dto-id.interface';\r\nimport { BidoOpeConfFlDTO } from '../../../../shared/types/api-types/bido-ope-conf-fl-dto.interface';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { FunctionalLocationFormService } from '../../../engineering-management/functional-location-form/functional-location-form.service';\r\nimport { FunctionalLocationSearchService } from '../../../engineering-management/functional-location-search/functional-location-search.service';\r\nimport { ObjectStatusComponent } from '../../../object-status/object-status.component';\r\nimport { OverlayService } from '../../../overlay/overlay.service';\r\n\r\nimport { OperationalConfigurationFormService } from './operational-configuration-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-operational-configuration-form',\r\n  styleUrls: ['./operational-configuration-form.component.scss'],\r\n  templateUrl: './operational-configuration-form.component.html'\r\n})\r\nexport class OperationalConfigurationFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public currentTabId: string;\r\n  public readonly tabGeneralId: string;\r\n  public readonly tabStructureId: string;\r\n  public readonly tabAssetsId: string;\r\n  public readonly propertyValueId = 1087;\r\n  public isUpdate: boolean;\r\n\r\n  public showFamilyVariantPopup: boolean;\r\n\r\n  public subTitle: string;\r\n\r\n  public selectedFunctionalLocationComponent: BidoFlDTO;\r\n  public currentFlStatusState?: string;\r\n\r\n  public initialFamilyVariantCode?: string;\r\n  public familyVariantCode?: string;\r\n  public familyVariants: LabelValue<string>[];\r\n\r\n  public flFunctions: LabelValue<string>[];\r\n  public flStatusList: LabelValue<string>[];\r\n\r\n  /* asset table */\r\n  public displayStatusPopup: boolean;\r\n  public currentAsset: BidoFlEquipmentDTO;\r\n  public currentAssetId: string;\r\n  public assetTableDataSource: TableDataSource<BidoFlEquipmentDTO>;\r\n\r\n  /* structure table */\r\n  public structureTableCols: TableColumn[];\r\n  public bireStructureDisplayed: TreeNode[];\r\n  public bireStructureNodesStore: TreeNode[];\r\n\r\n  public structureTable: BidoFlDTO[];\r\n  public structureTableAddedList: BidoFlDTO[];\r\n  public selectedStructure: TreeNode[];\r\n  public currentStructure: BidoFlDTO | undefined;\r\n  public isNewStructure: boolean;\r\n  public currentConcernedStructureIndex: number;\r\n\r\n  public bidoOpeConfFlStructure: BidoOpeConfFlDTO[];\r\n\r\n  /* document table*/\r\n\r\n  public showStatusUpdatesPopup: boolean;\r\n  public showFlCodeTableDialog: boolean;\r\n  public statusDTO: BidoFlDTO;\r\n  public statusTitle: string;\r\n\r\n  public showSaveSpinner: boolean;\r\n\r\n  /* Loaders */\r\n  public bireStructurePanelLoading: boolean;\r\n  public assetPanelLoading: boolean;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    public inputValidationService: InputValidationService,\r\n    public sessionService: SessionService,\r\n    public translateService: TranslateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly operationalConfigurationFormService: OperationalConfigurationFormService,\r\n    private readonly functionalLocationFormService: FunctionalLocationFormService,\r\n    private readonly functionalLocationSearchService: FunctionalLocationSearchService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly overlayService: OverlayService,\r\n    private readonly formatSelectOption: FormatSelectOptionPipe\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.isUpdate = false;\r\n    this.showFamilyVariantPopup = false;\r\n\r\n    this.displayStatusPopup = false;\r\n\r\n    this.subTitle = '';\r\n    this.selectedFunctionalLocationComponent = {};\r\n\r\n    // Tab Id's\r\n    this.tabGeneralId = 'general';\r\n    this.tabStructureId = 'structure';\r\n    this.tabAssetsId = 'assets';\r\n\r\n    this.currentTabId = this.tabGeneralId;\r\n\r\n    // General Tab\r\n    this.flFunctions = [];\r\n    this.loadFlFunction();\r\n    this.loadFlStatusList();\r\n    this.loadFamilyVariants();\r\n\r\n    this.initAssetTableDataSource();\r\n    // Structure Tab\r\n    this.structureTableCols = [\r\n      { field: 'flCode', alignment: 'left' },\r\n      { field: 'flDescription', alignment: 'left' },\r\n      { field: 'flFunction', alignment: 'left' }\r\n    ];\r\n\r\n    this.bireStructureDisplayed = [];\r\n    this.bireStructureNodesStore = [];\r\n    this.structureTable = [];\r\n    this.selectedStructure = [];\r\n    this.structureTableAddedList = [];\r\n\r\n    this.showStatusUpdatesPopup = false;\r\n    this.statusDTO = {};\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_OPERATIONAL_CONFIGURATION_FORM;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    if (this.componentData) {\r\n      this.updateOpenMode(this.componentData.openMode);\r\n      if (this.componentData.objectId && this.componentData.objectId.length > 0) {\r\n        this.getFunctionalLocationComponentData();\r\n        this.onInit();\r\n      } else {\r\n        this.selectedFunctionalLocationComponent = {\r\n          flFunction: AWPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY,\r\n          statusState: AWPropertiesConstants.FLOC_STATUS_DRAFT_KEY\r\n        };\r\n        this.updateCurrentFlStatusState();\r\n      }\r\n    }\r\n  }\r\n\r\n  private onInit(): void {\r\n    this.isUpdate = true;\r\n    const savedFamilyVariantCode = this.familyVariantCode;\r\n    this.findBidoFlVariantsByFlCode();\r\n    this.findAssetsByFlCode();\r\n    this.loadTreeTableStructure(savedFamilyVariantCode);\r\n    this.setSubTitle();\r\n    this.selectedStructure = [];\r\n    this.assetTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  private initAssetTableDataSource(): void {\r\n    this.assetTableDataSource = new TableDataSource({\r\n      allowMultiSelect: false,\r\n      enableSelection: false,\r\n      columns: [\r\n        {\r\n          field: 'equipmentCode',\r\n          translateKey: this.getTranslateKey('equipmentCode')\r\n        },\r\n        {\r\n          field: 'pnCode',\r\n          translateKey: this.getTranslateKey('pnCode')\r\n        },\r\n        {\r\n          field: 'sn',\r\n          translateKey: this.getTranslateKey('sn')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.onInit();\r\n  }\r\n\r\n  public cancel(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Read);\r\n    this.onInit();\r\n  }\r\n\r\n  public edit(): void {\r\n    this.updateOpenMode(ComponentOpenMode.Write);\r\n  }\r\n\r\n  public save(): void {\r\n    if (\r\n      !StringUtils.isNullOrEmpty(this.selectedFunctionalLocationComponent.flCode) &&\r\n      !StringUtils.isNullOrEmpty(this.selectedFunctionalLocationComponent.flDescription) &&\r\n      !StringUtils.isNullOrEmpty(this.familyVariantCode) &&\r\n      !StringUtils.isNullOrEmpty(this.selectedFunctionalLocationComponent.statusState)\r\n    ) {\r\n      this.selectedFunctionalLocationComponent.flIsOpeConf = true;\r\n      // Handling family variant\r\n      const flVariantInputAddedList: FlVariantInput[] = [];\r\n      const bidoFlVariantDTORemovedList: BidoFlVariantDTOId[] = [];\r\n      if (this.initialFamilyVariantCode !== this.familyVariantCode) {\r\n        const flVariantInput: FlVariantInput = {\r\n          bidoFlVariantDTO: {\r\n            familyVariantCode: this.familyVariantCode\r\n          }\r\n        };\r\n        flVariantInputAddedList.push(flVariantInput);\r\n\r\n        if (this.initialFamilyVariantCode && this.selectedFunctionalLocationComponent.flCode) {\r\n          const deleteVariant: BidoFlVariantDTOId = {\r\n            flCode: this.selectedFunctionalLocationComponent.flCode,\r\n            familyVariantCode: this.initialFamilyVariantCode\r\n          };\r\n          bidoFlVariantDTORemovedList.push(deleteVariant);\r\n        }\r\n      }\r\n\r\n      const saveFunctionalLocationInput: SaveFunctionalLocationInput = {\r\n        isUpdate: this.isUpdate,\r\n        bidoFlDTO: this.selectedFunctionalLocationComponent,\r\n        flVariantInputAddedList,\r\n        bidoFlVariantDTORemovedList,\r\n        flModelAddedList: [],\r\n        flModelRemovedList: []\r\n      };\r\n\r\n      this.showSaveSpinner = true;\r\n      this.functionalLocationFormService.saveFlData(saveFunctionalLocationInput).subscribe(\r\n        (result) => {\r\n          if (!this.isCreateOpenMode) {\r\n            this.operationalConfigurationFormService.updateBidoOpeConfFls(this.bidoOpeConfFlStructure).subscribe(\r\n              () => {\r\n                this.messageService.showSuccessMessage('global.successOnSave');\r\n                this.selectedFunctionalLocationComponent.flCode = result.flCode;\r\n                this.onInit();\r\n                if (!!this.componentData && !this.componentData.objectId) {\r\n                  this.componentData.objectId = result.flCode;\r\n                }\r\n              },\r\n              (error) => {\r\n                this.messageService.showErrorMessage('global.errorOnSave');\r\n                this.showSaveSpinner = false;\r\n              }\r\n            );\r\n          } else {\r\n            this.messageService.showSuccessMessage('global.successOnSave');\r\n            this.selectedFunctionalLocationComponent.flCode = result.flCode;\r\n            this.onInit();\r\n            if (!!this.componentData && !this.componentData.objectId) {\r\n              this.componentData.objectId = result.flCode;\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          const errorCode = 500;\r\n          if (err.error.errorCode === errorCode) {\r\n            this.messageService.showErrorMessage(this.getComponentName() + '.pkBidoFl');\r\n          } else {\r\n            this.messageService.showErrorMessage('global.errorOnSave');\r\n          }\r\n          this.showSaveSpinner = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.messageService.showWarningMessage('global.warningOnMissingRequiredFields');\r\n    }\r\n  }\r\n\r\n  // To fill the functional location data in the popup\r\n  private getFunctionalLocationComponentData(): void {\r\n    if (this.componentData) {\r\n      if (this.componentData.objectId && this.componentData.objectId.length > 0) {\r\n        this.selectedFunctionalLocationComponent = this.serializationService.deserialize(this.componentData.objectId);\r\n      }\r\n    }\r\n  }\r\n\r\n  private setSubTitle(): void {\r\n    this.subTitle = StringUtils.orEmpty(this.selectedFunctionalLocationComponent.flDescription);\r\n    this.displayComponentContext(this.subTitle, false);\r\n  }\r\n\r\n  public onFlStatusChanged(event: { originalEvent: Event; value?: string }): void {\r\n    if (\r\n      event.value === AWPropertiesConstants.FLOC_STATUS_CANCEL_KEY ||\r\n      event.value === AWPropertiesConstants.FLOC_STATUS_VALIDATED_KEY\r\n    ) {\r\n      this.confirmationService.confirm({\r\n        messageKey: this.getTranslateKey(`statusChangeConfirmationMsg.${event.value}`),\r\n        accept: () => {\r\n          this.updateCurrentFlStatusState();\r\n        },\r\n        reject: () => {\r\n          this.selectedFunctionalLocationComponent.statusState = this.currentFlStatusState;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private updateCurrentFlStatusState(): void {\r\n    this.currentFlStatusState = this.selectedFunctionalLocationComponent.statusState;\r\n  }\r\n\r\n  // Asset table binding by flCode\r\n  private findAssetsByFlCode(): void {\r\n    this.assetTableDataSource.setData([]);\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      const bidoFlDTOId: BidoFlDTOId = {\r\n        flCode: this.selectedFunctionalLocationComponent.flCode\r\n      };\r\n      this.assetPanelLoading = true;\r\n      this.functionalLocationFormService\r\n        .findAssetsByFlCode(bidoFlDTOId)\r\n        .pipe(\r\n          finalize(() => {\r\n            this.assetPanelLoading = false;\r\n          })\r\n        )\r\n        .subscribe(\r\n          (results) => {\r\n            this.assetTableDataSource.setData(results);\r\n          },\r\n          () => {\r\n            this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindAssetsByFlCode'));\r\n          }\r\n        );\r\n    } else {\r\n      super.throwUnboundLocalError('findAssetByFlCode', 'this.selectedFunctionalLocationComponent.flCode');\r\n    }\r\n    this.assetTableDataSource.setData(this.assetTableDataSource.dataSrc);\r\n    this.assetTableDataSource.update();\r\n  }\r\n\r\n  public displayStatusForAsset(): void {\r\n    if (!!this.assetTableDataSource.dataSelection && this.assetTableDataSource.dataSelectionCount === 1) {\r\n      this.currentAsset = { ...this.assetTableDataSource.dataSelection[0] };\r\n      this.currentAssetId = !!this.selectedFunctionalLocationComponent\r\n        ? `Asset ${this.selectedFunctionalLocationComponent.flCode} - ${this.currentAsset.equipmentCode}`\r\n        : '';\r\n      this.displayStatusPopup = true;\r\n    }\r\n  }\r\n\r\n  public openStatusPopup(bidoFlEquipmentDTO: BidoFlEquipmentDTO): void {\r\n    this.currentAsset = { ...bidoFlEquipmentDTO };\r\n    this.currentAssetId = !!this.selectedFunctionalLocationComponent\r\n      ? `Asset ${this.selectedFunctionalLocationComponent.flCode} - ${this.currentAsset.equipmentCode}`\r\n      : '';\r\n    this.displayStatusPopup = true;\r\n  }\r\n\r\n  // To bind dropdown function\r\n  private loadFlFunction(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.ITEM_FAMILY_CODE_MAP).subscribe((results) => {\r\n      this.flFunctions = results || [];\r\n    });\r\n  }\r\n\r\n  private loadFlStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLOC_STATUS_MAP).subscribe((results) => {\r\n      this.flStatusList = results || [];\r\n    });\r\n  }\r\n\r\n  private loadFamilyVariants(): void {\r\n    this.familyVariants = [];\r\n    this.functionalLocationSearchService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe((results) => {\r\n      this.familyVariants = results.map((element) => element.labelValue);\r\n    });\r\n  }\r\n\r\n  // Family-variant table binding by flCode\r\n  private findBidoFlVariantsByFlCode(): void {\r\n    this.familyVariantCode = undefined;\r\n    this.initialFamilyVariantCode = undefined;\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      const bidoFlDTOId: BidoFlDTOId = {\r\n        flCode: this.selectedFunctionalLocationComponent.flCode\r\n      };\r\n      this.functionalLocationFormService.findFamilyVariantByFlCode(bidoFlDTOId).subscribe(\r\n        (results) => {\r\n          if (results) {\r\n            this.familyVariantCode = results[0] ? results[0].familyVariantCode : undefined;\r\n            this.initialFamilyVariantCode = this.familyVariantCode;\r\n          }\r\n        },\r\n        () => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnFindBidoFlVariantsByFlCode'));\r\n        }\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('findBidoFlVariantsByFlCode', 'this.selectedFunctionalLocationComponent.flCode');\r\n    }\r\n  }\r\n\r\n  // Tab - Structure starts\r\n\r\n  // Structure table\r\n\r\n  public onRowSelected(node: TreeNode): void {\r\n    this.deactivePartialSelection(node);\r\n    this.bireStructureNodesStore.push(node);\r\n    this.selectedStructure = [...this.bireStructureNodesStore];\r\n    this.bireStructureDisplayed = [...this.bireStructureDisplayed];\r\n    this.selectedStructure = [...this.selectedStructure];\r\n  }\r\n\r\n  public onRowUnSelected(node: TreeNode): void {\r\n    this.deactivePartialSelection(node);\r\n    this.bireStructureNodesStore = this.bireStructureNodesStore.filter((value) => value !== node);\r\n    this.selectedStructure = [...this.bireStructureNodesStore];\r\n    this.bireStructureDisplayed = [...this.bireStructureDisplayed];\r\n    this.selectedStructure = [...this.selectedStructure];\r\n  }\r\n\r\n  private deactivePartialSelection(node: TreeNode): void {\r\n    // not to remove the null check\r\n    if (node.parent !== null && node.parent !== undefined) {\r\n      node.parent.partialSelected = false;\r\n      this.deactivePartialSelection(node.parent);\r\n    }\r\n  }\r\n\r\n  public loadTreeTableStructure(familyVariantCode: string | undefined): void {\r\n    if (!!this.selectedFunctionalLocationComponent.flCode) {\r\n      this.bireStructurePanelLoading = true;\r\n      const bidoFlDTOId: BidoFlDTOId = {\r\n        flCode: this.selectedFunctionalLocationComponent.flCode\r\n      };\r\n      if (this.isCreateOpenMode) {\r\n        this.findAndFetchStructureByFlCode(familyVariantCode);\r\n      } else {\r\n        forkJoin({\r\n          tree: this.operationalConfigurationFormService.findOpeConfFlTreeNode(bidoFlDTOId),\r\n          structure: this.operationalConfigurationFormService.findBidoOpeConfByOpeConf(bidoFlDTOId)\r\n        }).subscribe((results) => {\r\n          if (!!results.tree) {\r\n            this.displayFlStructureTree(results.tree);\r\n          }\r\n          this.bidoOpeConfFlStructure = results.structure;\r\n        });\r\n      }\r\n    } else {\r\n      super.throwUnboundLocalError('loadTreeTableStructure', 'this.selectedFunctionalLocationComponent.flCode');\r\n    }\r\n  }\r\n  private findAndFetchStructureByFlCode(familyVariantCode: string | undefined) {\r\n    const bidoFlDTOId: BidoFlDTOId = {\r\n      flCode: this.selectedFunctionalLocationComponent.flCode as string\r\n    };\r\n    this.operationalConfigurationFormService.findOpeConfFlTreeNode(bidoFlDTOId).subscribe(\r\n      (results) => {\r\n        if (!!results.data) {\r\n          this.bireStructureDisplayed = [this.fetchTreeTable(results)];\r\n          this.findFlsTreeNodeByFamilyVariant(familyVariantCode);\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetStructure'));\r\n        this.showSaveSpinner = false;\r\n      }\r\n    );\r\n  }\r\n  private displayFlStructureTree(results: FunctionalLocationStructureTreeNodeOutput) {\r\n    const treeTable: TreeNode[] = [this.fetchTreeTable(results)];\r\n    this.statusDTO = results.data as BidoFlDTO;\r\n    this.statusTitle = `${this.statusDTO.flCode} - ${this.statusDTO.flDescription}`;\r\n\r\n    this.loadFunctionalLocationScreen(treeTable[0].data);\r\n\r\n    this.updateFunctionalLocation(treeTable);\r\n    this.bireStructureDisplayed = treeTable;\r\n    this.bireStructurePanelLoading = false;\r\n    this.updateOpenModeAfterSave();\r\n  }\r\n\r\n  private fetchOpeConfFl(flTrees: FunctionalLocationStructureTreeNodeOutput[]): BidoOpeConfFlDTO[] {\r\n    const results: BidoOpeConfFlDTO[] = [];\r\n    const parentOpeConf: BidoOpeConfFlDTO = {};\r\n    parentOpeConf.opeConfFlCode = this.bireStructureDisplayed[0].data.flCode;\r\n    parentOpeConf.flCode = this.bireStructureDisplayed[0].data.flCode;\r\n    results.push(parentOpeConf);\r\n\r\n    flTrees.forEach((tree) => {\r\n      if (tree.data) {\r\n        const treeNode = this.getFlTreeFromBidoFlDTO(tree.data);\r\n        treeNode.data.flFlCode = this.bireStructureDisplayed[0].data.flCode;\r\n        if (\r\n          (treeNode.children && treeNode.children.length > 0) ||\r\n          tree.data.flFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY\r\n        ) {\r\n          const opeConfFl: BidoOpeConfFlDTO = {};\r\n          opeConfFl.opeConfFlCode = treeNode.data.flFlCode;\r\n          opeConfFl.flCode = treeNode.data.flCode;\r\n          opeConfFl.superiorFlCode = treeNode.data.flFlCode;\r\n          results.push(opeConfFl);\r\n          this.fetchOpeConfFlChild(results, treeNode.data.flCode, tree.children);\r\n        }\r\n      }\r\n    });\r\n\r\n    return this.cleanDuplicates(results);\r\n  }\r\n  private cleanDuplicates(results: BidoOpeConfFlDTO[]): BidoOpeConfFlDTO[] {\r\n    const res: BidoOpeConfFlDTO[] = [];\r\n    results.forEach((bidoOpeConfFl) => {\r\n      const _bidoOpeConfFl = results.find(\r\n        (_opeConfFl) =>\r\n          _opeConfFl.flCode === bidoOpeConfFl.flCode && _opeConfFl.superiorFlCode !== bidoOpeConfFl.superiorFlCode\r\n      );\r\n      if (_bidoOpeConfFl) {\r\n        if (this.opeConfFLHasMoreParentThan(bidoOpeConfFl, _bidoOpeConfFl, results, 0)) {\r\n          res.push(bidoOpeConfFl);\r\n        }\r\n      } else {\r\n        if (!res.find((opeConf) => opeConf.flCode === bidoOpeConfFl.flCode)) {\r\n          res.push(bidoOpeConfFl);\r\n        }\r\n      }\r\n    });\r\n\r\n    return res;\r\n  }\r\n  private opeConfFLHasMoreParentThan(\r\n    bidoOpeConfFl: BidoOpeConfFlDTO,\r\n    _bidoOpeConfFl: BidoOpeConfFlDTO,\r\n    results: BidoOpeConfFlDTO[],\r\n    counter: number\r\n  ) {\r\n    if (\r\n      bidoOpeConfFl &&\r\n      _bidoOpeConfFl &&\r\n      bidoOpeConfFl.superiorFlCode &&\r\n      _bidoOpeConfFl.superiorFlCode &&\r\n      counter < results.length\r\n    ) {\r\n      return this.opeConfFLHasMoreParentThan(\r\n        results.find((opeConf) => opeConf.flCode === bidoOpeConfFl.superiorFlCode) as BidoOpeConfFlDTO,\r\n        results.find((opeConf) => opeConf.flCode === _bidoOpeConfFl.superiorFlCode) as BidoOpeConfFlDTO,\r\n        results,\r\n        counter + 1\r\n      );\r\n    } else if (bidoOpeConfFl && _bidoOpeConfFl && bidoOpeConfFl.superiorFlCode) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private fetchOpeConfFlChild(\r\n    results: BidoOpeConfFlDTO[],\r\n    parentFlCode: string,\r\n    children?: FunctionalLocationStructureTreeNodeOutput[]\r\n  ) {\r\n    if (children) {\r\n      children.forEach((treeNode) => {\r\n        if (treeNode.data && treeNode.data.flFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_HARDPOINT_KEY) {\r\n          if (treeNode.data.flCode) {\r\n            const opeConfFl: BidoOpeConfFlDTO = {};\r\n            opeConfFl.opeConfFlCode = this.bireStructureDisplayed[0].data.flCode;\r\n            opeConfFl.flCode = treeNode.data.flCode;\r\n            opeConfFl.superiorFlCode = parentFlCode;\r\n            results.push(opeConfFl);\r\n            this.fetchOpeConfFlChild(results, treeNode.data.flCode, treeNode.children);\r\n          }\r\n        } else {\r\n          this.fetchOpeConfFlChild(results, parentFlCode, treeNode.children);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private findFlsTreeNodeByFamilyVariant(familyVariantCode: string | undefined) {\r\n    if (familyVariantCode) {\r\n      this.operationalConfigurationFormService\r\n        .findFlsTreeNodeByFamilyVariant(familyVariantCode)\r\n        .subscribe((flTrees) => {\r\n          this.computeOpeConfFl(flTrees);\r\n        });\r\n    } else {\r\n      this.updateOpenModeAfterSave();\r\n    }\r\n  }\r\n  private computeOpeConfFl(flTrees: FunctionalLocationStructureTreeNodeOutput[]) {\r\n    const opeConfFl = this.fetchOpeConfFl(flTrees);\r\n    this.bidoOpeConfFlStructure = opeConfFl;\r\n    if (!!opeConfFl && opeConfFl.length > 0) {\r\n      //  TODO affichage du tableau point d'emport pas encore dfinis fonctionnellement\r\n      // this.structureTableCols = [\r\n      //   { field: 'hardpoint', alignment: 'left' },\r\n      //   { field: 'load', alignment: 'left' }\r\n      // ];\r\n      this.operationalConfigurationFormService.createAllBidoOpeConfFl(opeConfFl).subscribe(() => {\r\n        if (this.selectedFunctionalLocationComponent.flCode) {\r\n          const bidoFlDTOId: BidoFlDTOId = {\r\n            flCode: this.selectedFunctionalLocationComponent.flCode\r\n          };\r\n          this.operationalConfigurationFormService.findOpeConfFlTreeNode(bidoFlDTOId).subscribe((opeConfTree) => {\r\n            if (!!opeConfTree) {\r\n              this.displayFlStructureTree(opeConfTree);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private updateOpenModeAfterSave() {\r\n    if (this.isCreateOpenMode) {\r\n      this.updateOpenMode(ComponentOpenMode.Write);\r\n    } else {\r\n      this.updateOpenMode(ComponentOpenMode.Read);\r\n    }\r\n    this.showSaveSpinner = false;\r\n  }\r\n\r\n  private fetchTreeTable(results: FunctionalLocationStructureTreeNodeOutput) {\r\n    if (!!results.data) {\r\n      return {\r\n        data: results.data,\r\n        children: results.children ? this.getChildren(results.children) : [],\r\n        leaf: results.children ? results.children.length === 0 : true,\r\n        expanded: results.children ? results.children.length !== 0 : false\r\n      };\r\n    }\r\n\r\n    return {};\r\n  }\r\n\r\n  private loadFunctionalLocationScreen(data): void {\r\n    this.selectedFunctionalLocationComponent = { ...data };\r\n    this.updateCurrentFlStatusState();\r\n  }\r\n\r\n  // Function to update functional location\r\n  private updateFunctionalLocation(treeTable) {\r\n    const table = treeTable;\r\n\r\n    table.map((result) => {\r\n      if (result.data.flFunction) {\r\n        result.data.flFunction =\r\n          LabelValueHelper.getLabelByValue(this.flFunctions, result.data.flFunction) || result.data.flFunction;\r\n      }\r\n\r\n      if (result.children) {\r\n        this.updateFunctionalLocation(result.children);\r\n      }\r\n    });\r\n\r\n    return table;\r\n  }\r\n\r\n  private getChildren(results: FunctionalLocationStructureTreeNodeOutput[]): TreeNode[] {\r\n    const childTreeNode: TreeNode[] = [];\r\n    if (results) {\r\n      results.sort((a, b) => {\r\n        if (!!a.data && !!a.data.flCode && !!b.data && !!b.data.flCode) {\r\n          const nameA = a.data.flCode.toLowerCase();\r\n          const nameB = b.data.flCode.toLowerCase();\r\n          if (nameA < nameB) {\r\n            return -1;\r\n          }\r\n          if (nameA > nameB) {\r\n            return 1;\r\n          }\r\n        }\r\n\r\n        return 0;\r\n      });\r\n      results.forEach((child) => {\r\n        const childTree: TreeNode = {\r\n          data: child.data,\r\n          leaf: !child.children || child.children.length === 0,\r\n          expanded: !!child.children && child.children.length !== 0\r\n        };\r\n        childTree.children = child.children && child.children.length > 0 ? child.children : [];\r\n        childTreeNode.push(childTree);\r\n        if (childTree.children && childTree.children.length > 0) {\r\n          this.getChildren(childTree.children);\r\n        }\r\n      });\r\n    }\r\n\r\n    return childTreeNode;\r\n  }\r\n\r\n  public createStructure(): void {\r\n    this.isNewStructure = true;\r\n    this.showFlCodeTableDialog = true;\r\n  }\r\n\r\n  public editStructure(): void {\r\n    if (this.selectedStructure.length === 1) {\r\n      this.isNewStructure = false;\r\n      this.currentStructure = this.selectedStructure[0].data;\r\n      this.showFlCodeTableDialog = true;\r\n    }\r\n  }\r\n\r\n  public openStructure(): void {\r\n    if (this.selectedStructure.length === 1) {\r\n      const labelKey = 'transaction.FunctionalLocationFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'FunctionalLocationFormComponent',\r\n        objectId: this.serializationService.serialize(this.selectedStructure[0].data),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public addOrUpdateStructure(concernedStructure: BidoFlDTO) {\r\n    if (this.isNewStructure) {\r\n      this.addNewStructure(concernedStructure);\r\n    } else {\r\n      this.updateConcernedStructure(concernedStructure);\r\n    }\r\n  }\r\n\r\n  private addNewStructure(concernedStructure: BidoFlDTO) {\r\n    if (this.selectedStructure[0] && this.selectedStructure[0].data.flCode) {\r\n      if (concernedStructure.flCode) {\r\n        this.functionalLocationFormService.findStructureByFlCode(concernedStructure.flCode).subscribe((flTree) => {\r\n          if (flTree.data) {\r\n            flTree.data.flFlCode = this.selectedStructure[0].data.flCode;\r\n            this.addTreeNodeToStructure(flTree);\r\n            this.selectedStructure = [];\r\n            this.bireStructureNodesStore = [];\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      if (!this.selectedStructure[0] && this.bireStructureDisplayed.length > 0) {\r\n        // If none selected, add entry to root FL Code\r\n        this.selectedStructure[0] = this.bireStructureDisplayed[0];\r\n        this.addNewStructure(concernedStructure);\r\n      }\r\n    }\r\n  }\r\n  private addTreeNodeToStructure(tempTree: TreeNode) {\r\n    const bireStructureChild = this.bireStructureDisplayed[0].children;\r\n    if (!!bireStructureChild) {\r\n      const searchInStructureTableChildren = this.searchRecursively(tempTree);\r\n      if (!searchInStructureTableChildren) {\r\n        const selectedStructureChild = this.selectedStructure[0].children;\r\n        this.addAllBidoOpeConfFlFromTree(tempTree, this.selectedStructure[0].data.flCode);\r\n        if (selectedStructureChild) {\r\n          selectedStructureChild.push(tempTree);\r\n          this.bireStructureDisplayed = [...this.updateFunctionalLocation(this.bireStructureDisplayed)];\r\n        }\r\n      } else {\r\n        this.messageService.showErrorMessage(\r\n          // Change it to, create a master entry or something\r\n          this.getTranslateKey('errorAlreadyConcernedStructureExist'),\r\n          `(${searchInStructureTableChildren.join(', ')})`\r\n        );\r\n      }\r\n    }\r\n  }\r\n  private addAllBidoOpeConfFlFromTree(tempTree: TreeNode, flCode: string) {\r\n    this.bidoOpeConfFlStructure.push({\r\n      flCode: tempTree.data.flCode,\r\n      opeConfFlCode: this.bireStructureDisplayed[0].data.flCode,\r\n      superiorFlCode: flCode\r\n    });\r\n    if (tempTree.children && tempTree.children.length > 0) {\r\n      tempTree.children.forEach((childTmpTree) => this.addAllBidoOpeConfFlFromTree(childTmpTree, tempTree.data.flCode));\r\n    }\r\n  }\r\n  private searchRecursively(\r\n    tempTree: TreeNode,\r\n    result: { isPresent: undefined | string[] } = { isPresent: undefined }\r\n  ): string[] | undefined {\r\n    if (!!this.bidoOpeConfFlStructure.find((value) => value.flCode === tempTree.data.flCode)) {\r\n      if (!result.isPresent) {\r\n        result.isPresent = [] as string[];\r\n      }\r\n      result.isPresent.push(tempTree.data.flCode);\r\n    } else if (tempTree.children && tempTree.children.length > 0) {\r\n      tempTree.children.forEach((childTempTree) => {\r\n        this.searchRecursively(childTempTree, result);\r\n      });\r\n    }\r\n\r\n    return result.isPresent;\r\n  }\r\n  private getFlTreeFromBidoFlDTO(concernedStructure: BidoFlDTO): TreeNode {\r\n    const tempTree: TreeNode = {};\r\n    tempTree.data = concernedStructure;\r\n    tempTree.children = [];\r\n\r\n    return tempTree;\r\n  }\r\n\r\n  private updateConcernedStructure(concernedStructure: BidoFlDTO) {\r\n    const searchInStructureTableChildren = this.bidoOpeConfFlStructure.find(\r\n      (value) => value.flCode === concernedStructure.flCode\r\n    );\r\n    if (!searchInStructureTableChildren) {\r\n      const opeConfToUpdate = this.bidoOpeConfFlStructure.find(\r\n        (value) => value.flCode === this.selectedStructure[0].data.flCode\r\n      );\r\n      if (opeConfToUpdate) {\r\n        this.bidoOpeConfFlStructure\r\n          .filter((opeConf) => opeConf.superiorFlCode === opeConfToUpdate.flCode)\r\n          .forEach((opeConf) => {\r\n            opeConf.superiorFlCode = concernedStructure.flCode;\r\n          });\r\n        opeConfToUpdate.flCode = concernedStructure.flCode;\r\n      }\r\n\r\n      this.selectedStructure[0].data = concernedStructure;\r\n      this.bireStructureDisplayed = [...this.updateFunctionalLocation(this.bireStructureDisplayed)];\r\n      this.selectedStructure = [];\r\n      this.bireStructureNodesStore = [];\r\n    } else {\r\n      this.messageService.showErrorMessage(\r\n        // Change it to, create a master entry or something\r\n        this.getTranslateKey('errorAlreadyConcernedStructureExist')\r\n      );\r\n    }\r\n  }\r\n\r\n  public detachSelectedStructure(): void {\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.detachConfirmationMsg',\r\n      accept: () => {\r\n        this.selectedStructure.forEach((element) => {\r\n          this.deleteCascadeOpeConf(\r\n            this.bidoOpeConfFlStructure.find((opeConf) => opeConf.flCode === element.data.flCode)\r\n          );\r\n\r\n          if (!!element.parent && !!element.parent.children) {\r\n            element.parent.children = [\r\n              ...element.parent.children.filter((child) => child.data.flCode !== element.data.flCode)\r\n            ];\r\n          }\r\n          this.bireStructureDisplayed = [...this.bireStructureDisplayed];\r\n        });\r\n        this.selectedStructure = [];\r\n        this.bireStructureNodesStore = [];\r\n      }\r\n    });\r\n  }\r\n  private deleteCascadeOpeConf(flCode: BidoOpeConfFlDTO | undefined) {\r\n    if (flCode) {\r\n      const listOfFlCodeToDelete: BidoOpeConfFlDTO[] = [flCode];\r\n      this.fetchListOfFlCodeToDelete(listOfFlCodeToDelete, flCode);\r\n      this.bidoOpeConfFlStructure = this.bidoOpeConfFlStructure.filter(\r\n        (opeConf) => !listOfFlCodeToDelete.find((opeConfToDelete) => opeConf.flCode === opeConfToDelete.flCode)\r\n      );\r\n    }\r\n  }\r\n\r\n  private fetchListOfFlCodeToDelete(listOfFlCodeToDelete: BidoOpeConfFlDTO[], flCode: BidoOpeConfFlDTO, counter = 0) {\r\n    const childToDelete = this.bidoOpeConfFlStructure.filter((confOpe) => confOpe.superiorFlCode === flCode.flCode);\r\n    if (childToDelete.length > 0 && counter < this.bidoOpeConfFlStructure.length) {\r\n      listOfFlCodeToDelete.push(...childToDelete);\r\n      childToDelete.forEach((opeConf) => {\r\n        this.fetchListOfFlCodeToDelete(listOfFlCodeToDelete, opeConf, counter + 1);\r\n      });\r\n    }\r\n  }\r\n\r\n  /* Tab structure Ends */\r\n  public showStatus(): void {\r\n    const overlayRef = this.overlayService.openWithPositionCenter<string | undefined>({\r\n      content: ObjectStatusComponent,\r\n      data: {\r\n        currentAuthor: this.statusDTO.statusUser,\r\n        currentDate: this.statusDTO.statusDate,\r\n        currentStatus: {\r\n          label: this.formatSelectOption.transform(\r\n            this.selectedFunctionalLocationComponent.statusState,\r\n            this.flStatusList\r\n          ),\r\n          value: this.selectedFunctionalLocationComponent.statusState\r\n        },\r\n        nextStatuses: this.flStatusList\r\n      }\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          this.selectedFunctionalLocationComponent.statusState = event.data;\r\n          this.save();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public openGeneralTab(): void {\r\n    this.currentTabId = this.tabGeneralId;\r\n  }\r\n\r\n  public openStructureTab(): void {\r\n    this.currentTabId = this.tabStructureId;\r\n  }\r\n  public openStatusUpdatesPopup() {\r\n    this.showStatusUpdatesPopup = true;\r\n  }\r\n\r\n  public openAssetsTab(): void {\r\n    this.currentTabId = this.tabAssetsId;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { FunctionalLocationStructureTreeNodeOutput } from '../../../../shared/types/api-output-types/fleet-management/functional-location-structure-tree-node-output';\r\nimport { BidoFlDTOId } from '../../../../shared/types/api-types/bido-fl-dto-id.interface';\r\nimport { BidoOpeConfFlDTO } from '../../../../shared/types/api-types/bido-ope-conf-fl-dto.interface';\r\n\r\n@Injectable()\r\nexport class OperationalConfigurationFormService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findOpeConfFlTreeNode(bidoFlDTOId: BidoFlDTOId): Observable<FunctionalLocationStructureTreeNodeOutput> {\r\n    return super.post<BidoFlDTOId, FunctionalLocationStructureTreeNodeOutput>(\r\n      this.fleetManagementApi.findOpeConfFlTreeNode,\r\n      bidoFlDTOId\r\n    );\r\n  }\r\n\r\n  public findBidoOpeConfByOpeConf(bidoFlDTOId: BidoFlDTOId): Observable<BidoOpeConfFlDTO[]> {\r\n    return super.post<BidoFlDTOId, BidoOpeConfFlDTO[]>(this.fleetManagementApi.findBidoOpeConfByOpeConf, bidoFlDTOId);\r\n  }\r\n\r\n  public createAllBidoOpeConfFl(opeConfFl: BidoOpeConfFlDTO[]) {\r\n    return super.post<BidoOpeConfFlDTO[], void>(this.fleetManagementApi.createAllBidoOpeConfFl, opeConfFl);\r\n  }\r\n\r\n  public updateBidoOpeConfFls(opeConfFls: BidoOpeConfFlDTO[]) {\r\n    return super.post<BidoOpeConfFlDTO[], void>(this.fleetManagementApi.updateBidoOpeConfFls, opeConfFls);\r\n  }\r\n\r\n  public findFlsTreeNodeByFamilyVariant(\r\n    familyVariant: string\r\n  ): Observable<FunctionalLocationStructureTreeNodeOutput[]> {\r\n    return super.post<string, FunctionalLocationStructureTreeNodeOutput[]>(\r\n      this.fleetManagementApi.findFlsTreeNodeByFamilyVariant,\r\n      familyVariant\r\n    );\r\n  }\r\n}\r\n","import { DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { CheckboxModule, FileUploadModule, KeyFilterModule, MessageModule, TreeTableModule } from 'primeng/primeng';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { DialogSearchCustomerModule } from '../../../shared/components/dialog-search-customer/dialog-search-customer.module';\r\nimport { DialogSearchFunctionalLocationModule } from '../../../shared/components/dialog-search-functional-location/dialog-search-functional-location.module';\r\nimport { DialogSearchItemModule } from '../../../shared/components/dialog-search-item/dialog-search-item.module';\r\nimport { DialogSearchModelModule } from '../../../shared/components/dialog-search-model/dialog-search-model.module';\r\nimport { DialogStatusModule } from '../../../shared/components/dialog-status/dialog-status.module';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { TableModule } from '../../../shared/components/table/table.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\nimport { SearchService } from '../../flight-operations/flight/search/search.service';\r\nimport { FunctionalLocationFormService } from '../functional-location-form/functional-location-form.service';\r\nimport { FunctionalLocationSearchService } from '../functional-location-search/functional-location-search.service';\r\n\r\nimport { OperationalConfigurationFormComponent } from './form/operational-configuration-form.component';\r\nimport { OperationalConfigurationFormService } from './form/operational-configuration-form.service';\r\nimport { OperationalConfigurationSearchComponent } from './search/operational-configuration-search.component';\r\nimport { OperationalConfigurationSearchService } from './search/operational-configuration-search.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\nconst PRIMENG_MODULES = [\r\n  TreeTableModule,\r\n  FileUploadModule,\r\n  KeyFilterModule,\r\n  TooltipModule,\r\n  CalendarModule,\r\n  DropdownModule,\r\n  CheckboxModule\r\n];\r\n\r\nconst EXTERNAL_MODULES = [];\r\n\r\nconst INTERNAL_MODULES = [\r\n  DialogStatusModule,\r\n  DialogSearchItemModule,\r\n  DialogSearchModelModule,\r\n  DialogSearchFunctionalLocationModule,\r\n  ModalModule,\r\n  MessageModule,\r\n  TableModule\r\n];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [];\r\n\r\nconst DYNAMIC_COMPONENTS = [OperationalConfigurationSearchComponent, OperationalConfigurationFormComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [\r\n  SearchService,\r\n  FunctionalLocationFormService,\r\n  FunctionalLocationSearchService,\r\n  OperationalConfigurationFormService,\r\n  OperationalConfigurationSearchService\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    DialogSearchCustomerModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES,\r\n    ...PRIMENG_MODULES\r\n  ],\r\n  providers: [...SERVICES, DatePipe]\r\n})\r\nexport class OperationalConfigurationModule {}\r\n","module.exports = \"<div class=\\\"page-header-container\\\">\\r\\n  <div class=\\\"page-context\\\">\\r\\n    <div class=\\\"page-title-container\\\">\\r\\n      <div class=\\\"page-title\\\">\\r\\n        {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"page-secondary-actions\\\">\\r\\n        <i\\r\\n          class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n          [ngClass]=\\\"{ 'fa-star': isFavoriteEntry, 'fa-star-o': !isFavoriteEntry }\\\"\\r\\n          aria-hidden=\\\"true\\\"\\r\\n          (click)=\\\"updateFavoriteState()\\\"\\r\\n          pTooltip=\\\"{{ 'page.' + (isFavoriteEntry ? 'removeFromFavorites' : 'addToFavorites') | translate }}\\\"\\r\\n          tooltipPosition=\\\"bottom\\\"\\r\\n        ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-subtitle-container\\\">\\r\\n      <div class=\\\"page-subtitle\\\">\\r\\n        {{ \\\"page.searchPage\\\" | translate }}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-primary-actions\\\">\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"openNewFunctionalLocation()\\\" *ngIf=\\\"hasUpdateAccessRight\\\">\\r\\n      {{ \\\"global.create\\\" | translate }}\\r\\n    </button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"page-wrapper\\\">\\r\\n  <div class=\\\"page-container search-page-container\\\">\\r\\n    <div class=\\\"page-content\\\">\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">{{ \\\"global.search\\\" | translate }}</h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <div class=\\\"column\\\">\\r\\n                <div class=\\\"row search-criteria-header\\\">\\r\\n                  <i\\r\\n                    class=\\\"fa fa-fw fa-undo aw-icon aw-icon-with-border search-criteria-action\\\"\\r\\n                    aria-hidden=\\\"true\\\"\\r\\n                    pTooltip=\\\"{{ 'global.reset' | translate }}\\\"\\r\\n                    tooltipPosition=\\\"top\\\"\\r\\n                    (click)=\\\"resetSearchCriteria()\\\"\\r\\n                  ></i>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".flCode\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.flCode\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".familyVariant\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"familyVariants\\\"\\r\\n                        [(ngModel)]=\\\"familyVariantCode\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".flDescription\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.flDescription\\\" />\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group flex--4\\\">\\r\\n                    <label class=\\\"form-label\\\"> {{ componentData.componentId + \\\".statusState\\\" | translate }} </label>\\r\\n\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                      <p-dropdown\\r\\n                        class=\\\"aw-dropdown fixed-width\\\"\\r\\n                        [options]=\\\"flStatusList\\\"\\r\\n                        [(ngModel)]=\\\"searchObject.bidoFlDTOCriteria.statusState\\\"\\r\\n                        [showClear]=\\\"true\\\"\\r\\n                        placeholder=\\\"&nbsp;\\\"\\r\\n                      ></p-dropdown>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row search-criteria-footer\\\">\\r\\n                  <div class=\\\"search-actions\\\">\\r\\n                    <button\\r\\n                      type=\\\"button\\\"\\r\\n                      mat-raised-button\\r\\n                      color=\\\"primary\\\"\\r\\n                      (click)=\\\"search()\\\"\\r\\n                      appKeyPress\\r\\n                      [keyCode]=\\\"'Enter'\\\"\\r\\n                      (keyPress)=\\\"search()\\\"\\r\\n                    >\\r\\n                      {{ \\\"global.toSearch\\\" | translate }}\\r\\n                    </button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"grid-row\\\">\\r\\n        <div class=\\\"grid-cell--12\\\">\\r\\n          <div #resultsContainerAnchor class=\\\"grid-cell grid-cell--container\\\">\\r\\n            <div class=\\\"grid-cell-header\\\">\\r\\n              <div class=\\\"grid-cell-title-container\\\">\\r\\n                <h3 class=\\\"grid-cell-title\\\">\\r\\n                  {{ \\\"global.results\\\" | translate }} ({{\\r\\n                    resultsTableDataSource ? resultsTableDataSource.dataCount : 0\\r\\n                  }})\\r\\n                </h3>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-cell-content\\\">\\r\\n              <a-table [dataSource]=\\\"resultsTableDataSource\\\">\\r\\n                <ng-template tableActionsDef>\\r\\n                  <button\\r\\n                    *ngIf=\\\"!resultsTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"exportTable()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.export\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"hasManageAccessRight && resultsTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    color=\\\"warn\\\"\\r\\n                    (click)=\\\"deleteSelectedOperationalConfiguration()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.delete\\\" | translate }}\\r\\n                  </button>\\r\\n\\r\\n                  <button\\r\\n                    *ngIf=\\\"resultsTableDataSource.hasDataSelection\\\"\\r\\n                    type=\\\"button\\\"\\r\\n                    mat-raised-button\\r\\n                    (click)=\\\"openSelectedOperationalconfiguration()\\\"\\r\\n                  >\\r\\n                    {{ \\\"global.open\\\" | translate }}\\r\\n                  </button>\\r\\n                </ng-template>\\r\\n              </a-table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { LabelValueHelper } from '../../../../modules/purchase-contract/utils/label-value-helper';\r\nimport { TableDataSource } from '../../../../shared/components/table/table-data-source';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { ExportService } from '../../../../shared/services/export.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { FindBidoFlsBySearchCriteriaInput } from '../../../../shared/types/api-input-types/fleet-management/find-bido-fls-by-search-criteria-input.interface';\r\nimport { OperationalConfigurationOutputDTO } from '../../../../shared/types/api-output-types/fleet-management/operational-configuration-output-dto';\r\nimport { BidoFlDTOId } from '../../../../shared/types/api-types/bido-fl-dto-id.interface';\r\nimport { BidoFlDTO } from '../../../../shared/types/api-types/bido-fl-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponent } from '../../../../shared/types/page-component';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { FunctionalLocationSearchService } from '../../../engineering-management/functional-location-search/functional-location-search.service';\r\n\r\nimport { OperationalConfigurationSearchService } from './operational-configuration-search.service';\r\n\r\ninterface OperationalConfigurationRow extends OperationalConfigurationOutputDTO {\r\n  flCode?: string;\r\n  familyVariantLabel?: string;\r\n  flDescription?: string;\r\n  statusStateLabel?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-operational-configuration-search',\r\n  templateUrl: './operational-configuration-search.component.html'\r\n})\r\nexport class OperationalConfigurationSearchComponent extends PageComponent<PageComponentData> implements OnInit {\r\n  public familyVariants: LabelValue<string>[];\r\n  public flFunctions: LabelValue<string>[];\r\n  public flStatusList: LabelValue<string>[];\r\n  public searchObject: FindBidoFlsBySearchCriteriaInput;\r\n  public familyVariantCode: string;\r\n  public showFunctionalLocationModelDialog: boolean;\r\n  public displayModelPopin: boolean;\r\n  public isReadOnlyForm: boolean;\r\n  private readonly resultsTableExportName: string;\r\n  public globalFilterTxt: string | undefined;\r\n  public resultsTableDataSource: TableDataSource<OperationalConfigurationRow>;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly functionalLocationSearchService: FunctionalLocationSearchService,\r\n    private readonly operationalConfigurationSearchService: OperationalConfigurationSearchService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly exportService: ExportService,\r\n    private readonly confirmationService: ConfirmationService\r\n  ) {\r\n    super(ComponentOpenMode.Write, favoriteService, loaderService, messageService, serializationService, tabService);\r\n\r\n    this.familyVariants = [];\r\n    this.flFunctions = [];\r\n    this.flStatusList = [];\r\n\r\n    this.searchObject = {\r\n      bidoFlDTOCriteria: {},\r\n      familyVariantCode: undefined\r\n    };\r\n    this.isReadOnlyForm = false;\r\n    this.displayModelPopin = false;\r\n\r\n    this.loadfamilyVariant();\r\n    this.loadFlFunction();\r\n    this.loadFlStatusList();\r\n    this.showFunctionalLocationModelDialog = false;\r\n    this.resultsTableExportName = 'operationalConfiguration-search-list';\r\n    this.initResultsTableDataSource();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.ENG_OPERATIONAL_CONFIGURATION_SEARCH;\r\n  }\r\n\r\n  // To bind dropdown family variant\r\n  private loadfamilyVariant(): void {\r\n    this.functionalLocationSearchService.findBireVariantVersionsByFamilyFunctionAlternative().subscribe((results) => {\r\n      const list: LabelValue<string>[] = [];\r\n      results.forEach((element) => {\r\n        list.push(element.labelValue);\r\n      });\r\n      this.familyVariants = list || [];\r\n    });\r\n  }\r\n\r\n  // To bind dropdown function\r\n  private loadFlFunction(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.ITEM_FAMILY_CODE_MAP).subscribe((results) => {\r\n      this.flFunctions = results || [];\r\n    });\r\n  }\r\n\r\n  private loadFlStatusList(): void {\r\n    this.propertiesService.getValue(GenericPropertyConstants.FLOC_STATUS_MAP).subscribe((results) => {\r\n      this.flStatusList = results || [];\r\n    });\r\n  }\r\n\r\n  public showDialog() {\r\n    this.displayModelPopin = true;\r\n    this.searchObject = this.searchObject;\r\n  }\r\n\r\n  /*\r\n     <summary>Set selected customer code in corresponding input box</summary>\r\n     */\r\n\r\n  public ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.displayComponentContext('global.search', true);\r\n  }\r\n\r\n  private initResultsTableDataSource(): void {\r\n    this.resultsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'flCode',\r\n          translateKey: this.getTranslateKey('flCode')\r\n        },\r\n        {\r\n          field: 'familyVariantLabel',\r\n          translateKey: this.getTranslateKey('familyVariantCode')\r\n        },\r\n        {\r\n          field: 'flDescription',\r\n          translateKey: this.getTranslateKey('flDescription')\r\n        },\r\n        {\r\n          field: 'statusStateLabel',\r\n          translateKey: this.getTranslateKey('statusState')\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public resetSearchCriteria(): void {\r\n    this.searchObject = {\r\n      bidoFlDTOCriteria: {},\r\n      familyVariantCode: undefined\r\n    };\r\n    this.loadfamilyVariant();\r\n  }\r\n\r\n  /* Search functional location */\r\n  public search(): void {\r\n    this.loadFunctionalLocations();\r\n  }\r\n\r\n  // To bind the table function locations\r\n  private loadFunctionalLocations(): void {\r\n    this.searchObject.bidoFlDTOCriteria.flIsOpeConf = true;\r\n    const criteria: FindBidoFlsBySearchCriteriaInput = {\r\n      bidoFlDTOCriteria: this.searchObject.bidoFlDTOCriteria,\r\n      familyVariantCode: this.familyVariantCode ? [this.familyVariantCode] : undefined\r\n    };\r\n\r\n    this.operationalConfigurationSearchService.searchOperationalConfigurationList(criteria).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          const rows = results.list.map(\r\n            (result): OperationalConfigurationRow => ({\r\n              bidoFlDTO: result.bidoFlDTO,\r\n              flCode: result.bidoFlDTO ? result.bidoFlDTO.flCode : '',\r\n              flDescription: result.bidoFlDTO ? result.bidoFlDTO.flDescription : '',\r\n              familyVariantCode: result.familyVariantCode,\r\n              familyVariantLabel: LabelValueHelper.getLabelByValue(this.familyVariants, result.familyVariantCode),\r\n              statusStateLabel: LabelValueHelper.getLabelByValue(\r\n                this.flStatusList,\r\n                (result.bidoFlDTO || {}).statusState\r\n              )\r\n            })\r\n          );\r\n          this.resultsTableDataSource.setData(rows);\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnGetFLResults'));\r\n      }\r\n    );\r\n  }\r\n\r\n  public openOperationalconfigurationLink(functionLocation: BidoFlDTO) {\r\n    if (functionLocation) {\r\n      const matchingFlFunction = this.flFunctions.find(\r\n        (flFunction) => flFunction.label === functionLocation.flFunction\r\n      );\r\n      const selectedObjectId: BidoFlDTO = {\r\n        flCode: functionLocation.flCode,\r\n        flDescription: functionLocation.flDescription,\r\n        flFunction: matchingFlFunction ? matchingFlFunction.value : undefined,\r\n        flIsMel: functionLocation.flIsMel,\r\n        flNominalQuantity: functionLocation.flNominalQuantity,\r\n        flRequiredQuantity: functionLocation.flRequiredQuantity,\r\n        flComments: functionLocation.flComments,\r\n        flDelayCategory: functionLocation.flDelayCategory\r\n      };\r\n      this.openOperationalconfiguration(selectedObjectId, ComponentOpenMode.Read);\r\n    }\r\n  }\r\n\r\n  /* Open Functional Location form for selected rows in consult mode */\r\n  public openSelectedOperationalconfiguration(): void {\r\n    this.resultsTableDataSource.dataSelection.forEach((opConfigRow) => {\r\n      if (opConfigRow && opConfigRow.bidoFlDTO) {\r\n        const selectedObjectId: BidoFlDTO = { ...opConfigRow.bidoFlDTO };\r\n        this.openOperationalconfiguration(selectedObjectId, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Delete selected functional location */\r\n  public deleteSelectedOperationalConfiguration(): void {\r\n    if (this.resultsTableDataSource.hasDataSelection) {\r\n      this.confirmationService.confirmDelete({\r\n        messageKey: 'global.deleteConfirmationMsg',\r\n        accept: () => {\r\n          const selectedBireFunctionalLocationDTOId = new Array<BidoFlDTOId>();\r\n          this.resultsTableDataSource.dataSelection.forEach((opConfigRow) => {\r\n            if (opConfigRow && opConfigRow.bidoFlDTO) {\r\n              const flCode = opConfigRow.bidoFlDTO.flCode;\r\n              if (!!flCode) {\r\n                const bireFunctionalLocationDTOId: BidoFlDTOId = {\r\n                  flCode\r\n                };\r\n                selectedBireFunctionalLocationDTOId.push(bireFunctionalLocationDTOId);\r\n              } else {\r\n                super.throwUnboundLocalError('deleteSelectedOperationalConfiguration', 'functionLocation.flCode');\r\n              }\r\n            }\r\n          });\r\n          this.functionalLocationSearchService.removeFunctionalLocation(selectedBireFunctionalLocationDTOId).subscribe(\r\n            (result) => {\r\n              this.messageService.showSuccessMessage('global.deleteSuccessMsg');\r\n            },\r\n            () => {\r\n              this.messageService.showErrorMessage('global.deleteErrorMsg');\r\n            }\r\n          );\r\n\r\n          this.resultsTableDataSource.deleteDataSelection();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public exportTable(): void {\r\n    if (!!this.componentData) {\r\n      this.exportService.toExcel(\r\n        this.resultsTableDataSource.sanitizedData.map((opConfRow) => ({\r\n          familyVariant: opConfRow.familyVariantLabel,\r\n          flDescription: opConfRow.bidoFlDTO ? opConfRow.bidoFlDTO.flDescription : undefined,\r\n          statusState: opConfRow.statusStateLabel\r\n        })),\r\n        this.resultsTableExportName,\r\n        this.componentData.componentId\r\n      );\r\n    } else {\r\n      super.throwUnboundLocalError('exportTable', 'this.componentData');\r\n    }\r\n  }\r\n\r\n  // To open create popup for function location\r\n  public openNewFunctionalLocation(): void {\r\n    this.openOperationalconfiguration(undefined, ComponentOpenMode.Create);\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  private openOperationalconfiguration(objectId: any | null, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_OPERATIONAL_CONFIGURATION_FORM,\r\n      objectId: objectId != undefined ? this.serializationService.serialize(objectId) : undefined,\r\n      openMode\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    this.resultsTableDataSource.dataSelection = [];\r\n  }\r\n\r\n  public resetFilter(): void {\r\n    this.globalFilterTxt = undefined;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { FindBidoFlsBySearchCriteriaInput } from '../../../../shared/types/api-input-types/fleet-management/find-bido-fls-by-search-criteria-input.interface';\r\nimport { OperationalConfigurationOutputDTO } from '../../../../shared/types/api-output-types/fleet-management/operational-configuration-output-dto';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\n\r\n@Injectable()\r\nexport class OperationalConfigurationSearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public searchOperationalConfigurationList(\r\n    criteria: FindBidoFlsBySearchCriteriaInput\r\n  ): Observable<SearchResultsDTO<OperationalConfigurationOutputDTO>> {\r\n    return super.post<FindBidoFlsBySearchCriteriaInput, SearchResultsDTO<OperationalConfigurationOutputDTO>>(\r\n      this.fleetManagementApi.findOperationalConfigurationBySearchCriteria,\r\n      criteria\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { BidtEmployeeApi } from '../../../../shared/api/bidt-employee.api';\r\nimport { FleetBusinessApi } from '../../../../shared/api/fleet-business.api';\r\nimport { FleetManagementApi } from '../../../../shared/api/fleet-management.api';\r\nimport { AbstractAwHttpService } from '../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../shared/services/app-config.service';\r\nimport { GenerateFlightLogbookPdfInput } from '../../../../shared/types/api-input-types/fleet-business/generate-flight-logbook-pdf-input.interface';\r\nimport { FindAllBidoMissionEquipmentByCriteriaInput } from '../../../../shared/types/api-input-types/fleet-management/find-all-bido-mission-equipment-by-criteria-input.interface';\r\nimport { FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput } from '../../../../shared/types/api-input-types/fleet-management/find-replenishment-by-mission-equipment-and-type-and-equipment-code-input.interface';\r\nimport { BidoMissionEquipmentLWO } from '../../../../shared/types/api-output-types/fleet-management/bido-mission-equipment-lwo.interface';\r\nimport { BidoCustomerDTO } from '../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoMissionEquipmentDTOId } from '../../../../shared/types/api-types/bido-mission-equipment-dto-id.interface';\r\nimport { BidoReplenishmentDTO } from '../../../../shared/types/api-types/bido-replenishment-dto.interface';\r\nimport { BidtEmployeeDTO } from '../../../../shared/types/api-types/bidt-employee-dto.interface';\r\nimport { FileContentDTO } from '../../../../shared/types/api-types/file-content-dto.interface';\r\nimport { SearchResultsDTO } from '../../../../shared/types/api-types/search-results-dto.interface';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class SearchService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly bidtEmployeeApi: BidtEmployeeApi,\r\n    private readonly fleetBusinessApi: FleetBusinessApi,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Bidt employee api\r\n   *************************************************************************/\r\n\r\n  public findAllEmployeeByQualificationCode(qualificationCode: string): Observable<BidtEmployeeDTO[]> {\r\n    return super.post<string, BidtEmployeeDTO[]>(\r\n      this.bidtEmployeeApi.findAllEmployeeByQualificationCode,\r\n      qualificationCode\r\n    );\r\n  }\r\n  public findAllBidoCustomerBySearchCriteria(input: BidoCustomerDTO): Observable<BidoCustomerDTO[]> {\r\n    return super.post<BidoCustomerDTO, BidoCustomerDTO[]>(\r\n      this.fleetManagementApi.findAllBidoCustomerBySearchCriteria,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet business api\r\n   *************************************************************************/\r\n\r\n  public generateFlightLogbookPDF(input: GenerateFlightLogbookPdfInput): Observable<FileContentDTO> {\r\n    return super.post<GenerateFlightLogbookPdfInput, FileContentDTO>(\r\n      this.fleetBusinessApi.generateFlightLogbookPDF,\r\n      input\r\n    );\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet management api\r\n   *************************************************************************/\r\n\r\n  public findAllBidoMissionEquipmentByCriteria(\r\n    criteria: FindAllBidoMissionEquipmentByCriteriaInput\r\n  ): Observable<SearchResultsDTO<BidoMissionEquipmentLWO>> {\r\n    return super.post<FindAllBidoMissionEquipmentByCriteriaInput, SearchResultsDTO<BidoMissionEquipmentLWO>>(\r\n      this.fleetManagementApi.findAllBidoMissionEquipmentLwoByCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public findEquipmentEngineListByEquipmentCode(input: string): Observable<BidoEquipmentDTO[]> {\r\n    return super.post<string, BidoEquipmentDTO[]>(\r\n      this.fleetManagementApi.findEquipmentEngineListByEquipmentCode,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findReplenishmentByMissionEquipmentAndTypeAndEquipmentCode(\r\n    input: FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput\r\n  ): Observable<BidoReplenishmentDTO> {\r\n    return super.post<FindReplenishmentByMissionEquipmentAndTypeAndEquipmentCodeInput, BidoReplenishmentDTO>(\r\n      this.fleetManagementApi.findReplenishmentByMissionEquipmentAndTypeAndEquipmentCode,\r\n      input\r\n    );\r\n  }\r\n\r\n  public getSourceSystemIdList(): Observable<LabelValue<String>[]> {\r\n    return super.post<void, LabelValue<String>[]>(this.fleetManagementApi.getSourceSystemIdList);\r\n  }\r\n\r\n  public getEquipmentRepresentation(input: BidoEquipmentDTO): Observable<string> {\r\n    return super.post<BidoEquipmentDTO, string>(this.fleetManagementApi.getEquipmentRepresentation, input);\r\n  }\r\n\r\n  public removeBidoMissionEquipment(input: BidoMissionEquipmentDTOId[]): Observable<void> {\r\n    return super.post<BidoMissionEquipmentDTOId[], void>(this.fleetManagementApi.removeBidoMissionEquipment, input);\r\n  }\r\n}\r\n","import { ConnectedPosition, Overlay, OverlayConfig, PositionStrategy } from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { Injectable, Injector, Type } from '@angular/core';\r\n\r\nimport { OverlayRef } from './overlay-ref';\r\nimport { OverlayComponent } from './overlay.component';\r\n\r\nexport interface OverlayParams {\r\n  content: Type<unknown>;\r\n  data?: unknown;\r\n  hasBackdrop?: boolean;\r\n  hasVisibleBackdrop?: boolean;\r\n  height?: number | string;\r\n  width?: number | string;\r\n}\r\n\r\nexport interface OverlayWithGlobalPositionParams extends OverlayParams {\r\n  positions: { bottom?: string; left?: string; right?: string; top?: string };\r\n}\r\n\r\nexport interface OverlayWithRelativePositionParams extends OverlayParams {\r\n  origin: HTMLElement;\r\n  positions?: ConnectedPosition[];\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OverlayService {\r\n  public constructor(private readonly _injector: Injector, private readonly _overlay: Overlay) {}\r\n\r\n  // //////////////////////////////////////////////////////////////////////////\r\n\r\n  public openWithPositionAbsolute<T>(params: OverlayWithGlobalPositionParams): OverlayRef<T> {\r\n    return this.open(params, this.getConfig(params, this.getPositionAbsolute(params)));\r\n  }\r\n\r\n  public openWithPositionCenter<T>(params: OverlayParams): OverlayRef<T> {\r\n    return this.open(\r\n      params,\r\n      this.getConfig(\r\n        { ...params, hasVisibleBackdrop: params.hasVisibleBackdrop !== undefined ? params.hasVisibleBackdrop : true },\r\n        this.getPositionCenter()\r\n      )\r\n    );\r\n  }\r\n\r\n  public openWithPositionRelative<T>(params: OverlayWithRelativePositionParams): OverlayRef<T> {\r\n    return this.open(params, this.getConfig(params, this.getPositionRelative(params)));\r\n  }\r\n\r\n  // //////////////////////////////////////////////////////////////////////////\r\n\r\n  private createInjector<T>(overlayRef: OverlayRef<T>, injector: Injector): PortalInjector {\r\n    const tokens = new WeakMap([[OverlayRef, overlayRef]]);\r\n\r\n    return new PortalInjector(injector, tokens);\r\n  }\r\n\r\n  private getConfig(params: OverlayParams, positionStrategy: PositionStrategy): OverlayConfig {\r\n    const hasBackdrop = params.hasBackdrop !== undefined ? params.hasBackdrop : true;\r\n\r\n    return new OverlayConfig({\r\n      hasBackdrop,\r\n      positionStrategy,\r\n      backdropClass: hasBackdrop && params.hasVisibleBackdrop ? 'cdk-overlay-dark-backdrop' : '',\r\n      height: params.height,\r\n      scrollStrategy: this._overlay.scrollStrategies.reposition(),\r\n      width: params.width\r\n    });\r\n  }\r\n\r\n  private getPositionAbsolute(params: OverlayWithGlobalPositionParams): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .global()\r\n      .bottom(params.positions.bottom)\r\n      .left(params.positions.left)\r\n      .right(params.positions.right)\r\n      .top(params.positions.top);\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private getPositionCenter(): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .global()\r\n      .centerHorizontally()\r\n      .centerVertically();\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private getPositionRelative(params: OverlayWithRelativePositionParams): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .flexibleConnectedTo(params.origin)\r\n      .withPositions(params.positions || [])\r\n      .withFlexibleDimensions(false)\r\n      .withPush(false);\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private open<T>(params: OverlayParams, overlayConfig: OverlayConfig): OverlayRef<T> {\r\n    const cdkOverlayRef = this._overlay.create(overlayConfig);\r\n    const overlayRef = new OverlayRef<T>(cdkOverlayRef, params.content, params.data);\r\n\r\n    const injector = this.createInjector(overlayRef, this._injector);\r\n    cdkOverlayRef.attach(new ComponentPortal(OverlayComponent, undefined, injector));\r\n\r\n    return overlayRef;\r\n  }\r\n}\r\n"],"sourceRoot":""}