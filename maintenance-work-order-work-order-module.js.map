{"version":3,"sources":["webpack:///./node_modules/primeng/chart.js","webpack:///./node_modules/primeng/inputtextarea.js","webpack:///./node_modules/primeng/splitbutton.js","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-edit-duration/dialog-edit-duration.component.html","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-edit-duration/dialog-edit-duration.component.ts","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-import-work-order-document/dialog-import-work-order-document.component.html","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-import-work-order-document/dialog-import-work-order-document.component.ts","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-job-card-time-tracking-entries/dialog-job-card-time-tracking-entries.component.html","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-job-card-time-tracking-entries/dialog-job-card-time-tracking-entries.component.scss","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-job-card-time-tracking-entries/dialog-job-card-time-tracking-entries.component.ts","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-operation-check/dialog-operation-check-form.component.html","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-operation-check/dialog-operation-check-form.component.scss","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-operation-check/dialog-operation-check-form.component.ts","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-postponement/dialog-postponement-form.component.html","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-postponement/dialog-postponement-form.component.scss","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-postponement/dialog-postponement-form.component.ts","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-stakeholder/dialog-stakeholder.component.html","webpack:///./src/app/main/maintenance/work-order/form/popups/dialog-stakeholder/dialog-stakeholder.component.ts","webpack:///./src/app/main/maintenance/work-order/form/popups/last-update/wo-last-update-popup.component.html","webpack:///./src/app/main/maintenance/work-order/form/popups/last-update/wo-last-update-popup.component.scss","webpack:///./src/app/main/maintenance/work-order/form/popups/last-update/wo-last-update-popup.component.ts","webpack:///./src/app/main/maintenance/work-order/form/popups/last-update/wo-last-update-popup.module.ts","webpack:///./src/app/main/maintenance/work-order/form/work-order-form.component.html","webpack:///./src/app/main/maintenance/work-order/form/work-order-form.component.scss","webpack:///./src/app/main/maintenance/work-order/form/work-order-form.component.ts","webpack:///./src/app/main/maintenance/work-order/work-order.module.ts","webpack:///./src/app/main/maintenance/work-package/form/popups/dialog-work-order-edition/dialog-work-order-edition.service.ts","webpack:///./src/app/main/overlay/overlay.service.ts","webpack:///./src/app/shared/components/dialog-update-logbook/dialog-update-logbook.component.ts","webpack:///./src/app/shared/components/dialog-update-logbook/dialog-update-logbook.html","webpack:///./src/app/shared/constants/bidm-attribute-constants.ts","webpack:///./src/app/shared/utils/bidm-document-utils.ts","webpack:///./src/app/shared/utils/bidm-work-order-utils.ts","webpack:///./src/app/shared/utils/bido-equipment-utils.ts"],"names":[],"mappings":"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","file":"maintenance-work-order-work-order-module.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/chart/chart\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/inputtextarea/inputtextarea\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/splitbutton/splitbutton\"));","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div>\\r\\n      <b>{{ getComponentName() + \\\".currentPerformedDuration\\\" | translate }}:</b> {{ existingDuration }}\\r\\n    </div>\\r\\n    <div>\\r\\n      <b>{{ getComponentName() + \\\".currentElapsedTime\\\" | translate }}:</b> {{ existingElapsed }}\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group required\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".performedDuration\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-calendar\\r\\n          showButtonBar=\\\"true\\\"\\r\\n          [monthNavigator]=\\\"true\\\"\\r\\n          [yearNavigator]=\\\"true\\\"\\r\\n          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n          showTime=\\\"true\\\"\\r\\n          [timeOnly]=\\\"true\\\"\\r\\n          showSeconds=\\\"true\\\"\\r\\n          [(ngModel)]=\\\"performedDuration\\\"\\r\\n          class=\\\"aw-calendar\\\"\\r\\n          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n          (onBlur)=\\\"calculateElapsed()\\\"\\r\\n        ></p-calendar>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"form-group required\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".elapsedTime\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <p-calendar\\r\\n          showButtonBar=\\\"true\\\"\\r\\n          [monthNavigator]=\\\"true\\\"\\r\\n          [yearNavigator]=\\\"true\\\"\\r\\n          [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n          showTime=\\\"true\\\"\\r\\n          [timeOnly]=\\\"true\\\"\\r\\n          showSeconds=\\\"true\\\"\\r\\n          class=\\\"aw-calendar\\\"\\r\\n          [(ngModel)]=\\\"elapsedTime\\\"\\r\\n          appendTo=\\\"body\\\"\\r\\n          [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n          [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n          [disabled]=\\\"isReadOpenMode\\\"\\r\\n        ></p-calendar>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\n\r\ninterface DurationInterface {\r\n  performedDuration?: Date;\r\n  elapsedTime?: Date;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-edit-duration',\r\n  templateUrl: './dialog-edit-duration.component.html'\r\n})\r\nexport class DialogEditDurationComponent extends DialogComponent {\r\n  @Input()\r\n  public existingDuration: string;\r\n\r\n  @Input()\r\n  public existingElapsed: string;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<DurationInterface>;\r\n\r\n  public duration: DurationInterface;\r\n  public performedDuration: Date;\r\n  public elapsedTime: Date;\r\n\r\n  public constructor(public readonly sessionService: SessionService) {\r\n    super(ComponentOpenMode.Write, 'DialogEditDurationComponent');\r\n    this.onValidated = new EventEmitter<DurationInterface>();\r\n\r\n    this.resetDuration();\r\n  }\r\n\r\n  private resetDuration() {\r\n    const date = new Date();\r\n    date.setHours(0);\r\n    date.setMinutes(0);\r\n    date.setSeconds(0);\r\n\r\n    this.performedDuration = date;\r\n    this.elapsedTime = date;\r\n  }\r\n\r\n  public validate(): void {\r\n    if (!!this.elapsedTime && !!this.performedDuration) {\r\n      this.duration = {\r\n        elapsedTime: this.elapsedTime,\r\n        performedDuration: this.performedDuration\r\n      };\r\n\r\n      this.onValidated.emit(this.duration);\r\n      this.closeDialog();\r\n    }\r\n  }\r\n\r\n  public calculateElapsed() {\r\n    const cloneElapsed = this.elapsedTime;\r\n\r\n    if (!!this.performedDuration && !!cloneElapsed) {\r\n      if (!!cloneElapsed && this.performedDuration.getHours() > cloneElapsed.getHours()) {\r\n        cloneElapsed.setHours(this.performedDuration.getHours());\r\n      }\r\n\r\n      if (!!cloneElapsed && this.performedDuration.getMinutes() > cloneElapsed.getMinutes()) {\r\n        cloneElapsed.setMinutes(this.performedDuration.getMinutes());\r\n      }\r\n\r\n      if (!!cloneElapsed && this.performedDuration.getSeconds() > cloneElapsed.getSeconds()) {\r\n        cloneElapsed.setSeconds(this.performedDuration.getSeconds());\r\n      }\r\n\r\n      this.elapsedTime = new Date(cloneElapsed);\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".docManagement\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docName\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control form-control-with-modal\\\">\\r\\n          <div class=\\\"form-control-data\\\">\\r\\n            {{ woDocument.documentName }}\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"btn-file-upload-wrapper\\\">\\r\\n            <p-fileUpload\\r\\n              #fileUploader\\r\\n              class=\\\"aw-fileupload\\\"\\r\\n              name=\\\"document[]\\\"\\r\\n              customUpload=\\\"true\\\"\\r\\n              mode=\\\"basic\\\"\\r\\n              auto=\\\"true\\\"\\r\\n              chooseLabel=\\\"\\\"\\r\\n              (uploadHandler)=\\\"uploadDocument($event, fileUploader)\\\"\\r\\n            ></p-fileUpload>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docSource\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"woDocument.documentSource\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docPublicationDate\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [(ngModel)]=\\\"woDocument.documentPublicationDate\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">{{ getComponentName() + \\\".docDescription\\\" | translate }}</label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <textarea\\r\\n            class=\\\"aw-textarea\\\"\\r\\n            [rows]=\\\"3\\\"\\r\\n            pInputTextarea\\r\\n            [(ngModel)]=\\\"woDocument.documentDescription\\\"\\r\\n          ></textarea>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      mat-raised-button\\r\\n      color=\\\"primary\\\"\\r\\n      (click)=\\\"validate()\\\"\\r\\n      [disabled]=\\\"!woDocument.documentContent && !woDocument.documentSource\\\"\\r\\n    >\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { FileUpload } from 'primeng/fileupload';\r\n\r\nimport { ComponentConstants } from '../../../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { BidmDocumentDTO } from '../../../../../../shared/types/api-types/bidm-document-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { BidmDocumentUtils } from '../../../../../../shared/utils/bidm-document-utils';\r\nimport { FileUtils } from '../../../../../../shared/utils/file-utils';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-import-work-order-document',\r\n  templateUrl: './dialog-import-work-order-document.component.html'\r\n})\r\nexport class DialogImportWorkOrderDocumentComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public openMode: ComponentOpenMode;\r\n\r\n  @Input()\r\n  public woDocument: BidmDocumentDTO;\r\n\r\n  @Input()\r\n  public woDocumentList: BidmDocumentDTO[];\r\n\r\n  @Input()\r\n  public workOrder: BidmWorkOrderDTO;\r\n\r\n  @Output()\r\n  public onUpdatedWODoc: EventEmitter<BidmDocumentDTO>;\r\n\r\n  @Output()\r\n  public onAddedWODoc: EventEmitter<BidmDocumentDTO>;\r\n\r\n  public readonly componentId: string;\r\n  public displayValue: boolean;\r\n  public types: LabelValue<string>[];\r\n\r\n  public constructor(public readonly sessionService: SessionService, public messageService: MessageService) {\r\n    super(ComponentOpenMode.Write, ComponentConstants.MAI_DIALOG_IMPORT_ORDER_DOCUMENT);\r\n\r\n    this.onAddedWODoc = new EventEmitter<BidmDocumentDTO>();\r\n    this.onUpdatedWODoc = new EventEmitter<BidmDocumentDTO>();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_DIALOG_IMPORT_ORDER_DOCUMENT;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.updateOpenMode(this.openMode);\r\n    if (this.openMode === ComponentOpenMode.Create) {\r\n      this.woDocument = {};\r\n    }\r\n  }\r\n\r\n  public validate(): void {\r\n    if (this.openMode === ComponentOpenMode.Create) {\r\n      this.onAddedWODoc.emit(this.woDocument);\r\n    } else {\r\n      this.onUpdatedWODoc.emit(this.woDocument);\r\n    }\r\n    this.closeDialog();\r\n  }\r\n\r\n  public uploadDocument(event: { files: File[] }, fileUploader: FileUpload): void {\r\n    if (!!event.files) {\r\n      const file: File = event.files[0];\r\n\r\n      // Check if the file already exists\r\n      const fileExists = this.woDocumentList.some((document) => document.documentName === file.name);\r\n      if (fileExists) {\r\n        this.messageService.showWarningMessage('global.warningOnFileExists');\r\n      } else {\r\n        FileUtils.getFileContentAsBase64(file, (fileContent) => {\r\n          if (!!fileContent) {\r\n            this.woDocument = {\r\n              bidProjectId: this.workOrder.projectId,\r\n              woId: this.workOrder.woId,\r\n              documentCode: file.name,\r\n              documentName: file.name,\r\n              documentContent: fileContent,\r\n              documentDescription: this.woDocument.documentDescription,\r\n              documentType: BidmDocumentUtils.typeFile(file.name),\r\n              documentPublicationDate: moment().toDate(),\r\n              statusState: this.workOrder.statusState,\r\n              statusUser: this.workOrder.statusUser,\r\n              statusDate: this.workOrder.statusDate\r\n            };\r\n          }\r\n        });\r\n      }\r\n\r\n      fileUploader.clear();\r\n    }\r\n  }\r\n\r\n  public closeDialog(): void {\r\n    this.display = false;\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section results-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.results\\\" | translate }} ({{ resultList ? resultList.length : 0 }})</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            #ptable\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"resultsTableCols\\\"\\r\\n            [value]=\\\"resultList\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!resultsTableLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"resultsTableLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    #ptableGlobalFilter\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th\\r\\n                  pResizableColumn\\r\\n                  *ngFor=\\\"let col of columns\\\"\\r\\n                  [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                >\\r\\n                  {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td\\r\\n                  *ngFor=\\\"let col of columns\\\"\\r\\n                  [ngSwitch]=\\\"col.field\\\"\\r\\n                  [ngStyle]=\\\"{ 'text-align': col.alignment, width: col.width }\\\"\\r\\n                >\\r\\n                  <span *ngSwitchCase=\\\"'status'\\\">\\r\\n                    <i\\r\\n                      *ngIf=\\\"rowData['isInDB']\\\"\\r\\n                      class=\\\"fa fa-fw fa-clock-o\\\"\\r\\n                      aria-hidden=\\\"true\\\"\\r\\n                      (click)=\\\"updateEntry(rowData)\\\"\\r\\n                    ></i>\\r\\n                    <i\\r\\n                      *ngIf=\\\"!rowData['isInDB']\\\"\\r\\n                      class=\\\"fa fa-fw fa-save\\\"\\r\\n                      aria-hidden=\\\"true\\\"\\r\\n                      (click)=\\\"updateEntry(rowData)\\\"\\r\\n                    ></i>\\r\\n                  </span>\\r\\n                  <span *ngSwitchCase=\\\"'isEditable'\\\">\\r\\n                    <i\\r\\n                      *ngIf=\\\"rowData[col.field]\\\"\\r\\n                      class=\\\"fa fa-fw fa-edit  custom-icon\\\"\\r\\n                      aria-hidden=\\\"true\\\"\\r\\n                      (click)=\\\"updateEntry(rowData)\\\"\\r\\n                    ></i>\\r\\n                  </span>\\r\\n                  <span *ngSwitchCase=\\\"'isDelete'\\\">\\r\\n                    <i\\r\\n                      *ngIf=\\\"rowData[col.field]\\\"\\r\\n                      class=\\\"fa fa-fw fa-trash custom-icon\\\"\\r\\n                      aria-hidden=\\\"true\\\"\\r\\n                      (click)=\\\"deleteEntry(rowData)\\\"\\r\\n                    ></i>\\r\\n                  </span>\\r\\n\\r\\n                  <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n    <button\\r\\n      type=\\\"button\\\"\\r\\n      class=\\\"btn-with-spinner\\\"\\r\\n      color=\\\"primary\\\"\\r\\n      mat-raised-button\\r\\n      (click)=\\\"save()\\\"\\r\\n      [disabled]=\\\"resultList.length === 0\\\"\\r\\n    >\\r\\n      <span class=\\\"lds-hourglass\\\" *ngIf=\\\"showSaveSpinner\\\"></span>\\r\\n      {{ \\\"global.save\\\" | translate }}\\r\\n    </button>\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"validate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\\r\\n<aw-dialog-edit-duration\\r\\n  *ngIf=\\\"displayEditDuration\\\"\\r\\n  [existingDuration]=\\\"selectedDuration\\\"\\r\\n  [existingElapsed]=\\\"selectedElapsed\\\"\\r\\n  [(display)]=\\\"displayEditDuration\\\"\\r\\n  (onValidated)=\\\"onValidateDuration($event)\\\"\\r\\n></aw-dialog-edit-duration>\\r\\n\"","module.exports = \":host .custom-icon {\\n  cursor: pointer; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS93b3JrLW9yZGVyL2Zvcm0vcG9wdXBzL2RpYWxvZy1qb2ItY2FyZC10aW1lLXRyYWNraW5nLWVudHJpZXMvRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcbWFpbnRlbmFuY2VcXHdvcmstb3JkZXJcXGZvcm1cXHBvcHVwc1xcZGlhbG9nLWpvYi1jYXJkLXRpbWUtdHJhY2tpbmctZW50cmllc1xcZGlhbG9nLWpvYi1jYXJkLXRpbWUtdHJhY2tpbmctZW50cmllcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLGVBQWUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2Uvd29yay1vcmRlci9mb3JtL3BvcHVwcy9kaWFsb2ctam9iLWNhcmQtdGltZS10cmFja2luZy1lbnRyaWVzL2RpYWxvZy1qb2ItY2FyZC10aW1lLXRyYWNraW5nLWVudHJpZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgLmN1c3RvbS1pY29uIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbn1cclxuIl19 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { ConfirmationService } from '../../../../../../shared/services/confirmation.service';\r\nimport { BidmTimeTrackingByOperationInputDTO } from '../../../../../../shared/types/api-input-types/aircraft-maintenance/bidm-time-tracking-by-operation-input-dto.interface';\r\nimport { BidmTimeTrackingByOperationOutputDTO } from '../../../../../../shared/types/api-input-types/aircraft-maintenance/bidm-time-tracking-by-operation-output-dto.interface';\r\nimport { BidmOperationDTO } from '../../../../../../shared/types/api-types/bidm-operation-dto.interface';\r\nimport { BidmTimeTrackingDTOId } from '../../../../../../shared/types/api-types/bidm-time-tracking-dto-id.interface';\r\nimport { BidmTimeTrackingDTO } from '../../../../../../shared/types/api-types/bidm-time-tracking-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { TableColumn } from '../../../../../../shared/types/table-column.interface';\r\nimport { WorkOrderFormService } from '../../work-order-form.service';\r\n\r\ninterface DurationInterface {\r\n  performedDuration?: Date;\r\n  elapsedTime?: Date;\r\n}\r\n\r\ninterface TimeTrackingOutput {\r\n  durationInterface?: DurationInterface;\r\n  addedBidmTimeTracking?: BidmTimeTrackingByOperationOutputDTO[];\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-job-card-time-tracking-entries',\r\n  templateUrl: './dialog-job-card-time-tracking-entries.component.html',\r\n  styleUrls: ['./dialog-job-card-time-tracking-entries.component.scss']\r\n})\r\nexport class DialogJobCardTimeTrackingEntriesComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public workOrder: BidmWorkOrderDTO;\r\n\r\n  @Input()\r\n  public bidmTimeTrackingList: BidmTimeTrackingByOperationOutputDTO[];\r\n\r\n  @Input()\r\n  public addedBidmTimeTracking: BidmTimeTrackingByOperationOutputDTO[];\r\n\r\n  @Input()\r\n  public selectedOperations: BidmOperationDTO;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<TimeTrackingOutput>;\r\n\r\n  public resultsTableCols: TableColumn[];\r\n  public resultList: BidmTimeTrackingByOperationOutputDTO[];\r\n\r\n  public displayEditDuration: boolean;\r\n  public selectedDuration: string | undefined;\r\n  public selectedElapsed: string | undefined;\r\n  public durationInterface: DurationInterface;\r\n\r\n  private selectedRowIndex: number = -1;\r\n\r\n  public showSaveSpinner: boolean;\r\n\r\n  public constructor(\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly woFormService: WorkOrderFormService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogJobCardTimeTrackingEntriesComponent');\r\n    this.onValidated = new EventEmitter<TimeTrackingOutput>();\r\n\r\n    this.durationInterface = {};\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.resultsTableCols = [\r\n      { field: 'status', alignment: 'center', width: '5%' },\r\n      { field: 'operation', alignment: 'left', width: '10%' },\r\n      { field: 'clockInText', alignment: 'left', width: '15%' },\r\n      { field: 'clockOutText', alignment: 'left', width: '15%' },\r\n      { field: 'durationText', alignment: 'left', width: '15%' },\r\n      { field: 'elapsedText', alignment: 'left', width: '15%' },\r\n      { field: 'isEditable', alignment: 'center', width: '5%' },\r\n      { field: 'performedBy', alignment: 'left', width: '15%' },\r\n      { field: 'isDelete', alignment: 'center', width: '5%' }\r\n    ];\r\n\r\n    this.resultList = [...this.addedBidmTimeTracking, ...this.bidmTimeTrackingList];\r\n  }\r\n\r\n  /**\r\n   * Save operation\r\n   */\r\n  public save() {\r\n    this.showSaveSpinner = true;\r\n    this.woFormService\r\n      .saveBidmTimeTracking(this.resultList)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.showSaveSpinner = false;\r\n        })\r\n      )\r\n      .subscribe((res) => {\r\n        this.addedBidmTimeTracking = [];\r\n        this.fetchTimeTracking();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * API To fetch time tracking list\r\n   */\r\n  private fetchTimeTracking() {\r\n    const input: BidmTimeTrackingByOperationInputDTO = {\r\n      projectId: this.workOrder.projectId as string,\r\n      woId: this.workOrder.woId as string,\r\n      bidmOperationDTO: this.selectedOperations,\r\n      opeCode: this.selectedOperations.bireOpeCode,\r\n      opeVersion: this.selectedOperations.bireOpeVersion\r\n    };\r\n\r\n    this.woFormService.fetchBidmTimeTrackings(input).subscribe((res) => {\r\n      if (!!res) {\r\n        this.resultList = res;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Delete time Tracking entry\r\n   */\r\n  public deleteEntry(rowData: BidmTimeTrackingByOperationOutputDTO) {\r\n    this.confirmationService.confirm({\r\n      messageKey: this.getTranslateKey('confirmDeleteSelectedTime'),\r\n      accept: () => {\r\n        if (!!rowData.bidmTimeTrackingDTO) {\r\n          if (!!rowData.bidmTimeTrackingDTO.timeTrackingId) {\r\n            const bidmTimeTrackingDTOId: BidmTimeTrackingDTOId = {\r\n              timeTrackingId: rowData.bidmTimeTrackingDTO.timeTrackingId\r\n            };\r\n\r\n            this.woFormService.removeBidmTimeTracking(bidmTimeTrackingDTOId).subscribe((res) => {\r\n              if (!!rowData.bidmTimeTrackingDTO) {\r\n                const id = rowData.bidmTimeTrackingDTO.timeTrackingId as string;\r\n                const index = this.resultList.findIndex(\r\n                  (row) => !!row.bidmTimeTrackingDTO && row.bidmTimeTrackingDTO.timeTrackingId === id\r\n                );\r\n                this.resultList.splice(index, 1);\r\n              }\r\n            });\r\n          } else {\r\n            this.spliceEntry(rowData);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private spliceEntry(rowData: BidmTimeTrackingByOperationOutputDTO) {\r\n    const index = this.resultList.findIndex(\r\n      (res) =>\r\n        res.operation === rowData.operation &&\r\n        res.durationText === rowData.durationText &&\r\n        res.elapsedText === rowData.elapsedText\r\n    );\r\n    this.resultList.splice(index, 1);\r\n\r\n    const addedIndex = this.addedBidmTimeTracking.findIndex(\r\n      (res) =>\r\n        res.operation === rowData.operation &&\r\n        res.durationText === rowData.durationText &&\r\n        res.elapsedText === rowData.elapsedText\r\n    );\r\n    if (!!addedIndex) {\r\n      this.addedBidmTimeTracking.splice(addedIndex, 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update time tracking entry\r\n   */\r\n  public updateEntry(rowData: BidmTimeTrackingByOperationOutputDTO) {\r\n    if (!!rowData.bidmTimeTrackingDTO && !!rowData.bidmTimeTrackingDTO.timeTrackingId) {\r\n      this.selectedRowIndex = this.resultList.findIndex(\r\n        (res) =>\r\n          !!res.bidmTimeTrackingDTO &&\r\n          res.bidmTimeTrackingDTO.timeTrackingId === (rowData.bidmTimeTrackingDTO as BidmTimeTrackingDTO).timeTrackingId\r\n      );\r\n    } else {\r\n      this.selectedRowIndex = this.resultList.findIndex(\r\n        (res) =>\r\n          res.operation === rowData.operation &&\r\n          res.durationText === rowData.durationText &&\r\n          res.elapsedText === rowData.elapsedText\r\n      );\r\n    }\r\n\r\n    this.selectedDuration = rowData.durationText;\r\n    this.selectedElapsed = rowData.elapsedText;\r\n\r\n    this.displayEditDuration = true;\r\n  }\r\n\r\n  public onValidateDuration(ev: DurationInterface) {\r\n    if (!!ev.performedDuration && !!ev.elapsedTime) {\r\n      const TIME = 60;\r\n      const NUM = 1000;\r\n      const pHour = ev.performedDuration.getHours();\r\n      const pMin = ev.performedDuration.getMinutes();\r\n      const pSec = ev.performedDuration.getSeconds();\r\n\r\n      const eHour = ev.elapsedTime.getHours();\r\n      const eMin = ev.elapsedTime.getMinutes();\r\n      const eSec = ev.elapsedTime.getSeconds();\r\n\r\n      const newDuration = (pHour * TIME * TIME + pMin * TIME + pSec) * NUM;\r\n      const newElapsed = (eHour * TIME * TIME + eMin * TIME + eSec) * NUM;\r\n\r\n      this.resultList[this.selectedRowIndex].durationText = this.timeToDisplay(newDuration);\r\n      this.resultList[this.selectedRowIndex].elapsedText = this.timeToDisplay(newElapsed);\r\n      this.durationInterface.elapsedTime = ev.elapsedTime;\r\n      this.durationInterface.performedDuration = ev.performedDuration;\r\n    }\r\n  }\r\n\r\n  public timeToDisplay(millisecond: number): string {\r\n    const secondInmillisecond = 1000;\r\n    const hourInSecond = 3600;\r\n    const minuteInSecond = 60;\r\n    const secondModulo = 60;\r\n    const check = 10;\r\n    const second = Math.floor(millisecond / secondInmillisecond);\r\n    const hours = Math.floor(second / hourInSecond);\r\n    const minutes = Math.floor((second - hours * hourInSecond) / minuteInSecond);\r\n    const seconds = second % secondModulo;\r\n    let minutesDisplay: string = minutes.toString();\r\n    let secondsDisplay: string = seconds.toString();\r\n\r\n    if (minutes < check || seconds < check) {\r\n      if (minutes < check) {\r\n        minutesDisplay = `0${minutes}`;\r\n      }\r\n      if (seconds < check) {\r\n        secondsDisplay = `0${seconds}`;\r\n      }\r\n      const displayLessTen = `${hours}:${minutesDisplay}:${secondsDisplay}`;\r\n\r\n      return displayLessTen;\r\n    }\r\n\r\n    const display = `${hours}:${minutesDisplay}:${secondsDisplay}`;\r\n\r\n    return display;\r\n  }\r\n\r\n  /**\r\n   * Validate Operation\r\n   */\r\n  public validate(): void {\r\n    this.woFormService\r\n      .saveBidmTimeTracking(this.resultList)\r\n      .pipe(\r\n        finalize(() => {\r\n          this.showSaveSpinner = false;\r\n        })\r\n      )\r\n      .subscribe((res) => {\r\n        this.addedBidmTimeTracking = [];\r\n        const output: TimeTrackingOutput = {\r\n          addedBidmTimeTracking: this.addedBidmTimeTracking,\r\n          durationInterface: this.durationInterface\r\n        };\r\n\r\n        this.onValidated.emit(output);\r\n        this.closeDialog();\r\n      });\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\n  <a-header>\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".operationValidation\\\" | translate }}</div>\\n  </a-header>\\n\\n  <a-content>\\n    <div class=\\\"form-group required\\\">\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".validationStatus\\\" | translate }}</label>\\n\\n      <div class=\\\"form-control\\\">\\n        <p-selectButton [(ngModel)]=\\\"isValid\\\" [options]=\\\"validationList\\\"></p-selectButton>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"form-group required\\\">\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".comment\\\" | translate }}</label>\\n\\n      <div class=\\\"form-control\\\">\\n        <textarea class=\\\"aw-textarea\\\" [rows]=\\\"5\\\" pInputTextarea [(ngModel)]=\\\"comment\\\"></textarea>\\n      </div>\\n    </div>\\n  </a-content>\\n\\n  <a-footer>\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\n    </button>\\n\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button [disabled]=\\\"showValidate()\\\" (click)=\\\"validate()\\\">\\n      {{ \\\"global.ok\\\" | translate }}\\n    </button>\\n  </a-footer>\\n</a-modal>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2Uvd29yay1vcmRlci9mb3JtL3BvcHVwcy9kaWFsb2ctb3BlcmF0aW9uLWNoZWNrL2RpYWxvZy1vcGVyYXRpb24tY2hlY2stZm9ybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { SelectItem } from 'primeng/api';\n\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\n\n@Component({\n  selector: 'aw-dialog-operation-check-form',\n  styleUrls: ['./dialog-operation-check-form.component.scss'],\n  templateUrl: './dialog-operation-check-form.component.html'\n})\nexport class DialogOperationCheckFormComponent extends DialogComponent implements OnInit {\n  @Output()\n  public onValidationOK: EventEmitter<string>;\n\n  @Output()\n  public onValidationKO: EventEmitter<string>;\n\n  public comment: string;\n  public isValid: boolean;\n  public validationList: SelectItem[];\n\n  public constructor(private readonly translateService: TranslateService) {\n    super(ComponentOpenMode.Write, 'DialogOperationCheckFormComponent');\n    this.onValidationOK = new EventEmitter<string>();\n    this.onValidationKO = new EventEmitter<string>();\n  }\n\n  public ngOnInit(): void {\n    // nothing\n    this.validationList = [];\n    this.isValid = false;\n    this.validationList.push({\n      label: this.translateService.instant(this.getTranslateKey('ok')),\n      value: true\n    });\n    this.validationList.push({\n      label: this.translateService.instant(this.getTranslateKey('nok')),\n      value: false\n    });\n  }\n\n  public showValidate(): boolean {\n    return !this.comment;\n  }\n\n  public validate(): void {\n    if (this.isValid) {\n      this.onValidationOK.emit(this.comment);\n    } else {\n      this.onValidationKO.emit(this.comment);\n    }\n    this.closeDialog();\n  }\n}\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".request\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"form-group required\\\">\\r\\n      <label class=\\\"form-label\\\">{{ getComponentName() + \\\".reason\\\" | translate }}</label>\\r\\n\\r\\n      <div class=\\\"form-control\\\">\\r\\n        <textarea class=\\\"aw-textarea\\\" [rows]=\\\"5\\\" pInputTextarea [(ngModel)]=\\\"request\\\"></textarea>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button [disabled]=\\\"showValidate()\\\" (click)=\\\"validate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2Uvd29yay1vcmRlci9mb3JtL3BvcHVwcy9kaWFsb2ctcG9zdHBvbmVtZW50L2RpYWxvZy1wb3N0cG9uZW1lbnQtZm9ybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\n\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-postponement-form',\r\n  styleUrls: ['./dialog-postponement-form.component.scss'],\r\n  templateUrl: './dialog-postponement-form.component.html'\r\n})\r\nexport class DialogPostponementFormComponent extends DialogComponent implements OnInit {\r\n  @Output()\r\n  public onValidated: EventEmitter<string>;\r\n\r\n  public request: string;\r\n  public constructor() {\r\n    super(ComponentOpenMode.Write, 'DialogPostponementFormComponent');\r\n    this.onValidated = new EventEmitter<string>();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    // nothing\r\n  }\r\n\r\n  public showValidate(): boolean {\r\n    const response = !this.request ? true : false;\r\n\r\n    return response;\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.request);\r\n    this.closeDialog();\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".stakeholder\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-selectButton\\r\\n            [options]=\\\"stakeHolderTypes\\\"\\r\\n            [(ngModel)]=\\\"selectedStakeHolder\\\"\\r\\n            [disabled]=\\\"isReadOpenMode\\\"\\r\\n            (onChange)=\\\"onChangeStakeHolderType()\\\"\\r\\n          ></p-selectButton>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group required\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".stakeholderName\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-dropdown\\r\\n            class=\\\"aw-dropdown fixed-width\\\"\\r\\n            [options]=\\\"stakeholderList\\\"\\r\\n            [(ngModel)]=\\\"stakeholder.woAssignedTo\\\"\\r\\n            [showClear]=\\\"true\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n            [disabled]=\\\"isReadOpenMode\\\"\\r\\n            (onChange)=\\\"onAssignedUserChange()\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n          ></p-dropdown>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\">\\r\\n          {{ getComponentName() + \\\".qualification\\\" | translate }}\\r\\n        </label>\\r\\n\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [ngModel]=\\\"stakeholder.employeeQualification\\\" [disabled]=\\\"true\\\" />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" *ngIf=\\\"!isReadOpenMode\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.cancel\\\" | translate }}\\r\\n    </button>\\r\\n    <button type=\\\"button\\\" *ngIf=\\\"isReadOpenMode\\\" mat-raised-button (click)=\\\"closeDialog()\\\">\\r\\n      {{ \\\"global.close\\\" | translate }}\\r\\n    </button>\\r\\n    <button type=\\\"button\\\" *ngIf=\\\"!isReadOpenMode\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"validate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { BidoFunctionTypeConstants } from '../../../../../../shared/constants/bido-function-type-constants';\r\nimport { ComponentConstants } from '../../../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { MessageService } from '../../../../../../shared/services/message.service';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { UsersForWorkOrderInput } from '../../../../../../shared/types/api-input-types/user-profile-management/users-for-work-order.interface';\r\nimport { BidmWoAssignmentDTO } from '../../../../../../shared/types/api-types/bidm-wo-assignment-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { BidoUserDTO } from '../../../../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BireTaskDTO } from '../../../../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { LabelValue } from '../../../../../../shared/types/label-value.interface';\r\nimport { EmployeeFormService } from '../../../../../human-resources/employee-form/employee-form.service';\r\nimport { DialogWorkOrderEditService } from '../../../../work-package/form/popups/dialog-work-order-edition/dialog-work-order-edition.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-stakeholder',\r\n  templateUrl: './dialog-stakeholder.component.html'\r\n})\r\nexport class DialogStakeholderComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public openMode: ComponentOpenMode;\r\n\r\n  @Input()\r\n  public stakeholder: BidmWoAssignmentDTO;\r\n\r\n  @Output()\r\n  public onUpdatedStakeholder: EventEmitter<BidmWoAssignmentDTO>;\r\n\r\n  @Output()\r\n  public onAddedStakeholder: EventEmitter<BidmWoAssignmentDTO>;\r\n\r\n  @Input()\r\n  public task: BireTaskDTO;\r\n\r\n  @Input()\r\n  public workOrder: BidmWorkOrderDTO;\r\n\r\n  public stakeholderList: SelectItem[];\r\n  public controllers: BidoUserDTO[];\r\n  public isControllerEnable: boolean;\r\n\r\n  public readonly componentId: string;\r\n  public displayValue: boolean;\r\n  public types: LabelValue<string>[];\r\n\r\n  public stakeHolderTypes: LabelValue<string>[];\r\n  public selectedStakeHolder: string;\r\n\r\n  public constructor(\r\n    public readonly sessionService: SessionService,\r\n    public messageService: MessageService,\r\n    private readonly dialogWorkOrderEditService: DialogWorkOrderEditService,\r\n    private readonly employeeFormService: EmployeeFormService,\r\n    public translateService: TranslateService\r\n  ) {\r\n    super(ComponentOpenMode.Write, ComponentConstants.MAI_DIALOG_IMPORT_ORDER_DOCUMENT);\r\n\r\n    this.onAddedStakeholder = new EventEmitter<BidmWoAssignmentDTO>();\r\n    this.onUpdatedStakeholder = new EventEmitter<BidmWoAssignmentDTO>();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return 'DialogStakeholderComponent';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.updateOpenMode(this.openMode);\r\n    if (this.openMode === ComponentOpenMode.Create) {\r\n      this.stakeholder = {};\r\n    }\r\n\r\n    this.loadStakeHolderTypes();\r\n\r\n    if (!!this.stakeholder && this.stakeholder.controller) {\r\n      this.getControllers();\r\n      this.selectedStakeHolder = 'CT';\r\n    } else {\r\n      this.selectedStakeHolder = 'OP';\r\n      this.getUsersList();\r\n    }\r\n  }\r\n\r\n  public validate(): void {\r\n    if (this.isScreenValidated()) {\r\n      if (this.openMode === ComponentOpenMode.Create) {\r\n        this.onAddedStakeholder.emit(this.stakeholder);\r\n      } else {\r\n        this.onUpdatedStakeholder.emit(this.stakeholder);\r\n      }\r\n      this.closeDialog();\r\n    } else {\r\n      this.messageService.showErrorMessage('global.warningOnMissingRequiredFields');\r\n    }\r\n  }\r\n\r\n  private getUsersList(): void {\r\n    const param: UsersForWorkOrderInput = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_AIRM_EXECUTION\r\n    };\r\n    if (!!this.task) {\r\n      param.taskCode = this.task.taskCode;\r\n      param.taskVersion = this.task.taskVersion;\r\n    }\r\n    param.projectId = this.workOrder.projectId;\r\n    param.startDate = this.workOrder.woScheduledStartDate;\r\n    this.dialogWorkOrderEditService.findUsersWithUseCaseForWorkOrder(param).subscribe((data: BidoUserDTO[]) => {\r\n      this.stakeholderList = data.map((user) => {\r\n        return {\r\n          label: `${user.lastname} ${user.firstname}`,\r\n          value: user.userId\r\n        };\r\n      });\r\n      if (!!this.stakeholder.woAssignedTo) {\r\n        const inList = this.stakeholderList.find((elem: SelectItem) => elem.value === this.stakeholder.woAssignedTo);\r\n        if (!!inList) {\r\n          this.stakeholder.woAssignedTo = inList.value;\r\n        }\r\n      }\r\n\r\n      if (this.openMode !== ComponentOpenMode.Read) {\r\n        this.stakeholder.controller = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private getControllers(): void {\r\n    const param: UsersForWorkOrderInput = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_AIRM_QUALITY_CHECK\r\n    };\r\n\r\n    param.projectId = this.workOrder.projectId;\r\n    param.startDate = this.workOrder.woScheduledStartDate;\r\n    this.stakeholderList = [];\r\n    if (this.openMode !== ComponentOpenMode.Read) {\r\n      this.stakeholder.woAssignedTo = -1;\r\n    }\r\n\r\n    this.dialogWorkOrderEditService.findUsersWithUseCaseForWorkOrder(param).subscribe((data: BidoUserDTO[]) => {\r\n      this.controllers = data;\r\n      this.stakeholderList = data.map((user) => {\r\n        return {\r\n          label: `${user.lastname} ${user.firstname}`,\r\n          value: user.userId\r\n        };\r\n      });\r\n\r\n      if (!!this.stakeholder.woAssignedTo) {\r\n        const inList = this.stakeholderList.find((elem: SelectItem) => elem.value === this.stakeholder.woAssignedTo);\r\n        this.stakeholder.woAssignedTo = !!inList ? inList.value : undefined;\r\n      }\r\n      if (this.openMode !== ComponentOpenMode.Read) {\r\n        this.stakeholder.controller = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  public onAssignedUserChange() {\r\n    if (!!this.stakeholder.woAssignedTo) {\r\n      this.isControllerEnable = false;\r\n      const employeeId: number = this.stakeholder.woAssignedTo;\r\n      this.employeeFormService.getEmployeeQualificationText(employeeId.toString()).subscribe((result) => {\r\n        this.stakeholder.employeeQualification = result;\r\n      });\r\n    }\r\n  }\r\n\r\n  public onChangeStakeHolderType(): void {\r\n    if (this.selectedStakeHolder === 'OP') {\r\n      this.stakeholder.controller = false;\r\n      this.getUsersList();\r\n    } else {\r\n      this.stakeholder.controller = true;\r\n      this.getControllers();\r\n    }\r\n    this.stakeholder.woAssignedTo = -1;\r\n    this.stakeholder.employeeQualification = '';\r\n  }\r\n\r\n  public closeDialog(): void {\r\n    this.display = false;\r\n  }\r\n\r\n  private isScreenValidated() {\r\n    if (\r\n      this.stakeholder.woAssignedTo === null ||\r\n      this.stakeholder.woAssignedTo === undefined ||\r\n      this.stakeholder.woAssignedTo.toString().length === 0\r\n    ) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public loadStakeHolderTypes(): void {\r\n    this.stakeHolderTypes = [\r\n      { label: `${this.translateService.instant(this.getTranslateKey('operator'))}`, value: 'OP' },\r\n      { label: `${this.translateService.instant(this.getTranslateKey('isController'))}`, value: 'CT' }\r\n    ];\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".number\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"workOrder.woCode\\\" disabled />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".type\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"type\\\" disabled />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".currentStatus\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"status\\\" disabled />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".lastUpdate\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <p-calendar\\r\\n            showButtonBar=\\\"true\\\"\\r\\n            [monthNavigator]=\\\"true\\\"\\r\\n            [yearNavigator]=\\\"true\\\"\\r\\n            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n            class=\\\"aw-calendar\\\"\\r\\n            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n            [(ngModel)]=\\\"workOrder.statusDate\\\"\\r\\n            [disabled]=\\\"true\\\"\\r\\n            appendTo=\\\"body\\\"\\r\\n            placeholder=\\\"&nbsp;\\\"\\r\\n          ></p-calendar>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".lastUpdateBy\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"workOrder.statusUser\\\" disabled />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".description\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"workOrder.woDescription\\\" disabled />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sourceSystemId\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"systemSourceIdValue\\\" disabled />\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"form-label\\\"> {{ getComponentName() + \\\".sourceSystemReference\\\" | translate }} </label>\\r\\n        <div class=\\\"form-control\\\">\\r\\n          <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"systemSourceReferenceValue\\\" disabled />\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.close\\\" | translate }}</button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2Uvd29yay1vcmRlci9mb3JtL3BvcHVwcy9sYXN0LXVwZGF0ZS93by1sYXN0LXVwZGF0ZS1wb3B1cC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, Input, OnInit } from '@angular/core';\r\nimport { SelectItem } from 'primeng/components/common/selectitem';\r\n\r\nimport { BidmWoAttributeDTO } from '../../../../../../../../generated_files/api-types/bidm-wo-attribute-dto.interface';\r\nimport { BidmAttributeConstants } from '../../../../../../shared/constants/bidm-attribute-constants';\r\nimport { GenericPropertyConstants as gpc } from '../../../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../../../shared/enums/component-open-mode.enum';\r\nimport { SessionService } from '../../../../../../shared/services/session.service';\r\nimport { BidmWorkOrderDTOId } from '../../../../../../shared/types/api-types/bidm-work-order-dto-id.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { DialogComponent } from '../../../../../../shared/types/dialog-component';\r\nimport { SelectItemUtils } from '../../../../../../shared/utils/select-item-utils';\r\nimport { StringUtils } from '../../../../../../shared/utils/string-utils';\r\nimport { WorkOrderFormService } from '../../work-order-form.service';\r\n\r\n@Component({\r\n  selector: 'aw-wo-last-update-popup',\r\n  styleUrls: ['./wo-last-update-popup.component.scss'],\r\n  templateUrl: './wo-last-update-popup.component.html'\r\n})\r\nexport class WOLastUpdatePopupComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public workOrder: BidmWorkOrderDTO;\r\n\r\n  public displayValue: boolean;\r\n\r\n  public readonly componentId: string;\r\n  public typeList: SelectItem[];\r\n  public type: string;\r\n  public statusList: SelectItem[];\r\n  public status: string;\r\n  public attributeList: BidmWoAttributeDTO[];\r\n  public systemSourceIdValue: string;\r\n  public systemSourceReferenceValue: string;\r\n\r\n  public constructor(public sessionService: SessionService, private readonly woFormService: WorkOrderFormService) {\r\n    super(ComponentOpenMode.Read, 'WorkOrderLastUpdateComponent');\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.systemSourceIdValue = '';\r\n    this.systemSourceReferenceValue = '';\r\n\r\n    if (!!this.workOrder) {\r\n      const bidmWorkOrderDTOId: BidmWorkOrderDTOId = {\r\n        projectId: StringUtils.isNullOrEmpty(this.workOrder.projectId) ? '' : `${this.workOrder.projectId}`,\r\n        woId: StringUtils.isNullOrEmpty(this.workOrder.woId) ? '' : `${this.workOrder.woId}`\r\n      };\r\n\r\n      this.woFormService.findWorkOrderAttributes(bidmWorkOrderDTOId).subscribe((r) => {\r\n        this.attributeList = r;\r\n        const attributeSystemSourceId = this.attributeList.find(\r\n          (attribute) => attribute.attributeName === BidmAttributeConstants.WORK_ORDER_SYSTEM_SOURCE_ID\r\n        );\r\n        const attributeSystemSourceReference = this.attributeList.find(\r\n          (attribute) => attribute.attributeName === BidmAttributeConstants.WORK_ORDER_SYSTEM_SOURCE_REFERENCE\r\n        );\r\n\r\n        this.systemSourceIdValue =\r\n          !!attributeSystemSourceId && !!attributeSystemSourceId.attributeValue\r\n            ? attributeSystemSourceId.attributeValue\r\n            : '';\r\n\r\n        this.systemSourceReferenceValue =\r\n          !!attributeSystemSourceReference && !!attributeSystemSourceReference.attributeValue\r\n            ? attributeSystemSourceReference.attributeValue\r\n            : '';\r\n      });\r\n\r\n      this.woFormService.loadGenProps(gpc.AIRM_WORK_ORDER_TYPES_MAP).subscribe((r) => {\r\n        this.typeList = r;\r\n        this.type = SelectItemUtils.formatSelectItem(this.workOrder.woType, this.typeList);\r\n      });\r\n\r\n      this.woFormService.loadGenProps(gpc.AIRM_OPERATION_STATUS_MAP).subscribe((r) => {\r\n        this.statusList = r;\r\n        this.status = SelectItemUtils.formatSelectItem(this.workOrder.statusState, this.statusList);\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { AngularCommonSharedModule } from '../../../../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../../../../shared/app-common-shared.module';\r\nimport { ModalModule } from '../../../../../../shared/components/modal/modal.module';\r\n\r\nimport { WOLastUpdatePopupComponent } from './wo-last-update-popup.component';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [CalendarModule, DropdownModule, TableModule, TooltipModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [WOLastUpdatePopupComponent];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ]\r\n})\r\nexport class WOLastUpdatePopupModule {}\r\n","module.exports = \"<div #page *ngIf=\\\"loadedWorkflow\\\">\\r\\n  <div class=\\\"page-header\\\">\\r\\n    <div class=\\\"page-info\\\">\\r\\n      <div>\\r\\n        <h2 class=\\\"page-title\\\">\\r\\n          {{ \\\"transaction.\\\" + componentData.componentId | translate }}\\r\\n        </h2>\\r\\n\\r\\n        <div class=\\\"page-subtitle\\\">\\r\\n          <div *ngIf=\\\"!isCreateOpenMode && componentData && componentData.objectId\\\" class=\\\"page-subtitle\\\">\\r\\n            - {{ workOrder.woCode }}\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"object-status\\\" *ngIf=\\\"woStatus.status\\\" (click)=\\\"showStatus()\\\">\\r\\n        {{ woStatus.status | formatSelectOption: statusList }}\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"page-actions\\\">\\r\\n      <button id=\\\"openWo\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"openWo()\\\" *ngIf=\\\"showButtonStartWo()\\\">\\r\\n        {{ getComponentName() + \\\".openWo\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"confirmWo\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"clickConfirmWorkCompletion()\\\"\\r\\n        *ngIf=\\\"showButtonConfirmWorkCompletion()\\\"\\r\\n      >\\r\\n        {{ getComponentName() + \\\".confirm\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"openWo\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"clickCancelWorkCompletion()\\\"\\r\\n        *ngIf=\\\"showButtonCancelWorkCompletion()\\\"\\r\\n      >\\r\\n        {{ getComponentName() + \\\".cancel\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"addWo\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"displayWorkOrderScreenEdit()\\\"\\r\\n        *ngIf=\\\"!isCreateOpenMode\\\"\\r\\n      >\\r\\n        {{ getComponentName() + \\\".addWo\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"request\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"requestOrCancelPostponement()\\\"\\r\\n        *ngIf=\\\"!isReadOpenMode && !isQualificationOngoing && isAskRequestConf\\\"\\r\\n      >\\r\\n        {{ getComponentName() + \\\".request\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"cancelPost\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"requestOrCancelPostponement()\\\"\\r\\n        *ngIf=\\\"!isReadOpenMode && !isQualificationOngoing && iscancelPostConf\\\"\\r\\n      >\\r\\n        {{ getComponentName() + \\\".cancelPost\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button id=\\\"print\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"printJobCard()\\\" *ngIf=\\\"!isCreateOpenMode\\\">\\r\\n        {{ getComponentName() + \\\".print\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"actions\\\"\\r\\n        mat-icon-button\\r\\n        *ngIf=\\\"!isCreateOpenMode\\\"\\r\\n        class=\\\"mat-elevation-z1\\\"\\r\\n        matTooltip=\\\"{{ 'global.showAllActionTooltip' | translate }}\\\"\\r\\n        matTooltipPosition=\\\"above\\\"\\r\\n        aria-label=\\\"Show all actions\\\"\\r\\n        [matMenuTriggerFor]=\\\"actions\\\"\\r\\n      >\\r\\n        <mat-icon>more_horiz</mat-icon>\\r\\n      </button>\\r\\n      <mat-menu #actions=\\\"matMenu\\\">\\r\\n        <button\\r\\n          id=\\\"goTo\\\"\\r\\n          mat-menu-item\\r\\n          [matMenuTriggerFor]=\\\"navigations\\\"\\r\\n          *ngIf=\\\"!isCreateOpenMode && !isQualificationOngoing\\\"\\r\\n        >\\r\\n          {{ \\\"goTo\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"openField\\\" *ngIf=\\\"showButtonOpenField()\\\" mat-menu-item (click)=\\\"openField()\\\">\\r\\n          {{ getComponentName() + \\\".openField\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"lastUpdate\\\" mat-menu-item (click)=\\\"lastUpdateDetails()\\\">\\r\\n          {{ getComponentName() + \\\".lastUpdate\\\" | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button id=\\\"refresh\\\" *ngIf=\\\"!isCreateOpenMode\\\" mat-menu-item (click)=\\\"refresh()\\\">\\r\\n          {{ \\\"global.refresh\\\" | translate }}\\r\\n        </button>\\r\\n        <button id=\\\"favorites\\\" *ngIf=\\\"!isCreateOpenMode\\\" mat-menu-item (click)=\\\"updateFavoriteState()\\\">\\r\\n          {{ (isFavoriteEntry ? \\\"removeFromFavorite\\\" : \\\"addToFavorite\\\") | translate }}\\r\\n        </button>\\r\\n\\r\\n        <button *ngIf=\\\"displayPrintIdLabel\\\" mat-menu-item>\\r\\n          {{ getComponentName() + \\\".printIdLabel\\\" | translate }}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n      <mat-menu #navigations=\\\"matMenu\\\">\\r\\n        <button id=\\\"goodsMovements\\\" mat-menu-item (click)=\\\"callGoodsMovement()\\\">\\r\\n          {{ getComponentName() + \\\".goodsMovements\\\" | translate }}\\r\\n        </button>\\r\\n        <button id=\\\"openStaffPlaning\\\" *ngIf=\\\"showButtonOpenStaffPlanning()\\\" mat-menu-item (click)=\\\"openStaffPlanning()\\\">\\r\\n          {{ getComponentName() + \\\".staffPlanning\\\" | translate }}\\r\\n        </button>\\r\\n      </mat-menu>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"page-wrapper\\\">\\r\\n    <div class=\\\"page-container search-page-container\\\">\\r\\n      <div class=\\\"page-content\\\">\\r\\n        <mat-tab-group animationDuration=\\\"0ms\\\" dynamicHeight>\\r\\n          <mat-tab id=\\\"homeTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".home\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <!-- MAIN -->\\r\\n              <div\\r\\n                id=\\\"mainInformationPanel\\\"\\r\\n                #mainAnchor\\r\\n                class=\\\"grid-cell--equally\\\"\\r\\n                (click)=\\\"setSelectedAnchor('mainAnchor')\\\"\\r\\n              >\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isSelectedAnchor('mainAnchor') }\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".mainInformation\\\" | translate }}\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <!-- Row 1 -->\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"woCode\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".woNumber\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"workOrder.woCode\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"woDescription\\\" class=\\\"form-group flex--2\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".description\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <textarea\\r\\n                              class=\\\"aw-textarea\\\"\\r\\n                              [rows]=\\\"2\\\"\\r\\n                              pInputTextarea\\r\\n                              [(ngModel)]=\\\"woDescription\\\"\\r\\n                              disabled\\r\\n                            ></textarea>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <!-- Row 2 -->\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"woType\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".type\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"woTypeList\\\"\\r\\n                              [(ngModel)]=\\\"workOrder.woType\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                              disabled\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"originText\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".source\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"space\\\">\\r\\n                              <a class=\\\"link\\\" (click)=\\\"consultWorkOrderOrigin()\\\">\\r\\n                                {{ originText }}\\r\\n                              </a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div id=\\\"woTask\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".task\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"space\\\">\\r\\n                              <a class=\\\"link\\\" (click)=\\\"openTaskLink(bireTask)\\\">\\r\\n                                {{ woTask }}\\r\\n                              </a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <!-- Row 3 -->\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"bidtWorkCenter\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".workshop\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"bidtWorkCenter\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"woAssignedTo\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".assignedTo\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <p-dropdown\\r\\n                              class=\\\"aw-dropdown fixed-width\\\"\\r\\n                              [options]=\\\"woUserList\\\"\\r\\n                              [(ngModel)]=\\\"workOrder.woAssignedTo\\\"\\r\\n                              [showClear]=\\\"true\\\"\\r\\n                              placeholder=\\\"&nbsp;\\\"\\r\\n                              [disabled]=\\\"isReadOpenMode || disableDefectsTableButtonsInClosedStatus()\\\"\\r\\n                              (onChange)=\\\"saveWorkOrder()\\\"\\r\\n                              appendTo=\\\"body\\\"\\r\\n                            ></p-dropdown>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"qualificationNeeded\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".qualification\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"qualificationNeeded\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <!-- Row 4 -->\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div id=\\\"woEquipement\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".asset\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"space\\\">\\r\\n                              <a class=\\\"link\\\" (click)=\\\"goToAsset(wpEquipementDto)\\\">\\r\\n                                {{ woEquipement }}\\r\\n                              </a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"relatedItem\\\" class=\\\"form-group\\\">\\r\\n                          <label class=\\\"form-label\\\">\\r\\n                            {{ getComponentName() + \\\".item\\\" | translate }}\\r\\n                          </label>\\r\\n\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <div class=\\\"space\\\">\\r\\n                              <a class=\\\"link\\\" (click)=\\\"openItemLink(woItemDTO)\\\">\\r\\n                                {{ relatedItem }}\\r\\n                              </a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"filler\\\" class=\\\"form-group\\\"></div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <!-- JOB CARD PROGRESS -->\\r\\n              <div\\r\\n                id=\\\"workInProgressPanel\\\"\\r\\n                #progressAnchor\\r\\n                class=\\\"grid-cell--equally\\\"\\r\\n                (click)=\\\"setSelectedAnchor('progressAnchor')\\\"\\r\\n              >\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isSelectedAnchor('progressAnchor') }\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container loading-indicator\\\">\\r\\n                      <div class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".workInProgress\\\" | translate }}\\r\\n                        <div *ngIf=\\\"isLoadingOperationsTable\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div id=\\\"woStatusProgressPercent\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".progress\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\" style=\\\"margin-top: 8px\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            <p-progressBar [ngClass]=\\\"woStatusProgressType\\\" [value]=\\\"woStatusProgressPercent\\\">\\r\\n                            </p-progressBar>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"startDate\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".openingDate\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [(ngModel)]=\\\"woStatus.startDate\\\"\\r\\n                            showTime=\\\"true\\\"\\r\\n                            disabled\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"endDate\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".closingDate\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-calendar\\r\\n                            showButtonBar=\\\"true\\\"\\r\\n                            [monthNavigator]=\\\"true\\\"\\r\\n                            [yearNavigator]=\\\"true\\\"\\r\\n                            [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                            class=\\\"aw-calendar\\\"\\r\\n                            [(ngModel)]=\\\"woStatus.endDate\\\"\\r\\n                            showTime=\\\"true\\\"\\r\\n                            disabled\\r\\n                            [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                            [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                          ></p-calendar>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div id=\\\"woPerformedBy\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".performedBy\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"true\\\" [(ngModel)]=\\\"woPerformedBy\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"woCheckedBy\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".checkedBy\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <input type=\\\"text\\\" class=\\\"aw-input\\\" [disabled]=\\\"true\\\" [(ngModel)]=\\\"woCheckedBy\\\" />\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div class=\\\"form-group\\\"></div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div id=\\\"woPos\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".woPostponementEvent\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <a\\r\\n                            class=\\\"link\\\"\\r\\n                            (click)=\\\"openRequest()\\\"\\r\\n                            *ngIf=\\\"\\r\\n                              woStatus.workPostponementRequestBidoNotificationData &&\\r\\n                              woStatus.workPostponementRequestBidoNotificationData.notificationCode\\r\\n                            \\\"\\r\\n                          >\\r\\n                            {{ woStatus.workPostponementRequestBidoNotificationData.notificationCode }}\\r\\n                          </a>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row flex-row--justify-center\\\">\\r\\n                      <div *ngIf=\\\"chartVisible\\\" class=\\\"chart-container\\\">\\r\\n                        <div class=\\\"grid-row\\\">\\r\\n                          <div class=\\\"grid-cell--12\\\">\\r\\n                            <div id=\\\"chart\\\" class=\\\"chart-wrapper\\\">\\r\\n                              <p-chart\\r\\n                                [type]=\\\"chartType\\\"\\r\\n                                [data]=\\\"chartData\\\"\\r\\n                                [options]=\\\"chartOptions\\\"\\r\\n                                width=\\\"673px\\\"\\r\\n                                height=\\\"144px\\\"\\r\\n                              ></p-chart>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                          <div class=\\\"grid-cell--12\\\"></div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <div id=\\\"totalDuration\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".totalDuration\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            {{ totalDuration }}\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"totalElapsed\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".totalElapsed\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            {{ totalElapsed }}\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <div id=\\\"endOfWork\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".endOfWork\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            <p-calendar\\r\\n                              showButtonBar=\\\"true\\\"\\r\\n                              [monthNavigator]=\\\"true\\\"\\r\\n                              [yearNavigator]=\\\"true\\\"\\r\\n                              [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                              class=\\\"aw-calendar\\\"\\r\\n                              [(ngModel)]=\\\"woStatus.endOfWork\\\"\\r\\n                              [showTime]=\\\"true\\\"\\r\\n                              disabled\\r\\n                              [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                              [locale]=\\\"sessionService.calendarFormat\\\"\\r\\n                            ></p-calendar>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <!-- WORK PACKAGE -->\\r\\n              <div\\r\\n                id=\\\"workPackagePanel\\\"\\r\\n                #workPackageAnchor\\r\\n                class=\\\"grid-cell--grow2\\\"\\r\\n                (click)=\\\"setSelectedAnchor('workPackageAnchor')\\\"\\r\\n              >\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('workPackageAnchor') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".workPackage\\\" | translate }}\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content grid-cell-content-with-section\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <!-- PROJECT NUMBER -->\\r\\n                      <div id=\\\"projectNumber\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".projectNumber\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            <div class=\\\"space\\\">\\r\\n                              <a class=\\\"link\\\" (click)=\\\"openWorkPackageLink()\\\">\\r\\n                                {{ workPackage.projectNumber }}\\r\\n                              </a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <!-- MRO CENTER -->\\r\\n                      <div id=\\\"bireRepairCenterCode\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".mroCenter\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <p-dropdown\\r\\n                            class=\\\"aw-dropdown fixed-width\\\"\\r\\n                            [options]=\\\"mroCenterList\\\"\\r\\n                            [(ngModel)]=\\\"workPackage.bireRepairCenterCode\\\"\\r\\n                            [showClear]=\\\"true\\\"\\r\\n                            placeholder=\\\"&nbsp;\\\"\\r\\n                            disabled\\r\\n                          ></p-dropdown>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                      <div id=\\\"filler2\\\" class=\\\"form-group\\\"></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row\\\">\\r\\n                      <!-- Aircraft type -->\\r\\n                      <div id=\\\"wpAircraftType\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".aircraftType\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"aw-input\\\" [(ngModel)]=\\\"wpAircraftType\\\" disabled />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <!-- Aircraft Pn -->\\r\\n                      <div id=\\\"aircraftRegistration\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".aircraftTn\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            <input\\r\\n                              type=\\\"text\\\"\\r\\n                              class=\\\"aw-input\\\"\\r\\n                              [(ngModel)]=\\\"workPackage.aircraftRegistration\\\"\\r\\n                              disabled\\r\\n                            />\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n\\r\\n                      <!-- Aircraft Sn -->\\r\\n                      <div id=\\\"aircraftMsn\\\" class=\\\"form-group\\\">\\r\\n                        <label class=\\\"form-label\\\">\\r\\n                          {{ getComponentName() + \\\".aircraftSn\\\" | translate }}\\r\\n                        </label>\\r\\n\\r\\n                        <div class=\\\"form-control\\\">\\r\\n                          <div class=\\\"form-control-data\\\">\\r\\n                            <div class=\\\"space\\\">\\r\\n                              <a class=\\\"link\\\" (click)=\\\"goToAsset(wpEquipementDto)\\\">\\r\\n                                {{ workPackage.aircraftMsn }}\\r\\n                              </a>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <!-- MATERIAL AVAILABILITY -->\\r\\n              <div id=\\\"materialAvailabilityPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <aw-material-availability-indicators [procurementRequests]=\\\"procurementRequests\\\">\\r\\n                </aw-material-availability-indicators>\\r\\n              </div>\\r\\n\\r\\n              <!-- OUTGOING CONFIGURATION -->\\r\\n              <div id=\\\"outgoingConfigurationPanel\\\" class=\\\"grid-cell--equally\\\">\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('workPackageAnchor') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".outgoingConfiguration\\\" | translate }}\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"row\\\" *ngIf=\\\"!isCreateOpenMode\\\">\\r\\n                    <div class=\\\"section outgoingConf grid-cell-content\\\">\\r\\n                      <div class=\\\"section-content\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                          <div class=\\\"row outgoingConf\\\">\\r\\n                            <div id=\\\"ok2\\\" class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ getComponentName() + \\\".ok\\\" | translate }}\\r\\n                              </label>\\r\\n                              <div class=\\\"form-control readyOnlyField\\\">\\r\\n                                <div\\r\\n                                  *ngIf=\\\"isLoadingOutgoingConf\\\"\\r\\n                                  class=\\\"outgoing-conf-lds-hourglass lds-hourglass\\\"\\r\\n                                ></div>\\r\\n                                <input\\r\\n                                  *ngIf=\\\"!isLoadingOutgoingConf\\\"\\r\\n                                  type=\\\"text\\\"\\r\\n                                  class=\\\"aw-input\\\"\\r\\n                                  [ngClass]=\\\"{ ok: isConfOk() }\\\"\\r\\n                                  [(ngModel)]=\\\"outgoinConfiguration.ok\\\"\\r\\n                                  [disabled]=\\\"true\\\"\\r\\n                                />\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div id=\\\"warning2\\\" class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ getComponentName() + \\\".warning\\\" | translate }}\\r\\n                              </label>\\r\\n                              <div class=\\\"form-control readyOnlyField\\\">\\r\\n                                <div\\r\\n                                  *ngIf=\\\"isLoadingOutgoingConf\\\"\\r\\n                                  class=\\\"outgoing-conf-lds-hourglass lds-hourglass\\\"\\r\\n                                ></div>\\r\\n                                <input\\r\\n                                  *ngIf=\\\"!isLoadingOutgoingConf\\\"\\r\\n                                  type=\\\"text\\\"\\r\\n                                  class=\\\"aw-input\\\"\\r\\n                                  [ngClass]=\\\"{ 'outgoing-conf-warning': isConfWarning() }\\\"\\r\\n                                  [(ngModel)]=\\\"outgoinConfiguration.warning\\\"\\r\\n                                  [disabled]=\\\"true\\\"\\r\\n                                />\\r\\n                              </div>\\r\\n                            </div>\\r\\n                            <div id=\\\"nok2\\\" class=\\\"form-group\\\">\\r\\n                              <label class=\\\"form-label\\\">\\r\\n                                {{ getComponentName() + \\\".nok\\\" | translate }}\\r\\n                              </label>\\r\\n                              <div class=\\\"form-control readyOnlyField\\\">\\r\\n                                <div\\r\\n                                  *ngIf=\\\"isLoadingOutgoingConf\\\"\\r\\n                                  class=\\\"outgoing-conf-lds-hourglass lds-hourglass\\\"\\r\\n                                ></div>\\r\\n                                <input\\r\\n                                  *ngIf=\\\"!isLoadingOutgoingConf\\\"\\r\\n                                  type=\\\"text\\\"\\r\\n                                  class=\\\"aw-input\\\"\\r\\n                                  [ngClass]=\\\"{ 'outgoing-conf-nok': isConfNok() }\\\"\\r\\n                                  [(ngModel)]=\\\"outgoinConfiguration.nok\\\"\\r\\n                                  [disabled]=\\\"true\\\"\\r\\n                                />\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"row aw-table-actions action-list\\\" *ngIf=\\\"!isQualificationOngoing\\\">\\r\\n                          <button\\r\\n                            id=\\\"controlBtnOutgoingConfigurationPanel\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"ctrlConfiguration()\\\"\\r\\n                            class=\\\"ng-star-inserted\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".controlBtn\\\" | translate }}\\r\\n                          </button>\\r\\n                          <button\\r\\n                            id=\\\"openBtnOutgoingConfigurationPanel\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            mat-raised-button\\r\\n                            (click)=\\\"openAppliedConfigurationManagement()\\\"\\r\\n                            class=\\\"ng-star-inserted\\\"\\r\\n                          >\\r\\n                            {{ getComponentName() + \\\".openBtn\\\" | translate }}\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div\\r\\n                id=\\\"stakeholdersPanel\\\"\\r\\n                #stakeholdersAnchor\\r\\n                class=\\\"grid-cell--12\\\"\\r\\n                (click)=\\\"setSelectedAnchor('stakeholdersAnchor')\\\"\\r\\n              >\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container grid-cell-wo-table\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('stakeholdersAnchor') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".stakeholders\\\" | translate }} ({{\\r\\n                          stakeholdersTableDataSource.dataCount\\r\\n                        }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <a-table id=\\\"stakeholdersTableDataSource\\\" [dataSource]=\\\"stakeholdersTableDataSource\\\">\\r\\n                      <ng-template tableActionsDef>\\r\\n                        <button\\r\\n                          id=\\\"deleteStakeholders\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && stakeholdersTableDataSource.hasDataSelection\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          color=\\\"warn\\\"\\r\\n                          (click)=\\\"deleteStakeholders()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.delete\\\" | translate }}\\r\\n                        </button>\\r\\n                        <button\\r\\n                          id=\\\"editStakeholders\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && stakeholdersTableDataSource.dataSelectionCount === 1\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"editStakeholder()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.open\\\" | translate }}\\r\\n                        </button>\\r\\n                        <button\\r\\n                          id=\\\"addStakeholders\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            !isReadOpenMode &&\\r\\n                            !stakeholdersTableDataSource.hasDataSelection &&\\r\\n                            !disableDefectsTableButtonsInClosedStatus()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"addStakeholder()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.add\\\" | translate }}\\r\\n                        </button>\\r\\n                      </ng-template>\\r\\n                      <ng-template columnDef=\\\"isController\\\" let-rowData=\\\"rowData\\\">\\r\\n                        <i *ngIf=\\\"rowData.isController\\\" class=\\\"fa fa-fw fa-check\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </ng-template>\\r\\n                    </a-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"worksTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".works\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <!-- OPERATIONS -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div\\r\\n                id=\\\"operationsPanel\\\"\\r\\n                #operationsAnchor\\r\\n                class=\\\"grid-cell--12\\\"\\r\\n                (click)=\\\"setSelectedAnchor('operationsAnchor')\\\"\\r\\n              >\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container grid-cell-wo-table\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('operationsAnchor') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".operations\\\" | translate }} ({{ operationTable.length }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      id=\\\"operationTable\\\"\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableResults\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [value]=\\\"operationTable\\\"\\r\\n                      [columns]=\\\"operationTableCols\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                      selectionMode=\\\"checkbox\\\"\\r\\n                      [(selection)]=\\\"selectedOperations\\\"\\r\\n                      dataKey=\\\"bireOpeCode\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingOperationTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingOperationTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div class=\\\"aw-table-header\\\">\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableResultsGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableResults.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              id=\\\"showHistoricOperationTable\\\"\\r\\n                              *ngIf=\\\"selectedOperations.length === 1 && !isReadOpenMode\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openStatusUpdatesPopup()\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".history\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"editDurationOperationTable\\\"\\r\\n                              *ngIf=\\\"selectedOperations.length === 1 && !isReadOpenMode\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openEditDuration()\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".editDuration\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"opeLogOperationTable\\\"\\r\\n                              *ngIf=\\\"selectedOperations.length === 1 && !isReadOpenMode\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"openOperationLog()\\\"\\r\\n                            >\\r\\n                              {{ componentData.componentId + \\\".opeLog\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"deleteOperationTable\\\"\\r\\n                              *ngIf=\\\"selectedOperations.length > 0 && !isReadOpenMode\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              color=\\\"warn\\\"\\r\\n                              (click)=\\\"deleteOperation()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.delete\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <div class=\\\"form-control\\\">\\r\\n                              <p-selectButton\\r\\n                                class=\\\"woDisplayType-btn\\\"\\r\\n                                [(ngModel)]=\\\"tableDisplayType\\\"\\r\\n                                [options]=\\\"tableDisplayTypeList\\\"\\r\\n                                (onChange)=\\\"changeOperationTableCols()\\\"\\r\\n                              ></p-selectButton>\\r\\n                            </div>\\r\\n\\r\\n                            <!-- <div *ngIf=\\\"!isLoadingOperationTable\\\" class=\\\"aw-table-icon-actions\\\">\\r\\n                          </div> -->\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                          <th [ngStyle]=\\\"{ width: '5%', 'text-align': 'center' }\\\" *ngIf=\\\"woStatus.isCritical === true\\\">\\r\\n                            {{ componentData.componentId + \\\".check\\\" | translate }}\\r\\n                          </th>\\r\\n                          <th [ngStyle]=\\\"{ width: '2.5%', 'text-align': 'left' }\\\"></th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                          >\\r\\n                            <span *ngSwitchCase=\\\"'sequence'\\\">{{ rowData[\\\"opeSequence\\\"] }}</span>\\r\\n\\r\\n                            <a *ngSwitchCase=\\\"'bireOpeCode'\\\" (click)=\\\"openOperationUC(rowData)\\\"\\r\\n                              >{{ rowData[col.field] }}-{{ rowData[\\\"bireOpeVersion\\\"] }}</a\\r\\n                            >\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'opePerformedDuration'\\\">\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['isOpeOnPerformed'] === false &&\\r\\n                                  rowData['opeStatus'] !== awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\\r\\n                                  rowData['opeStatus'] !== awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\\r\\n                                  rowData['canStartOrEndDuration'] &&\\r\\n                                  !isReadOpenMode\\r\\n                                \\\"\\r\\n                                (click)=\\\"startOrEndDuration(rowData)\\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-play\\\" aria-hidden=\\\"true\\\"></i>\\r\\n\\r\\n                                <a>\\r\\n                                  {{ rowData[\\\"opePerformedDurationDisplay\\\"] }}\\r\\n                                </a>\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['isOpeOnPerformed'] === true &&\\r\\n                                  rowData['opeStatus'] !== awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\\r\\n                                  rowData['opeStatus'] !== awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\\r\\n                                  rowData['canStartOrEndDuration']\\r\\n                                \\\"\\r\\n                                (click)=\\\"startOrEndDuration(rowData)\\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-stop\\\" aria-hidden=\\\"true\\\"></i>\\r\\n\\r\\n                                <a style=\\\"color: rgb(0, 200, 0); font-weight: bold\\\">\\r\\n                                  {{ rowData[\\\"opePerformedDurationDisplay\\\"] }}\\r\\n                                </a>\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  (rowData['isOpeOnPerformed'] === false &&\\r\\n                                    (rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED ||\\r\\n                                      rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE)) ||\\r\\n                                  isReadOpenMode ||\\r\\n                                  !rowData['canStartOrEndDuration']\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-play\\\" aria-hidden=\\\"true\\\"></i>\\r\\n\\r\\n                                <span>\\r\\n                                  {{ rowData[\\\"opePerformedDurationDisplay\\\"] }}\\r\\n                                </span>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'opePerformedElapsed'\\\">\\r\\n                              <span *ngIf=\\\"rowData['isOpeOnElapsed'] === false || !rowData['canStartOrEndDuration']\\\">\\r\\n                                {{ rowData[\\\"opePerformedElapsedDisplay\\\"] }}\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"rowData['isOpeOnElapsed'] === true && rowData['canStartOrEndDuration']\\\"\\r\\n                                (click)=\\\"startOrEndElapsed(rowData)\\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-stop\\\" aria-hidden=\\\"true\\\"></i>\\r\\n\\r\\n                                <a style=\\\"color: rgb(0, 200, 0); font-weight: bold\\\">\\r\\n                                  {{ rowData[\\\"opePerformedElapsedDisplay\\\"] }}\\r\\n                                </a>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'achievement'\\\">\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['opeStatus'] !== awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\\r\\n                                  rowData['opeStatus'] !== awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\\r\\n                                  woStatus.status !== awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-unlock\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"isReadOpenMode\\\"></i>\\r\\n                                <i\\r\\n                                  class=\\\"fa fa-unlock\\\"\\r\\n                                  aria-hidden=\\\"true\\\"\\r\\n                                  *ngIf=\\\"!isReadOpenMode && rowData['canAchieveOperation']\\\"\\r\\n                                  (click)=\\\"performOperation(rowData, false)\\\"\\r\\n                                ></i>\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\\r\\n                                  woStatus.status !== awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-unlock-alt\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"isReadOpenMode\\\"></i>\\r\\n                                <i\\r\\n                                  class=\\\"fa fa-unlock-alt\\\"\\r\\n                                  aria-hidden=\\\"true\\\"\\r\\n                                  *ngIf=\\\"!isReadOpenMode && rowData['canAchieveOperation']\\\"\\r\\n                                  (click)=\\\"performOperation(rowData, false)\\\"\\r\\n                                ></i>\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\\r\\n                                  woStatus.status !== awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-lock\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"isReadOpenMode\\\"></i>\\r\\n                                <i\\r\\n                                  class=\\\"fa fa-lock\\\"\\r\\n                                  aria-hidden=\\\"true\\\"\\r\\n                                  *ngIf=\\\"!isReadOpenMode && rowData['canAchieveOperation']\\\"\\r\\n                                  (click)=\\\"performOperation(rowData, false)\\\"\\r\\n                                ></i>\\r\\n                              </span>\\r\\n\\r\\n                              <span\\r\\n                                *ngIf=\\\"\\r\\n                                  (rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE ||\\r\\n                                    rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED) &&\\r\\n                                  woStatus.status === awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE\\r\\n                                \\\"\\r\\n                              >\\r\\n                                <i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <p-progressBar\\r\\n                              *ngSwitchCase=\\\"'opeStatusDisplay'\\\"\\r\\n                              [ngClass]=\\\"rowData[col.field]\\\"\\r\\n                              [value]=\\\"rowData['opeStatusPercent']\\\"\\r\\n                            >\\r\\n                            </p-progressBar>\\r\\n\\r\\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                          </td>\\r\\n\\r\\n                          <td [ngStyle]=\\\"{ width: '5%', 'text-align': 'center' }\\\" *ngIf=\\\"woStatus.isCritical === true\\\">\\r\\n                            <span\\r\\n                              *ngIf=\\\"\\r\\n                                rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\\r\\n                                woStatus.status === awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\\r\\n                                rowData['isCriticalTask'] === true\\r\\n                              \\\"\\r\\n                            >\\r\\n                              <i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"isReadOpenMode\\\"></i>\\r\\n                              <i\\r\\n                                class=\\\"fa fa-times\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                (click)=\\\"checkCriticalOperation(rowData, false)\\\"\\r\\n                              ></i>\\r\\n                            </span>\\r\\n\\r\\n                            <span\\r\\n                              *ngIf=\\\"\\r\\n                                rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\\r\\n                                woStatus.status === awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\\r\\n                                rowData['isCriticalTask'] === true\\r\\n                              \\\"\\r\\n                            >\\r\\n                              <i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"isReadOpenMode\\\"></i>\\r\\n                              <i\\r\\n                                class=\\\"fa fa-check\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                *ngIf=\\\"!isReadOpenMode\\\"\\r\\n                                (click)=\\\"checkCriticalOperation(rowData, false)\\\"\\r\\n                              ></i>\\r\\n                            </span>\\r\\n\\r\\n                            <span\\r\\n                              *ngIf=\\\"\\r\\n                                rowData['opeStatus'] === awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\\r\\n                                woStatus.status === awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\\r\\n                                rowData['isCriticalTask'] === true\\r\\n                              \\\"\\r\\n                            >\\r\\n                              <i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"isReadOpenMode\\\"></i>\\r\\n                              <i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\" *ngIf=\\\"!isReadOpenMode\\\"></i>\\r\\n                            </span>\\r\\n                          </td>\\r\\n                          <td\\r\\n                            class=\\\"row-expand-wrapper\\\"\\r\\n                            [pRowToggler]=\\\"rowData\\\"\\r\\n                            [ngStyle]=\\\"{ width: '2.5%', 'text-align': 'center' }\\\"\\r\\n                          >\\r\\n                            <i\\r\\n                              class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                              [ngClass]=\\\"rowData._expand ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                              tooltipPosition=\\\"top\\\"\\r\\n                              (click)=\\\"toggleWorkPackageExpand(rowData)\\\"\\r\\n                            ></i>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n                        <tr class=\\\"row-expanded\\\">\\r\\n                          <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                            <div class=\\\"column forced-backgroung\\\">\\r\\n                              <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"startDate\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opeStartDateDisplay\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"performedOn\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opePerformedOnDisplay\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"performedBy\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opePerformedLastByDisplay\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"checkedOn\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opeCheckOnDisplay\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"checkedBy\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opeCheckByDisplay\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n\\r\\n                              <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"stdDuration\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opeStdDurationDisplay\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"qualification\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opeQualification\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".\\\" + \\\"comment\\\" | translate }}\\r\\n                                  </label>\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <input\\r\\n                                      type=\\\"text\\\"\\r\\n                                      class=\\\"aw-input\\\"\\r\\n                                      [disabled]=\\\"true\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.opeComment\\\"\\r\\n                                    />\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <!-- COMMENTS -->\\r\\n              <div\\r\\n                id=\\\"commentPanel\\\"\\r\\n                #commentAnchor\\r\\n                class=\\\"grid-cell--equally\\\"\\r\\n                (click)=\\\"setSelectedAnchor('commentAnchor')\\\"\\r\\n              >\\r\\n                <div class=\\\"grid-cell grid-cell--container\\\" [ngClass]=\\\"{ active: isSelectedAnchor('commentAnchor') }\\\">\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".comment\\\" | translate }}\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content  grid-cell-content-with-section\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <!-- Comments -->\\r\\n                        <div id=\\\"woComments\\\" class=\\\"form-group  grid-cell--6\\\" [ngClass]=\\\"{ required: !isCommentEdit }\\\">\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <textarea\\r\\n                              class=\\\"aw-textarea\\\"\\r\\n                              [rows]=\\\"2\\\"\\r\\n                              pInputTextarea\\r\\n                              [(ngModel)]=\\\"woComments\\\"\\r\\n                              [disabled]=\\\"!isCommentEdit\\\"\\r\\n                            ></textarea>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions action-list\\\">\\r\\n                            <button\\r\\n                              id=\\\"editCommentPanel\\\"\\r\\n                              *ngIf=\\\"\\r\\n                                !isCommentEdit &&\\r\\n                                !isReadOpenMode &&\\r\\n                                !isQualificationOngoing &&\\r\\n                                !disableDefectsTableButtonsInClosedStatus()\\r\\n                              \\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"editComments()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.edit\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"saveCommentPanel\\\"\\r\\n                              *ngIf=\\\"isCommentEdit && !isQualificationOngoing\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              color=\\\"primary\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"saveComents()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.save\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <!-- ADDITIONAL WORK -->\\r\\n              <div\\r\\n                id=\\\"additionalWorkPanel\\\"\\r\\n                #additionalWorkAnchor\\r\\n                class=\\\"grid-cell--equally\\\"\\r\\n                (click)=\\\"setSelectedAnchor('additionalWorkAnchor')\\\"\\r\\n              >\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('additionalWorkAnchor') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".additionalWork\\\" | translate }}\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content  grid-cell-content-with-section\\\">\\r\\n                    <div class=\\\"column\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <!-- Additional work -->\\r\\n                        <div\\r\\n                          id=\\\"woAdditionalWork\\\"\\r\\n                          class=\\\"form-group  grid-cell--6\\\"\\r\\n                          [ngClass]=\\\"{ required: !isAdditionnalWorkEdit }\\\"\\r\\n                        >\\r\\n                          <div class=\\\"form-control\\\">\\r\\n                            <textarea\\r\\n                              class=\\\"aw-textarea\\\"\\r\\n                              [rows]=\\\"2\\\"\\r\\n                              pInputTextarea\\r\\n                              [(ngModel)]=\\\"woAdditionalWork\\\"\\r\\n                              [disabled]=\\\"!isAdditionnalWorkEdit\\\"\\r\\n                            ></textarea>\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions action-list\\\">\\r\\n                            <button\\r\\n                              id=\\\"editAdditionalWorkPanel\\\"\\r\\n                              *ngIf=\\\"\\r\\n                                !isAdditionnalWorkEdit &&\\r\\n                                !isReadOpenMode &&\\r\\n                                !isQualificationOngoing &&\\r\\n                                !disableDefectsTableButtonsInClosedStatus()\\r\\n                              \\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"editAdditionalWork()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.edit\\\" | translate }}\\r\\n                            </button>\\r\\n\\r\\n                            <button\\r\\n                              id=\\\"saveAdditionalWorkPanel\\\"\\r\\n                              *ngIf=\\\"isAdditionnalWorkEdit && !isQualificationOngoing\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              color=\\\"primary\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"saveAdditionalWork()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.save\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"worksTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".installRemove\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <!-- INSTALL REMOVE -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div\\r\\n                id=\\\"installRemovePanel\\\"\\r\\n                #installRemoveAnchor\\r\\n                class=\\\"grid-cell--12\\\"\\r\\n                (click)=\\\"setSelectedAnchor('installRemoveAnchor')\\\"\\r\\n              >\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container grid-cell-wo-table\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('installRemove') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".installRemove\\\" | translate }} ({{ woAssetManagementTable.length }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      id=\\\"woAssetManagementTable\\\"\\r\\n                      #ptableWoAssetMangement\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"woAssetManagementTableCols\\\"\\r\\n                      [value]=\\\"woAssetManagementTable\\\"\\r\\n                      [(selection)]=\\\"selectedWoAssetManagements\\\"\\r\\n                      [expandedRowKeys]=\\\"expandedWoAssetRows\\\"\\r\\n                      (onRowSelect)=\\\"woAssetManagementReadyToExecute()\\\"\\r\\n                      (onRowUnselect)=\\\"woAssetManagementReadyToExecute()\\\"\\r\\n                      [rows]=\\\"TABLE_PAGINATION_DEFAULT_ROWS\\\"\\r\\n                      dataKey=\\\"key\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingWoAssetManagementTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingWoAssetManagementTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"loadingbody\\\" let-columns=\\\"columns\\\">\\r\\n                        <tr style=\\\"height:34px\\\">\\r\\n                          <td *ngFor=\\\"let col of columns\\\">\\r\\n                            <div class=\\\"loading-text\\\"></div>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div\\r\\n                          class=\\\"aw-table-header\\\"\\r\\n                          [ngClass]=\\\"{ 'rows-selected': selectedWoAssetManagements.length > 0 }\\\"\\r\\n                        >\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableDocumentGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableDocument.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              class=\\\"btn-with-spinner\\\"\\r\\n                              *ngIf=\\\"selectedWoAssetManagements.length === 1 && showPrintIdLabelButton()\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                            >\\r\\n                              <span>{{ componentData.componentId + \\\".printIdLabel\\\" | translate }}</span>\\r\\n                            </button>\\r\\n                            <button\\r\\n                              id=\\\"executeSelectedDecisionTableDisplayed\\\"\\r\\n                              class=\\\"btn-with-spinner\\\"\\r\\n                              *ngIf=\\\"selectedWoAssetManagements.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              [disabled]=\\\"woAssetManagementReadyToExecuteDecision || isUndoingWoAssetManagementDecision\\\"\\r\\n                              (click)=\\\"executeSelectedDecision()\\\"\\r\\n                            >\\r\\n                              <span class=\\\"lds-hourglass\\\" *ngIf=\\\"isExecutingWoAssetManagementDecision\\\"></span>\\r\\n                              <span>{{ componentData.componentId + \\\".executeDecision\\\" | translate }}</span>\\r\\n                            </button>\\r\\n                            <button\\r\\n                              id=\\\"undoSelectedDecisionTableDisplayed\\\"\\r\\n                              class=\\\"btn-with-spinner\\\"\\r\\n                              *ngIf=\\\"selectedWoAssetManagements.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              [disabled]=\\\"isUndoingWoAssetManagementDecision\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"undoSelectedDecision()\\\"\\r\\n                            >\\r\\n                              <span class=\\\"lds-hourglass\\\" *ngIf=\\\"isUndoingWoAssetManagementDecision\\\"></span>\\r\\n                              <span>{{ componentData.componentId + \\\".undoDecision\\\" | translate }}</span>\\r\\n                            </button>\\r\\n                            <button\\r\\n                              id=\\\"addWoAssetManagementTableDisplayed\\\"\\r\\n                              class=\\\"btn-with-spinner\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              [disabled]=\\\"isLoadingWoAssetManagementTable\\\"\\r\\n                              (click)=\\\"addWoAssetManagement()\\\"\\r\\n                            >\\r\\n                              <span class=\\\"lds-hourglass\\\" *ngIf=\\\"isLoadingWoAssetManagementTable\\\"></span>\\r\\n                              <span class=\\\"loading-message\\\">{{ \\\"global.add\\\" | translate }}</span>\\r\\n                            </button>\\r\\n                            <button\\r\\n                              id=\\\"saveWoAssetManagementTableDisplayed\\\"\\r\\n                              class=\\\"btn-with-spinner\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              *ngIf=\\\"woAssetManagementTable.length > 0\\\"\\r\\n                              [disabled]=\\\"isSavingWoAssetManagementTable\\\"\\r\\n                              (click)=\\\"saveWoAssetManagement()\\\"\\r\\n                            >\\r\\n                              <span class=\\\"lds-hourglass\\\" *ngIf=\\\"isSavingWoAssetManagementTable\\\"></span>\\r\\n                              <span class=\\\"loading-message\\\">{{ \\\"global.save\\\" | translate }}</span>\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                          <th [ngStyle]=\\\"{ width: '2.5%', 'text-align': 'left' }\\\"></th>\\r\\n                          <th [ngStyle]=\\\"{ width: '2.5%', 'text-align': 'left' }\\\"></th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox\\r\\n                              *ngIf=\\\"!rowData.isLoading\\\"\\r\\n                              class=\\\"aw-table-checkbox\\\"\\r\\n                              [value]=\\\"rowData\\\"\\r\\n                            ></p-tableCheckbox>\\r\\n                            <div *ngIf=\\\"rowData.isLoading\\\" class=\\\"lds-hourglass\\\"></div>\\r\\n                          </td>\\r\\n\\r\\n                          <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ width: col.width }\\\">\\r\\n                            <span *ngSwitchCase=\\\"'eventDate'\\\">\\r\\n                              <p-calendar\\r\\n                                showButtonBar=\\\"true\\\"\\r\\n                                [monthNavigator]=\\\"true\\\"\\r\\n                                [yearNavigator]=\\\"true\\\"\\r\\n                                [yearRange]=\\\"sessionService.calendarYearRange\\\"\\r\\n                                class=\\\"aw-calendar\\\"\\r\\n                                [dateFormat]=\\\"sessionService.dateFormatPrimeNG\\\"\\r\\n                                [(ngModel)]=\\\"rowData.notificationDate\\\"\\r\\n                                [showTime]=\\\"true\\\"\\r\\n                                appendTo=\\\"body\\\"\\r\\n                                [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                [readonlyInput]=\\\"true\\\"\\r\\n                              ></p-calendar>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'decision'\\\">\\r\\n                              <span *ngIf=\\\"rowData.availableDecisions && rowData.availableDecisions.length > 0\\\">\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown\\\"\\r\\n                                  [options]=\\\"rowData.availableDecisions\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.notificationType\\\"\\r\\n                                  appendTo=\\\"body\\\"\\r\\n                                  [disabled]=\\\"!!rowData.bidoNotificationDTO || !!rowData.bidtStockMvtDTO\\\"\\r\\n                                  (onChange)=\\\"updateWoAssetDecision(rowData)\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'superiorAsset'\\\">\\r\\n                              <span\\r\\n                                *ngIf=\\\"rowData.availableSuperiorAssets && rowData.availableSuperiorAssets.length > 0\\\"\\r\\n                              >\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                  [options]=\\\"rowData.availableSuperiorAssets\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.selectedSuperiorBidoEquipmentDTO\\\"\\r\\n                                  placeholder=\\\"&nbsp;\\\"\\r\\n                                  appendTo=\\\"body\\\"\\r\\n                                  [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                  (onChange)=\\\"updateWoAssetSuperiorAsset(rowData)\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'item'\\\">\\r\\n                              <span *ngIf=\\\"rowData.availableItems && rowData.availableItems.length > 0\\\">\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                  [options]=\\\"rowData.availableItems\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.selectedBireItemDTO\\\"\\r\\n                                  placeholder=\\\"&nbsp;\\\"\\r\\n                                  appendTo=\\\"body\\\"\\r\\n                                  [filter]=\\\"true\\\"\\r\\n                                  [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                  (onChange)=\\\"updateWoAssetItem(rowData)\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </span>\\r\\n                              <span *ngIf=\\\"rowData.availableFunctionCodes && rowData.availableFunctionCodes.length > 0\\\">\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                  [options]=\\\"rowData.availableFunctionCodes\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.selectedFunctionCode\\\"\\r\\n                                  placeholder=\\\"&nbsp;\\\"\\r\\n                                  appendTo=\\\"body\\\"\\r\\n                                  [filter]=\\\"true\\\"\\r\\n                                  [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                  (onChange)=\\\"updateWoAssetItem(rowData)\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'pn'\\\">\\r\\n                              <span *ngIf=\\\"rowData.availablePNs && rowData.availablePNs.length > 0\\\">\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                  [options]=\\\"rowData.availablePNs\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.selectedPn\\\"\\r\\n                                  [showClear]=\\\"true\\\"\\r\\n                                  placeholder=\\\"&nbsp;\\\"\\r\\n                                  appendTo=\\\"body\\\"\\r\\n                                  [filter]=\\\"true\\\"\\r\\n                                  [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                  (onChange)=\\\"updateWoAssetPn(rowData)\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'sn'\\\">\\r\\n                              <span *ngIf=\\\"rowData.availableEquipments && rowData.availableEquipments.length > 0\\\">\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                  [options]=\\\"rowData.availableEquipments\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.selectedBidoEquipmentDTO\\\"\\r\\n                                  [showClear]=\\\"true\\\"\\r\\n                                  placeholder=\\\"&nbsp;\\\"\\r\\n                                  appendTo=\\\"body\\\"\\r\\n                                  [filter]=\\\"true\\\"\\r\\n                                  [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                  (onChange)=\\\"updateWoAssetEquipment(rowData)\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'status'\\\">\\r\\n                              <span *ngIf=\\\"rowData.availableStatuses && rowData.availableStatuses.length > 0\\\">\\r\\n                                <p-dropdown\\r\\n                                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                  [options]=\\\"rowData.availableStatuses\\\"\\r\\n                                  [(ngModel)]=\\\"rowData.selectedStatus\\\"\\r\\n                                  [showClear]=\\\"true\\\"\\r\\n                                  placeholder=\\\"&nbsp;\\\"\\r\\n                                  appendTo=\\\"body\\\"\\r\\n                                  [filter]=\\\"true\\\"\\r\\n                                  [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                  (onChange)=\\\"controlWoAsset(rowData)\\\"\\r\\n                                ></p-dropdown>\\r\\n                              </span>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'event'\\\">\\r\\n                              <span *ngIf=\\\"rowData.bidoNotificationDTO\\\">\\r\\n                                <a style=\\\"font-weight: bold;\\\" (click)=\\\"openEvent(rowData.bidoNotificationDTO)\\\">\\r\\n                                  {{ rowData.bidoNotificationDTO.notificationCode }}\\r\\n                                  <span\\r\\n                                    *ngIf=\\\"\\r\\n                                      rowData.notificationType === bidoNotificationTypeConstants.ASSEMBLY_TYPE_CODE\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    ({{ getComponentName() + \\\".install\\\" | translate }})\\r\\n                                  </span>\\r\\n                                  <span\\r\\n                                    *ngIf=\\\"\\r\\n                                      rowData.notificationType === bidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    ({{ getComponentName() + \\\".remove\\\" | translate }})\\r\\n                                  </span>\\r\\n                                </a>\\r\\n                              </span>\\r\\n                              <span *ngIf=\\\"!rowData.bidoNotificationDTO\\\">\\r\\n                                {{ getComponentName() + \\\".notCreated\\\" | translate }}\\r\\n                              </span>\\r\\n                            </span>\\r\\n                            <span *ngSwitchDefault>\\r\\n                              {{ rowData[col.field] }}\\r\\n                            </span>\\r\\n                          </td>\\r\\n                          <td>\\r\\n                            <span *ngIf=\\\"rowData.alertIcon\\\" pTooltip=\\\"{{ rowData.alertMessage }}\\\" tooltipPosition=\\\"top\\\">\\r\\n                              <span\\r\\n                                *ngIf=\\\"rowData.alertIcon === controlConfigConstants.ICON_GREEN_LIGHT_CODE\\\"\\r\\n                                class=\\\"alert alert--ok\\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                              </span>\\r\\n                              <span\\r\\n                                *ngIf=\\\"rowData.alertIcon === controlConfigConstants.ICON_YELLOW_LIGHT_CODE\\\"\\r\\n                                class=\\\"alert alert--warning\\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".alertWarning\\\" | translate }}\\r\\n                              </span>\\r\\n                              <span\\r\\n                                *ngIf=\\\"rowData.alertIcon === controlConfigConstants.ICON_RED_LIGHT_CODE\\\"\\r\\n                                class=\\\"alert alert--nok\\\"\\r\\n                              >\\r\\n                                {{ getComponentName() + \\\".alertNok\\\" | translate }}\\r\\n                              </span>\\r\\n                            </span>\\r\\n                            <span\\r\\n                              *ngIf=\\\"!!rowData.alertIcon\\\"\\r\\n                              pTooltip=\\\"{{ rowData.alertMessage }}\\\"\\r\\n                              tooltipPosition=\\\"top\\\"\\r\\n                            >\\r\\n                              <span class=\\\"alert alert--ok\\\">\\r\\n                                {{ getComponentName() + \\\".alertOk\\\" | translate }}\\r\\n                              </span>\\r\\n                            </span>\\r\\n                          </td>\\r\\n                          <td\\r\\n                            class=\\\"row-expand-wrapper\\\"\\r\\n                            [pRowToggler]=\\\"rowData\\\"\\r\\n                            [ngStyle]=\\\"{ width: '2.5%', 'text-align': 'center' }\\\"\\r\\n                          >\\r\\n                            <i\\r\\n                              class=\\\"fa fa-fw aw-icon aw-icon-with-border\\\"\\r\\n                              [ngClass]=\\\"rowData._expand ? 'fa-minus' : 'fa-plus'\\\"\\r\\n                              aria-hidden=\\\"true\\\"\\r\\n                              pTooltip=\\\"{{ 'global.showTableRowDetails' | translate }}\\\"\\r\\n                              tooltipPosition=\\\"top\\\"\\r\\n                              (click)=\\\"toggleInstallRemoveExpand(rowData)\\\"\\r\\n                            ></i>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"rowexpansion\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n                        <tr class=\\\"row-expanded\\\">\\r\\n                          <td [attr.colspan]=\\\"columns.length + 2\\\">\\r\\n                            <div class=\\\"column forced-backgroung\\\">\\r\\n                              <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".warehouse\\\" | translate }}\\r\\n                                  </label>\\r\\n\\r\\n                                  <div\\r\\n                                    class=\\\"form-control\\\"\\r\\n                                    *ngIf=\\\"rowData.availableWarehouses && rowData.availableWarehouses.length > 0\\\"\\r\\n                                  >\\r\\n                                    <p-dropdown\\r\\n                                      class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                      [options]=\\\"rowData.availableWarehouses\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.selectedWarehouseId\\\"\\r\\n                                      [showClear]=\\\"true\\\"\\r\\n                                      placeholder=\\\"&nbsp;\\\"\\r\\n                                      appendTo=\\\"body\\\"\\r\\n                                      [disabled]=\\\"!!rowData.bidoNotificationDTO || workOrder.bidtWarehouseId\\\"\\r\\n                                      [filter]=\\\"true\\\"\\r\\n                                      (onChange)=\\\"updateWoAssetWarehouse(rowData)\\\"\\r\\n                                    ></p-dropdown>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label\\r\\n                                    class=\\\"form-label\\\"\\r\\n                                    *ngIf=\\\"\\r\\n                                      rowData.notificationType === bidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    {{ getComponentName() + \\\".removalReason\\\" | translate }}\\r\\n                                  </label>\\r\\n\\r\\n                                  <div\\r\\n                                    class=\\\"form-control\\\"\\r\\n                                    *ngIf=\\\"\\r\\n                                      rowData.notificationType === bidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    <p-dropdown\\r\\n                                      class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                      [options]=\\\"propertyRemovalReason\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.selectedRemovalReason\\\"\\r\\n                                      [showClear]=\\\"true\\\"\\r\\n                                      placeholder=\\\"&nbsp;\\\"\\r\\n                                      appendTo=\\\"body\\\"\\r\\n                                      [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                      [filter]=\\\"true\\\"\\r\\n                                    ></p-dropdown>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label\\r\\n                                    class=\\\"form-label\\\"\\r\\n                                    *ngIf=\\\"\\r\\n                                      rowData.notificationType === bidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    {{ getComponentName() + \\\".reversement\\\" | translate }}\\r\\n                                  </label>\\r\\n\\r\\n                                  <div\\r\\n                                    class=\\\"form-control\\\"\\r\\n                                    *ngIf=\\\"\\r\\n                                      rowData.notificationType === bidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE\\r\\n                                    \\\"\\r\\n                                  >\\r\\n                                    <p-checkbox\\r\\n                                      class=\\\"aw-checkbox\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.createReverseTransfer\\\"\\r\\n                                      [disabled]=\\\"rowData['_existingReversal']\\\"\\r\\n                                      binary=\\\"true\\\"\\r\\n                                    ></p-checkbox>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".transferOrders\\\" | translate }}\\r\\n                                  </label>\\r\\n\\r\\n                                  <div class=\\\"form-control\\\">\\r\\n                                    <div class=\\\"form-control-generic\\\">\\r\\n                                      <a\\r\\n                                        *ngFor=\\\"let transferOrder of rowData['transferOrders'] || []\\\"\\r\\n                                        style=\\\"margin-right: 8px; text-decoration: none;\\\"\\r\\n                                        (click)=\\\"openTransferOrder(transferOrder)\\\"\\r\\n                                      >\\r\\n                                        {{ transferOrder.torCode }}\\r\\n                                      </a>\\r\\n                                    </div>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n\\r\\n                              <div class=\\\"row\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                  <label class=\\\"form-label\\\">\\r\\n                                    {{ getComponentName() + \\\".functionalLocation\\\" | translate }}\\r\\n                                  </label>\\r\\n\\r\\n                                  <div\\r\\n                                    class=\\\"form-control\\\"\\r\\n                                    *ngIf=\\\"rowData.availableFls && rowData.availableFls.length > 0\\\"\\r\\n                                  >\\r\\n                                    <p-dropdown\\r\\n                                      class=\\\"aw-dropdown fixed-width\\\"\\r\\n                                      [options]=\\\"rowData.availableFls\\\"\\r\\n                                      [(ngModel)]=\\\"rowData.selectedFlCode\\\"\\r\\n                                      [showClear]=\\\"true\\\"\\r\\n                                      placeholder=\\\"&nbsp;\\\"\\r\\n                                      appendTo=\\\"body\\\"\\r\\n                                      [disabled]=\\\"!!rowData.bidoNotificationDTO\\\"\\r\\n                                      [filter]=\\\"true\\\"\\r\\n                                    ></p-dropdown>\\r\\n                                  </div>\\r\\n                                </div>\\r\\n                              </div>\\r\\n                            </div>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n          <mat-tab id=\\\"procurementRequestsTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".procurementRequests\\\" | translate }}\\r\\n            </ng-template>\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div class=\\\"grid-cell--12\\\">\\r\\n                <aw-procurement-requests-table\\r\\n                  [workOrder]=\\\"workOrder\\\"\\r\\n                  [procurementRequests]=\\\"procurementRequests\\\"\\r\\n                  (askParentRefresh)=\\\"refresh()\\\"\\r\\n                  [statusState]=\\\"disableDefectsTableButtonsInClosedStatus()\\\"\\r\\n                ></aw-procurement-requests-table>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"defectsTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".defects\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <!-- Defects -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div id=\\\"defectsPanel\\\" #defectsAnchor class=\\\"grid-cell--12\\\" (click)=\\\"setSelectedAnchor('defectsAnchor')\\\">\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container grid-cell-documents\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('defectsAnchor') }\\\"\\r\\n                >\\r\\n                  <aw-defect-list\\r\\n                    [userWorkflow]=\\\"userWorkflow\\\"\\r\\n                    [isAddAvailable]=\\\"!isQualificationOngoing\\\"\\r\\n                    [equipmentName]=\\\"woEquipement\\\"\\r\\n                    [acrsEventCodeList]=\\\"acrsEventCodeList\\\"\\r\\n                    [workDataDefect]=\\\"workDataDefect\\\"\\r\\n                    [statusState]=\\\"disableDefectsTableButtonsInClosedStatus()\\\"\\r\\n                  ></aw-defect-list>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"taskDocumentsTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".taskDocuments\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <!-- Task Documents -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div\\r\\n                id=\\\"taskDocumentsPanel\\\"\\r\\n                #taskDocumentsAnchor\\r\\n                class=\\\"grid-cell--12\\\"\\r\\n                (click)=\\\"setSelectedAnchor('taskDocumentsAnchor')\\\"\\r\\n              >\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container grid-cell-documents\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('documentsAnchor') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".taskDocuments\\\" | translate }} ({{\\r\\n                          documentTableDisplayed ? documentTableDisplayed.length : 0\\r\\n                        }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <p-table\\r\\n                      id=\\\"documentTableDisplayed\\\"\\r\\n                      [resizableColumns]=\\\"true\\\"\\r\\n                      #ptableDocument\\r\\n                      class=\\\"aw-table2\\\"\\r\\n                      [columns]=\\\"documentsTableCols\\\"\\r\\n                      [value]=\\\"documentTableDisplayed\\\"\\r\\n                      [(selection)]=\\\"selectedDocuments\\\"\\r\\n                      dataKey=\\\"docName\\\"\\r\\n                      [scrollable]=\\\"true\\\"\\r\\n                      [paginator]=\\\"true\\\"\\r\\n                      [rows]=\\\"TABLE_PAGINATION_DEFAULT_ROWS\\\"\\r\\n                    >\\r\\n                      <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n                        <span *ngIf=\\\"!isLoadingDocumentTable\\\"> &nbsp;</span>\\r\\n\\r\\n                        <div *ngIf=\\\"isLoadingDocumentTable\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                          <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                          <div class=\\\"lds-hourglass\\\"></div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"caption\\\">\\r\\n                        <div class=\\\"aw-table-header\\\" [ngClass]=\\\"{ 'rows-selected': selectedDocuments.length > 0 }\\\">\\r\\n                          <div class=\\\"aw-table-global-filter\\\">\\r\\n                            <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                              <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                            </label>\\r\\n\\r\\n                            <input\\r\\n                              #ptableDocumentGlobalFilter\\r\\n                              class=\\\"aw-table-global-filter-input\\\"\\r\\n                              type=\\\"text\\\"\\r\\n                              placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                              (input)=\\\"ptableDocument.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                            />\\r\\n                          </div>\\r\\n\\r\\n                          <div class=\\\"aw-table-actions\\\">\\r\\n                            <button\\r\\n                              id=\\\"downloadDocumentTableDisplayed\\\"\\r\\n                              *ngIf=\\\"selectedDocuments.length > 0\\\"\\r\\n                              type=\\\"button\\\"\\r\\n                              mat-raised-button\\r\\n                              (click)=\\\"downloadTaskFiles()\\\"\\r\\n                            >\\r\\n                              {{ \\\"global.download\\\" | translate }}\\r\\n                            </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n                        <colgroup>\\r\\n                          <col class=\\\"aw-table-checkbox-wrapper\\\" />\\r\\n                          <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n                        </colgroup>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n                        <tr>\\r\\n                          <th class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableHeaderCheckbox class=\\\"aw-table-checkbox\\\"></p-tableHeaderCheckbox>\\r\\n                          </th>\\r\\n\\r\\n                          <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                            {{ componentData.componentId + \\\".\\\" + col.field | translate }}\\r\\n                          </th>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n\\r\\n                      <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n                        <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\" class=\\\"overflow\\\">\\r\\n                          <td class=\\\"aw-table-checkbox-wrapper\\\">\\r\\n                            <p-tableCheckbox class=\\\"aw-table-checkbox\\\" [value]=\\\"rowData\\\"></p-tableCheckbox>\\r\\n                          </td>\\r\\n\\r\\n                          <td\\r\\n                            *ngFor=\\\"let col of columns\\\"\\r\\n                            [ngSwitch]=\\\"col.field\\\"\\r\\n                            [ngStyle]=\\\"{ 'text-align': col.alignment }\\\"\\r\\n                          >\\r\\n                            <span *ngSwitchCase=\\\"'docName'\\\">\\r\\n                              <a\\r\\n                                *ngIf=\\\"rowData['docExtension'] !== 'JPG' && rowData['docExtension'] !== 'PNG'\\\"\\r\\n                                (click)=\\\"downloadFile(rowData)\\\"\\r\\n                                >{{ rowData[col.field] }}\\r\\n                              </a>\\r\\n\\r\\n                              <a\\r\\n                                *ngIf=\\\"rowData['docExtension'] === 'JPG' || rowData['docExtension'] === 'PNG'\\\"\\r\\n                                (click)=\\\"showIllustration(rowData['materialIllustration'])\\\"\\r\\n                                >{{ rowData[col.field] }}\\r\\n                              </a>\\r\\n                            </span>\\r\\n\\r\\n                            <span *ngSwitchCase=\\\"'docExtension'\\\"> {{ showDocExtension(rowData) }} </span>\\r\\n                            <span *ngSwitchCase=\\\"'docPublicationDate'\\\">\\r\\n                              {{ rowData[col.field] | date: \\\"yyyy/MM/dd\\\" }}\\r\\n                            </span>\\r\\n                            <span *ngSwitchCase=\\\"'docExternal'\\\">\\r\\n                              {{ rowData[col.field] }}\\r\\n                              <i\\r\\n                                *ngIf=\\\"validateUrl(rowData[col.field])\\\"\\r\\n                                class=\\\"fa fa-fw fa-external-link aw-icon aw-icon-with-border\\\"\\r\\n                                aria-hidden=\\\"true\\\"\\r\\n                                pTooltip=\\\"{{ 'global.open' | translate }}\\\"\\r\\n                                tooltipPosition=\\\"top\\\"\\r\\n                                (click)=\\\"openUrl(rowData[col.field])\\\"\\r\\n                              ></i>\\r\\n                            </span>\\r\\n                            <span *ngSwitchDefault> {{ rowData[col.field] }} </span>\\r\\n                          </td>\\r\\n                        </tr>\\r\\n                      </ng-template>\\r\\n                    </p-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n\\r\\n          <mat-tab id=\\\"workOrderDocumentsTab\\\">\\r\\n            <ng-template mat-tab-label>\\r\\n              {{ getComponentName() + \\\".workOrderDocuments\\\" | translate }}\\r\\n            </ng-template>\\r\\n\\r\\n            <!-- WO Documents -->\\r\\n            <div class=\\\"grid-row\\\">\\r\\n              <div\\r\\n                id=\\\"woDocumentsPanel\\\"\\r\\n                #woDocumentsAnchor\\r\\n                class=\\\"grid-cell--12\\\"\\r\\n                (click)=\\\"setSelectedAnchor('woDocumentsAnchor')\\\"\\r\\n              >\\r\\n                <div\\r\\n                  class=\\\"grid-cell grid-cell--container grid-cell-documents\\\"\\r\\n                  [ngClass]=\\\"{ active: isSelectedAnchor('documentsAnchor') }\\\"\\r\\n                >\\r\\n                  <div class=\\\"grid-cell-header\\\">\\r\\n                    <div class=\\\"grid-cell-title-container\\\">\\r\\n                      <h3 id=\\\"woBidmDocumentsTableDataTitle\\\" class=\\\"grid-cell-title\\\">\\r\\n                        {{ getComponentName() + \\\".woDocuments\\\" | translate }} ({{ woBidmDocumentsTableData.dataCount }})\\r\\n                      </h3>\\r\\n                    </div>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"grid-cell-content\\\">\\r\\n                    <a-table id=\\\"woBidmDocumentsTableData\\\" [dataSource]=\\\"woBidmDocumentsTableData\\\">\\r\\n                      <ng-template tableActionsDef>\\r\\n                        <button\\r\\n                          id=\\\"deleteWoBidmDocumentsTableData\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            !isReadOpenMode &&\\r\\n                            woBidmDocumentsTableData.hasDataSelection &&\\r\\n                            !isQualificationOngoing &&\\r\\n                            !disableDefectsTableButtonsInClosedStatus()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          color=\\\"warn\\\"\\r\\n                          (click)=\\\"deleteWODocs()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.delete\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"editWoBidmDocumentsTableData\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            !isReadOpenMode &&\\r\\n                            woBidmDocumentsTableData.dataSelectionCount === 1 &&\\r\\n                            !isQualificationOngoing\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"openWOImportDocDialInEditMode()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.edit\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"addWoBidmDocumentsTableData\\\"\\r\\n                          *ngIf=\\\"\\r\\n                            !isReadOpenMode &&\\r\\n                            !woBidmDocumentsTableData.hasDataSelection &&\\r\\n                            !isQualificationOngoing &&\\r\\n                            !disableDefectsTableButtonsInClosedStatus()\\r\\n                          \\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"openWOImportDocDialInCreateMode()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.add\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"downloadWoBidmDocumentsTableData\\\"\\r\\n                          *ngIf=\\\"woBidmDocumentsTableData.hasDataSelection\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"downloadWOFiles()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.download\\\" | translate }}\\r\\n                        </button>\\r\\n\\r\\n                        <button\\r\\n                          id=\\\"saveWoBidmDocumentsTableData\\\"\\r\\n                          *ngIf=\\\"!isReadOpenMode && wODocsHasBeeEdited && !isQualificationOngoing\\\"\\r\\n                          type=\\\"button\\\"\\r\\n                          color=\\\"primary\\\"\\r\\n                          mat-raised-button\\r\\n                          (click)=\\\"saveWOBidmDoc()\\\"\\r\\n                        >\\r\\n                          {{ \\\"global.save\\\" | translate }}\\r\\n                        </button>\\r\\n                      </ng-template>\\r\\n                    </a-table>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-tab>\\r\\n        </mat-tab-group>\\r\\n      </div>\\r\\n      <aw-dialog-work-order-edition\\r\\n        *ngIf=\\\"displayWorkOrderEdit\\\"\\r\\n        [(display)]=\\\"displayWorkOrderEdit\\\"\\r\\n        [addWorkOrder]=\\\"addWorkOrder\\\"\\r\\n        [workPackage]=\\\"workPackage\\\"\\r\\n        [workOrders]=\\\"workOrderList\\\"\\r\\n        (onValidated)=\\\"onAddWorkOrder($event)\\\"\\r\\n      >\\r\\n      </aw-dialog-work-order-edition>\\r\\n\\r\\n      <aw-wo-last-update-popup\\r\\n        *ngIf=\\\"showLastUpdatePopup\\\"\\r\\n        [workOrder]=\\\"workOrder\\\"\\r\\n        [(display)]=\\\"showLastUpdatePopup\\\"\\r\\n      ></aw-wo-last-update-popup>\\r\\n\\r\\n      <aw-dialog-postponement-form\\r\\n        *ngIf=\\\"displayRequestPostponement\\\"\\r\\n        [(display)]=\\\"displayRequestPostponement\\\"\\r\\n        (onValidated)=\\\"onValidateRequest($event)\\\"\\r\\n      ></aw-dialog-postponement-form>\\r\\n\\r\\n      <aw-dialog-operation-check-form\\r\\n        *ngIf=\\\"displayOperationCheck\\\"\\r\\n        [(display)]=\\\"displayOperationCheck\\\"\\r\\n        (onValidationOK)=\\\"onOperationValidationOK($event)\\\"\\r\\n        (onValidationKO)=\\\"onOperationValidationKO($event)\\\"\\r\\n      ></aw-dialog-operation-check-form>\\r\\n\\r\\n      <aw-dialog-edit-duration\\r\\n        *ngIf=\\\"displayEditDuration\\\"\\r\\n        [existingDuration]=\\\"timeToDisplay(selectedOperations[0].opePerformedDuration)\\\"\\r\\n        [existingElapsed]=\\\"timeToDisplay(selectedOperations[0].opePerformedElapsed)\\\"\\r\\n        [(display)]=\\\"displayEditDuration\\\"\\r\\n        (onValidated)=\\\"onValidateDuration($event, 0)\\\"\\r\\n      ></aw-dialog-edit-duration>\\r\\n\\r\\n      <aw-dialog-job-card-time-tracking-entries\\r\\n        *ngIf=\\\"displayTimeTracking\\\"\\r\\n        [bidmTimeTrackingList]=\\\"bidmTimeTracking\\\"\\r\\n        [addedBidmTimeTracking]=\\\"addedBidmTimeTracking\\\"\\r\\n        [workOrder]=\\\"workOrder\\\"\\r\\n        [selectedOperations]=\\\"selectedOperations[0]\\\"\\r\\n        [(display)]=\\\"displayTimeTracking\\\"\\r\\n        (onValidated)=\\\"onValidateTimeTracking($event)\\\"\\r\\n      >\\r\\n      </aw-dialog-job-card-time-tracking-entries>\\r\\n\\r\\n      <aw-dialog-import-work-order-document\\r\\n        *ngIf=\\\"showAddWODocumentDialog\\\"\\r\\n        [openMode]=\\\"openModeWOImportDoc\\\"\\r\\n        [woDocument]=\\\"selectedWOBidmDocument\\\"\\r\\n        [woDocumentList]=\\\"woBidmDocumentsResource\\\"\\r\\n        [workOrder]=\\\"workOrder\\\"\\r\\n        [(display)]=\\\"showAddWODocumentDialog\\\"\\r\\n        (onUpdatedWODoc)=\\\"updateWODoc($event)\\\"\\r\\n        (onAddedWODoc)=\\\"addWODoc($event)\\\"\\r\\n      ></aw-dialog-import-work-order-document>\\r\\n\\r\\n      <aw-dialog-stakeholder\\r\\n        *ngIf=\\\"showAddStakeholderDialog\\\"\\r\\n        [task]=\\\"bireTask\\\"\\r\\n        [workOrder]=\\\"workOrder\\\"\\r\\n        [openMode]=\\\"openModeStakeholder\\\"\\r\\n        [(display)]=\\\"showAddStakeholderDialog\\\"\\r\\n        (onUpdatedStakeholder)=\\\"onUpdateStakeholder($event)\\\"\\r\\n        (onAddedStakeholder)=\\\"onAddStakeholder($event)\\\"\\r\\n        [stakeholder]=\\\"selectedStakeholder\\\"\\r\\n      ></aw-dialog-stakeholder>\\r\\n\\r\\n      <aw-dialog-update-logbook\\r\\n        *ngIf=\\\"showUpdateLogbookDialog\\\"\\r\\n        [(display)]=\\\"showUpdateLogbookDialog\\\"\\r\\n        [updateLogbookFromWorkOrderInput]=\\\"updateLogbookFromWorkOrderInput\\\"\\r\\n        (onValidated)=\\\"updateLogbookFromWorkOrder($event)\\\"\\r\\n      ></aw-dialog-update-logbook>\\r\\n\\r\\n      <aw-status-update-history\\r\\n        *ngIf=\\\"showOperationUpdatesPopup\\\"\\r\\n        [object]=\\\"selectedOperation\\\"\\r\\n        [data]=\\\"tableOperationUpdatesData\\\"\\r\\n        [deleteApi]=\\\"deleteApi\\\"\\r\\n        [(display)]=\\\"showOperationUpdatesPopup\\\"\\r\\n        [keyMap]=\\\"updatesKeyMap\\\"\\r\\n      ></aw-status-update-history>\\r\\n\\r\\n      <a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"currentIllustration\\\">\\r\\n        <a-header>\\r\\n          <div class=\\\"close-wrapper\\\">\\r\\n            <i class=\\\"aw-icon aw-icon-with-border material-icons\\\" (click)=\\\"hideIllustration()\\\">close</i>\\r\\n          </div>\\r\\n        </a-header>\\r\\n\\r\\n        <a-content>\\r\\n          <img *ngIf=\\\"currentIllustration\\\" [src]=\\\"currentIllustration\\\" />\\r\\n        </a-content>\\r\\n      </a-modal>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \":host .alignLeft {\\n  text-align: left; }\\n\\n:host .procurement-alert {\\n  font-weight: 600;\\n  text-align: center;\\n  display: inline-block;\\n  width: 50%; }\\n\\n:host .procurement--nok {\\n  background-color: #f6685e; }\\n\\n:host .procurement--ok {\\n  background-color: #4caf50; }\\n\\n:host .procurement--warning {\\n  background-color: #ffc107; }\\n\\n:host /deep/ p-progressbar.pla .ui-progressbar-value {\\n  background: #c8d4d6; }\\n\\n:host /deep/ p-progressbar.ong .ui-progressbar-value {\\n  background: #b8d0e8; }\\n\\n:host /deep/ p-progressbar.tbc .ui-progressbar-value {\\n  background: #b8d0e8; }\\n\\n:host /deep/ p-progressbar.per .ui-progressbar-value {\\n  background: #006ea9; }\\n\\n:host /deep/ p-progressbar.clo .ui-progressbar-value {\\n  background: #4caf50; }\\n\\n:host /deep/ p-progressbar.pos .ui-progressbar-value {\\n  background: #4caf50; }\\n\\n:host /deep/ p-progressbar.por .ui-progressbar-value {\\n  background: #dddf00; }\\n\\n:host /deep/ .colored-field {\\n  padding: 5px 0px !important; }\\n\\n:host /deep/ .colored-field input {\\n    padding: 3px 0px !important;\\n    width: 100px !important; }\\n\\n:host /deep/ .colored-field .error-field {\\n    background-color: #f6685e !important; }\\n\\n:host /deep/ .colored-field .ok-field {\\n    background-color: #4caf50 !important; }\\n\\n:host /deep/ .colored-field .warning-field {\\n    background-color: #ffc107 !important; }\\n\\n:host .space {\\n  padding-top: 8px; }\\n\\n:host .link {\\n  cursor: pointer; }\\n\\n:host .ok {\\n  background-color: #4caf50 !important;\\n  width: 30%;\\n  text-align: center; }\\n\\n:host .warning {\\n  background-color: #ffc107 !important;\\n  width: 30%;\\n  text-align: center; }\\n\\n:host .nok {\\n  background-color: #f6685e !important;\\n  width: 30%;\\n  text-align: center; }\\n\\n:host .grid-cell-work-package {\\n  height: 35%; }\\n\\n:host .grid-cell-work-in-progress .chart-container {\\n  display: flex;\\n  flex-direction: row; }\\n\\n@media screen and (max-width: 1280px) {\\n    :host .grid-cell-work-in-progress .chart-container {\\n      flex-direction: row; } }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-legend {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    margin-left: 8px; }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-legend .chart-legend-label {\\n      display: flex;\\n      flex-direction: row;\\n      align-items: center; }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-legend .chart-legend-label .chart-legend-label-color {\\n        height: 0.75rem;\\n        margin-right: 8px;\\n        width: 2rem; }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-legend .chart-legend-label .chart-legend-label-color.airworthy {\\n          background-color: #4caf50; }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-legend .chart-legend-label .chart-legend-label-color.airworthy-with-alerts {\\n          background-color: #ffc107; }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-legend .chart-legend-label .chart-legend-label-color.not-airworthy {\\n          background-color: #f6685e; }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-legend .chart-value {\\n      font-weight: 700;\\n      text-align: end;\\n      padding-right: 5px; }\\n\\n:host .grid-cell-work-in-progress .chart-container .chart-wrapper {\\n    position: relative;\\n    height: 9rem;\\n    width: 99%; }\\n\\n.grid-cell-work-in-progress {\\n  padding-top: 10px;\\n  height: 65%; }\\n\\n.outgoingConf.section {\\n  flex-grow: 1;\\n  text-align: center; }\\n\\n.outgoingConf.row {\\n  flex-wrap: nowrap !important; }\\n\\n.outgoingConf .row {\\n  flex: 1;\\n  padding: 0; }\\n\\n.outgoingConf input {\\n  text-align: center; }\\n\\n.outgoingConf .ok {\\n  background-color: #4caf50 !important; }\\n\\n.outgoingConf .outgoing-conf-warning {\\n  background-color: #ffc107 !important; }\\n\\n.outgoingConf .outgoing-conf-nok {\\n  background-color: #f6685e !important; }\\n\\n.link {\\n  padding-top: 24px;\\n  padding-bottom: 8px;\\n  color: #01579b; }\\n\\n.action-list {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-top: 15px; }\\n\\n.action-list .aw-btn {\\n    margin-left: 8px; }\\n\\n.action-list .aw-btn:first-of-type {\\n      margin-left: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS93b3JrLW9yZGVyL2Zvcm0vRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXGFwcFxcbWFpblxcbWFpbnRlbmFuY2VcXHdvcmstb3JkZXJcXGZvcm1cXHdvcmstb3JkZXItZm9ybS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS93b3JrLW9yZGVyL2Zvcm0vRDpcXFByb2ZpbGVzXFxhcHJhZGhhblxcRGVza3RvcFxcQWVyb3dlYmJcXFBST0pFQ1RTXFxmcm9udGVuZF9hZXJvd2ViYi9zcmNcXHN0eWxlc1xcX2NvbnN0YW50cy5zY3NzIiwic3JjL2FwcC9tYWluL21haW50ZW5hbmNlL3dvcmstb3JkZXIvZm9ybS9EOlxcUHJvZmlsZXNcXGFwcmFkaGFuXFxEZXNrdG9wXFxBZXJvd2ViYlxcUFJPSkVDVFNcXGZyb250ZW5kX2Flcm93ZWJiL3NyY1xcc3R5bGVzXFxfbWl4aW5zLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFFSSxnQkFBZ0IsRUFBQTs7QUFGcEI7RUFNSSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixVQUFVLEVBQUE7O0FBVGQ7RUFhSSx5QkNRZ0IsRUFBQTs7QURyQnBCO0VBaUJJLHlCQ0NrQixFQUFBOztBRGxCdEI7RUFxQkkseUJDRlksRUFBQTs7QURuQmhCO0VBeUJJLG1CQ0RXLEVBQUE7O0FEeEJmO0VBNEJJLG1CQ05pQixFQUFBOztBRHRCckI7RUErQkksbUJDVGlCLEVBQUE7O0FEdEJyQjtFQWtDSSxtQkNYZ0IsRUFBQTs7QUR2QnBCO0VBcUNJLG1CQ25Ca0IsRUFBQTs7QURsQnRCO0VBd0NJLG1CQ3RCa0IsRUFBQTs7QURsQnRCO0VBMkNJLG1CQ2xCYSxFQUFBOztBRHpCakI7RUErQ0ksMkJBQTJCLEVBQUE7O0FBL0MvQjtJQWlETSwyQkFBMkI7SUFDM0IsdUJBQXVCLEVBQUE7O0FBbEQ3QjtJQXFETSxvQ0FBd0MsRUFBQTs7QUFyRDlDO0lBd0RNLG9DQUEwQyxFQUFBOztBQXhEaEQ7SUEyRE0sb0NBQW9DLEVBQUE7O0FBM0QxQztFQWdFSSxnQkFBZ0IsRUFBQTs7QUFoRXBCO0VBb0VJLGVBQWUsRUFBQTs7QUFwRW5CO0VBd0VJLG9DQUEwQztFQUMxQyxVQUFVO0VBQ1Ysa0JBQWtCLEVBQUE7O0FBMUV0QjtFQThFSSxvQ0FBb0M7RUFDcEMsVUFBVTtFQUNWLGtCQUFrQixFQUFBOztBQWhGdEI7RUFvRkksb0NBQXdDO0VBQ3hDLFVBQVU7RUFDVixrQkFBa0IsRUFBQTs7QUF0RnRCO0VBMEZJLFdBQVcsRUFBQTs7QUExRmY7RUVvQkUsYUFBYTtFQUNiLG1CQUFtQixFQUFBOztBRjRFZjtJQWpHTjtNQWtHUSxtQkFBbUIsRUFBQSxFQTZDdEI7O0FBL0lMO0lFZUUsYUFBYTtJQUNiLHNCQUFzQjtJRndGaEIsdUJBQXVCO0lBQ3ZCLGdCQ2hFVSxFQUFBOztBRHpDbEI7TUVvQkUsYUFBYTtNQUNiLG1CQUFtQjtNRnlGWCxtQkFBbUIsRUFBQTs7QUE5RzdCO1FBaUhZLGVBQWU7UUFDZixpQkN6RU07UUQwRU4sV0FBVyxFQUFBOztBQW5IdkI7VUFzSGMseUJDcEdRLEVBQUE7O0FEbEJ0QjtVQTBIYyx5QkN2R0UsRUFBQTs7QURuQmhCO1VBOEhjLHlCQ3pHTSxFQUFBOztBRHJCcEI7TUFvSVUsZ0JBQWdCO01BQ2hCLGVBQWU7TUFDZixrQkFBa0IsRUFBQTs7QUF0STVCO0lBMklRLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osVUFBVSxFQUFBOztBQU1sQjtFQUNFLGlCQUFpQjtFQUNqQixXQUFXLEVBQUE7O0FBR2I7RUFDRSxZQUFZO0VBQ1osa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UsNEJBQTRCLEVBQUE7O0FBRzlCO0VBQ0UsT0FBTztFQUNQLFVBQVUsRUFBQTs7QUFHWjtFQUVJLGtCQUFrQixFQUFBOztBQUZ0QjtFQUtJLG9DQUEwQyxFQUFBOztBQUw5QztFQVNJLG9DQUFvQyxFQUFBOztBQVR4QztFQWFJLG9DQUF3QyxFQUFBOztBQUk1QztFQUNFLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsY0FBYyxFQUFBOztBQUdoQjtFQUNFLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsZ0JBQWdCLEVBQUE7O0FBSGxCO0lBTUksZ0JDMUpjLEVBQUE7O0FEb0psQjtNQVNNLGNBQWMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2Uvd29yay1vcmRlci9mb3JtL3dvcmstb3JkZXItZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuQGltcG9ydCBcIm1peGluc1wiO1xyXG5cclxuOmhvc3Qge1xyXG4gIC5hbGlnbkxlZnQge1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICB9XHJcblxyXG4gIC5wcm9jdXJlbWVudC1hbGVydCB7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICB9XHJcblxyXG4gIC5wcm9jdXJlbWVudC0tbm9rIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRyZWQtbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLnByb2N1cmVtZW50LS1vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gIH1cclxuXHJcbiAgLnByb2N1cmVtZW50LS13YXJuaW5nIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgfVxyXG5cclxuICAvZGVlcC8gcC1wcm9ncmVzc2Jhci5wbGEgLnVpLXByb2dyZXNzYmFyLXZhbHVlIHtcclxuICAgIGJhY2tncm91bmQ6ICRncmV5MTtcclxuICB9XHJcbiAgL2RlZXAvIHAtcHJvZ3Jlc3NiYXIub25nIC51aS1wcm9ncmVzc2Jhci12YWx1ZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiAkYmx1ZS1saWdodDE7XHJcbiAgfVxyXG4gIC9kZWVwLyBwLXByb2dyZXNzYmFyLnRiYyAudWktcHJvZ3Jlc3NiYXItdmFsdWUge1xyXG4gICAgYmFja2dyb3VuZDogJGJsdWUtbGlnaHQxO1xyXG4gIH1cclxuICAvZGVlcC8gcC1wcm9ncmVzc2Jhci5wZXIgLnVpLXByb2dyZXNzYmFyLXZhbHVlIHtcclxuICAgIGJhY2tncm91bmQ6ICRibHVlLWRhcmsxO1xyXG4gIH1cclxuICAvZGVlcC8gcC1wcm9ncmVzc2Jhci5jbG8gLnVpLXByb2dyZXNzYmFyLXZhbHVlIHtcclxuICAgIGJhY2tncm91bmQ6ICRncmVlbi1saWdodDE7XHJcbiAgfVxyXG4gIC9kZWVwLyBwLXByb2dyZXNzYmFyLnBvcyAudWktcHJvZ3Jlc3NiYXItdmFsdWUge1xyXG4gICAgYmFja2dyb3VuZDogJGdyZWVuLWxpZ2h0MTtcclxuICB9XHJcbiAgL2RlZXAvIHAtcHJvZ3Jlc3NiYXIucG9yIC51aS1wcm9ncmVzc2Jhci12YWx1ZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiAkeWVsbG93MTtcclxuICB9XHJcblxyXG4gIC9kZWVwLyAuY29sb3JlZC1maWVsZCB7XHJcbiAgICBwYWRkaW5nOiA1cHggMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBpbnB1dCB7XHJcbiAgICAgIHBhZGRpbmc6IDNweCAwcHggIWltcG9ydGFudDtcclxuICAgICAgd2lkdGg6IDEwMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICAuZXJyb3ItZmllbGQge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgLm9rLWZpZWxkIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGdyZWVuLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgLndhcm5pbmctZmllbGQge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkb3JhbmdlICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc3BhY2Uge1xyXG4gICAgcGFkZGluZy10b3A6IDhweDtcclxuICB9XHJcblxyXG4gIC5saW5rIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcblxyXG4gIC5vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMzAlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLndhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZSAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDMwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIC5ub2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDEgIWltcG9ydGFudDtcclxuICAgIHdpZHRoOiAzMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAuZ3JpZC1jZWxsLXdvcmstcGFja2FnZSB7XHJcbiAgICBoZWlnaHQ6IDM1JTtcclxuICB9XHJcblxyXG4gIC5ncmlkLWNlbGwtd29yay1pbi1wcm9ncmVzcyB7XHJcbiAgICAuY2hhcnQtY29udGFpbmVyIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEyODBweCkge1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jaGFydC1sZWdlbmQge1xyXG4gICAgICAgIEBpbmNsdWRlIGZsZXgtY29sdW1uKCk7XHJcblxyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAuY2hhcnQtbGVnZW5kLWxhYmVsIHtcclxuICAgICAgICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgICAgICAgICAuY2hhcnQtbGVnZW5kLWxhYmVsLWNvbG9yIHtcclxuICAgICAgICAgICAgaGVpZ2h0OiAwLjc1cmVtO1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6ICRtYXJnaW4tdmFsdWU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAycmVtO1xyXG5cclxuICAgICAgICAgICAgJi5haXJ3b3J0aHkge1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICYuYWlyd29ydGh5LXdpdGgtYWxlcnRzIHtcclxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkb3JhbmdlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAmLm5vdC1haXJ3b3J0aHkge1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRyZWQtbGlnaHQxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuY2hhcnQtdmFsdWUge1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGVuZDtcclxuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jaGFydC13cmFwcGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgaGVpZ2h0OiA5cmVtO1xyXG4gICAgICAgIHdpZHRoOiA5OSU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi5ncmlkLWNlbGwtd29yay1pbi1wcm9ncmVzcyB7XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgaGVpZ2h0OiA2NSU7XHJcbn1cclxuXHJcbi5vdXRnb2luZ0NvbmYuc2VjdGlvbiB7XHJcbiAgZmxleC1ncm93OiAxO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLm91dGdvaW5nQ29uZi5yb3cge1xyXG4gIGZsZXgtd3JhcDogbm93cmFwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5vdXRnb2luZ0NvbmYgLnJvdyB7XHJcbiAgZmxleDogMTtcclxuICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG4ub3V0Z29pbmdDb25mIHtcclxuICBpbnB1dCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIC5vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAub3V0Z29pbmctY29uZi13YXJuaW5nIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2UgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5vdXRnb2luZy1jb25mLW5vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG5cclxuLmxpbmsge1xyXG4gIHBhZGRpbmctdG9wOiAyNHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbiAgY29sb3I6ICMwMTU3OWI7XHJcbn1cclxuXHJcbi5hY3Rpb24tbGlzdCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gIG1hcmdpbi10b3A6IDE1cHg7XHJcblxyXG4gIC5hdy1idG4ge1xyXG4gICAgbWFyZ2luLWxlZnQ6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIiRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuJHByaW1hcnktdGV4dC1jb2xvcjogIzAwMDtcclxuJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjNTk1OTU5O1xyXG4kYWNjZW50LWNvbG9yOiAjMDE1NzliO1xyXG5cclxuJGJvZHktYmFja2dyb3VuZC1jb2xvcjogI2U4ZWJlZDtcclxuJHRvcGJhci1jb2xvcjogI2ZhZmFmYTtcclxuXHJcbi8vICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbi8vICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzMzMzMzMztcclxuLy8gJHByaW1hcnktdGV4dC1jb2xvcjogI2U4ZThlODtcclxuLy8gJHNlY29uZGFyeS10ZXh0LWNvbG9yOiAjZmZmO1xyXG4vLyAkYWNjZW50LWNvbG9yOiAjOWNkY2ZlO1xyXG5cclxuJGJvcmRlci1jb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1kaXNhYmxlZDogdHJhbnNwYXJlbnQ7XHJcbiRib3JkZXItY29sb3ItLWZvY3VzOiAkYWNjZW50LWNvbG9yO1xyXG4kYm9yZGVyLWNvbG9yLS1ob3ZlcjogIzFhMWExYTtcclxuXHJcbiRncmVlbi1kYXJrMTogIzI3NjMyYTtcclxuJGdyZWVuLWxpZ2h0MTogIzRjYWY1MDtcclxuJG9yYW5nZTogI2ZmYzEwNztcclxuJHJlZC1kYXJrMTogI2E4MjUyNTtcclxuJHJlZC1saWdodDE6ICNmNjY4NWU7XHJcbiRibHVlLWxpZ2h0MTogI2I4ZDBlODtcclxuJGJsdWUtZGFyazE6ICMwMDZlYTk7XHJcbiRncmV5MTogI2M4ZDRkNjtcclxuJHllbGxvdzE6ICNkZGRmMDA7XHJcblxyXG4kY3JpdGljYWwtdmFsdWUtZGFyazogI2ZiYTY0MzsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjcml0aWNhbC12YWx1ZS1saWdodDogI2ZlY2M4ZTsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRjYWxlbmRhci15ZWxsb3c6ICNlZmVmYjA7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG4kYmFkLXZhbHVlLWRhcms6ICNmZjY3NTg7IC8vIFRPRE86IHJlbW92ZSBpdFxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuJGJvcmRlci1yYWRpdXM6IDRweDtcclxuJGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiRib3JkZXItd2lkdGg6IDFweDtcclxuJGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYlwiO1xyXG4kZm9udC1zaXplOiAwLjg3NXJlbTtcclxuJGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiRsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XHJcbiRtYXJnaW4tdmFsdWU6IDhweDtcclxuJHBhZ2UtbWF4LXdpZHRoOiAxMzY2cHg7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC00OiA0O1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMzogMztcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTI6IDI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kbGVmdC1zaWRlYmFyLXdpZHRoLS1jb2xsYXBzZWQ6IDUwcHg7XHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJHJpZ2h0LXNpZGViYXItd2lkdGgtLWV4cGFuZGVkOiAyMjBweDtcclxuJHRvcGJhci1oZWlnaHQ6IDQwcHg7XHJcbiRtYWluYmFyLWJvcmRlci1jb2xvcjogZGFya2VuKCRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvciwgNSUpO1xyXG4kbWFpbmJhci1ib3JkZXItd2lkdGg6IDJweDtcclxuJHBhZ2UtaGVhZGVyLWhlaWdodDogNS41cmVtO1xyXG4kZm9ybS1jb250cm9sLWhlaWdodDogMi41cmVtO1xyXG4kY2hlY2tib3gtaGVpZ2h0OiAxLjI1cmVtO1xyXG4kcmFkaW9idXR0b24taGVpZ2h0OiAxLjI1cmVtO1xyXG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIFV0aWxzIC8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBidXR0b24tY29sb3IoJGJhY2tncm91bmQtY29sb3IsICRjb2xvciwgJGJvcmRlci1jb2xvcjogbnVsbCkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRiYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIGJvcmRlci1jb2xvcjogJGNvbG9yO1xyXG4gIGNvbG9yOiAkY29sb3I7XHJcblxyXG4gICY6bm90KDpkaXNhYmxlZCk6aG92ZXIsXHJcbiAgJjpub3QoOmRpc2FibGVkKS5hY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yO1xyXG4gICAgYm9yZGVyLWNvbG9yOiBpZigkYm9yZGVyLWNvbG9yID09IG51bGwsICRjb2xvciwgJGJvcmRlci1jb2xvcik7XHJcbiAgICBjb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZmxleC1jb2x1bW4oKSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcblxyXG5AbWl4aW4gZmxleC1yb3coKSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQoKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICBib3JkZXItbGVmdC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMDtcclxuICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcbiAgY29sb3I6IGluaGVyaXQ7XHJcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XHJcbiAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBwYWRkaW5nOiAycHggMCA0cHggMDtcclxuXHJcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxufVxyXG5cclxuQG1peGluIGlucHV0LWRpc2FibGVkKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWRpc2FibGVkO1xyXG4gIG9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dC1mb2N1cygpIHtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxufVxyXG5cclxuQG1peGluIGlucHV0LWhvdmVyKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG59XHJcblxyXG5AbWl4aW4gcGxhY2Vob2xkZXIge1xyXG4gICY6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG4gICY6LW1vei1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjo6LW1vei1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjotbXMtaW5wdXQtcGxhY2Vob2xkZXIge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc2VhcmNoLWNyaXRlcmlhLWNvbnRhaW5lciB7XHJcbiAgLmFkdmFuY2VkLWNyaXRlcmlhIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICB9XHJcblxyXG4gIC5zZWFyY2gtY3JpdGVyaWEtZm9vdGVyIHtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIG1hcmdpbi10b3A6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDIpO1xyXG5cclxuICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyIHtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXItbGVzcyxcclxuICAgICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1tb3JlIHtcclxuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXItbGVzcyxcclxuICAgICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXItbW9yZSB7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gLyAyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5zZWFyY2gtYWN0aW9ucyB7XHJcbiAgICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gICAgICAuYXctYnRuIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHNlY3Rpb24tY29udGFpbmVyIHtcclxuICBtYXJnaW4tdG9wOiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiA0KTtcclxuXHJcbiAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgfVxyXG5cclxuICAuc2VjdGlvbi10aXRsZSB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNzVyZW07XHJcbiAgICBtYXJnaW4tbGVmdDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcblxyXG4gICAgJi5yZXF1aXJlZCB7XHJcbiAgICAgIEBpbmNsdWRlIGdyaWQtZm9ybS1jb250cm9sLXJlcXVpcmVkKCk7XHJcbiAgICAgICY6OmFmdGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5hbGVydCB7XHJcbiAgICAgICAgY29sb3I6ICRyZWQtZGFyazE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXctaWNvbiB7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjc1cmVtO1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLWNvbnRlbnQge1xyXG4gICAgQGluY2x1ZGUgZmxleC1jb2x1bW4oKTtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLWFjdGlvbnMge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG5cclxuICAgICYgPiBidXR0b24ge1xyXG4gICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICY6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiB0ZXh0LW92ZXJmbG93LWhpZGRlbiB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIEdyaWQgZm9ybSBjb250cm9scyAvL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wge1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBmb250LWZhbWlseTogXCJMYXRvTGF0aW5XZWJNZWRpdW1cIjtcclxuXHJcbiAgJiA+IGlucHV0ICsgcC1tZXNzYWdlID4gLnVpLW1lc3NhZ2Uge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWFjdGlvbnMge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgJjpmb2N1cyxcclxuICAgICY6aG92ZXIge1xyXG4gICAgICAmID4gLmZvcm0tY29udHJvbC1hY3Rpb25zIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gbGVmdCwgcmdiKDI1NSwgMjU1LCAyNTUpIDYwJSwgdHJhbnNwYXJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJiA+ICo6Zmlyc3QtY2hpbGQge1xyXG4gICAgICB3aWR0aDogY2FsYygxMDAlIC0gMS43NXJlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgJiA+IC5mb3JtLWNvbnRyb2wtYWN0aW9ucyB7XHJcbiAgICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBib3R0b206IDA7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgIHRvcDogMDtcclxuXHJcbiAgICAgIC5hdy1pY29uIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1idG4sXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1tb2RhbCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICBib3JkZXItbGVmdC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICAgIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAkYm9yZGVyLXdpZHRoO1xyXG5cclxuICAgIHRyYW5zaXRpb246IGJvcmRlci1ib3R0b20tY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgJi5kaXNhYmxlZCB7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWJ0biB7XHJcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XHJcblxyXG4gICAgJiA+ICo6Zmlyc3QtY2hpbGQge1xyXG4gICAgICB3aWR0aDogY2FsYygxMDAlIC0gMS43NXJlbSk7XHJcblxyXG4gICAgICAmLmF3LWNhbGVuZGFyIC51aS1pbnB1dHRleHQsXHJcbiAgICAgICYuYXctZHJvcGRvd24gLnVpLWRyb3Bkb3duLFxyXG4gICAgICAmLmF3LWlucHV0LFxyXG4gICAgICAmLmF3LXRleHRhcmVhIHtcclxuICAgICAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJiA+IC5hdy1jYWxlbmRhciB7XHJcbiAgICAgIC8vIEZJWE1FOiBmaXggYW4gVUkgaXNzdWUgb24gUHJpbWVORyBjYWxlbmRhciBjb21wb25lbnQ7IHRvIHJlbW92ZSB3aGVuIGlzc3VlIHdpbGwgYmUgZml4ZWQgdXBzdHJlYW1cclxuICAgICAgb3ZlcmZsb3c6IGluaXRpYWw7XHJcbiAgICB9XHJcblxyXG4gICAgJiA+IC5hdy1pY29uIHtcclxuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1tb2RhbCB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBtYXgtaGVpZ2h0OiAzMHB4O1xyXG4gICAgbWluLWhlaWdodDogMzBweDtcclxuXHJcbiAgICAmLmRpc2FibGVkIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuXHJcbiAgICAgIC5hdy1pY29uOm5vdCgucmVhZC1vbmx5LWxpbmspIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jazsgLy8gbm9uZVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLmZvcm0tY29udHJvbC1kYXRhIHtcclxuICAgICAgY29sb3I6IGluaGVyaXQ7XHJcbiAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcbiAgICAgIHBhZGRpbmc6IDJweCAwIDRweCAwO1xyXG4gICAgfVxyXG5cclxuICAgIC5idG4tbmltcCxcclxuICAgIC5idG4tZXh0ZXJuYWwtbGluay13cmFwcGVyLFxyXG4gICAgLmJ0bi1jbGVhci13cmFwcGVyLFxyXG4gICAgLmJ0bi1maWxlLXVwbG9hZC13cmFwcGVyLFxyXG4gICAgLmJ0bi1zZWFyY2gtd3JhcHBlciB7XHJcbiAgICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC5idG4tZmlsZS11cGxvYWQtd3JhcHBlciB7XHJcbiAgICAgIC5hdy1maWxldXBsb2FkIHtcclxuICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuXHJcbiAgICAgICAgJjpmb2N1cyxcclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC51aS1idXR0b24ge1xyXG4gICAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIHdpZHRoOiAxLjFyZW07XHJcblxyXG4gICAgICAgICAgJjpmb2N1cyxcclxuICAgICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAudWktYnV0dG9uLWljb24tbGVmdCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGNvbnRlbnRzO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICAgICAgcG9zaXRpb246IGluaXRpYWw7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxLjFyZW07XHJcblxyXG4gICAgICAgICAgICAmOjpiZWZvcmUge1xyXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXFxlOTM0XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuYXctaWNvbiB7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5idG4tY2xlYXIge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJi5idG4tc2VhcmNoIHtcclxuICAgICAgICB3aWR0aDogMS43NXJlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJi5mb3JtLWNvbnRyb2wtd2l0aC1yYWRpb2J1dHRvbiB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgICYgPiAuYXctcmFkaW9idXR0b24ge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IGNhbGMoMiAqICN7JG1hcmdpbi12YWx1ZX0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1jb250cm9sLWdlbmVyaWMge1xyXG4gIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gIGhlaWdodDogMzBweDtcclxuICBsaW5lLWhlaWdodDogJGxpbmUtaGVpZ2h0O1xyXG5cclxuICAmID4gYSB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJiA+IC5hbGVydCB7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDVyZW07XHJcblxyXG4gICAgJi5hbGVydC0tbm9rIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0tb2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW4tbGlnaHQxO1xyXG4gICAgfVxyXG5cclxuICAgICYuYWxlcnQtLXdhcm5pbmcge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkb3JhbmdlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1jb250cm9sLXJlcXVpcmVkIHtcclxuICAmOjphZnRlciB7XHJcbiAgICBjb2xvcjogJHJlZC1kYXJrMTtcclxuICAgIGNvbnRlbnQ6IFwiKlwiO1xyXG4gICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTRweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWNhbGVuZGFyIHtcclxuICAmLnVpLWlucHV0d3JhcHBlci1mb2N1cyB7XHJcbiAgICAudWktY2FsZW5kYXIgLnVpLWlucHV0dGV4dCB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0LWZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAudWktY2FsZW5kYXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgLnVpLWlucHV0dGV4dCB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0KCk7XHJcblxyXG4gICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICY6ZGlzYWJsZWQge1xyXG4gICAgICAgIEBpbmNsdWRlIGlucHV0LWRpc2FibGVkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KDpkaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICAgIEBpbmNsdWRlIGlucHV0LWhvdmVyKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tbGFiZWwge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuQG1peGluIGdyaWQtY2hlY2tib3gge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBoZWlnaHQ6ICRjaGVja2JveC1oZWlnaHQ7XHJcbiAgd2lkdGg6ICRjaGVja2JveC1oZWlnaHQ7XHJcblxyXG4gIC51aS1jaGtib3gge1xyXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgLnVpLWNoa2JveC1ib3gge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6ICRib3JkZXItcmFkaXVzO1xyXG4gICAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgICBjb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1hY3RpdmUge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1kcm9wZG93biB7XHJcbiAgLnVpLWRyb3Bkb3duIHtcclxuICAgIEBpbmNsdWRlIGlucHV0KCk7XHJcblxyXG4gICAgJi51aS1zdGF0ZS1kaXNhYmxlZCB7XHJcbiAgICAgIEBpbmNsdWRlIGlucHV0LWRpc2FibGVkKCk7XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tbGFiZWwge1xyXG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWZvY3VzIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi10cmlnZ2VyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1jbGVhci1pY29uLFxyXG4gICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG5cclxuICAgICAgJjpmb2N1cyxcclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tY2xlYXItaWNvbiB7XHJcbiAgICAgIHJpZ2h0OiAxLjc1cmVtO1xyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi10cmlnZ2VyIHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWxhYmVsIHtcclxuICAgICAgQGluY2x1ZGUgdGV4dC1vdmVyZmxvdy1oaWRkZW4oKTtcclxuXHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAyICogMS43NXJlbSk7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZpeGVkLXdpZHRoIC51aS1kcm9wZG93biB7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZmlsZXVwbG9hZCB7XHJcbiAgQGV4dGVuZCAuYXctYnRuO1xyXG5cclxuICBwYWRkaW5nOiAwO1xyXG5cclxuICAudWktZmlsZXVwbG9hZC1jaG9vc2Uge1xyXG4gICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBwYWRkaW5nOiAwICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgLnVpLWJ1dHRvbi1pY29uLWxlZnQge1xyXG4gICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC51aS1idXR0b24tdGV4dCB7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtaW5wdXQoKSB7XHJcbiAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICY6ZGlzYWJsZWQge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuICB9XHJcblxyXG4gICY6bm90KDpkaXNhYmxlZCk6Zm9jdXMge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuICB9XHJcblxyXG4gICY6bm90KDpkaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLXRleHRhcmVhIHtcclxuICBAaW5jbHVkZSBncmlkLWlucHV0KCk7XHJcblxyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1pbi1oZWlnaHQ6ICRmb3JtLWNvbnRyb2wtaGVpZ2h0O1xyXG4gIHJlc2l6ZTogdmVydGljYWw7XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLXJhZGlvYnV0dG9uIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgaGVpZ2h0OiAkcmFkaW9idXR0b24taGVpZ2h0O1xyXG4gIHdpZHRoOiAkcmFkaW9idXR0b24taGVpZ2h0O1xyXG5cclxuICAudWktcmFkaW9idXR0b24ge1xyXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgLnVpLXJhZGlvYnV0dG9uLWJveCB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG4gICAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHdpZHRoOiBpbmhlcml0O1xyXG5cclxuICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG5cclxuICAgICAgJi51aS1zdGF0ZS1kaXNhYmxlZCB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICAgIGNvbG9yOiAkcHJpbWFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtYWN0aXZlIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcblxyXG4gICAgICAgIC51aS1yYWRpb2J1dHRvbi1pY29uIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5AbWl4aW4gY2FsZW5kYXItcGFuZWwge1xyXG4gIC51aS1kYXRlcGlja2VyOm5vdCgudWktZGF0ZXBpY2tlci1pbmxpbmUpIHtcclxuICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3JkZXItc3R5bGU6ICRib3JkZXItc3R5bGU7XHJcbiAgICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcbiAgICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMTYpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGRyb3Bkb3duLXBhbmVsIHtcclxuICAudWktZHJvcGRvd24tcGFuZWwge1xyXG4gICAgYm9yZGVyOiAkYm9yZGVyLXdpZHRoICRib3JkZXItc3R5bGUgJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMTYpO1xyXG5cclxuICAgIC51aS1kcm9wZG93bi1pdGVtcy13cmFwcGVyIC51aS1kcm9wZG93bi1saXN0IHtcclxuICAgICAgLnVpLWRyb3Bkb3duLWl0ZW0ge1xyXG4gICAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgcGFkZGluZzogJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLnVpLXN0YXRlLWhpZ2hsaWdodCB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgICAgY29sb3I6ICRwcmltYXJ5LWJhY2tncm91bmQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as moment from 'moment';\r\nimport { MenuItem, SelectItem, TreeNode } from 'primeng/api';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { TableDataSourceWithHistory } from '../../../../modules/purchase-contract/utils/table-data-source-with-history';\r\nimport { PageTocService } from '../../../../shared/components/component-sidebar/page-toc.service';\r\nimport { PageTocEntry } from '../../../../shared/components/component-sidebar/types/page-toc-entry.interface';\r\nimport { DialogTableData } from '../../../../shared/components/dialog-table/types/dialog-table-data.interface';\r\nimport { ColumnAlignment } from '../../../../shared/components/table/table-data-source';\r\nimport { AppConstants } from '../../../../shared/constants/app-constants';\r\nimport { AWPropertiesConstants } from '../../../../shared/constants/aw-properties-constants';\r\nimport { BidoEvolutionConstants } from '../../../../shared/constants/bido-evolution-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../../shared/constants/bido-function-type-constants';\r\nimport { BidoNotificationTypeConstants } from '../../../../shared/constants/bido-notification-type-constants';\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ControlConfigConstants } from '../../../../shared/constants/control-config-constants';\r\nimport { GenericPropertyConstants } from '../../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { TableColumnFilterMode } from '../../../../shared/enums/table-column-filter-mode.enum';\r\nimport { TableSelectionMode } from '../../../../shared/enums/table-selection-mode.enum';\r\nimport { ConfirmationService } from '../../../../shared/services/confirmation.service';\r\nimport { DavFieldService } from '../../../../shared/services/dassault/field.service';\r\nimport { DateService } from '../../../../shared/services/date.service';\r\nimport { FavoriteService } from '../../../../shared/services/favorite.service';\r\nimport { LoaderService } from '../../../../shared/services/loader.service';\r\nimport { MessageService } from '../../../../shared/services/message.service';\r\nimport { PropertiesService } from '../../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../../shared/services/session.service';\r\nimport { TabService } from '../../../../shared/services/tab.service';\r\nimport { BidmTimeTrackingByOperationInputDTO } from '../../../../shared/types/api-input-types/aircraft-maintenance/bidm-time-tracking-by-operation-input-dto.interface';\r\nimport { BidmTimeTrackingByOperationOutputDTO } from '../../../../shared/types/api-input-types/aircraft-maintenance/bidm-time-tracking-by-operation-output-dto.interface';\r\nimport { AssetWorkOrderOriginInput } from '../../../../shared/types/api-input-types/airworthiness-management/asset-work-order-origin-input.inteface';\r\nimport { StaffPlanningInput } from '../../../../shared/types/api-input-types/bidt-employee/staff-planning-input.interface';\r\nimport { ControlStockInput } from '../../../../shared/types/api-input-types/bidt-stock-mvt/control-stock-input.interface';\r\nimport { ControlConfigurationInput } from '../../../../shared/types/api-input-types/fleet-business/control-configuration-input.interface';\r\nimport { FindForRemovalInput } from '../../../../shared/types/api-input-types/logistic/find-for-removal-input.interface';\r\nimport { UsersForWorkOrderInput } from '../../../../shared/types/api-input-types/user-profile-management/users-for-work-order.interface';\r\nimport { BidmWoAssignmentInput } from '../../../../shared/types/api-input-types/work-order/bidm-wo-assignment-input.interface';\r\nimport { CalculateWorkOrderImput } from '../../../../shared/types/api-input-types/work-order/calculate-work-order-input.interface';\r\nimport { ProgressFromOperationStatusInput } from '../../../../shared/types/api-input-types/work-order/progress-from-operation-status-input';\r\nimport { UpdateJobCardInput } from '../../../../shared/types/api-input-types/work-order/update-job-card-input.interface';\r\nimport { WorkPostponementInput } from '../../../../shared/types/api-input-types/work-order/work-postponement-input.interface';\r\nimport { ADSBModRowDTO } from '../../../../shared/types/api-output-types/airworthiness-management/adsb-mod-row-dto.interface';\r\nimport { FindEmployeeQualificationDTO } from '../../../../shared/types/api-output-types/bidt-qualif-employee/find-employee-qualification-dto.interface';\r\nimport { GetQuantityInStockBySiteOutput } from '../../../../shared/types/api-output-types/bidt-stock-mvt/get-quantity-in-stock-by-site-output.interface';\r\nimport { ControlConfigurationOutput } from '../../../../shared/types/api-output-types/fleet-business/control-configuration-output.interface';\r\nimport { BidoEquipmentLWO } from '../../../../shared/types/api-output-types/fleet-management/bido-equipment-lwo.interface';\r\nimport { BidoNotificationOutputDTO } from '../../../../shared/types/api-output-types/fleet-management/bido-notification-output-dto.interface';\r\nimport { ProcurementRequestAndIndicatorsOutputDTO } from '../../../../shared/types/api-output-types/product-structure-management/procurement-request-and-indicators-output-dto';\r\nimport { BidmDocumentDTO } from '../../../../shared/types/api-types/bidm-document-dto.interface';\r\nimport { BidmOperationDTOId } from '../../../../shared/types/api-types/bidm-operation-dto-id.interface';\r\nimport { BidmOperationDTO } from '../../../../shared/types/api-types/bidm-operation-dto.interface';\r\nimport { BidmProjectDTOId } from '../../../../shared/types/api-types/bidm-project-dto-id.interface';\r\nimport { BidmProjectDTO } from '../../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidmWoAssignmentDTOId } from '../../../../shared/types/api-types/bidm-wo-assignment-dto-id.interface';\r\nimport { BidmWoAssignmentDTO } from '../../../../shared/types/api-types/bidm-wo-assignment-dto.interface';\r\nimport { BidmWorkOrderDTOId } from '../../../../shared/types/api-types/bidm-work-order-dto-id.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { BidoDocumentationDTO } from '../../../../shared/types/api-types/bido-documentation-dto.interface';\r\nimport { BidoEquipmentDTOId } from '../../../../shared/types/api-types/bido-equipment-dto-id.interface';\r\nimport { BidoEquipmentDTO } from '../../../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BidoNotificationDTOId } from '../../../../shared/types/api-types/bido-notification-dto-id.interface';\r\nimport { BidoNotificationDTO } from '../../../../shared/types/api-types/bido-notification-dto.interface';\r\nimport { BidoUserDTOId } from '../../../../shared/types/api-types/bido-user-dto-id.interface';\r\nimport { BidoUserDTO } from '../../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BidtEmployeeDTO } from '../../../../shared/types/api-types/bidt-employee-dto.interface';\r\nimport { BidtSiteDTO } from '../../../../shared/types/api-types/bidt-site-dto.interface';\r\nimport { BidtTransferOrderDTO } from '../../../../shared/types/api-types/bidt-transfer-order-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BireEvolutionDTOId } from '../../../../shared/types/api-types/bire-evolution-dto-id.interface';\r\nimport { BireItemDTO } from '../../../../shared/types/api-types/bire-item-dto.interface';\r\nimport { BireModificationDTOId } from '../../../../shared/types/api-types/bire-modification-dto-id.interface';\r\nimport { BireOperationDTOId } from '../../../../shared/types/api-types/bire-operation-dto-id.interface';\r\nimport { BireOperationDTO } from '../../../../shared/types/api-types/bire-operation-dto.interface';\r\nimport { BireSbDTOId } from '../../../../shared/types/api-types/bire-sb-dto-id.interface';\r\nimport { BireTaskDTOId } from '../../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskDTO } from '../../../../shared/types/api-types/bire-task-dto.interface';\r\nimport { HBidmOperationDTO } from '../../../../shared/types/api-types/h-bidm-operation-dto.interface';\r\nimport { UpdateLogbookFromWorkOrderInput } from '../../../../shared/types/api-types/update-logbook-from-work-order-input.interface';\r\nimport { WoAssetManagementDTO } from '../../../../shared/types/api-types/wo-asset-management-dto.interface';\r\nimport { WoAssetManagementInputDTO } from '../../../../shared/types/api-types/wo-asset-management-input-dto.interface';\r\nimport { WorkOrderStatusDetailDTO } from '../../../../shared/types/api-types/work-order-status-detail-dto.interface';\r\nimport { GoodsMovementInput } from '../../../../shared/types/component-input-types/logistics/goods-movement-input.interface';\r\nimport { AppliedConfigurationManagementInput } from '../../../../shared/types/component-input-types/maintenance/applied-configuration-management.interface';\r\nimport { WorkDataDefect } from '../../../../shared/types/component-input-types/maintenance/work-data-defect.interface';\r\nimport { FormPageComponent } from '../../../../shared/types/form-page-component';\r\nimport { LabelValue } from '../../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../../shared/types/page-component-data.interface';\r\nimport { TableColumn } from '../../../../shared/types/table-column.interface';\r\nimport { BidmDocumentUtils, DocumentRow } from '../../../../shared/utils/bidm-document-utils';\r\nimport { BidmWorkOrderUtils } from '../../../../shared/utils/bidm-work-order-utils';\r\nimport { BidoEquipmentUtils } from '../../../../shared/utils/bido-equipment-utils';\r\nimport { BireItemUtils } from '../../../../shared/utils/bire-item-utils';\r\nimport { FileUtils } from '../../../../shared/utils/file-utils';\r\nimport { ImageUtils } from '../../../../shared/utils/image-utils';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { ObjectUtils } from '../../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../../shared/utils/string-utils';\r\nimport { UrlUtils } from '../../../../shared/utils/url-utils';\r\nimport { WorkflowUtils } from '../../../../shared/utils/workflow-utils';\r\nimport { EmployeeFormService } from '../../../human-resources/employee-form/employee-form.service';\r\nimport { LogisticsService } from '../../../logistics/logistics.service';\r\nimport { OverlayService } from '../../../overlay/overlay.service';\r\nimport { ProcurementRequestsTableService } from '../../procurement-request/procurement-requests-table.service';\r\nimport { WorkPackageFormService } from '../../work-package/form/work-package-form.service';\r\n\r\nimport { WorkOrderStatusComponent } from './status/work-order-status.component';\r\nimport { WorkOrderFormService } from './work-order-form.service';\r\n\r\ninterface ChartType {\r\n  labels: string[];\r\n  datasets: { data: number[]; backgroundColor: string[]; hoverBackgroundColor: string[] }[];\r\n}\r\ninterface ChartDataset {\r\n  statusList: string[];\r\n  value: number;\r\n  color: string;\r\n  label: string;\r\n}\r\n\r\n/* interface TreeTableColumns {\r\n  field: string;\r\n  alignment: string;\r\n  width: string;\r\n} */\r\n\r\ninterface OutgoinConfiguration {\r\n  ok?: number;\r\n  warning?: number;\r\n  nok?: number;\r\n}\r\n\r\ninterface StockControlConf {\r\n  ok?: number;\r\n  warning?: number;\r\n  nok?: number;\r\n}\r\n\r\ninterface DocumentTableRow {\r\n  docTask?: string;\r\n  docName?: string;\r\n  docExternal?: string;\r\n  docExtension?: string;\r\n  docSize?: string;\r\n  docPublicationDate?: Date;\r\n  docDescription?: string;\r\n  docIsIllustration?: boolean;\r\n  materialIllustration?: SafeResourceUrl;\r\n  _obj?: BidoDocumentationDTO;\r\n  docCode?: string;\r\n  docFile?: Uint8Array;\r\n}\r\n\r\ninterface JobCardOperation extends BidmOperationDTO {\r\n  opeDesignation?: string;\r\n  opeSequence?: number;\r\n  opeQualification?: string;\r\n  opeStdDurationDisplay?: string;\r\n  opePerformedDurationDisplay?: string;\r\n  opePerformedElapsedDisplay?: string;\r\n  opeStartDateDisplay?: string;\r\n  opePerformedOnDisplay?: string;\r\n  opeStatusPercent?: string;\r\n  opeStatusDisplay?: string;\r\n  opePerformedLastByDisplay?: string;\r\n  opeCheckByDisplay?: string;\r\n  opeCheckOnDisplay?: string;\r\n  opeComment?: string;\r\n  isOpeOnPerformed?: boolean;\r\n  isOpeOnElapsed?: boolean;\r\n  isCriticalTask?: boolean;\r\n  canAchieveOperation?: boolean;\r\n  canStartOrEndDuration?: boolean;\r\n  _expand?: boolean | false;\r\n}\r\n\r\ninterface JobCardWoAssetManagement extends WoAssetManagementDTO {\r\n  key: string;\r\n  event?: string;\r\n  fl?: string;\r\n  availableDecisions?: SelectItem[];\r\n  availableSuperiorAssets?: SelectItem[];\r\n  availablePNs?: SelectItem[];\r\n  availableEquipments?: SelectItem[];\r\n  availableWarehouses?: SelectItem[];\r\n  availableItems?: SelectItem[];\r\n  availableFunctionCodes?: SelectItem[];\r\n  availableStatuses?: SelectItem[];\r\n  availableFls?: SelectItem[];\r\n  isReady?: boolean | false;\r\n  isLoading?: boolean | false;\r\n  transferOrders: BidtTransferOrderDTO[];\r\n  _obj?: WoAssetManagementDTO;\r\n  _expand?: boolean | false;\r\n  _existingReversal?: boolean;\r\n}\r\n\r\ninterface DurationInterface {\r\n  performedDuration: Date;\r\n  elapsedTime: Date;\r\n}\r\n\r\ninterface TimeTrackingOutput {\r\n  durationInterface?: DurationInterface;\r\n  addedBidmTimeTracking?: BidmTimeTrackingByOperationOutputDTO[];\r\n}\r\n\r\ninterface StakeholdersRow {\r\n  stakeholderName?: string;\r\n  qualification?: string;\r\n  isController?: boolean;\r\n  _obj?: BidmWoAssignmentDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-work-order',\r\n  styleUrls: ['./work-order-form.component.scss'],\r\n  templateUrl: './work-order-form.component.html'\r\n})\r\nexport class WorkOrderFormComponent extends FormPageComponent<PageComponentData> implements OnInit {\r\n  public readonly awPropertiesConstants: typeof AWPropertiesConstants;\r\n  public readonly bidoNotificationTypeConstants: typeof BidoNotificationTypeConstants;\r\n  public readonly controlConfigConstants: typeof ControlConfigConstants;\r\n\r\n  @ViewChild('mainAnchor')\r\n  public mainAnchor: ElementRef;\r\n  @ViewChild('workPackageAnchor')\r\n  public workPackageAnchor: ElementRef;\r\n  @ViewChild('progressAnchor')\r\n  public workOrderProgressAnchor: ElementRef;\r\n  @ViewChild('generalAnchor')\r\n  public generalAnchor: ElementRef;\r\n  @ViewChild('operationsAnchor')\r\n  public operationsAnchor: ElementRef;\r\n  @ViewChild('commentAnchor')\r\n  public commentAnchor: ElementRef;\r\n  @ViewChild('additionalWorkAnchor')\r\n  public additionalWorkAnchor: ElementRef;\r\n  @ViewChild('taskDocumentsAnchor')\r\n  public taskDocumentsAnchor: ElementRef;\r\n  @ViewChild('woDocumentsAnchor')\r\n  public woDocumentsAnchor: ElementRef;\r\n  @ViewChild('defectsAnchor')\r\n  public defectsAnchor: ElementRef;\r\n  @ViewChild('requestManagmentAnchor')\r\n  public requestManagmentAnchor: ElementRef;\r\n  @ViewChild('installRemoveAnchor')\r\n  public installRemoveAnchor: ElementRef;\r\n\r\n  @ViewChild('procurementRequestsTable')\r\n  public procurementRequestTableAnchor: ElementRef;\r\n\r\n  public currentIllustration: SafeResourceUrl | undefined;\r\n  public TABLE_PAGINATION_DEFAULT_ROWS: number = AppConstants.TABLE_PAGINATION_DEFAULT_ROWS;\r\n  public pageTitle: string;\r\n  public navigationLinkList: MenuItem[];\r\n  public actionLinkList: MenuItem[];\r\n  public bidmWorkOrderId: BidmWorkOrderDTOId;\r\n  public toc: PageTocEntry[];\r\n  public selectedAnchor: string | undefined;\r\n  public workOrder: BidmWorkOrderDTO = {};\r\n  public workPackage: BidmProjectDTO = {};\r\n  public woStatus: WorkOrderStatusDetailDTO;\r\n  public assetRepresentation: string;\r\n  public isLoadingOperationsTable: boolean;\r\n  public operationTable: JobCardOperation[];\r\n  public operationTableCols: TableColumn[];\r\n  public selectedOperations: BidmOperationDTO[];\r\n  public bireTask: BireTaskDTO;\r\n  public woItemDTO: BireItemDTO;\r\n  public wpEquipementDto: BidoEquipmentDTO;\r\n  public woEquipementDto: BidoEquipmentDTO;\r\n  public outgoinConfiguration: OutgoinConfiguration = { ok: undefined, warning: undefined, nok: undefined };\r\n  public stockControlConf: StockControlConf = { ok: undefined, warning: undefined, nok: undefined };\r\n  public dateStartPerformedDuration?: number;\r\n  public dateEndPerformedDuration?: number;\r\n  public dateStartElapsedDuration?: number;\r\n  public dateEndElapsedDuration?: number;\r\n  public user?: BidoUserDTO;\r\n  public userText?: string;\r\n  public showSaveSpinner: boolean = false;\r\n  public isPostPonement: boolean = false;\r\n  public originText: string;\r\n  public evolutionType: string;\r\n\r\n  public woTask: string | undefined;\r\n  public woAssignedTo: string | undefined;\r\n  public bidtWorkCenter: string | undefined;\r\n  public bidtWarehouseDTO: BidtWarehouseDTO | undefined;\r\n  public wpAircraftType: string | undefined;\r\n  public woPerformedBy: string | undefined;\r\n  public woCheckedBy: string | undefined;\r\n  public totalDuration: string | undefined;\r\n  public totalElapsed: string | undefined;\r\n  public qualificationNeeded: string | undefined;\r\n  public woComments: string | undefined;\r\n  public woAdditionalWork: string | undefined;\r\n  public woEquipement: string | undefined;\r\n  public woStatusProgressType: string | undefined;\r\n  public woStatusProgressPercent: string | undefined;\r\n  public woDescription: string | undefined;\r\n\r\n  public addWorkOrder: BidmWorkOrderDTOId;\r\n  public displayWorkOrderEdit: boolean = false;\r\n  public workOrderList: BidmWorkOrderDTO[];\r\n\r\n  public selectedDocuments: DocumentTableRow[];\r\n  public documentsTableCols: TableColumn[];\r\n  public documentTableDisplayed: DocumentTableRow[];\r\n\r\n  public workDataDefect: WorkDataDefect;\r\n  public acrsEventCodeList: BidoNotificationDTOId[] = [];\r\n  public statusList: SelectItem[];\r\n  public workflowStatus: SelectItem[];\r\n  public woTypeList: SelectItem[];\r\n  public userList: SelectItem[];\r\n  public woUserList: SelectItem[];\r\n  public mroCenterList: SelectItem[];\r\n\r\n  public isWoNeedCheck: boolean = true;\r\n  public displayRequestPostponement: boolean = false;\r\n  public displayOperationCheck: boolean = false;\r\n  public selectedOperationToCheck: JobCardOperation;\r\n  public selectedOperation: JobCardOperation;\r\n  public chartData: ChartType;\r\n  public chartDataset: ChartDataset[];\r\n  public chartOptions: unknown;\r\n  public chartType: string;\r\n  public chartVisible: boolean = false;\r\n  public isLoadingOutgoingConf: boolean = false;\r\n  public isAskRequestConf: boolean = false;\r\n  public iscancelPostConf: boolean = false;\r\n  public isLoadingStockControlConf: boolean = false;\r\n  public isCommentEdit: boolean = false;\r\n  public isAdditionnalWorkEdit: boolean = false;\r\n  public displayTimeTracking: boolean;\r\n  public displayEditDuration: boolean;\r\n  public displayPrintIdLabel: boolean = false;\r\n\r\n  public relatedItem: string;\r\n\r\n  private opStatusList: (string | undefined)[];\r\n\r\n  public bidmTimeTracking: BidmTimeTrackingByOperationOutputDTO[];\r\n  public operationSelectedIndex: number = -1;\r\n  public addedBidmTimeTracking: BidmTimeTrackingByOperationOutputDTO[];\r\n\r\n  public woBidmDocumentsTableData: TableDataSourceWithHistory<DocumentRow>;\r\n  public woBidmDocumentsResource: BidmDocumentDTO[];\r\n  public selectedWOBidmDocument: BidmDocumentDTO;\r\n  public openModeWOImportDoc: ComponentOpenMode;\r\n  public showAddWODocumentDialog: boolean;\r\n  public wODocsHasBeeEdited: boolean;\r\n\r\n  // Qualification on going\r\n  public findEmployeeQualificationDTO: FindEmployeeQualificationDTO[];\r\n  public isQualificationOngoing: boolean;\r\n\r\n  public procurementRequestStatusList: LabelValue<string>[];\r\n  public procurementRequestTypes: LabelValue<string>[];\r\n\r\n  // Stakeholders table\r\n  public stakeholdersTableDataSource: TableDataSourceWithHistory<StakeholdersRow>;\r\n  public selectedStakeholder: BidmWoAssignmentDTO;\r\n  public openModeStakeholder: ComponentOpenMode;\r\n  public showAddStakeholderDialog: boolean;\r\n  public currentStakeholderIndex: number;\r\n  public stakeholder: BidmWoAssignmentDTO = {};\r\n  public employeeQualification: string;\r\n\r\n  public showLastUpdatePopup: boolean;\r\n  public workOrderDTOIdList: BidmWorkOrderDTOId[];\r\n\r\n  public procurementRequests: ProcurementRequestAndIndicatorsOutputDTO[];\r\n\r\n  // Install Remove - WoAssetMangement\r\n  public woAssetManagementTable: JobCardWoAssetManagement[];\r\n  public woAssetManagementTableCols: TableColumn[];\r\n  public selectedWoAssetManagements: JobCardWoAssetManagement[];\r\n  public isLoadingWoAssetManagementTable: boolean;\r\n  public isExecutingWoAssetManagementDecision: boolean;\r\n  public isUndoingWoAssetManagementDecision: boolean;\r\n  public isSavingWoAssetManagementTable: boolean;\r\n  public allWoAssetManagements: WoAssetManagementDTO[];\r\n  public installOperationalStatuses: SelectItem[];\r\n  public removeOperationalStatuses: SelectItem[];\r\n  public isGroundEquipment: boolean;\r\n  public propertyRemovalReason: LabelValue<string>[];\r\n  public expandedWoAssetRows = {};\r\n  public woAssetManagementReadyToExecuteDecision = false;\r\n\r\n  // Operation Update popup\r\n  public showOperationUpdatesPopup: boolean;\r\n  public propertyStatus: LabelValue<string>[];\r\n  public tableOperationUpdatesData: DialogTableData<HBidmOperationDTO>;\r\n  public updatesKeyMap: Map<string, Observable<LabelValue<string>[]>>;\r\n\r\n  // Logbook Update popup\r\n  public showUpdateLogbookDialog: boolean;\r\n  public updateLogbookFromWorkOrderInput: UpdateLogbookFromWorkOrderInput;\r\n\r\n  public constructor(\r\n    favoriteService: FavoriteService,\r\n    loaderService: LoaderService,\r\n    messageService: MessageService,\r\n    pageTocService: PageTocService,\r\n    serializationService: SerializationService,\r\n    tabService: TabService,\r\n    private readonly logisticsService: LogisticsService,\r\n    private readonly domSanitizer: DomSanitizer,\r\n    private readonly employeeFormService: EmployeeFormService,\r\n    public translateService: TranslateService,\r\n    public sessionService: SessionService,\r\n    private readonly woFormService: WorkOrderFormService,\r\n    private readonly workPackageFormService: WorkPackageFormService,\r\n    private readonly davFieldService: DavFieldService,\r\n    private readonly dateService: DateService,\r\n    private readonly confirmationService: ConfirmationService,\r\n    private readonly procurementRequestsTableService: ProcurementRequestsTableService,\r\n    private readonly propertiesService: PropertiesService,\r\n    private readonly _overlayService: OverlayService\r\n  ) {\r\n    super(\r\n      ComponentOpenMode.Read,\r\n      favoriteService,\r\n      loaderService,\r\n      messageService,\r\n      serializationService,\r\n      tabService,\r\n      pageTocService\r\n    );\r\n    this.documentTableDisplayed = [];\r\n    this.documentsTableCols = [];\r\n    this.selectedDocuments = [];\r\n    this.awPropertiesConstants = AWPropertiesConstants;\r\n    this.bidoNotificationTypeConstants = BidoNotificationTypeConstants;\r\n    this.controlConfigConstants = ControlConfigConstants;\r\n    this.operationTable = [];\r\n    this.selectedOperations = [];\r\n    this.bidmTimeTracking = [];\r\n    this.addedBidmTimeTracking = [];\r\n    this.selectedWOBidmDocument = {};\r\n    this.woBidmDocumentsResource = [];\r\n    this.showAddWODocumentDialog = false;\r\n    this.wODocsHasBeeEdited = false;\r\n    this.isQualificationOngoing = false;\r\n    this.currentStakeholderIndex = -1;\r\n    this.woAssetManagementTable = [];\r\n    this.allWoAssetManagements = [];\r\n    this.selectedWoAssetManagements = [];\r\n    this.propertyRemovalReason = [];\r\n    this.expandedWoAssetRows = {};\r\n    this.updatesKeyMap = new Map<string, Observable<LabelValue<string>[]>>();\r\n    this.initTablesHeader();\r\n\r\n    this.initDates();\r\n    this.initChart();\r\n    this.setLinkLists();\r\n\r\n    // Load Status List\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_STATUS_MAP).subscribe((res) => {\r\n      this.procurementRequestStatusList = res;\r\n    });\r\n\r\n    this.procurementRequestTypes = [];\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_TYPE_MAP).subscribe((res) => {\r\n      this.procurementRequestTypes = res;\r\n    });\r\n\r\n    this.propertiesService.getValue(GenericPropertyConstants.REMOVAL_REASON_MAP).subscribe((results) => {\r\n      this.propertyRemovalReason = results;\r\n    });\r\n\r\n    this.userWorkflowSubject.subscribe(() => {\r\n      this.updateWorkflowStatusList();\r\n    });\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_WORK_ORDER_FORM;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.loadLists();\r\n    this.woStatus = {\r\n      costAndDuration: {}\r\n    };\r\n\r\n    if (this.sessionService.loggedUser) {\r\n      this.woFormService.findBidoUserByLogin(this.sessionService.loggedUser.login).subscribe((user) => {\r\n        this.user = user;\r\n        if (user.employeeId) {\r\n          this.woFormService.getEmployeeById(Number(user.employeeId)).subscribe((employee) => {\r\n            this.userText = this.getEmployeeText(employee, user);\r\n          });\r\n          // Load screen if qualification is on going\r\n          this.employeeFormService\r\n            .findQualificationsByEmployeeId(Number(user.employeeId))\r\n            .subscribe((qualifications) => {\r\n              this.findEmployeeQualificationDTO = qualifications;\r\n              this.initWorkOrderWithQualificationOngoing();\r\n            });\r\n        } else {\r\n          this.userText = this.getUserText(user);\r\n        }\r\n        if (this.componentData.objectId) {\r\n          const objectId = this.serializationService.deserialize(this.componentData.objectId);\r\n          this.bidmWorkOrderId = {\r\n            projectId: objectId.projectId,\r\n            woId: objectId.woId\r\n          };\r\n          this.loadWorkOrder();\r\n          this.loadBidmDocumentTableData();\r\n          this.loadStakeholdersTable();\r\n          this.initInstallRemoveStatuses();\r\n        } else {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('notFound'));\r\n        }\r\n\r\n        this.initToc();\r\n      });\r\n    }\r\n  }\r\n\r\n  private setLinkLists(): void {\r\n    this.setActionLinkList();\r\n    this.setNavigationLinkList();\r\n    this.loadPostponementConf();\r\n  }\r\n\r\n  public getStakeholderNameById(stakeholderId: number | undefined): string | undefined {\r\n    const matchingUser: SelectItem | undefined = this.userList.find((user) => user.value === stakeholderId);\r\n\r\n    return matchingUser ? matchingUser.label : undefined;\r\n  }\r\n\r\n  public getEmployeeQualificationById(stakeholderRow: StakeholdersRow): void {\r\n    if (stakeholderRow && !stakeholderRow.qualification && stakeholderRow._obj && stakeholderRow._obj.woAssignedTo) {\r\n      this.employeeFormService\r\n        .getEmployeeQualificationText(stakeholderRow._obj.woAssignedTo.toString())\r\n        .subscribe((result) => {\r\n          stakeholderRow.qualification = result;\r\n          this.stakeholdersTableDataSource.update();\r\n        });\r\n    }\r\n  }\r\n\r\n  public updateQualificationOnStakeholderDataSource() {\r\n    this.stakeholdersTableDataSource.dataSrc.forEach((row) => {\r\n      this.getEmployeeQualificationById(row);\r\n    });\r\n  }\r\n\r\n  private initWorkOrderWithQualificationOngoing(): void {\r\n    if (this.qualificationNeeded && this.findEmployeeQualificationDTO) {\r\n      const qualificationNeededCode = this.qualificationNeeded.split(';');\r\n\r\n      if (qualificationNeededCode[qualificationNeededCode.length - 1] === '') {\r\n        qualificationNeededCode.length = qualificationNeededCode.length - 1;\r\n      }\r\n\r\n      const selectedQualificationsNeeded = this.findEmployeeQualificationDTO.filter(\r\n        (qualification) => qualification.qualificationCode === qualificationNeededCode[0]\r\n      );\r\n\r\n      this.isQualificationOngoing = qualificationNeededCode.some((qualificationCode) => {\r\n        const qualification = this.findEmployeeQualificationDTO.find(\r\n          (employeeQualification) => employeeQualification.qualificationCode === qualificationCode\r\n        );\r\n\r\n        return (\r\n          !qualification ||\r\n          (!!qualification.bidtQualifEmployeeDTO && !!qualification.bidtQualifEmployeeDTO.qualifOngoing)\r\n        );\r\n      });\r\n\r\n      if (selectedQualificationsNeeded) {\r\n        const isSelectedQualifOngoing = selectedQualificationsNeeded.find(\r\n          (qualification) =>\r\n            (qualification.bidtQualifEmployeeDTO && qualification.bidtQualifEmployeeDTO.qualifOngoing) as boolean\r\n        );\r\n\r\n        if (isSelectedQualifOngoing) {\r\n          this.isQualificationOngoing = true;\r\n        }\r\n\r\n        this.initEmployeeQualificationsStatus();\r\n      }\r\n    }\r\n  }\r\n\r\n  private initEmployeeQualificationsStatus() {\r\n    if (this.operationTable) {\r\n      this.operationTable.forEach((operation) => {\r\n        if (operation) {\r\n          if (operation.opeQualification && !!this.findEmployeeQualificationDTO) {\r\n            const qualification = this.findEmployeeQualificationDTO.find(\r\n              (employeeQualification) => employeeQualification.qualificationCode === operation.opeQualification\r\n            );\r\n\r\n            operation.canAchieveOperation =\r\n              !!qualification &&\r\n              !!qualification.bidtQualifEmployeeDTO &&\r\n              !qualification.bidtQualifEmployeeDTO.qualifOngoing;\r\n            operation.canStartOrEndDuration = !!qualification;\r\n          } else {\r\n            // Can always work on unqualified operation\r\n            operation.canAchieveOperation = true;\r\n            operation.canStartOrEndDuration = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private initBidmDocumentTableData(): void {\r\n    this.woBidmDocumentsTableData = new TableDataSourceWithHistory({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'docName',\r\n          translateKey: this.getTranslateKey('docName'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '30%'\r\n        },\r\n        {\r\n          field: 'docType',\r\n          translateKey: this.getTranslateKey('docType'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '30%'\r\n        },\r\n        {\r\n          field: 'docExtension',\r\n          translateKey: this.getTranslateKey('docExtension'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'docSize',\r\n          translateKey: this.getTranslateKey('docSize'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '15%'\r\n        },\r\n        {\r\n          field: 'docPublicationDate',\r\n          translateKey: this.getTranslateKey('docPublicationDate'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '10%'\r\n        }\r\n      ],\r\n      data: [],\r\n      allowUniqueValue: true,\r\n      propertiesWitchIdentifyData: ['docName'],\r\n      errorOnAddedDuplicate: this.translateService.instant('global.warningOnFileExists'),\r\n      errorOnUpdatedDuplicate: this.translateService.instant('global.warningOnFileExists')\r\n    });\r\n  }\r\n\r\n  private initStakeholdersTableDataSource(): void {\r\n    this.stakeholdersTableDataSource = new TableDataSourceWithHistory({\r\n      allowMultiSelect: true,\r\n      enableSelection: true,\r\n      columns: [\r\n        {\r\n          field: 'stakeholderName',\r\n          translateKey: this.getTranslateKey('stakeholderName')\r\n        },\r\n        {\r\n          field: 'qualification',\r\n          translateKey: this.getTranslateKey('qualification')\r\n        },\r\n        {\r\n          field: 'isController',\r\n          translateKey: this.getTranslateKey('isController')\r\n        }\r\n      ],\r\n      data: [],\r\n      allowUniqueValue: true,\r\n      propertiesWitchIdentifyData: ['stakeholderName'],\r\n      errorOnAddedDuplicate: this.translateService.instant('WorkOrderFormComponent.warningOnStakeholderExists'),\r\n      errorOnUpdatedDuplicate: this.translateService.instant('WorkOrderFormComponent.warningOnStakeholderExists')\r\n    });\r\n  }\r\n\r\n  private createDocumentRow(document: BidmDocumentDTO): DocumentRow {\r\n    const documentRow: DocumentRow = {\r\n      docExtension: BidmDocumentUtils.formatDocExtension(document),\r\n      docName: document.documentName as string,\r\n      docPublicationDate: this.dateService.momentToString(moment(Number(document.documentPublicationDate))),\r\n      docSize: BidmDocumentUtils.formatDocSize(document),\r\n      docType: document.documentType as string,\r\n      isChecked: false,\r\n      _obj: document\r\n    };\r\n\r\n    return documentRow;\r\n  }\r\n\r\n  public openWOImportDocDialInEditMode() {\r\n    this.openModeWOImportDoc = ComponentOpenMode.Write;\r\n    this.woBidmDocumentsResource = this.woBidmDocumentsTableData.dataSrc.map((row) => row._obj);\r\n    this.selectedWOBidmDocument = this.woBidmDocumentsTableData.dataSelection[0]._obj;\r\n    if (this.woBidmDocumentsResource && this.selectedWOBidmDocument) {\r\n      this.showAddWODocumentDialog = true;\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('notFound'));\r\n    }\r\n  }\r\n\r\n  public openWOImportDocDialInCreateMode() {\r\n    this.openModeWOImportDoc = ComponentOpenMode.Create;\r\n    this.woBidmDocumentsResource = this.woBidmDocumentsTableData.dataSrc.map((row) => row._obj);\r\n    this.showAddWODocumentDialog = true;\r\n  }\r\n\r\n  private loadBidmDocumentTableData(): void {\r\n    this.woBidmDocumentsTableData.setData([]);\r\n    this.woFormService.findBidmDocumentsByWorkOrder(this.bidmWorkOrderId).subscribe((result: BidmDocumentDTO[]) => {\r\n      this.woBidmDocumentsResource = [...result];\r\n      this.woBidmDocumentsTableData.setData(result.map((doc) => this.createDocumentRow(doc)));\r\n    });\r\n  }\r\n\r\n  private loadStakeholdersTable(): void {\r\n    this.stakeholdersTableDataSource.setData([]);\r\n    this.woFormService.userList$.subscribe((list) => {\r\n      this.userList = list;\r\n      this.initWoUserList();\r\n      this.woFormService\r\n        .findBidmWoAssignmentsByWorkOrder(this.bidmWorkOrderId)\r\n        .subscribe((result: BidmWoAssignmentDTO[]) => {\r\n          result.forEach((elt) => {\r\n            this.employeeFormService\r\n              .getEmployeeQualificationText((elt.woAssignedTo as number).toString())\r\n              .subscribe((res: string) => {\r\n                elt.employeeQualification = res;\r\n              });\r\n            if (this.user && elt.woAssignedTo) {\r\n              this.woFormService.findUserById({ userId: elt.woAssignedTo.toString() }).subscribe((receivingUser) => {\r\n                if (this.user && receivingUser.userId === this.user.userId) {\r\n                  this.updateOpenMode(ComponentOpenMode.Write);\r\n                }\r\n              });\r\n            }\r\n          });\r\n          this.stakeholdersTableDataSource.setData(result.map((stakeholder) => this.createStakeholderRow(stakeholder)));\r\n          this.updateQualificationOnStakeholderDataSource();\r\n        });\r\n    });\r\n  }\r\n\r\n  public downloadTaskFiles(): void {\r\n    this.selectedDocuments.forEach((documentRow) => {\r\n      if (!!documentRow._obj) {\r\n        FileUtils.downloadFile(documentRow._obj.docFile, documentRow._obj.docName);\r\n      }\r\n    });\r\n  }\r\n\r\n  public downloadWOFiles(): void {\r\n    this.woBidmDocumentsTableData.dataSelection.forEach((documentRow) => {\r\n      if (!!documentRow._obj) {\r\n        FileUtils.downloadFile(documentRow._obj.documentContent, documentRow._obj.documentName);\r\n      }\r\n    });\r\n  }\r\n\r\n  private findBidmDocumentByDocumentRow(documentRow: DocumentRow): BidmDocumentDTO {\r\n    return this.woBidmDocumentsResource.find((elt) => elt.documentName === documentRow.docName) as BidmDocumentDTO;\r\n  }\r\n\r\n  public updateWODoc(docToUpdate: BidmDocumentDTO): void {\r\n    const index = this.woBidmDocumentsResource.findIndex(\r\n      (elt) => elt.documentName === this.woBidmDocumentsTableData.dataSelection[0].docName\r\n    );\r\n    if (index !== -1) {\r\n      this.woBidmDocumentsResource.splice(index, 1, docToUpdate);\r\n    }\r\n    this.woBidmDocumentsTableData.replaceData(\r\n      this.woBidmDocumentsTableData.dataSelection[0],\r\n      this.createDocumentRow(docToUpdate)\r\n    );\r\n    this.wODocsHasBeeEdited = true;\r\n    this.setWODocAttributeAfterAnyUpdateAction();\r\n  }\r\n\r\n  public addWODoc(docToAdd: BidmDocumentDTO): void {\r\n    this.woBidmDocumentsTableData.addData([this.createDocumentRow(docToAdd)]);\r\n    this.woBidmDocumentsResource.push(docToAdd);\r\n    this.wODocsHasBeeEdited = true;\r\n    this.setWODocAttributeAfterAnyUpdateAction();\r\n  }\r\n\r\n  private setWODocAttributeAfterAnyUpdateAction(): void {\r\n    this.woBidmDocumentsTableData.dataSelection = [];\r\n    this.selectedWOBidmDocument = {};\r\n    this.wODocsHasBeeEdited = true;\r\n  }\r\n\r\n  public deleteWODocs(): void {\r\n    const partialMessageKey =\r\n      this.woBidmDocumentsTableData.dataSelectionCount > 1\r\n        ? 'confirmDeleteSelectedDocuments'\r\n        : 'confirmDeleteSelectedDocument';\r\n\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: 'global.' + partialMessageKey,\r\n      accept: () => {\r\n        this.woBidmDocumentsTableData.dataSelection.forEach((docTodDel) => {\r\n          this.woBidmDocumentsResource.filter((doc) => (docTodDel as DocumentRow).docName !== doc.documentName);\r\n        });\r\n\r\n        this.woBidmDocumentsTableData.deleteDataSelection();\r\n        this.setWODocAttributeAfterAnyUpdateAction();\r\n      }\r\n    });\r\n  }\r\n\r\n  public addStakeholder() {\r\n    this.currentStakeholderIndex = -1;\r\n    this.openModeStakeholder = ComponentOpenMode.Create;\r\n    this.showAddStakeholderDialog = true;\r\n  }\r\n\r\n  public editStakeholder(): void {\r\n    if (this.stakeholdersTableDataSource.hasDataSelection) {\r\n      this.currentStakeholderIndex = this.stakeholdersTableDataSource.dataSrc.findIndex(\r\n        (stakeholder) => stakeholder === this.stakeholdersTableDataSource.dataSelection[0]\r\n      );\r\n      this.openModeStakeholder = ComponentOpenMode.Read;\r\n      this.showAddStakeholderDialog = true;\r\n    }\r\n    this.selectedStakeholder = this.stakeholdersTableDataSource.dataSelection[0]._obj as BidmWoAssignmentDTO;\r\n  }\r\n\r\n  public deleteStakeholders(): void {\r\n    const partialMessageKey =\r\n      this.stakeholdersTableDataSource.dataSelectionCount > 1\r\n        ? 'confirmDeleteSelectedStakeholders'\r\n        : 'confirmDeleteSelectedStakeholder';\r\n    this.confirmationService.confirmDelete({\r\n      messageKey: this.getTranslateKey(partialMessageKey),\r\n      accept: () => {\r\n        this.stakeholdersTableDataSource.dataSelection.forEach((stakeholder) => {\r\n          if (!!stakeholder._obj) {\r\n            const stakeholderToDelete: BidmWoAssignmentDTOId = {\r\n              woId: stakeholder._obj.woId,\r\n              projectId: stakeholder._obj.projectId,\r\n              woAssignedTo: stakeholder._obj.woAssignedTo\r\n            };\r\n            this.woFormService.removeBidmWoAssignment(stakeholderToDelete).subscribe(() => {\r\n              this.messageService.showSuccessMessage(this.getTranslateKey('successOnDeleteStakeholder'));\r\n              this.stakeholdersTableDataSource.deleteDataSelection();\r\n              this.loadStakeholdersTable();\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public onAddStakeholder(event: BidmWoAssignmentDTO): void {\r\n    if (!!event && !!this.workOrder.projectId && !!this.workOrder.woId) {\r\n      const saveBidmWoAssignmentInput: BidmWoAssignmentInput = {\r\n        projectId: this.workOrder.projectId,\r\n        woId: this.workOrder.woId,\r\n        woAssignedTo: event.woAssignedTo,\r\n        controller: event.controller\r\n      };\r\n      const addedStakeholder = this.stakeholdersTableDataSource.addData([this.createStakeholderRow(event)]);\r\n      if (addedStakeholder) {\r\n        this.woFormService.createBidmWoAssignment(saveBidmWoAssignmentInput).subscribe((_result) => {\r\n          this.messageService.showSuccessMessage('global.successOnSave');\r\n          this.loadStakeholdersTable();\r\n        });\r\n      }\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('propertyValueAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  public onUpdateStakeholder(event: BidmWoAssignmentDTO): void {\r\n    if (!!event) {\r\n      const saveBidmWoAssignmentInput: BidmWoAssignmentInput = {\r\n        projectId: this.workOrder.projectId,\r\n        woId: this.workOrder.woId,\r\n        woAssignedTo: event.woAssignedTo,\r\n        controller: event.controller\r\n      };\r\n      const updatedStakeholder = this.stakeholdersTableDataSource.replaceData(\r\n        this.stakeholdersTableDataSource.dataSelection[0],\r\n        this.createStakeholderRow(event)\r\n      );\r\n\r\n      if (updatedStakeholder) {\r\n        this.woFormService.updateBidmWoAssignment(saveBidmWoAssignmentInput).subscribe((_result) => {\r\n          this.messageService.showSuccessMessage('global.successOnSave');\r\n          this.loadStakeholdersTable();\r\n          this.updateQualificationOnStakeholderDataSource();\r\n        });\r\n      }\r\n      this.stakeholdersTableDataSource.dataSelection = [];\r\n    } else {\r\n      this.messageService.showErrorMessage(this.getTranslateKey('propertyValueAlreadyExists'));\r\n    }\r\n  }\r\n\r\n  private createStakeholderRow(stakeholder: BidmWoAssignmentDTO): StakeholdersRow {\r\n    const stakeholderRow: StakeholdersRow = {\r\n      stakeholderName: this.getStakeholderNameById(stakeholder.woAssignedTo),\r\n      isController: stakeholder.controller,\r\n      _obj: stakeholder\r\n    };\r\n\r\n    return stakeholderRow;\r\n  }\r\n\r\n  private setActionLinkList(): void {\r\n    const addWoLabelKey = this.getTranslateKey('addWo');\r\n    const printLabelKey = this.getTranslateKey('print');\r\n    const cancelPostLabelKey = this.getTranslateKey('cancelPost');\r\n    const requestLabelKey = this.getTranslateKey('request');\r\n    const confirmLabelKey = this.getTranslateKey('confirm');\r\n    const cancelLabelKey = this.getTranslateKey('cancel');\r\n    const openLabelKey = this.getTranslateKey('open');\r\n    const closeLabelKey = this.getTranslateKey('close');\r\n    this.translateService\r\n      .get([\r\n        addWoLabelKey,\r\n        printLabelKey,\r\n        cancelPostLabelKey,\r\n        requestLabelKey,\r\n        confirmLabelKey,\r\n        cancelLabelKey,\r\n        openLabelKey,\r\n        closeLabelKey\r\n      ])\r\n      .subscribe((results: string[]) => {\r\n        const addWoLabel: string = results ? results[addWoLabelKey] : 'Add Work order';\r\n        const printLabel: string = results ? results[printLabelKey] : 'Print';\r\n        const cancelPostLabel: string = results ? results[cancelPostLabelKey] : 'Cancel Postponement Request';\r\n        const requestLabel: string = results ? results[requestLabelKey] : 'Cancel Postponement Request';\r\n        const confirmLabel: string = results ? results[confirmLabelKey] : 'Confirm Work Completion';\r\n        const cancelLabel: string = results ? results[cancelLabelKey] : 'Cancel Work Completion';\r\n        const openLabel: string = results ? results[openLabelKey] : 'Open Work Order';\r\n        const closeLabel: string = results ? results[closeLabelKey] : 'Close Work Order';\r\n        let tmpTab: MenuItem[] = [];\r\n        tmpTab = [\r\n          {\r\n            label: printLabel,\r\n            command: () => {\r\n              this.printJobCard();\r\n            }\r\n          }\r\n        ];\r\n\r\n        if (!this.isQualificationOngoing) {\r\n          tmpTab.push({\r\n            label: addWoLabel,\r\n            command: () => {\r\n              this.displayWorkOrderScreenEdit();\r\n            }\r\n          });\r\n        }\r\n\r\n        if (this.isPostPonement) {\r\n          tmpTab.push({\r\n            label: cancelPostLabel,\r\n            command: () => {\r\n              this.requestOrCancelPostponement();\r\n            }\r\n          });\r\n        }\r\n\r\n        if (\r\n          this.totalElapsed === '0:00:00' &&\r\n          !!this.woStatus &&\r\n          (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED ||\r\n            this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED) &&\r\n          !this.isPostPonement\r\n        ) {\r\n          tmpTab.push({\r\n            label: requestLabel,\r\n            command: () => {\r\n              this.requestOrCancelPostponement();\r\n            }\r\n          });\r\n        }\r\n\r\n        if (\r\n          (!!this.woStatus &&\r\n            this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED) ||\r\n          (!!this.woStatus &&\r\n            (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED ||\r\n              this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED) &&\r\n            this.operationTable.length === 0)\r\n        ) {\r\n          tmpTab.push({\r\n            label: confirmLabel,\r\n            command: () => {\r\n              this.stratOrRestartWo(false);\r\n            }\r\n          });\r\n        }\r\n\r\n        if (\r\n          (!!this.woStatus &&\r\n            this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\r\n            !this.isWoNeedCheck) ||\r\n          (!!this.woStatus &&\r\n            this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\r\n            !this.woStatus.isCritical)\r\n        ) {\r\n          tmpTab.push({\r\n            label: cancelLabel,\r\n            command: () => {\r\n              this.stratOrRestartWo(false);\r\n            }\r\n          });\r\n        }\r\n\r\n        if (\r\n          !!this.woStatus &&\r\n          this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\r\n          this.isWoNeedCheck &&\r\n          this.woStatus.isCritical\r\n        ) {\r\n          tmpTab.push({\r\n            label: openLabel,\r\n            command: () => {\r\n              this.checkWorkOrder(false);\r\n            }\r\n          });\r\n        }\r\n\r\n        if (\r\n          !!this.woStatus &&\r\n          this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\r\n          this.isWoNeedCheck &&\r\n          this.woStatus.isCritical\r\n        ) {\r\n          tmpTab.push({\r\n            label: closeLabel,\r\n            command: () => {\r\n              this.checkWorkOrder(false);\r\n            }\r\n          });\r\n        }\r\n\r\n        this.actionLinkList = tmpTab;\r\n      });\r\n  }\r\n\r\n  public showButtonStartWo(): boolean {\r\n    return (\r\n      !!this.woStatus &&\r\n      (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED ||\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED) &&\r\n      this.operationTable.length === 0\r\n    );\r\n  }\r\n\r\n  public showButtonConfirmWorkCompletion(): boolean {\r\n    return (\r\n      !!this.woStatus &&\r\n      this.operationTable.length === 0 &&\r\n      this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING\r\n    );\r\n  }\r\n\r\n  public showButtonCancelWorkCompletion(): boolean {\r\n    return (\r\n      (!!this.woStatus &&\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\r\n        !this.isWoNeedCheck) ||\r\n      (!!this.woStatus &&\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\r\n        this.isCritical()) ||\r\n      (!!this.woStatus &&\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED &&\r\n        this.isCriticalWithoutOperation()) ||\r\n      (!!this.woStatus &&\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED &&\r\n        this.isNotCriticalWithoutOperation())\r\n    );\r\n  }\r\n\r\n  public disableDefectsTableButtonsInClosedStatus(): boolean {\r\n    return (\r\n      !!this.workDataDefect &&\r\n      !!this.workDataDefect.workOrder &&\r\n      this.workDataDefect.workOrder.calculatedStatus === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE\r\n    );\r\n  }\r\n\r\n  private setNavigationLinkList(): void {\r\n    const logisticLabelKey = this.getTranslateKey('goodsMovements');\r\n    const seeLabelKey = this.getTranslateKey('see');\r\n    const openFieldLabelKey = this.getTranslateKey('openField');\r\n\r\n    this.translateService.get([logisticLabelKey, seeLabelKey, openFieldLabelKey]).subscribe((results: string[]) => {\r\n      const goodsMovementsLabel: string = results ? results[logisticLabelKey] : 'Goods Movements';\r\n      const seeLabel: string = results ? results[seeLabelKey] : 'See Postponed Task Event';\r\n      const openFieldLabel: string = results ? results[openFieldLabelKey] : 'Open FIELD';\r\n      let tmpTab: MenuItem[] = [];\r\n      tmpTab = [\r\n        {\r\n          label: goodsMovementsLabel,\r\n          command: () => {\r\n            this.callGoodsMovement();\r\n          }\r\n        }\r\n      ];\r\n\r\n      if (this.isPostPonement) {\r\n        tmpTab.push({\r\n          label: seeLabel,\r\n          command: () => {\r\n            this.openRequest();\r\n          }\r\n        });\r\n      }\r\n\r\n      if (this.sessionService.isSpecificDassault && !!this.woTask) {\r\n        tmpTab.push({\r\n          label: openFieldLabel,\r\n          command: () => {\r\n            this.openField();\r\n          }\r\n        });\r\n      }\r\n\r\n      this.navigationLinkList = tmpTab;\r\n    });\r\n  }\r\n\r\n  public displayWorkOrderScreenEdit(): void {\r\n    if (this.workOrder.projectId) {\r\n      this.workPackageFormService.getBidmWorkOrdersStructureByProject(this.workOrder.projectId).subscribe((woList) => {\r\n        this.workOrderList = this.flatDeep(woList);\r\n        if (this.workOrder.projectId && this.workOrder.woId) {\r\n          this.addWorkOrder = {\r\n            projectId: this.workOrder.projectId,\r\n            woId: this.workOrder.woId\r\n          };\r\n          this.displayWorkOrderEdit = true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private flatDeep(tree: TreeNode[]): BidmWorkOrderDTO[] {\r\n    return tree.reduce(\r\n      (acc, val) => [...acc, ...(val ? [val.data] : []), ...(val.children ? this.flatDeep(val.children) : [])],\r\n      []\r\n    );\r\n  }\r\n\r\n  public onAddWorkOrder(isCreated: boolean): void {\r\n    if (isCreated) {\r\n      this.updateInterface(false);\r\n    }\r\n  }\r\n\r\n  private loadLists() {\r\n    this.woFormService.woStatusList$.subscribe((list) => (this.statusList = list));\r\n    this.woFormService.woTypeList$.subscribe((list) => (this.woTypeList = list));\r\n    this.woFormService.loadMROCenterList().subscribe((result) => (this.mroCenterList = result));\r\n  }\r\n\r\n  private updateWorkflowStatusList() {\r\n    this.workflowStatus = WorkflowUtils.filterWorkflowStatusList(\r\n      this.userWorkflow,\r\n      this.statusList,\r\n      this.woStatus ? this.woStatus.status : undefined\r\n    );\r\n  }\r\n\r\n  private initToc() {\r\n    this.toc = [\r\n      {\r\n        id: 'mainAnchor',\r\n        anchor: this.mainAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('mainInformation'))\r\n      },\r\n      {\r\n        id: 'workPackageAnchor',\r\n        anchor: this.workPackageAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('workPackage'))\r\n      },\r\n      {\r\n        id: 'progressAnchor',\r\n        anchor: this.workOrderProgressAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('workInProgress'))\r\n      },\r\n      {\r\n        id: 'operationsAnchor',\r\n        anchor: this.operationsAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('operations'))\r\n      },\r\n      {\r\n        id: 'commentAnchor',\r\n        anchor: this.commentAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('comment'))\r\n      },\r\n      {\r\n        id: 'additionalWorkAnchor',\r\n        anchor: this.additionalWorkAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('additionalWork'))\r\n      },\r\n      {\r\n        id: 'requestManagmentAnchor',\r\n        anchor: this.requestManagmentAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('requestManagment'))\r\n      },\r\n      {\r\n        id: 'defectsAnchor',\r\n        anchor: this.defectsAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('defects'))\r\n      },\r\n      {\r\n        id: 'taskDocumentsAnchor',\r\n        anchor: this.taskDocumentsAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('taskDocuments'))\r\n      },\r\n      {\r\n        id: 'woDocumentsAnchor',\r\n        anchor: this.woDocumentsAnchor,\r\n        label: this.translateService.instant(this.getTranslateKey('woDocuments'))\r\n      }\r\n    ];\r\n    this.registerPageTocEntrySelectedObservable();\r\n  }\r\n\r\n  private registerPageTocEntrySelectedObservable(): void {\r\n    this.pageTocService.pageTocEntrySelected$.pipe(takeUntil(this.unsubscribe)).subscribe((pageTocEntrySelected) => {\r\n      this.selectedAnchor = pageTocEntrySelected;\r\n    });\r\n  }\r\n\r\n  public initDates(): void {\r\n    this.dateStartPerformedDuration = undefined;\r\n    this.dateEndPerformedDuration = undefined;\r\n    this.dateStartElapsedDuration = undefined;\r\n    this.dateEndElapsedDuration = undefined;\r\n  }\r\n\r\n  public resetPerformedDates(): void {\r\n    this.dateStartPerformedDuration = undefined;\r\n    this.dateEndPerformedDuration = undefined;\r\n  }\r\n\r\n  public resetElapsedDates(): void {\r\n    this.dateStartElapsedDuration = undefined;\r\n    this.dateEndElapsedDuration = undefined;\r\n  }\r\n\r\n  public isSelectedAnchor(anchorId: string): boolean {\r\n    return anchorId === this.selectedAnchor;\r\n  }\r\n\r\n  public setSelectedAnchor(anchorId: string): void {\r\n    this.pageTocService.setAnchorSelected(anchorId);\r\n\r\n    this.selectedAnchor = anchorId;\r\n  }\r\n\r\n  public onSelectEquipment(equipment: BidoEquipmentLWO): void {\r\n    this.assetRepresentation = StringUtils.orEmpty(equipment.equipmentCode);\r\n  }\r\n\r\n  public requestOrCancelPostponement(): void {\r\n    if (!this.isPostPonement && !this.woStatus.workPostponementRequestBidoNotificationData) {\r\n      this.displayRequestPostponement = true;\r\n    } else {\r\n      this.cancelPostponement();\r\n    }\r\n  }\r\n\r\n  public openRequest(): void {\r\n    if (\r\n      this.woStatus.workPostponementRequestBidoNotificationData &&\r\n      this.woStatus.workPostponementRequestBidoNotificationData.notificationCode\r\n    ) {\r\n      const dto: BidoNotificationOutputDTO = {\r\n        notificationCode: this.woStatus.workPostponementRequestBidoNotificationData.notificationCode,\r\n        typeCode: this.woStatus.workPostponementRequestBidoNotificationData.typeCode\r\n      };\r\n      this.openEvent(dto);\r\n    }\r\n  }\r\n\r\n  public onValidateRequest(requestReason: string): void {\r\n    this.isPostPonement = true;\r\n    this.setLinkLists();\r\n    if (this.user && this.user.login) {\r\n      const workPostponementInput: WorkPostponementInput = {\r\n        bidmWorkOrderDTO: this.workOrder,\r\n        postponementReason: requestReason\r\n      };\r\n      this.woFormService.createWorkPostponementRequest(workPostponementInput).subscribe(() => {\r\n        const calculateWorkOrderImput: CalculateWorkOrderImput = {\r\n          workOrderData: this.workOrder,\r\n          fromLineMaintenance: false\r\n        };\r\n        this.woFormService.calculateWorkOrderStatus(calculateWorkOrderImput).subscribe((calculateWorkOrderOutput) => {\r\n          this.woStatus = calculateWorkOrderOutput.workOrderDetail;\r\n          this.initWoDescription();\r\n          this.setLinkLists();\r\n          this.updateInterface(false);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  public cancelPostponement(): void {\r\n    if (\r\n      this.woStatus.workPostponementRequestBidoNotificationData &&\r\n      this.woStatus.workPostponementRequestBidoNotificationData.notificationCode\r\n    ) {\r\n      const notificationId: BidoNotificationDTOId = {\r\n        notificationCode: this.woStatus.workPostponementRequestBidoNotificationData.notificationCode\r\n      };\r\n      this.woFormService.cancelWorkPostponementRequest(notificationId).subscribe(() => {\r\n        this.isPostPonement = false;\r\n        this.setLinkLists();\r\n        const calculateWorkOrderImput: CalculateWorkOrderImput = {\r\n          workOrderData: this.workOrder,\r\n          fromLineMaintenance: false\r\n        };\r\n        this.woFormService.calculateWorkOrderStatus(calculateWorkOrderImput).subscribe((calculateWorkOrderOutput) => {\r\n          this.woStatus = calculateWorkOrderOutput.workOrderDetail;\r\n          this.initWoDescription();\r\n          this.setLinkLists();\r\n          this.updateInterface(false);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  public editAdditionalWork() {\r\n    this.isAdditionnalWorkEdit = true;\r\n  }\r\n\r\n  public saveAdditionalWork() {\r\n    const missingFields = this.checkMandatoryFields({\r\n      woAdditionalWork: this.woAdditionalWork\r\n    });\r\n\r\n    if (missingFields.length > 0) {\r\n      this.messageService.showErrorMessage('global.missingFields');\r\n    } else {\r\n      this.workOrder.woAdditionalWork = this.woAdditionalWork;\r\n      this.saveWorkOrder();\r\n      this.isAdditionnalWorkEdit = false;\r\n    }\r\n  }\r\n\r\n  public editComments() {\r\n    this.isCommentEdit = true;\r\n  }\r\n\r\n  public saveComents() {\r\n    const missingFields = this.checkMandatoryFields({\r\n      woComments: this.woComments\r\n    });\r\n\r\n    if (missingFields.length > 0) {\r\n      this.messageService.showErrorMessage('global.missingFields');\r\n    } else {\r\n      this.workOrder.woComments = this.woComments;\r\n      this.saveWorkOrder();\r\n      this.isCommentEdit = false;\r\n    }\r\n  }\r\n\r\n  public saveWOBidmDoc() {\r\n    const missingFields = this.checkMandatoryFields({\r\n      woBidmDocumentsTableData: this.woBidmDocumentsTableData.dataSrc\r\n    });\r\n\r\n    if (missingFields.length > 0) {\r\n      this.messageService.showErrorMessage('global.missingFields');\r\n    } else {\r\n      this.workOrder.bidmDocumentAddedList = this.woBidmDocumentsTableData\r\n        .getAddedList()\r\n        .map((elt) => this.findBidmDocumentByDocumentRow(elt));\r\n      this.workOrder.bidmDocumentUpdatedList = this.woBidmDocumentsTableData\r\n        .getUpdatedList()\r\n        .map((elt) => this.findBidmDocumentByDocumentRow(elt));\r\n      this.workOrder.bidmDocumentDeletedList = this.woBidmDocumentsTableData.getDeletedList().map((elt) => {\r\n        return {\r\n          documentId: this.findBidmDocumentByDocumentRow(elt).documentId as string\r\n        };\r\n      });\r\n      this.saveWorkOrder();\r\n      this.woBidmDocumentsTableData.dataSelection = [];\r\n      this.selectedWOBidmDocument = {};\r\n      this.wODocsHasBeeEdited = false;\r\n    }\r\n  }\r\n\r\n  public saveWorkOrder(onSaveSucess?: Function) {\r\n    if (this.componentData.objectId) {\r\n      const param: UpdateJobCardInput = {\r\n        bidmWorkOrderDTO: this.workOrder,\r\n        woComment: this.workOrder.woComments,\r\n        woAdditionalData: this.workOrder.woAdditionalWork\r\n      };\r\n      this.woFormService.updateWorkOrder(param).subscribe(() => {\r\n        this.woBidmDocumentsTableData.clearHistory();\r\n        this.loadWorkOrder();\r\n        if (onSaveSucess) {\r\n          onSaveSucess();\r\n        }\r\n        /* this.woFormService.findBidmWorkOrder(this.bidmWorkOrderId).subscribe((result) => {\r\n          this.woStatus = result.workOrderStatusDetail;\r\n          this.calculateAndUpdateBidmWorkOrderStatus();\r\n          this.initWoDescription();\r\n          this.setLinkLists();\r\n          if (this.woStatus.status) {\r\n            this.woStatusProgressType = this.woStatus.status.slice(2);\r\n          }\r\n          this.woStatusProgressPercent = Math.floor(Number(result.statusPercent)).toString();\r\n          this.updateInterface(false);\r\n        });\r\n        this.woFormService.findBidmDocumentsByWorkOrder(this.bidmWorkOrderId).subscribe((result: BidmDocumentDTO[]) => {\r\n          this.woBidmDocumentsResource = [...result];\r\n          this.woBidmDocumentsTableData.setData(result.map((doc) => this.createDocumentRow(doc)));\r\n        });*/\r\n      });\r\n    }\r\n  }\r\n\r\n  public callGoodsMovement(): void {\r\n    const goodsMovementInput: GoodsMovementInput = {\r\n      workOrderId: this.workOrder.woId,\r\n      workPackageId: this.workOrder.projectId\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_GOODS_MOVEMENT_WORK_ORDER_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize(goodsMovementInput)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openStaffPlanning(): void {\r\n    const defaultDateToAdd = 15;\r\n    const startDate = this.woStatus.startDate ? this.woStatus.startDate : (this.workPackage.projectStartDate as Date);\r\n    const endDate: Date = this.woStatus.endDate\r\n      ? this.woStatus.endDate\r\n      : this.workPackage.projectEndDate\r\n      ? this.workPackage.projectEndDate\r\n      : moment(startDate)\r\n          .add(defaultDateToAdd, 'day')\r\n          .toDate();\r\n    const componentData: StaffPlanningInput = {\r\n      startDate,\r\n      endDate\r\n    };\r\n    if (this.bidtWarehouseDTO) {\r\n      this.openStaffPlanningFormWithWarehouse(componentData);\r\n    } else if (this.workPackage && this.workPackage.bireRepairCenterCode) {\r\n      this.openStaffPlanningFormWithWPReparirCenterCode(componentData);\r\n    } else {\r\n      this.openStaffPlanningSearch(componentData);\r\n    }\r\n  }\r\n\r\n  private openStaffPlanningFormWithWarehouse(componentData: StaffPlanningInput): void {\r\n    if (this.bidtWarehouseDTO && this.bidtWarehouseDTO.bidtSiteId) {\r\n      componentData.warehouseId = this.workOrder.bidtWarehouseId;\r\n      componentData.warehouseName = this.bidtWarehouseDTO.whName;\r\n      this.woFormService.findBidtSiteById(this.bidtWarehouseDTO.bidtSiteId).subscribe((site) => {\r\n        this.openStaffPlanningFormBySite(componentData, site);\r\n      });\r\n    }\r\n  }\r\n\r\n  private openStaffPlanningFormWithWPReparirCenterCode(componentData: StaffPlanningInput): void {\r\n    if (this.workPackage && this.workPackage.bireRepairCenterCode) {\r\n      this.woFormService\r\n        .findBidtSiteByCriteria({ siteCode: this.workPackage.bireRepairCenterCode })\r\n        .subscribe((sites) => {\r\n          if (sites && sites.length > 0) {\r\n            this.openStaffPlanningFormBySite(componentData, sites[0]);\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  private openStaffPlanningFormBySite(componentData: StaffPlanningInput, site: BidtSiteDTO) {\r\n    componentData.siteId = site.siteId;\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.HR_EMPLOYEE_PLANNING_FORM,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    componentData.siteName = site.siteName;\r\n    if (!!site.bidtCompanyId) {\r\n      componentData.companyId = Number(site.bidtCompanyId);\r\n    }\r\n    data.objectId = this.serializationService.serialize(componentData);\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openStaffPlanningSearch(componentData: StaffPlanningInput): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.HR_EMPLOYEE_PLANNING_SEARCH,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    data.objectId = this.serializationService.serialize(componentData);\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public callMaterialAvailability(): void {\r\n    const goodsMovementInput: GoodsMovementInput = {\r\n      workOrderId: this.workOrder.woId,\r\n      workPackageId: this.workOrder.projectId\r\n    };\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_MATERIAL_AVAILABILITY_WORK_ORDER_FORM,\r\n      openMode: ComponentOpenMode.Read,\r\n      objectId: this.serializationService.serialize(goodsMovementInput)\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public deleteOperation(): void {\r\n    // #TODO\r\n  }\r\n\r\n  /**\r\n   * Operation on edit click\r\n   */\r\n  public openEditDuration(): void {\r\n    this.operationSelectedIndex = this.operationTable.findIndex(\r\n      (res) => res.bireOpeCode === this.selectedOperations[0].bireOpeCode\r\n    );\r\n    this.displayEditDuration = true;\r\n  }\r\n\r\n  /**\r\n   * Validate duration\r\n   */\r\n  public onValidateDuration(ev: DurationInterface, source: number) {\r\n    if (ev.elapsedTime && ev.performedDuration) {\r\n      const DEFAULT_DISPLAY_TIME = '0:00:00';\r\n      const TIME = 60;\r\n      const NUM = 1000;\r\n      const pHour = ev.performedDuration.getHours();\r\n      const pMin = ev.performedDuration.getMinutes();\r\n      const pSec = ev.performedDuration.getSeconds();\r\n\r\n      const eHour = ev.elapsedTime.getHours();\r\n      const eMin = ev.elapsedTime.getMinutes();\r\n      const eSec = ev.elapsedTime.getSeconds();\r\n\r\n      let newDuration = (pHour * TIME * TIME + pMin * TIME + pSec) * NUM;\r\n      let newElapsed = (eHour * TIME * TIME + eMin * TIME + eSec) * NUM;\r\n      const actualDuration = newDuration;\r\n      const actualElapsed = newElapsed;\r\n\r\n      if (source === 0) {\r\n        if (!!this.selectedOperations[0] && this.selectedOperations[0].opePerformedDuration) {\r\n          newDuration += this.selectedOperations[0].opePerformedDuration;\r\n        }\r\n\r\n        if (!!this.selectedOperations[0] && this.selectedOperations[0].opePerformedElapsed) {\r\n          newElapsed += this.selectedOperations[0].opePerformedElapsed;\r\n        }\r\n      }\r\n\r\n      if (this.timeToDisplay(actualDuration) !== DEFAULT_DISPLAY_TIME) {\r\n        this.operationTable[this.operationSelectedIndex].opePerformedDuration = newDuration;\r\n        this.operationTable[this.operationSelectedIndex].opePerformedDurationDisplay = this.timeToDisplay(newDuration);\r\n\r\n        this.operationTable[this.operationSelectedIndex].opePerformedElapsed = newElapsed;\r\n        this.operationTable[this.operationSelectedIndex].opePerformedElapsedDisplay = this.timeToDisplay(newElapsed);\r\n\r\n        if (\r\n          !this.operationTable[this.operationSelectedIndex].opeStartDateDisplay ||\r\n          !this.operationTable[this.operationSelectedIndex].opePerformedBy\r\n        ) {\r\n          this.operationTable[this.operationSelectedIndex].opeStartDateDisplay = this.getFullDateFormatWithDate(\r\n            ev.performedDuration\r\n          );\r\n          if (!!this.sessionService.loggedUser && !!this.sessionService.loggedUser.login) {\r\n            this.operationTable[\r\n              this.operationSelectedIndex\r\n            ].opePerformedOnDisplay = this.sessionService.loggedUser.login;\r\n          }\r\n        }\r\n\r\n        if (source === 0) {\r\n          // add entry in log table\r\n          this.addedBidmTimeTracking.push({\r\n            bidmTimeTrackingDTO: {\r\n              bireOpeCode: this.selectedOperations[0].bireOpeCode,\r\n              bireOpeVersion: this.selectedOperations[0].bireOpeVersion,\r\n              ttPerformedClockOut: new Date(),\r\n              ttPerformedDuration: actualDuration,\r\n              ttPerformedElapsed: actualElapsed,\r\n              woId: this.workOrder.woId,\r\n              projectId: this.workOrder.projectId\r\n            },\r\n            isInDB: false,\r\n            performedBy: this.operationTable[this.operationSelectedIndex].opePerformedOnDisplay,\r\n            operation: this.selectedOperations[0].bireOpeCode,\r\n            clockOutText: this.dateService.dateWithHourMinSecToString(new Date()),\r\n            durationText: this.timeToDisplay(actualDuration),\r\n            duration: actualDuration,\r\n            elapsed: actualElapsed,\r\n            elapsedText: this.timeToDisplay(actualElapsed),\r\n            isDelete: true,\r\n            isEditable: true\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Dialog Operation Log\r\n   */\r\n  public openOperationLog(): void {\r\n    this.fetchTimeTracking();\r\n  }\r\n\r\n  /**\r\n   * API To fetch time tracking list\r\n   */\r\n  private fetchTimeTracking() {\r\n    const input: BidmTimeTrackingByOperationInputDTO = {\r\n      projectId: this.workOrder.projectId as string,\r\n      woId: this.workOrder.woId as string,\r\n      bidmOperationDTO: this.selectedOperations[0],\r\n      opeCode: this.selectedOperations[0].bireOpeCode,\r\n      opeVersion: this.selectedOperations[0].bireOpeVersion\r\n    };\r\n\r\n    this.woFormService.fetchBidmTimeTrackings(input).subscribe((res) => {\r\n      if (!!res) {\r\n        this.bidmTimeTracking = res;\r\n      }\r\n      this.displayTimeTracking = true;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Validate event of time tracking popup\r\n   */\r\n  public onValidateTimeTracking(ev: TimeTrackingOutput) {\r\n    this.addedBidmTimeTracking = ev.addedBidmTimeTracking || [];\r\n    if (!!ev.durationInterface && !!ev.durationInterface.elapsedTime && !!ev.durationInterface.performedDuration) {\r\n      this.onValidateDuration(ev.durationInterface, 1);\r\n    }\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.documentTableDisplayed = [];\r\n    this.loadWorkOrder();\r\n  }\r\n\r\n  public loadWorkOrder() {\r\n    this.isLoadingOperationsTable = true;\r\n    this.woFormService.findBidmWorkOrder(this.bidmWorkOrderId).subscribe((result) => {\r\n      if (result === null) {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('notFound'));\r\n      } else {\r\n        this.displayComponentContext(StringUtils.orEmpty(result.bidmWorkOrder.woCode), false);\r\n        this.workOrderDTOIdList = [\r\n          {\r\n            projectId: result.bidmWorkOrder.projectId as string,\r\n            woId: result.bidmWorkOrder.woId as string\r\n          }\r\n        ];\r\n        this.workOrder = result.bidmWorkOrder;\r\n\r\n        this.initWoAssetMangement();\r\n\r\n        this.procurementRequestsTableService\r\n          .findProcReqItemsAndStockQuantityIndicators(this.workOrder, undefined)\r\n          .subscribe((proqReq: ProcurementRequestAndIndicatorsOutputDTO[]) => {\r\n            this.procurementRequests = proqReq;\r\n          });\r\n        this.woAdditionalWork = result.bidmWorkOrder.woAdditionalWork;\r\n        this.woComments = result.bidmWorkOrder.woComments;\r\n        this.relatedItem = result.relatedItem;\r\n        this.woItemDTO = {\r\n          familyCode: this.workOrder.bireItemFamilyCode,\r\n          variantCode: this.workOrder.bireItemVariantCode,\r\n          chapter: this.workOrder.bireItemChapter,\r\n          section: this.workOrder.bireItemSection,\r\n          subject: this.workOrder.bireItemSubject,\r\n          sheet: this.workOrder.bireItemSheet,\r\n          marks: this.workOrder.bireItemMarks,\r\n          structureType: this.awPropertiesConstants.STRUCTURE_TYPE_IPC_KEY\r\n        };\r\n        this.workPackage = result.bidmProjectData;\r\n\r\n        if (this.workPackage) {\r\n          const equipementId: BidoEquipmentDTOId = {\r\n            equipmentCode: this.workPackage.assetCode\r\n          };\r\n          this.woStatus = result.workOrderStatusDetail;\r\n          this.initWoDescription();\r\n          this.setLinkLists();\r\n          this.woFormService.findBidoEquipment(equipementId).subscribe((wpEquipementDtoDto) => {\r\n            this.wpEquipementDto = wpEquipementDtoDto;\r\n\r\n            if (this.workPackage && this.workOrder && this.wpEquipementDto && this.wpEquipementDto.equipmentCode) {\r\n              this.workDataDefect = {\r\n                workOrder: this.workOrder,\r\n                workPackage: this.workPackage,\r\n                equipementCode: this.wpEquipementDto.equipmentCode\r\n              };\r\n            }\r\n\r\n            if (this.woStatus.bidoEquipmentData) {\r\n              this.wpEquipementDto = this.woStatus.bidoEquipmentData;\r\n            }\r\n\r\n            if (this.woStatus && this.wpEquipementDto) {\r\n              this.woEquipement = BidoEquipmentUtils.toString(this.wpEquipementDto);\r\n            }\r\n            if (\r\n              this.wpEquipementDto &&\r\n              (this.wpEquipementDto.equipmentFunction ===\r\n                AWPropertiesConstants.ITEM_FAMILY_CODE_GROUND_SUPPORT_EQUIPMENT_KEY ||\r\n                this.wpEquipementDto.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_TOOL_KEY ||\r\n                this.wpEquipementDto.equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_PILOT_EQUIPMENT_KEY)\r\n            ) {\r\n              this.isGroundEquipment = true;\r\n            }\r\n          });\r\n        }\r\n\r\n        this.calculateWorkOrderStatus();\r\n        this.woTask = result.woTask;\r\n\r\n        if (this.woStatus.status === AWPropertiesConstants.AIRM_OPERATION_STATUS_POSTPONEMENT_REQUESTED) {\r\n          this.isPostPonement = true;\r\n          this.setLinkLists();\r\n        }\r\n\r\n        if (this.woStatus.status) {\r\n          this.woStatusProgressType = this.woStatus.status.slice(2);\r\n          this.woStatusProgressPercent = Math.floor(Number(result.statusPercent)).toString();\r\n        }\r\n        this.loadUserWorkflow(this.woStatus.status);\r\n\r\n        this.wpAircraftType = result.wpAircraftType;\r\n\r\n        if (result.woAssignedTo) {\r\n          const userDtoId: BidoUserDTOId = {\r\n            userId: result.woAssignedTo\r\n          };\r\n          this.woFormService.findUserById(userDtoId).subscribe((user) => {\r\n            if (this.user) {\r\n              if (user.userId === this.user.userId) {\r\n                this.updateOpenMode(ComponentOpenMode.Write);\r\n              } else if (result.bidmProjectData.receivingAssignedTo) {\r\n                this.woFormService\r\n                  .findUserById({ userId: result.bidmProjectData.receivingAssignedTo })\r\n                  .subscribe((receivingUser) => {\r\n                    if (this.user && receivingUser.userId === this.user.userId) {\r\n                      this.updateOpenMode(ComponentOpenMode.Write);\r\n                    }\r\n                  });\r\n              }\r\n            }\r\n            if (user.employeeId) {\r\n              this.woFormService.getEmployeeById(Number(user.employeeId)).subscribe((employee) => {\r\n                this.woAssignedTo = `${this.getEmployeeText(employee, user)}`;\r\n              });\r\n            } else {\r\n              this.woAssignedTo = `${this.getUserText(user)}`;\r\n            }\r\n          });\r\n        } else {\r\n          this.updateOpenMode(ComponentOpenMode.Write);\r\n        }\r\n\r\n        if (result.woPerformedBy) {\r\n          const userDtoId: BidoUserDTOId = {\r\n            userId: result.woPerformedBy\r\n          };\r\n          this.woFormService.findUserById(userDtoId).subscribe((user) => {\r\n            if (user.employeeId) {\r\n              this.woFormService.getEmployeeById(Number(user.employeeId)).subscribe((employee) => {\r\n                this.woPerformedBy = `${this.getEmployeeText(employee, user)} (${moment(\r\n                  result.bidmWorkOrder.woPerformedOn\r\n                ).format('MM/DD/YYYY hh:mm')})`;\r\n              });\r\n            } else {\r\n              this.woPerformedBy = `${this.getUserText(user)} (${moment(result.bidmWorkOrder.woPerformedOn).format(\r\n                'MM/DD/YYYY hh:mm'\r\n              )})`;\r\n            }\r\n          });\r\n        }\r\n\r\n        if (result.woCheckedBy) {\r\n          const userDtoId: BidoUserDTOId = {\r\n            userId: result.woCheckedBy\r\n          };\r\n          this.woFormService.findUserById(userDtoId).subscribe((user) => {\r\n            if (user.employeeId) {\r\n              this.woFormService.getEmployeeById(Number(user.employeeId)).subscribe((employee) => {\r\n                this.woCheckedBy = `${this.getEmployeeText(employee, user)} (${moment(\r\n                  result.bidmWorkOrder.woCheckedOn\r\n                ).format('MM/DD/YYYY hh:mm')})`;\r\n              });\r\n            } else {\r\n              this.woCheckedBy = `${this.getUserText(user)} (${moment(result.bidmWorkOrder.woCheckedOn).format(\r\n                'MM/DD/YYYY hh:mm'\r\n              )})`;\r\n            }\r\n          });\r\n        }\r\n        this.totalDuration = result.totalDuration;\r\n        this.totalElapsed = result.totalElapsed;\r\n\r\n        this.setLinkLists();\r\n        this.qualificationNeeded = result.qualificationNeeded;\r\n        this.initWorkOrderWithQualificationOngoing();\r\n        const bireOperationDataDTO = 'bireOperationData'; // #TODO: interface to be declared\r\n        this.operationTable = [];\r\n        if (result.workOrderStatusDetail.bidmOperationDataList) {\r\n          result.workOrderStatusDetail.bidmOperationDataList.forEach((bidmOperation: BidmOperationDTO) => {\r\n            const jobCardOperation: JobCardOperation = bidmOperation;\r\n            jobCardOperation.opeDesignation = bidmOperation[bireOperationDataDTO].ope_DESIGNATION;\r\n            jobCardOperation.opeQualification = bidmOperation[bireOperationDataDTO].ope_QUALIFICATION;\r\n            jobCardOperation.opeSequence = bidmOperation[bireOperationDataDTO].ope_SEQUENCE_NUMBER;\r\n            jobCardOperation.isOpeOnPerformed = false;\r\n            jobCardOperation.isOpeOnElapsed = false;\r\n            jobCardOperation.isCriticalTask = result.workOrderStatusDetail.isCritical;\r\n            this.operationTable.push(jobCardOperation);\r\n          });\r\n          this.initEmployeeQualificationsStatus();\r\n        }\r\n        // this.operationTable = result.workOrderStatusDetail.bidmOperationDataList || []; //.map((op) => op[bireOperationDataDTO]) || [];\r\n        this.updateInterface(true);\r\n        this.isLoadingOperationsTable = false;\r\n        this.initOperationTable();\r\n        this.ctrlStock();\r\n        this.loadWorkCenter();\r\n\r\n        if (!!this.workOrder.assetPn && !!this.workOrder.assetSn) {\r\n          this.displayPrintIdLabel = true;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private calculateWorkOrderStatus(): void {\r\n    const calculateWorkOrderImput: CalculateWorkOrderImput = {\r\n      workOrderData: this.workOrder,\r\n      fromLineMaintenance: false\r\n    };\r\n    this.woFormService.calculateWorkOrderStatus(calculateWorkOrderImput).subscribe((calculateWorkOrderOutput) => {\r\n      this.woStatus.status = calculateWorkOrderOutput.workOrderDetail.status;\r\n      this.originText = calculateWorkOrderOutput.originText;\r\n      this.setLinkLists();\r\n      if (\r\n        !!this.originText &&\r\n        this.wpEquipementDto &&\r\n        AWPropertiesConstants.AIRM_WORK_ORDER_TYPE_TASK === this.workOrder.woType\r\n      ) {\r\n        const assetWorkOrderOriginInput: AssetWorkOrderOriginInput = {\r\n          woType: this.workOrder.woType,\r\n          woSource: this.workOrder.woSource,\r\n          evolutionType: this.evolutionType,\r\n          familyVariantCode: this.wpEquipementDto.familyVariantCode\r\n        };\r\n        this.woFormService.findWorkOrderOriginDetails(assetWorkOrderOriginInput).subscribe((assetOutput) => {\r\n          if (!!assetOutput.bireTaskDTOId) {\r\n            // open task form\r\n            const bireTaskDTO: BireTaskDTOId = assetOutput.bireTaskDTOId;\r\n            this.getTask(bireTaskDTO);\r\n          }\r\n        });\r\n      } else if (!!this.woTask && AWPropertiesConstants.AIRM_WORK_ORDER_TYPE_DEFECT === this.workOrder.woType) {\r\n        const bireTaskDTO: BireTaskDTOId = {\r\n          taskCode: BidmWorkOrderUtils.getTaskCodeFromTaskId(this.woTask),\r\n          taskVersion: BidmWorkOrderUtils.getTaskVersionFromTaskId(this.woTask)\r\n        };\r\n        this.getTask(bireTaskDTO);\r\n      } else if (this.woStatus.bidmOperationDataList && this.woStatus.bidmOperationDataList.length > 0) {\r\n        if (\r\n          this.woStatus.bidmOperationDataList[0].bireTaskCode &&\r\n          this.woStatus.bidmOperationDataList[0].bireTaskVersion\r\n        ) {\r\n          const bireTaskId: BireTaskDTOId = {\r\n            taskCode: this.woStatus.bidmOperationDataList[0].bireTaskCode,\r\n            taskVersion: this.woStatus.bidmOperationDataList[0].bireTaskVersion\r\n          };\r\n          this.getTask(bireTaskId);\r\n        }\r\n      }\r\n      if (calculateWorkOrderOutput.evolutionType) {\r\n        this.evolutionType = calculateWorkOrderOutput.evolutionType;\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadWorkCenter(): void {\r\n    if (this.workOrder.bidtWarehouseId) {\r\n      this.woFormService.getWarehouseById(this.workOrder.bidtWarehouseId).subscribe((warehouse) => {\r\n        this.bidtWorkCenter = StringUtils.orEmpty(warehouse.whName);\r\n        this.bidtWarehouseDTO = warehouse;\r\n      });\r\n    }\r\n  }\r\n\r\n  private loadPostponementConf(): void {\r\n    this.isAskRequestConf = false;\r\n    this.iscancelPostConf = false;\r\n    if (\r\n      this.totalElapsed === '0:00:00' &&\r\n      !!this.woStatus &&\r\n      (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED ||\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED) &&\r\n      !this.isPostPonement\r\n    ) {\r\n      this.isAskRequestConf = true;\r\n    }\r\n\r\n    if (this.isPostPonement) {\r\n      this.iscancelPostConf = true;\r\n    }\r\n  }\r\n\r\n  private updateInterface(withChart: boolean): void {\r\n    if (withChart) {\r\n      this.opStatusList = this.woStatus.bidmOperationDataList\r\n        ? this.woStatus.bidmOperationDataList.map((op) => op.opeStatus)\r\n        : [];\r\n      this.updateChart();\r\n    }\r\n    const status = this.statusList.filter((s) => s.value === this.woStatus.status).map((s) => s.label);\r\n    this.pageTitle = `${this.workOrder.woCode} - ${status}`;\r\n  }\r\n\r\n  private initChart(): void {\r\n    this.chartDataset = [\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_SIMULATED],\r\n        value: 0,\r\n        color: AppConstants.COLOR_GREY,\r\n        label: this.translateService.instant(this.getTranslateKey('chartSimulated'))\r\n      },\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED],\r\n        value: 0,\r\n        color: AppConstants.COLOR_GREY,\r\n        label: this.translateService.instant(this.getTranslateKey('chartPlanned'))\r\n      },\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED],\r\n        value: 0,\r\n        color: AppConstants.COLOR_GREY,\r\n        label: this.translateService.instant(this.getTranslateKey('chartReleased'))\r\n      },\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING],\r\n        value: 0,\r\n        color: AppConstants.COLOR_BLUE_LIGHT,\r\n        label: this.translateService.instant(this.getTranslateKey('chartOngoing'))\r\n      },\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED],\r\n        value: 0,\r\n        color: AppConstants.COLOR_BLUE_LIGHT,\r\n        label: this.translateService.instant(this.getTranslateKey('chartToBeConfirmed'))\r\n      },\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED],\r\n        value: 0,\r\n        color: AppConstants.COLOR_BLUE_DARK,\r\n        label: this.translateService.instant(this.getTranslateKey('chartPerformed'))\r\n      },\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE],\r\n        value: 0,\r\n        color: AppConstants.COLOR_GREEN,\r\n        label: this.translateService.instant(this.getTranslateKey('chartClose'))\r\n      } /*,\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_POSTPONED],\r\n        value: 0,\r\n        color: AppConstants.COLOR_GREEN,\r\n        label: this.translateService.instant(this.getTranslateKey('chartPostponed'))\r\n      },\r\n      {\r\n        statusList: [AWPropertiesConstants.AIRM_OPERATION_STATUS_POSTPONEMENT_REQUESTED],\r\n        value: 0,\r\n        color: AppConstants.COLOR_YELLOW,\r\n        label: this.translateService.instant(this.getTranslateKey('chartPostponementRequest'))\r\n      }*/\r\n    ];\r\n    this.chartType = 'bar';\r\n    this.chartVisible = false;\r\n    this.chartData = {\r\n      datasets: [\r\n        {\r\n          data: this.chartDataset.map((cd) => cd.value),\r\n          backgroundColor: this.chartDataset.map((cd) => cd.color),\r\n          hoverBackgroundColor: this.chartDataset.map((cd) => cd.color)\r\n        }\r\n      ],\r\n      labels: this.chartDataset.map((cd) => cd.label)\r\n    };\r\n    this.setChartOptions();\r\n    this.chartVisible = true;\r\n  }\r\n\r\n  private updateChart(): void {\r\n    // init charts values\r\n    this.chartDataset.map((d) => {\r\n      d.value = 0;\r\n\r\n      return d;\r\n    });\r\n\r\n    this.calculateChart();\r\n\r\n    this.chartData.datasets[0].data = this.chartDataset.map((cd) => cd.value);\r\n    this.chartData = { ...this.chartData };\r\n  }\r\n\r\n  private calculateChart() {\r\n    this.opStatusList.forEach((status) => {\r\n      this.chartDataset.forEach((cd) => {\r\n        if (cd.statusList.includes(status || '')) {\r\n          cd.value++;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  public toggleWorkPackageExpand(row: JobCardOperation): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  public toggleInstallRemoveExpand(row: JobCardWoAssetManagement): void {\r\n    row._expand = !row._expand;\r\n  }\r\n\r\n  private setChartOptions(): void {\r\n    this.chartOptions = {\r\n      title: {\r\n        display: true,\r\n        text: this.translateService.instant(this.getTranslateKey('operations'))\r\n      },\r\n      legend: {\r\n        display: false\r\n      },\r\n      tooltips: {\r\n        bodyFontColor: AppConstants.COLOR_BACKGROUND_PRIMARY\r\n      },\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            ticks: {\r\n              autoSkip: false\r\n            }\r\n          }\r\n        ],\r\n        yAxes: [\r\n          {\r\n            ticks: {\r\n              precision: 0\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  public printJobCard(): void {\r\n    this.showSaveSpinner = true;\r\n    if (this.workOrder.woId && this.workOrder.projectId) {\r\n      const bidmWorkOrderId: BidmWorkOrderDTOId = {\r\n        woId: this.workOrder.woId,\r\n        projectId: this.workOrder.projectId\r\n      };\r\n      this.woFormService.generateJobcard(bidmWorkOrderId).subscribe({\r\n        next: (jobcard) => {\r\n          FileUtils.downloadFile(jobcard.fileContent, jobcard.fileName);\r\n          this.showSaveSpinner = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public initTablesHeader(): void {\r\n    this.operationTableCols = [\r\n      { field: 'sequence', alignment: 'center', width: '2.5%' },\r\n      { field: 'bireOpeCode', alignment: 'center', width: '10%' },\r\n      { field: 'opeDesignation', alignment: 'left', width: '30%' },\r\n      { field: 'opePerformedDuration', alignment: 'center', width: '10%' },\r\n      { field: 'opePerformedElapsed', alignment: 'center', width: '10%' },\r\n      { field: 'achievement', alignment: 'center', width: '7.5%' },\r\n      { field: 'opeStatusDisplay', alignment: 'center', width: '7.5%' }\r\n    ];\r\n\r\n    this.documentsTableCols = [\r\n      { field: 'docTask', alignment: 'left' },\r\n      { field: 'docName', alignment: 'left' },\r\n      { field: 'docExternal', alignment: 'left' },\r\n      { field: 'docExtension', alignment: 'left' },\r\n      { field: 'docSize', alignment: 'left' },\r\n      { field: 'docPublicationDate', alignment: 'left' },\r\n      { field: 'docDescription', alignment: 'left' }\r\n    ];\r\n\r\n    this.woAssetManagementTableCols = [\r\n      { field: 'decision', alignment: 'left', width: '10%' },\r\n      { field: 'superiorAsset', alignment: 'left', width: '10%' },\r\n      { field: 'item', alignment: 'left', width: '10%' },\r\n      { field: 'pn', alignment: 'left', width: '10%' },\r\n      { field: 'sn', alignment: 'left', width: '10%' },\r\n      { field: 'status', alignment: 'left', width: '10%' },\r\n      { field: 'eventDate', alignment: 'left', width: '10%' },\r\n      { field: 'event', alignment: 'left', width: '10%' }\r\n    ];\r\n    this.initBidmDocumentTableData();\r\n    this.initStakeholdersTableDataSource();\r\n  }\r\n\r\n  private initOperationTable() {\r\n    const opeCheckUsers: BidoUserDTOId[] = [];\r\n    const opePerformedUsers: BidoUserDTOId[] = [];\r\n    const operationsList: BidmOperationDTO[] = [];\r\n\r\n    this.operationTable.forEach((operationRow) => {\r\n      if (operationRow.opeStatus) {\r\n        if (operationRow.opeStatus !== this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE) {\r\n          this.isWoNeedCheck = false;\r\n          this.setLinkLists();\r\n        }\r\n        operationRow.opeStatusDisplay = operationRow.opeStatus.slice(2);\r\n      }\r\n\r\n      if (operationRow.opeOpeningDate) {\r\n        operationRow.opeStartDateDisplay = this.getFullDateFormatWithDate(operationRow.opeOpeningDate);\r\n      }\r\n\r\n      if (operationRow.opeCheckedOn) {\r\n        operationRow.opeCheckOnDisplay = this.getFullDateFormatWithDate(operationRow.opeCheckedOn);\r\n      }\r\n      const bireOperationDataDTO = 'bireOperationData';\r\n      if (operationRow[bireOperationDataDTO].ope_DURATION_TIME) {\r\n        this.changeOpeStdDurationDisplay(operationRow, operationRow[bireOperationDataDTO].ope_DURATION_TIME);\r\n      } else {\r\n        const noDurationTime = 0;\r\n        this.changeOpeStdDurationDisplay(operationRow, noDurationTime);\r\n      }\r\n\r\n      if (operationRow.opePerformedOn) {\r\n        operationRow.opePerformedOnDisplay = this.getFullDateFormatWithDate(operationRow.opePerformedOn);\r\n      }\r\n\r\n      // initialize performed Duration and Elapsed duration\r\n      if (!operationRow.opePerformedDuration && !operationRow.opePerformedElapsed) {\r\n        operationRow.opePerformedDuration = 0;\r\n        operationRow.opePerformedElapsed = 0;\r\n      }\r\n      this.changeOpePerformedDurationDisplay(operationRow);\r\n      this.changeOpePerformedElapsedDisplay(operationRow);\r\n\r\n      // create list of userDTOId for checkBy\r\n      if (operationRow.opeCheckedBy) {\r\n        const userDtoId: BidoUserDTOId = {\r\n          userId: operationRow.opeCheckedBy\r\n        };\r\n        opeCheckUsers.push(userDtoId);\r\n      }\r\n\r\n      // create list of userDTOId for performedBy\r\n      if (operationRow.opePerformedLastBy) {\r\n        const userDtoId: BidoUserDTOId = {\r\n          userId: operationRow.opePerformedLastBy\r\n        };\r\n        opePerformedUsers.push(userDtoId);\r\n      }\r\n\r\n      // create list of operation\r\n      if (operationRow) {\r\n        operationsList.push(operationRow);\r\n      }\r\n    });\r\n\r\n    const observableListCheckBy: Observable<BidoUserDTO>[] = [];\r\n    const observableListPerformedBy: Observable<BidoUserDTO>[] = [];\r\n    const listStatusPercentWrapper: { [key: string]: Observable<number> } = {};\r\n\r\n    opeCheckUsers.forEach((user) => {\r\n      observableListCheckBy.push(this.woFormService.findUserById(user));\r\n    });\r\n    forkJoin(observableListCheckBy).subscribe((userCheckByList) => {\r\n      for (let i = 0; i < userCheckByList.length; i++) {\r\n        this.operationTable[i].opeCheckedBy = userCheckByList[i].userId;\r\n        if (!!userCheckByList[i].employeeId) {\r\n          this.woFormService.getEmployeeById(Number(userCheckByList[i].employeeId)).subscribe((employee) => {\r\n            this.operationTable[i].opeCheckByDisplay = this.getEmployeeText(employee, userCheckByList[i]);\r\n          });\r\n        } else {\r\n          this.operationTable[i].opeCheckByDisplay = this.getUserText(userCheckByList[i]);\r\n        }\r\n      }\r\n    });\r\n\r\n    opePerformedUsers.forEach((user) => {\r\n      observableListPerformedBy.push(this.woFormService.findUserById(user));\r\n    });\r\n    forkJoin(observableListPerformedBy).subscribe((userPerformedByList) => {\r\n      for (let i = 0; i < userPerformedByList.length; i++) {\r\n        this.operationTable[i].opePerformedLastBy = userPerformedByList[i].userId;\r\n        if (!!userPerformedByList[i].employeeId) {\r\n          this.woFormService.getEmployeeById(Number(userPerformedByList[i].employeeId)).subscribe((employee) => {\r\n            this.operationTable[i].opePerformedLastByDisplay = this.getEmployeeText(employee, userPerformedByList[i]);\r\n          });\r\n        } else {\r\n          this.operationTable[i].opePerformedLastByDisplay = this.getUserText(userPerformedByList[i]);\r\n        }\r\n      }\r\n    });\r\n\r\n    operationsList.forEach((ope) => {\r\n      const bireOpeRow = 'bireOperationData';\r\n      const bireOperationDtoRow: BireOperationDTO = {\r\n        opeDurationTime: ope[bireOpeRow].ope_DURATION_TIME\r\n      };\r\n      const progressFromOperationStatusInput: ProgressFromOperationStatusInput = {\r\n        bireOperationDto: bireOperationDtoRow,\r\n        bidmOperationDto: ope\r\n      };\r\n\r\n      listStatusPercentWrapper[ope[bireOpeRow].ope_CODE] = this.woFormService.getProgressFromOperationStatus(\r\n        progressFromOperationStatusInput\r\n      );\r\n    });\r\n    forkJoin(listStatusPercentWrapper).subscribe((statusPercentList) => {\r\n      Object.keys(statusPercentList).forEach((key) => {\r\n        const bireOpeRow = 'bireOperationData';\r\n        const operationRow = this.operationTable.find((row) => row[bireOpeRow].ope_CODE === key);\r\n        if (operationRow) {\r\n          operationRow.opeStatusPercent = Math.floor(statusPercentList[key]).toString();\r\n        }\r\n      });\r\n    });\r\n\r\n    this.operationTable.sort((a, b): number => {\r\n      if (a.opeSequence !== undefined && b.opeSequence !== undefined && a.opeSequence !== b.opeSequence) {\r\n        return a.opeSequence - b.opeSequence;\r\n      } else {\r\n        if (!!a.bireOpeCode && !!b.bireOpeCode) {\r\n          const boll = a.bireOpeCode.localeCompare(b.bireOpeCode);\r\n\r\n          return boll;\r\n        } else {\r\n          return 0;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private getEmployeeText(employee: BidtEmployeeDTO, user: BidoUserDTO): string {\r\n    if (employee.employeeNumber) {\r\n      const opeDisplay = `${employee.employeeNumber} (${user.firstname} ${user.lastname})`;\r\n\r\n      return opeDisplay;\r\n    } else {\r\n      const opeDisplay = `${user.firstname} ${user.lastname}`;\r\n\r\n      return opeDisplay;\r\n    }\r\n  }\r\n\r\n  private getUserText(user: BidoUserDTO): string {\r\n    const opeDisplay = `${user.firstname} ${user.lastname}`;\r\n\r\n    return opeDisplay;\r\n  }\r\n\r\n  public resetCheck(row: JobCardOperation) {\r\n    row.opeCheckedOn = undefined;\r\n    row.opeCheckOnDisplay = undefined;\r\n    row.opeCheckedBy = undefined;\r\n    row.opeCheckByDisplay = undefined;\r\n  }\r\n\r\n  public performOperation(row: JobCardOperation, eSign: boolean) {\r\n    this.resetCheck(row);\r\n    if (!row.isOpeOnElapsed) {\r\n      if (\r\n        row.opeStatus === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED ||\r\n        row.opeStatus === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE\r\n      ) {\r\n        if (!!row.opePerformedDuration || !!row.opePerformedElapsed) {\r\n          row.opeStatus = this.awPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING;\r\n        } else {\r\n          row.opeStatus = this.awPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED;\r\n        }\r\n        row.opeClosingDate = undefined;\r\n        row.opePerformedBy = undefined;\r\n        row.opePerformedOn = undefined;\r\n        row.opePerformedOnDisplay = undefined;\r\n        row.opePerformedWithEsign = false;\r\n      } else {\r\n        const currentDate = moment().unix();\r\n        row.opeStatus = this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED;\r\n\r\n        if (this.user) {\r\n          row.opePerformedBy = this.user.userId;\r\n          row.opePerformedLastBy = this.user.userId;\r\n          row.opePerformedLastByDisplay = this.userText;\r\n        }\r\n\r\n        if (!row.opeOpeningDate) {\r\n          row.opeOpeningDate = moment.unix(currentDate).toDate();\r\n          row.opeStartDateDisplay = this.getFullDateFormatWithUnixTime(currentDate);\r\n        }\r\n        row.opeClosingDate = moment.unix(currentDate).toDate();\r\n        row.opePerformedOn = moment.unix(currentDate).toDate();\r\n        row.opePerformedOnDisplay = this.getFullDateFormatWithUnixTime(currentDate);\r\n        row.opePerformedWithEsign = eSign;\r\n        if (!row.isCriticalTask) {\r\n          this.checkOperation(row, eSign);\r\n        }\r\n      }\r\n      // call save method\r\n      this.saveOperation(row);\r\n      // set workOrderStatusDetail with new value\r\n    }\r\n  }\r\n\r\n  public onOperationValidationOK(comment: string) {\r\n    this.selectedOperationToCheck.opeComment = comment;\r\n    this.validateOperationOK(this.selectedOperationToCheck, false);\r\n  }\r\n\r\n  public onOperationValidationKO(comment: string) {\r\n    this.selectedOperationToCheck.opeComment = comment;\r\n    this.validateOperationKO(this.selectedOperationToCheck);\r\n  }\r\n\r\n  public checkCriticalOperation(row: JobCardOperation, eSign: boolean) {\r\n    this.displayOperationCheck = true;\r\n    this.selectedOperationToCheck = row;\r\n  }\r\n\r\n  private checkOperation(row: JobCardOperation, eSign: boolean) {\r\n    if (row.opeStatus === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE) {\r\n      this.validateOperationKO(row);\r\n    } else {\r\n      this.validateOperationOK(row, eSign);\r\n    }\r\n  }\r\n\r\n  public validateOperationKO(row: JobCardOperation) {\r\n    if (!row.isCriticalTask) {\r\n      row.opeStatus = this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED;\r\n    } else {\r\n      row.opeStatus = this.awPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING;\r\n    }\r\n    this.isWoNeedCheck = false;\r\n    this.setLinkLists();\r\n    if (this.user) {\r\n      row.opeCheckedBy = this.user.userId;\r\n      const currentDate = moment().unix();\r\n      row.opeCheckedOn = moment.unix(currentDate).toDate();\r\n      row.opeCheckOnDisplay = this.getFullDateFormatWithUnixTime(currentDate);\r\n    }\r\n    row.opeCheckByDisplay = this.userText;\r\n    row.opePerformedWithEsign = false;\r\n    this.saveOperation(row);\r\n  }\r\n\r\n  public validateOperationOK(row: JobCardOperation, eSign: boolean) {\r\n    const currentDate = moment().unix();\r\n    row.opeStatus = this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE;\r\n    if (this.user) {\r\n      if (row.isCriticalTask) {\r\n        this.isWoNeedCheck = true;\r\n        this.setLinkLists();\r\n      }\r\n      row.opeCheckedBy = this.user.userId;\r\n      row.opeCheckByDisplay = this.userText;\r\n      row.opeCheckedOn = moment.unix(currentDate).toDate();\r\n      row.opeCheckOnDisplay = this.getFullDateFormatWithUnixTime(currentDate);\r\n      row.opePerformedWithEsign = eSign;\r\n    }\r\n    this.saveOperation(row);\r\n  }\r\n\r\n  public checkWorkOrder(eSign: boolean) {\r\n    let onSaveSucess: Function | undefined;\r\n    if (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE) {\r\n      this.woStatus.status = this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED;\r\n      this.workOrder.woCheckedBy = undefined;\r\n      this.woCheckedBy = undefined;\r\n      this.workOrder.woCheckedOn = undefined;\r\n      this.workOrder.woCheckedWithEsign = undefined;\r\n      if (this.sessionService.isSpecificDassault) {\r\n        onSaveSucess = () => {\r\n          this.deleteLogbookNotificationFromWorkOrder();\r\n        };\r\n      }\r\n    } else {\r\n      const currentDate = moment().unix();\r\n      this.woStatus.status = this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE;\r\n      if (this.user) {\r\n        this.workOrder.woCheckedBy = this.user.userId;\r\n      }\r\n      this.woCheckedBy = `${this.userText} (${moment.unix(currentDate).format('MM/DD/YYYY')})`;\r\n      this.workOrder.woCheckedOn = moment.unix(currentDate).toDate();\r\n      this.workOrder.woCheckedWithEsign = eSign;\r\n      if (this.sessionService.isSpecificDassault) {\r\n        onSaveSucess = () => {\r\n          this.manageUpdateLogbookFromWorkOrder();\r\n        };\r\n      }\r\n    }\r\n    this.saveWorkOrder(onSaveSucess);\r\n  }\r\n\r\n  public saveOperation(row: JobCardOperation) {\r\n    const bidmOperationDtoRow: BidmOperationDTO = row;\r\n    const bireOpeRow = 'bireOperationData';\r\n    const bireOperationDtoRow: BireOperationDTO = {\r\n      opeDurationTime: row[bireOpeRow].ope_DURATION_TIME\r\n    };\r\n\r\n    const progressFromOperationStatusInput: ProgressFromOperationStatusInput = {\r\n      bireOperationDto: bireOperationDtoRow,\r\n      bidmOperationDto: bidmOperationDtoRow\r\n    };\r\n\r\n    this.woFormService.updateBidmOperation(bidmOperationDtoRow).subscribe(() => {\r\n      this.woFormService.getProgressFromOperationStatus(progressFromOperationStatusInput).subscribe((percent) => {\r\n        if (row.opeStatus) {\r\n          row.opeStatusDisplay = row.opeStatus.slice(2);\r\n          row.opeStatusPercent = Math.floor(percent).toString();\r\n        }\r\n        const calculateWorkOrderImput: CalculateWorkOrderImput = {\r\n          workOrderData: this.workOrder,\r\n          fromLineMaintenance: false\r\n        };\r\n        this.woFormService.calculateAndUpdateBidmWorkOrderStatus(calculateWorkOrderImput).subscribe((newStatus) => {\r\n          this.woStatus.status = newStatus;\r\n          this.woFormService.findBidmWorkOrder(this.bidmWorkOrderId).subscribe((result) => {\r\n            this.woStatus = result.workOrderStatusDetail;\r\n            this.initWoDescription();\r\n            this.setLinkLists();\r\n            if (this.woStatus.status) {\r\n              this.woStatusProgressType = this.woStatus.status.slice(2);\r\n            }\r\n            this.woStatusProgressPercent = Math.floor(Number(result.statusPercent)).toString();\r\n            this.updateInterface(true);\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  private initWoDescription(): void {\r\n    if (!!this.woStatus && !!this.woStatus.taskDesignation) {\r\n      let jcDescription: string = this.woStatus.taskDesignation;\r\n      if (this.sessionService.isSpecificDassault) {\r\n        if (!!this.woStatus.taskDescription) {\r\n          jcDescription += '\\n' + this.woStatus.taskDescription;\r\n        }\r\n      }\r\n      this.woDescription = jcDescription;\r\n    } else {\r\n      this.woDescription = this.workOrder.woDescription;\r\n    }\r\n  }\r\n\r\n  public timeToDisplay(millisecond: number): string {\r\n    const secondInmillisecond = 1000;\r\n    const hourInSecond = 3600;\r\n    const minuteInSecond = 60;\r\n    const secondModulo = 60;\r\n    const check = 10;\r\n    const second = Math.floor(millisecond / secondInmillisecond);\r\n    const hours = Math.floor(second / hourInSecond);\r\n    const minutes = Math.floor((second - hours * hourInSecond) / minuteInSecond);\r\n    const seconds = second % secondModulo;\r\n    let minutesDisplay: string = minutes.toString();\r\n    let secondsDisplay: string = seconds.toString();\r\n\r\n    if (minutes < check || seconds < check) {\r\n      if (minutes < check) {\r\n        minutesDisplay = `0${minutes}`;\r\n      }\r\n      if (seconds < check) {\r\n        secondsDisplay = `0${seconds}`;\r\n      }\r\n      const displayLessTen = `${hours}:${minutesDisplay}:${secondsDisplay}`;\r\n\r\n      return displayLessTen;\r\n    }\r\n\r\n    const display = `${hours}:${minutesDisplay}:${secondsDisplay}`;\r\n\r\n    return display;\r\n  }\r\n\r\n  public changeOpePerformedDurationDisplay(row: JobCardOperation): void {\r\n    if (row.opePerformedDuration !== undefined) {\r\n      row.opePerformedDurationDisplay = this.timeToDisplay(row.opePerformedDuration);\r\n    }\r\n  }\r\n\r\n  public changeOpePerformedElapsedDisplay(row: JobCardOperation): void {\r\n    if (row.opePerformedElapsed !== undefined) {\r\n      row.opePerformedElapsedDisplay = this.timeToDisplay(row.opePerformedElapsed);\r\n    }\r\n  }\r\n\r\n  public changeOpeStdDurationDisplay(row: JobCardOperation, num: number): void {\r\n    if (num !== undefined) {\r\n      const durationTimeInmillisecond = 3600000;\r\n      row.opeStdDurationDisplay = this.timeToDisplay(num * durationTimeInmillisecond);\r\n    }\r\n  }\r\n\r\n  public getFullDateFormatWithUnixTime(seconds: number): string {\r\n    const dateDisplay = moment.unix(seconds);\r\n\r\n    return dateDisplay.format('MM/DD/YYYY HH:mm');\r\n  }\r\n\r\n  public getFullDateFormatWithSecond(second: number): string {\r\n    const dateDisplay = moment(second);\r\n\r\n    return dateDisplay.format('MM/DD/YYYY HH:mm');\r\n  }\r\n\r\n  public getFullDateFormatWithDate(date: Date): string {\r\n    const dateDisplay = moment(date);\r\n\r\n    return dateDisplay.format('MM/DD/YYYY HH:mm');\r\n  }\r\n\r\n  private getTask(bireTaskId: BireTaskDTOId) {\r\n    this.woFormService.findBireTask(bireTaskId).subscribe((task) => {\r\n      this.bireTask = task;\r\n      if (!this.workOrder.woDescription) {\r\n        this.workOrder.woDescription = this.bireTask.taskDescription;\r\n      }\r\n      this.initDocumentTable();\r\n      this.initWoUserList();\r\n    });\r\n  }\r\n\r\n  public startOrEndDuration(operationRow: JobCardOperation): void {\r\n    this.resetCheck(operationRow);\r\n    if (!operationRow.isOpeOnPerformed) {\r\n      this.dateStartPerformedDuration = moment().valueOf();\r\n      operationRow.isOpeOnPerformed = true;\r\n      operationRow.opeStatus = AWPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING;\r\n      if (!operationRow.isOpeOnElapsed) {\r\n        this.dateStartElapsedDuration = moment().valueOf();\r\n        operationRow.isOpeOnElapsed = true;\r\n      }\r\n      if (!operationRow.opeOpeningDate) {\r\n        const currentDate = moment().unix();\r\n        operationRow.opeOpeningDate = moment.unix(currentDate).toDate();\r\n        operationRow.opeStartDateDisplay = this.getFullDateFormatWithUnixTime(currentDate);\r\n      }\r\n      if (this.user) {\r\n        operationRow.opePerformedLastBy = this.user.userId;\r\n        operationRow.opePerformedLastByDisplay = this.userText;\r\n      }\r\n    } else if (\r\n      this.dateStartPerformedDuration &&\r\n      operationRow.opePerformedDuration !== undefined &&\r\n      this.dateStartElapsedDuration !== undefined\r\n    ) {\r\n      this.dateEndPerformedDuration = moment().valueOf();\r\n      const duration = this.dateEndPerformedDuration - this.dateStartPerformedDuration;\r\n      const elasped = this.dateEndPerformedDuration - this.dateStartElapsedDuration;\r\n      operationRow.opePerformedDuration += duration;\r\n      this.addBidmTimeTrackingData(\r\n        operationRow,\r\n        new Date(this.dateStartPerformedDuration),\r\n        new Date(this.dateEndPerformedDuration),\r\n        duration,\r\n        elasped\r\n      );\r\n      this.changeOpePerformedDurationDisplay(operationRow);\r\n      this.resetPerformedDates();\r\n      operationRow.isOpeOnPerformed = false;\r\n    }\r\n\r\n    this.saveOperation(operationRow);\r\n  }\r\n\r\n  public startOrEndElapsed(operationRow: JobCardOperation): void {\r\n    if (\r\n      operationRow.isOpeOnElapsed &&\r\n      this.dateStartElapsedDuration !== undefined &&\r\n      operationRow.opePerformedElapsed !== undefined\r\n    ) {\r\n      this.dateEndElapsedDuration = moment().valueOf();\r\n      const elasped = this.dateEndElapsedDuration - this.dateStartElapsedDuration;\r\n      if (operationRow.isOpeOnPerformed) {\r\n        this.startOrEndDuration(operationRow);\r\n      } else {\r\n        this.addBidmTimeTrackingData(\r\n          operationRow,\r\n          new Date(this.dateStartElapsedDuration),\r\n          new Date(this.dateEndElapsedDuration),\r\n          0,\r\n          elasped\r\n        );\r\n      }\r\n      operationRow.opePerformedElapsed += elasped;\r\n      this.changeOpePerformedElapsedDisplay(operationRow);\r\n      this.resetElapsedDates();\r\n      operationRow.isOpeOnElapsed = false;\r\n      this.saveOperation(operationRow);\r\n    }\r\n  }\r\n\r\n  private addBidmTimeTrackingData(\r\n    operationRow: JobCardOperation,\r\n    dateIn: Date,\r\n    dateOut: Date,\r\n    duration: number,\r\n    elapsed: number\r\n  ): void {\r\n    // add entry in log table\r\n    const bidmTimeTrackingToSave: BidmTimeTrackingByOperationOutputDTO = {\r\n      bidmTimeTrackingDTO: {\r\n        bireOpeCode: operationRow.bireOpeCode,\r\n        bireOpeVersion: operationRow.bireOpeVersion,\r\n        ttPerformedClockOut: dateOut,\r\n        ttPerformedClockIn: dateIn,\r\n        ttPerformedDuration: duration,\r\n        ttPerformedElapsed: elapsed,\r\n        woId: this.workOrder.woId,\r\n        projectId: this.workOrder.projectId\r\n      },\r\n      isInDB: false,\r\n      performedBy: operationRow.opePerformedOnDisplay,\r\n      operation: operationRow.bireOpeCode,\r\n      clockOutText: this.dateService.dateWithHourMinSecToString(new Date()),\r\n      durationText: this.timeToDisplay(duration),\r\n      duration,\r\n      elapsed,\r\n      elapsedText: this.timeToDisplay(elapsed),\r\n      isDelete: true,\r\n      isEditable: true\r\n    };\r\n    this.woFormService.saveBidmTimeTracking([bidmTimeTrackingToSave]).subscribe(() => {\r\n      this.bidmTimeTracking.push(bidmTimeTrackingToSave);\r\n    });\r\n  }\r\n\r\n  public openWo(): void {\r\n    if (\r\n      this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED ||\r\n      ((this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED ||\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED) &&\r\n        !!this.operationTable)\r\n    ) {\r\n      this.woFormService.openBidmWorkOrder(this.bidmWorkOrderId).subscribe(() => {\r\n        const calculateWorkOrderImput: CalculateWorkOrderImput = {\r\n          workOrderData: this.workOrder,\r\n          fromLineMaintenance: false\r\n        };\r\n        this.woFormService.calculateAndUpdateBidmWorkOrderStatus(calculateWorkOrderImput).subscribe((newStatus) => {\r\n          this.woStatus.status = newStatus;\r\n          this.loadWorkOrder();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  public performWo(eSign: boolean): void {\r\n    this.setPerformed(eSign);\r\n    this.woStatus.status = this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED;\r\n    this.saveWorkOrder();\r\n  }\r\n\r\n  public clickConfirmWorkCompletion(): void {\r\n    if (\r\n      this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING &&\r\n      this.isCriticalWithoutOperation()\r\n    ) {\r\n      this.woFormService.setWoToBeConfirmed(this.bidmWorkOrderId).subscribe(() => {\r\n        this.loadWorkOrder();\r\n      });\r\n    } else {\r\n      this.stratOrRestartWo(false);\r\n    }\r\n  }\r\n\r\n  public clickCancelWorkCompletion(): void {\r\n    if (\r\n      this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED &&\r\n      this.isCriticalWithoutOperation()\r\n    ) {\r\n      this.woFormService.unsetWoToBeConfirmed(this.bidmWorkOrderId).subscribe(() => {\r\n        this.loadWorkOrder();\r\n      });\r\n    } else {\r\n      this.stratOrRestartWo(false);\r\n    }\r\n  }\r\n\r\n  private isCritical(): boolean {\r\n    if (this.woStatus.isCritical) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private isCriticalWithoutOperation(): boolean {\r\n    if (this.woStatus.isCritical) {\r\n      if (!this.operationTable || this.operationTable.length === 0) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private isNotCriticalWithoutOperation(): boolean {\r\n    if (!this.woStatus.isCritical) {\r\n      if (!this.operationTable || this.operationTable.length === 0) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public stratOrRestartWo(eSign: boolean): void {\r\n    let onSaveSucess: Function | undefined;\r\n    if (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED) {\r\n      this.cancelPerformed();\r\n      // this.woStatus.status = this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED;\r\n    } else if (\r\n      this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED ||\r\n      ((this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PLANNED ||\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_RELEASED ||\r\n        this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_ONGOING) &&\r\n        !!this.operationTable)\r\n    ) {\r\n      this.setPerformed(eSign);\r\n      this.woStatus.status = this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED;\r\n      /* if (!this.woStatus.isCritical) {\r\n        this.setChecked(eSign);\r\n        this.woStatus.status = this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE;\r\n        if (this.sessionService.isSpecificDassault) {\r\n          onSaveSucess = () => {\r\n            this.manageUpdateLogbookFromWorkOrder();\r\n          };\r\n        }\r\n      }*/\r\n    } else if (\r\n      this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE &&\r\n      !this.woStatus.isCritical\r\n    ) {\r\n      this.cancelPerformed();\r\n      this.cancelChecked();\r\n      if (this.sessionService.isSpecificDassault) {\r\n        onSaveSucess = () => {\r\n          this.deleteLogbookNotificationFromWorkOrder();\r\n        };\r\n      }\r\n      // this.woStatus.status = this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED;\r\n    }\r\n    this.saveWorkOrder(onSaveSucess);\r\n  }\r\n\r\n  private deleteLogbookNotificationFromWorkOrder(): void {\r\n    if (this.workPackage.projectId && this.workOrder.woId) {\r\n      const proj: BidmWorkOrderDTOId = {\r\n        projectId: this.workPackage.projectId,\r\n        woId: this.workOrder.woId\r\n      };\r\n      this.woFormService.deleteLogbookNotificationFromWorkOrder(proj).subscribe(\r\n        () => {\r\n          this.messageService.showSuccessMessage(this.getTranslateKey('successOnLogbookNotificationDeletion'));\r\n        },\r\n        (err) => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnLogbookNotificationDeletion'));\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  private manageUpdateLogbookFromWorkOrder(): void {\r\n    if (this.workPackage.projectId && this.workOrder.woId) {\r\n      const proj: BidmWorkOrderDTO = {\r\n        projectId: this.workPackage.projectId,\r\n        woId: this.workOrder.woId,\r\n        woScheduledEndDate: moment().toDate()\r\n      };\r\n      this.woFormService.initializeUpdateLogbookFromWorkOrderInput(proj).subscribe(\r\n        (input) => {\r\n          if (input.evolutionPnUpdateAvailable) {\r\n            this.updateLogbookFromWorkOrderInput = input;\r\n            this.showUpdateLogbookDialog = true;\r\n          } else {\r\n            this.updateLogbookFromWorkOrder(input);\r\n          }\r\n        },\r\n        (err) => {\r\n          this.messageService.showErrorMessage(this.getTranslateKey('errorOnLogbookInitialization'));\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  public updateLogbookFromWorkOrder(input: UpdateLogbookFromWorkOrderInput): void {\r\n    this.woFormService.updateLogbookFromWorkOrderInput(input).subscribe(\r\n      () => {\r\n        this.messageService.showSuccessMessage(this.getTranslateKey('successOnLogbookUpdate'));\r\n      },\r\n      (err) => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnLogbookUpdate'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private cancelPerformed() {\r\n    this.woPerformedBy = undefined;\r\n    this.workOrder.woPerformedBy = undefined;\r\n    this.workOrder.woPerformedOn = undefined;\r\n    this.workOrder.woPerformedWithEsign = false;\r\n  }\r\n\r\n  private setPerformed(eSign: boolean) {\r\n    const currentDate = moment().unix();\r\n    if (this.user) {\r\n      this.woPerformedBy = `${this.userText} (${moment.unix(currentDate).format('MM/DD/YYYY')})`;\r\n      this.workOrder.woPerformedBy = this.user.userId;\r\n    }\r\n    this.workOrder.woPerformedOn = moment.unix(currentDate).toDate();\r\n    this.workOrder.woPerformedWithEsign = eSign;\r\n  }\r\n\r\n  private cancelChecked() {\r\n    this.workOrder.woCheckedWithEsign = false;\r\n    this.woCheckedBy = undefined;\r\n    this.workOrder.woCheckedBy = undefined;\r\n    this.workOrder.woCheckedOn = undefined;\r\n  }\r\n\r\n  /*\r\n  private setChecked(eSign: boolean) {\r\n    const currentDate = moment().unix();\r\n    if (this.user) {\r\n      this.woCheckedBy = `${this.userText} (${moment.unix(currentDate).format('MM/DD/YYYY')})`;\r\n      this.workOrder.woCheckedBy = this.user.userId;\r\n    }\r\n    this.workOrder.woCheckedOn = moment.unix(currentDate).toDate();\r\n    this.workOrder.woCheckedWithEsign = eSign;\r\n  } */\r\n\r\n  public ctrlConfiguration(): void {\r\n    this.isLoadingOutgoingConf = true;\r\n    let equipmentCode: string | undefined;\r\n    if (!!this.wpEquipementDto) {\r\n      equipmentCode = this.wpEquipementDto.equipmentCode;\r\n    }\r\n    const input: ControlConfigurationInput = {\r\n      checkConfiguration: true,\r\n      checkFl: false,\r\n      checkLogbook: false,\r\n      checkMel: false,\r\n      checkPotential: false,\r\n      checkReferential: false,\r\n      checkStructure: false,\r\n      equipmentCode: equipmentCode || '',\r\n      projectId: this.workPackage.projectId,\r\n      withAllCounters: true,\r\n      withFunctionalLocations: true,\r\n      withMelFlag: true\r\n    };\r\n    this.woFormService.controlConfiguration(input).subscribe((controlConfigurationOutput) => {\r\n      this.outgoinConfiguration = { ok: 0, warning: 0, nok: 0 };\r\n      this.checkConfiguration(controlConfigurationOutput);\r\n      this.isLoadingOutgoingConf = false;\r\n    });\r\n  }\r\n\r\n  private checkConfiguration(asset: ControlConfigurationOutput) {\r\n    const checkList = [\r\n      asset.checkConfigurationCause,\r\n      asset.checkCoreCause,\r\n      asset.checkFlCause,\r\n      asset.checkMelCause,\r\n      asset.checkReferentialCause,\r\n      asset.checkStructureCause,\r\n      asset.checkConfigurationCauseAlt,\r\n      asset.checkCoreCauseAlt,\r\n      asset.checkFlCauseAlt,\r\n      asset.checkMelCauseAlt,\r\n      asset.checkReferentialCauseAlt,\r\n      asset.checkStructureCauseAlt,\r\n      asset.checkConfigurationResult,\r\n      asset.checkCoreResult,\r\n      asset.checkFlResult,\r\n      asset.checkMelResult,\r\n      asset.checkReferentialResult,\r\n      asset.checkStructureResult,\r\n      asset.checkLogbookCause,\r\n      asset.checkLogbookCauseAlt,\r\n      asset.checkLogbookResult,\r\n      asset.checkPotentialCause,\r\n      asset.checkPotentialCauseAlt,\r\n      asset.checkPotentialResult\r\n    ];\r\n    for (const checkElement of checkList) {\r\n      if (checkElement) {\r\n        this.countConfiguration(checkElement);\r\n      }\r\n    }\r\n\r\n    if (asset.children) {\r\n      asset.children.forEach((childAsset) => this.checkConfiguration(childAsset));\r\n    }\r\n  }\r\n\r\n  private countConfiguration(checkPart: string) {\r\n    this.outgoinConfiguration.ok = this.outgoinConfiguration.ok || 0;\r\n    this.outgoinConfiguration.warning = this.outgoinConfiguration.warning || 0;\r\n    this.outgoinConfiguration.nok = this.outgoinConfiguration.nok || 0;\r\n    this.outgoinConfiguration.ok += checkPart === ControlConfigConstants.ICON_GREEN ? 1 : 0;\r\n    this.outgoinConfiguration.warning += checkPart === ControlConfigConstants.ICON_YELLOW ? 1 : 0;\r\n    this.outgoinConfiguration.nok += checkPart === ControlConfigConstants.ICON_RED ? 1 : 0;\r\n  }\r\n\r\n  public openAppliedConfigurationManagement(): void {\r\n    if (this.workPackage.assetCode) {\r\n      const objectId: AppliedConfigurationManagementInput = {\r\n        equipmentCodeList: [this.workPackage.assetCode],\r\n        workPackage: this.workPackage.projectId\r\n      };\r\n\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        openMode: ComponentOpenMode.Read,\r\n        componentId: ComponentConstants.MAI_CONFIGURATION_CONTROL,\r\n        objectId: this.serializationService.serialize(objectId)\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else {\r\n      // TODO\r\n    }\r\n  }\r\n\r\n  public goToAsset(equipment: BidoEquipmentDTO | undefined): void {\r\n    if (equipment) {\r\n      switch (equipment.equipmentFunction) {\r\n        case this.awPropertiesConstants.FAMILY_FUNCTION_AIRCRAFT_KEY:\r\n          this.goToAircraft(equipment.equipmentCode, ComponentOpenMode.Read);\r\n          break;\r\n        case this.awPropertiesConstants.FAMILY_FUNCTION_ENGINE_KEY:\r\n          this.goToEngine(equipment.equipmentCode, ComponentOpenMode.Read);\r\n          break;\r\n        default:\r\n          this.goToEquipment(equipment.equipmentCode, ComponentOpenMode.Read);\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  private goToAircraft(aircraftCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.AircraftFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'AircraftFormComponent',\r\n      openMode\r\n    };\r\n    if (!!aircraftCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode: aircraftCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToEngine(engineCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EngineFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EngineFormComponent',\r\n      openMode\r\n    };\r\n    if (!!engineCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode: engineCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private goToEquipment(equipmentCode: string | undefined, openMode: ComponentOpenMode): void {\r\n    const labelKey = 'transaction.EquipmentFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EquipmentFormComponent',\r\n      openMode\r\n    };\r\n    if (!!equipmentCode) {\r\n      const equipmentId: BidoEquipmentDTOId = {\r\n        equipmentCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(equipmentId);\r\n    }\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openTaskLink(task: BireTaskDTO): void {\r\n    if (task) {\r\n      if (task.taskCode && task.taskCode.trim().length > 0) {\r\n        this.openTask(task, ComponentOpenMode.Read);\r\n      } else {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingTaskCode'));\r\n      }\r\n    }\r\n  }\r\n\r\n  public openTask(object: BireTaskDTO | undefined, openMode: ComponentOpenMode): void {\r\n    if (object != undefined) {\r\n      const labelKey = 'transaction.TaskFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'TaskFormComponent',\r\n        objectId: this.serializationService.serialize(object),\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    } else {\r\n      const labelKey = 'transaction.TaskFormComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'TaskFormComponent',\r\n        objectId: undefined,\r\n        openMode\r\n      };\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  private openEvolution(row: ADSBModRowDTO): void {\r\n    const bireEvolutionDTOId: BireEvolutionDTOId = row.adSbModDTOId as BireEvolutionDTOId;\r\n    const labelKey = 'transaction.EvolutionFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'EvolutionFormComponent',\r\n      objectId: this.serializationService.serialize(bireEvolutionDTOId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openSB(row: ADSBModRowDTO): void {\r\n    const bireSBDTOId: BireSbDTOId = row.adSbModDTOId as BireSbDTOId;\r\n    const labelKey = 'transaction.SbadFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'SbadFormComponent',\r\n      objectId: this.serializationService.serialize(bireSBDTOId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openModification(row: ADSBModRowDTO): void {\r\n    const bireModificationDTOId: BireModificationDTOId = row.adSbModDTOId as BireModificationDTOId;\r\n    const labelKey = 'transaction.ModificationFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_MODIFICATION_FORM,\r\n      objectId: bireModificationDTOId ? this.serializationService.serialize(bireModificationDTOId) : undefined,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  private openAD(row: ADSBModRowDTO): void {\r\n    const bireSBDTOId: BireSbDTOId = row.adSbModDTOId as BireSbDTOId;\r\n    const labelKey = 'transaction.AirworthinessDirectiveFormComponent';\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: 'AirworthinessDirectiveFormComponent',\r\n      objectId: this.serializationService.serialize(bireSBDTOId),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openEvent(rowData: BidoNotificationOutputDTO) {\r\n    const dto: BidoNotificationOutputDTO = {\r\n      notificationCode: rowData.notificationCode,\r\n      typeCode: rowData.typeCode\r\n    };\r\n\r\n    const bidoNotificationDTOId: BidoNotificationDTOId = {\r\n      notificationCode: rowData.notificationCode as string\r\n    };\r\n    this.woFormService.findBidoNotification(bidoNotificationDTOId).subscribe((res: BidoNotificationDTO) => {\r\n      if (\r\n        !!res.bidoNotificationTypeDTO &&\r\n        res.bidoNotificationTypeDTO.typeCategory === '5-def' &&\r\n        dto.notificationCode\r\n      ) {\r\n        const notificationId: BidoNotificationDTOId = {\r\n          notificationCode: dto.notificationCode\r\n        };\r\n        this.openDefect(notificationId);\r\n      } else {\r\n        this.openEventUC(dto, ComponentOpenMode.Read);\r\n      }\r\n    });\r\n  }\r\n\r\n  private openEventUC(objectId: BidoNotificationOutputDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.FLE_EVENT_CREATE,\r\n      openMode\r\n    };\r\n\r\n    if (!!objectId) {\r\n      const eventId: BidoNotificationDTOId = {\r\n        notificationCode: objectId.notificationCode as string\r\n      };\r\n      data.objectId = this.serializationService.serialize(eventId);\r\n    }\r\n\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openDefect(eventId: BidoNotificationDTOId): void {\r\n    if (eventId) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.FLE_DEFECT_FORM,\r\n        objectId: this.serializationService.serialize(eventId),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openItemLink(item: BireItemDTO) {\r\n    if (!!item) {\r\n      if (StringUtils.isNullOrEmpty(item.familyCode)) {\r\n        this.messageService.showWarningMessage(this.getTranslateKey('errorOnMissingCode'));\r\n      } else {\r\n        this.openItem(item, ComponentOpenMode.Read);\r\n      }\r\n    }\r\n  }\r\n\r\n  private openItem(objectId: BireItemDTO | undefined, openMode: ComponentOpenMode): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.ENG_ITEM_FORM,\r\n      openMode\r\n    };\r\n    if (!!objectId) {\r\n      const itemFormId: BireItemDTO = {\r\n        familyCode: objectId.familyCode,\r\n        chapter: objectId.chapter,\r\n        section: objectId.section,\r\n        sheet: objectId.sheet,\r\n        marks: objectId.marks,\r\n        subject: objectId.subject,\r\n        structureType: objectId.structureType,\r\n        variantCode: objectId.variantCode\r\n      };\r\n      data.objectId = this.serializationService.serialize(itemFormId);\r\n    }\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public openWorkPackageLink(): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.MAI_WORK_PACKAGE_FORM,\r\n      openMode: ComponentOpenMode.Write,\r\n      objectId: this.serializationService.serialize({ wpId: this.workPackage.projectId })\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public consultWorkOrderOrigin(): void {\r\n    if (!!this.originText && this.wpEquipementDto) {\r\n      const assetWorkOrderOriginInput: AssetWorkOrderOriginInput = {\r\n        woType: this.workOrder.woType,\r\n        woSource: this.workOrder.woSource,\r\n        evolutionType: this.evolutionType,\r\n        familyVariantCode: this.wpEquipementDto.familyVariantCode\r\n      };\r\n      this.woFormService.findWorkOrderOriginDetails(assetWorkOrderOriginInput).subscribe((result) => {\r\n        if (AWPropertiesConstants.AIRM_WORK_ORDER_TYPE_TASK === this.workOrder.woType) {\r\n          if (!!result.bireTaskDTOId) {\r\n            // open task form\r\n            const bireTaskDTO: BireTaskDTO = result.bireTaskDTOId as BireTaskDTO;\r\n            this.openTask(bireTaskDTO, ComponentOpenMode.Read);\r\n          }\r\n        } else if (AWPropertiesConstants.AIRM_WORK_ORDER_TYPE_EVOLUTION === this.workOrder.woType) {\r\n          if (BidoEvolutionConstants.CODE_EVOLUTION === this.evolutionType) {\r\n            if (!!result.bireEvolutionDTOId) {\r\n              // open evolution form\r\n              const bireEvolutionDTOId: ADSBModRowDTO = {\r\n                adSbModDTOId: result.bireEvolutionDTOId\r\n              };\r\n              this.openEvolution(bireEvolutionDTOId);\r\n            }\r\n          } else if (BidoEvolutionConstants.CODE_AD === this.evolutionType) {\r\n            if (!!result.bireSbDTOId) {\r\n              // open Airworthiness Directive form\r\n              const bireSBDTOId: ADSBModRowDTO = {\r\n                adSbModDTOId: result.bireSbDTOId\r\n              };\r\n              this.openAD(bireSBDTOId);\r\n            }\r\n          } else if (BidoEvolutionConstants.CODE_SB === this.evolutionType) {\r\n            if (!!result.bireSbDTOId) {\r\n              // open Service Bulletin form\r\n              const bireSbDTOId: ADSBModRowDTO = {\r\n                adSbModDTOId: result.bireSbDTOId\r\n              };\r\n              this.openSB(bireSbDTOId);\r\n            }\r\n          } else if (BidoEvolutionConstants.CODE_MODIFICATION === this.evolutionType) {\r\n            if (!!result.bireModificationDTOId) {\r\n              // open modification form\r\n              const bireModificationDTOId: ADSBModRowDTO = {\r\n                adSbModDTOId: result.bireModificationDTOId\r\n              };\r\n              this.openModification(bireModificationDTOId);\r\n            }\r\n          }\r\n        } else if (AWPropertiesConstants.AIRM_WORK_ORDER_TYPE_DEFECT === this.workOrder.woType) {\r\n          if (!!result.bidoNotificationDTOId) {\r\n            // open event form\r\n            const bidoNotificationDTOId: BidoNotificationDTOId = result.bidoNotificationDTOId;\r\n            this.openDefect(bidoNotificationDTOId);\r\n          }\r\n        } else if (AWPropertiesConstants.AIRM_WORK_ORDER_TYPE_SN_CHANGE === this.workOrder.woType) {\r\n          if (!!result.bidoEquipmentDTO) {\r\n            if (AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY === result.bidoEquipmentDTO.equipmentFunction) {\r\n              // open aircraft\r\n              this.goToAircraft(result.bidoEquipmentDTO.equipmentCode, ComponentOpenMode.Read);\r\n            } else if (\r\n              AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY === result.bidoEquipmentDTO.equipmentFunction\r\n            ) {\r\n              // open engine\r\n              this.goToEngine(result.bidoEquipmentDTO.equipmentCode, ComponentOpenMode.Read);\r\n            } else {\r\n              // open equipment\r\n              this.goToEquipment(result.bidoEquipmentDTO.equipmentCode, ComponentOpenMode.Read);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } else if (!!this.originText && AWPropertiesConstants.AIRM_WORK_ORDER_TYPE_DEFECT === this.workOrder.woType) {\r\n      const bidoNotificationDTOId: BidoNotificationDTOId = { notificationCode: this.originText };\r\n      this.openDefect(bidoNotificationDTOId);\r\n    }\r\n  }\r\n\r\n  public todo() {\r\n    // #TODO\r\n  }\r\n\r\n  // documents\r\n\r\n  public initDocumentTable(): void {\r\n    if (this.bireTask.taskCode && this.bireTask.taskVersion) {\r\n      const bireTaskId: BireTaskDTOId = {\r\n        taskCode: this.bireTask.taskCode,\r\n        taskVersion: this.bireTask.taskVersion\r\n      };\r\n      this.woFormService.findBireDocTaskByTask(bireTaskId).subscribe((docTaskList) => {\r\n        docTaskList.forEach((docTask) => {\r\n          const docRow: DocumentTableRow = {\r\n            docTask: `${this.bireTask.taskCode}-${this.bireTask.taskVersion}`,\r\n            docName: docTask.docName,\r\n            docExtension: docTask.docType,\r\n            docDescription: docTask.docDescription,\r\n            docExternal: docTask.docSource,\r\n            docPublicationDate: docTask.docPublicationDate,\r\n            docIsIllustration: docTask.docIsIllustration,\r\n            docCode: docTask.docCode,\r\n            _obj: docTask,\r\n            docFile: docTask.docFile\r\n          };\r\n          let fileSize: string | undefined;\r\n          if (docTask.docFile) {\r\n            fileSize = FileUtils.getFormattedSize(docTask.docFile.length);\r\n          }\r\n          docRow.docSize = fileSize;\r\n          if (docRow.docExtension === 'PNG' || docRow.docExtension === 'JPG') {\r\n            this.processMaterialIllustration(docRow);\r\n          }\r\n\r\n          this.documentTableDisplayed.push(docRow);\r\n        });\r\n      });\r\n    }\r\n  }\r\n  public showDocExtension(document: BidoDocumentationDTO): string {\r\n    return FileUtils.getExtension(document.docName).toUpperCase();\r\n  }\r\n  private processMaterialIllustration(documentRow: DocumentTableRow): void {\r\n    if (ObjectUtils.isDefined(documentRow.docFile) && !StringUtils.isNullOrEmpty(documentRow.docExtension)) {\r\n      documentRow.materialIllustration = this.domSanitizer.bypassSecurityTrustResourceUrl(\r\n        `${ImageUtils.getBase64Prefix(documentRow.docExtension)}${documentRow.docFile}`\r\n      );\r\n    }\r\n  }\r\n\r\n  public showIllustration(illustration: SafeResourceUrl): void {\r\n    this.currentIllustration = illustration;\r\n  }\r\n\r\n  public hideIllustration(): void {\r\n    this.currentIllustration = undefined;\r\n  }\r\n\r\n  public isConfOk(): boolean {\r\n    return (\r\n      (this.outgoinConfiguration.nok === undefined ? 0 : this.outgoinConfiguration.nok) === 0 &&\r\n      (this.outgoinConfiguration.warning === undefined ? 0 : this.outgoinConfiguration.warning) === 0 &&\r\n      (this.outgoinConfiguration.ok === undefined ? 0 : this.outgoinConfiguration.ok) > 0\r\n    );\r\n  }\r\n\r\n  public isConfWarning(): boolean {\r\n    return (\r\n      (this.outgoinConfiguration.nok === undefined ? 0 : this.outgoinConfiguration.nok) === 0 &&\r\n      (this.outgoinConfiguration.warning === undefined ? 0 : this.outgoinConfiguration.warning) > 0\r\n    );\r\n  }\r\n\r\n  public isConfNok(): boolean {\r\n    return (this.outgoinConfiguration.nok === undefined ? 0 : this.outgoinConfiguration.nok) > 0;\r\n  }\r\n\r\n  public ctrlStock() {\r\n    this.isLoadingStockControlConf = true;\r\n    if (this.workPackage.projectId && this.workOrder.woId) {\r\n      const projectIdDto: BidmProjectDTOId = {\r\n        projectId: this.workPackage.projectId\r\n      };\r\n      const workOrderIdDto: BidmWorkOrderDTOId = {\r\n        woId: this.workOrder.woId,\r\n        projectId: this.workPackage.projectId\r\n      };\r\n      const input: ControlStockInput = {\r\n        projectId: projectIdDto,\r\n        workOrderId: workOrderIdDto,\r\n        mvtStatusExcluded: [\r\n          AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY,\r\n          AWPropertiesConstants.MM_MVT_STATUS_CANCELED_KEY,\r\n          AWPropertiesConstants.MM_MVT_STATUS_CLOSED_KEY\r\n        ],\r\n        date: moment().toDate()\r\n      };\r\n      this.woFormService.controlStock(input).subscribe((stockMvtList) => {\r\n        this.stockControlConf = { ok: 0, warning: 0, nok: 0 };\r\n        this.checkStock(stockMvtList);\r\n        this.isLoadingStockControlConf = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  private checkStock(stockList: GetQuantityInStockBySiteOutput[]) {\r\n    stockList.forEach((stock) => {\r\n      this.countStockConfig(stock);\r\n    });\r\n  }\r\n\r\n  private countStockConfig(stock: GetQuantityInStockBySiteOutput) {\r\n    this.stockControlConf.ok = this.stockControlConf.ok || 0;\r\n    this.stockControlConf.warning = this.stockControlConf.warning || 0;\r\n    this.stockControlConf.nok = this.stockControlConf.nok || 0;\r\n    this.stockControlConf.ok += stock.status === ControlConfigConstants.ICON_GREEN_LIGHT_CODE ? 1 : 0;\r\n    this.stockControlConf.warning += stock.status === ControlConfigConstants.ICON_YELLOW_LIGHT_CODE ? 1 : 0;\r\n    this.stockControlConf.nok += stock.status === ControlConfigConstants.ICON_RED_LIGHT_CODE ? 1 : 0;\r\n  }\r\n\r\n  public showButtonOpenField(): boolean {\r\n    return this.sessionService.isSpecificDassault && !!this.woTask;\r\n  }\r\n\r\n  public showButtonOpenStaffPlanning(): boolean {\r\n    return this.sessionService.hasUserRightByUseCase(\r\n      BidoFunctionTypeConstants.UC_HR_EMPLOYEE,\r\n      BidoFunctionTypeConstants.DEGREE_DISPLAY\r\n    );\r\n  }\r\n\r\n  public openField(): void {\r\n    if (this.woStatus && !!this.woStatus.bidoEquipmentData) {\r\n      this.davFieldService\r\n        .buildTaskFieldLink({\r\n          taskCodeAndVersion: this.woTask,\r\n          familyVariantCode: this.woStatus.bidoEquipmentData.familyVariantCode\r\n        })\r\n        .subscribe((data: string) => {\r\n          window.open(data);\r\n        });\r\n    }\r\n  }\r\n\r\n  public openOperationUC(rowData: BidmOperationDTO) {\r\n    if (!!rowData.bireOpeCode && !!rowData.bireOpeVersion && !!rowData.bireOpeRangeCode) {\r\n      const object: BireOperationDTOId = {\r\n        opeCode: rowData.bireOpeCode,\r\n        opeVersion: rowData.bireOpeVersion,\r\n        rangeCode: rowData.bireOpeRangeCode\r\n      };\r\n\r\n      const labelKey = 'transaction.OperationSearchComponent';\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: 'OperationFormComponent',\r\n        objectId: this.serializationService.serialize(object),\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public showStatus(): void {\r\n    const overlayRef = this._overlayService.openWithPositionCenter<string | undefined>({\r\n      content: WorkOrderStatusComponent,\r\n      data: {\r\n        statusState: this.woStatus.status,\r\n        statusDate: this.workOrder.statusDate,\r\n        statusUser: this.workOrder.statusUser\r\n      }\r\n    });\r\n\r\n    overlayRef.afterClosed$.subscribe({\r\n      next: (event) => {\r\n        if (event.data) {\r\n          if (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_TO_BE_CONFIRMED) {\r\n            this.stratOrRestartWo(false);\r\n          } else if (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_PERFORMED) {\r\n            this.checkWorkOrder(false);\r\n          } else if (this.woStatus.status === this.awPropertiesConstants.AIRM_OPERATION_STATUS_CLOSE) {\r\n            /* if (!this.woStatus.isCritical) {\r\n              this.stratOrRestartWo(false);\r\n            } else {\r\n              this.checkWorkOrder(false);\r\n            } */\r\n            this.checkWorkOrder(false);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public lastUpdateDetails(): void {\r\n    this.showLastUpdatePopup = true;\r\n  }\r\n\r\n  public addWoAssetManagement(): void {\r\n    this.isLoadingWoAssetManagementTable = true;\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.length > 0 ? this.allWoAssetManagements : undefined\r\n    };\r\n    this.woFormService.addWoAssetManagementToWo(input).subscribe((result) => {\r\n      this.addJobCardWoAssetManagementRow(result);\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  private initInstallRemoveStatuses(): void {\r\n    const observable = this.isGroundEquipment\r\n      ? this.propertiesService.getValue(GenericPropertyConstants.GROUND_EQUIPMENT_STATUS_MAP)\r\n      : this.propertiesService.getValue(GenericPropertyConstants.OPERATIONAL_STATUS_MAP);\r\n    observable.subscribe((list) => {\r\n      this.removeOperationalStatuses = ListUtils.orEmpty(list)\r\n        .filter((elt) => elt.value !== AWPropertiesConstants.OPERATIONAL_STATUS_IN_OPERATION_KEY)\r\n        .sort((elt1, elt2) => elt1.label.localeCompare(elt2.label));\r\n      this.installOperationalStatuses = ListUtils.orEmpty(list)\r\n        .filter(\r\n          (elt) =>\r\n            elt.value !== AWPropertiesConstants.OPERATIONAL_STATUS_SPARE_KEY &&\r\n            elt.value !== AWPropertiesConstants.OPERATIONAL_STATUS_SCRAPPED_KEY\r\n        )\r\n        .sort((elt1, elt2) => elt1.label.localeCompare(elt2.label));\r\n    });\r\n  }\r\n\r\n  private initWoAssetMangement(): void {\r\n    this.isLoadingWoAssetManagementTable = true;\r\n    this.woAssetManagementTable = [];\r\n    this.selectedWoAssetManagements = [];\r\n    this.expandedWoAssetRows = {};\r\n    this.woFormService.getByWorkOrder(this.bidmWorkOrderId).subscribe((result) => {\r\n      result.forEach((woAssetManagementDTO: WoAssetManagementDTO) => {\r\n        const row = this.addJobCardWoAssetManagementRow(woAssetManagementDTO);\r\n\r\n        this.loadTransferOrders(woAssetManagementDTO, row);\r\n      });\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  private loadTransferOrders(woAssetManagementDTO: WoAssetManagementDTO, row: JobCardWoAssetManagement): void {\r\n    if (\r\n      !!row.selectedBidoEquipmentDTO &&\r\n      !!row.selectedPn &&\r\n      !!row.selectedBidoEquipmentDTO.sn &&\r\n      !!this.workOrder.projectId &&\r\n      !!this.workOrder.woId\r\n    ) {\r\n      const input: FindForRemovalInput = {\r\n        projectId: this.workOrder.projectId,\r\n        woId: this.workOrder.woId,\r\n        assetPn: row.selectedPn,\r\n        assetSn: row.selectedBidoEquipmentDTO.sn\r\n      };\r\n      this.logisticsService.findTransferOrdersByRemoval(input).subscribe({\r\n        next: (transferOrders) => {\r\n          if (transferOrders && transferOrders.length > 0) {\r\n            row.transferOrders = transferOrders;\r\n            row.createReverseTransfer = true;\r\n            row._existingReversal = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private addJobCardWoAssetManagementRow(woAssetManagementDTO: WoAssetManagementDTO): JobCardWoAssetManagement {\r\n    const row: JobCardWoAssetManagement = {\r\n      ...woAssetManagementDTO,\r\n      key: `${this.woAssetManagementTable.length}-id`,\r\n      availableDecisions: this.getAvailableDecisions(),\r\n      availableEquipments: this.getAvailableEquipments(woAssetManagementDTO),\r\n      availableSuperiorAssets: this.getAvailableSuperiorAssets(woAssetManagementDTO),\r\n      availableWarehouses: this.getAvailableWarehouses(woAssetManagementDTO),\r\n      availableItems: this.getAvailableItems(woAssetManagementDTO),\r\n      availableFunctionCodes: this.getAvailableFunctionCodes(woAssetManagementDTO),\r\n      availablePNs: this.getAvailablePns(woAssetManagementDTO),\r\n      availableStatuses: this.getAvailableStatuses(woAssetManagementDTO),\r\n      availableFls: this.getAvailableFls(woAssetManagementDTO),\r\n      transferOrders: [],\r\n      _obj: woAssetManagementDTO\r\n    };\r\n    if (!woAssetManagementDTO.bidoNotificationDTO) {\r\n      this.expandedWoAssetRows[row.key] = true;\r\n      row._expand = true;\r\n    }\r\n    if (this.workOrder.bidtWarehouseId) {\r\n      row.selectedWarehouseId = this.workOrder.bidtWarehouseId;\r\n      woAssetManagementDTO.selectedWarehouseId = this.workOrder.bidtWarehouseId;\r\n    }\r\n    row.isLoading = false;\r\n    this.initWoAssetAlert(row);\r\n    this.woAssetManagementTable.push(row);\r\n    this.allWoAssetManagements.push(woAssetManagementDTO);\r\n\r\n    return row;\r\n  }\r\n\r\n  private updateJobCardWoAssetManagementRow(\r\n    row: JobCardWoAssetManagement,\r\n    woAssetManagementDTO: WoAssetManagementDTO\r\n  ): void {\r\n    Object.assign(row, woAssetManagementDTO);\r\n    this.loadTransferOrders(woAssetManagementDTO, row);\r\n    row.availableEquipments = this.getAvailableEquipments(woAssetManagementDTO);\r\n    row.availableSuperiorAssets = this.getAvailableSuperiorAssets(woAssetManagementDTO);\r\n    row.availableWarehouses = this.getAvailableWarehouses(woAssetManagementDTO);\r\n    row.availableItems = this.getAvailableItems(woAssetManagementDTO);\r\n    row.availablePNs = this.getAvailablePns(woAssetManagementDTO);\r\n    row.availableStatuses = this.getAvailableStatuses(woAssetManagementDTO);\r\n    row.availableFls = this.getAvailableFls(woAssetManagementDTO);\r\n    row.isLoading = false;\r\n    row._obj = woAssetManagementDTO;\r\n    this.initWoAssetAlert(row);\r\n    this.woAssetManagementReadyToExecute();\r\n  }\r\n\r\n  private initWoAssetAlert(row: JobCardWoAssetManagement): void {\r\n    if (!row.alertIcon && !row.bidoNotificationDTO) {\r\n      if (this.woAssetManagementIsReady(row)) {\r\n        row.isReady = true;\r\n        row.alertIcon = ControlConfigConstants.ICON_GREEN_LIGHT_CODE;\r\n      } else {\r\n        row.alertIcon = ControlConfigConstants.ICON_RED_LIGHT_CODE;\r\n      }\r\n    }\r\n  }\r\n\r\n  private getAvailableDecisions(): SelectItem[] {\r\n    const decisionList: SelectItem[] = [];\r\n    decisionList.push({\r\n      label: this.translateService.instant(this.getTranslateKey('install')),\r\n      value: BidoNotificationTypeConstants.ASSEMBLY_TYPE_CODE\r\n    });\r\n    decisionList.push({\r\n      label: this.translateService.instant(this.getTranslateKey('remove')),\r\n      value: BidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE\r\n    });\r\n\r\n    return decisionList;\r\n  }\r\n\r\n  private getAvailableWarehouses(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    return ListUtils.orEmpty(woAssetManagementDTO.availableWarehouseList)\r\n      .filter((warehouse) => ObjectUtils.isDefined(warehouse.whCode))\r\n      .map((warehouse) => {\r\n        return {\r\n          label: StringUtils.isNullOrEmpty(warehouse.whName)\r\n            ? warehouse.whCode\r\n            : `${warehouse.whCode} - ${warehouse.whName}`,\r\n          value: warehouse.wareHouseId\r\n        };\r\n      });\r\n  }\r\n\r\n  private getAvailableSuperiorAssets(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    return ListUtils.orEmpty(woAssetManagementDTO.avaialableSuperiorAssetList)\r\n      .filter((data) => ObjectUtils.isDefined(data.equipmentCode))\r\n      .map((data) => {\r\n        return {\r\n          label: BidoEquipmentUtils.toString(data),\r\n          value: data\r\n        };\r\n      });\r\n  }\r\n\r\n  private getAvailableEquipments(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    return ListUtils.orEmpty(woAssetManagementDTO.availableBidoEquipmentList)\r\n      .filter((data) => ObjectUtils.isDefined(data.equipmentCode))\r\n      .map((data) => {\r\n        return {\r\n          label: data.sn,\r\n          value: data\r\n        };\r\n      });\r\n  }\r\n\r\n  private getAvailableItems(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    return ListUtils.orEmpty(woAssetManagementDTO.availableItemDTOList).map((data) => {\r\n      return {\r\n        label: `${BireItemUtils.createItemKey(data)}-${data.name}`,\r\n        value: data\r\n      };\r\n    });\r\n  }\r\n\r\n  private getAvailableFunctionCodes(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    return ListUtils.orEmpty(woAssetManagementDTO.availableFunctionCodeList).map((data) => {\r\n      return {\r\n        label: data,\r\n        value: data\r\n      };\r\n    });\r\n  }\r\n\r\n  private getAvailablePns(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    return ListUtils.orEmpty(woAssetManagementDTO.availablePNDTOList).map((data) => {\r\n      return {\r\n        label: `${data.pnCode}`,\r\n        value: data.pnCode\r\n      };\r\n    });\r\n  }\r\n\r\n  private getAvailableStatuses(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    if (\r\n      woAssetManagementDTO &&\r\n      woAssetManagementDTO.notificationType === BidoNotificationTypeConstants.ASSEMBLY_TYPE_CODE\r\n    ) {\r\n      return this.installOperationalStatuses;\r\n    } else {\r\n      return this.removeOperationalStatuses;\r\n    }\r\n  }\r\n\r\n  private getAvailableFls(woAssetManagementDTO: WoAssetManagementDTO): SelectItem[] {\r\n    return ListUtils.orEmpty(woAssetManagementDTO.availableFlDTOList).map((data) => {\r\n      return {\r\n        label: data.bidoFlData ? data.bidoFlData.flCode : '',\r\n        value: data.bidoFlData ? data.bidoFlData.flCode : undefined\r\n      };\r\n    });\r\n  }\r\n\r\n  public updateWoAssetDecision(rowData: JobCardWoAssetManagement): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTO: rowData,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.filter(\r\n        (woAssetManagement) => woAssetManagement !== rowData._obj\r\n      ),\r\n      decision: rowData.notificationType\r\n    };\r\n    rowData.alertIcon = undefined;\r\n    rowData.alertMessage = undefined;\r\n    rowData.isLoading = true;\r\n    this.woFormService.woAssetManagementUpdateDecision(input).subscribe((result) => {\r\n      this.updateJobCardWoAssetManagementRow(rowData, result);\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  public updateWoAssetSuperiorAsset(rowData: JobCardWoAssetManagement): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTO: rowData,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.filter(\r\n        (woAssetManagement) => woAssetManagement !== rowData._obj\r\n      ),\r\n      selectedSuperiorBidoEquipmentDTO: rowData.selectedSuperiorBidoEquipmentDTO\r\n    };\r\n    rowData.alertIcon = undefined;\r\n    rowData.alertMessage = undefined;\r\n    rowData.isLoading = true;\r\n    this.woFormService.woAssetManagementUpdateSuperiorAsset(input).subscribe((result) => {\r\n      this.updateJobCardWoAssetManagementRow(rowData, result);\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  public updateWoAssetEquipment(rowData: JobCardWoAssetManagement): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTO: rowData,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.filter(\r\n        (woAssetManagement) => woAssetManagement !== rowData._obj\r\n      ),\r\n      selectedBidoEquipmentDTO: rowData.selectedBidoEquipmentDTO\r\n    };\r\n    rowData.alertIcon = undefined;\r\n    rowData.alertMessage = undefined;\r\n    rowData.isLoading = true;\r\n    this.woFormService.woAssetManagementUpdateSelectedEquipment(input).subscribe((result) => {\r\n      this.updateJobCardWoAssetManagementRow(rowData, result);\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  public updateWoAssetItem(rowData: JobCardWoAssetManagement): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTO: rowData,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.filter(\r\n        (woAssetManagement) => woAssetManagement !== rowData._obj\r\n      ),\r\n      selectedBireItemDTO: rowData.selectedBireItemDTO,\r\n      selectedFunctionCode: rowData.selectedFunctionCode\r\n    };\r\n    rowData.alertIcon = undefined;\r\n    rowData.alertMessage = undefined;\r\n    rowData.isLoading = true;\r\n    this.woFormService.woAssetManagementUpdateItemOrFunctionCode(input).subscribe((result) => {\r\n      this.updateJobCardWoAssetManagementRow(rowData, result);\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  public updateWoAssetPn(rowData: JobCardWoAssetManagement): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTO: rowData,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.filter(\r\n        (woAssetManagement) => woAssetManagement !== rowData._obj\r\n      ),\r\n      selectedPnCode: rowData.selectedPn\r\n    };\r\n    rowData.alertIcon = undefined;\r\n    rowData.alertMessage = undefined;\r\n    rowData.isLoading = true;\r\n    this.woFormService.woAssetManagementUpdatePn(input).subscribe((result) => {\r\n      this.updateJobCardWoAssetManagementRow(rowData, result);\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  public updateWoAssetWarehouse(rowData: JobCardWoAssetManagement): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTO: rowData,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.filter(\r\n        (woAssetManagement) => woAssetManagement !== rowData._obj\r\n      ),\r\n      selectedWarehouseId: rowData.selectedWarehouseId\r\n    };\r\n    rowData.alertIcon = undefined;\r\n    rowData.alertMessage = undefined;\r\n    rowData.isLoading = true;\r\n    this.woFormService.woAssetManagementUpdateSelectedWarehouse(input).subscribe((result) => {\r\n      this.updateJobCardWoAssetManagementRow(rowData, result);\r\n      this.isLoadingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  public controlWoAsset(rowData: JobCardWoAssetManagement): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTO: rowData,\r\n      woAssetManagementDTOs: this.allWoAssetManagements.filter(\r\n        (woAssetManagement) => woAssetManagement !== rowData._obj\r\n      ),\r\n      decision: rowData.notificationType\r\n    };\r\n    rowData.alertIcon = undefined;\r\n    rowData.alertMessage = undefined;\r\n    rowData.isLoading = true;\r\n    this.woFormService.woAssetManagementControl(input).subscribe((result) => {\r\n      this.updateJobCardWoAssetManagementRow(rowData, result);\r\n    });\r\n  }\r\n\r\n  public executeSelectedDecision(): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTOs: this.selectedWoAssetManagements\r\n    };\r\n    this.isExecutingWoAssetManagementDecision = true;\r\n    this.woFormService.woAssetManagementExecuteDecisions(input).subscribe(() => {\r\n      this.initWoAssetMangement();\r\n      this.isExecutingWoAssetManagementDecision = false;\r\n    });\r\n  }\r\n\r\n  public undoSelectedDecision(): void {\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTOs: this.selectedWoAssetManagements\r\n    };\r\n    this.isUndoingWoAssetManagementDecision = true;\r\n    this.woFormService.woAssetManagementUndoDecisions(input).subscribe(() => {\r\n      this.initWoAssetMangement();\r\n      this.isUndoingWoAssetManagementDecision = false;\r\n    });\r\n  }\r\n\r\n  public woAssetManagementReadyToExecute(): void {\r\n    const allReadyElements: JobCardWoAssetManagement[] = [];\r\n    let allAreReady = true;\r\n    this.selectedWoAssetManagements.forEach((woAssetManagement) => {\r\n      if (this.woAssetManagementIsReady(woAssetManagement)) {\r\n        allReadyElements.push(woAssetManagement);\r\n      } else {\r\n        allAreReady = false;\r\n      }\r\n    });\r\n\r\n    this.woAssetManagementReadyToExecuteDecision = !(allReadyElements.length > 0 && allAreReady);\r\n  }\r\n\r\n  public saveWoAssetManagement(): void {\r\n    this.isSavingWoAssetManagementTable = true;\r\n    const input: WoAssetManagementInputDTO = {\r\n      bidmWorkOrderDTOId: this.bidmWorkOrderId,\r\n      woAssetManagementDTOs: this.woAssetManagementTable.length > 0 ? this.woAssetManagementTable : undefined\r\n    };\r\n    this.woFormService.woAssetManagementSave(input).subscribe((result) => {\r\n      this.initWoAssetMangement();\r\n      this.isSavingWoAssetManagementTable = false;\r\n    });\r\n  }\r\n\r\n  public woAssetManagementIsReady(rowData: JobCardWoAssetManagement): boolean {\r\n    if (\r\n      !!rowData.bidoNotificationDTO ||\r\n      !rowData.notificationDate ||\r\n      !rowData.selectedPn ||\r\n      !rowData.selectedBidoEquipmentDTO ||\r\n      !rowData.selectedStatus\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    if (rowData.alertIcon === this.controlConfigConstants.ICON_RED_LIGHT_CODE) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public openUrl(url: string): void {\r\n    UrlUtils.openUrl(url);\r\n  }\r\n\r\n  public validateUrl(url: string): boolean {\r\n    return UrlUtils.validateUrl(url);\r\n  }\r\n\r\n  public openStatusUpdatesPopup() {\r\n    this.selectedOperation = this.selectedOperations[0];\r\n    const bidmOperationId: BidmOperationDTOId = {\r\n      woId: this.selectedOperation.woId as string,\r\n      projectId: this.selectedOperation.projectId as string,\r\n      bireOpeCode: this.selectedOperation.bireOpeCode as string,\r\n      bireOpeVersion: this.selectedOperation.bireOpeVersion as string\r\n    };\r\n    this.showOperationUpdatesPopup = true;\r\n    const columns: TableColumn[] = [\r\n      { field: 'timestamp', width: '200px', filterMode: TableColumnFilterMode.Input, isDate: true, alignment: 'left' },\r\n      { field: 'opeStatus', alignment: 'left', width: '6.25rem', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'opeComment', alignment: 'left', width: '6.25rem', filterMode: TableColumnFilterMode.Input },\r\n      { field: 'opeCheckedBy', alignment: 'left', width: '6.25rem', filterMode: TableColumnFilterMode.Input },\r\n      {\r\n        field: 'opeCheckedOn',\r\n        alignment: 'left',\r\n        width: '6.25rem',\r\n        filterMode: TableColumnFilterMode.Input,\r\n        isDateWithHour: true\r\n      },\r\n      { field: 'opePerformedBy', alignment: 'left', width: '6.25rem', filterMode: TableColumnFilterMode.Input },\r\n      {\r\n        field: 'opePerformedOn',\r\n        alignment: 'left',\r\n        width: '6.25rem',\r\n        filterMode: TableColumnFilterMode.Input,\r\n        isDateWithHour: true\r\n      }\r\n    ];\r\n    this.updatesKeyMap.set(\r\n      'opeStatus',\r\n      this.propertiesService.getValue(GenericPropertyConstants.AIRM_OPERATION_STATUS_MAP)\r\n    );\r\n    this.updatesKeyMap.set('opeCheckedBy', this.woFormService.findUsers());\r\n    this.updatesKeyMap.set('opePerformedBy', this.woFormService.findUsers());\r\n    this.tableOperationUpdatesData = {\r\n      componentId: 'OperationComponent.historicPopup',\r\n      tableCols: columns,\r\n      tableRows: this.woFormService.findHBidmOperation(bidmOperationId),\r\n      dataKey: undefined,\r\n      selectionMode: TableSelectionMode.Multiple,\r\n      globalFilter: false\r\n    };\r\n  }\r\n\r\n  /**\r\n   * This method is to check the visibility of Print Id Label button\r\n   * 1. The selected line should be removal only\r\n   * 2. The selected line should be executed (has bidoNotifactionDTO)\r\n   */\r\n  public showPrintIdLabelButton(): boolean {\r\n    if (\r\n      !!this.selectedWoAssetManagements &&\r\n      this.selectedWoAssetManagements.length === 1 &&\r\n      !!this.selectedWoAssetManagements[0]._obj &&\r\n      this.selectedWoAssetManagements[0]._obj.notificationType ===\r\n        BidoNotificationTypeConstants.DISASSEMBLY_TYPE_CODE &&\r\n      !!this.selectedWoAssetManagements[0]._obj.bidoNotificationDTO\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public openTransferOrder(transferOrder: BidtTransferOrderDTO): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_TRANSFER_ORDER_FORM,\r\n      objectId: this.serializationService.serialize(transferOrder.id),\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public initWoUserList(): void {\r\n    const param: UsersForWorkOrderInput = {\r\n      useCaseCode: BidoFunctionTypeConstants.UC_AIRM_EXECUTION\r\n    };\r\n    if (!!this.bireTask) {\r\n      param.taskCode = this.bireTask.taskCode;\r\n      param.taskVersion = this.bireTask.taskVersion;\r\n    }\r\n    param.projectId = this.workOrder.projectId;\r\n    param.startDate = this.workOrder.woScheduledStartDate;\r\n    this.woFormService.findUsersWithUseCaseForWorkOrder(param).subscribe((data: BidoUserDTO[]) => {\r\n      this.woUserList = data.map((user) => {\r\n        return {\r\n          label: `${user.lastname} ${user.firstname}`,\r\n          value: user.userId\r\n        };\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { ChartModule } from 'primeng/chart';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\r\nimport { ProgressBarModule } from 'primeng/progressbar';\r\nimport { SelectButtonModule } from 'primeng/selectbutton';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { TreeTableModule } from 'primeng/treetable';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { ComponentSidebarModule } from '../../../shared/components/component-sidebar/component-sidebar.mdule';\r\nimport { CreateEventFormModule } from '../../../shared/components/create-event-form/create-event-form.module';\r\nimport { DefectListModule } from '../../../shared/components/defect-list/defect-list.module';\r\nimport { DialogEquipmentListModule } from '../../../shared/components/dialog-equipment-list/dialog-equipment-list.module';\r\nimport { DialogSearchEquipmentModule } from '../../../shared/components/dialog-search-equipment/dialog-search-equipment.module';\r\nimport { DialogSearchPnModule } from '../../../shared/components/dialog-search-pn/dialog-search-pn.module';\r\nimport { DialogUpdateLogbookComponent } from '../../../shared/components/dialog-update-logbook/dialog-update-logbook.component';\r\nimport { ModalModule } from '../../../shared/components/modal/modal.module';\r\nimport { StatusUpdateHistoryModule } from '../../../shared/components/status-update-history/status-update-history.module';\r\nimport { TableModule } from '../../../shared/components/table/table.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\nimport { EmployeeFormService } from '../../human-resources/employee-form/employee-form.service';\r\nimport { ProcurementRequestPopupModule } from '../../logistics/procurement-request/search/procurement-request-popup/procurement-request-popup.module';\r\nimport { ProcurementRequestsTableModule } from '../procurement-request/procurement-requests-table.module';\r\nimport { DialogWorkOrderEditionModule } from '../work-package/form/popups/dialog-work-order-edition/dialog-work-order-edition.module';\r\nimport { WorkPackageFormService } from '../work-package/form/work-package-form.service';\r\nimport { WorkPackageService } from '../work-package/work-package.service';\r\n\r\nimport { DialogEditDurationComponent } from './form/popups/dialog-edit-duration/dialog-edit-duration.component';\r\nimport { DialogImportWorkOrderDocumentComponent } from './form/popups/dialog-import-work-order-document/dialog-import-work-order-document.component';\r\nimport { DialogJobCardTimeTrackingEntriesComponent } from './form/popups/dialog-job-card-time-tracking-entries/dialog-job-card-time-tracking-entries.component';\r\nimport { DialogOperationCheckFormComponent } from './form/popups/dialog-operation-check/dialog-operation-check-form.component';\r\nimport { DialogPostponementFormComponent } from './form/popups/dialog-postponement/dialog-postponement-form.component';\r\nimport { DialogStakeholderComponent } from './form/popups/dialog-stakeholder/dialog-stakeholder.component';\r\nimport { WOLastUpdatePopupModule } from './form/popups/last-update/wo-last-update-popup.module';\r\nimport { WorkOrderFormComponent } from './form/work-order-form.component';\r\nimport { WorkOrderFormService } from './form/work-order-form.service';\r\n\r\nconst EXTERNAL_MODULES = [\r\n  TooltipModule,\r\n  CalendarModule,\r\n  DropdownModule,\r\n  ChartModule,\r\n  CheckboxModule,\r\n  DialogEquipmentListModule,\r\n  ProgressBarModule,\r\n  TreeTableModule,\r\n  SelectButtonModule,\r\n  ModalModule,\r\n  OverlayPanelModule,\r\n  DialogSearchEquipmentModule,\r\n  SplitButtonModule,\r\n  DialogWorkOrderEditionModule,\r\n  FileUploadModule,\r\n  PrimeNgTableModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [\r\n  ProcurementRequestsTableModule,\r\n  DefectListModule,\r\n  CreateEventFormModule,\r\n  DialogSearchPnModule,\r\n  ProcurementRequestPopupModule,\r\n  WOLastUpdatePopupModule,\r\n  StatusUpdateHistoryModule\r\n];\r\n\r\nconst API = [];\r\n\r\nconst DYNAMIC_COMPONENTS = [\r\n  WorkOrderFormComponent,\r\n  DialogPostponementFormComponent,\r\n  DialogJobCardTimeTrackingEntriesComponent,\r\n  DialogEditDurationComponent,\r\n  DialogImportWorkOrderDocumentComponent,\r\n  DialogOperationCheckFormComponent,\r\n  DialogStakeholderComponent,\r\n  DialogUpdateLogbookComponent\r\n];\r\n\r\nconst SERVICES = [WorkOrderFormService, WorkPackageFormService, WorkPackageService, EmployeeFormService];\r\n\r\n@NgModule({\r\n  declarations: DYNAMIC_COMPONENTS,\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ComponentSidebarModule,\r\n    TableModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...API, ...SERVICES]\r\n})\r\nexport class WorkOrderModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { BireOperationPnDTO } from '../../../../../..//shared/types/api-types/bire-operation-pn-dto.interface';\r\nimport { AircraftMaintenanceApi } from '../../../../../../shared/api/aircraft-maintenance.api';\r\nimport { AirworthinessManagementApi } from '../../../../../../shared/api/airworthiness-management.api';\r\nimport { BidtWarehouseApi } from '../../../../../../shared/api/bidt-warehouse.api';\r\nimport { FleetManagementApi } from '../../../../../../shared/api/fleet-management.api';\r\nimport { TaskManagementApi } from '../../../../../../shared/api/task-management.api';\r\nimport { UserProfileManagementApi } from '../../../../../../shared/api/user-profile-management.api';\r\nimport { AbstractAwHttpService } from '../../../../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../../../../shared/services/app-config.service';\r\nimport { AssetWorkOrderOriginInput } from '../../../../../../shared/types/api-input-types/airworthiness-management/asset-work-order-origin-input.inteface';\r\nimport { FindRelatedAssetsInput } from '../../../../../../shared/types/api-input-types/task-management/find-related-assets.interface';\r\nimport { UsersForWorkOrderInput } from '../../../../../../shared/types/api-input-types/user-profile-management/users-for-work-order.interface';\r\nimport { CalculateWorkOrderImput } from '../../../../../../shared/types/api-input-types/work-order/calculate-work-order-input.interface';\r\nimport { CreateBidmWorkOrderInput } from '../../../../../../shared/types/api-input-types/work-order/create-bidm-work-order-input';\r\nimport { AssetWorkOrderOriginDataOutput } from '../../../../../../shared/types/api-output-types/airworthiness-management/asset-work-order-origin-data-output.inteface';\r\nimport { CalculateWorkOrderOutput } from '../../../../../../shared/types/api-output-types/calculate-work-order-output.interface';\r\nimport { BidmOperationDTO } from '../../../../../../shared/types/api-types/bidm-operation-dto.interface';\r\nimport { BidmWorkOrderDataDTO } from '../../../../../../shared/types/api-types/bidm-work-order-data-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { BidoCustomerDTOId } from '../../../../../../shared/types/api-types/bido-customer-dto-id.interface';\r\nimport { BidoCustomerDTO } from '../../../../../../shared/types/api-types/bido-customer-dto.interface';\r\nimport { BidoUserDTO } from '../../../../../../shared/types/api-types/bido-user-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { BireEvolutionDTO } from '../../../../../../shared/types/api-types/bire-evolution-dto.interface';\r\nimport { BireOperationDTOId } from '../../../../../../shared/types/api-types/bire-operation-dto-id.interface';\r\nimport { BireOperationDTO } from '../../../../../../shared/types/api-types/bire-operation-dto.interface';\r\nimport { BirePnDTOId } from '../../../../../../shared/types/api-types/bire-pn-dto-id.interface';\r\nimport { BirePnDTO } from '../../../../../../shared/types/api-types/bire-pn-dto.interface';\r\nimport { BireTaskDTOId } from '../../../../../../shared/types/api-types/bire-task-dto-id.interface';\r\nimport { BireTaskOperationDTO } from '../../../../../../shared/types/api-types/bire-task-operation-dto.interface';\r\nimport { InitializeWoProcurementRequestInputDTO } from '../../../../../../shared/types/api-types/initialize-wo-procurement-request-input-dto.interface';\r\nimport { WoProcurementRequestInputDTO } from '../../../../../../shared/types/api-types/wo-procurement-request-input-dto.interface';\r\n\r\nimport { BidmWorkOrderDTOId } from './../../../../../../shared/types/api-types/bidm-work-order-dto-id.interface';\r\nimport { StringUtils } from './../../../../../../shared/utils/string-utils';\r\n\r\n@Injectable()\r\nexport class DialogWorkOrderEditService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly aircraftMaintenanceApi: AircraftMaintenanceApi,\r\n    private readonly airworthinessManagementApi: AirworthinessManagementApi,\r\n    private readonly taskManagementApi: TaskManagementApi,\r\n    private readonly bidtWarehouseApi: BidtWarehouseApi,\r\n    private readonly fleetManagementApi: FleetManagementApi,\r\n    private readonly userProfileManagementApi: UserProfileManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  /**************************************************************************\r\n   * Fleet management api\r\n   *************************************************************************/\r\n  public findBidoCustomer(input: BidoCustomerDTOId): Observable<BidoCustomerDTO> {\r\n    return super.post<BidoCustomerDTOId, BidoCustomerDTO>(this.fleetManagementApi.findBidoCustomer, input);\r\n  }\r\n\r\n  public createOrUpdateBidmWorkOrder(bidmWorkOrder: CreateBidmWorkOrderInput): Observable<BidmWorkOrderDTO> {\r\n    return super.post<CreateBidmWorkOrderInput, BidmWorkOrderDTO>(\r\n      this.aircraftMaintenanceApi.createOrUpdateBidmWorkOrder,\r\n      bidmWorkOrder\r\n    );\r\n  }\r\n\r\n  public findRelatedItemsFromTask(bireTaskDTOId: BireTaskDTOId): Observable<SelectItem[]> {\r\n    return super.post<BireTaskDTOId, SelectItem[]>(this.taskManagementApi.findRelatedItemsFromTask, bireTaskDTOId);\r\n  }\r\n\r\n  public findRelatedItemsFromEvolution(bireEvolutionDTO: BireEvolutionDTO): Observable<SelectItem[]> {\r\n    return super.post<BireEvolutionDTO, SelectItem[]>(\r\n      this.taskManagementApi.findRelatedItemsFromEvolution,\r\n      bireEvolutionDTO\r\n    );\r\n  }\r\n\r\n  public findRelatedAssets(findRelatedAssetsInput?: FindRelatedAssetsInput): Observable<SelectItem[]> {\r\n    return super.post<FindRelatedAssetsInput, SelectItem[]>(\r\n      this.taskManagementApi.findRelatedAssets,\r\n      findRelatedAssetsInput\r\n    );\r\n  }\r\n\r\n  public findOperationsFromTaskAndRelatedTasks(bireTaskDTOId: BireTaskDTOId): Observable<BireOperationDTO[]> {\r\n    return super.post<BireTaskDTOId, BireTaskOperationDTO[]>(\r\n      this.taskManagementApi.findOperationsFromTaskAndRelatedTasks,\r\n      bireTaskDTOId\r\n    );\r\n  }\r\n\r\n  public findOperationsFromEvolution(bireEvolutionDTO: BireEvolutionDTO): Observable<BireOperationDTO[]> {\r\n    return super.post<BireEvolutionDTO, BireTaskOperationDTO[]>(\r\n      this.taskManagementApi.findOperationsFromEvolution,\r\n      bireEvolutionDTO\r\n    );\r\n  }\r\n\r\n  public findWorkOrder(input: BidmWorkOrderDTOId): Observable<BidmWorkOrderDTO> {\r\n    return super.post<BidmWorkOrderDTOId, BidmWorkOrderDTO>(this.aircraftMaintenanceApi.findBidmWorkOrder, input);\r\n  }\r\n\r\n  public findBidmWorkOrder(bidmWorkOrderDTOId: BidmWorkOrderDTOId): Observable<BidmWorkOrderDataDTO> {\r\n    return super.post<BidmWorkOrderDTOId, BidmWorkOrderDataDTO>(\r\n      this.aircraftMaintenanceApi.findBidmWorkOrderData,\r\n      bidmWorkOrderDTOId\r\n    );\r\n  }\r\n\r\n  public calculateWorkOrderStatus(input: CalculateWorkOrderImput): Observable<CalculateWorkOrderOutput> {\r\n    return super.post<CalculateWorkOrderImput, CalculateWorkOrderOutput>(\r\n      this.aircraftMaintenanceApi.calculateWorkOrderStatus,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findWorkOrderOriginDetails(input: AssetWorkOrderOriginInput): Observable<AssetWorkOrderOriginDataOutput> {\r\n    return super.post<AssetWorkOrderOriginInput, AssetWorkOrderOriginDataOutput>(\r\n      this.airworthinessManagementApi.findWorkOrderOriginDetails,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBidmOperationsByWorkOrder(input: BidmWorkOrderDTOId): Observable<BidmOperationDTO[]> {\r\n    return super.post<BidmWorkOrderDTOId, BidmOperationDTO[]>(\r\n      this.aircraftMaintenanceApi.findBidmOperationsByWorkOrder,\r\n      input\r\n    );\r\n  }\r\n\r\n  public loadWarehouseList(input: string | undefined): Observable<SelectItem[]> {\r\n    if (StringUtils.isNullOrEmpty(input)) {\r\n      return of<SelectItem[]>([]);\r\n    } else {\r\n      return super.post<string, SelectItem[]>(this.bidtWarehouseApi.findByMandantAndSiteCode, input);\r\n    }\r\n  }\r\n  public loadWareHouses(): Observable<BidtWarehouseDTO[]> {\r\n    return super.post<void, BidtWarehouseDTO[]>(this.bidtWarehouseApi.findAll);\r\n  }\r\n\r\n  public findUsersWithUseCaseForWorkOrder(input: UsersForWorkOrderInput): Observable<BidoUserDTO[]> {\r\n    return super.post<UsersForWorkOrderInput, BidoUserDTO[]>(\r\n      this.userProfileManagementApi.findUsersWithUseCaseForWorkOrder,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBireOperationPnsByOperation(p: BireOperationDTOId): Observable<BireOperationPnDTO[]> {\r\n    return super.post<BireOperationDTOId, BireOperationPnDTO[]>(\r\n      this.taskManagementApi.findBireOperationPnsByOperation,\r\n      p\r\n    );\r\n  }\r\n\r\n  public findBirePn(input: BirePnDTOId): Observable<BirePnDTO> {\r\n    return super.post<BirePnDTOId, BirePnDTO>(this.taskManagementApi.findBirePn, input);\r\n  }\r\n\r\n  public initalizeWoProcurementRequestInput(\r\n    input: InitializeWoProcurementRequestInputDTO\r\n  ): Observable<WoProcurementRequestInputDTO[]> {\r\n    return super.post<InitializeWoProcurementRequestInputDTO, WoProcurementRequestInputDTO[]>(\r\n      this.aircraftMaintenanceApi.initializeProcurementRequest,\r\n      input\r\n    );\r\n  }\r\n}\r\n","import { ConnectedPosition, Overlay, OverlayConfig, PositionStrategy } from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { Injectable, Injector, Type } from '@angular/core';\r\n\r\nimport { OverlayRef } from './overlay-ref';\r\nimport { OverlayComponent } from './overlay.component';\r\n\r\nexport interface OverlayParams {\r\n  content: Type<unknown>;\r\n  data?: unknown;\r\n  hasBackdrop?: boolean;\r\n  hasVisibleBackdrop?: boolean;\r\n  height?: number | string;\r\n  width?: number | string;\r\n}\r\n\r\nexport interface OverlayWithGlobalPositionParams extends OverlayParams {\r\n  positions: { bottom?: string; left?: string; right?: string; top?: string };\r\n}\r\n\r\nexport interface OverlayWithRelativePositionParams extends OverlayParams {\r\n  origin: HTMLElement;\r\n  positions?: ConnectedPosition[];\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OverlayService {\r\n  public constructor(private readonly _injector: Injector, private readonly _overlay: Overlay) {}\r\n\r\n  // //////////////////////////////////////////////////////////////////////////\r\n\r\n  public openWithPositionAbsolute<T>(params: OverlayWithGlobalPositionParams): OverlayRef<T> {\r\n    return this.open(params, this.getConfig(params, this.getPositionAbsolute(params)));\r\n  }\r\n\r\n  public openWithPositionCenter<T>(params: OverlayParams): OverlayRef<T> {\r\n    return this.open(\r\n      params,\r\n      this.getConfig(\r\n        { ...params, hasVisibleBackdrop: params.hasVisibleBackdrop !== undefined ? params.hasVisibleBackdrop : true },\r\n        this.getPositionCenter()\r\n      )\r\n    );\r\n  }\r\n\r\n  public openWithPositionRelative<T>(params: OverlayWithRelativePositionParams): OverlayRef<T> {\r\n    return this.open(params, this.getConfig(params, this.getPositionRelative(params)));\r\n  }\r\n\r\n  // //////////////////////////////////////////////////////////////////////////\r\n\r\n  private createInjector<T>(overlayRef: OverlayRef<T>, injector: Injector): PortalInjector {\r\n    const tokens = new WeakMap([[OverlayRef, overlayRef]]);\r\n\r\n    return new PortalInjector(injector, tokens);\r\n  }\r\n\r\n  private getConfig(params: OverlayParams, positionStrategy: PositionStrategy): OverlayConfig {\r\n    const hasBackdrop = params.hasBackdrop !== undefined ? params.hasBackdrop : true;\r\n\r\n    return new OverlayConfig({\r\n      hasBackdrop,\r\n      positionStrategy,\r\n      backdropClass: hasBackdrop && params.hasVisibleBackdrop ? 'cdk-overlay-dark-backdrop' : '',\r\n      height: params.height,\r\n      scrollStrategy: this._overlay.scrollStrategies.reposition(),\r\n      width: params.width\r\n    });\r\n  }\r\n\r\n  private getPositionAbsolute(params: OverlayWithGlobalPositionParams): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .global()\r\n      .bottom(params.positions.bottom)\r\n      .left(params.positions.left)\r\n      .right(params.positions.right)\r\n      .top(params.positions.top);\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private getPositionCenter(): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .global()\r\n      .centerHorizontally()\r\n      .centerVertically();\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private getPositionRelative(params: OverlayWithRelativePositionParams): PositionStrategy {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .flexibleConnectedTo(params.origin)\r\n      .withPositions(params.positions || [])\r\n      .withFlexibleDimensions(false)\r\n      .withPush(false);\r\n\r\n    return positionStrategy;\r\n  }\r\n\r\n  private open<T>(params: OverlayParams, overlayConfig: OverlayConfig): OverlayRef<T> {\r\n    const cdkOverlayRef = this._overlay.create(overlayConfig);\r\n    const overlayRef = new OverlayRef<T>(cdkOverlayRef, params.content, params.data);\r\n\r\n    const injector = this.createInjector(overlayRef, this._injector);\r\n    cdkOverlayRef.attach(new ComponentPortal(OverlayComponent, undefined, injector));\r\n\r\n    return overlayRef;\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\n\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { SessionService } from '../../services/session.service';\r\nimport { UpdateLogbookFromWorkOrderInput } from '../../types/api-types/update-logbook-from-work-order-input.interface';\r\nimport { WorkOrderEvolutionInput } from '../../types/api-types/work-order-eveolution-input.interface';\r\nimport { DialogComponent } from '../../types/dialog-component';\r\nimport { TableColumn } from '../../types/table-column.interface';\r\nimport { BidoEquipmentUtils } from '../../utils/bido-equipment-utils';\r\nimport { ColumnAlignment } from '../table/table-data-source';\r\n\r\ninterface LogBookEvolutionTableRow extends WorkOrderEvolutionInput {\r\n  evolution: string;\r\n  asset: string;\r\n  availablePnList: SelectItem[];\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-dialog-update-logbook',\r\n  templateUrl: './dialog-update-logbook.html'\r\n})\r\nexport class DialogUpdateLogbookComponent extends DialogComponent implements OnInit {\r\n  @Input()\r\n  public updateLogbookFromWorkOrderInput: UpdateLogbookFromWorkOrderInput;\r\n\r\n  @Output()\r\n  public onValidated: EventEmitter<UpdateLogbookFromWorkOrderInput>;\r\n\r\n  public logbookEvolutionTableRows: LogBookEvolutionTableRow[];\r\n\r\n  public woCode: string | undefined;\r\n  public evolutionColumns: TableColumn[];\r\n\r\n  public constructor(public sessionService: SessionService) {\r\n    super(ComponentOpenMode.Write, 'DialogUpdateLogbookComponent');\r\n    this.init();\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return true;\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.initializeLogBookEvolutionTableRows();\r\n  }\r\n\r\n  public validate(): void {\r\n    this.onValidated.emit(this.updateLogbookFromWorkOrderInput);\r\n    this.closeDialog();\r\n  }\r\n\r\n  private initializeLogBookEvolutionTableRows(): void {\r\n    if (this.updateLogbookFromWorkOrderInput) {\r\n      this.woCode = this.updateLogbookFromWorkOrderInput.bidmWorkOrderDTO.woCode;\r\n      if (this.updateLogbookFromWorkOrderInput.woEvolutionInputList) {\r\n        this.updateLogbookFromWorkOrderInput.woEvolutionInputList.forEach((input) => {\r\n          const row: LogBookEvolutionTableRow = {\r\n            ...input,\r\n            asset: BidoEquipmentUtils.toString(input.workOrderEvolutionDTO.woRelatedAsset),\r\n            availablePnList: input.potentialNewPnList.map((newPn: string) => {\r\n              return { label: newPn, value: newPn };\r\n            }),\r\n            evolution:\r\n              input.workOrderEvolutionDTO.evolutionNumber + '-' + input.workOrderEvolutionDTO.evolutionRevisionNumber\r\n          };\r\n          if (row.potentialNewPnList && row.potentialNewPnList.length === 1) {\r\n            row.workOrderEvolutionDTO.newPnCodeSelected = row.potentialNewPnList[0];\r\n          }\r\n          this.logbookEvolutionTableRows.push(row);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private init(): void {\r\n    this.woCode = undefined;\r\n    this.onValidated = new EventEmitter<UpdateLogbookFromWorkOrderInput>();\r\n    this.logbookEvolutionTableRows = [];\r\n    this.evolutionColumns = [\r\n      { field: 'evolution', alignment: ColumnAlignment.LEFT, width: '33%' },\r\n      { field: 'asset', alignment: ColumnAlignment.LEFT, width: '33%' },\r\n      { field: 'availablePnList', alignment: ColumnAlignment.LEFT, width: '33%' }\r\n    ];\r\n  }\r\n}\r\n","module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ getComponentName() + \\\".title\\\" | translate }} {{woCode}}</div>\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"grid-cell-content\\\">\\r\\n      <p-table\\r\\n        [resizableColumns]=\\\"true\\\"\\r\\n        #ptableImportReports\\r\\n        class=\\\"aw-table2\\\"\\r\\n        [columns]=\\\"evolutionColumns\\\"\\r\\n        [value]=\\\"logbookEvolutionTableRows\\\"\\r\\n        [scrollable]=\\\"true\\\"\\r\\n      >\\r\\n        <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n          <colgroup>\\r\\n            <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n          </colgroup>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n          <tr>\\r\\n            <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n              {{ getComponentName() + \\\".\\\" + col.field | translate }}\\r\\n            </th>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n\\r\\n        <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n          <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n            <td *ngFor=\\\"let col of columns\\\" [ngSwitch]=\\\"col.field\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n              <div *ngSwitchCase=\\\"'availablePnList'\\\">\\r\\n                <p-dropdown\\r\\n                  *ngIf=\\\"rowData.availablePnList && rowData.availablePnList.length > 0\\\"\\r\\n                  class=\\\"aw-dropdown fixed-width\\\"\\r\\n                  [options]=\\\"rowData.availablePnList\\\"\\r\\n                  [(ngModel)]=\\\"rowData.workOrderEvolutionDTO.newPnCodeSelected\\\"\\r\\n                  appendTo=\\\"body\\\"\\r\\n                  placeholder=\\\"&nbsp;\\\"\\r\\n                ></p-dropdown>\\r\\n              </div>\\r\\n              <div *ngSwitchDefault>\\r\\n                {{ rowData[col.field] }}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </ng-template>\\r\\n      </p-table>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"closeDialog()\\\">{{ \\\"global.cancel\\\" | translate }}</button>\\r\\n\\r\\n    <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"validate()\\\" [disabled]=\\\"!isValid()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","export class BidmAttributeConstants {\r\n  public static readonly IS_MAINTENANCE_PLAN_UPDATED = '1';\r\n  public static readonly IS_ASSET_STRUCTURE_UPDATED = '2';\r\n  public static readonly ACRS_EVENT_CODE = '3';\r\n  public static readonly FLIGHT_NUMBER = '4';\r\n  public static readonly GONOGOWP_FOR_FLIGHT = '5';\r\n  public static readonly WORK_PACKAGE_SYSTEM_SOURCE_ID = '6';\r\n  public static readonly WORK_PACKAGE_SYSTEM_SOURCE_REFERENCE = '7';\r\n  public static readonly WORK_ORDER_SYSTEM_SOURCE_ID = '8';\r\n  public static readonly WORK_ORDER_SYSTEM_SOURCE_REFERENCE = '9';\r\n}\r\n","import { BidmDocumentDTO } from '../types/api-types/bidm-document-dto.interface';\r\n\r\nimport { FileUtils } from './file-utils';\r\nexport interface DocumentRow {\r\n  docExtension: string;\r\n  docName: string;\r\n  docPublicationDate: string;\r\n  docSize: string;\r\n  docType: string;\r\n  isChecked: boolean;\r\n  _obj: BidmDocumentDTO;\r\n}\r\n\r\nexport class BidmDocumentUtils {\r\n  public static areSameDocument(obj1: BidmDocumentDTO | undefined, obj2: BidmDocumentDTO | undefined): boolean {\r\n    if (!obj1 || !obj2) {\r\n      return false;\r\n    } else {\r\n      return !!obj1.documentName && !!obj2.documentName && obj1.documentName === obj2.documentName;\r\n    }\r\n  }\r\n\r\n  public static formatDocExtension(document: BidmDocumentDTO): string {\r\n    return FileUtils.getExtension(document.documentName).toUpperCase();\r\n  }\r\n\r\n  public static typeFile(fileName: string): string {\r\n    return FileUtils.getExtension(fileName).toUpperCase();\r\n  }\r\n\r\n  public static formatDocSize(document: BidmDocumentDTO): string {\r\n    return !!document.documentContent ? FileUtils.getFormattedSize(document.documentContent.length) : '';\r\n  }\r\n}\r\n","export class BidmWorkOrderUtils {\r\n  private static readonly TASK_CODE_VERSION_SEP: string = '-';\r\n\r\n  public static getTaskCodeFromTaskId(task: string | undefined): string {\r\n    if (!task) {\r\n      return '';\r\n    }\r\n\r\n    return task.split(BidmWorkOrderUtils.TASK_CODE_VERSION_SEP)[0];\r\n  }\r\n\r\n  public static getTaskVersionFromTaskId(task: string | undefined): string {\r\n    if (!task) {\r\n      return '';\r\n    }\r\n\r\n    return task.split(BidmWorkOrderUtils.TASK_CODE_VERSION_SEP)[1];\r\n  }\r\n}\r\n","import { BidoEquipmentDTO } from '../../shared/types/api-types/bido-equipment-dto.interface';\r\nimport { BireItemDTOId } from '../../shared/types/api-types/bire-item-dto-id.interface';\r\nimport { StringUtils } from '../../shared/utils/string-utils';\r\nimport { AWPropertiesConstants } from '../constants/aw-properties-constants';\r\n\r\nimport { BidoFamilyVariantUtils } from './bido-family-variant-utils';\r\n\r\nexport class BidoEquipmentUtils {\r\n  public static createAssetName(equipment: BidoEquipmentDTO | undefined): string {\r\n    if (!equipment) {\r\n      return '';\r\n    } else {\r\n      let designation: string;\r\n      switch (equipment.equipmentFunction) {\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY:\r\n          designation = StringUtils.orEmpty(equipment.registration);\r\n          break;\r\n\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY:\r\n          designation = StringUtils.orEmpty(equipment.sn);\r\n          break;\r\n\r\n        default:\r\n          designation = StringUtils.orEmpty(equipment.pnCode) + '/' + StringUtils.orEmpty(equipment.sn);\r\n          break;\r\n      }\r\n\r\n      return designation;\r\n    }\r\n  }\r\n\r\n  public static createAircraftRepresentation(equipment: BidoEquipmentDTO | undefined): string {\r\n    let aircraftRepresentation = '';\r\n    if (!equipment) {\r\n      return '';\r\n    } else {\r\n      if (BidoEquipmentUtils.createAssetName(equipment) !== '') {\r\n        aircraftRepresentation =\r\n          'MSN ' + StringUtils.orEmpty(equipment.sn) + ' | ' + BidoEquipmentUtils.createAssetName(equipment);\r\n      }\r\n      if (BidoEquipmentUtils.createAssetName(equipment) === '' && StringUtils.orEmpty(equipment.sn) !== '') {\r\n        aircraftRepresentation = 'MSN ' + StringUtils.orEmpty(equipment.sn);\r\n      }\r\n\r\n      return aircraftRepresentation;\r\n    }\r\n  }\r\n\r\n  public static createAssetRepresentation(equipment: BidoEquipmentDTO | undefined): string {\r\n    let assetRepresentation = '';\r\n    if (equipment) {\r\n      let designation: string;\r\n      switch (equipment.equipmentFunction) {\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY:\r\n          assetRepresentation =\r\n            StringUtils.orEmpty(equipment.familyVariantCode) +\r\n            ' | MSN ' +\r\n            StringUtils.orEmpty(equipment.sn) +\r\n            ' | ' +\r\n            StringUtils.orEmpty(equipment.registration);\r\n          designation = StringUtils.orEmpty(equipment.registration);\r\n          break;\r\n        case AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY:\r\n          assetRepresentation =\r\n            StringUtils.orEmpty(equipment.familyVariantCode) +\r\n            ' | MSN ' +\r\n            StringUtils.orEmpty(equipment.sn) +\r\n            ' | ' +\r\n            StringUtils.orEmpty(equipment.registration);\r\n          designation = StringUtils.orEmpty(equipment.registration);\r\n          break;\r\n        default:\r\n          assetRepresentation =\r\n            StringUtils.orEmpty(equipment.familyVariantCode) + ' | SN ' + StringUtils.orEmpty(equipment.sn);\r\n          designation = StringUtils.orEmpty(equipment.sn);\r\n          break;\r\n      }\r\n    }\r\n\r\n    return assetRepresentation;\r\n  }\r\n\r\n  public static getBireItemPK(equipment: BidoEquipmentDTO): BireItemDTOId | undefined {\r\n    if (\r\n      !!equipment.chapter &&\r\n      !StringUtils.isEmpty(equipment.chapter) &&\r\n      !!equipment.marks &&\r\n      !StringUtils.isEmpty(equipment.marks) &&\r\n      !!equipment.section &&\r\n      !StringUtils.isEmpty(equipment.section) &&\r\n      !!equipment.sheet &&\r\n      !StringUtils.isEmpty(equipment.sheet) &&\r\n      !!equipment.subject &&\r\n      !StringUtils.isEmpty(equipment.subject)\r\n    ) {\r\n      const itemId: BireItemDTOId = {\r\n        familyCode: BidoFamilyVariantUtils.getFamilyCodeFromFamilyVariantCode(equipment.familyVariantCode),\r\n        chapter: equipment.chapter,\r\n        subject: equipment.subject,\r\n        variantCode: BidoFamilyVariantUtils.getVariantCodeFromFamilyVariantCode(equipment.familyVariantCode),\r\n        section: equipment.section,\r\n        sheet: equipment.sheet,\r\n        marks: equipment.marks,\r\n        structureType: AWPropertiesConstants.STRUCTURE_TYPE_IPC_KEY\r\n      };\r\n\r\n      return itemId;\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  public static toString(asset: BidoEquipmentDTO | undefined, withFamilyVariantCode: boolean = true): string {\r\n    if (!asset) {\r\n      return '';\r\n    }\r\n\r\n    const equipmentCode = asset.equipmentCode;\r\n    const equipmentFunction = asset.equipmentFunction;\r\n    const familyVariantCode = withFamilyVariantCode ? `${asset.familyVariantCode} | ` : '';\r\n    const pn = asset.pnCode;\r\n    const registration = asset.registration;\r\n    const sn = asset.sn;\r\n\r\n    if (equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_AIRCRAFT_KEY) {\r\n      const formattedMsn = !StringUtils.isNullOrEmpty(sn) ? `MSN ${sn}` : '';\r\n      const formattedRegistration = !StringUtils.isNullOrEmpty(registration) ? ` | ${registration}` : '';\r\n\r\n      return `${familyVariantCode}${formattedMsn}${formattedRegistration}`;\r\n    } else if (equipmentFunction === AWPropertiesConstants.ITEM_FAMILY_CODE_ENGINE_KEY) {\r\n      const formattedEsn = !StringUtils.isNullOrEmpty(sn) ? `ESN ${sn}` : '';\r\n\r\n      return `${familyVariantCode}${formattedEsn}`;\r\n    } else {\r\n      if (!StringUtils.isNullOrEmpty(pn)) {\r\n        if (!StringUtils.isNullOrEmpty(sn)) {\r\n          return `P/N ${pn} | S/N ${sn}`;\r\n        } else {\r\n          return `P/N ${pn}`;\r\n        }\r\n      } else if (!StringUtils.isNullOrEmpty(sn)) {\r\n        return `S/N ${sn}`;\r\n      } else {\r\n        return StringUtils.orEmpty(equipmentCode);\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}