{"version":3,"sources":["webpack:///./src/app/shared/components/dialog-search-event/dialog-search-event.component.html","webpack:///./src/app/shared/components/dialog-search-event/dialog-search-event.component.ts","webpack:///./src/app/shared/components/dialog-search-event/dialog-search-event.module.ts","webpack:///./src/app/shared/components/dialog-search-event/dialog-search-event.service.ts"],"names":[],"mappings":"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","file":"default~fleet-management-fleet-management-module~maintenance-airworthiness-control-airworthiness-con~545c1f60.js","sourcesContent":["module.exports = \"<a-modal class=\\\"aw-modal\\\" [(visible)]=\\\"display\\\" [width]=\\\"50\\\">\\r\\n  <a-header>\\r\\n    <div class=\\\"modal-title\\\">{{ \\\"eventPopin.title\\\" | translate }}</div>\\r\\n\\r\\n    <!-- <i class=\\\"material-icons aw-icon aw-icon-with-border\\\" (click)=\\\"onCancel()\\\">close</i> -->\\r\\n  </a-header>\\r\\n\\r\\n  <a-content>\\r\\n    <div class=\\\"search-dialog-container\\\">\\r\\n      <div class=\\\"section search-criteria-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">{{ \\\"global.search\\\" | translate }}</h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <div class=\\\"column\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"eventPopin.eventCode\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.notificationCode\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"eventPopin.eventCategory\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyCategory\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.notificationTypeCategoryCriteria\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"eventPopin.eventType\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyTypes\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.typeCode\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"eventPopin.eventSubject\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.notificationSubject\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"eventPopin.eventStatus\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <p-dropdown\\r\\n                    class=\\\"aw-dropdown fixed-width\\\"\\r\\n                    [options]=\\\"propertyStatus\\\"\\r\\n                    [(ngModel)]=\\\"searchObject.status\\\"\\r\\n                    [showClear]=\\\"true\\\"\\r\\n                    placeholder=\\\"&nbsp;\\\"\\r\\n                    appendTo=\\\"body\\\"\\r\\n                  ></p-dropdown>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"form-label\\\"> {{ \\\"eventPopin.sn\\\" | translate }} </label>\\r\\n\\r\\n                <div class=\\\"form-control\\\">\\r\\n                  <input class=\\\"aw-input\\\" type=\\\"text\\\" [(ngModel)]=\\\"searchObject.equipmentSerialNumber\\\" />\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"row search-criteria-footer\\\">\\r\\n              <div class=\\\"search-actions\\\">\\r\\n                <button type=\\\"button\\\" color=\\\"primary\\\" mat-raised-button (click)=\\\"searchEvents()\\\">\\r\\n                  <span>{{ \\\"global.toSearch\\\" | translate }}</span>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"section results-section\\\">\\r\\n        <h4 class=\\\"section-title\\\">\\r\\n          {{ \\\"global.results\\\" | translate }} ({{ resultsTable.list ? resultsTable.list.length : 0 }})\\r\\n        </h4>\\r\\n\\r\\n        <div class=\\\"section-content\\\">\\r\\n          <p-table\\r\\n            [resizableColumns]=\\\"true\\\"\\r\\n            #ptable\\r\\n            class=\\\"aw-table2\\\"\\r\\n            [columns]=\\\"resultsTableCols\\\"\\r\\n            [value]=\\\"resultsTable.list\\\"\\r\\n            [(selection)]=\\\"selectedObject\\\"\\r\\n            selectionMode=\\\"single\\\"\\r\\n            [scrollable]=\\\"true\\\"\\r\\n            (onRowUnselect)=\\\"onRowUnselect()\\\"\\r\\n          >\\r\\n            <ng-template pTemplate=\\\"emptymessage\\\">\\r\\n              <span *ngIf=\\\"!isLoading\\\"> &nbsp;</span>\\r\\n\\r\\n              <div *ngIf=\\\"isLoading\\\" class=\\\"aw-table-loading-indicator\\\">\\r\\n                <div class=\\\"loading-message\\\">{{ \\\"table.loadingData\\\" | translate }}</div>\\r\\n                <div class=\\\"lds-hourglass\\\"></div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"caption\\\">\\r\\n              <div class=\\\"aw-table-header\\\">\\r\\n                <div class=\\\"aw-table-global-filter\\\">\\r\\n                  <label class=\\\"aw-table-global-filter-label\\\">\\r\\n                    <i class=\\\"fa fa-fw fa-search\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </label>\\r\\n\\r\\n                  <input\\r\\n                    #ptableGlobalFilter\\r\\n                    class=\\\"aw-table-global-filter-input\\\"\\r\\n                    type=\\\"text\\\"\\r\\n                    placeholder=\\\"{{ 'table.globalFilterText' | translate }}\\\"\\r\\n                    (input)=\\\"ptable.filterGlobal($event.target.value, 'contains')\\\"\\r\\n                  />\\r\\n                </div>\\r\\n              </div>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\r\\n              <colgroup>\\r\\n                <col *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ width: col.width }\\\" />\\r\\n              </colgroup>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n              <tr>\\r\\n                <th pResizableColumn *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ \\\"eventPopin.\\\" + col.field | translate }}\\r\\n                </th>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n\\r\\n            <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\" let-rowIndex=\\\"rowIndex\\\">\\r\\n              <tr [pSelectableRow]=\\\"rowData\\\" [pSelectableRowIndex]=\\\"rowIndex\\\">\\r\\n                <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{ 'text-align': col.alignment }\\\">\\r\\n                  {{ rowData[col.field] }}\\r\\n                </td>\\r\\n              </tr>\\r\\n            </ng-template>\\r\\n          </p-table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </a-content>\\r\\n\\r\\n  <a-footer>\\r\\n    <button type=\\\"button\\\" mat-raised-button (click)=\\\"onCancel()\\\">\\r\\n      <span>{{ \\\"global.cancel\\\" | translate }}</span>\\r\\n    </button>\\r\\n\\r\\n    <button [disabled]=\\\"isOneObjectSelected()\\\" color=\\\"primary\\\" type=\\\"button\\\" mat-raised-button (click)=\\\"onValidate()\\\">\\r\\n      {{ \\\"global.validate\\\" | translate }}\\r\\n    </button>\\r\\n  </a-footer>\\r\\n</a-modal>\\r\\n\"","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\nimport { EventOVSOutputDTO } from '../../../shared/types/api-output-types/ovs-popup/event-ovs-output-dto.interface';\r\nimport { EventCriteriaInputDTO } from '../../../shared/types/api-types/event-criteria-input-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { DialogComponent } from '../../../shared/types/dialog-component';\r\nimport { TableColumn } from '../../../shared/types/table-column.interface';\r\nimport { ComponentOpenMode } from '../../enums/component-open-mode.enum';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\nimport { LabelValueUtils } from '../../utils/label-value-utils';\r\n\r\nimport { DialogSearchEventService } from './dialog-search-event.service';\r\n\r\n@Component({\r\n  selector: 'aw-dialog-search-event',\r\n  templateUrl: 'dialog-search-event.component.html'\r\n})\r\nexport class DialogSearchEventComponent extends DialogComponent {\r\n  public resultsTableCols: TableColumn[];\r\n  public resultsTable: SearchResultsDTO<EventOVSOutputDTO>;\r\n  public selectedObject: EventOVSOutputDTO;\r\n  public searchObject: EventCriteriaInputDTO;\r\n\r\n  // DropDown\r\n  public propertyCategory: LabelValue<string>[];\r\n  public propertyStatus: LabelValue<string>[];\r\n  public propertyTypes: LabelValue<string>[];\r\n\r\n  @Output()\r\n  public onSelected = new EventEmitter<EventOVSOutputDTO>();\r\n\r\n  @Input('event-code')\r\n  public set eventCode(eventCode: string) {\r\n    this.searchObject.notificationCode = eventCode;\r\n  }\r\n\r\n  public constructor(\r\n    public dialogSearchEventService: DialogSearchEventService,\r\n    private readonly messageService: MessageService\r\n  ) {\r\n    super(ComponentOpenMode.Write, 'DialogSearchEventComponent');\r\n\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n    this.searchObject = {};\r\n    this.selectedObject = {};\r\n\r\n    this.resultsTableCols = [\r\n      { field: 'eventCode', alignment: 'left'  },\r\n      { field: 'eventCategory', alignment: 'left'  },\r\n      { field: 'eventType', alignment: 'left'  },\r\n      { field: 'eventSubject', alignment: 'left'  },\r\n      { field: 'eventStatus', alignment: 'left'  },\r\n      { field: 'sn', alignment: 'left'  }\r\n    ];\r\n\r\n    // Load DropDown\r\n    this.loadEventCategories();\r\n    this.loadEventStatus();\r\n    this.loadEventTypes();\r\n  }\r\n\r\n  /*\r\n    <summary>Search work package for operator or owner</summary>\r\n    */\r\n  public searchEvents(): void {\r\n    this.dialogSearchEventService.findEvent(this.searchObject).subscribe(\r\n      (results) => {\r\n        if (results) {\r\n          this.selectedObject = {};\r\n          results.list.forEach((element) => {\r\n            LabelValueUtils.stringValueToLabel<EventOVSOutputDTO>(element, 'eventCategory', this.propertyCategory);\r\n            LabelValueUtils.stringValueToLabel<EventOVSOutputDTO>(element, 'eventStatus', this.propertyStatus);\r\n            LabelValueUtils.stringValueToLabel<EventOVSOutputDTO>(element, 'eventType', this.propertyTypes);\r\n          });\r\n          this.resultsTable = results;\r\n        }\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnSearch'));\r\n      }\r\n    );\r\n  }\r\n\r\n  /*\r\n    <summary>Emit the selectedObject on validate</summary>\r\n    */\r\n  public onValidate(): void {\r\n    LabelValueUtils.labelToStringValue<EventOVSOutputDTO>(this.selectedObject, 'eventCategory', this.propertyCategory);\r\n    LabelValueUtils.labelToStringValue<EventOVSOutputDTO>(this.selectedObject, 'eventStatus', this.propertyStatus);\r\n    LabelValueUtils.labelToStringValue<EventOVSOutputDTO>(this.selectedObject, 'eventType', this.propertyTypes);\r\n    this.onSelected.emit(this.selectedObject);\r\n    this.selectedObject = {};\r\n    this.display = false;\r\n  }\r\n\r\n  // Clean the selectedObject object if the row is unselect\r\n  public onRowUnselect(): void {\r\n    this.selectedObject = {};\r\n  }\r\n\r\n  // Clean all the object on rerender\r\n  public onShow(): void {\r\n    this.selectedObject = {};\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n  }\r\n\r\n  /*\r\n    <summary>Close the pop up on cancel</summary>\r\n    */\r\n  public onCancel(): void {\r\n    this.selectedObject = {};\r\n    this.resultsTable = {\r\n      list: [],\r\n      moreResults: false\r\n    };\r\n    this.display = false;\r\n  }\r\n\r\n  public isOneObjectSelected(): boolean {\r\n    return !this.selectedObject.eventCode;\r\n  }\r\n\r\n  private loadEventCategories(): void {\r\n    this.dialogSearchEventService.getEventCaterogyValues().subscribe(\r\n      (results) => {\r\n        this.propertyCategory = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnCategoryList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadEventStatus(): void {\r\n    this.dialogSearchEventService.getEventStatusValues().subscribe(\r\n      (results) => {\r\n        this.propertyStatus = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnStatusList'));\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadEventTypes(): void {\r\n    this.dialogSearchEventService.getEventTypesValues().subscribe(\r\n      (results) => {\r\n        this.propertyTypes = results;\r\n      },\r\n      () => {\r\n        this.messageService.showErrorMessage(this.getTranslateKey('errorOnTypesList'));\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { TableModule } from 'primeng/table';\r\n\r\nimport { AngularCommonSharedModule } from '../../angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../angular-generic-templates-shared-module';\r\nimport { AppCommonSharedModule } from '../../app-common-shared.module';\r\nimport { ModalModule } from '../modal/modal.module';\r\n\r\nimport { DialogSearchEventComponent } from './dialog-search-event.component';\r\nimport { DialogSearchEventService } from './dialog-search-event.service';\r\n\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [DropdownModule, TableModule];\r\n\r\nconst INTERNAL_MODULES = [ModalModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\n\r\nconst COMPONENTS = [DialogSearchEventComponent];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [DialogSearchEventService];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...SERVICES]\r\n})\r\nexport class DialogSearchEventModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FleetManagementApi } from '../../../shared/api/fleet-management.api';\r\nimport { EventOVSOutputDTO } from '../../../shared/types/api-output-types/ovs-popup/event-ovs-output-dto.interface';\r\nimport { EventCriteriaInputDTO } from '../../../shared/types/api-types/event-criteria-input-dto.interface';\r\nimport { SearchResultsDTO } from '../../../shared/types/api-types/search-results-dto.interface';\r\nimport { AbstractAwHttpService } from '../../http/abstract-aw-http';\r\nimport { AppConfigService } from '../../services/app-config.service';\r\nimport { LabelValue } from '../../types/label-value.interface';\r\n\r\n@Injectable()\r\nexport class DialogSearchEventService extends AbstractAwHttpService {\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly fleetManagementApi: FleetManagementApi\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findEvent(criteria: EventCriteriaInputDTO): Observable<SearchResultsDTO<EventOVSOutputDTO>> {\r\n    return super.post<EventCriteriaInputDTO, SearchResultsDTO<EventOVSOutputDTO>>(\r\n      this.fleetManagementApi.findEventsBySearchCriteria,\r\n      criteria\r\n    );\r\n  }\r\n\r\n  public getEventCaterogyValues(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.fleetManagementApi.getEventCaterogyValues);\r\n  }\r\n\r\n  public getEventStatusValues(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.fleetManagementApi.getEventStatusValues);\r\n  }\r\n\r\n  public getEventTypesValues(): Observable<LabelValue<string>[]> {\r\n    return super.post<void, LabelValue<string>[]>(this.fleetManagementApi.getEventTypesValues);\r\n  }\r\n}\r\n"],"sourceRoot":""}