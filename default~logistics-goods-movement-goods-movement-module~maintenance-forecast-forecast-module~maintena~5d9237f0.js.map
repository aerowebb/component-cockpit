{"version":3,"sources":["webpack:///./node_modules/primeng/dialog.js","webpack:///./node_modules/primeng/overlaypanel.js","webpack:///./src/app/main/maintenance/procurement-request/material-availability-indicators/material-availability-indicators.component.html","webpack:///./src/app/main/maintenance/procurement-request/material-availability-indicators/material-availability-indicators.component.scss","webpack:///./src/app/main/maintenance/procurement-request/material-availability-indicators/material-availability-indicators.component.ts","webpack:///./src/app/main/maintenance/procurement-request/procurement-requests-table.component.html","webpack:///./src/app/main/maintenance/procurement-request/procurement-requests-table.component.scss","webpack:///./src/app/main/maintenance/procurement-request/procurement-requests-table.component.ts","webpack:///./src/app/main/maintenance/procurement-request/procurement-requests-table.module.ts","webpack:///./src/app/main/maintenance/procurement-request/procurement-requests-table.service.ts","webpack:///./src/app/shared/constants/bidt-stock-mvt-type-constants.ts","webpack:///./src/app/shared/constants/control-config-constants.ts"],"names":[],"mappings":"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","file":"default~logistics-goods-movement-goods-movement-module~maintenance-forecast-forecast-module~maintena~5d9237f0.js","sourcesContent":["/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/dialog/dialog\"));","/* Shorthand */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./components/overlaypanel/overlaypanel\"));","module.exports = \"<div class=\\\"grid-cell grid-cell--container\\\">\\r\\n  <div class=\\\"grid-cell-header\\\">\\r\\n    <div class=\\\"grid-cell-title-container\\\">\\r\\n      <h3 class=\\\"grid-cell-title\\\">\\r\\n        {{ getComponentName() + \\\".materialAvailability\\\" | translate }}\\r\\n      </h3>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"!isCreateOpenMode\\\">\\r\\n    <div class=\\\"section material-availability grid-cell-content\\\">\\r\\n      <div class=\\\"section-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"row material-availability\\\">\\r\\n            <div id=\\\"ok\\\" class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".ok\\\" | translate }}\\r\\n              </label>\\r\\n              <div class=\\\"form-control ready-only-field\\\">\\r\\n                <div *ngIf=\\\"isLoadingProcurementRequestData\\\" class=\\\"outgoing-conf-lds-hourglass lds-hourglass\\\"></div>\\r\\n                <input\\r\\n                  *ngIf=\\\"!isLoadingProcurementRequestData\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"aw-input\\\"\\r\\n                  [ngClass]=\\\"{ ok: isConfStockOk() }\\\"\\r\\n                  [(ngModel)]=\\\"materialAvailabilityIndicators.nbProcReqItemsOk\\\"\\r\\n                  [disabled]=\\\"true\\\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n            <div id=\\\"warning\\\" class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".warning\\\" | translate }}\\r\\n              </label>\\r\\n              <div class=\\\"form-control ready-only-field\\\">\\r\\n                <div *ngIf=\\\"isLoadingProcurementRequestData\\\" class=\\\"outgoing-conf-lds-hourglass lds-hourglass\\\"></div>\\r\\n                <input\\r\\n                  *ngIf=\\\"!isLoadingProcurementRequestData\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"aw-input\\\"\\r\\n                  [ngClass]=\\\"{ warning: isConStockfWarning() }\\\"\\r\\n                  [(ngModel)]=\\\"materialAvailabilityIndicators.nbProcReqItemsWarning\\\"\\r\\n                  [disabled]=\\\"true\\\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n            <div id=\\\"nok\\\" class=\\\"form-group\\\">\\r\\n              <label class=\\\"form-label\\\">\\r\\n                {{ getComponentName() + \\\".nok\\\" | translate }}\\r\\n              </label>\\r\\n              <div class=\\\"form-control ready-only-field\\\">\\r\\n                <div *ngIf=\\\"isLoadingProcurementRequestData\\\" class=\\\"outgoing-conf-lds-hourglass lds-hourglass\\\"></div>\\r\\n                <input\\r\\n                  *ngIf=\\\"!isLoadingProcurementRequestData\\\"\\r\\n                  type=\\\"text\\\"\\r\\n                  class=\\\"aw-input\\\"\\r\\n                  [ngClass]=\\\"{ nok: isConfStockNok() }\\\"\\r\\n                  [(ngModel)]=\\\"materialAvailabilityIndicators.nbProcReqItemsNOk\\\"\\r\\n                  [disabled]=\\\"true\\\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \".material-availability.section {\\n  flex-grow: 1;\\n  text-align: center; }\\n\\n.material-availability.row {\\n  flex-wrap: nowrap !important; }\\n\\n.material-availability .row {\\n  flex: 1;\\n  padding: 0; }\\n\\n.ready-only-field {\\n  padding: 8px 0; }\\n\\n.material-availability input {\\n  text-align: center; }\\n\\n.material-availability .ok {\\n  background-color: #4caf50 !important; }\\n\\n.material-availability .warning {\\n  background-color: #ffc107 !important; }\\n\\n.material-availability .nok {\\n  background-color: #f6685e !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9wcm9jdXJlbWVudC1yZXF1ZXN0L21hdGVyaWFsLWF2YWlsYWJpbGl0eS1pbmRpY2F0b3JzL0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXG1haW50ZW5hbmNlXFxwcm9jdXJlbWVudC1yZXF1ZXN0XFxtYXRlcmlhbC1hdmFpbGFiaWxpdHktaW5kaWNhdG9yc1xcbWF0ZXJpYWwtYXZhaWxhYmlsaXR5LWluZGljYXRvcnMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDRSxZQUFZO0VBQ1osa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UsNEJBQTRCLEVBQUE7O0FBRzlCO0VBQ0UsT0FBTztFQUNQLFVBQVUsRUFBQTs7QUFHWjtFQUNFLGNBQWMsRUFBQTs7QUFHaEI7RUFFSSxrQkFBa0IsRUFBQTs7QUFGdEI7RUFLSSxvQ0FBMEMsRUFBQTs7QUFMOUM7RUFTSSxvQ0FBb0MsRUFBQTs7QUFUeEM7RUFhSSxvQ0FBd0MsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbnRlbmFuY2UvcHJvY3VyZW1lbnQtcmVxdWVzdC9tYXRlcmlhbC1hdmFpbGFiaWxpdHktaW5kaWNhdG9ycy9tYXRlcmlhbC1hdmFpbGFiaWxpdHktaW5kaWNhdG9ycy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb25zdGFudHNcIjtcclxuQGltcG9ydCBcIm1peGluc1wiO1xyXG5cclxuLm1hdGVyaWFsLWF2YWlsYWJpbGl0eS5zZWN0aW9uIHtcclxuICBmbGV4LWdyb3c6IDE7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ubWF0ZXJpYWwtYXZhaWxhYmlsaXR5LnJvdyB7XHJcbiAgZmxleC13cmFwOiBub3dyYXAgIWltcG9ydGFudDtcclxufVxyXG5cclxuLm1hdGVyaWFsLWF2YWlsYWJpbGl0eSAucm93IHtcclxuICBmbGV4OiAxO1xyXG4gIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5yZWFkeS1vbmx5LWZpZWxkIHtcclxuICBwYWRkaW5nOiA4cHggMDtcclxufVxyXG5cclxuLm1hdGVyaWFsLWF2YWlsYWJpbGl0eSB7XHJcbiAgaW5wdXQge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxuICAub2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGdyZWVuLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLndhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLm5vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, Input } from '@angular/core';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\nimport { ComponentConstants } from '../../../../shared/constants/component-constants';\r\nimport { ComponentOpenMode } from '../../../../shared/enums/component-open-mode.enum';\r\nimport { ProcurementRequestAndIndicatorsOutputDTO } from '../../../../shared/types/api-output-types/product-structure-management/procurement-request-and-indicators-output-dto';\r\nimport { BidmProjectDTOId } from '../../../../shared/types/api-types/bidm-project-dto-id.interface';\r\nimport { BidmProjectDTO } from '../../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { GenericComponent } from '../../../../shared/types/generic-component';\r\nimport { ListUtils } from '../../../../shared/utils/list-utils';\r\nimport { ProcurementRequestsTableService } from '../procurement-requests-table.service';\r\n\r\nexport interface MaterialAvailabilityIndicators {\r\n  nbProcReqItemsOk: number;\r\n  nbProcReqItemsNOk: number;\r\n  nbProcReqItemsWarning: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-material-availability-indicators',\r\n  styleUrls: ['./material-availability-indicators.component.scss'],\r\n  templateUrl: './material-availability-indicators.component.html'\r\n})\r\nexport class MaterialAvailabilityIndicatorsComponent extends GenericComponent {\r\n  public bidmWorkOrder: BidmWorkOrderDTO;\r\n  public workPackageDTOIdsTab: BidmProjectDTOId[];\r\n  public materialAvailabilityIndicators: MaterialAvailabilityIndicators;\r\n  public procurementRequestsTab: ProcurementRequestAndIndicatorsOutputDTO[];\r\n  public isLoadingProcurementRequestData: boolean;\r\n\r\n  @Input()\r\n  public set workOrder(workOrderDTO: BidmWorkOrderDTO) {\r\n    if (!!workOrderDTO) {\r\n      this.bidmWorkOrder = workOrderDTO;\r\n      this.loadProcurementRequestAndQuantity();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set workPackages(workPackagesDTO: BidmProjectDTO[]) {\r\n    if (!ListUtils.isNullOrEmpty(workPackagesDTO)) {\r\n      this.workPackageDTOIdsTab = workPackagesDTO.map((workPackageDTO: BidmProjectDTO) => {\r\n        return {\r\n          projectId: workPackageDTO.projectId as string\r\n        };\r\n      });\r\n      this.loadProcurementRequestAndQuantity();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set workPackageIds(workPackagesId: string[]) {\r\n    if (!ListUtils.isNullOrEmpty(workPackagesId)) {\r\n      this.workPackageDTOIdsTab = workPackagesId.map((workPackageId: string) => {\r\n        return {\r\n          projectId: workPackageId as string\r\n        };\r\n      });\r\n      this.loadProcurementRequestAndQuantity();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set procurementRequests(procurementRequests: ProcurementRequestAndIndicatorsOutputDTO[]) {\r\n    if (!ListUtils.isNullOrEmpty(procurementRequests)) {\r\n      this.procurementRequestsTab = procurementRequests;\r\n      this.loadProcurementRequestAndQuantity();\r\n    }\r\n  }\r\n\r\n  public constructor(private readonly procurementRequestsTableService: ProcurementRequestsTableService) {\r\n    super(ComponentOpenMode.Read);\r\n    this.init();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_MATERIAL_AVAILABILITY_INDICATORS;\r\n  }\r\n\r\n  public init(): void {\r\n    this.isLoadingProcurementRequestData = false;\r\n    this.materialAvailabilityIndicators = {\r\n      nbProcReqItemsOk: 0,\r\n      nbProcReqItemsNOk: 0,\r\n      nbProcReqItemsWarning: 0\r\n    };\r\n  }\r\n\r\n  public loadProcurementRequestAndQuantity(): void {\r\n    if (!ListUtils.isNullOrEmpty(this.procurementRequestsTab)) {\r\n      this.computeMaterialAvailabilityIndicators(this.procurementRequestsTab);\r\n    } else {\r\n      this.isLoadingProcurementRequestData = true;\r\n      this.procurementRequestsTableService\r\n        .findProcReqItemsAndStockQuantityIndicators(this.bidmWorkOrder, this.workPackageDTOIdsTab)\r\n        .pipe(finalize(() => (this.isLoadingProcurementRequestData = false)))\r\n        .subscribe((results: ProcurementRequestAndIndicatorsOutputDTO[]) => {\r\n          this.computeMaterialAvailabilityIndicators(results);\r\n        });\r\n    }\r\n  }\r\n\r\n  private computeMaterialAvailabilityIndicators(results: ProcurementRequestAndIndicatorsOutputDTO[]) {\r\n    let nbProcReqItemsOk = 0;\r\n    let nbProcReqItemsNOk = 0;\r\n    let nbProcReqItemsWarning = 0;\r\n    results.forEach((procReq: ProcurementRequestAndIndicatorsOutputDTO) => {\r\n      if (!!procReq.procReqItemsAndQtyIndicatorsDTO) {\r\n        procReq.procReqItemsAndQtyIndicatorsDTO.forEach((item) => {\r\n          if (item.ok) {\r\n            nbProcReqItemsOk++;\r\n          } else if (item.nok) {\r\n            nbProcReqItemsNOk++;\r\n          } else if (item.warning) {\r\n            nbProcReqItemsWarning++;\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.materialAvailabilityIndicators = {\r\n      nbProcReqItemsOk,\r\n      nbProcReqItemsNOk,\r\n      nbProcReqItemsWarning\r\n    };\r\n  }\r\n\r\n  public isConfStockOk(): boolean {\r\n    return (\r\n      this.materialAvailabilityIndicators.nbProcReqItemsNOk === 0 &&\r\n      this.materialAvailabilityIndicators.nbProcReqItemsWarning === 0 &&\r\n      this.materialAvailabilityIndicators.nbProcReqItemsOk > 0\r\n    );\r\n  }\r\n\r\n  public isConStockfWarning(): boolean {\r\n    return (\r\n      this.materialAvailabilityIndicators.nbProcReqItemsNOk === 0 &&\r\n      this.materialAvailabilityIndicators.nbProcReqItemsWarning > 0\r\n    );\r\n  }\r\n\r\n  public isConfStockNok(): boolean {\r\n    return this.materialAvailabilityIndicators.nbProcReqItemsNOk > 0;\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"grid-cell grid-cell--container\\\">\\r\\n  <div class=\\\"grid-cell-header\\\">\\r\\n    <div class=\\\"grid-cell-title-container\\\">\\r\\n      <h3 class=\\\"grid-cell-title\\\">\\r\\n        {{ requestManagementLabel }} ({{ procReqItemsTableDataSource ? procReqItemsTableDataSource.dataCount : 0 }})\\r\\n      </h3>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"table-filters\\\">\\r\\n    <i\\r\\n      class=\\\"fa fa-fw fa-filter aw-icon aw-icon-with-border aw-icon-with-overlay\\\"\\r\\n      aria-hidden=\\\"true\\\"\\r\\n      pTooltip=\\\"{{ 'global.' + (stockMvtTableFiltersVisible ? 'hideFilters' : 'showFilters') | translate }}\\\"\\r\\n      tooltipPosition=\\\"top\\\"\\r\\n      [ngClass]=\\\"{ active: stockMvtTableFiltersVisible }\\\"\\r\\n      (click)=\\\"setStockMvtTableFiltersVisible()\\\"\\r\\n    ></i>\\r\\n\\r\\n    <div class=\\\"grid-cell-content filter-block\\\" *ngIf=\\\"stockMvtTableFiltersVisible\\\">\\r\\n      <div class=\\\"column\\\">\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"filtersAvailabilityDefaultList\\\">\\r\\n          <div class=\\\"form-label\\\">\\r\\n            <label>\\r\\n              {{ getComponentName() + \\\".availability\\\" | translate }}\\r\\n            </label>\\r\\n          </div>\\r\\n          <p-selectButton\\r\\n            multiple=\\\"multiple\\\"\\r\\n            [options]=\\\"filtersAvailabilityDefaultList\\\"\\r\\n            [(ngModel)]=\\\"procReqItemFiltersAvailabilityList\\\"\\r\\n            (onChange)=\\\"filterStockMvtTableByCriteria()\\\"\\r\\n          ></p-selectButton>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"column\\\">\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"procReqItemStatusList\\\">\\r\\n          <div class=\\\"form-label\\\">\\r\\n            <label>\\r\\n              {{ getComponentName() + \\\".status\\\" | translate }}\\r\\n            </label>\\r\\n          </div>\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"procReqItemStatusList\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [(ngModel)]=\\\"selectedProcReqFilterStatusValue\\\"\\r\\n              (onChange)=\\\"filterStockMvtTableByCriteria()\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"column\\\">\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"wpFiltersList\\\">\\r\\n          <div class=\\\"form-label\\\">\\r\\n            <label>\\r\\n              {{ getComponentName() + \\\".workPackage\\\" | translate }}\\r\\n            </label>\\r\\n          </div>\\r\\n          <div class=\\\"form-control\\\">\\r\\n            <p-dropdown\\r\\n              class=\\\"aw-dropdown fixed-width\\\"\\r\\n              placeholder=\\\"&nbsp;\\\"\\r\\n              [options]=\\\"wpFiltersList\\\"\\r\\n              [showClear]=\\\"true\\\"\\r\\n              [(ngModel)]=\\\"selectedProcReqFilterWPValue\\\"\\r\\n              (onChange)=\\\"filterStockMvtTableByCriteria()\\\"\\r\\n              appendTo=\\\"body\\\"\\r\\n            ></p-dropdown>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <a-table [dataSource]=\\\"procReqItemsTableDataSource\\\">\\r\\n    <ng-template tableActionsDef>\\r\\n      <button\\r\\n        id=\\\"deleteResultsTable\\\"\\r\\n        *ngIf=\\\"isDeleteButtonVisible()\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        color=\\\"warn\\\"\\r\\n        (click)=\\\"deleteProcurementRequest()\\\"\\r\\n      >\\r\\n        {{ \\\"delete\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"cancelResultsTable\\\"\\r\\n        *ngIf=\\\"isCancelButtonVisible()\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        color=\\\"warn\\\"\\r\\n        (click)=\\\"cancelProcurementRequest()\\\"\\r\\n      >\\r\\n        {{ \\\"cancel\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"editResultsTable\\\"\\r\\n        *ngIf=\\\"enableOpenProcurementOnEdit\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"openProcurementRequestDialog()\\\"\\r\\n      >\\r\\n        {{ \\\"global.edit\\\" | translate }}\\r\\n      </button>\\r\\n\\r\\n      <button\\r\\n        id=\\\"addResultsTable\\\"\\r\\n        *ngIf=\\\"enableOpenProcurementOnAdd\\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"openProcurementRequestDialog()\\\"\\r\\n      >\\r\\n        {{ \\\"global.add\\\" | translate }}\\r\\n      </button>\\r\\n      <button\\r\\n        *ngIf=\\\"\\r\\n          procReqItemsTableDataSource.dataSelectionCount == 1 &&\\r\\n          procReqItemsTableDataSource.dataSelection[0]._obj.procReqItemsAndQtyIndicatorsDTO?.length == 1\\r\\n        \\\"\\r\\n        type=\\\"button\\\"\\r\\n        mat-raised-button\\r\\n        (click)=\\\"openProcurementManagmentPage()\\\"\\r\\n      >\\r\\n        {{ getComponentName() + \\\".manage\\\" | translate }}\\r\\n      </button>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"procurementRequest\\\" let-rowData=\\\"rowData\\\">\\r\\n      <div>\\r\\n        <a (click)=\\\"openProcurementDetails(rowData)\\\"> {{ rowData.procurementRequest }} </a>\\r\\n      </div>\\r\\n      <div>\\r\\n        <i>\\r\\n          {{ rowData.procurementRequestDescription | formatSelectOption: procurementRequestTypes }}\\r\\n        </i>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"referenceDocument\\\" let-rowData=\\\"rowData\\\">\\r\\n      <div>{{ rowData.referenceDocument }}</div>\\r\\n      <div>{{ rowData.referenceDocumentDesc }}</div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"recepient\\\" let-rowData=\\\"rowData\\\">\\r\\n      <div>{{ rowData.recepient }}</div>\\r\\n      <div>{{ rowData.recepientDesc }}</div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"materials\\\" let-rowData=\\\"rowData\\\">\\r\\n      <div>\\r\\n        <a style=\\\"font-weight: bold;\\\" (click)=\\\"openPart(rowData)\\\">{{ rowData.materials }}</a>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"rowData.materialsDesc\\\">\\r\\n        <i>{{ rowData.materialsDesc }}</i>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"!rowData.materialsDesc && rowData.numberOfRecords\\\">\\r\\n        <i>{{ rowData.numberOfRecords }} {{ getComponentName() + \\\".items\\\" | translate }}</i>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"status\\\" let-rowData=\\\"rowData\\\">\\r\\n      <div>\\r\\n        <b>{{ getStatusLabel(rowData.status) }}</b>\\r\\n      </div>\\r\\n      <div>\\r\\n        <i>\\r\\n          {{ rowData.statusDesc | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang }}\\r\\n        </i>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"statusDate\\\" let-rowData=\\\"rowData\\\">\\r\\n      {{ rowData.statusDate | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang }}\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"expectedOn\\\" let-rowData=\\\"rowData\\\">\\r\\n      <span *ngIf=\\\"rowData.status !== awPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED\\\">\\r\\n        {{ rowData.expectedOn | date: \\\"yyyy/MM/dd\\\":\\\"\\\":translateService.currentLang }}\\r\\n      </span>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"criticity\\\" let-rowData=\\\"rowData\\\">\\r\\n      <span *ngIf=\\\"rowData.criticity === awPropertiesConstants.LOGISTICAL_CRITICALITY_IMMEDIATE\\\">\\r\\n        {{ getComponentName() + \\\".immediate\\\" | translate }}\\r\\n      </span>\\r\\n      <span *ngIf=\\\"rowData.criticity === awPropertiesConstants.LOGISTICAL_CRITICALITY_URGENT\\\">\\r\\n        {{ getComponentName() + \\\".urgent\\\" | translate }}\\r\\n      </span>\\r\\n      <span *ngIf=\\\"rowData.criticity === awPropertiesConstants.LOGISTICAL_CRITICALITY_ROUTINE\\\">\\r\\n        {{ getComponentName() + \\\".routine\\\" | translate }}\\r\\n      </span>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"progress\\\" let-rowData=\\\"rowData\\\">\\r\\n      <div>\\r\\n        <div>\\r\\n          <span style=\\\"display: inline-block; min-width: 8rem;\\\">{{\\r\\n            getComponentName() + \\\".procurement\\\" | translate\\r\\n          }}</span>\\r\\n\\r\\n          <span\\r\\n            class=\\\"bold\\\"\\r\\n            [ngClass]=\\\"{\\r\\n              'served--nok': rowData.servedNb == 0,\\r\\n              'served--ok': rowData.servedNb > 0 && rowData.isServed,\\r\\n              'served--warning': rowData.servedNb > 0 && !rowData.isServed\\r\\n            }\\\"\\r\\n          >\\r\\n            <ng-container *ngIf=\\\"rowData.servedNb == 0\\\">\\r\\n              {{ getComponentName() + \\\".notServed\\\" | translate }}\\r\\n            </ng-container>\\r\\n            <ng-container *ngIf=\\\"rowData.servedNb > 0 && !rowData.isServed\\\">\\r\\n              {{ getComponentName() + \\\".partiallyServed\\\" | translate }}\\r\\n            </ng-container>\\r\\n            <ng-container *ngIf=\\\"rowData.servedNb > 0 && rowData.isServed\\\">\\r\\n              {{ getComponentName() + \\\".served\\\" | translate }}\\r\\n            </ng-container>\\r\\n          </span>\\r\\n        </div>\\r\\n\\r\\n        <div>{{ rowData.servedNb }} / {{ rowData.requestedQuantity }}</div>\\r\\n      </div>\\r\\n\\r\\n      <div\\r\\n        style=\\\"margin-top: 8px;\\\"\\r\\n        *ngIf=\\\"\\r\\n          rowData.procurementRequestDescription == awPropertiesConstants.PROCUREMENT_REQUEST_TYPE_MAINTENANCE_ES ||\\r\\n          rowData.procurementRequestDescription == awPropertiesConstants.PROCUREMENT_REQUEST_TYPE_STOCK_LEVELING_ES\\r\\n        \\\"\\r\\n      >\\r\\n        <div>\\r\\n          <span style=\\\"display: inline-block; min-width: 8rem;\\\">{{ getComponentName() + \\\".reverse\\\" | translate }}</span>\\r\\n\\r\\n          <span\\r\\n            class=\\\"bold\\\"\\r\\n            [ngClass]=\\\"{\\r\\n              'served--nok': rowData.notReversedNb > 0 && rowData.reversedNb == 0,\\r\\n              'served--ok': rowData.reversedNb > 0 && rowData.notReversedNb == 0,\\r\\n              'served--warning': rowData.notReversedNb > 0 && rowData.reversedNb > 0\\r\\n            }\\\"\\r\\n          >\\r\\n            <ng-container *ngIf=\\\"rowData.notReversedNb > 0 && rowData.reversedNb == 0\\\">\\r\\n              {{ getComponentName() + \\\".notReversed\\\" | translate }}\\r\\n            </ng-container>\\r\\n            <ng-container *ngIf=\\\"rowData.notReversedNb > 0 && rowData.reversedNb > 0\\\">\\r\\n              {{ getComponentName() + \\\".partiallyReversed\\\" | translate }}\\r\\n            </ng-container>\\r\\n            <ng-container *ngIf=\\\"rowData.reversedNb > 0 && rowData.notReversedNb == 0\\\">\\r\\n              {{ getComponentName() + \\\".reversed\\\" | translate }}\\r\\n            </ng-container>\\r\\n          </span>\\r\\n        </div>\\r\\n\\r\\n        <div>{{ rowData.reversedNb }} / {{ rowData.notReversedNb + rowData.reversedNb }}</div>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n\\r\\n    <ng-template columnDef=\\\"availableQuantity\\\" let-rowData=\\\"rowData\\\">\\r\\n      <div\\r\\n        class=\\\"base-label availability\\\"\\r\\n        [ngClass]=\\\"{\\r\\n          ok: rowData.ok,\\r\\n          warning: rowData.warning,\\r\\n          nok: rowData.nok\\r\\n        }\\\"\\r\\n      >\\r\\n        {{ rowData.availableQuantity }}\\r\\n      </div>\\r\\n    </ng-template>\\r\\n  </a-table>\\r\\n\\r\\n  <aw-procurement-request-popup\\r\\n    *ngIf=\\\"showProcurementRequestDialog\\\"\\r\\n    [(display)]=\\\"showProcurementRequestDialog\\\"\\r\\n    [workOrder]=\\\"bidmWorkOrder\\\"\\r\\n    [workOrderStatus]=\\\"woStatus\\\"\\r\\n    [workPackage]=\\\"bidmProjectDTO\\\"\\r\\n    [bidtProcReqItem]=\\\"\\r\\n      procReqItemsTableDataSource.dataSelection[0]\\r\\n        ? procReqItemsTableDataSource.dataSelection[0].bidtProcReqItem\\r\\n        : undefined\\r\\n    \\\"\\r\\n    [procurementRequest]=\\\"\\r\\n      procReqItemsTableDataSource.dataSelection[0] ? procReqItemsTableDataSource.dataSelection[0]._obj : undefined\\r\\n    \\\"\\r\\n    (onValidate)=\\\"onUpdateProcurementRequest($event)\\\"\\r\\n  >\\r\\n  </aw-procurement-request-popup>\\r\\n</div>\\r\\n\"","module.exports = \":host .table-filters {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  margin-right: 8px; }\\n  :host .table-filters > .aw-icon {\\n    font-size: 1.125rem;\\n    line-height: 2rem;\\n    width: 2rem; }\\n  :host .procurement-alert {\\n  font-weight: 600;\\n  align-content: center;\\n  display: inline-block;\\n  width: 50%; }\\n  :host .progress {\\n  color: #000; }\\n  :host .ok {\\n  background-color: #4caf50 !important; }\\n  :host .warning {\\n  background-color: #ffc107 !important; }\\n  :host .nok {\\n  background-color: #f6685e !important; }\\n  :host .procurement--nok {\\n  background-color: #f6685e; }\\n  :host .procurement--ok {\\n  background-color: #4caf50; }\\n  :host .procurement--warning {\\n  background-color: #ffc107; }\\n  :host .served--nok {\\n  color: #f6685e !important; }\\n  :host .served--ok {\\n  color: #4caf50 !important; }\\n  :host .served--warning {\\n  color: #ffc107 !important; }\\n  :host .base-label {\\n  font-weight: bold;\\n  display: inline-block;\\n  align-content: center;\\n  width: 50%; }\\n  :host .availability {\\n  padding: 4px;\\n  color: #000;\\n  border-radius: 4px; }\\n  :host .filter-block {\\n  margin-left: 16px;\\n  display: inline-block;\\n  min-width: 200px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9wcm9jdXJlbWVudC1yZXF1ZXN0L0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxhcHBcXG1haW5cXG1haW50ZW5hbmNlXFxwcm9jdXJlbWVudC1yZXF1ZXN0XFxwcm9jdXJlbWVudC1yZXF1ZXN0cy10YWJsZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9wcm9jdXJlbWVudC1yZXF1ZXN0L0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxzdHlsZXNcXF9taXhpbnMuc2NzcyIsInNyYy9hcHAvbWFpbi9tYWludGVuYW5jZS9wcm9jdXJlbWVudC1yZXF1ZXN0L0Q6XFxQcm9maWxlc1xcYXByYWRoYW5cXERlc2t0b3BcXEFlcm93ZWJiXFxQUk9KRUNUU1xcZnJvbnRlbmRfYWVyb3dlYmIvc3JjXFxzdHlsZXNcXF9jb25zdGFudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQ29CRSxhQUFhO0VBQ2IsbUJBQW1CO0VEakJqQixtQkFBbUI7RUFDbkIsaUJFb0NjLEVBQUE7RUZ6Q2xCO0lBUU0sbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixXQUFXLEVBQUE7RUFWakI7RUFjSSxnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLHFCQUFxQjtFQUNyQixVQUFVLEVBQUE7RUFqQmQ7RUFxQkksV0FBVyxFQUFBO0VBckJmO0VBeUJJLG9DQUEwQyxFQUFBO0VBekI5QztFQTZCSSxvQ0FBb0MsRUFBQTtFQTdCeEM7RUFpQ0ksb0NBQXdDLEVBQUE7RUFqQzVDO0VBcUNJLHlCRWhCZ0IsRUFBQTtFRnJCcEI7RUF5Q0kseUJFdkJrQixFQUFBO0VGbEJ0QjtFQTZDSSx5QkUxQlksRUFBQTtFRm5CaEI7RUFpREkseUJBQTZCLEVBQUE7RUFqRGpDO0VBcURJLHlCQUErQixFQUFBO0VBckRuQztFQXlESSx5QkFBeUIsRUFBQTtFQXpEN0I7RUE2REksaUJBQWlCO0VBQ2pCLHFCQUFxQjtFQUNyQixxQkFBcUI7RUFDckIsVUFBVSxFQUFBO0VBaEVkO0VBb0VJLFlBQVk7RUFDWixXQUFXO0VBQ1gsa0JBQWtCLEVBQUE7RUF0RXRCO0VBMEVJLGlCQUFpQjtFQUNqQixxQkFBcUI7RUFDckIsZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9tYWluL21haW50ZW5hbmNlL3Byb2N1cmVtZW50LXJlcXVlc3QvcHJvY3VyZW1lbnQtcmVxdWVzdHMtdGFibGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiY29uc3RhbnRzXCI7XHJcbkBpbXBvcnQgXCJtaXhpbnNcIjtcclxuXHJcbjpob3N0IHtcclxuICAudGFibGUtZmlsdGVycyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tcmlnaHQ6ICRtYXJnaW4tdmFsdWU7XHJcblxyXG4gICAgJiA+IC5hdy1pY29uIHtcclxuICAgICAgZm9udC1zaXplOiAxLjEyNXJlbTtcclxuICAgICAgbGluZS1oZWlnaHQ6IDJyZW07XHJcbiAgICAgIHdpZHRoOiAycmVtO1xyXG4gICAgfVxyXG4gIH1cclxuICAucHJvY3VyZW1lbnQtYWxlcnQge1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgfVxyXG5cclxuICAucHJvZ3Jlc3Mge1xyXG4gICAgY29sb3I6ICMwMDA7XHJcbiAgfVxyXG5cclxuICAub2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGdyZWVuLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLndhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLm5vayB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MSAhaW1wb3J0YW50O1xyXG4gIH1cclxuXHJcbiAgLnByb2N1cmVtZW50LS1ub2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZC1saWdodDE7XHJcbiAgfVxyXG5cclxuICAucHJvY3VyZW1lbnQtLW9rIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgfVxyXG5cclxuICAucHJvY3VyZW1lbnQtLXdhcm5pbmcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJG9yYW5nZTtcclxuICB9XHJcblxyXG4gIC5zZXJ2ZWQtLW5vayB7XHJcbiAgICBjb2xvcjogJHJlZC1saWdodDEgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5zZXJ2ZWQtLW9rIHtcclxuICAgIGNvbG9yOiAkZ3JlZW4tbGlnaHQxICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuc2VydmVkLS13YXJuaW5nIHtcclxuICAgIGNvbG9yOiAkb3JhbmdlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxuICAuYmFzZS1sYWJlbCB7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgfVxyXG5cclxuICAuYXZhaWxhYmlsaXR5IHtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIH1cclxuXHJcbiAgLmZpbHRlci1ibG9jayB7XHJcbiAgICBtYXJnaW4tbGVmdDogMTZweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgfVxyXG59XHJcbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gVXRpbHMgLy9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuQG1peGluIGJ1dHRvbi1jb2xvcigkYmFja2dyb3VuZC1jb2xvciwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yOiBudWxsKSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogJGJhY2tncm91bmQtY29sb3I7XHJcbiAgYm9yZGVyLWNvbG9yOiAkY29sb3I7XHJcbiAgY29sb3I6ICRjb2xvcjtcclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlcixcclxuICAmOm5vdCg6ZGlzYWJsZWQpLmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I7XHJcbiAgICBib3JkZXItY29sb3I6IGlmKCRib3JkZXItY29sb3IgPT0gbnVsbCwgJGNvbG9yLCAkYm9yZGVyLWNvbG9yKTtcclxuICAgIGNvbG9yOiAkYmFja2dyb3VuZC1jb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LWNvbHVtbigpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbkBtaXhpbiBmbGV4LXJvdygpIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbn1cclxuXHJcbkBtaXhpbiBpbnB1dCgpIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItYm90dG9tLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBib3JkZXItcmFkaXVzOiAwO1xyXG4gIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICBjb2xvcjogaW5oZXJpdDtcclxuICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHBhZGRpbmc6IDJweCAwIDRweCAwO1xyXG5cclxuICB0cmFuc2l0aW9uOiBib3JkZXItYm90dG9tLWNvbG9yIDAuMjVzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtZGlzYWJsZWQoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0tZGlzYWJsZWQ7XHJcbiAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuQG1peGluIGlucHV0LWZvY3VzKCkge1xyXG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICRib3JkZXItY29sb3ItLWZvY3VzO1xyXG59XHJcblxyXG5AbWl4aW4gaW5wdXQtaG92ZXIoKSB7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvci0taG92ZXI7XHJcbn1cclxuXHJcbkBtaXhpbiBwbGFjZWhvbGRlciB7XHJcbiAgJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbiAgJjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOjotbW96LXBsYWNlaG9sZGVyIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxuICAmOi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICBAY29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBzZWFyY2gtY3JpdGVyaWEtY29udGFpbmVyIHtcclxuICAuYWR2YW5jZWQtY3JpdGVyaWEge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLnNlYXJjaC1jcml0ZXJpYS1mb290ZXIge1xyXG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xyXG4gICAgbWFyZ2luLXRvcDogY2FsYygjeyRtYXJnaW4tdmFsdWV9ICogMik7XHJcblxyXG4gICAgLmFkdmFuY2VkLWNyaXRlcmlhLXRvZ2dsZXIge1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAgIC5hZHZhbmNlZC1jcml0ZXJpYS10b2dnbGVyLW1vcmUge1xyXG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1sZXNzLFxyXG4gICAgICAuYWR2YW5jZWQtY3JpdGVyaWEtdG9nZ2xlci1tb3JlIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAvIDIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnNlYXJjaC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuXHJcbiAgICAgIC5hdy1idG4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gc2VjdGlvbi1jb250YWluZXIge1xyXG4gIG1hcmdpbi10b3A6IGNhbGMoI3skbWFyZ2luLXZhbHVlfSAqIDQpO1xyXG5cclxuICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICB9XHJcblxyXG4gIC5zZWN0aW9uLXRpdGxlIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICBsaW5lLWhlaWdodDogMS43NXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuXHJcbiAgICAmLnJlcXVpcmVkIHtcclxuICAgICAgQGluY2x1ZGUgZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQoKTtcclxuICAgICAgJjo6YWZ0ZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmFsZXJ0IHtcclxuICAgICAgICBjb2xvcjogJHJlZC1kYXJrMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgbGluZS1oZWlnaHQ6IDEuNzVyZW07XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgd2lkdGg6IDEuNzVyZW07XHJcblxyXG4gICAgICAmOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBjYWxjKCN7JG1hcmdpbi12YWx1ZX0gKiAyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tY29udGVudCB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LWNvbHVtbigpO1xyXG4gIH1cclxuXHJcbiAgLnNlY3Rpb24tYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcblxyXG4gICAgJiA+IGJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHRleHQtb3ZlcmZsb3ctaGlkZGVuIHtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gR3JpZCBmb3JtIGNvbnRyb2xzIC8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBncmlkLWZvcm0tY29udHJvbCB7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGZvbnQtZmFtaWx5OiBcIkxhdG9MYXRpbldlYk1lZGl1bVwiO1xyXG5cclxuICAmID4gaW5wdXQgKyBwLW1lc3NhZ2UgPiAudWktbWVzc2FnZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYWN0aW9ucyB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAmOmZvY3VzLFxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgICYgPiAuZm9ybS1jb250cm9sLWFjdGlvbnMge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBsZWZ0LCByZ2IoMjU1LCAyNTUsIDI1NSkgNjAlLCB0cmFuc3BhcmVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmZvcm0tY29udHJvbC1hY3Rpb25zIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIGJvdHRvbTogMDtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMDtcclxuICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgLmF3LWljb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3M7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLWJ0bixcclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXN0eWxlOiAkYm9yZGVyLXN0eWxlO1xyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItd2lkdGg6ICRib3JkZXItd2lkdGg7XHJcblxyXG4gICAgdHJhbnNpdGlvbjogYm9yZGVyLWJvdHRvbS1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAmLmRpc2FibGVkIHtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZm9ybS1jb250cm9sLXdpdGgtYnRuIHtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuXHJcbiAgICAmID4gKjpmaXJzdC1jaGlsZCB7XHJcbiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxLjc1cmVtKTtcclxuXHJcbiAgICAgICYuYXctY2FsZW5kYXIgLnVpLWlucHV0dGV4dCxcclxuICAgICAgJi5hdy1kcm9wZG93biAudWktZHJvcGRvd24sXHJcbiAgICAgICYuYXctaW5wdXQsXHJcbiAgICAgICYuYXctdGV4dGFyZWEge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWNhbGVuZGFyIHtcclxuICAgICAgLy8gRklYTUU6IGZpeCBhbiBVSSBpc3N1ZSBvbiBQcmltZU5HIGNhbGVuZGFyIGNvbXBvbmVudDsgdG8gcmVtb3ZlIHdoZW4gaXNzdWUgd2lsbCBiZSBmaXhlZCB1cHN0cmVhbVxyXG4gICAgICBvdmVyZmxvdzogaW5pdGlhbDtcclxuICAgIH1cclxuXHJcbiAgICAmID4gLmF3LWljb24ge1xyXG4gICAgICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLW1vZGFsIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1heC1oZWlnaHQ6IDMwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAzMHB4O1xyXG5cclxuICAgICYuZGlzYWJsZWQge1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG5cclxuICAgICAgLmF3LWljb246bm90KC5yZWFkLW9ubHktbGluaykge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyAvLyBub25lXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1jb250cm9sLWRhdGEge1xyXG4gICAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICBmb250LWZhbWlseTogaW5oZXJpdDtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6ICRsaW5lLWhlaWdodDtcclxuICAgICAgcGFkZGluZzogMnB4IDAgNHB4IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1uaW1wLFxyXG4gICAgLmJ0bi1leHRlcm5hbC1saW5rLXdyYXBwZXIsXHJcbiAgICAuYnRuLWNsZWFyLXdyYXBwZXIsXHJcbiAgICAuYnRuLWZpbGUtdXBsb2FkLXdyYXBwZXIsXHJcbiAgICAuYnRuLXNlYXJjaC13cmFwcGVyIHtcclxuICAgICAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1maWxlLXVwbG9hZC13cmFwcGVyIHtcclxuICAgICAgLmF3LWZpbGV1cGxvYWQge1xyXG4gICAgICAgIGJvcmRlcjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEuMXJlbTtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG5cclxuICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnVpLWJ1dHRvbiB7XHJcbiAgICAgICAgICBjb2xvcjogJHNlY29uZGFyeS10ZXh0LWNvbG9yO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxLjFyZW07XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAmOmZvY3VzLFxyXG4gICAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC51aS1idXR0b24taWNvbi1sZWZ0IHtcclxuICAgICAgICAgICAgZGlzcGxheTogY29udGVudHM7XHJcbiAgICAgICAgICAgIGhlaWdodDogMS4xcmVtO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogaW5pdGlhbDtcclxuICAgICAgICAgICAgd2lkdGg6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAgICY6OmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgY29udGVudDogXCJcXGU5MzRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5hdy1pY29uIHtcclxuICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuXHJcbiAgICAgICY6Zm9jdXMsXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1jbGVhciB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmLmJ0bi1zZWFyY2gge1xyXG4gICAgICAgIHdpZHRoOiAxLjc1cmVtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmLmZvcm0tY29udHJvbC13aXRoLXJhZGlvYnV0dG9uIHtcclxuICAgIEBpbmNsdWRlIGZsZXgtcm93KCk7XHJcblxyXG4gICAgJiA+IC5hdy1yYWRpb2J1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogY2FsYygyICogI3skbWFyZ2luLXZhbHVlfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtZ2VuZXJpYyB7XHJcbiAgQGluY2x1ZGUgZmxleC1yb3coKTtcclxuXHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmb250LXNpemU6IGluaGVyaXQ7XHJcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiAkbGluZS1oZWlnaHQ7XHJcblxyXG4gICYgPiBhIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmID4gLmFsZXJ0IHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogNXJlbTtcclxuXHJcbiAgICAmLmFsZXJ0LS1ub2sge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcmVkLWxpZ2h0MTtcclxuICAgIH1cclxuXHJcbiAgICAmLmFsZXJ0LS1vayB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRncmVlbi1saWdodDE7XHJcbiAgICB9XHJcblxyXG4gICAgJi5hbGVydC0td2FybmluZyB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRvcmFuZ2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1mb3JtLWNvbnRyb2wtcmVxdWlyZWQge1xyXG4gICY6OmFmdGVyIHtcclxuICAgIGNvbG9yOiAkcmVkLWRhcmsxO1xyXG4gICAgY29udGVudDogXCIqXCI7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtNHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtY2FsZW5kYXIge1xyXG4gICYudWktaW5wdXR3cmFwcGVyLWZvY3VzIHtcclxuICAgIC51aS1jYWxlbmRhciAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZm9jdXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC51aS1jYWxlbmRhciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAudWktaW5wdXR0ZXh0IHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgICAgJjpkaXNhYmxlZCB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgQGluY2x1ZGUgaW5wdXQtaG92ZXIoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtZm9ybS1sYWJlbCB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1jaGVja2JveCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGhlaWdodDogJGNoZWNrYm94LWhlaWdodDtcclxuICB3aWR0aDogJGNoZWNrYm94LWhlaWdodDtcclxuXHJcbiAgLnVpLWNoa2JveCB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktY2hrYm94LWJveCB7XHJcbiAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7XHJcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgICAgIGNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjI1cyBlYXNlLWluLW91dDtcclxuXHJcbiAgICAgICYudWktc3RhdGUtZGlzYWJsZWQge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGJvcmRlci1jb2xvcjtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpOmhvdmVyIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3ItLWhvdmVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAmOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpLnVpLXN0YXRlLWFjdGl2ZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAkYm9yZGVyLWNvbG9yLS1mb2N1cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBncmlkLWRyb3Bkb3duIHtcclxuICAudWktZHJvcGRvd24ge1xyXG4gICAgQGluY2x1ZGUgaW5wdXQoKTtcclxuXHJcbiAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgQGluY2x1ZGUgaW5wdXQtZGlzYWJsZWQoKTtcclxuXHJcbiAgICAgIC51aS1kcm9wZG93bi1sYWJlbCB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gICAgfVxyXG5cclxuICAgICY6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkudWktc3RhdGUtZm9jdXMge1xyXG4gICAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG5cclxuICAgICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICAgIGNvbG9yOiAkYWNjZW50LWNvbG9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWNsZWFyLWljb24sXHJcbiAgICAudWktZHJvcGRvd24tdHJpZ2dlciB7XHJcbiAgICAgIGNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcblxyXG4gICAgICAmOmZvY3VzLFxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC51aS1kcm9wZG93bi1jbGVhci1pY29uIHtcclxuICAgICAgcmlnaHQ6IDEuNzVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLXRyaWdnZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xyXG4gICAgICB3aWR0aDogMS43NXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAudWktZHJvcGRvd24tbGFiZWwge1xyXG4gICAgICBAaW5jbHVkZSB0ZXh0LW92ZXJmbG93LWhpZGRlbigpO1xyXG5cclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIgKiAxLjc1cmVtKTtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICYuZml4ZWQtd2lkdGggLnVpLWRyb3Bkb3duIHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1maWxldXBsb2FkIHtcclxuICBAZXh0ZW5kIC5hdy1idG47XHJcblxyXG4gIHBhZGRpbmc6IDA7XHJcblxyXG4gIC51aS1maWxldXBsb2FkLWNob29zZSB7XHJcbiAgICBAaW5jbHVkZSBmbGV4LXJvdygpO1xyXG5cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcclxuICAgIHBhZGRpbmc6IDAgJG1hcmdpbi12YWx1ZTtcclxuXHJcbiAgICAudWktYnV0dG9uLWljb24tbGVmdCB7XHJcbiAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLnVpLWJ1dHRvbi10ZXh0IHtcclxuICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xyXG4gICAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxuICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZ3JpZC1pbnB1dCgpIHtcclxuICBAaW5jbHVkZSBpbnB1dCgpO1xyXG5cclxuICB3aWR0aDogMTAwJTtcclxuXHJcbiAgJjpkaXNhYmxlZCB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1kaXNhYmxlZCgpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpmb2N1cyB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgJjpub3QoOmRpc2FibGVkKTpob3ZlciB7XHJcbiAgICBAaW5jbHVkZSBpbnB1dC1ob3ZlcigpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGdyaWQtdGV4dGFyZWEge1xyXG4gIEBpbmNsdWRlIGdyaWQtaW5wdXQoKTtcclxuXHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWluLWhlaWdodDogJGZvcm0tY29udHJvbC1oZWlnaHQ7XHJcbiAgcmVzaXplOiB2ZXJ0aWNhbDtcclxufVxyXG5cclxuQG1peGluIGdyaWQtcmFkaW9idXR0b24ge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBoZWlnaHQ6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcbiAgd2lkdGg6ICRyYWRpb2J1dHRvbi1oZWlnaHQ7XHJcblxyXG4gIC51aS1yYWRpb2J1dHRvbiB7XHJcbiAgICBoZWlnaHQ6IGluaGVyaXQ7XHJcbiAgICB3aWR0aDogaW5oZXJpdDtcclxuXHJcbiAgICAudWktcmFkaW9idXR0b24tYm94IHtcclxuICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcclxuICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgICBjb2xvcjogJGJvcmRlci1jb2xvci0tZm9jdXM7XHJcbiAgICAgIGhlaWdodDogaW5oZXJpdDtcclxuICAgICAgd2lkdGg6IGluaGVyaXQ7XHJcblxyXG4gICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4yNXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgICAmLnVpLXN0YXRlLWRpc2FibGVkIHtcclxuICAgICAgICBib3JkZXItY29sb3I6ICRib3JkZXItY29sb3I7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5LXRleHQtY29sb3I7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKTpob3ZlciB7XHJcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yLS1ob3ZlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJjpub3QoLnVpLXN0YXRlLWRpc2FibGVkKS51aS1zdGF0ZS1hY3RpdmUge1xyXG4gICAgICAgIGJvcmRlci1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuXHJcbiAgICAgICAgLnVpLXJhZGlvYnV0dG9uLWljb24ge1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGFjY2VudC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbkBtaXhpbiBjYWxlbmRhci1wYW5lbCB7XHJcbiAgLnVpLWRhdGVwaWNrZXI6bm90KC51aS1kYXRlcGlja2VyLWlubGluZSkge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJvcmRlci1zdHlsZTogJGJvcmRlci1zdHlsZTtcclxuICAgIGJvcmRlci13aWR0aDogJGJvcmRlci13aWR0aDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gZHJvcGRvd24tcGFuZWwge1xyXG4gIC51aS1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICBib3JkZXI6ICRib3JkZXItd2lkdGggJGJvcmRlci1zdHlsZSAkYm9yZGVyLWNvbG9yO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7XHJcblxyXG4gICAgLnVpLWRyb3Bkb3duLWl0ZW1zLXdyYXBwZXIgLnVpLWRyb3Bkb3duLWxpc3Qge1xyXG4gICAgICAudWktZHJvcGRvd24taXRlbSB7XHJcbiAgICAgICAgY29sb3I6ICRzZWNvbmRhcnktdGV4dC1jb2xvcjtcclxuICAgICAgICBwYWRkaW5nOiAkbWFyZ2luLXZhbHVlO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYudWktc3RhdGUtaGlnaGxpZ2h0IHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRhY2NlbnQtY29sb3I7XHJcbiAgICAgICAgICBjb2xvcjogJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xyXG4kcHJpbWFyeS10ZXh0LWNvbG9yOiAjMDAwO1xyXG4kc2Vjb25kYXJ5LXRleHQtY29sb3I6ICM1OTU5NTk7XHJcbiRhY2NlbnQtY29sb3I6ICMwMTU3OWI7XHJcblxyXG4kYm9keS1iYWNrZ3JvdW5kLWNvbG9yOiAjZThlYmVkO1xyXG4kdG9wYmFyLWNvbG9yOiAjZmFmYWZhO1xyXG5cclxuLy8gJHByaW1hcnktYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcclxuLy8gJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xyXG4vLyAkcHJpbWFyeS10ZXh0LWNvbG9yOiAjZThlOGU4O1xyXG4vLyAkc2Vjb25kYXJ5LXRleHQtY29sb3I6ICNmZmY7XHJcbi8vICRhY2NlbnQtY29sb3I6ICM5Y2RjZmU7XHJcblxyXG4kYm9yZGVyLWNvbG9yOiAkc2Vjb25kYXJ5LXRleHQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWRpc2FibGVkOiB0cmFuc3BhcmVudDtcclxuJGJvcmRlci1jb2xvci0tZm9jdXM6ICRhY2NlbnQtY29sb3I7XHJcbiRib3JkZXItY29sb3ItLWhvdmVyOiAjMWExYTFhO1xyXG5cclxuJGdyZWVuLWRhcmsxOiAjMjc2MzJhO1xyXG4kZ3JlZW4tbGlnaHQxOiAjNGNhZjUwO1xyXG4kb3JhbmdlOiAjZmZjMTA3O1xyXG4kcmVkLWRhcmsxOiAjYTgyNTI1O1xyXG4kcmVkLWxpZ2h0MTogI2Y2Njg1ZTtcclxuJGJsdWUtbGlnaHQxOiAjYjhkMGU4O1xyXG4kYmx1ZS1kYXJrMTogIzAwNmVhOTtcclxuJGdyZXkxOiAjYzhkNGQ2O1xyXG4keWVsbG93MTogI2RkZGYwMDtcclxuXHJcbiRjcml0aWNhbC12YWx1ZS1kYXJrOiAjZmJhNjQzOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNyaXRpY2FsLXZhbHVlLWxpZ2h0OiAjZmVjYzhlOyAvLyBUT0RPOiByZW1vdmUgaXRcclxuJGNhbGVuZGFyLXllbGxvdzogI2VmZWZiMDsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcbiRiYWQtdmFsdWUtZGFyazogI2ZmNjc1ODsgLy8gVE9ETzogcmVtb3ZlIGl0XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4kYm9yZGVyLXJhZGl1czogNHB4O1xyXG4kYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuJGJvcmRlci13aWR0aDogMXB4O1xyXG4kZm9udC1mYW1pbHk6IFwiTGF0b0xhdGluV2ViXCI7XHJcbiRmb250LXNpemU6IDAuODc1cmVtO1xyXG4kZm9udC13ZWlnaHQ6IDQwMDtcclxuJGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcclxuJG1hcmdpbi12YWx1ZTogOHB4O1xyXG4kcGFnZS1tYXgtd2lkdGg6IDEzNjZweDtcclxuJGF0dHJpYnV0ZXMtY29sdW1uLXdpZHRoLTQ6IDQ7XHJcbiRhdHRyaWJ1dGVzLWNvbHVtbi13aWR0aC0zOiAzO1xyXG4kYXR0cmlidXRlcy1jb2x1bW4td2lkdGgtMjogMjtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiRsZWZ0LXNpZGViYXItd2lkdGgtLWNvbGxhcHNlZDogNTBweDtcclxuJGxlZnQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tY29sbGFwc2VkOiA1MHB4O1xyXG4kcmlnaHQtc2lkZWJhci13aWR0aC0tZXhwYW5kZWQ6IDIyMHB4O1xyXG4kdG9wYmFyLWhlaWdodDogNDBweDtcclxuJG1haW5iYXItYm9yZGVyLWNvbG9yOiBkYXJrZW4oJHNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yLCA1JSk7XHJcbiRtYWluYmFyLWJvcmRlci13aWR0aDogMnB4O1xyXG4kcGFnZS1oZWFkZXItaGVpZ2h0OiA1LjVyZW07XHJcbiRmb3JtLWNvbnRyb2wtaGVpZ2h0OiAyLjVyZW07XHJcbiRjaGVja2JveC1oZWlnaHQ6IDEuMjVyZW07XHJcbiRyYWRpb2J1dHRvbi1oZWlnaHQ6IDEuMjVyZW07XHJcbiJdfQ== */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { ColumnAlignment, TableDataSource } from '../../../shared/components/table/table-data-source';\r\nimport { AWPropertiesConstants } from '../../../shared/constants/aw-properties-constants';\r\nimport { BidoFunctionTypeConstants } from '../../../shared/constants/bido-function-type-constants';\r\nimport { BidtStockMvtTypeConstant } from '../../../shared/constants/bidt-stock-mvt-type-constants';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { GenericPropertyConstants } from '../../../shared/constants/generic-property-constants';\r\nimport { ComponentOpenMode } from '../../../shared/enums/component-open-mode.enum';\r\nimport { PropertiesService } from '../../../shared/services/properties.service';\r\nimport { SerializationService } from '../../../shared/services/serialization.service';\r\nimport { SessionService } from '../../../shared/services/session.service';\r\nimport { TabService } from '../../../shared/services/tab.service';\r\nimport { CalculateWorkOrderImput } from '../../../shared/types/api-input-types/work-order/calculate-work-order-input.interface';\r\nimport { ProcReqItemAndQtyIndicatorsDTO } from '../../../shared/types/api-output-types/product-structure-management/proc-req-item-and-qty-indicators-dto';\r\nimport { ProcurementRequestAndIndicatorsOutputDTO } from '../../../shared/types/api-output-types/product-structure-management/procurement-request-and-indicators-output-dto';\r\nimport { BidmProjectDTOId } from '../../../shared/types/api-types/bidm-project-dto-id.interface';\r\nimport { BidmProjectDTO } from '../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../shared/types/api-types/bidm-work-order-dto.interface';\r\nimport { BidtProcReqItemDTO } from '../../../shared/types/api-types/bidt-proc-req-item-dto.interface';\r\nimport { BidtProcurementRequestDTO } from '../../../shared/types/api-types/bidt-procurement-request-dto.interface';\r\nimport { BidtTorItemDTO } from '../../../shared/types/api-types/bidt-tor-item-dto.interface';\r\nimport { BidtTransferOrderDTO } from '../../../shared/types/api-types/bidt-transfer-order-dto.interface';\r\nimport { BidtWarehouseDTO } from '../../../shared/types/api-types/bidt-warehouse-dto.interface';\r\nimport { GenericComponent } from '../../../shared/types/generic-component';\r\nimport { LabelValue } from '../../../shared/types/label-value.interface';\r\nimport { PageComponentData } from '../../../shared/types/page-component-data.interface';\r\nimport { ListUtils } from '../../../shared/utils/list-utils';\r\nimport { LogisticalUtils } from '../../../shared/utils/logistic-utils';\r\nimport { NumberUtils } from '../../../shared/utils/number-utils';\r\nimport { ObjectUtils } from '../../../shared/utils/object-utils';\r\nimport { StringUtils } from '../../../shared/utils/string-utils';\r\nimport { LogisticsService } from '../../logistics/logistics.service';\r\n\r\nimport { ProcurementRequestsTableService } from './procurement-requests-table.service';\r\n\r\nexport interface ProcReqItemAndQtyRow {\r\n  procurementRequestId?: number;\r\n  id?: number;\r\n  procurementRequest?: string;\r\n  procurementRequestDescription?: string;\r\n  referenceDocument?: string;\r\n  referenceDocumentDesc?: string;\r\n  recepient?: string;\r\n  recepientDesc?: string;\r\n  materials?: string;\r\n  materialsDesc?: string;\r\n  requestedQuantity?: string;\r\n  status?: string;\r\n  statusDate?: Date;\r\n  statusDesc?: Date;\r\n  expectedOn?: Date;\r\n  criticity?: string;\r\n  numberOfRecords?: number;\r\n  servedMaterial?: number;\r\n  reservedMaterial?: number;\r\n  availableQuantity?: string;\r\n  servedNb?: number;\r\n  isServed?: boolean;\r\n  ok?: boolean;\r\n  nok?: boolean;\r\n  warning?: boolean;\r\n  bidtProcReqItem?: BidtProcReqItemDTO;\r\n  notReversedNb?: number;\r\n  reversedNb?: number;\r\n  _obj: ProcurementRequestAndIndicatorsOutputDTO;\r\n}\r\n\r\n@Component({\r\n  selector: 'aw-procurement-requests-table',\r\n  styleUrls: ['./procurement-requests-table.component.scss'],\r\n  templateUrl: './procurement-requests-table.component.html'\r\n})\r\nexport class ProcurementRequestsTableComponent extends GenericComponent implements OnInit {\r\n  @Input()\r\n  public statusState: boolean;\r\n\r\n  @Input()\r\n  public set workOrder(workOrder: BidmWorkOrderDTO) {\r\n    if (!!workOrder) {\r\n      this.bidmWorkOrderFromInput = workOrder;\r\n      this.bidmWorkOrder = workOrder;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set workPackages(workPackagesDTO: BidmProjectDTO[]) {\r\n    if (!ListUtils.isNullOrEmpty(workPackagesDTO)) {\r\n      this.workPackageDTOIdsFromInput = workPackagesDTO.map((workPackageDTO: BidmProjectDTO) => {\r\n        return {\r\n          projectId: workPackageDTO.projectId as string\r\n        };\r\n      });\r\n    }\r\n    this.loadData();\r\n  }\r\n\r\n  @Input()\r\n  public set workPackageIds(workPackagesId: string[]) {\r\n    if (!ListUtils.isNullOrEmpty(workPackagesId)) {\r\n      this.workPackageDTOIdsFromInput = workPackagesId.map((workPackageId: string) => {\r\n        return {\r\n          projectId: workPackageId as string\r\n        };\r\n      });\r\n    }\r\n    this.loadData();\r\n  }\r\n\r\n  @Input()\r\n  public set procurementRequests(procurementRequests: ProcurementRequestAndIndicatorsOutputDTO[]) {\r\n    if (!!procurementRequests) {\r\n      this.procurementRequestsFromInput = procurementRequests;\r\n    }\r\n    this.loadData();\r\n  }\r\n\r\n  @Input()\r\n  public set requestManagementKey(requesteKey: string) {\r\n    if (!!requesteKey) {\r\n      this.initRequestManagementLabel(requesteKey);\r\n    }\r\n  }\r\n  @Output()\r\n  public askParentRefresh: EventEmitter<void>;\r\n\r\n  public readonly component: typeof ProcurementRequestsTableComponent;\r\n  public awPropertiesConstants: typeof AWPropertiesConstants;\r\n\r\n  public showProcurementRequestDialog: boolean;\r\n\r\n  public procurementRequestStatusList: LabelValue<string>[];\r\n  public procurementRequestTypes: LabelValue<string>[];\r\n\r\n  public originalProcReqRow: ProcReqItemAndQtyRow[];\r\n  public procReqItemsTableDataSource: TableDataSource<ProcReqItemAndQtyRow>;\r\n  public procurementRequestAndQuantitys: ProcurementRequestAndIndicatorsOutputDTO[];\r\n  public procurementRequest: BidtProcurementRequestDTO[];\r\n\r\n  public bidmProjectDTO: BidmProjectDTO;\r\n  public woStatus: string;\r\n  public bidmWorkOrder: BidmWorkOrderDTO;\r\n  public bidmWorkOrderFromInput: BidmWorkOrderDTO;\r\n  public workPackageDTOIdsFromInput: BidmProjectDTOId[];\r\n\r\n  public procurementRequestsFromInput: ProcurementRequestAndIndicatorsOutputDTO[];\r\n\r\n  public stockMvtTableFiltersVisible: boolean = false;\r\n\r\n  public filtersAvailabilityDefaultList: SelectItem[];\r\n  public procReqItemFiltersAvailabilityList: number[];\r\n  private readonly okKey = 1;\r\n  private readonly warningKey = 2;\r\n  private readonly nOkKey = 3;\r\n\r\n  public wpFiltersList: SelectItem[];\r\n  public selectedProcReqFilterWPValue: number;\r\n\r\n  public procReqItemStatusList: SelectItem[];\r\n  public selectedProcReqFilterStatusValue: string | undefined;\r\n\r\n  public requestManagementLabel: string;\r\n\r\n  private readonly defaultRequestManagementKey = 'requestManagement';\r\n\r\n  public constructor(\r\n    private readonly serializationService: SerializationService,\r\n    private readonly tabService: TabService,\r\n    private readonly sessionService: SessionService,\r\n    private readonly logisticsService: LogisticsService,\r\n    private readonly propertiesService: PropertiesService,\r\n    public translateService: TranslateService,\r\n    private readonly procurementRequestsTableService: ProcurementRequestsTableService\r\n  ) {\r\n    super(ComponentOpenMode.Write);\r\n    this.component = ProcurementRequestsTableComponent;\r\n    this.askParentRefresh = new EventEmitter<void>();\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.init();\r\n  }\r\n\r\n  public init(): void {\r\n    this.initRequestManagementLabel(undefined);\r\n    this.originalProcReqRow = [];\r\n    this.procReqItemFiltersAvailabilityList = [];\r\n    this.awPropertiesConstants = AWPropertiesConstants;\r\n    this.initProcurementRequestsTableDataSource();\r\n  }\r\n\r\n  public initRequestManagementLabel(fromInputKey: string | undefined): void {\r\n    let requestManagementKey = this.defaultRequestManagementKey;\r\n    if (!!fromInputKey) {\r\n      requestManagementKey = fromInputKey;\r\n    }\r\n    const requestManagement = this.getTranslateKey(requestManagementKey);\r\n    this.translateService.get([requestManagement]).subscribe((results) => {\r\n      this.requestManagementLabel = `${results[requestManagement]}`;\r\n    });\r\n  }\r\n\r\n  public loadData(): void {\r\n    this.originalProcReqRow = [];\r\n    this.procReqItemFiltersAvailabilityList = [];\r\n    this.selectedProcReqFilterStatusValue = undefined;\r\n    this.selectedProcReqFilterWPValue = -1;\r\n    this.loadProcurementStatusMap();\r\n    this.loadProcurementTypeMap();\r\n    this.initProcurementRequestsTableDataSource();\r\n    this.loadProcurementRequestAndQuantity();\r\n    this.setStockMvtTableFiltersAvailabilityList();\r\n  }\r\n\r\n  public getComponentName(): string {\r\n    return ComponentConstants.MAI_PROCUREMENT_REQUESTS_TABLE;\r\n  }\r\n\r\n  public loadProcurementStatusMap(): void {\r\n    this.procurementRequestStatusList = [];\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_STATUS_MAP).subscribe((res) => {\r\n      this.procurementRequestStatusList = res;\r\n      this.procReqItemStatusList = res;\r\n    });\r\n  }\r\n\r\n  public loadProcurementTypeMap(): void {\r\n    this.procurementRequestTypes = [];\r\n    this.propertiesService.getValue(GenericPropertyConstants.PROCUREMENT_REQUEST_TYPE_MAP).subscribe((res) => {\r\n      this.procurementRequestTypes = res;\r\n    });\r\n  }\r\n\r\n  public getProcurementRequestAndQuantityAsObservable(\r\n    bidmWorkOrder: BidmWorkOrderDTO | undefined,\r\n    workPackageDTOIdsTab: BidmProjectDTOId[] | undefined\r\n  ): Observable<ProcurementRequestAndIndicatorsOutputDTO[]> {\r\n    return this.procurementRequestsTableService.findProcReqItemsAndStockQuantityIndicators(\r\n      bidmWorkOrder,\r\n      workPackageDTOIdsTab\r\n    );\r\n  }\r\n\r\n  public loadProcurementRequestAndQuantity(): void {\r\n    if (!ListUtils.isNullOrEmpty(this.procurementRequestsFromInput)) {\r\n      this.loadDataOnProcReqReception(this.procurementRequestsFromInput);\r\n    } else if (!!this.workPackageDTOIdsFromInput) {\r\n      this.procurementRequestsTableService\r\n        .findProcReqItemsAndStockQuantityIndicators(undefined, this.workPackageDTOIdsFromInput)\r\n        .subscribe((results: ProcurementRequestAndIndicatorsOutputDTO[]) => {\r\n          this.procurementRequestsFromInput = results;\r\n          this.loadDataOnProcReqReception(results);\r\n        });\r\n    }\r\n  }\r\n\r\n  private loadDataOnProcReqReception(results: ProcurementRequestAndIndicatorsOutputDTO[]) {\r\n    this.procReqItemsTableDataSource.deleteDataSelection();\r\n    this.procReqItemsTableDataSource.setData([]);\r\n    results.forEach((elt: ProcurementRequestAndIndicatorsOutputDTO) => {\r\n      const procReqRow: ProcReqItemAndQtyRow[] = this.createProcReqItemRow(elt);\r\n      this.procReqItemsTableDataSource.addData(procReqRow);\r\n      this.setWPfiltersList();\r\n    });\r\n  }\r\n\r\n  public createProcReqItemRow(procurementRequest: ProcurementRequestAndIndicatorsOutputDTO): ProcReqItemAndQtyRow[] {\r\n    let servedMaterialNb = 0;\r\n    let reservedMaterialNb = 0;\r\n    if (!ListUtils.isNullOrEmpty(procurementRequest.procReqItemsAndQtyIndicatorsDTO)) {\r\n      const stockMvts = procurementRequest.procReqItemsAndQtyIndicatorsDTO[0].workshopEntries;\r\n\r\n      if (stockMvts) {\r\n        servedMaterialNb = stockMvts\r\n          .filter(\r\n            (stockMvt) =>\r\n              stockMvt.mvtStatus === AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY &&\r\n              ((stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.RECEIPT &&\r\n                (procurementRequest.bidtWarehouseReceipt as BidtWarehouseDTO).whCategory ===\r\n                  AWPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE) ||\r\n                (stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.WORKSHOP_ENTRY &&\r\n                  (procurementRequest.bidtWarehouseReceipt as BidtWarehouseDTO).whCategory ===\r\n                    AWPropertiesConstants.WAREHOUSE_CATEGORY_WORKSHOP))\r\n          )\r\n          .filter((stockMvt) => stockMvt.stockMvtQuantity)\r\n          .map((stockMvt) => NumberUtils.fromString(stockMvt.stockMvtQuantity as string))\r\n          .reduce((a, b) => a + b, 0);\r\n\r\n        reservedMaterialNb = stockMvts\r\n          .filter(\r\n            (stockMvt) =>\r\n              stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_EXECUTED_KEY &&\r\n              stockMvt.mvtStatus !== AWPropertiesConstants.MM_MVT_STATUS_CANCELED_KEY &&\r\n              (stockMvt.stockMvtSn || stockMvt.stockMvtBatchNumber) &&\r\n              ((stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.RECEIPT &&\r\n                (procurementRequest.bidtWarehouseReceipt as BidtWarehouseDTO).whCategory ===\r\n                  AWPropertiesConstants.WAREHOUSE_CATEGORY_WAREHOUSE) ||\r\n                (stockMvt.bidtStockMvtTypeId === BidtStockMvtTypeConstant.WORKSHOP_ENTRY &&\r\n                  (procurementRequest.bidtWarehouseReceipt as BidtWarehouseDTO).whCategory ===\r\n                    AWPropertiesConstants.WAREHOUSE_CATEGORY_WORKSHOP))\r\n          )\r\n          .filter((stockMvt) => stockMvt.stockMvtQuantity)\r\n          .map((stockMvt) => NumberUtils.fromString(stockMvt.stockMvtQuantity as string))\r\n          .reduce((a, b) => a + b, 0);\r\n      }\r\n    }\r\n    const bidtProcReqItems = procurementRequest.procReqItemsAndQtyIndicatorsDTO as BidtProcReqItemDTO[];\r\n    procurementRequest.bidtProcReqItems = bidtProcReqItems;\r\n    const bidtProcurementRequestDTO: BidtProcurementRequestDTO = {\r\n      ...procurementRequest,\r\n      ...bidtProcReqItems\r\n    };\r\n    const servedIndicators = LogisticalUtils.getServedIndicators(bidtProcurementRequestDTO);\r\n\r\n    return procurementRequest.procReqItemsAndQtyIndicatorsDTO.map(\r\n      (procReqItemsAndQtyIndicatorsDTO: ProcReqItemAndQtyIndicatorsDTO) => {\r\n        let procReqItemAndQtyRow: ProcReqItemAndQtyRow = {\r\n          procurementRequestId: procurementRequest.id,\r\n          id: procReqItemsAndQtyIndicatorsDTO.id,\r\n          procurementRequest: procurementRequest.procCode,\r\n          procurementRequestDescription: procurementRequest.procType,\r\n          referenceDocument: !!procurementRequest.bidmWorkOrder ? procurementRequest.bidmWorkOrder.woCode : '',\r\n          referenceDocumentDesc: !!procurementRequest.bidmWorkOrder\r\n            ? procurementRequest.bidmWorkOrder.woDescription\r\n            : '',\r\n          recepient: !!procurementRequest.bidtSiteReceipt ? procurementRequest.bidtSiteReceipt.siteName : '',\r\n          recepientDesc: !!procurementRequest.bidtWarehouseReceipt\r\n            ? procurementRequest.bidtWarehouseReceipt.whName\r\n            : '',\r\n          status: procurementRequest.procStatus,\r\n          statusDate: procurementRequest.statusDate,\r\n          statusDesc: procurementRequest.requestedDate,\r\n          expectedOn: procurementRequest.requestedDate,\r\n          criticity: procurementRequest.criticality,\r\n          servedMaterial: servedMaterialNb,\r\n          reservedMaterial: reservedMaterialNb,\r\n          servedNb: servedIndicators ? servedIndicators.servedNb : 0,\r\n          isServed: servedIndicators ? servedIndicators.isServed : false,\r\n          materials: procReqItemsAndQtyIndicatorsDTO.birePn ? procReqItemsAndQtyIndicatorsDTO.birePn.pnCode : undefined,\r\n          materialsDesc: procReqItemsAndQtyIndicatorsDTO.birePn\r\n            ? procReqItemsAndQtyIndicatorsDTO.birePn.articleDesignation\r\n            : undefined,\r\n          requestedQuantity: procReqItemsAndQtyIndicatorsDTO.requestedQuantity\r\n            ? NumberUtils.roundNumber(\r\n                NumberUtils.fromString(procReqItemsAndQtyIndicatorsDTO.requestedQuantity),\r\n                2\r\n              ).toString()\r\n            : '',\r\n          notReversedNb: 0,\r\n          reversedNb: 0,\r\n          bidtProcReqItem: procReqItemsAndQtyIndicatorsDTO as BidtProcReqItemDTO,\r\n          _obj: procurementRequest\r\n        };\r\n\r\n        // Get procurement request item rows\r\n        const procurementRequestItems = LogisticalUtils.buildProcurementRequestItemsRows(procReqItemAndQtyRow._obj);\r\n\r\n        // Search transfer order by bidtProcurementRequestItemId\r\n        const reverseObservables$ = procurementRequestItems\r\n          .map((item) => item.obj.id)\r\n          .map((itemId) =>\r\n            this.logisticsService.findTransferOrdersByCriteria({\r\n              transferOrder: { bidtProcReqItemId: itemId },\r\n              transferOrderStatusExcluded: []\r\n            })\r\n          );\r\n\r\n        forkJoin(reverseObservables$).subscribe((results) => {\r\n          const transferOrder = results\r\n            .reduce((acc, x) => acc.concat(x), [])\r\n            .map((result) => result.bidtTransferOrder)\r\n            .find(\r\n              (to) => (to as BidtTransferOrderDTO).torType === AWPropertiesConstants.TRANSFER_ORDER_TYPE_REVERSE_MVT\r\n            );\r\n\r\n          if (transferOrder) {\r\n            const reverseProcurementRequestItems = (transferOrder.bidtTorItems as BidtTorItemDTO[]).map((torItem) => {\r\n              // Compute reverse item progress\r\n              const progress = LogisticalUtils.computeProcurementRequestReverseItemProgress(torItem.pickingMovements);\r\n\r\n              return {\r\n                obj: torItem,\r\n                allNb: progress.allNb,\r\n                reversedNb: progress.reversedNb,\r\n                notReversedNb: progress.notReversedNb,\r\n                warehouseName: transferOrder.bidtWarehouseIssue ? transferOrder.bidtWarehouseIssue.whName : undefined,\r\n                siteName: transferOrder.bidtSiteIssue ? transferOrder.bidtSiteIssue.siteName : undefined\r\n              };\r\n            });\r\n\r\n            // Compute transfer ordes's reverse items progress\r\n            let spareClassResversedNb = 0;\r\n            let spareClassNotReversedNb = 0;\r\n            reverseProcurementRequestItems.forEach((item) => {\r\n              spareClassResversedNb += item.reversedNb;\r\n              spareClassNotReversedNb += item.notReversedNb;\r\n            });\r\n            procReqItemAndQtyRow.notReversedNb = spareClassNotReversedNb;\r\n            procReqItemAndQtyRow.reversedNb = spareClassResversedNb;\r\n            const tmp = this.procReqItemsTableDataSource.dataSrc.find((d) => d.id === procReqItemAndQtyRow.id);\r\n            if (!!tmp) {\r\n              this.procReqItemsTableDataSource.replaceData(tmp, procReqItemAndQtyRow);\r\n            }\r\n          }\r\n        });\r\n\r\n        if (AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CLOSED !== (procurementRequest.procStatus as string)) {\r\n          const qLabel = this.getTranslateKey('quantityQ');\r\n          this.translateService.get([qLabel]).subscribe((results) => {\r\n            const availableQuantity = `${results[qLabel]} = ${procReqItemsAndQtyIndicatorsDTO.availableQuantity}`;\r\n            procReqItemAndQtyRow = {\r\n              ...procReqItemAndQtyRow,\r\n              availableQuantity,\r\n              ok: procReqItemsAndQtyIndicatorsDTO.ok,\r\n              nok: procReqItemsAndQtyIndicatorsDTO.nok,\r\n              warning: procReqItemsAndQtyIndicatorsDTO.warning\r\n            };\r\n          });\r\n        }\r\n\r\n        this.originalProcReqRow.push(procReqItemAndQtyRow);\r\n\r\n        return procReqItemAndQtyRow;\r\n      }\r\n    );\r\n  }\r\n\r\n  public get enableOpenProcurementOnAdd(): boolean {\r\n    return (\r\n      this.procReqItemsTableDataSource.dataSelectionCount === 0 && !!this.bidmWorkOrderFromInput && !this.statusState\r\n    );\r\n  }\r\n\r\n  public get enableOpenProcurementOnEdit(): boolean {\r\n    if (this.procReqItemsTableDataSource.hasDataSelection) {\r\n      const selectedProcurementRequest = this.procReqItemsTableDataSource.dataSelection[0]._obj;\r\n\r\n      return (\r\n        this.procReqItemsTableDataSource.dataSelectionCount === 1 &&\r\n        !!selectedProcurementRequest.bidmWorkOrder &&\r\n        (selectedProcurementRequest.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT ||\r\n          selectedProcurementRequest.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\r\n          selectedProcurementRequest.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_RELEASED) &&\r\n        !this.isReadOpenMode\r\n      );\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public openProcurementRequestDialog(): void {\r\n    if (this.procReqItemsTableDataSource.dataSelectionCount === 1) {\r\n      const selectedProcurementRequest = this.procReqItemsTableDataSource.dataSelection[0]._obj;\r\n      this.bidmWorkOrder = selectedProcurementRequest.bidmWorkOrder as BidmWorkOrderDTO;\r\n      this.woStatus = this.bidmWorkOrder.calculatedStatus as string;\r\n      this.bidmProjectDTO = selectedProcurementRequest.projectDTO;\r\n      this.showProcurementRequestDialog = true;\r\n    } else if (this.procReqItemsTableDataSource.dataSelectionCount === 0) {\r\n      this.bidmWorkOrder = this.bidmWorkOrderFromInput;\r\n      const calculateWorkOrderImput: CalculateWorkOrderImput = {\r\n        workOrderData: this.bidmWorkOrderFromInput,\r\n        fromLineMaintenance: false\r\n      };\r\n      this.procurementRequestsTableService\r\n        .calculateWorkOrderStatus(calculateWorkOrderImput)\r\n        .subscribe((calculateWorkOrderOutput) => {\r\n          this.woStatus = calculateWorkOrderOutput.workOrderDetail.status as string;\r\n          this.procurementRequestsTableService\r\n            .findBidmProject(this.bidmWorkOrderFromInput.projectId as string)\r\n            .subscribe((result: BidmProjectDTO) => {\r\n              this.bidmProjectDTO = result;\r\n              this.showProcurementRequestDialog = true;\r\n            });\r\n        });\r\n    }\r\n  }\r\n\r\n  public getStatusLabel(statusValue: string | undefined): string {\r\n    const matchingStatus = this.procurementRequestStatusList.find((status) => status.value === statusValue);\r\n\r\n    return matchingStatus ? StringUtils.orEmpty(matchingStatus.label) : '';\r\n  }\r\n\r\n  public openProcurementDetails(rowData: ProcReqItemAndQtyRow): void {\r\n    const data: PageComponentData = {\r\n      id: this.tabService.generateId(),\r\n      componentId: ComponentConstants.LOG_PROCUREMENT_REQUEST_FORM,\r\n      objectId:\r\n        rowData && rowData.procurementRequest\r\n          ? this.serializationService.serialize({ id: rowData._obj.id })\r\n          : undefined,\r\n      openMode: ComponentOpenMode.Read\r\n    };\r\n    const labelKey = 'transaction.' + data.componentId;\r\n    this.tabService.open(this.tabService.create(data, labelKey, true));\r\n  }\r\n\r\n  public isDeleteButtonVisible(): boolean {\r\n    return (\r\n      this.procReqItemsTableDataSource.hasDataSelection &&\r\n      this.procReqItemsTableDataSource.dataSelection.reduce((sum, next) => sum && this.isDeletableRow(next), true) &&\r\n      !this.statusState\r\n    );\r\n  }\r\n\r\n  public isDeletableRow(elt: ProcReqItemAndQtyRow): boolean {\r\n    return (\r\n      (elt._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_DRAFT ||\r\n        elt._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED) &&\r\n      !!this.sessionService.loggedUser &&\r\n      elt._obj.statusUser === this.sessionService.loggedUser.login &&\r\n      !this.isReadOpenMode\r\n    );\r\n  }\r\n\r\n  public deleteProcurementRequest(): void {\r\n    forkJoin(\r\n      this.procReqItemsTableDataSource.dataSelection.map((element) => {\r\n        return this.logisticsService.deleteProcurementRequest(\r\n          (element as ProcReqItemAndQtyRow).procurementRequestId as number\r\n        );\r\n      })\r\n    ).subscribe(() => {\r\n      this.procReqItemsTableDataSource.deleteDataSelection();\r\n    });\r\n  }\r\n\r\n  public isCancelButtonVisible(): boolean {\r\n    return (\r\n      this.procReqItemsTableDataSource.hasDataSelection &&\r\n      this.procReqItemsTableDataSource.dataSelection.reduce((sum, next) => sum && this.isCancelableRow(next), true)\r\n    );\r\n  }\r\n\r\n  public isCancelableRow(elt: ProcReqItemAndQtyRow): boolean {\r\n    return (\r\n      (elt._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_SIMULATED ||\r\n        elt._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_PLANNED ||\r\n        elt._obj.procStatus === AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_RELEASED) &&\r\n      this.sessionService.hasUserRightByUseCase(\r\n        BidoFunctionTypeConstants.UC_MM_PROCUREMENT,\r\n        BidoFunctionTypeConstants.DEGREE_MANAGE\r\n      )\r\n    );\r\n  }\r\n\r\n  public cancelProcurementRequest(): void {\r\n    forkJoin(\r\n      this.procReqItemsTableDataSource.dataSelection.map((element) => {\r\n        return this.logisticsService.cancelProcurementRequest(\r\n          (element as ProcReqItemAndQtyRow).procurementRequestId as number\r\n        );\r\n      })\r\n    ).subscribe(() => {\r\n      const rowToUpdateStatusAtCanceled = this.procReqItemsTableDataSource.dataSelection.map((row) => {\r\n        const rowData = row as ProcReqItemAndQtyRow;\r\n\r\n        return this.findProcurementRequestById(rowData.procurementRequestId as number);\r\n      });\r\n      rowToUpdateStatusAtCanceled.forEach((element) => {\r\n        element.procStatus = AWPropertiesConstants.PROCUREMENT_REQUEST_STATUS_CANCELED;\r\n      });\r\n      this.procReqItemsTableDataSource.deleteDataSelection();\r\n      this.loadProcurementRequestAndQuantity();\r\n    });\r\n  }\r\n\r\n  private findProcurementRequestById(id: number): ProcurementRequestAndIndicatorsOutputDTO {\r\n    return this.procurementRequestsFromInput.find(\r\n      (procurementRequestAndIndicatorsOutputDTO: ProcurementRequestAndIndicatorsOutputDTO) =>\r\n        procurementRequestAndIndicatorsOutputDTO.id === id\r\n    ) as ProcurementRequestAndIndicatorsOutputDTO;\r\n  }\r\n\r\n  private initProcurementRequestsTableDataSource(): void {\r\n    this.procReqItemsTableDataSource = new TableDataSource({\r\n      allowMultiSelect: true,\r\n      columns: [\r\n        {\r\n          field: 'procurementRequest',\r\n          translateKey: this.getTranslateKey('procurementRequest'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '13%'\r\n        },\r\n        {\r\n          field: 'recepient',\r\n          translateKey: this.getTranslateKey('recepient'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '11%'\r\n        },\r\n        {\r\n          field: 'materials',\r\n          translateKey: this.getTranslateKey('materials'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '20%'\r\n        },\r\n        {\r\n          field: 'requestedQuantity',\r\n          translateKey: this.getTranslateKey('requestedQuantity'),\r\n          alignment: ColumnAlignment.RIGHT,\r\n          width: '5%'\r\n        },\r\n        {\r\n          field: 'status',\r\n          translateKey: this.getTranslateKey('status'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '9%'\r\n        },\r\n        {\r\n          field: 'statusDate',\r\n          translateKey: this.getTranslateKey('statusDate'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '8%'\r\n        },\r\n        {\r\n          field: 'expectedOn',\r\n          translateKey: this.getTranslateKey('expectedOn'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '8%'\r\n        },\r\n        {\r\n          field: 'criticity',\r\n          translateKey: this.getTranslateKey('criticity'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '8%'\r\n        },\r\n        {\r\n          field: 'progress',\r\n          translateKey: this.getTranslateKey('advancement'),\r\n          alignment: ColumnAlignment.LEFT,\r\n          width: '18%'\r\n        },\r\n        {\r\n          field: 'availableQuantity',\r\n          translateKey: this.getTranslateKey('availableQuantity'),\r\n          alignment: ColumnAlignment.CENTER,\r\n          width: '8%'\r\n        }\r\n      ],\r\n      data: []\r\n    });\r\n  }\r\n\r\n  public openPart(row: ProcReqItemAndQtyRow): void {\r\n    if (row.materials) {\r\n      const data: PageComponentData = {\r\n        componentId: ComponentConstants.ENG_PART_NUMBER_FORM,\r\n        id: this.tabService.generateId(),\r\n        objectId: row.materials,\r\n        openMode: ComponentOpenMode.Read\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public openProcurementManagmentPage(): void {\r\n    if (\r\n      this.procReqItemsTableDataSource.dataSelectionCount === 1 &&\r\n      this.procReqItemsTableDataSource.dataSelection[0]._obj.procReqItemsAndQtyIndicatorsDTO\r\n    ) {\r\n      const data: PageComponentData = {\r\n        id: this.tabService.generateId(),\r\n        componentId: ComponentConstants.LOG_MATERIAL_REQUEST_MANAGEMENT_FORM,\r\n        openMode: ComponentOpenMode.Write,\r\n        objectId: this.serializationService.serialize({\r\n          prId: this.procReqItemsTableDataSource.dataSelection[0]._obj.id,\r\n          prItemId: this.procReqItemsTableDataSource.dataSelection[0]._obj.procReqItemsAndQtyIndicatorsDTO[0].id\r\n        })\r\n      };\r\n      const labelKey = 'transaction.' + data.componentId;\r\n      this.tabService.open(this.tabService.create(data, labelKey, true));\r\n    }\r\n  }\r\n\r\n  public setWPfiltersList(): void {\r\n    const wpKey = this.getTranslateKey('wp');\r\n    const msnKey = this.getTranslateKey('msn');\r\n    this.wpFiltersList = [];\r\n    this.translateService.get([wpKey, msnKey]).subscribe((results) => {\r\n      this.originalProcReqRow.forEach((procReqItemAndQtyRow) => {\r\n        const bidmProjectDTO = procReqItemAndQtyRow._obj.projectDTO;\r\n        procReqItemAndQtyRow._obj.procReqItemsAndQtyIndicatorsDTO.forEach(() => {\r\n          let selectedItem: SelectItem = {\r\n            label: `${results[wpKey]} n°${bidmProjectDTO.projectNumber}`,\r\n            value: procReqItemAndQtyRow.procurementRequestId\r\n          };\r\n          if (bidmProjectDTO.aircraftMsn) {\r\n            selectedItem = {\r\n              label: `${selectedItem.label} | ${results[msnKey]} ${bidmProjectDTO.aircraftMsn}`,\r\n              value: selectedItem.value\r\n            };\r\n          }\r\n          const workPackage = this.wpFiltersList.find((wp) => (wp.value = selectedItem.value));\r\n          if (!ObjectUtils.isDefined(workPackage)) {\r\n            this.wpFiltersList = [...this.wpFiltersList, selectedItem];\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  public setStockMvtTableFiltersAvailabilityList(): void {\r\n    const okKey = this.getTranslateKey('ok');\r\n    const warningKey = this.getTranslateKey('warning');\r\n    const nokKey = this.getTranslateKey('nok');\r\n\r\n    this.translateService\r\n      .get([okKey, warningKey, nokKey])\r\n      .pipe(\r\n        map((results) => {\r\n          return [\r\n            {\r\n              label: results[okKey],\r\n              value: this.okKey\r\n            },\r\n            {\r\n              label: results[warningKey],\r\n              value: this.warningKey\r\n            },\r\n            {\r\n              label: results[nokKey],\r\n              value: this.nOkKey\r\n            }\r\n          ];\r\n        })\r\n      )\r\n      .subscribe((result) => {\r\n        this.filtersAvailabilityDefaultList = result;\r\n        this.procReqItemFiltersAvailabilityList = [this.okKey, this.warningKey, this.nOkKey];\r\n      });\r\n  }\r\n\r\n  public filterStockMvtTableByCriteria(): void {\r\n    let dataToShow: ProcReqItemAndQtyRow[] = [];\r\n    if (!!this.procReqItemFiltersAvailabilityList) {\r\n      this.procReqItemFiltersAvailabilityList.forEach((key: number) => {\r\n        if (key === this.okKey) {\r\n          dataToShow = [...dataToShow, ...this.originalProcReqRow.filter((row) => row.ok as boolean)];\r\n        }\r\n        if (key === this.warningKey) {\r\n          dataToShow = [...dataToShow, ...this.originalProcReqRow.filter((row) => row.warning as boolean)];\r\n        }\r\n        if (key === this.nOkKey) {\r\n          dataToShow = [...dataToShow, ...this.originalProcReqRow.filter((row) => row.nok as boolean)];\r\n        }\r\n      });\r\n    }\r\n\r\n    if (!!this.selectedProcReqFilterStatusValue) {\r\n      let dataStatusFilter: ProcReqItemAndQtyRow[] = [];\r\n      dataStatusFilter = dataToShow.filter(\r\n        (row) => this.selectedProcReqFilterStatusValue === (row._obj.procStatus as string)\r\n      );\r\n\r\n      if (dataStatusFilter.length > 0) {\r\n        dataToShow = [...dataStatusFilter];\r\n      } else if (dataStatusFilter.length === 0) {\r\n        dataToShow = [];\r\n      }\r\n    }\r\n\r\n    if (!!this.selectedProcReqFilterWPValue) {\r\n      let dataWPFilter: ProcReqItemAndQtyRow[] = [];\r\n      dataWPFilter = dataToShow.filter(\r\n        (row) => this.selectedProcReqFilterWPValue === (row.procurementRequestId as number)\r\n      );\r\n\r\n      if (dataWPFilter.length > 0) {\r\n        dataToShow = [...dataWPFilter];\r\n      }\r\n    }\r\n\r\n    dataToShow = dataToShow.reduce(\r\n      (unique, item) => (unique.every((elt) => elt.id !== item.id) ? [...unique, item] : unique),\r\n      [] as ProcReqItemAndQtyRow[]\r\n    );\r\n    this.procReqItemsTableDataSource.setData(dataToShow);\r\n  }\r\n\r\n  public setStockMvtTableFiltersVisible(): void {\r\n    this.stockMvtTableFiltersVisible = !this.stockMvtTableFiltersVisible;\r\n  }\r\n\r\n  public onUpdateProcurementRequest(event: BidtProcurementRequestDTO): void {\r\n    this.askParentRefresh.emit();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CalendarModule } from 'primeng/calendar';\r\nimport { CheckboxModule } from 'primeng/checkbox';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputTextareaModule } from 'primeng/inputtextarea';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\r\nimport { SelectButtonModule } from 'primeng/primeng';\r\nimport { TableModule as PrimeNgTableModule } from 'primeng/table';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\n\r\nimport { AngularCommonSharedModule } from '../../../shared/angular-common-shared.module';\r\nimport { AngularGenericTemplatesSharedModule } from '../../../shared/angular-generic-templates-shared-module';\r\nimport { AircraftMaintenanceApi } from '../../../shared/api/aircraft-maintenance.api';\r\nimport { AMProjectManagementApi } from '../../../shared/api/am-project-management.api';\r\nimport { BidtProcurementRequestApi } from '../../../shared/api/bidt-procurement-request.api';\r\nimport { AppCommonSharedModule } from '../../../shared/app-common-shared.module';\r\nimport { TableModule } from '../../../shared/components/table/table.module';\r\nimport { DynamicComponentLoaderModule } from '../../dynamic-component-loader/dynamic-component-loader.module';\r\nimport { ProcurementRequestPopupModule } from '../../logistics/procurement-request/search/procurement-request-popup/procurement-request-popup.module';\r\n\r\nimport { MaterialAvailabilityIndicatorsComponent } from './material-availability-indicators/material-availability-indicators.component';\r\nimport { ProcurementRequestsTableComponent } from './procurement-requests-table.component';\r\nimport { ProcurementRequestsTableService } from './procurement-requests-table.service';\r\n/******************************************************************************\r\n * Modules\r\n *************************************************************************** */\r\n\r\nconst EXTERNAL_MODULES = [\r\n  CalendarModule,\r\n  FileUploadModule,\r\n  PrimeNgTableModule,\r\n  DialogModule,\r\n  InputTextareaModule,\r\n  MessageModule,\r\n  DropdownModule,\r\n  CheckboxModule,\r\n  TooltipModule,\r\n  OverlayPanelModule,\r\n  SelectButtonModule\r\n];\r\n\r\nconst INTERNAL_MODULES = [TableModule, ProcurementRequestPopupModule];\r\n\r\n/******************************************************************************\r\n * Components\r\n *************************************************************************** */\r\nconst COMPONENTS = [ProcurementRequestsTableComponent, MaterialAvailabilityIndicatorsComponent];\r\n\r\nconst DYNAMIC_COMPONENTS = [];\r\n\r\n/******************************************************************************\r\n * Services\r\n *************************************************************************** */\r\n\r\nconst SERVICES = [ProcurementRequestsTableService];\r\n\r\nexport const API_PROVIDERS = [BidtProcurementRequestApi, AMProjectManagementApi, AircraftMaintenanceApi];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS, ...DYNAMIC_COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n  imports: [\r\n    AngularCommonSharedModule,\r\n    AngularGenericTemplatesSharedModule,\r\n    AppCommonSharedModule,\r\n    TableModule,\r\n    DynamicComponentLoaderModule.forChild(DYNAMIC_COMPONENTS),\r\n    ...EXTERNAL_MODULES,\r\n    ...INTERNAL_MODULES\r\n  ],\r\n  providers: [...API_PROVIDERS, ...SERVICES]\r\n})\r\nexport class ProcurementRequestsTableModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AircraftMaintenanceApi } from '../../../shared/api/aircraft-maintenance.api';\r\nimport { AMProjectManagementApi } from '../../../shared/api/am-project-management.api';\r\nimport { BidtProcurementRequestApi } from '../../../shared/api/bidt-procurement-request.api';\r\nimport { ComponentConstants } from '../../../shared/constants/component-constants';\r\nimport { AbstractAwHttpService } from '../../../shared/http/abstract-aw-http';\r\nimport { AppConfigService } from '../../../shared/services/app-config.service';\r\nimport { FindMaterialAvailabilityInput } from '../../../shared/types/api-input-types/logistic/find-proc-req-items-and-stock-quantity-input.interface';\r\nimport { CalculateWorkOrderImput } from '../../../shared/types/api-input-types/work-order/calculate-work-order-input.interface';\r\nimport { CalculateWorkOrderOutput } from '../../../shared/types/api-output-types/calculate-work-order-output.interface';\r\nimport { ProcurementRequestAndIndicatorsOutputDTO } from '../../../shared/types/api-output-types/product-structure-management/procurement-request-and-indicators-output-dto';\r\nimport { BidmProjectDTOId } from '../../../shared/types/api-types/bidm-project-dto-id.interface';\r\nimport { BidmProjectDTO } from '../../../shared/types/api-types/bidm-project-dto.interface';\r\nimport { BidmWorkOrderDTO } from '../../../shared/types/api-types/bidm-work-order-dto.interface';\r\n\r\n@Injectable()\r\nexport class ProcurementRequestsTableService extends AbstractAwHttpService {\r\n  public readonly componentName = ComponentConstants.MAI_PROCUREMENT_REQUESTS_TABLE;\r\n  public constructor(\r\n    http: HttpClient,\r\n    appConfigService: AppConfigService,\r\n    private readonly procurementRequestApi: BidtProcurementRequestApi,\r\n    private readonly aMProjectManagementApi: AMProjectManagementApi,\r\n    private readonly aircraftMaintenanceApi: AircraftMaintenanceApi,\r\n    protected readonly translateService: TranslateService\r\n  ) {\r\n    super(http, appConfigService);\r\n  }\r\n\r\n  public findProcReqItemsAndStockQuantityIndicators(\r\n    bidmWorkOrder: BidmWorkOrderDTO | undefined,\r\n    workPackageDTOIdsTab: BidmProjectDTOId[] | undefined\r\n  ): Observable<ProcurementRequestAndIndicatorsOutputDTO[]> {\r\n    let input: FindMaterialAvailabilityInput = {};\r\n    if (!!bidmWorkOrder) {\r\n      input = {\r\n        workOrdersIds: [{ woId: bidmWorkOrder.woId as string, projectId: bidmWorkOrder.projectId as string }]\r\n      };\r\n    }\r\n    if (!!workPackageDTOIdsTab && workPackageDTOIdsTab.length > 0) {\r\n      input = { ...input, workPackagesIds: workPackageDTOIdsTab };\r\n    }\r\n\r\n    return super.post<FindMaterialAvailabilityInput, ProcurementRequestAndIndicatorsOutputDTO[]>(\r\n      this.procurementRequestApi.findProcurementRequestStockQuantityIndicators,\r\n      input\r\n    );\r\n  }\r\n\r\n  public findBidmProject(projectId: string): Observable<BidmProjectDTO> {\r\n    return super.post<string, BidmProjectDTO>(this.aMProjectManagementApi.findBidmProject, projectId);\r\n  }\r\n\r\n  public calculateWorkOrderStatus(input: CalculateWorkOrderImput): Observable<CalculateWorkOrderOutput> {\r\n    return super.post<CalculateWorkOrderImput, CalculateWorkOrderOutput>(\r\n      this.aircraftMaintenanceApi.calculateWorkOrderStatus,\r\n      input\r\n    );\r\n  }\r\n}\r\n","export class BidtStockMvtTypeConstant {\r\n  public static readonly RECEIPT = 10;\r\n  public static readonly STORAGE = 11;\r\n  public static readonly LOCATION_CHANGE = 12;\r\n  public static readonly QUARANTINE = 13;\r\n  public static readonly CROSS_DOCKING = 18;\r\n  public static readonly PICKING = 19;\r\n  public static readonly SHIPMENT = 20;\r\n  public static readonly BATCH_SPLITTING_PLUS = 22;\r\n  public static readonly BATCH_SPLITTING_MINUS = 23;\r\n  public static readonly INVENTORY_CORRECTION_PLUS = 24;\r\n  public static readonly INVENTORY_CORRECTION_MINUS = 25;\r\n  public static readonly WORKSHOP_ENTRY = 30;\r\n  public static readonly INSTALLATION = 40;\r\n  public static readonly REMOVAL = 50;\r\n  public static readonly WORKSHOP_ISSUE = 60;\r\n}\r\n","export class ControlConfigConstants {\r\n  public static readonly ICON_GREEN: string = '9';\r\n  public static readonly ICON_RED: string = '10';\r\n  public static readonly ICON_YELLOW: string = '11';\r\n  public static readonly ICON_NONE: string = '12';\r\n\r\n  public static readonly CUSTOMIZATION_STATUS_NONE : string = '0';\r\n  public static readonly CUSTOMIZATION_STATUS_OK_ASSUMED : string = '10';\r\n  public static readonly CUSTOMIZATION_STATUS_OK_CUSTOMIZED : string = '11';\r\n  public static readonly CUSTOMIZATION_STATUS_WARNING_NO_ALTERNATIVE : string = '21';\r\n\r\n  public static readonly ICON_GREEN_LIGHT_CODE: string = '0';\r\n  public static readonly ICON_RED_LIGHT_CODE: string = '1';\r\n  public static readonly ICON_YELLOW_LIGHT_CODE: string = '2';\r\n  public static readonly ICON_NONE_LIGHT_CODE: string = '3';\r\n  public static readonly ICON_EQUIPMENT_CODE: string = '5';\r\n  public static readonly ICON_GREEN_ROUND_CODE: string = '6';\r\n  public static readonly ICON_ITEM_CODE: string = '4';\r\n  public static readonly ICON_YELLOW_TRIANGLE_CODE: string = '7';\r\n  public static readonly ICON_RED_SQUARE_CODE: string = '8';\r\n  public static readonly ICON_GREEN_LED_CODE: string = '9';\r\n  public static readonly ICON_YELLOW_LED_CODE: string = '11';\r\n  public static readonly ICON_RED_LED_CODE: string = '10';\r\n  public static readonly ICON_NONE_LED_CODE: string = '12';\r\n\r\n  public static readonly OME_CHECK_EQUIPMENT_MISSING: string = 'MISSING';\r\n  public static readonly OME_CHECK_EQUIPMENT_TO_REMOVE: string = 'REMOVE';\r\n  public static readonly OME_CHECK_EQUIPMENT_TO_REPLACE: string = 'REPLACE';\r\n\r\n  public static readonly OME_CHECK_CORRECTIVE_ACTION_SUGGESTED: string = 'SUGGESTED';\r\n  public static readonly OME_CHECK_CORRECTIVE_ACTION_VALIDATED: string = 'VALIDATED';\r\n  public static readonly OME_CHECK_CORRECTIVE_ACTION_ON_GOING: string = 'ON_GOING';\r\n}\r\n"],"sourceRoot":""}